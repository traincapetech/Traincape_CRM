var JT=Object.defineProperty;var QT=(t,e,r)=>e in t?JT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var bt=(t,e,r)=>QT(t,typeof e!="symbol"?e+"":e,r);function ZT(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Hg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hm={exports:{}},Ac={},Wm={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function eE(){if(Bv)return Dt;Bv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(Y){return Y===null||typeof Y!="object"?null:(Y=p&&Y[p]||Y["@@iterator"],typeof Y=="function"?Y:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function v(Y,R,U){this.props=Y,this.context=R,this.refs=b,this.updater=U||x}v.prototype.isReactComponent={},v.prototype.setState=function(Y,R){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,R,"setState")},v.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function C(){}C.prototype=v.prototype;function E(Y,R,U){this.props=Y,this.context=R,this.refs=b,this.updater=U||x}var j=E.prototype=new C;j.constructor=E,w(j,v.prototype),j.isPureReactComponent=!0;var D=Array.isArray,T=Object.prototype.hasOwnProperty,M={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function P(Y,R,U){var z,k={},ce=null,ee=null;if(R!=null)for(z in R.ref!==void 0&&(ee=R.ref),R.key!==void 0&&(ce=""+R.key),R)T.call(R,z)&&!_.hasOwnProperty(z)&&(k[z]=R[z]);var he=arguments.length-2;if(he===1)k.children=U;else if(1<he){for(var ye=Array(he),ke=0;ke<he;ke++)ye[ke]=arguments[ke+2];k.children=ye}if(Y&&Y.defaultProps)for(z in he=Y.defaultProps,he)k[z]===void 0&&(k[z]=he[z]);return{$$typeof:t,type:Y,key:ce,ref:ee,props:k,_owner:M.current}}function I(Y,R){return{$$typeof:t,type:Y.type,key:R,ref:Y.ref,props:Y.props,_owner:Y._owner}}function K(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function q(Y){var R={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(U){return R[U]})}var H=/\/+/g;function oe(Y,R){return typeof Y=="object"&&Y!==null&&Y.key!=null?q(""+Y.key):R.toString(36)}function Q(Y,R,U,z,k){var ce=typeof Y;(ce==="undefined"||ce==="boolean")&&(Y=null);var ee=!1;if(Y===null)ee=!0;else switch(ce){case"string":case"number":ee=!0;break;case"object":switch(Y.$$typeof){case t:case e:ee=!0}}if(ee)return ee=Y,k=k(ee),Y=z===""?"."+oe(ee,0):z,D(k)?(U="",Y!=null&&(U=Y.replace(H,"$&/")+"/"),Q(k,R,U,"",function(ke){return ke})):k!=null&&(K(k)&&(k=I(k,U+(!k.key||ee&&ee.key===k.key?"":(""+k.key).replace(H,"$&/")+"/")+Y)),R.push(k)),1;if(ee=0,z=z===""?".":z+":",D(Y))for(var he=0;he<Y.length;he++){ce=Y[he];var ye=z+oe(ce,he);ee+=Q(ce,R,U,ye,k)}else if(ye=g(Y),typeof ye=="function")for(Y=ye.call(Y),he=0;!(ce=Y.next()).done;)ce=ce.value,ye=z+oe(ce,he++),ee+=Q(ce,R,U,ye,k);else if(ce==="object")throw R=String(Y),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return ee}function O(Y,R,U){if(Y==null)return Y;var z=[],k=0;return Q(Y,z,"","",function(ce){return R.call(U,ce,k++)}),z}function W(Y){if(Y._status===-1){var R=Y._result;R=R(),R.then(function(U){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=U)},function(U){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=U)}),Y._status===-1&&(Y._status=0,Y._result=R)}if(Y._status===1)return Y._result.default;throw Y._result}var ne={current:null},X={transition:null},Z={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:X,ReactCurrentOwner:M};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Dt.Children={map:O,forEach:function(Y,R,U){O(Y,function(){R.apply(this,arguments)},U)},count:function(Y){var R=0;return O(Y,function(){R++}),R},toArray:function(Y){return O(Y,function(R){return R})||[]},only:function(Y){if(!K(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Dt.Component=v,Dt.Fragment=r,Dt.Profiler=s,Dt.PureComponent=E,Dt.StrictMode=n,Dt.Suspense=d,Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Dt.act=ae,Dt.cloneElement=function(Y,R,U){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var z=w({},Y.props),k=Y.key,ce=Y.ref,ee=Y._owner;if(R!=null){if(R.ref!==void 0&&(ce=R.ref,ee=M.current),R.key!==void 0&&(k=""+R.key),Y.type&&Y.type.defaultProps)var he=Y.type.defaultProps;for(ye in R)T.call(R,ye)&&!_.hasOwnProperty(ye)&&(z[ye]=R[ye]===void 0&&he!==void 0?he[ye]:R[ye])}var ye=arguments.length-2;if(ye===1)z.children=U;else if(1<ye){he=Array(ye);for(var ke=0;ke<ye;ke++)he[ke]=arguments[ke+2];z.children=he}return{$$typeof:t,type:Y.type,key:k,ref:ce,props:z,_owner:ee}},Dt.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:i,_context:Y},Y.Consumer=Y},Dt.createElement=P,Dt.createFactory=function(Y){var R=P.bind(null,Y);return R.type=Y,R},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(Y){return{$$typeof:c,render:Y}},Dt.isValidElement=K,Dt.lazy=function(Y){return{$$typeof:h,_payload:{_status:-1,_result:Y},_init:W}},Dt.memo=function(Y,R){return{$$typeof:f,type:Y,compare:R===void 0?null:R}},Dt.startTransition=function(Y){var R=X.transition;X.transition={};try{Y()}finally{X.transition=R}},Dt.unstable_act=ae,Dt.useCallback=function(Y,R){return ne.current.useCallback(Y,R)},Dt.useContext=function(Y){return ne.current.useContext(Y)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(Y){return ne.current.useDeferredValue(Y)},Dt.useEffect=function(Y,R){return ne.current.useEffect(Y,R)},Dt.useId=function(){return ne.current.useId()},Dt.useImperativeHandle=function(Y,R,U){return ne.current.useImperativeHandle(Y,R,U)},Dt.useInsertionEffect=function(Y,R){return ne.current.useInsertionEffect(Y,R)},Dt.useLayoutEffect=function(Y,R){return ne.current.useLayoutEffect(Y,R)},Dt.useMemo=function(Y,R){return ne.current.useMemo(Y,R)},Dt.useReducer=function(Y,R,U){return ne.current.useReducer(Y,R,U)},Dt.useRef=function(Y){return ne.current.useRef(Y)},Dt.useState=function(Y){return ne.current.useState(Y)},Dt.useSyncExternalStore=function(Y,R,U){return ne.current.useSyncExternalStore(Y,R,U)},Dt.useTransition=function(){return ne.current.useTransition()},Dt.version="18.3.1",Dt}var Uv;function Bh(){return Uv||(Uv=1,Wm.exports=eE()),Wm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function tE(){if(zv)return Ac;zv=1;var t=Bh(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(c,d,f){var h,p={},g=null,x=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(x=d.ref);for(h in d)n.call(d,h)&&!i.hasOwnProperty(h)&&(p[h]=d[h]);if(c&&c.defaultProps)for(h in d=c.defaultProps,d)p[h]===void 0&&(p[h]=d[h]);return{$$typeof:e,type:c,key:g,ref:x,props:p,_owner:s.current}}return Ac.Fragment=r,Ac.jsx=o,Ac.jsxs=o,Ac}var Vv;function rE(){return Vv||(Vv=1,Hm.exports=tE()),Hm.exports}var a=rE(),A=Bh();const ft=Hg(A),nE=ZT({__proto__:null,default:ft},[A]);var af={},$m={exports:{}},Vn={},Ym={exports:{}},Km={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function sE(){return Hv||(Hv=1,function(t){function e(X,Z){var ae=X.length;X.push(Z);e:for(;0<ae;){var Y=ae-1>>>1,R=X[Y];if(0<s(R,Z))X[Y]=Z,X[ae]=R,ae=Y;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var Z=X[0],ae=X.pop();if(ae!==Z){X[0]=ae;e:for(var Y=0,R=X.length,U=R>>>1;Y<U;){var z=2*(Y+1)-1,k=X[z],ce=z+1,ee=X[ce];if(0>s(k,ae))ce<R&&0>s(ee,k)?(X[Y]=ee,X[ce]=ae,Y=ce):(X[Y]=k,X[z]=ae,Y=z);else if(ce<R&&0>s(ee,ae))X[Y]=ee,X[ce]=ae,Y=ce;else break e}}return Z}function s(X,Z){var ae=X.sortIndex-Z.sortIndex;return ae!==0?ae:X.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],f=[],h=1,p=null,g=3,x=!1,w=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(X){for(var Z=r(f);Z!==null;){if(Z.callback===null)n(f);else if(Z.startTime<=X)n(f),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=r(f)}}function D(X){if(b=!1,j(X),!w)if(r(d)!==null)w=!0,W(T);else{var Z=r(f);Z!==null&&ne(D,Z.startTime-X)}}function T(X,Z){w=!1,b&&(b=!1,C(P),P=-1),x=!0;var ae=g;try{for(j(Z),p=r(d);p!==null&&(!(p.expirationTime>Z)||X&&!q());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,g=p.priorityLevel;var R=Y(p.expirationTime<=Z);Z=t.unstable_now(),typeof R=="function"?p.callback=R:p===r(d)&&n(d),j(Z)}else n(d);p=r(d)}if(p!==null)var U=!0;else{var z=r(f);z!==null&&ne(D,z.startTime-Z),U=!1}return U}finally{p=null,g=ae,x=!1}}var M=!1,_=null,P=-1,I=5,K=-1;function q(){return!(t.unstable_now()-K<I)}function H(){if(_!==null){var X=t.unstable_now();K=X;var Z=!0;try{Z=_(!0,X)}finally{Z?oe():(M=!1,_=null)}}else M=!1}var oe;if(typeof E=="function")oe=function(){E(H)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,O=Q.port2;Q.port1.onmessage=H,oe=function(){O.postMessage(null)}}else oe=function(){v(H,0)};function W(X){_=X,M||(M=!0,oe())}function ne(X,Z){P=v(function(){X(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){w||x||(w=!0,W(T))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(X){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var ae=g;g=Z;try{return X()}finally{g=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,Z){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ae=g;g=X;try{return Z()}finally{g=ae}},t.unstable_scheduleCallback=function(X,Z,ae){var Y=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Y+ae:Y):ae=Y,X){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ae+R,X={id:h++,callback:Z,priorityLevel:X,startTime:ae,expirationTime:R,sortIndex:-1},ae>Y?(X.sortIndex=ae,e(f,X),r(d)===null&&X===r(f)&&(b?(C(P),P=-1):b=!0,ne(D,ae-Y))):(X.sortIndex=R,e(d,X),w||x||(w=!0,W(T))),X},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(X){var Z=g;return function(){var ae=g;g=Z;try{return X.apply(this,arguments)}finally{g=ae}}}}(Km)),Km}var Wv;function aE(){return Wv||(Wv=1,Ym.exports=sE()),Ym.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function iE(){if($v)return Vn;$v=1;var t=Bh(),e=aE();function r(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(s[l]=u,l=0;l<u.length;l++)n.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(l){return d.call(p,l)?!0:d.call(h,l)?!1:f.test(l)?p[l]=!0:(h[l]=!0,!1)}function x(l,u,m,y){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,u,m,y){if(u===null||typeof u>"u"||x(l,u,m,y))return!0;if(y)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function b(l,u,m,y,N,S,F){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=N,this.mustUseProperty=m,this.propertyName=l,this.type=u,this.sanitizeURL=S,this.removeEmptyString=F}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){v[l]=new b(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];v[u]=new b(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){v[l]=new b(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){v[l]=new b(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){v[l]=new b(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){v[l]=new b(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){v[l]=new b(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){v[l]=new b(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){v[l]=new b(l,5,!1,l.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function E(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(C,E);v[u]=new b(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(C,E);v[u]=new b(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(C,E);v[u]=new b(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){v[l]=new b(l,1,!1,l.toLowerCase(),null,!1,!1)}),v.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){v[l]=new b(l,1,!1,l.toLowerCase(),null,!0,!0)});function j(l,u,m,y){var N=v.hasOwnProperty(u)?v[u]:null;(N!==null?N.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,m,N,y)&&(m=null),y||N===null?g(u)&&(m===null?l.removeAttribute(u):l.setAttribute(u,""+m)):N.mustUseProperty?l[N.propertyName]=m===null?N.type===3?!1:"":m:(u=N.attributeName,y=N.attributeNamespace,m===null?l.removeAttribute(u):(N=N.type,m=N===3||N===4&&m===!0?"":""+m,y?l.setAttributeNS(y,u,m):l.setAttribute(u,m))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),M=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),q=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),X=Symbol.iterator;function Z(l){return l===null||typeof l!="object"?null:(l=X&&l[X]||l["@@iterator"],typeof l=="function"?l:null)}var ae=Object.assign,Y;function R(l){if(Y===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);Y=u&&u[1]||""}return`
`+Y+l}var U=!1;function z(l,u){if(!l||U)return"";U=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ce){var y=Ce}Reflect.construct(l,[],u)}else{try{u.call()}catch(Ce){y=Ce}l.call(u.prototype)}else{try{throw Error()}catch(Ce){y=Ce}l()}}catch(Ce){if(Ce&&y&&typeof Ce.stack=="string"){for(var N=Ce.stack.split(`
`),S=y.stack.split(`
`),F=N.length-1,ie=S.length-1;1<=F&&0<=ie&&N[F]!==S[ie];)ie--;for(;1<=F&&0<=ie;F--,ie--)if(N[F]!==S[ie]){if(F!==1||ie!==1)do if(F--,ie--,0>ie||N[F]!==S[ie]){var ue=`
`+N[F].replace(" at new "," at ");return l.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",l.displayName)),ue}while(1<=F&&0<=ie);break}}}finally{U=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?R(l):""}function k(l){switch(l.tag){case 5:return R(l.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return l=z(l.type,!1),l;case 11:return l=z(l.type.render,!1),l;case 1:return l=z(l.type,!0),l;default:return""}}function ce(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case _:return"Fragment";case M:return"Portal";case I:return"Profiler";case P:return"StrictMode";case oe:return"Suspense";case Q:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case q:return(l.displayName||"Context")+".Consumer";case K:return(l._context.displayName||"Context")+".Provider";case H:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case O:return u=l.displayName||null,u!==null?u:ce(l.type)||"Memo";case W:u=l._payload,l=l._init;try{return ce(l(u))}catch{}}return null}function ee(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(u);case 8:return u===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function he(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ye(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ke(l){var u=ye(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),y=""+l[u];if(!l.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var N=m.get,S=m.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return N.call(this)},set:function(F){y=""+F,S.call(this,F)}}),Object.defineProperty(l,u,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(F){y=""+F},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Ke(l){l._valueTracker||(l._valueTracker=ke(l))}function He(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var m=u.getValue(),y="";return l&&(y=ye(l)?l.checked?"true":"false":l.value),l=y,l!==m?(u.setValue(l),!0):!1}function rt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Ve(l,u){var m=u.checked;return ae({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function de(l,u){var m=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;m=he(u.value!=null?u.value:m),l._wrapperState={initialChecked:y,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ee(l,u){u=u.checked,u!=null&&j(l,"checked",u,!1)}function je(l,u){Ee(l,u);var m=he(u.value),y=u.type;if(m!=null)y==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(y==="submit"||y==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?nt(l,u.type,m):u.hasOwnProperty("defaultValue")&&nt(l,u.type,he(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function Ze(l,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,m||u===l.value||(l.value=u),l.defaultValue=u}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function nt(l,u,m){(u!=="number"||rt(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var ht=Array.isArray;function st(l,u,m,y){if(l=l.options,u){u={};for(var N=0;N<m.length;N++)u["$"+m[N]]=!0;for(m=0;m<l.length;m++)N=u.hasOwnProperty("$"+l[m].value),l[m].selected!==N&&(l[m].selected=N),N&&y&&(l[m].defaultSelected=!0)}else{for(m=""+he(m),u=null,N=0;N<l.length;N++){if(l[N].value===m){l[N].selected=!0,y&&(l[N].defaultSelected=!0);return}u!==null||l[N].disabled||(u=l[N])}u!==null&&(u.selected=!0)}}function Ct(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return ae({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Ne(l,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(r(92));if(ht(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),m=u}l._wrapperState={initialValue:he(m)}}function Be(l,u){var m=he(u.value),y=he(u.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),u.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),y!=null&&(l.defaultValue=""+y)}function Je(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function Re(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?Re(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var ut,it=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,y,N){MSApp.execUnsafeLocalFunction(function(){return l(u,m,y,N)})}:l}(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(ut=ut||document.createElement("div"),ut.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=ut.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function vt(l,u){if(u){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=u;return}}l.textContent=u}var rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qr=["Webkit","ms","Moz","O"];Object.keys(rr).forEach(function(l){Qr.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),rr[u]=rr[l]})});function Tn(l,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||rr.hasOwnProperty(l)&&rr[l]?(""+u).trim():u+"px"}function Pt(l,u){l=l.style;for(var m in u)if(u.hasOwnProperty(m)){var y=m.indexOf("--")===0,N=Tn(m,u[m],y);m==="float"&&(m="cssFloat"),y?l.setProperty(m,N):l[m]=N}}var Qn=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zn(l,u){if(u){if(Qn[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Ps(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mn=null;function hn(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var zr=null,V=null,Te=null;function Ye(l){if(l=pc(l)){if(typeof zr!="function")throw Error(r(280));var u=l.stateNode;u&&(u=bd(u),zr(l.stateNode,l.type,u))}}function We(l){V?Te?Te.push(l):Te=[l]:V=l}function Qe(){if(V){var l=V,u=Te;if(Te=V=null,Ye(l),u)for(l=0;l<u.length;l++)Ye(u[l])}}function mt(l,u){return l(u)}function It(){}var Xe=!1;function Zr(l,u,m){if(Xe)return l(u,m);Xe=!0;try{return mt(l,u,m)}finally{Xe=!1,(V!==null||Te!==null)&&(It(),Qe())}}function Vr(l,u){var m=l.stateNode;if(m===null)return null;var y=bd(m);if(y===null)return null;m=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(r(231,u,typeof m));return m}var Ar=!1;if(c)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Ar=!1}function sr(l,u,m,y,N,S,F,ie,ue){var Ce=Array.prototype.slice.call(arguments,3);try{u.apply(m,Ce)}catch(Le){this.onError(Le)}}var en=!1,En=null,L=!1,re=null,G={onError:function(l){en=!0,En=l}};function J(l,u,m,y,N,S,F,ie,ue){en=!1,En=null,sr.apply(G,arguments)}function te(l,u,m,y,N,S,F,ie,ue){if(J.apply(this,arguments),en){if(en){var Ce=En;en=!1,En=null}else throw Error(r(198));L||(L=!0,re=Ce)}}function se(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function xe(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function Pe(l){if(se(l)!==l)throw Error(r(188))}function ve(l){var u=l.alternate;if(!u){if(u=se(l),u===null)throw Error(r(188));return u!==l?null:l}for(var m=l,y=u;;){var N=m.return;if(N===null)break;var S=N.alternate;if(S===null){if(y=N.return,y!==null){m=y;continue}break}if(N.child===S.child){for(S=N.child;S;){if(S===m)return Pe(N),l;if(S===y)return Pe(N),u;S=S.sibling}throw Error(r(188))}if(m.return!==y.return)m=N,y=S;else{for(var F=!1,ie=N.child;ie;){if(ie===m){F=!0,m=N,y=S;break}if(ie===y){F=!0,y=N,m=S;break}ie=ie.sibling}if(!F){for(ie=S.child;ie;){if(ie===m){F=!0,m=S,y=N;break}if(ie===y){F=!0,y=S,m=N;break}ie=ie.sibling}if(!F)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?l:u}function be(l){return l=ve(l),l!==null?Se(l):null}function Se(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Se(l);if(u!==null)return u;l=l.sibling}return null}var B=e.unstable_scheduleCallback,le=e.unstable_cancelCallback,pe=e.unstable_shouldYield,me=e.unstable_requestPaint,_e=e.unstable_now,Ie=e.unstable_getCurrentPriorityLevel,et=e.unstable_ImmediatePriority,gt=e.unstable_UserBlockingPriority,St=e.unstable_NormalPriority,Rt=e.unstable_LowPriority,Et=e.unstable_IdlePriority,pr=null,Ft=null;function ar(l){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(pr,l,void 0,(l.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Js,es=Math.log,Va=Math.LN2;function Js(l){return l>>>=0,l===0?32:31-(es(l)/Va|0)|0}var Li=64,Ii=4194304;function Bi(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Lo(l,u){var m=l.pendingLanes;if(m===0)return 0;var y=0,N=l.suspendedLanes,S=l.pingedLanes,F=m&268435455;if(F!==0){var ie=F&~N;ie!==0?y=Bi(ie):(S&=F,S!==0&&(y=Bi(S)))}else F=m&~N,F!==0?y=Bi(F):S!==0&&(y=Bi(S));if(y===0)return 0;if(u!==0&&u!==y&&(u&N)===0&&(N=y&-y,S=u&-u,N>=S||N===16&&(S&4194240)!==0))return u;if((y&4)!==0&&(y|=m&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=y;0<u;)m=31-kt(u),N=1<<m,y|=l[m],u&=~N;return y}function Kt(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ht(l,u){for(var m=l.suspendedLanes,y=l.pingedLanes,N=l.expirationTimes,S=l.pendingLanes;0<S;){var F=31-kt(S),ie=1<<F,ue=N[F];ue===-1?((ie&m)===0||(ie&y)!==0)&&(N[F]=Kt(ie,u)):ue<=u&&(l.expiredLanes|=ie),S&=~ie}}function Ui(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Qs(){var l=Li;return Li<<=1,(Li&4194240)===0&&(Li=64),l}function Ha(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function Lr(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-kt(u),l[u]=m}function Ds(l,u){var m=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var y=l.eventTimes;for(l=l.expirationTimes;0<m;){var N=31-kt(m),S=1<<N;u[N]=0,y[N]=-1,l[N]=-1,m&=~S}}function fs(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var y=31-kt(m),N=1<<y;N&u|l[y]&u&&(l[y]|=u),m&=~N}}var Ot=0;function zi(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var pa,hs,Ql,Vi,Io,Wa=!1,ga=[],Rs=null,ts=null,rs=null,Zl=new Map,ec=new Map,$a=[],vj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N1(l,u){switch(l){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Zl.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(u.pointerId)}}function tc(l,u,m,y,N,S){return l===null||l.nativeEvent!==S?(l={blockedOn:u,domEventName:m,eventSystemFlags:y,nativeEvent:S,targetContainers:[N]},u!==null&&(u=pc(u),u!==null&&hs(u)),l):(l.eventSystemFlags|=y,u=l.targetContainers,N!==null&&u.indexOf(N)===-1&&u.push(N),l)}function bj(l,u,m,y,N){switch(u){case"focusin":return Rs=tc(Rs,l,u,m,y,N),!0;case"dragenter":return ts=tc(ts,l,u,m,y,N),!0;case"mouseover":return rs=tc(rs,l,u,m,y,N),!0;case"pointerover":var S=N.pointerId;return Zl.set(S,tc(Zl.get(S)||null,l,u,m,y,N)),!0;case"gotpointercapture":return S=N.pointerId,ec.set(S,tc(ec.get(S)||null,l,u,m,y,N)),!0}return!1}function S1(l){var u=Hi(l.target);if(u!==null){var m=se(u);if(m!==null){if(u=m.tag,u===13){if(u=xe(m),u!==null){l.blockedOn=u,Io(l.priority,function(){Ql(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function id(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var m=g0(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var y=new m.constructor(m.type,m);Mn=y,m.target.dispatchEvent(y),Mn=null}else return u=pc(m),u!==null&&hs(u),l.blockedOn=m,!1;u.shift()}return!0}function _1(l,u,m){id(l)&&m.delete(u)}function wj(){Wa=!1,Rs!==null&&id(Rs)&&(Rs=null),ts!==null&&id(ts)&&(ts=null),rs!==null&&id(rs)&&(rs=null),Zl.forEach(_1),ec.forEach(_1)}function rc(l,u){l.blockedOn===u&&(l.blockedOn=null,Wa||(Wa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wj)))}function nc(l){function u(N){return rc(N,l)}if(0<ga.length){rc(ga[0],l);for(var m=1;m<ga.length;m++){var y=ga[m];y.blockedOn===l&&(y.blockedOn=null)}}for(Rs!==null&&rc(Rs,l),ts!==null&&rc(ts,l),rs!==null&&rc(rs,l),Zl.forEach(u),ec.forEach(u),m=0;m<$a.length;m++)y=$a[m],y.blockedOn===l&&(y.blockedOn=null);for(;0<$a.length&&(m=$a[0],m.blockedOn===null);)S1(m),m.blockedOn===null&&$a.shift()}var Bo=D.ReactCurrentBatchConfig,od=!0;function Nj(l,u,m,y){var N=Ot,S=Bo.transition;Bo.transition=null;try{Ot=1,p0(l,u,m,y)}finally{Ot=N,Bo.transition=S}}function Sj(l,u,m,y){var N=Ot,S=Bo.transition;Bo.transition=null;try{Ot=4,p0(l,u,m,y)}finally{Ot=N,Bo.transition=S}}function p0(l,u,m,y){if(od){var N=g0(l,u,m,y);if(N===null)R0(l,u,y,ld,m),N1(l,y);else if(bj(N,l,u,m,y))y.stopPropagation();else if(N1(l,y),u&4&&-1<vj.indexOf(l)){for(;N!==null;){var S=pc(N);if(S!==null&&pa(S),S=g0(l,u,m,y),S===null&&R0(l,u,y,ld,m),S===N)break;N=S}N!==null&&y.stopPropagation()}else R0(l,u,y,null,m)}}var ld=null;function g0(l,u,m,y){if(ld=null,l=hn(y),l=Hi(l),l!==null)if(u=se(l),u===null)l=null;else if(m=u.tag,m===13){if(l=xe(u),l!==null)return l;l=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return ld=l,null}function C1(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ie()){case et:return 1;case gt:return 4;case St:case Rt:return 16;case Et:return 536870912;default:return 16}default:return 16}}var Ya=null,x0=null,cd=null;function j1(){if(cd)return cd;var l,u=x0,m=u.length,y,N="value"in Ya?Ya.value:Ya.textContent,S=N.length;for(l=0;l<m&&u[l]===N[l];l++);var F=m-l;for(y=1;y<=F&&u[m-y]===N[S-y];y++);return cd=N.slice(l,1<y?1-y:void 0)}function ud(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function dd(){return!0}function T1(){return!1}function ns(l){function u(m,y,N,S,F){this._reactName=m,this._targetInst=N,this.type=y,this.nativeEvent=S,this.target=F,this.currentTarget=null;for(var ie in l)l.hasOwnProperty(ie)&&(m=l[ie],this[ie]=m?m(S):S[ie]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?dd:T1,this.isPropagationStopped=T1,this}return ae(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),u}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y0=ns(Uo),sc=ae({},Uo,{view:0,detail:0}),_j=ns(sc),v0,b0,ac,fd=ae({},sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:N0,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ac&&(ac&&l.type==="mousemove"?(v0=l.screenX-ac.screenX,b0=l.screenY-ac.screenY):b0=v0=0,ac=l),v0)},movementY:function(l){return"movementY"in l?l.movementY:b0}}),E1=ns(fd),Cj=ae({},fd,{dataTransfer:0}),jj=ns(Cj),Tj=ae({},sc,{relatedTarget:0}),w0=ns(Tj),Ej=ae({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),kj=ns(Ej),Aj=ae({},Uo,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Pj=ns(Aj),Dj=ae({},Uo,{data:0}),k1=ns(Dj),Rj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mj(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Oj[l])?!!u[l]:!1}function N0(){return Mj}var Lj=ae({},sc,{key:function(l){if(l.key){var u=Rj[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=ud(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Fj[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:N0,charCode:function(l){return l.type==="keypress"?ud(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?ud(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Ij=ns(Lj),Bj=ae({},fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A1=ns(Bj),Uj=ae({},sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:N0}),zj=ns(Uj),Vj=ae({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hj=ns(Vj),Wj=ae({},fd,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),$j=ns(Wj),Yj=[9,13,27,32],S0=c&&"CompositionEvent"in window,ic=null;c&&"documentMode"in document&&(ic=document.documentMode);var Kj=c&&"TextEvent"in window&&!ic,P1=c&&(!S0||ic&&8<ic&&11>=ic),D1=" ",R1=!1;function F1(l,u){switch(l){case"keyup":return Yj.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O1(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var zo=!1;function Gj(l,u){switch(l){case"compositionend":return O1(u);case"keypress":return u.which!==32?null:(R1=!0,D1);case"textInput":return l=u.data,l===D1&&R1?null:l;default:return null}}function qj(l,u){if(zo)return l==="compositionend"||!S0&&F1(l,u)?(l=j1(),cd=x0=Ya=null,zo=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return P1&&u.locale!=="ko"?null:u.data;default:return null}}var Xj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M1(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Xj[l.type]:u==="textarea"}function L1(l,u,m,y){We(y),u=xd(u,"onChange"),0<u.length&&(m=new y0("onChange","change",null,m,y),l.push({event:m,listeners:u}))}var oc=null,lc=null;function Jj(l){ty(l,0)}function hd(l){var u=Yo(l);if(He(u))return l}function Qj(l,u){if(l==="change")return u}var I1=!1;if(c){var _0;if(c){var C0="oninput"in document;if(!C0){var B1=document.createElement("div");B1.setAttribute("oninput","return;"),C0=typeof B1.oninput=="function"}_0=C0}else _0=!1;I1=_0&&(!document.documentMode||9<document.documentMode)}function U1(){oc&&(oc.detachEvent("onpropertychange",z1),lc=oc=null)}function z1(l){if(l.propertyName==="value"&&hd(lc)){var u=[];L1(u,lc,l,hn(l)),Zr(Jj,u)}}function Zj(l,u,m){l==="focusin"?(U1(),oc=u,lc=m,oc.attachEvent("onpropertychange",z1)):l==="focusout"&&U1()}function eT(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return hd(lc)}function tT(l,u){if(l==="click")return hd(u)}function rT(l,u){if(l==="input"||l==="change")return hd(u)}function nT(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Fs=typeof Object.is=="function"?Object.is:nT;function cc(l,u){if(Fs(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),y=Object.keys(u);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var N=m[y];if(!d.call(u,N)||!Fs(l[N],u[N]))return!1}return!0}function V1(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function H1(l,u){var m=V1(l);l=0;for(var y;m;){if(m.nodeType===3){if(y=l+m.textContent.length,l<=u&&y>=u)return{node:m,offset:u-l};l=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=V1(m)}}function W1(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?W1(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function $1(){for(var l=window,u=rt();u instanceof l.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)l=u.contentWindow;else break;u=rt(l.document)}return u}function j0(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function sT(l){var u=$1(),m=l.focusedElem,y=l.selectionRange;if(u!==m&&m&&m.ownerDocument&&W1(m.ownerDocument.documentElement,m)){if(y!==null&&j0(m)){if(u=y.start,l=y.end,l===void 0&&(l=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(l,m.value.length);else if(l=(u=m.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var N=m.textContent.length,S=Math.min(y.start,N);y=y.end===void 0?S:Math.min(y.end,N),!l.extend&&S>y&&(N=y,y=S,S=N),N=H1(m,S);var F=H1(m,y);N&&F&&(l.rangeCount!==1||l.anchorNode!==N.node||l.anchorOffset!==N.offset||l.focusNode!==F.node||l.focusOffset!==F.offset)&&(u=u.createRange(),u.setStart(N.node,N.offset),l.removeAllRanges(),S>y?(l.addRange(u),l.extend(F.node,F.offset)):(u.setEnd(F.node,F.offset),l.addRange(u)))}}for(u=[],l=m;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)l=u[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var aT=c&&"documentMode"in document&&11>=document.documentMode,Vo=null,T0=null,uc=null,E0=!1;function Y1(l,u,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;E0||Vo==null||Vo!==rt(y)||(y=Vo,"selectionStart"in y&&j0(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),uc&&cc(uc,y)||(uc=y,y=xd(T0,"onSelect"),0<y.length&&(u=new y0("onSelect","select",null,u,m),l.push({event:u,listeners:y}),u.target=Vo)))}function md(l,u){var m={};return m[l.toLowerCase()]=u.toLowerCase(),m["Webkit"+l]="webkit"+u,m["Moz"+l]="moz"+u,m}var Ho={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},k0={},K1={};c&&(K1=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function pd(l){if(k0[l])return k0[l];if(!Ho[l])return l;var u=Ho[l],m;for(m in u)if(u.hasOwnProperty(m)&&m in K1)return k0[l]=u[m];return l}var G1=pd("animationend"),q1=pd("animationiteration"),X1=pd("animationstart"),J1=pd("transitionend"),Q1=new Map,Z1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ka(l,u){Q1.set(l,u),i(u,[l])}for(var A0=0;A0<Z1.length;A0++){var P0=Z1[A0],iT=P0.toLowerCase(),oT=P0[0].toUpperCase()+P0.slice(1);Ka(iT,"on"+oT)}Ka(G1,"onAnimationEnd"),Ka(q1,"onAnimationIteration"),Ka(X1,"onAnimationStart"),Ka("dblclick","onDoubleClick"),Ka("focusin","onFocus"),Ka("focusout","onBlur"),Ka(J1,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lT=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function ey(l,u,m){var y=l.type||"unknown-event";l.currentTarget=m,te(y,u,void 0,l),l.currentTarget=null}function ty(l,u){u=(u&4)!==0;for(var m=0;m<l.length;m++){var y=l[m],N=y.event;y=y.listeners;e:{var S=void 0;if(u)for(var F=y.length-1;0<=F;F--){var ie=y[F],ue=ie.instance,Ce=ie.currentTarget;if(ie=ie.listener,ue!==S&&N.isPropagationStopped())break e;ey(N,ie,Ce),S=ue}else for(F=0;F<y.length;F++){if(ie=y[F],ue=ie.instance,Ce=ie.currentTarget,ie=ie.listener,ue!==S&&N.isPropagationStopped())break e;ey(N,ie,Ce),S=ue}}}if(L)throw l=re,L=!1,re=null,l}function ir(l,u){var m=u[B0];m===void 0&&(m=u[B0]=new Set);var y=l+"__bubble";m.has(y)||(ry(u,l,2,!1),m.add(y))}function D0(l,u,m){var y=0;u&&(y|=4),ry(m,l,y,u)}var gd="_reactListening"+Math.random().toString(36).slice(2);function fc(l){if(!l[gd]){l[gd]=!0,n.forEach(function(m){m!=="selectionchange"&&(lT.has(m)||D0(m,!1,l),D0(m,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[gd]||(u[gd]=!0,D0("selectionchange",!1,u))}}function ry(l,u,m,y){switch(C1(u)){case 1:var N=Nj;break;case 4:N=Sj;break;default:N=p0}m=N.bind(null,u,m,l),N=void 0,!Ar||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(N=!0),y?N!==void 0?l.addEventListener(u,m,{capture:!0,passive:N}):l.addEventListener(u,m,!0):N!==void 0?l.addEventListener(u,m,{passive:N}):l.addEventListener(u,m,!1)}function R0(l,u,m,y,N){var S=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var F=y.tag;if(F===3||F===4){var ie=y.stateNode.containerInfo;if(ie===N||ie.nodeType===8&&ie.parentNode===N)break;if(F===4)for(F=y.return;F!==null;){var ue=F.tag;if((ue===3||ue===4)&&(ue=F.stateNode.containerInfo,ue===N||ue.nodeType===8&&ue.parentNode===N))return;F=F.return}for(;ie!==null;){if(F=Hi(ie),F===null)return;if(ue=F.tag,ue===5||ue===6){y=S=F;continue e}ie=ie.parentNode}}y=y.return}Zr(function(){var Ce=S,Le=hn(m),ze=[];e:{var Me=Q1.get(l);if(Me!==void 0){var tt=y0,ot=l;switch(l){case"keypress":if(ud(m)===0)break e;case"keydown":case"keyup":tt=Ij;break;case"focusin":ot="focus",tt=w0;break;case"focusout":ot="blur",tt=w0;break;case"beforeblur":case"afterblur":tt=w0;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=E1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=jj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=zj;break;case G1:case q1:case X1:tt=kj;break;case J1:tt=Hj;break;case"scroll":tt=_j;break;case"wheel":tt=$j;break;case"copy":case"cut":case"paste":tt=Pj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=A1}var dt=(u&4)!==0,jr=!dt&&l==="scroll",ge=dt?Me!==null?Me+"Capture":null:Me;dt=[];for(var fe=Ce,we;fe!==null;){we=fe;var $e=we.stateNode;if(we.tag===5&&$e!==null&&(we=$e,ge!==null&&($e=Vr(fe,ge),$e!=null&&dt.push(hc(fe,$e,we)))),jr)break;fe=fe.return}0<dt.length&&(Me=new tt(Me,ot,null,m,Le),ze.push({event:Me,listeners:dt}))}}if((u&7)===0){e:{if(Me=l==="mouseover"||l==="pointerover",tt=l==="mouseout"||l==="pointerout",Me&&m!==Mn&&(ot=m.relatedTarget||m.fromElement)&&(Hi(ot)||ot[xa]))break e;if((tt||Me)&&(Me=Le.window===Le?Le:(Me=Le.ownerDocument)?Me.defaultView||Me.parentWindow:window,tt?(ot=m.relatedTarget||m.toElement,tt=Ce,ot=ot?Hi(ot):null,ot!==null&&(jr=se(ot),ot!==jr||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(tt=null,ot=Ce),tt!==ot)){if(dt=E1,$e="onMouseLeave",ge="onMouseEnter",fe="mouse",(l==="pointerout"||l==="pointerover")&&(dt=A1,$e="onPointerLeave",ge="onPointerEnter",fe="pointer"),jr=tt==null?Me:Yo(tt),we=ot==null?Me:Yo(ot),Me=new dt($e,fe+"leave",tt,m,Le),Me.target=jr,Me.relatedTarget=we,$e=null,Hi(Le)===Ce&&(dt=new dt(ge,fe+"enter",ot,m,Le),dt.target=we,dt.relatedTarget=jr,$e=dt),jr=$e,tt&&ot)t:{for(dt=tt,ge=ot,fe=0,we=dt;we;we=Wo(we))fe++;for(we=0,$e=ge;$e;$e=Wo($e))we++;for(;0<fe-we;)dt=Wo(dt),fe--;for(;0<we-fe;)ge=Wo(ge),we--;for(;fe--;){if(dt===ge||ge!==null&&dt===ge.alternate)break t;dt=Wo(dt),ge=Wo(ge)}dt=null}else dt=null;tt!==null&&ny(ze,Me,tt,dt,!1),ot!==null&&jr!==null&&ny(ze,jr,ot,dt,!0)}}e:{if(Me=Ce?Yo(Ce):window,tt=Me.nodeName&&Me.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Me.type==="file")var pt=Qj;else if(M1(Me))if(I1)pt=rT;else{pt=eT;var xt=Zj}else(tt=Me.nodeName)&&tt.toLowerCase()==="input"&&(Me.type==="checkbox"||Me.type==="radio")&&(pt=tT);if(pt&&(pt=pt(l,Ce))){L1(ze,pt,m,Le);break e}xt&&xt(l,Me,Ce),l==="focusout"&&(xt=Me._wrapperState)&&xt.controlled&&Me.type==="number"&&nt(Me,"number",Me.value)}switch(xt=Ce?Yo(Ce):window,l){case"focusin":(M1(xt)||xt.contentEditable==="true")&&(Vo=xt,T0=Ce,uc=null);break;case"focusout":uc=T0=Vo=null;break;case"mousedown":E0=!0;break;case"contextmenu":case"mouseup":case"dragend":E0=!1,Y1(ze,m,Le);break;case"selectionchange":if(aT)break;case"keydown":case"keyup":Y1(ze,m,Le)}var yt;if(S0)e:{switch(l){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else zo?F1(l,m)&&(_t="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(_t="onCompositionStart");_t&&(P1&&m.locale!=="ko"&&(zo||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&zo&&(yt=j1()):(Ya=Le,x0="value"in Ya?Ya.value:Ya.textContent,zo=!0)),xt=xd(Ce,_t),0<xt.length&&(_t=new k1(_t,l,null,m,Le),ze.push({event:_t,listeners:xt}),yt?_t.data=yt:(yt=O1(m),yt!==null&&(_t.data=yt)))),(yt=Kj?Gj(l,m):qj(l,m))&&(Ce=xd(Ce,"onBeforeInput"),0<Ce.length&&(Le=new k1("onBeforeInput","beforeinput",null,m,Le),ze.push({event:Le,listeners:Ce}),Le.data=yt))}ty(ze,u)})}function hc(l,u,m){return{instance:l,listener:u,currentTarget:m}}function xd(l,u){for(var m=u+"Capture",y=[];l!==null;){var N=l,S=N.stateNode;N.tag===5&&S!==null&&(N=S,S=Vr(l,m),S!=null&&y.unshift(hc(l,S,N)),S=Vr(l,u),S!=null&&y.push(hc(l,S,N))),l=l.return}return y}function Wo(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function ny(l,u,m,y,N){for(var S=u._reactName,F=[];m!==null&&m!==y;){var ie=m,ue=ie.alternate,Ce=ie.stateNode;if(ue!==null&&ue===y)break;ie.tag===5&&Ce!==null&&(ie=Ce,N?(ue=Vr(m,S),ue!=null&&F.unshift(hc(m,ue,ie))):N||(ue=Vr(m,S),ue!=null&&F.push(hc(m,ue,ie)))),m=m.return}F.length!==0&&l.push({event:u,listeners:F})}var cT=/\r\n?/g,uT=/\u0000|\uFFFD/g;function sy(l){return(typeof l=="string"?l:""+l).replace(cT,`
`).replace(uT,"")}function yd(l,u,m){if(u=sy(u),sy(l)!==u&&m)throw Error(r(425))}function vd(){}var F0=null,O0=null;function M0(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var L0=typeof setTimeout=="function"?setTimeout:void 0,dT=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,fT=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(l){return ay.resolve(null).then(l).catch(hT)}:L0;function hT(l){setTimeout(function(){throw l})}function I0(l,u){var m=u,y=0;do{var N=m.nextSibling;if(l.removeChild(m),N&&N.nodeType===8)if(m=N.data,m==="/$"){if(y===0){l.removeChild(N),nc(u);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=N}while(m);nc(u)}function Ga(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function iy(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return l;u--}else m==="/$"&&u++}l=l.previousSibling}return null}var $o=Math.random().toString(36).slice(2),Zs="__reactFiber$"+$o,mc="__reactProps$"+$o,xa="__reactContainer$"+$o,B0="__reactEvents$"+$o,mT="__reactListeners$"+$o,pT="__reactHandles$"+$o;function Hi(l){var u=l[Zs];if(u)return u;for(var m=l.parentNode;m;){if(u=m[xa]||m[Zs]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(l=iy(l);l!==null;){if(m=l[Zs])return m;l=iy(l)}return u}l=m,m=l.parentNode}return null}function pc(l){return l=l[Zs]||l[xa],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Yo(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function bd(l){return l[mc]||null}var U0=[],Ko=-1;function qa(l){return{current:l}}function or(l){0>Ko||(l.current=U0[Ko],U0[Ko]=null,Ko--)}function nr(l,u){Ko++,U0[Ko]=l.current,l.current=u}var Xa={},pn=qa(Xa),Ln=qa(!1),Wi=Xa;function Go(l,u){var m=l.type.contextTypes;if(!m)return Xa;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var N={},S;for(S in m)N[S]=u[S];return y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=N),N}function In(l){return l=l.childContextTypes,l!=null}function wd(){or(Ln),or(pn)}function oy(l,u,m){if(pn.current!==Xa)throw Error(r(168));nr(pn,u),nr(Ln,m)}function ly(l,u,m){var y=l.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return m;y=y.getChildContext();for(var N in y)if(!(N in u))throw Error(r(108,ee(l)||"Unknown",N));return ae({},m,y)}function Nd(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Xa,Wi=pn.current,nr(pn,l),nr(Ln,Ln.current),!0}function cy(l,u,m){var y=l.stateNode;if(!y)throw Error(r(169));m?(l=ly(l,u,Wi),y.__reactInternalMemoizedMergedChildContext=l,or(Ln),or(pn),nr(pn,l)):or(Ln),nr(Ln,m)}var ya=null,Sd=!1,z0=!1;function uy(l){ya===null?ya=[l]:ya.push(l)}function gT(l){Sd=!0,uy(l)}function Ja(){if(!z0&&ya!==null){z0=!0;var l=0,u=Ot;try{var m=ya;for(Ot=1;l<m.length;l++){var y=m[l];do y=y(!0);while(y!==null)}ya=null,Sd=!1}catch(N){throw ya!==null&&(ya=ya.slice(l+1)),B(et,Ja),N}finally{Ot=u,z0=!1}}return null}var qo=[],Xo=0,_d=null,Cd=0,ms=[],ps=0,$i=null,va=1,ba="";function Yi(l,u){qo[Xo++]=Cd,qo[Xo++]=_d,_d=l,Cd=u}function dy(l,u,m){ms[ps++]=va,ms[ps++]=ba,ms[ps++]=$i,$i=l;var y=va;l=ba;var N=32-kt(y)-1;y&=~(1<<N),m+=1;var S=32-kt(u)+N;if(30<S){var F=N-N%5;S=(y&(1<<F)-1).toString(32),y>>=F,N-=F,va=1<<32-kt(u)+N|m<<N|y,ba=S+l}else va=1<<S|m<<N|y,ba=l}function V0(l){l.return!==null&&(Yi(l,1),dy(l,1,0))}function H0(l){for(;l===_d;)_d=qo[--Xo],qo[Xo]=null,Cd=qo[--Xo],qo[Xo]=null;for(;l===$i;)$i=ms[--ps],ms[ps]=null,ba=ms[--ps],ms[ps]=null,va=ms[--ps],ms[ps]=null}var ss=null,as=null,fr=!1,Os=null;function fy(l,u){var m=vs(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,u=l.deletions,u===null?(l.deletions=[m],l.flags|=16):u.push(m)}function hy(l,u){switch(l.tag){case 5:var m=l.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,ss=l,as=Ga(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,ss=l,as=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=$i!==null?{id:va,overflow:ba}:null,l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=vs(18,null,null,0),m.stateNode=u,m.return=l,l.child=m,ss=l,as=null,!0):!1;default:return!1}}function W0(l){return(l.mode&1)!==0&&(l.flags&128)===0}function $0(l){if(fr){var u=as;if(u){var m=u;if(!hy(l,u)){if(W0(l))throw Error(r(418));u=Ga(m.nextSibling);var y=ss;u&&hy(l,u)?fy(y,m):(l.flags=l.flags&-4097|2,fr=!1,ss=l)}}else{if(W0(l))throw Error(r(418));l.flags=l.flags&-4097|2,fr=!1,ss=l}}}function my(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ss=l}function jd(l){if(l!==ss)return!1;if(!fr)return my(l),fr=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!M0(l.type,l.memoizedProps)),u&&(u=as)){if(W0(l))throw py(),Error(r(418));for(;u;)fy(l,u),u=Ga(u.nextSibling)}if(my(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(u===0){as=Ga(l.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}l=l.nextSibling}as=null}}else as=ss?Ga(l.stateNode.nextSibling):null;return!0}function py(){for(var l=as;l;)l=Ga(l.nextSibling)}function Jo(){as=ss=null,fr=!1}function Y0(l){Os===null?Os=[l]:Os.push(l)}var xT=D.ReactCurrentBatchConfig;function gc(l,u,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var y=m.stateNode}if(!y)throw Error(r(147,l));var N=y,S=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===S?u.ref:(u=function(F){var ie=N.refs;F===null?delete ie[S]:ie[S]=F},u._stringRef=S,u)}if(typeof l!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,l))}return l}function Td(l,u){throw l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function gy(l){var u=l._init;return u(l._payload)}function xy(l){function u(ge,fe){if(l){var we=ge.deletions;we===null?(ge.deletions=[fe],ge.flags|=16):we.push(fe)}}function m(ge,fe){if(!l)return null;for(;fe!==null;)u(ge,fe),fe=fe.sibling;return null}function y(ge,fe){for(ge=new Map;fe!==null;)fe.key!==null?ge.set(fe.key,fe):ge.set(fe.index,fe),fe=fe.sibling;return ge}function N(ge,fe){return ge=ai(ge,fe),ge.index=0,ge.sibling=null,ge}function S(ge,fe,we){return ge.index=we,l?(we=ge.alternate,we!==null?(we=we.index,we<fe?(ge.flags|=2,fe):we):(ge.flags|=2,fe)):(ge.flags|=1048576,fe)}function F(ge){return l&&ge.alternate===null&&(ge.flags|=2),ge}function ie(ge,fe,we,$e){return fe===null||fe.tag!==6?(fe=Lm(we,ge.mode,$e),fe.return=ge,fe):(fe=N(fe,we),fe.return=ge,fe)}function ue(ge,fe,we,$e){var pt=we.type;return pt===_?Le(ge,fe,we.props.children,$e,we.key):fe!==null&&(fe.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===W&&gy(pt)===fe.type)?($e=N(fe,we.props),$e.ref=gc(ge,fe,we),$e.return=ge,$e):($e=Jd(we.type,we.key,we.props,null,ge.mode,$e),$e.ref=gc(ge,fe,we),$e.return=ge,$e)}function Ce(ge,fe,we,$e){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==we.containerInfo||fe.stateNode.implementation!==we.implementation?(fe=Im(we,ge.mode,$e),fe.return=ge,fe):(fe=N(fe,we.children||[]),fe.return=ge,fe)}function Le(ge,fe,we,$e,pt){return fe===null||fe.tag!==7?(fe=eo(we,ge.mode,$e,pt),fe.return=ge,fe):(fe=N(fe,we),fe.return=ge,fe)}function ze(ge,fe,we){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=Lm(""+fe,ge.mode,we),fe.return=ge,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case T:return we=Jd(fe.type,fe.key,fe.props,null,ge.mode,we),we.ref=gc(ge,null,fe),we.return=ge,we;case M:return fe=Im(fe,ge.mode,we),fe.return=ge,fe;case W:var $e=fe._init;return ze(ge,$e(fe._payload),we)}if(ht(fe)||Z(fe))return fe=eo(fe,ge.mode,we,null),fe.return=ge,fe;Td(ge,fe)}return null}function Me(ge,fe,we,$e){var pt=fe!==null?fe.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return pt!==null?null:ie(ge,fe,""+we,$e);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case T:return we.key===pt?ue(ge,fe,we,$e):null;case M:return we.key===pt?Ce(ge,fe,we,$e):null;case W:return pt=we._init,Me(ge,fe,pt(we._payload),$e)}if(ht(we)||Z(we))return pt!==null?null:Le(ge,fe,we,$e,null);Td(ge,we)}return null}function tt(ge,fe,we,$e,pt){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ge=ge.get(we)||null,ie(fe,ge,""+$e,pt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case T:return ge=ge.get($e.key===null?we:$e.key)||null,ue(fe,ge,$e,pt);case M:return ge=ge.get($e.key===null?we:$e.key)||null,Ce(fe,ge,$e,pt);case W:var xt=$e._init;return tt(ge,fe,we,xt($e._payload),pt)}if(ht($e)||Z($e))return ge=ge.get(we)||null,Le(fe,ge,$e,pt,null);Td(fe,$e)}return null}function ot(ge,fe,we,$e){for(var pt=null,xt=null,yt=fe,_t=fe=0,$r=null;yt!==null&&_t<we.length;_t++){yt.index>_t?($r=yt,yt=null):$r=yt.sibling;var Ut=Me(ge,yt,we[_t],$e);if(Ut===null){yt===null&&(yt=$r);break}l&&yt&&Ut.alternate===null&&u(ge,yt),fe=S(Ut,fe,_t),xt===null?pt=Ut:xt.sibling=Ut,xt=Ut,yt=$r}if(_t===we.length)return m(ge,yt),fr&&Yi(ge,_t),pt;if(yt===null){for(;_t<we.length;_t++)yt=ze(ge,we[_t],$e),yt!==null&&(fe=S(yt,fe,_t),xt===null?pt=yt:xt.sibling=yt,xt=yt);return fr&&Yi(ge,_t),pt}for(yt=y(ge,yt);_t<we.length;_t++)$r=tt(yt,ge,_t,we[_t],$e),$r!==null&&(l&&$r.alternate!==null&&yt.delete($r.key===null?_t:$r.key),fe=S($r,fe,_t),xt===null?pt=$r:xt.sibling=$r,xt=$r);return l&&yt.forEach(function(ii){return u(ge,ii)}),fr&&Yi(ge,_t),pt}function dt(ge,fe,we,$e){var pt=Z(we);if(typeof pt!="function")throw Error(r(150));if(we=pt.call(we),we==null)throw Error(r(151));for(var xt=pt=null,yt=fe,_t=fe=0,$r=null,Ut=we.next();yt!==null&&!Ut.done;_t++,Ut=we.next()){yt.index>_t?($r=yt,yt=null):$r=yt.sibling;var ii=Me(ge,yt,Ut.value,$e);if(ii===null){yt===null&&(yt=$r);break}l&&yt&&ii.alternate===null&&u(ge,yt),fe=S(ii,fe,_t),xt===null?pt=ii:xt.sibling=ii,xt=ii,yt=$r}if(Ut.done)return m(ge,yt),fr&&Yi(ge,_t),pt;if(yt===null){for(;!Ut.done;_t++,Ut=we.next())Ut=ze(ge,Ut.value,$e),Ut!==null&&(fe=S(Ut,fe,_t),xt===null?pt=Ut:xt.sibling=Ut,xt=Ut);return fr&&Yi(ge,_t),pt}for(yt=y(ge,yt);!Ut.done;_t++,Ut=we.next())Ut=tt(yt,ge,_t,Ut.value,$e),Ut!==null&&(l&&Ut.alternate!==null&&yt.delete(Ut.key===null?_t:Ut.key),fe=S(Ut,fe,_t),xt===null?pt=Ut:xt.sibling=Ut,xt=Ut);return l&&yt.forEach(function(XT){return u(ge,XT)}),fr&&Yi(ge,_t),pt}function jr(ge,fe,we,$e){if(typeof we=="object"&&we!==null&&we.type===_&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case T:e:{for(var pt=we.key,xt=fe;xt!==null;){if(xt.key===pt){if(pt=we.type,pt===_){if(xt.tag===7){m(ge,xt.sibling),fe=N(xt,we.props.children),fe.return=ge,ge=fe;break e}}else if(xt.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===W&&gy(pt)===xt.type){m(ge,xt.sibling),fe=N(xt,we.props),fe.ref=gc(ge,xt,we),fe.return=ge,ge=fe;break e}m(ge,xt);break}else u(ge,xt);xt=xt.sibling}we.type===_?(fe=eo(we.props.children,ge.mode,$e,we.key),fe.return=ge,ge=fe):($e=Jd(we.type,we.key,we.props,null,ge.mode,$e),$e.ref=gc(ge,fe,we),$e.return=ge,ge=$e)}return F(ge);case M:e:{for(xt=we.key;fe!==null;){if(fe.key===xt)if(fe.tag===4&&fe.stateNode.containerInfo===we.containerInfo&&fe.stateNode.implementation===we.implementation){m(ge,fe.sibling),fe=N(fe,we.children||[]),fe.return=ge,ge=fe;break e}else{m(ge,fe);break}else u(ge,fe);fe=fe.sibling}fe=Im(we,ge.mode,$e),fe.return=ge,ge=fe}return F(ge);case W:return xt=we._init,jr(ge,fe,xt(we._payload),$e)}if(ht(we))return ot(ge,fe,we,$e);if(Z(we))return dt(ge,fe,we,$e);Td(ge,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,fe!==null&&fe.tag===6?(m(ge,fe.sibling),fe=N(fe,we),fe.return=ge,ge=fe):(m(ge,fe),fe=Lm(we,ge.mode,$e),fe.return=ge,ge=fe),F(ge)):m(ge,fe)}return jr}var Qo=xy(!0),yy=xy(!1),Ed=qa(null),kd=null,Zo=null,K0=null;function G0(){K0=Zo=kd=null}function q0(l){var u=Ed.current;or(Ed),l._currentValue=u}function X0(l,u,m){for(;l!==null;){var y=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),l===m)break;l=l.return}}function el(l,u){kd=l,K0=Zo=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(Bn=!0),l.firstContext=null)}function gs(l){var u=l._currentValue;if(K0!==l)if(l={context:l,memoizedValue:u,next:null},Zo===null){if(kd===null)throw Error(r(308));Zo=l,kd.dependencies={lanes:0,firstContext:l}}else Zo=Zo.next=l;return u}var Ki=null;function J0(l){Ki===null?Ki=[l]:Ki.push(l)}function vy(l,u,m,y){var N=u.interleaved;return N===null?(m.next=m,J0(u)):(m.next=N.next,N.next=m),u.interleaved=m,wa(l,y)}function wa(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,m=l.alternate,m!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Qa=!1;function Q0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function by(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Na(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Za(l,u,m){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(Bt&2)!==0){var N=y.pending;return N===null?u.next=u:(u.next=N.next,N.next=u),y.pending=u,wa(l,m)}return N=y.interleaved,N===null?(u.next=u,J0(y)):(u.next=N.next,N.next=u),y.interleaved=u,wa(l,m)}function Ad(l,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var y=u.lanes;y&=l.pendingLanes,m|=y,u.lanes=m,fs(l,m)}}function wy(l,u){var m=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var N=null,S=null;if(m=m.firstBaseUpdate,m!==null){do{var F={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};S===null?N=S=F:S=S.next=F,m=m.next}while(m!==null);S===null?N=S=u:S=S.next=u}else N=S=u;m={baseState:y.baseState,firstBaseUpdate:N,lastBaseUpdate:S,shared:y.shared,effects:y.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function Pd(l,u,m,y){var N=l.updateQueue;Qa=!1;var S=N.firstBaseUpdate,F=N.lastBaseUpdate,ie=N.shared.pending;if(ie!==null){N.shared.pending=null;var ue=ie,Ce=ue.next;ue.next=null,F===null?S=Ce:F.next=Ce,F=ue;var Le=l.alternate;Le!==null&&(Le=Le.updateQueue,ie=Le.lastBaseUpdate,ie!==F&&(ie===null?Le.firstBaseUpdate=Ce:ie.next=Ce,Le.lastBaseUpdate=ue))}if(S!==null){var ze=N.baseState;F=0,Le=Ce=ue=null,ie=S;do{var Me=ie.lane,tt=ie.eventTime;if((y&Me)===Me){Le!==null&&(Le=Le.next={eventTime:tt,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var ot=l,dt=ie;switch(Me=u,tt=m,dt.tag){case 1:if(ot=dt.payload,typeof ot=="function"){ze=ot.call(tt,ze,Me);break e}ze=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=dt.payload,Me=typeof ot=="function"?ot.call(tt,ze,Me):ot,Me==null)break e;ze=ae({},ze,Me);break e;case 2:Qa=!0}}ie.callback!==null&&ie.lane!==0&&(l.flags|=64,Me=N.effects,Me===null?N.effects=[ie]:Me.push(ie))}else tt={eventTime:tt,lane:Me,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},Le===null?(Ce=Le=tt,ue=ze):Le=Le.next=tt,F|=Me;if(ie=ie.next,ie===null){if(ie=N.shared.pending,ie===null)break;Me=ie,ie=Me.next,Me.next=null,N.lastBaseUpdate=Me,N.shared.pending=null}}while(!0);if(Le===null&&(ue=ze),N.baseState=ue,N.firstBaseUpdate=Ce,N.lastBaseUpdate=Le,u=N.shared.interleaved,u!==null){N=u;do F|=N.lane,N=N.next;while(N!==u)}else S===null&&(N.shared.lanes=0);Xi|=F,l.lanes=F,l.memoizedState=ze}}function Ny(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var y=l[u],N=y.callback;if(N!==null){if(y.callback=null,y=m,typeof N!="function")throw Error(r(191,N));N.call(y)}}}var xc={},ea=qa(xc),yc=qa(xc),vc=qa(xc);function Gi(l){if(l===xc)throw Error(r(174));return l}function Z0(l,u){switch(nr(vc,u),nr(yc,l),nr(ea,xc),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ue(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=Ue(u,l)}or(ea),nr(ea,u)}function tl(){or(ea),or(yc),or(vc)}function Sy(l){Gi(vc.current);var u=Gi(ea.current),m=Ue(u,l.type);u!==m&&(nr(yc,l),nr(ea,m))}function em(l){yc.current===l&&(or(ea),or(yc))}var gr=qa(0);function Dd(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var tm=[];function rm(){for(var l=0;l<tm.length;l++)tm[l]._workInProgressVersionPrimary=null;tm.length=0}var Rd=D.ReactCurrentDispatcher,nm=D.ReactCurrentBatchConfig,qi=0,xr=null,Ir=null,Hr=null,Fd=!1,bc=!1,wc=0,yT=0;function gn(){throw Error(r(321))}function sm(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!Fs(l[m],u[m]))return!1;return!0}function am(l,u,m,y,N,S){if(qi=S,xr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Rd.current=l===null||l.memoizedState===null?NT:ST,l=m(y,N),bc){S=0;do{if(bc=!1,wc=0,25<=S)throw Error(r(301));S+=1,Hr=Ir=null,u.updateQueue=null,Rd.current=_T,l=m(y,N)}while(bc)}if(Rd.current=Ld,u=Ir!==null&&Ir.next!==null,qi=0,Hr=Ir=xr=null,Fd=!1,u)throw Error(r(300));return l}function im(){var l=wc!==0;return wc=0,l}function ta(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?xr.memoizedState=Hr=l:Hr=Hr.next=l,Hr}function xs(){if(Ir===null){var l=xr.alternate;l=l!==null?l.memoizedState:null}else l=Ir.next;var u=Hr===null?xr.memoizedState:Hr.next;if(u!==null)Hr=u,Ir=l;else{if(l===null)throw Error(r(310));Ir=l,l={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},Hr===null?xr.memoizedState=Hr=l:Hr=Hr.next=l}return Hr}function Nc(l,u){return typeof u=="function"?u(l):u}function om(l){var u=xs(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=Ir,N=y.baseQueue,S=m.pending;if(S!==null){if(N!==null){var F=N.next;N.next=S.next,S.next=F}y.baseQueue=N=S,m.pending=null}if(N!==null){S=N.next,y=y.baseState;var ie=F=null,ue=null,Ce=S;do{var Le=Ce.lane;if((qi&Le)===Le)ue!==null&&(ue=ue.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),y=Ce.hasEagerState?Ce.eagerState:l(y,Ce.action);else{var ze={lane:Le,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};ue===null?(ie=ue=ze,F=y):ue=ue.next=ze,xr.lanes|=Le,Xi|=Le}Ce=Ce.next}while(Ce!==null&&Ce!==S);ue===null?F=y:ue.next=ie,Fs(y,u.memoizedState)||(Bn=!0),u.memoizedState=y,u.baseState=F,u.baseQueue=ue,m.lastRenderedState=y}if(l=m.interleaved,l!==null){N=l;do S=N.lane,xr.lanes|=S,Xi|=S,N=N.next;while(N!==l)}else N===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function lm(l){var u=xs(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=m.dispatch,N=m.pending,S=u.memoizedState;if(N!==null){m.pending=null;var F=N=N.next;do S=l(S,F.action),F=F.next;while(F!==N);Fs(S,u.memoizedState)||(Bn=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),m.lastRenderedState=S}return[S,y]}function _y(){}function Cy(l,u){var m=xr,y=xs(),N=u(),S=!Fs(y.memoizedState,N);if(S&&(y.memoizedState=N,Bn=!0),y=y.queue,cm(Ey.bind(null,m,y,l),[l]),y.getSnapshot!==u||S||Hr!==null&&Hr.memoizedState.tag&1){if(m.flags|=2048,Sc(9,Ty.bind(null,m,y,N,u),void 0,null),Wr===null)throw Error(r(349));(qi&30)!==0||jy(m,u,N)}return N}function jy(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},u=xr.updateQueue,u===null?(u={lastEffect:null,stores:null},xr.updateQueue=u,u.stores=[l]):(m=u.stores,m===null?u.stores=[l]:m.push(l))}function Ty(l,u,m,y){u.value=m,u.getSnapshot=y,ky(u)&&Ay(l)}function Ey(l,u,m){return m(function(){ky(u)&&Ay(l)})}function ky(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!Fs(l,m)}catch{return!0}}function Ay(l){var u=wa(l,1);u!==null&&Bs(u,l,1,-1)}function Py(l){var u=ta();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:l},u.queue=l,l=l.dispatch=wT.bind(null,xr,l),[u.memoizedState,l]}function Sc(l,u,m,y){return l={tag:l,create:u,destroy:m,deps:y,next:null},u=xr.updateQueue,u===null?(u={lastEffect:null,stores:null},xr.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect,m===null?u.lastEffect=l.next=l:(y=m.next,m.next=l,l.next=y,u.lastEffect=l)),l}function Dy(){return xs().memoizedState}function Od(l,u,m,y){var N=ta();xr.flags|=l,N.memoizedState=Sc(1|u,m,void 0,y===void 0?null:y)}function Md(l,u,m,y){var N=xs();y=y===void 0?null:y;var S=void 0;if(Ir!==null){var F=Ir.memoizedState;if(S=F.destroy,y!==null&&sm(y,F.deps)){N.memoizedState=Sc(u,m,S,y);return}}xr.flags|=l,N.memoizedState=Sc(1|u,m,S,y)}function Ry(l,u){return Od(8390656,8,l,u)}function cm(l,u){return Md(2048,8,l,u)}function Fy(l,u){return Md(4,2,l,u)}function Oy(l,u){return Md(4,4,l,u)}function My(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function Ly(l,u,m){return m=m!=null?m.concat([l]):null,Md(4,4,My.bind(null,u,l),m)}function um(){}function Iy(l,u){var m=xs();u=u===void 0?null:u;var y=m.memoizedState;return y!==null&&u!==null&&sm(u,y[1])?y[0]:(m.memoizedState=[l,u],l)}function By(l,u){var m=xs();u=u===void 0?null:u;var y=m.memoizedState;return y!==null&&u!==null&&sm(u,y[1])?y[0]:(l=l(),m.memoizedState=[l,u],l)}function Uy(l,u,m){return(qi&21)===0?(l.baseState&&(l.baseState=!1,Bn=!0),l.memoizedState=m):(Fs(m,u)||(m=Qs(),xr.lanes|=m,Xi|=m,l.baseState=!0),u)}function vT(l,u){var m=Ot;Ot=m!==0&&4>m?m:4,l(!0);var y=nm.transition;nm.transition={};try{l(!1),u()}finally{Ot=m,nm.transition=y}}function zy(){return xs().memoizedState}function bT(l,u,m){var y=ni(l);if(m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},Vy(l))Hy(u,m);else if(m=vy(l,u,m,y),m!==null){var N=An();Bs(m,l,y,N),Wy(m,u,y)}}function wT(l,u,m){var y=ni(l),N={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(Vy(l))Hy(u,N);else{var S=l.alternate;if(l.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var F=u.lastRenderedState,ie=S(F,m);if(N.hasEagerState=!0,N.eagerState=ie,Fs(ie,F)){var ue=u.interleaved;ue===null?(N.next=N,J0(u)):(N.next=ue.next,ue.next=N),u.interleaved=N;return}}catch{}finally{}m=vy(l,u,N,y),m!==null&&(N=An(),Bs(m,l,y,N),Wy(m,u,y))}}function Vy(l){var u=l.alternate;return l===xr||u!==null&&u===xr}function Hy(l,u){bc=Fd=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function Wy(l,u,m){if((m&4194240)!==0){var y=u.lanes;y&=l.pendingLanes,m|=y,u.lanes=m,fs(l,m)}}var Ld={readContext:gs,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},NT={readContext:gs,useCallback:function(l,u){return ta().memoizedState=[l,u===void 0?null:u],l},useContext:gs,useEffect:Ry,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,Od(4194308,4,My.bind(null,u,l),m)},useLayoutEffect:function(l,u){return Od(4194308,4,l,u)},useInsertionEffect:function(l,u){return Od(4,2,l,u)},useMemo:function(l,u){var m=ta();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var y=ta();return u=m!==void 0?m(u):u,y.memoizedState=y.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},y.queue=l,l=l.dispatch=bT.bind(null,xr,l),[y.memoizedState,l]},useRef:function(l){var u=ta();return l={current:l},u.memoizedState=l},useState:Py,useDebugValue:um,useDeferredValue:function(l){return ta().memoizedState=l},useTransition:function(){var l=Py(!1),u=l[0];return l=vT.bind(null,l[1]),ta().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var y=xr,N=ta();if(fr){if(m===void 0)throw Error(r(407));m=m()}else{if(m=u(),Wr===null)throw Error(r(349));(qi&30)!==0||jy(y,u,m)}N.memoizedState=m;var S={value:m,getSnapshot:u};return N.queue=S,Ry(Ey.bind(null,y,S,l),[l]),y.flags|=2048,Sc(9,Ty.bind(null,y,S,m,u),void 0,null),m},useId:function(){var l=ta(),u=Wr.identifierPrefix;if(fr){var m=ba,y=va;m=(y&~(1<<32-kt(y)-1)).toString(32)+m,u=":"+u+"R"+m,m=wc++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=yT++,u=":"+u+"r"+m.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},ST={readContext:gs,useCallback:Iy,useContext:gs,useEffect:cm,useImperativeHandle:Ly,useInsertionEffect:Fy,useLayoutEffect:Oy,useMemo:By,useReducer:om,useRef:Dy,useState:function(){return om(Nc)},useDebugValue:um,useDeferredValue:function(l){var u=xs();return Uy(u,Ir.memoizedState,l)},useTransition:function(){var l=om(Nc)[0],u=xs().memoizedState;return[l,u]},useMutableSource:_y,useSyncExternalStore:Cy,useId:zy,unstable_isNewReconciler:!1},_T={readContext:gs,useCallback:Iy,useContext:gs,useEffect:cm,useImperativeHandle:Ly,useInsertionEffect:Fy,useLayoutEffect:Oy,useMemo:By,useReducer:lm,useRef:Dy,useState:function(){return lm(Nc)},useDebugValue:um,useDeferredValue:function(l){var u=xs();return Ir===null?u.memoizedState=l:Uy(u,Ir.memoizedState,l)},useTransition:function(){var l=lm(Nc)[0],u=xs().memoizedState;return[l,u]},useMutableSource:_y,useSyncExternalStore:Cy,useId:zy,unstable_isNewReconciler:!1};function Ms(l,u){if(l&&l.defaultProps){u=ae({},u),l=l.defaultProps;for(var m in l)u[m]===void 0&&(u[m]=l[m]);return u}return u}function dm(l,u,m,y){u=l.memoizedState,m=m(y,u),m=m==null?u:ae({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Id={isMounted:function(l){return(l=l._reactInternals)?se(l)===l:!1},enqueueSetState:function(l,u,m){l=l._reactInternals;var y=An(),N=ni(l),S=Na(y,N);S.payload=u,m!=null&&(S.callback=m),u=Za(l,S,N),u!==null&&(Bs(u,l,N,y),Ad(u,l,N))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var y=An(),N=ni(l),S=Na(y,N);S.tag=1,S.payload=u,m!=null&&(S.callback=m),u=Za(l,S,N),u!==null&&(Bs(u,l,N,y),Ad(u,l,N))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=An(),y=ni(l),N=Na(m,y);N.tag=2,u!=null&&(N.callback=u),u=Za(l,N,y),u!==null&&(Bs(u,l,y,m),Ad(u,l,y))}};function $y(l,u,m,y,N,S,F){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,S,F):u.prototype&&u.prototype.isPureReactComponent?!cc(m,y)||!cc(N,S):!0}function Yy(l,u,m){var y=!1,N=Xa,S=u.contextType;return typeof S=="object"&&S!==null?S=gs(S):(N=In(u)?Wi:pn.current,y=u.contextTypes,S=(y=y!=null)?Go(l,N):Xa),u=new u(m,S),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Id,l.stateNode=u,u._reactInternals=l,y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=N,l.__reactInternalMemoizedMaskedChildContext=S),u}function Ky(l,u,m,y){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,y),u.state!==l&&Id.enqueueReplaceState(u,u.state,null)}function fm(l,u,m,y){var N=l.stateNode;N.props=m,N.state=l.memoizedState,N.refs={},Q0(l);var S=u.contextType;typeof S=="object"&&S!==null?N.context=gs(S):(S=In(u)?Wi:pn.current,N.context=Go(l,S)),N.state=l.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(dm(l,u,S,m),N.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(u=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),u!==N.state&&Id.enqueueReplaceState(N,N.state,null),Pd(l,m,N,y),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308)}function rl(l,u){try{var m="",y=u;do m+=k(y),y=y.return;while(y);var N=m}catch(S){N=`
Error generating stack: `+S.message+`
`+S.stack}return{value:l,source:u,stack:N,digest:null}}function hm(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function mm(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var CT=typeof WeakMap=="function"?WeakMap:Map;function Gy(l,u,m){m=Na(-1,m),m.tag=3,m.payload={element:null};var y=u.value;return m.callback=function(){$d||($d=!0,km=y),mm(l,u)},m}function qy(l,u,m){m=Na(-1,m),m.tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var N=u.value;m.payload=function(){return y(N)},m.callback=function(){mm(l,u)}}var S=l.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(m.callback=function(){mm(l,u),typeof y!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var F=u.stack;this.componentDidCatch(u.value,{componentStack:F!==null?F:""})}),m}function Xy(l,u,m){var y=l.pingCache;if(y===null){y=l.pingCache=new CT;var N=new Set;y.set(u,N)}else N=y.get(u),N===void 0&&(N=new Set,y.set(u,N));N.has(m)||(N.add(m),l=BT.bind(null,l,u,m),u.then(l,l))}function Jy(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function Qy(l,u,m,y,N){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=Na(-1,1),u.tag=2,Za(m,u,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=N,l)}var jT=D.ReactCurrentOwner,Bn=!1;function kn(l,u,m,y){u.child=l===null?yy(u,null,m,y):Qo(u,l.child,m,y)}function Zy(l,u,m,y,N){m=m.render;var S=u.ref;return el(u,N),y=am(l,u,m,y,S,N),m=im(),l!==null&&!Bn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~N,Sa(l,u,N)):(fr&&m&&V0(u),u.flags|=1,kn(l,u,y,N),u.child)}function ev(l,u,m,y,N){if(l===null){var S=m.type;return typeof S=="function"&&!Mm(S)&&S.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=S,tv(l,u,S,y,N)):(l=Jd(m.type,null,y,u,u.mode,N),l.ref=u.ref,l.return=u,u.child=l)}if(S=l.child,(l.lanes&N)===0){var F=S.memoizedProps;if(m=m.compare,m=m!==null?m:cc,m(F,y)&&l.ref===u.ref)return Sa(l,u,N)}return u.flags|=1,l=ai(S,y),l.ref=u.ref,l.return=u,u.child=l}function tv(l,u,m,y,N){if(l!==null){var S=l.memoizedProps;if(cc(S,y)&&l.ref===u.ref)if(Bn=!1,u.pendingProps=y=S,(l.lanes&N)!==0)(l.flags&131072)!==0&&(Bn=!0);else return u.lanes=l.lanes,Sa(l,u,N)}return pm(l,u,m,y,N)}function rv(l,u,m){var y=u.pendingProps,N=y.children,S=l!==null?l.memoizedState:null;if(y.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr(sl,is),is|=m;else{if((m&1073741824)===0)return l=S!==null?S.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,nr(sl,is),is|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=S!==null?S.baseLanes:m,nr(sl,is),is|=y}else S!==null?(y=S.baseLanes|m,u.memoizedState=null):y=m,nr(sl,is),is|=y;return kn(l,u,N,m),u.child}function nv(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function pm(l,u,m,y,N){var S=In(m)?Wi:pn.current;return S=Go(u,S),el(u,N),m=am(l,u,m,y,S,N),y=im(),l!==null&&!Bn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~N,Sa(l,u,N)):(fr&&y&&V0(u),u.flags|=1,kn(l,u,m,N),u.child)}function sv(l,u,m,y,N){if(In(m)){var S=!0;Nd(u)}else S=!1;if(el(u,N),u.stateNode===null)Ud(l,u),Yy(u,m,y),fm(u,m,y,N),y=!0;else if(l===null){var F=u.stateNode,ie=u.memoizedProps;F.props=ie;var ue=F.context,Ce=m.contextType;typeof Ce=="object"&&Ce!==null?Ce=gs(Ce):(Ce=In(m)?Wi:pn.current,Ce=Go(u,Ce));var Le=m.getDerivedStateFromProps,ze=typeof Le=="function"||typeof F.getSnapshotBeforeUpdate=="function";ze||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ie!==y||ue!==Ce)&&Ky(u,F,y,Ce),Qa=!1;var Me=u.memoizedState;F.state=Me,Pd(u,y,F,N),ue=u.memoizedState,ie!==y||Me!==ue||Ln.current||Qa?(typeof Le=="function"&&(dm(u,m,Le,y),ue=u.memoizedState),(ie=Qa||$y(u,m,ie,y,Me,ue,Ce))?(ze||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(u.flags|=4194308)):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=ue),F.props=y,F.state=ue,F.context=Ce,y=ie):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{F=u.stateNode,by(l,u),ie=u.memoizedProps,Ce=u.type===u.elementType?ie:Ms(u.type,ie),F.props=Ce,ze=u.pendingProps,Me=F.context,ue=m.contextType,typeof ue=="object"&&ue!==null?ue=gs(ue):(ue=In(m)?Wi:pn.current,ue=Go(u,ue));var tt=m.getDerivedStateFromProps;(Le=typeof tt=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ie!==ze||Me!==ue)&&Ky(u,F,y,ue),Qa=!1,Me=u.memoizedState,F.state=Me,Pd(u,y,F,N);var ot=u.memoizedState;ie!==ze||Me!==ot||Ln.current||Qa?(typeof tt=="function"&&(dm(u,m,tt,y),ot=u.memoizedState),(Ce=Qa||$y(u,m,Ce,y,Me,ot,ue)||!1)?(Le||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(y,ot,ue),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(y,ot,ue)),typeof F.componentDidUpdate=="function"&&(u.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof F.componentDidUpdate!="function"||ie===l.memoizedProps&&Me===l.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ie===l.memoizedProps&&Me===l.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=ot),F.props=y,F.state=ot,F.context=ue,y=Ce):(typeof F.componentDidUpdate!="function"||ie===l.memoizedProps&&Me===l.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ie===l.memoizedProps&&Me===l.memoizedState||(u.flags|=1024),y=!1)}return gm(l,u,m,y,S,N)}function gm(l,u,m,y,N,S){nv(l,u);var F=(u.flags&128)!==0;if(!y&&!F)return N&&cy(u,m,!1),Sa(l,u,S);y=u.stateNode,jT.current=u;var ie=F&&typeof m.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,l!==null&&F?(u.child=Qo(u,l.child,null,S),u.child=Qo(u,null,ie,S)):kn(l,u,ie,S),u.memoizedState=y.state,N&&cy(u,m,!0),u.child}function av(l){var u=l.stateNode;u.pendingContext?oy(l,u.pendingContext,u.pendingContext!==u.context):u.context&&oy(l,u.context,!1),Z0(l,u.containerInfo)}function iv(l,u,m,y,N){return Jo(),Y0(N),u.flags|=256,kn(l,u,m,y),u.child}var xm={dehydrated:null,treeContext:null,retryLane:0};function ym(l){return{baseLanes:l,cachePool:null,transitions:null}}function ov(l,u,m){var y=u.pendingProps,N=gr.current,S=!1,F=(u.flags&128)!==0,ie;if((ie=F)||(ie=l!==null&&l.memoizedState===null?!1:(N&2)!==0),ie?(S=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(N|=1),nr(gr,N&1),l===null)return $0(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(F=y.children,l=y.fallback,S?(y=u.mode,S=u.child,F={mode:"hidden",children:F},(y&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=F):S=Qd(F,y,0,null),l=eo(l,y,m,null),S.return=u,l.return=u,S.sibling=l,u.child=S,u.child.memoizedState=ym(m),u.memoizedState=xm,l):vm(u,F));if(N=l.memoizedState,N!==null&&(ie=N.dehydrated,ie!==null))return TT(l,u,F,y,ie,N,m);if(S){S=y.fallback,F=u.mode,N=l.child,ie=N.sibling;var ue={mode:"hidden",children:y.children};return(F&1)===0&&u.child!==N?(y=u.child,y.childLanes=0,y.pendingProps=ue,u.deletions=null):(y=ai(N,ue),y.subtreeFlags=N.subtreeFlags&14680064),ie!==null?S=ai(ie,S):(S=eo(S,F,m,null),S.flags|=2),S.return=u,y.return=u,y.sibling=S,u.child=y,y=S,S=u.child,F=l.child.memoizedState,F=F===null?ym(m):{baseLanes:F.baseLanes|m,cachePool:null,transitions:F.transitions},S.memoizedState=F,S.childLanes=l.childLanes&~m,u.memoizedState=xm,y}return S=l.child,l=S.sibling,y=ai(S,{mode:"visible",children:y.children}),(u.mode&1)===0&&(y.lanes=m),y.return=u,y.sibling=null,l!==null&&(m=u.deletions,m===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=y,u.memoizedState=null,y}function vm(l,u){return u=Qd({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function Bd(l,u,m,y){return y!==null&&Y0(y),Qo(u,l.child,null,m),l=vm(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function TT(l,u,m,y,N,S,F){if(m)return u.flags&256?(u.flags&=-257,y=hm(Error(r(422))),Bd(l,u,F,y)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(S=y.fallback,N=u.mode,y=Qd({mode:"visible",children:y.children},N,0,null),S=eo(S,N,F,null),S.flags|=2,y.return=u,S.return=u,y.sibling=S,u.child=y,(u.mode&1)!==0&&Qo(u,l.child,null,F),u.child.memoizedState=ym(F),u.memoizedState=xm,S);if((u.mode&1)===0)return Bd(l,u,F,null);if(N.data==="$!"){if(y=N.nextSibling&&N.nextSibling.dataset,y)var ie=y.dgst;return y=ie,S=Error(r(419)),y=hm(S,y,void 0),Bd(l,u,F,y)}if(ie=(F&l.childLanes)!==0,Bn||ie){if(y=Wr,y!==null){switch(F&-F){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(y.suspendedLanes|F))!==0?0:N,N!==0&&N!==S.retryLane&&(S.retryLane=N,wa(l,N),Bs(y,l,N,-1))}return Om(),y=hm(Error(r(421))),Bd(l,u,F,y)}return N.data==="$?"?(u.flags|=128,u.child=l.child,u=UT.bind(null,l),N._reactRetry=u,null):(l=S.treeContext,as=Ga(N.nextSibling),ss=u,fr=!0,Os=null,l!==null&&(ms[ps++]=va,ms[ps++]=ba,ms[ps++]=$i,va=l.id,ba=l.overflow,$i=u),u=vm(u,y.children),u.flags|=4096,u)}function lv(l,u,m){l.lanes|=u;var y=l.alternate;y!==null&&(y.lanes|=u),X0(l.return,u,m)}function bm(l,u,m,y,N){var S=l.memoizedState;S===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:N}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=y,S.tail=m,S.tailMode=N)}function cv(l,u,m){var y=u.pendingProps,N=y.revealOrder,S=y.tail;if(kn(l,u,y.children,m),y=gr.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&lv(l,m,u);else if(l.tag===19)lv(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(nr(gr,y),(u.mode&1)===0)u.memoizedState=null;else switch(N){case"forwards":for(m=u.child,N=null;m!==null;)l=m.alternate,l!==null&&Dd(l)===null&&(N=m),m=m.sibling;m=N,m===null?(N=u.child,u.child=null):(N=m.sibling,m.sibling=null),bm(u,!1,N,m,S);break;case"backwards":for(m=null,N=u.child,u.child=null;N!==null;){if(l=N.alternate,l!==null&&Dd(l)===null){u.child=N;break}l=N.sibling,N.sibling=m,m=N,N=l}bm(u,!0,m,null,S);break;case"together":bm(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Ud(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Sa(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),Xi|=u.lanes,(m&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,m=ai(l,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,m=m.sibling=ai(l,l.pendingProps),m.return=u;m.sibling=null}return u.child}function ET(l,u,m){switch(u.tag){case 3:av(u),Jo();break;case 5:Sy(u);break;case 1:In(u.type)&&Nd(u);break;case 4:Z0(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,N=u.memoizedProps.value;nr(Ed,y._currentValue),y._currentValue=N;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(nr(gr,gr.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?ov(l,u,m):(nr(gr,gr.current&1),l=Sa(l,u,m),l!==null?l.sibling:null);nr(gr,gr.current&1);break;case 19:if(y=(m&u.childLanes)!==0,(l.flags&128)!==0){if(y)return cv(l,u,m);u.flags|=128}if(N=u.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),nr(gr,gr.current),y)break;return null;case 22:case 23:return u.lanes=0,rv(l,u,m)}return Sa(l,u,m)}var uv,wm,dv,fv;uv=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},wm=function(){},dv=function(l,u,m,y){var N=l.memoizedProps;if(N!==y){l=u.stateNode,Gi(ea.current);var S=null;switch(m){case"input":N=Ve(l,N),y=Ve(l,y),S=[];break;case"select":N=ae({},N,{value:void 0}),y=ae({},y,{value:void 0}),S=[];break;case"textarea":N=Ct(l,N),y=Ct(l,y),S=[];break;default:typeof N.onClick!="function"&&typeof y.onClick=="function"&&(l.onclick=vd)}Zn(m,y);var F;m=null;for(Ce in N)if(!y.hasOwnProperty(Ce)&&N.hasOwnProperty(Ce)&&N[Ce]!=null)if(Ce==="style"){var ie=N[Ce];for(F in ie)ie.hasOwnProperty(F)&&(m||(m={}),m[F]="")}else Ce!=="dangerouslySetInnerHTML"&&Ce!=="children"&&Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&Ce!=="autoFocus"&&(s.hasOwnProperty(Ce)?S||(S=[]):(S=S||[]).push(Ce,null));for(Ce in y){var ue=y[Ce];if(ie=N!=null?N[Ce]:void 0,y.hasOwnProperty(Ce)&&ue!==ie&&(ue!=null||ie!=null))if(Ce==="style")if(ie){for(F in ie)!ie.hasOwnProperty(F)||ue&&ue.hasOwnProperty(F)||(m||(m={}),m[F]="");for(F in ue)ue.hasOwnProperty(F)&&ie[F]!==ue[F]&&(m||(m={}),m[F]=ue[F])}else m||(S||(S=[]),S.push(Ce,m)),m=ue;else Ce==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ie=ie?ie.__html:void 0,ue!=null&&ie!==ue&&(S=S||[]).push(Ce,ue)):Ce==="children"?typeof ue!="string"&&typeof ue!="number"||(S=S||[]).push(Ce,""+ue):Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ce)?(ue!=null&&Ce==="onScroll"&&ir("scroll",l),S||ie===ue||(S=[])):(S=S||[]).push(Ce,ue))}m&&(S=S||[]).push("style",m);var Ce=S;(u.updateQueue=Ce)&&(u.flags|=4)}},fv=function(l,u,m,y){m!==y&&(u.flags|=4)};function _c(l,u){if(!fr)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function xn(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,y=0;if(u)for(var N=l.child;N!==null;)m|=N.lanes|N.childLanes,y|=N.subtreeFlags&14680064,y|=N.flags&14680064,N.return=l,N=N.sibling;else for(N=l.child;N!==null;)m|=N.lanes|N.childLanes,y|=N.subtreeFlags,y|=N.flags,N.return=l,N=N.sibling;return l.subtreeFlags|=y,l.childLanes=m,u}function kT(l,u,m){var y=u.pendingProps;switch(H0(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(u),null;case 1:return In(u.type)&&wd(),xn(u),null;case 3:return y=u.stateNode,tl(),or(Ln),or(pn),rm(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(l===null||l.child===null)&&(jd(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Os!==null&&(Dm(Os),Os=null))),wm(l,u),xn(u),null;case 5:em(u);var N=Gi(vc.current);if(m=u.type,l!==null&&u.stateNode!=null)dv(l,u,m,y,N),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(r(166));return xn(u),null}if(l=Gi(ea.current),jd(u)){y=u.stateNode,m=u.type;var S=u.memoizedProps;switch(y[Zs]=u,y[mc]=S,l=(u.mode&1)!==0,m){case"dialog":ir("cancel",y),ir("close",y);break;case"iframe":case"object":case"embed":ir("load",y);break;case"video":case"audio":for(N=0;N<dc.length;N++)ir(dc[N],y);break;case"source":ir("error",y);break;case"img":case"image":case"link":ir("error",y),ir("load",y);break;case"details":ir("toggle",y);break;case"input":de(y,S),ir("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!S.multiple},ir("invalid",y);break;case"textarea":Ne(y,S),ir("invalid",y)}Zn(m,S),N=null;for(var F in S)if(S.hasOwnProperty(F)){var ie=S[F];F==="children"?typeof ie=="string"?y.textContent!==ie&&(S.suppressHydrationWarning!==!0&&yd(y.textContent,ie,l),N=["children",ie]):typeof ie=="number"&&y.textContent!==""+ie&&(S.suppressHydrationWarning!==!0&&yd(y.textContent,ie,l),N=["children",""+ie]):s.hasOwnProperty(F)&&ie!=null&&F==="onScroll"&&ir("scroll",y)}switch(m){case"input":Ke(y),Ze(y,S,!0);break;case"textarea":Ke(y),Je(y);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(y.onclick=vd)}y=N,u.updateQueue=y,y!==null&&(u.flags|=4)}else{F=N.nodeType===9?N:N.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Re(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=F.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof y.is=="string"?l=F.createElement(m,{is:y.is}):(l=F.createElement(m),m==="select"&&(F=l,y.multiple?F.multiple=!0:y.size&&(F.size=y.size))):l=F.createElementNS(l,m),l[Zs]=u,l[mc]=y,uv(l,u,!1,!1),u.stateNode=l;e:{switch(F=Ps(m,y),m){case"dialog":ir("cancel",l),ir("close",l),N=y;break;case"iframe":case"object":case"embed":ir("load",l),N=y;break;case"video":case"audio":for(N=0;N<dc.length;N++)ir(dc[N],l);N=y;break;case"source":ir("error",l),N=y;break;case"img":case"image":case"link":ir("error",l),ir("load",l),N=y;break;case"details":ir("toggle",l),N=y;break;case"input":de(l,y),N=Ve(l,y),ir("invalid",l);break;case"option":N=y;break;case"select":l._wrapperState={wasMultiple:!!y.multiple},N=ae({},y,{value:void 0}),ir("invalid",l);break;case"textarea":Ne(l,y),N=Ct(l,y),ir("invalid",l);break;default:N=y}Zn(m,N),ie=N;for(S in ie)if(ie.hasOwnProperty(S)){var ue=ie[S];S==="style"?Pt(l,ue):S==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ue!=null&&it(l,ue)):S==="children"?typeof ue=="string"?(m!=="textarea"||ue!=="")&&vt(l,ue):typeof ue=="number"&&vt(l,""+ue):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(s.hasOwnProperty(S)?ue!=null&&S==="onScroll"&&ir("scroll",l):ue!=null&&j(l,S,ue,F))}switch(m){case"input":Ke(l),Ze(l,y,!1);break;case"textarea":Ke(l),Je(l);break;case"option":y.value!=null&&l.setAttribute("value",""+he(y.value));break;case"select":l.multiple=!!y.multiple,S=y.value,S!=null?st(l,!!y.multiple,S,!1):y.defaultValue!=null&&st(l,!!y.multiple,y.defaultValue,!0);break;default:typeof N.onClick=="function"&&(l.onclick=vd)}switch(m){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return xn(u),null;case 6:if(l&&u.stateNode!=null)fv(l,u,l.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(m=Gi(vc.current),Gi(ea.current),jd(u)){if(y=u.stateNode,m=u.memoizedProps,y[Zs]=u,(S=y.nodeValue!==m)&&(l=ss,l!==null))switch(l.tag){case 3:yd(y.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&yd(y.nodeValue,m,(l.mode&1)!==0)}S&&(u.flags|=4)}else y=(m.nodeType===9?m:m.ownerDocument).createTextNode(y),y[Zs]=u,u.stateNode=y}return xn(u),null;case 13:if(or(gr),y=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(fr&&as!==null&&(u.mode&1)!==0&&(u.flags&128)===0)py(),Jo(),u.flags|=98560,S=!1;else if(S=jd(u),y!==null&&y.dehydrated!==null){if(l===null){if(!S)throw Error(r(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[Zs]=u}else Jo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;xn(u),S=!1}else Os!==null&&(Dm(Os),Os=null),S=!0;if(!S)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(y=y!==null,y!==(l!==null&&l.memoizedState!==null)&&y&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(gr.current&1)!==0?Br===0&&(Br=3):Om())),u.updateQueue!==null&&(u.flags|=4),xn(u),null);case 4:return tl(),wm(l,u),l===null&&fc(u.stateNode.containerInfo),xn(u),null;case 10:return q0(u.type._context),xn(u),null;case 17:return In(u.type)&&wd(),xn(u),null;case 19:if(or(gr),S=u.memoizedState,S===null)return xn(u),null;if(y=(u.flags&128)!==0,F=S.rendering,F===null)if(y)_c(S,!1);else{if(Br!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(F=Dd(l),F!==null){for(u.flags|=128,_c(S,!1),y=F.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=m,m=u.child;m!==null;)S=m,l=y,S.flags&=14680066,F=S.alternate,F===null?(S.childLanes=0,S.lanes=l,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=F.childLanes,S.lanes=F.lanes,S.child=F.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=F.memoizedProps,S.memoizedState=F.memoizedState,S.updateQueue=F.updateQueue,S.type=F.type,l=F.dependencies,S.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return nr(gr,gr.current&1|2),u.child}l=l.sibling}S.tail!==null&&_e()>al&&(u.flags|=128,y=!0,_c(S,!1),u.lanes=4194304)}else{if(!y)if(l=Dd(F),l!==null){if(u.flags|=128,y=!0,m=l.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),_c(S,!0),S.tail===null&&S.tailMode==="hidden"&&!F.alternate&&!fr)return xn(u),null}else 2*_e()-S.renderingStartTime>al&&m!==1073741824&&(u.flags|=128,y=!0,_c(S,!1),u.lanes=4194304);S.isBackwards?(F.sibling=u.child,u.child=F):(m=S.last,m!==null?m.sibling=F:u.child=F,S.last=F)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=_e(),u.sibling=null,m=gr.current,nr(gr,y?m&1|2:m&1),u):(xn(u),null);case 22:case 23:return Fm(),y=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==y&&(u.flags|=8192),y&&(u.mode&1)!==0?(is&1073741824)!==0&&(xn(u),u.subtreeFlags&6&&(u.flags|=8192)):xn(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function AT(l,u){switch(H0(u),u.tag){case 1:return In(u.type)&&wd(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return tl(),or(Ln),or(pn),rm(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return em(u),null;case 13:if(or(gr),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Jo()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return or(gr),null;case 4:return tl(),null;case 10:return q0(u.type._context),null;case 22:case 23:return Fm(),null;case 24:return null;default:return null}}var zd=!1,yn=!1,PT=typeof WeakSet=="function"?WeakSet:Set,at=null;function nl(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){Nr(l,u,y)}else m.current=null}function Nm(l,u,m){try{m()}catch(y){Nr(l,u,y)}}var hv=!1;function DT(l,u){if(F0=od,l=$1(),j0(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var N=y.anchorOffset,S=y.focusNode;y=y.focusOffset;try{m.nodeType,S.nodeType}catch{m=null;break e}var F=0,ie=-1,ue=-1,Ce=0,Le=0,ze=l,Me=null;t:for(;;){for(var tt;ze!==m||N!==0&&ze.nodeType!==3||(ie=F+N),ze!==S||y!==0&&ze.nodeType!==3||(ue=F+y),ze.nodeType===3&&(F+=ze.nodeValue.length),(tt=ze.firstChild)!==null;)Me=ze,ze=tt;for(;;){if(ze===l)break t;if(Me===m&&++Ce===N&&(ie=F),Me===S&&++Le===y&&(ue=F),(tt=ze.nextSibling)!==null)break;ze=Me,Me=ze.parentNode}ze=tt}m=ie===-1||ue===-1?null:{start:ie,end:ue}}else m=null}m=m||{start:0,end:0}}else m=null;for(O0={focusedElem:l,selectionRange:m},od=!1,at=u;at!==null;)if(u=at,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,at=l;else for(;at!==null;){u=at;try{var ot=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var dt=ot.memoizedProps,jr=ot.memoizedState,ge=u.stateNode,fe=ge.getSnapshotBeforeUpdate(u.elementType===u.type?dt:Ms(u.type,dt),jr);ge.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:var we=u.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch($e){Nr(u,u.return,$e)}if(l=u.sibling,l!==null){l.return=u.return,at=l;break}at=u.return}return ot=hv,hv=!1,ot}function Cc(l,u,m){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var N=y=y.next;do{if((N.tag&l)===l){var S=N.destroy;N.destroy=void 0,S!==void 0&&Nm(u,m,S)}N=N.next}while(N!==y)}}function Vd(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&l)===l){var y=m.create;m.destroy=y()}m=m.next}while(m!==u)}}function Sm(l){var u=l.ref;if(u!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof u=="function"?u(l):u.current=l}}function mv(l){var u=l.alternate;u!==null&&(l.alternate=null,mv(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[Zs],delete u[mc],delete u[B0],delete u[mT],delete u[pT])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function pv(l){return l.tag===5||l.tag===3||l.tag===4}function gv(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||pv(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function _m(l,u,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(l,u):m.insertBefore(l,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(l,m)):(u=m,u.appendChild(l)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=vd));else if(y!==4&&(l=l.child,l!==null))for(_m(l,u,m),l=l.sibling;l!==null;)_m(l,u,m),l=l.sibling}function Cm(l,u,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?m.insertBefore(l,u):m.appendChild(l);else if(y!==4&&(l=l.child,l!==null))for(Cm(l,u,m),l=l.sibling;l!==null;)Cm(l,u,m),l=l.sibling}var tn=null,Ls=!1;function ei(l,u,m){for(m=m.child;m!==null;)xv(l,u,m),m=m.sibling}function xv(l,u,m){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(pr,m)}catch{}switch(m.tag){case 5:yn||nl(m,u);case 6:var y=tn,N=Ls;tn=null,ei(l,u,m),tn=y,Ls=N,tn!==null&&(Ls?(l=tn,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):tn.removeChild(m.stateNode));break;case 18:tn!==null&&(Ls?(l=tn,m=m.stateNode,l.nodeType===8?I0(l.parentNode,m):l.nodeType===1&&I0(l,m),nc(l)):I0(tn,m.stateNode));break;case 4:y=tn,N=Ls,tn=m.stateNode.containerInfo,Ls=!0,ei(l,u,m),tn=y,Ls=N;break;case 0:case 11:case 14:case 15:if(!yn&&(y=m.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){N=y=y.next;do{var S=N,F=S.destroy;S=S.tag,F!==void 0&&((S&2)!==0||(S&4)!==0)&&Nm(m,u,F),N=N.next}while(N!==y)}ei(l,u,m);break;case 1:if(!yn&&(nl(m,u),y=m.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch(ie){Nr(m,u,ie)}ei(l,u,m);break;case 21:ei(l,u,m);break;case 22:m.mode&1?(yn=(y=yn)||m.memoizedState!==null,ei(l,u,m),yn=y):ei(l,u,m);break;default:ei(l,u,m)}}function yv(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new PT),u.forEach(function(y){var N=zT.bind(null,l,y);m.has(y)||(m.add(y),y.then(N,N))})}}function Is(l,u){var m=u.deletions;if(m!==null)for(var y=0;y<m.length;y++){var N=m[y];try{var S=l,F=u,ie=F;e:for(;ie!==null;){switch(ie.tag){case 5:tn=ie.stateNode,Ls=!1;break e;case 3:tn=ie.stateNode.containerInfo,Ls=!0;break e;case 4:tn=ie.stateNode.containerInfo,Ls=!0;break e}ie=ie.return}if(tn===null)throw Error(r(160));xv(S,F,N),tn=null,Ls=!1;var ue=N.alternate;ue!==null&&(ue.return=null),N.return=null}catch(Ce){Nr(N,u,Ce)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)vv(u,l),u=u.sibling}function vv(l,u){var m=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Is(u,l),ra(l),y&4){try{Cc(3,l,l.return),Vd(3,l)}catch(dt){Nr(l,l.return,dt)}try{Cc(5,l,l.return)}catch(dt){Nr(l,l.return,dt)}}break;case 1:Is(u,l),ra(l),y&512&&m!==null&&nl(m,m.return);break;case 5:if(Is(u,l),ra(l),y&512&&m!==null&&nl(m,m.return),l.flags&32){var N=l.stateNode;try{vt(N,"")}catch(dt){Nr(l,l.return,dt)}}if(y&4&&(N=l.stateNode,N!=null)){var S=l.memoizedProps,F=m!==null?m.memoizedProps:S,ie=l.type,ue=l.updateQueue;if(l.updateQueue=null,ue!==null)try{ie==="input"&&S.type==="radio"&&S.name!=null&&Ee(N,S),Ps(ie,F);var Ce=Ps(ie,S);for(F=0;F<ue.length;F+=2){var Le=ue[F],ze=ue[F+1];Le==="style"?Pt(N,ze):Le==="dangerouslySetInnerHTML"?it(N,ze):Le==="children"?vt(N,ze):j(N,Le,ze,Ce)}switch(ie){case"input":je(N,S);break;case"textarea":Be(N,S);break;case"select":var Me=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!S.multiple;var tt=S.value;tt!=null?st(N,!!S.multiple,tt,!1):Me!==!!S.multiple&&(S.defaultValue!=null?st(N,!!S.multiple,S.defaultValue,!0):st(N,!!S.multiple,S.multiple?[]:"",!1))}N[mc]=S}catch(dt){Nr(l,l.return,dt)}}break;case 6:if(Is(u,l),ra(l),y&4){if(l.stateNode===null)throw Error(r(162));N=l.stateNode,S=l.memoizedProps;try{N.nodeValue=S}catch(dt){Nr(l,l.return,dt)}}break;case 3:if(Is(u,l),ra(l),y&4&&m!==null&&m.memoizedState.isDehydrated)try{nc(u.containerInfo)}catch(dt){Nr(l,l.return,dt)}break;case 4:Is(u,l),ra(l);break;case 13:Is(u,l),ra(l),N=l.child,N.flags&8192&&(S=N.memoizedState!==null,N.stateNode.isHidden=S,!S||N.alternate!==null&&N.alternate.memoizedState!==null||(Em=_e())),y&4&&yv(l);break;case 22:if(Le=m!==null&&m.memoizedState!==null,l.mode&1?(yn=(Ce=yn)||Le,Is(u,l),yn=Ce):Is(u,l),ra(l),y&8192){if(Ce=l.memoizedState!==null,(l.stateNode.isHidden=Ce)&&!Le&&(l.mode&1)!==0)for(at=l,Le=l.child;Le!==null;){for(ze=at=Le;at!==null;){switch(Me=at,tt=Me.child,Me.tag){case 0:case 11:case 14:case 15:Cc(4,Me,Me.return);break;case 1:nl(Me,Me.return);var ot=Me.stateNode;if(typeof ot.componentWillUnmount=="function"){y=Me,m=Me.return;try{u=y,ot.props=u.memoizedProps,ot.state=u.memoizedState,ot.componentWillUnmount()}catch(dt){Nr(y,m,dt)}}break;case 5:nl(Me,Me.return);break;case 22:if(Me.memoizedState!==null){Nv(ze);continue}}tt!==null?(tt.return=Me,at=tt):Nv(ze)}Le=Le.sibling}e:for(Le=null,ze=l;;){if(ze.tag===5){if(Le===null){Le=ze;try{N=ze.stateNode,Ce?(S=N.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(ie=ze.stateNode,ue=ze.memoizedProps.style,F=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,ie.style.display=Tn("display",F))}catch(dt){Nr(l,l.return,dt)}}}else if(ze.tag===6){if(Le===null)try{ze.stateNode.nodeValue=Ce?"":ze.memoizedProps}catch(dt){Nr(l,l.return,dt)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===l)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===l)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===l)break e;Le===ze&&(Le=null),ze=ze.return}Le===ze&&(Le=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:Is(u,l),ra(l),y&4&&yv(l);break;case 21:break;default:Is(u,l),ra(l)}}function ra(l){var u=l.flags;if(u&2){try{e:{for(var m=l.return;m!==null;){if(pv(m)){var y=m;break e}m=m.return}throw Error(r(160))}switch(y.tag){case 5:var N=y.stateNode;y.flags&32&&(vt(N,""),y.flags&=-33);var S=gv(l);Cm(l,S,N);break;case 3:case 4:var F=y.stateNode.containerInfo,ie=gv(l);_m(l,ie,F);break;default:throw Error(r(161))}}catch(ue){Nr(l,l.return,ue)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function RT(l,u,m){at=l,bv(l)}function bv(l,u,m){for(var y=(l.mode&1)!==0;at!==null;){var N=at,S=N.child;if(N.tag===22&&y){var F=N.memoizedState!==null||zd;if(!F){var ie=N.alternate,ue=ie!==null&&ie.memoizedState!==null||yn;ie=zd;var Ce=yn;if(zd=F,(yn=ue)&&!Ce)for(at=N;at!==null;)F=at,ue=F.child,F.tag===22&&F.memoizedState!==null?Sv(N):ue!==null?(ue.return=F,at=ue):Sv(N);for(;S!==null;)at=S,bv(S),S=S.sibling;at=N,zd=ie,yn=Ce}wv(l)}else(N.subtreeFlags&8772)!==0&&S!==null?(S.return=N,at=S):wv(l)}}function wv(l){for(;at!==null;){var u=at;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:yn||Vd(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!yn)if(m===null)y.componentDidMount();else{var N=u.elementType===u.type?m.memoizedProps:Ms(u.type,m.memoizedProps);y.componentDidUpdate(N,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var S=u.updateQueue;S!==null&&Ny(u,S,y);break;case 3:var F=u.updateQueue;if(F!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}Ny(u,F,m)}break;case 5:var ie=u.stateNode;if(m===null&&u.flags&4){m=ie;var ue=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ue.autoFocus&&m.focus();break;case"img":ue.src&&(m.src=ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Ce=u.alternate;if(Ce!==null){var Le=Ce.memoizedState;if(Le!==null){var ze=Le.dehydrated;ze!==null&&nc(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}yn||u.flags&512&&Sm(u)}catch(Me){Nr(u,u.return,Me)}}if(u===l){at=null;break}if(m=u.sibling,m!==null){m.return=u.return,at=m;break}at=u.return}}function Nv(l){for(;at!==null;){var u=at;if(u===l){at=null;break}var m=u.sibling;if(m!==null){m.return=u.return,at=m;break}at=u.return}}function Sv(l){for(;at!==null;){var u=at;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Vd(4,u)}catch(ue){Nr(u,m,ue)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var N=u.return;try{y.componentDidMount()}catch(ue){Nr(u,N,ue)}}var S=u.return;try{Sm(u)}catch(ue){Nr(u,S,ue)}break;case 5:var F=u.return;try{Sm(u)}catch(ue){Nr(u,F,ue)}}}catch(ue){Nr(u,u.return,ue)}if(u===l){at=null;break}var ie=u.sibling;if(ie!==null){ie.return=u.return,at=ie;break}at=u.return}}var FT=Math.ceil,Hd=D.ReactCurrentDispatcher,jm=D.ReactCurrentOwner,ys=D.ReactCurrentBatchConfig,Bt=0,Wr=null,Pr=null,rn=0,is=0,sl=qa(0),Br=0,jc=null,Xi=0,Wd=0,Tm=0,Tc=null,Un=null,Em=0,al=1/0,_a=null,$d=!1,km=null,ti=null,Yd=!1,ri=null,Kd=0,Ec=0,Am=null,Gd=-1,qd=0;function An(){return(Bt&6)!==0?_e():Gd!==-1?Gd:Gd=_e()}function ni(l){return(l.mode&1)===0?1:(Bt&2)!==0&&rn!==0?rn&-rn:xT.transition!==null?(qd===0&&(qd=Qs()),qd):(l=Ot,l!==0||(l=window.event,l=l===void 0?16:C1(l.type)),l)}function Bs(l,u,m,y){if(50<Ec)throw Ec=0,Am=null,Error(r(185));Lr(l,m,y),((Bt&2)===0||l!==Wr)&&(l===Wr&&((Bt&2)===0&&(Wd|=m),Br===4&&si(l,rn)),zn(l,y),m===1&&Bt===0&&(u.mode&1)===0&&(al=_e()+500,Sd&&Ja()))}function zn(l,u){var m=l.callbackNode;Ht(l,u);var y=Lo(l,l===Wr?rn:0);if(y===0)m!==null&&le(m),l.callbackNode=null,l.callbackPriority=0;else if(u=y&-y,l.callbackPriority!==u){if(m!=null&&le(m),u===1)l.tag===0?gT(Cv.bind(null,l)):uy(Cv.bind(null,l)),fT(function(){(Bt&6)===0&&Ja()}),m=null;else{switch(zi(y)){case 1:m=et;break;case 4:m=gt;break;case 16:m=St;break;case 536870912:m=Et;break;default:m=St}m=Rv(m,_v.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function _v(l,u){if(Gd=-1,qd=0,(Bt&6)!==0)throw Error(r(327));var m=l.callbackNode;if(il()&&l.callbackNode!==m)return null;var y=Lo(l,l===Wr?rn:0);if(y===0)return null;if((y&30)!==0||(y&l.expiredLanes)!==0||u)u=Xd(l,y);else{u=y;var N=Bt;Bt|=2;var S=Tv();(Wr!==l||rn!==u)&&(_a=null,al=_e()+500,Qi(l,u));do try{LT();break}catch(ie){jv(l,ie)}while(!0);G0(),Hd.current=S,Bt=N,Pr!==null?u=0:(Wr=null,rn=0,u=Br)}if(u!==0){if(u===2&&(N=Ui(l),N!==0&&(y=N,u=Pm(l,N))),u===1)throw m=jc,Qi(l,0),si(l,y),zn(l,_e()),m;if(u===6)si(l,y);else{if(N=l.current.alternate,(y&30)===0&&!OT(N)&&(u=Xd(l,y),u===2&&(S=Ui(l),S!==0&&(y=S,u=Pm(l,S))),u===1))throw m=jc,Qi(l,0),si(l,y),zn(l,_e()),m;switch(l.finishedWork=N,l.finishedLanes=y,u){case 0:case 1:throw Error(r(345));case 2:Zi(l,Un,_a);break;case 3:if(si(l,y),(y&130023424)===y&&(u=Em+500-_e(),10<u)){if(Lo(l,0)!==0)break;if(N=l.suspendedLanes,(N&y)!==y){An(),l.pingedLanes|=l.suspendedLanes&N;break}l.timeoutHandle=L0(Zi.bind(null,l,Un,_a),u);break}Zi(l,Un,_a);break;case 4:if(si(l,y),(y&4194240)===y)break;for(u=l.eventTimes,N=-1;0<y;){var F=31-kt(y);S=1<<F,F=u[F],F>N&&(N=F),y&=~S}if(y=N,y=_e()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*FT(y/1960))-y,10<y){l.timeoutHandle=L0(Zi.bind(null,l,Un,_a),y);break}Zi(l,Un,_a);break;case 5:Zi(l,Un,_a);break;default:throw Error(r(329))}}}return zn(l,_e()),l.callbackNode===m?_v.bind(null,l):null}function Pm(l,u){var m=Tc;return l.current.memoizedState.isDehydrated&&(Qi(l,u).flags|=256),l=Xd(l,u),l!==2&&(u=Un,Un=m,u!==null&&Dm(u)),l}function Dm(l){Un===null?Un=l:Un.push.apply(Un,l)}function OT(l){for(var u=l;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var y=0;y<m.length;y++){var N=m[y],S=N.getSnapshot;N=N.value;try{if(!Fs(S(),N))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function si(l,u){for(u&=~Tm,u&=~Wd,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-kt(u),y=1<<m;l[m]=-1,u&=~y}}function Cv(l){if((Bt&6)!==0)throw Error(r(327));il();var u=Lo(l,0);if((u&1)===0)return zn(l,_e()),null;var m=Xd(l,u);if(l.tag!==0&&m===2){var y=Ui(l);y!==0&&(u=y,m=Pm(l,y))}if(m===1)throw m=jc,Qi(l,0),si(l,u),zn(l,_e()),m;if(m===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Zi(l,Un,_a),zn(l,_e()),null}function Rm(l,u){var m=Bt;Bt|=1;try{return l(u)}finally{Bt=m,Bt===0&&(al=_e()+500,Sd&&Ja())}}function Ji(l){ri!==null&&ri.tag===0&&(Bt&6)===0&&il();var u=Bt;Bt|=1;var m=ys.transition,y=Ot;try{if(ys.transition=null,Ot=1,l)return l()}finally{Ot=y,ys.transition=m,Bt=u,(Bt&6)===0&&Ja()}}function Fm(){is=sl.current,or(sl)}function Qi(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,dT(m)),Pr!==null)for(m=Pr.return;m!==null;){var y=m;switch(H0(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&wd();break;case 3:tl(),or(Ln),or(pn),rm();break;case 5:em(y);break;case 4:tl();break;case 13:or(gr);break;case 19:or(gr);break;case 10:q0(y.type._context);break;case 22:case 23:Fm()}m=m.return}if(Wr=l,Pr=l=ai(l.current,null),rn=is=u,Br=0,jc=null,Tm=Wd=Xi=0,Un=Tc=null,Ki!==null){for(u=0;u<Ki.length;u++)if(m=Ki[u],y=m.interleaved,y!==null){m.interleaved=null;var N=y.next,S=m.pending;if(S!==null){var F=S.next;S.next=N,y.next=F}m.pending=y}Ki=null}return l}function jv(l,u){do{var m=Pr;try{if(G0(),Rd.current=Ld,Fd){for(var y=xr.memoizedState;y!==null;){var N=y.queue;N!==null&&(N.pending=null),y=y.next}Fd=!1}if(qi=0,Hr=Ir=xr=null,bc=!1,wc=0,jm.current=null,m===null||m.return===null){Br=1,jc=u,Pr=null;break}e:{var S=l,F=m.return,ie=m,ue=u;if(u=rn,ie.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Ce=ue,Le=ie,ze=Le.tag;if((Le.mode&1)===0&&(ze===0||ze===11||ze===15)){var Me=Le.alternate;Me?(Le.updateQueue=Me.updateQueue,Le.memoizedState=Me.memoizedState,Le.lanes=Me.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var tt=Jy(F);if(tt!==null){tt.flags&=-257,Qy(tt,F,ie,S,u),tt.mode&1&&Xy(S,Ce,u),u=tt,ue=Ce;var ot=u.updateQueue;if(ot===null){var dt=new Set;dt.add(ue),u.updateQueue=dt}else ot.add(ue);break e}else{if((u&1)===0){Xy(S,Ce,u),Om();break e}ue=Error(r(426))}}else if(fr&&ie.mode&1){var jr=Jy(F);if(jr!==null){(jr.flags&65536)===0&&(jr.flags|=256),Qy(jr,F,ie,S,u),Y0(rl(ue,ie));break e}}S=ue=rl(ue,ie),Br!==4&&(Br=2),Tc===null?Tc=[S]:Tc.push(S),S=F;do{switch(S.tag){case 3:S.flags|=65536,u&=-u,S.lanes|=u;var ge=Gy(S,ue,u);wy(S,ge);break e;case 1:ie=ue;var fe=S.type,we=S.stateNode;if((S.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(ti===null||!ti.has(we)))){S.flags|=65536,u&=-u,S.lanes|=u;var $e=qy(S,ie,u);wy(S,$e);break e}}S=S.return}while(S!==null)}kv(m)}catch(pt){u=pt,Pr===m&&m!==null&&(Pr=m=m.return);continue}break}while(!0)}function Tv(){var l=Hd.current;return Hd.current=Ld,l===null?Ld:l}function Om(){(Br===0||Br===3||Br===2)&&(Br=4),Wr===null||(Xi&268435455)===0&&(Wd&268435455)===0||si(Wr,rn)}function Xd(l,u){var m=Bt;Bt|=2;var y=Tv();(Wr!==l||rn!==u)&&(_a=null,Qi(l,u));do try{MT();break}catch(N){jv(l,N)}while(!0);if(G0(),Bt=m,Hd.current=y,Pr!==null)throw Error(r(261));return Wr=null,rn=0,Br}function MT(){for(;Pr!==null;)Ev(Pr)}function LT(){for(;Pr!==null&&!pe();)Ev(Pr)}function Ev(l){var u=Dv(l.alternate,l,is);l.memoizedProps=l.pendingProps,u===null?kv(l):Pr=u,jm.current=null}function kv(l){var u=l;do{var m=u.alternate;if(l=u.return,(u.flags&32768)===0){if(m=kT(m,u,is),m!==null){Pr=m;return}}else{if(m=AT(m,u),m!==null){m.flags&=32767,Pr=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Br=6,Pr=null;return}}if(u=u.sibling,u!==null){Pr=u;return}Pr=u=l}while(u!==null);Br===0&&(Br=5)}function Zi(l,u,m){var y=Ot,N=ys.transition;try{ys.transition=null,Ot=1,IT(l,u,m,y)}finally{ys.transition=N,Ot=y}return null}function IT(l,u,m,y){do il();while(ri!==null);if((Bt&6)!==0)throw Error(r(327));m=l.finishedWork;var N=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var S=m.lanes|m.childLanes;if(Ds(l,S),l===Wr&&(Pr=Wr=null,rn=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Yd||(Yd=!0,Rv(St,function(){return il(),null})),S=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||S){S=ys.transition,ys.transition=null;var F=Ot;Ot=1;var ie=Bt;Bt|=4,jm.current=null,DT(l,m),vv(m,l),sT(O0),od=!!F0,O0=F0=null,l.current=m,RT(m),me(),Bt=ie,Ot=F,ys.transition=S}else l.current=m;if(Yd&&(Yd=!1,ri=l,Kd=N),S=l.pendingLanes,S===0&&(ti=null),ar(m.stateNode),zn(l,_e()),u!==null)for(y=l.onRecoverableError,m=0;m<u.length;m++)N=u[m],y(N.value,{componentStack:N.stack,digest:N.digest});if($d)throw $d=!1,l=km,km=null,l;return(Kd&1)!==0&&l.tag!==0&&il(),S=l.pendingLanes,(S&1)!==0?l===Am?Ec++:(Ec=0,Am=l):Ec=0,Ja(),null}function il(){if(ri!==null){var l=zi(Kd),u=ys.transition,m=Ot;try{if(ys.transition=null,Ot=16>l?16:l,ri===null)var y=!1;else{if(l=ri,ri=null,Kd=0,(Bt&6)!==0)throw Error(r(331));var N=Bt;for(Bt|=4,at=l.current;at!==null;){var S=at,F=S.child;if((at.flags&16)!==0){var ie=S.deletions;if(ie!==null){for(var ue=0;ue<ie.length;ue++){var Ce=ie[ue];for(at=Ce;at!==null;){var Le=at;switch(Le.tag){case 0:case 11:case 15:Cc(8,Le,S)}var ze=Le.child;if(ze!==null)ze.return=Le,at=ze;else for(;at!==null;){Le=at;var Me=Le.sibling,tt=Le.return;if(mv(Le),Le===Ce){at=null;break}if(Me!==null){Me.return=tt,at=Me;break}at=tt}}}var ot=S.alternate;if(ot!==null){var dt=ot.child;if(dt!==null){ot.child=null;do{var jr=dt.sibling;dt.sibling=null,dt=jr}while(dt!==null)}}at=S}}if((S.subtreeFlags&2064)!==0&&F!==null)F.return=S,at=F;else e:for(;at!==null;){if(S=at,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Cc(9,S,S.return)}var ge=S.sibling;if(ge!==null){ge.return=S.return,at=ge;break e}at=S.return}}var fe=l.current;for(at=fe;at!==null;){F=at;var we=F.child;if((F.subtreeFlags&2064)!==0&&we!==null)we.return=F,at=we;else e:for(F=fe;at!==null;){if(ie=at,(ie.flags&2048)!==0)try{switch(ie.tag){case 0:case 11:case 15:Vd(9,ie)}}catch(pt){Nr(ie,ie.return,pt)}if(ie===F){at=null;break e}var $e=ie.sibling;if($e!==null){$e.return=ie.return,at=$e;break e}at=ie.return}}if(Bt=N,Ja(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(pr,l)}catch{}y=!0}return y}finally{Ot=m,ys.transition=u}}return!1}function Av(l,u,m){u=rl(m,u),u=Gy(l,u,1),l=Za(l,u,1),u=An(),l!==null&&(Lr(l,1,u),zn(l,u))}function Nr(l,u,m){if(l.tag===3)Av(l,l,m);else for(;u!==null;){if(u.tag===3){Av(u,l,m);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ti===null||!ti.has(y))){l=rl(m,l),l=qy(u,l,1),u=Za(u,l,1),l=An(),u!==null&&(Lr(u,1,l),zn(u,l));break}}u=u.return}}function BT(l,u,m){var y=l.pingCache;y!==null&&y.delete(u),u=An(),l.pingedLanes|=l.suspendedLanes&m,Wr===l&&(rn&m)===m&&(Br===4||Br===3&&(rn&130023424)===rn&&500>_e()-Em?Qi(l,0):Tm|=m),zn(l,u)}function Pv(l,u){u===0&&((l.mode&1)===0?u=1:(u=Ii,Ii<<=1,(Ii&130023424)===0&&(Ii=4194304)));var m=An();l=wa(l,u),l!==null&&(Lr(l,u,m),zn(l,m))}function UT(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),Pv(l,m)}function zT(l,u){var m=0;switch(l.tag){case 13:var y=l.stateNode,N=l.memoizedState;N!==null&&(m=N.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(u),Pv(l,m)}var Dv;Dv=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||Ln.current)Bn=!0;else{if((l.lanes&m)===0&&(u.flags&128)===0)return Bn=!1,ET(l,u,m);Bn=(l.flags&131072)!==0}else Bn=!1,fr&&(u.flags&1048576)!==0&&dy(u,Cd,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;Ud(l,u),l=u.pendingProps;var N=Go(u,pn.current);el(u,m),N=am(null,u,y,l,N,m);var S=im();return u.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,In(y)?(S=!0,Nd(u)):S=!1,u.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Q0(u),N.updater=Id,u.stateNode=N,N._reactInternals=u,fm(u,y,l,m),u=gm(null,u,y,!0,S,m)):(u.tag=0,fr&&S&&V0(u),kn(null,u,N,m),u=u.child),u;case 16:y=u.elementType;e:{switch(Ud(l,u),l=u.pendingProps,N=y._init,y=N(y._payload),u.type=y,N=u.tag=HT(y),l=Ms(y,l),N){case 0:u=pm(null,u,y,l,m);break e;case 1:u=sv(null,u,y,l,m);break e;case 11:u=Zy(null,u,y,l,m);break e;case 14:u=ev(null,u,y,Ms(y.type,l),m);break e}throw Error(r(306,y,""))}return u;case 0:return y=u.type,N=u.pendingProps,N=u.elementType===y?N:Ms(y,N),pm(l,u,y,N,m);case 1:return y=u.type,N=u.pendingProps,N=u.elementType===y?N:Ms(y,N),sv(l,u,y,N,m);case 3:e:{if(av(u),l===null)throw Error(r(387));y=u.pendingProps,S=u.memoizedState,N=S.element,by(l,u),Pd(u,y,null,m);var F=u.memoizedState;if(y=F.element,S.isDehydrated)if(S={element:y,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){N=rl(Error(r(423)),u),u=iv(l,u,y,m,N);break e}else if(y!==N){N=rl(Error(r(424)),u),u=iv(l,u,y,m,N);break e}else for(as=Ga(u.stateNode.containerInfo.firstChild),ss=u,fr=!0,Os=null,m=yy(u,null,y,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Jo(),y===N){u=Sa(l,u,m);break e}kn(l,u,y,m)}u=u.child}return u;case 5:return Sy(u),l===null&&$0(u),y=u.type,N=u.pendingProps,S=l!==null?l.memoizedProps:null,F=N.children,M0(y,N)?F=null:S!==null&&M0(y,S)&&(u.flags|=32),nv(l,u),kn(l,u,F,m),u.child;case 6:return l===null&&$0(u),null;case 13:return ov(l,u,m);case 4:return Z0(u,u.stateNode.containerInfo),y=u.pendingProps,l===null?u.child=Qo(u,null,y,m):kn(l,u,y,m),u.child;case 11:return y=u.type,N=u.pendingProps,N=u.elementType===y?N:Ms(y,N),Zy(l,u,y,N,m);case 7:return kn(l,u,u.pendingProps,m),u.child;case 8:return kn(l,u,u.pendingProps.children,m),u.child;case 12:return kn(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(y=u.type._context,N=u.pendingProps,S=u.memoizedProps,F=N.value,nr(Ed,y._currentValue),y._currentValue=F,S!==null)if(Fs(S.value,F)){if(S.children===N.children&&!Ln.current){u=Sa(l,u,m);break e}}else for(S=u.child,S!==null&&(S.return=u);S!==null;){var ie=S.dependencies;if(ie!==null){F=S.child;for(var ue=ie.firstContext;ue!==null;){if(ue.context===y){if(S.tag===1){ue=Na(-1,m&-m),ue.tag=2;var Ce=S.updateQueue;if(Ce!==null){Ce=Ce.shared;var Le=Ce.pending;Le===null?ue.next=ue:(ue.next=Le.next,Le.next=ue),Ce.pending=ue}}S.lanes|=m,ue=S.alternate,ue!==null&&(ue.lanes|=m),X0(S.return,m,u),ie.lanes|=m;break}ue=ue.next}}else if(S.tag===10)F=S.type===u.type?null:S.child;else if(S.tag===18){if(F=S.return,F===null)throw Error(r(341));F.lanes|=m,ie=F.alternate,ie!==null&&(ie.lanes|=m),X0(F,m,u),F=S.sibling}else F=S.child;if(F!==null)F.return=S;else for(F=S;F!==null;){if(F===u){F=null;break}if(S=F.sibling,S!==null){S.return=F.return,F=S;break}F=F.return}S=F}kn(l,u,N.children,m),u=u.child}return u;case 9:return N=u.type,y=u.pendingProps.children,el(u,m),N=gs(N),y=y(N),u.flags|=1,kn(l,u,y,m),u.child;case 14:return y=u.type,N=Ms(y,u.pendingProps),N=Ms(y.type,N),ev(l,u,y,N,m);case 15:return tv(l,u,u.type,u.pendingProps,m);case 17:return y=u.type,N=u.pendingProps,N=u.elementType===y?N:Ms(y,N),Ud(l,u),u.tag=1,In(y)?(l=!0,Nd(u)):l=!1,el(u,m),Yy(u,y,N),fm(u,y,N,m),gm(null,u,y,!0,l,m);case 19:return cv(l,u,m);case 22:return rv(l,u,m)}throw Error(r(156,u.tag))};function Rv(l,u){return B(l,u)}function VT(l,u,m,y){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vs(l,u,m,y){return new VT(l,u,m,y)}function Mm(l){return l=l.prototype,!(!l||!l.isReactComponent)}function HT(l){if(typeof l=="function")return Mm(l)?1:0;if(l!=null){if(l=l.$$typeof,l===H)return 11;if(l===O)return 14}return 2}function ai(l,u){var m=l.alternate;return m===null?(m=vs(l.tag,u,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function Jd(l,u,m,y,N,S){var F=2;if(y=l,typeof l=="function")Mm(l)&&(F=1);else if(typeof l=="string")F=5;else e:switch(l){case _:return eo(m.children,N,S,u);case P:F=8,N|=8;break;case I:return l=vs(12,m,u,N|2),l.elementType=I,l.lanes=S,l;case oe:return l=vs(13,m,u,N),l.elementType=oe,l.lanes=S,l;case Q:return l=vs(19,m,u,N),l.elementType=Q,l.lanes=S,l;case ne:return Qd(m,N,S,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case K:F=10;break e;case q:F=9;break e;case H:F=11;break e;case O:F=14;break e;case W:F=16,y=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return u=vs(F,m,u,N),u.elementType=l,u.type=y,u.lanes=S,u}function eo(l,u,m,y){return l=vs(7,l,y,u),l.lanes=m,l}function Qd(l,u,m,y){return l=vs(22,l,y,u),l.elementType=ne,l.lanes=m,l.stateNode={isHidden:!1},l}function Lm(l,u,m){return l=vs(6,l,null,u),l.lanes=m,l}function Im(l,u,m){return u=vs(4,l.children!==null?l.children:[],l.key,u),u.lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function WT(l,u,m,y,N){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ha(0),this.expirationTimes=Ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.identifierPrefix=y,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Bm(l,u,m,y,N,S,F,ie,ue){return l=new WT(l,u,m,ie,ue),u===1?(u=1,S===!0&&(u|=8)):u=0,S=vs(3,null,null,u),l.current=S,S.stateNode=l,S.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Q0(S),l}function $T(l,u,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:y==null?null:""+y,children:l,containerInfo:u,implementation:m}}function Fv(l){if(!l)return Xa;l=l._reactInternals;e:{if(se(l)!==l||l.tag!==1)throw Error(r(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(In(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(l.tag===1){var m=l.type;if(In(m))return ly(l,m,u)}return u}function Ov(l,u,m,y,N,S,F,ie,ue){return l=Bm(m,y,!0,l,N,S,F,ie,ue),l.context=Fv(null),m=l.current,y=An(),N=ni(m),S=Na(y,N),S.callback=u??null,Za(m,S,N),l.current.lanes=N,Lr(l,N,y),zn(l,y),l}function Zd(l,u,m,y){var N=u.current,S=An(),F=ni(N);return m=Fv(m),u.context===null?u.context=m:u.pendingContext=m,u=Na(S,F),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=Za(N,u,F),l!==null&&(Bs(l,N,F,S),Ad(l,N,F)),F}function ef(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Mv(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function Um(l,u){Mv(l,u),(l=l.alternate)&&Mv(l,u)}function YT(){return null}var Lv=typeof reportError=="function"?reportError:function(l){console.error(l)};function zm(l){this._internalRoot=l}tf.prototype.render=zm.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));Zd(l,u,null,null)},tf.prototype.unmount=zm.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;Ji(function(){Zd(null,l,null,null)}),u[xa]=null}};function tf(l){this._internalRoot=l}tf.prototype.unstable_scheduleHydration=function(l){if(l){var u=Vi();l={blockedOn:null,target:l,priority:u};for(var m=0;m<$a.length&&u!==0&&u<$a[m].priority;m++);$a.splice(m,0,l),m===0&&S1(l)}};function Vm(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function rf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Iv(){}function KT(l,u,m,y,N){if(N){if(typeof y=="function"){var S=y;y=function(){var Ce=ef(F);S.call(Ce)}}var F=Ov(u,y,l,0,null,!1,!1,"",Iv);return l._reactRootContainer=F,l[xa]=F.current,fc(l.nodeType===8?l.parentNode:l),Ji(),F}for(;N=l.lastChild;)l.removeChild(N);if(typeof y=="function"){var ie=y;y=function(){var Ce=ef(ue);ie.call(Ce)}}var ue=Bm(l,0,!1,null,null,!1,!1,"",Iv);return l._reactRootContainer=ue,l[xa]=ue.current,fc(l.nodeType===8?l.parentNode:l),Ji(function(){Zd(u,ue,m,y)}),ue}function nf(l,u,m,y,N){var S=m._reactRootContainer;if(S){var F=S;if(typeof N=="function"){var ie=N;N=function(){var ue=ef(F);ie.call(ue)}}Zd(u,F,l,N)}else F=KT(m,u,l,N,y);return ef(F)}pa=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=Bi(u.pendingLanes);m!==0&&(fs(u,m|1),zn(u,_e()),(Bt&6)===0&&(al=_e()+500,Ja()))}break;case 13:Ji(function(){var y=wa(l,1);if(y!==null){var N=An();Bs(y,l,1,N)}}),Um(l,1)}},hs=function(l){if(l.tag===13){var u=wa(l,134217728);if(u!==null){var m=An();Bs(u,l,134217728,m)}Um(l,134217728)}},Ql=function(l){if(l.tag===13){var u=ni(l),m=wa(l,u);if(m!==null){var y=An();Bs(m,l,u,y)}Um(l,u)}},Vi=function(){return Ot},Io=function(l,u){var m=Ot;try{return Ot=l,u()}finally{Ot=m}},zr=function(l,u,m){switch(u){case"input":if(je(l,m),u=m.name,m.type==="radio"&&u!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var y=m[u];if(y!==l&&y.form===l.form){var N=bd(y);if(!N)throw Error(r(90));He(y),je(y,N)}}}break;case"textarea":Be(l,m);break;case"select":u=m.value,u!=null&&st(l,!!m.multiple,u,!1)}},mt=Rm,It=Ji;var GT={usingClientEntryPoint:!1,Events:[pc,Yo,bd,We,Qe,Rm]},kc={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qT={bundleType:kc.bundleType,version:kc.version,rendererPackageName:kc.rendererPackageName,rendererConfig:kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=be(l),l===null?null:l.stateNode},findFiberByHostInstance:kc.findFiberByHostInstance||YT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{pr=sf.inject(qT),Ft=sf}catch{}}return Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GT,Vn.createPortal=function(l,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vm(u))throw Error(r(200));return $T(l,u,null,m)},Vn.createRoot=function(l,u){if(!Vm(l))throw Error(r(299));var m=!1,y="",N=Lv;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(N=u.onRecoverableError)),u=Bm(l,1,!1,null,null,m,!1,y,N),l[xa]=u.current,fc(l.nodeType===8?l.parentNode:l),new zm(u)},Vn.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=be(u),l=l===null?null:l.stateNode,l},Vn.flushSync=function(l){return Ji(l)},Vn.hydrate=function(l,u,m){if(!rf(u))throw Error(r(200));return nf(null,l,u,!0,m)},Vn.hydrateRoot=function(l,u,m){if(!Vm(l))throw Error(r(405));var y=m!=null&&m.hydratedSources||null,N=!1,S="",F=Lv;if(m!=null&&(m.unstable_strictMode===!0&&(N=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onRecoverableError!==void 0&&(F=m.onRecoverableError)),u=Ov(u,null,l,1,m??null,N,!1,S,F),l[xa]=u.current,fc(l),y)for(l=0;l<y.length;l++)m=y[l],N=m._getVersion,N=N(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,N]:u.mutableSourceEagerHydrationData.push(m,N);return new tf(u)},Vn.render=function(l,u,m){if(!rf(u))throw Error(r(200));return nf(null,l,u,!1,m)},Vn.unmountComponentAtNode=function(l){if(!rf(l))throw Error(r(40));return l._reactRootContainer?(Ji(function(){nf(null,null,l,!1,function(){l._reactRootContainer=null,l[xa]=null})}),!0):!1},Vn.unstable_batchedUpdates=Rm,Vn.unstable_renderSubtreeIntoContainer=function(l,u,m,y){if(!rf(m))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return nf(l,u,m,!1,y)},Vn.version="18.3.1-next-f1338f8080-20240426",Vn}var Yv;function sN(){if(Yv)return $m.exports;Yv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$m.exports=iE(),$m.exports}var Kv;function oE(){if(Kv)return af;Kv=1;var t=sN();return af.createRoot=t.createRoot,af.hydrateRoot=t.hydrateRoot,af}var lE=oE();const aN=A.createContext(),cE=({children:t})=>{const e=()=>{if(typeof window<"u"&&window.localStorage){const i=window.localStorage.getItem("theme");if(typeof i=="string")return i;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"},[r,n]=A.useState(e);A.useEffect(()=>{const i=window.document.documentElement,o=r==="dark";i.classList.remove(o?"light":"dark"),i.classList.add(r),localStorage.setItem("theme",r)},[r]);const s=()=>n(i=>i==="dark"?"light":"dark");return a.jsx(aN.Provider,{value:{theme:r,toggleTheme:s},children:t})};sN();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gu.apply(this,arguments)}var pi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pi||(pi={}));const Gv="popstate";function uE(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:c="",hash:d=""}=ko(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ip("",{pathname:o,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let d=s.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof i=="string"?i:th(i))}function n(s,i){Wg(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return fE(e,r,n,t)}function kr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dE(){return Math.random().toString(36).substr(2,8)}function qv(t,e){return{usr:t.state,key:t.key,idx:e}}function Ip(t,e,r,n){return r===void 0&&(r=null),gu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ko(e):e,{state:r,key:e&&e.key||n||dE()})}function th(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ko(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function fE(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,c=pi.Pop,d=null,f=h();f==null&&(f=0,o.replaceState(gu({},o.state,{idx:f}),""));function h(){return(o.state||{idx:null}).idx}function p(){c=pi.Pop;let v=h(),C=v==null?null:v-f;f=v,d&&d({action:c,location:b.location,delta:C})}function g(v,C){c=pi.Push;let E=Ip(b.location,v,C);r&&r(E,v),f=h()+1;let j=qv(E,f),D=b.createHref(E);try{o.pushState(j,"",D)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(D)}i&&d&&d({action:c,location:b.location,delta:1})}function x(v,C){c=pi.Replace;let E=Ip(b.location,v,C);r&&r(E,v),f=h();let j=qv(E,f),D=b.createHref(E);o.replaceState(j,"",D),i&&d&&d({action:c,location:b.location,delta:0})}function w(v){let C=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof v=="string"?v:th(v);return E=E.replace(/ $/,"%20"),kr(C,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,C)}let b={get action(){return c},get location(){return t(s,o)},listen(v){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Gv,p),d=v,()=>{s.removeEventListener(Gv,p),d=null}},createHref(v){return e(s,v)},createURL:w,encodeLocation(v){let C=w(v);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:x,go(v){return o.go(v)}};return b}var Xv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xv||(Xv={}));function hE(t,e,r){return r===void 0&&(r="/"),mE(t,e,r)}function mE(t,e,r,n){let s=typeof e=="string"?ko(e):e,i=$g(s.pathname||"/",r);if(i==null)return null;let o=iN(t);pE(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let f=TE(i);c=_E(o[d],f)}return c}function iN(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(kr(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let f=wi([n,d.relativePath]),h=r.concat(d);i.children&&i.children.length>0&&(kr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),iN(i.children,e,h,f)),!(i.path==null&&!i.index)&&e.push({path:f,score:NE(f,i.index),routesMeta:h})};return t.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,o);else for(let d of oN(i.path))s(i,o,d)}),e}function oN(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=oN(n.join("/")),c=[];return c.push(...o.map(d=>d===""?i:[i,d].join("/"))),s&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function pE(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:SE(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const gE=/^:[\w-]+$/,xE=3,yE=2,vE=1,bE=10,wE=-2,Jv=t=>t==="*";function NE(t,e){let r=t.split("/"),n=r.length;return r.some(Jv)&&(n+=wE),e&&(n+=yE),r.filter(s=>!Jv(s)).reduce((s,i)=>s+(gE.test(i)?xE:i===""?vE:bE),n)}function SE(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function _E(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=CE({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},h),g=d.route;if(!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:wi([i,p.pathname]),pathnameBase:PE(wi([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=wi([i,p.pathnameBase]))}return o}function CE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=jE(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((f,h,p)=>{let{paramName:g,isOptional:x}=h;if(g==="*"){let b=c[p]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const w=c[p];return x&&!w?f[g]=void 0:f[g]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:o,pattern:t}}function jE(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Wg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function TE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $g(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function EE(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?ko(t):t;return{pathname:r?r.startsWith("/")?r:kE(r,e):e,search:DE(n),hash:RE(s)}}function kE(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Gm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AE(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Yg(t,e){let r=AE(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Kg(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=ko(t):(s=gu({},t),kr(!s.pathname||!s.pathname.includes("?"),Gm("?","pathname","search",s)),kr(!s.pathname||!s.pathname.includes("#"),Gm("#","pathname","hash",s)),kr(!s.search||!s.search.includes("#"),Gm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=r;else{let p=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}c=p>=0?e[p]:"/"}let d=EE(s,c),f=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||h)&&(d.pathname+="/"),d}const wi=t=>t.join("/").replace(/\/\/+/g,"/"),PE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lN=["post","put","patch","delete"];new Set(lN);const OE=["get",...lN];new Set(OE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xu.apply(this,arguments)}const Gg=A.createContext(null),ME=A.createContext(null),Di=A.createContext(null),Uh=A.createContext(null),Ri=A.createContext({outlet:null,matches:[],isDataRoute:!1}),cN=A.createContext(null);function LE(t,e){let{relative:r}=e===void 0?{}:e;Bl()||kr(!1);let{basename:n,navigator:s}=A.useContext(Di),{hash:i,pathname:o,search:c}=dN(t,{relative:r}),d=o;return n!=="/"&&(d=o==="/"?n:wi([n,o])),s.createHref({pathname:d,search:c,hash:i})}function Bl(){return A.useContext(Uh)!=null}function Ul(){return Bl()||kr(!1),A.useContext(Uh).location}function uN(t){A.useContext(Di).static||A.useLayoutEffect(t)}function Ba(){let{isDataRoute:t}=A.useContext(Ri);return t?XE():IE()}function IE(){Bl()||kr(!1);let t=A.useContext(Gg),{basename:e,future:r,navigator:n}=A.useContext(Di),{matches:s}=A.useContext(Ri),{pathname:i}=Ul(),o=JSON.stringify(Yg(s,r.v7_relativeSplatPath)),c=A.useRef(!1);return uN(()=>{c.current=!0}),A.useCallback(function(f,h){if(h===void 0&&(h={}),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=Kg(f,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:wi([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,o,i,t])}function dN(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=A.useContext(Di),{matches:s}=A.useContext(Ri),{pathname:i}=Ul(),o=JSON.stringify(Yg(s,n.v7_relativeSplatPath));return A.useMemo(()=>Kg(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function BE(t,e){return UE(t,e)}function UE(t,e,r,n){Bl()||kr(!1);let{navigator:s}=A.useContext(Di),{matches:i}=A.useContext(Ri),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let f=Ul(),h;if(e){var p;let v=typeof e=="string"?ko(e):e;d==="/"||(p=v.pathname)!=null&&p.startsWith(d)||kr(!1),h=v}else h=f;let g=h.pathname||"/",x=g;if(d!=="/"){let v=d.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=hE(t,{pathname:x}),b=$E(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:wi([d,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:wi([d,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return e&&b?A.createElement(Uh.Provider,{value:{location:xu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:pi.Pop}},b):b}function zE(){let t=qE(),e=FE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),r?A.createElement("pre",{style:s},r):null,null)}const VE=A.createElement(zE,null);class HE extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?A.createElement(Ri.Provider,{value:this.props.routeContext},A.createElement(cN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WE(t){let{routeContext:e,match:r,children:n}=t,s=A.useContext(Gg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(Ri.Provider,{value:e},n)}function $E(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,c=(s=r)==null?void 0:s.errors;if(c!=null){let h=o.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);h>=0||kr(!1),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:g,errors:x}=r,w=p.route.loader&&g[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||w){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,p,g)=>{let x,w=!1,b=null,v=null;r&&(x=c&&p.route.id?c[p.route.id]:void 0,b=p.route.errorElement||VE,d&&(f<0&&g===0?(JE("route-fallback"),w=!0,v=null):f===g&&(w=!0,v=p.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,g+1)),E=()=>{let j;return x?j=b:w?j=v:p.route.Component?j=A.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,A.createElement(WE,{match:p,routeContext:{outlet:h,matches:C,isDataRoute:r!=null},children:j})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?A.createElement(HE,{location:r.location,revalidation:r.revalidation,component:b,error:x,children:E(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):E()},null)}var fN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fN||{}),hN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hN||{});function YE(t){let e=A.useContext(Gg);return e||kr(!1),e}function KE(t){let e=A.useContext(ME);return e||kr(!1),e}function GE(t){let e=A.useContext(Ri);return e||kr(!1),e}function mN(t){let e=GE(),r=e.matches[e.matches.length-1];return r.route.id||kr(!1),r.route.id}function qE(){var t;let e=A.useContext(cN),r=KE(),n=mN();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function XE(){let{router:t}=YE(fN.UseNavigateStable),e=mN(hN.UseNavigateStable),r=A.useRef(!1);return uN(()=>{r.current=!0}),A.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,xu({fromRouteId:e},i)))},[t,e])}const Qv={};function JE(t,e,r){Qv[t]||(Qv[t]=!0)}function QE(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Bp(t){let{to:e,replace:r,state:n,relative:s}=t;Bl()||kr(!1);let{future:i,static:o}=A.useContext(Di),{matches:c}=A.useContext(Ri),{pathname:d}=Ul(),f=Ba(),h=Kg(e,Yg(c,i.v7_relativeSplatPath),d,s==="path"),p=JSON.stringify(h);return A.useEffect(()=>f(JSON.parse(p),{replace:r,state:n,relative:s}),[f,p,s,r,n]),null}function Yt(t){kr(!1)}function ZE(t){let{basename:e="/",children:r=null,location:n,navigationType:s=pi.Pop,navigator:i,static:o=!1,future:c}=t;Bl()&&kr(!1);let d=e.replace(/^\/*/,"/"),f=A.useMemo(()=>({basename:d,navigator:i,static:o,future:xu({v7_relativeSplatPath:!1},c)}),[d,c,i,o]);typeof n=="string"&&(n=ko(n));let{pathname:h="/",search:p="",hash:g="",state:x=null,key:w="default"}=n,b=A.useMemo(()=>{let v=$g(h,d);return v==null?null:{location:{pathname:v,search:p,hash:g,state:x,key:w},navigationType:s}},[d,h,p,g,x,w,s]);return b==null?null:A.createElement(Di.Provider,{value:f},A.createElement(Uh.Provider,{children:r,value:b}))}function ek(t){let{children:e,location:r}=t;return BE(Up(e),r)}new Promise(()=>{});function Up(t,e){e===void 0&&(e=[]);let r=[];return A.Children.forEach(t,(n,s)=>{if(!A.isValidElement(n))return;let i=[...e,s];if(n.type===A.Fragment){r.push.apply(r,Up(n.props.children,i));return}n.type!==Yt&&kr(!1),!n.props.index||!n.props.children||kr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Up(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zp.apply(this,arguments)}function tk(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function rk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nk(t,e){return t.button===0&&(!e||e==="_self")&&!rk(t)}const sk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ak="6";try{window.__reactRouterVersion=ak}catch{}const ik="startTransition",Zv=nE[ik];function ok(t){let{basename:e,children:r,future:n,window:s}=t,i=A.useRef();i.current==null&&(i.current=uE({window:s,v5Compat:!0}));let o=i.current,[c,d]=A.useState({action:o.action,location:o.location}),{v7_startTransition:f}=n||{},h=A.useCallback(p=>{f&&Zv?Zv(()=>d(p)):d(p)},[d,f]);return A.useLayoutEffect(()=>o.listen(h),[o,h]),A.useEffect(()=>QE(n),[n]),A.createElement(ZE,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const lk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ck=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=A.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:c,target:d,to:f,preventScrollReset:h,viewTransition:p}=e,g=tk(e,sk),{basename:x}=A.useContext(Di),w,b=!1;if(typeof f=="string"&&ck.test(f)&&(w=f,lk))try{let j=new URL(window.location.href),D=f.startsWith("//")?new URL(j.protocol+f):new URL(f),T=$g(D.pathname,x);D.origin===j.origin&&T!=null?f=T+D.search+D.hash:b=!0}catch{}let v=LE(f,{relative:s}),C=uk(f,{replace:o,state:c,target:d,preventScrollReset:h,relative:s,viewTransition:p});function E(j){n&&n(j),j.defaultPrevented||C(j)}return A.createElement("a",zp({},g,{href:w||v,onClick:b||i?n:E,ref:r,target:d}))});var e2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(e2||(e2={}));var t2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(t2||(t2={}));function uk(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:c}=e===void 0?{}:e,d=Ba(),f=Ul(),h=dN(t,{relative:o});return A.useCallback(p=>{if(nk(p,r)){p.preventDefault();let g=n!==void 0?n:th(f)===th(h);d(t,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:c})}},[f,d,h,n,s,r,t,i,o,c])}function pN(t,e){return function(){return t.apply(e,arguments)}}const{toString:dk}=Object.prototype,{getPrototypeOf:qg}=Object,{iterator:zh,toStringTag:gN}=Symbol,Vh=(t=>e=>{const r=dk.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),qs=t=>(t=t.toLowerCase(),e=>Vh(e)===t),Hh=t=>e=>typeof e===t,{isArray:zl}=Array,yu=Hh("undefined");function fk(t){return t!==null&&!yu(t)&&t.constructor!==null&&!yu(t.constructor)&&Kn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const xN=qs("ArrayBuffer");function hk(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&xN(t.buffer),e}const mk=Hh("string"),Kn=Hh("function"),yN=Hh("number"),Wh=t=>t!==null&&typeof t=="object",pk=t=>t===!0||t===!1,If=t=>{if(Vh(t)!=="object")return!1;const e=qg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(gN in t)&&!(zh in t)},gk=qs("Date"),xk=qs("File"),yk=qs("Blob"),vk=qs("FileList"),bk=t=>Wh(t)&&Kn(t.pipe),wk=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Kn(t.append)&&((e=Vh(t))==="formdata"||e==="object"&&Kn(t.toString)&&t.toString()==="[object FormData]"))},Nk=qs("URLSearchParams"),[Sk,_k,Ck,jk]=["ReadableStream","Request","Response","Headers"].map(qs),Tk=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hu(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),zl(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let c;for(n=0;n<o;n++)c=i[n],e.call(null,t[c],c,t)}}function vN(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const uo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bN=t=>!yu(t)&&t!==uo;function Vp(){const{caseless:t}=bN(this)&&this||{},e={},r=(n,s)=>{const i=t&&vN(e,s)||s;If(e[i])&&If(n)?e[i]=Vp(e[i],n):If(n)?e[i]=Vp({},n):zl(n)?e[i]=n.slice():e[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Hu(arguments[n],r);return e}const Ek=(t,e,r,{allOwnKeys:n}={})=>(Hu(e,(s,i)=>{r&&Kn(s)?t[i]=pN(s,r):t[i]=s},{allOwnKeys:n}),t),kk=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ak=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Pk=(t,e,r,n)=>{let s,i,o;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!n||n(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=r!==!1&&qg(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Dk=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Rk=t=>{if(!t)return null;if(zl(t))return t;let e=t.length;if(!yN(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Fk=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&qg(Uint8Array)),Ok=(t,e)=>{const n=(t&&t[zh]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Mk=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Lk=qs("HTMLFormElement"),Ik=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),r2=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Bk=qs("RegExp"),wN=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Hu(r,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(n[i]=o||s)}),Object.defineProperties(t,n)},Uk=t=>{wN(t,(e,r)=>{if(Kn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Kn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},zk=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return zl(t)?n(t):n(String(t).split(e)),r},Vk=()=>{},Hk=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Wk(t){return!!(t&&Kn(t.append)&&t[gN]==="FormData"&&t[zh])}const $k=t=>{const e=new Array(10),r=(n,s)=>{if(Wh(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const i=zl(n)?[]:{};return Hu(n,(o,c)=>{const d=r(o,s+1);!yu(d)&&(i[c]=d)}),e[s]=void 0,i}}return n};return r(t,0)},Yk=qs("AsyncFunction"),Kk=t=>t&&(Wh(t)||Kn(t))&&Kn(t.then)&&Kn(t.catch),NN=((t,e)=>t?setImmediate:e?((r,n)=>(uo.addEventListener("message",({source:s,data:i})=>{s===uo&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),uo.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Kn(uo.postMessage)),Gk=typeof queueMicrotask<"u"?queueMicrotask.bind(uo):typeof process<"u"&&process.nextTick||NN,qk=t=>t!=null&&Kn(t[zh]),Ae={isArray:zl,isArrayBuffer:xN,isBuffer:fk,isFormData:wk,isArrayBufferView:hk,isString:mk,isNumber:yN,isBoolean:pk,isObject:Wh,isPlainObject:If,isReadableStream:Sk,isRequest:_k,isResponse:Ck,isHeaders:jk,isUndefined:yu,isDate:gk,isFile:xk,isBlob:yk,isRegExp:Bk,isFunction:Kn,isStream:bk,isURLSearchParams:Nk,isTypedArray:Fk,isFileList:vk,forEach:Hu,merge:Vp,extend:Ek,trim:Tk,stripBOM:kk,inherits:Ak,toFlatObject:Pk,kindOf:Vh,kindOfTest:qs,endsWith:Dk,toArray:Rk,forEachEntry:Ok,matchAll:Mk,isHTMLForm:Lk,hasOwnProperty:r2,hasOwnProp:r2,reduceDescriptors:wN,freezeMethods:Uk,toObjectSet:zk,toCamelCase:Ik,noop:Vk,toFiniteNumber:Hk,findKey:vN,global:uo,isContextDefined:bN,isSpecCompliantForm:Wk,toJSONObject:$k,isAsyncFn:Yk,isThenable:Kk,setImmediate:NN,asap:Gk,isIterable:qk};function Tt(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Ae.inherits(Tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ae.toJSONObject(this.config),code:this.code,status:this.status}}});const SN=Tt.prototype,_N={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{_N[t]={value:t}});Object.defineProperties(Tt,_N);Object.defineProperty(SN,"isAxiosError",{value:!0});Tt.from=(t,e,r,n,s,i)=>{const o=Object.create(SN);return Ae.toFlatObject(t,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Tt.call(o,t.message,e,r,n,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Xk=null;function Hp(t){return Ae.isPlainObject(t)||Ae.isArray(t)}function CN(t){return Ae.endsWith(t,"[]")?t.slice(0,-2):t}function n2(t,e,r){return t?t.concat(e).map(function(s,i){return s=CN(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function Jk(t){return Ae.isArray(t)&&!t.some(Hp)}const Qk=Ae.toFlatObject(Ae,{},null,function(e){return/^is[A-Z]/.test(e)});function $h(t,e,r){if(!Ae.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Ae.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,v){return!Ae.isUndefined(v[b])});const n=r.metaTokens,s=r.visitor||h,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&Ae.isSpecCompliantForm(e);if(!Ae.isFunction(s))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(Ae.isDate(w))return w.toISOString();if(!d&&Ae.isBlob(w))throw new Tt("Blob is not supported. Use a Buffer instead.");return Ae.isArrayBuffer(w)||Ae.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,b,v){let C=w;if(w&&!v&&typeof w=="object"){if(Ae.endsWith(b,"{}"))b=n?b:b.slice(0,-2),w=JSON.stringify(w);else if(Ae.isArray(w)&&Jk(w)||(Ae.isFileList(w)||Ae.endsWith(b,"[]"))&&(C=Ae.toArray(w)))return b=CN(b),C.forEach(function(j,D){!(Ae.isUndefined(j)||j===null)&&e.append(o===!0?n2([b],D,i):o===null?b:b+"[]",f(j))}),!1}return Hp(w)?!0:(e.append(n2(v,b,i),f(w)),!1)}const p=[],g=Object.assign(Qk,{defaultVisitor:h,convertValue:f,isVisitable:Hp});function x(w,b){if(!Ae.isUndefined(w)){if(p.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));p.push(w),Ae.forEach(w,function(C,E){(!(Ae.isUndefined(C)||C===null)&&s.call(e,C,Ae.isString(E)?E.trim():E,b,g))===!0&&x(C,b?b.concat(E):[E])}),p.pop()}}if(!Ae.isObject(t))throw new TypeError("data must be an object");return x(t),e}function s2(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Xg(t,e){this._pairs=[],t&&$h(t,this,e)}const jN=Xg.prototype;jN.append=function(e,r){this._pairs.push([e,r])};jN.toString=function(e){const r=e?function(n){return e.call(this,n,s2)}:s2;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Zk(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function TN(t,e,r){if(!e)return t;const n=r&&r.encode||Zk;Ae.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(e,r):i=Ae.isURLSearchParams(e)?e.toString():new Xg(e,r).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class a2{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ae.forEach(this.handlers,function(n){n!==null&&e(n)})}}const EN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},e5=typeof URLSearchParams<"u"?URLSearchParams:Xg,t5=typeof FormData<"u"?FormData:null,r5=typeof Blob<"u"?Blob:null,n5={isBrowser:!0,classes:{URLSearchParams:e5,FormData:t5,Blob:r5},protocols:["http","https","file","blob","url","data"]},Jg=typeof window<"u"&&typeof document<"u",Wp=typeof navigator=="object"&&navigator||void 0,s5=Jg&&(!Wp||["ReactNative","NativeScript","NS"].indexOf(Wp.product)<0),a5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",i5=Jg&&window.location.href||"http://localhost",o5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jg,hasStandardBrowserEnv:s5,hasStandardBrowserWebWorkerEnv:a5,navigator:Wp,origin:i5},Symbol.toStringTag,{value:"Module"})),wn={...o5,...n5};function l5(t,e){return $h(t,new wn.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return wn.isNode&&Ae.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function c5(t){return Ae.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function u5(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function kN(t){function e(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=i>=r.length;return o=!o&&Ae.isArray(s)?s.length:o,d?(Ae.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!c):((!s[o]||!Ae.isObject(s[o]))&&(s[o]=[]),e(r,n,s[o],i)&&Ae.isArray(s[o])&&(s[o]=u5(s[o])),!c)}if(Ae.isFormData(t)&&Ae.isFunction(t.entries)){const r={};return Ae.forEachEntry(t,(n,s)=>{e(c5(n),s,r,0)}),r}return null}function d5(t,e,r){if(Ae.isString(t))try{return(e||JSON.parse)(t),Ae.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Wu={transitional:EN,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=Ae.isObject(e);if(i&&Ae.isHTMLForm(e)&&(e=new FormData(e)),Ae.isFormData(e))return s?JSON.stringify(kN(e)):e;if(Ae.isArrayBuffer(e)||Ae.isBuffer(e)||Ae.isStream(e)||Ae.isFile(e)||Ae.isBlob(e)||Ae.isReadableStream(e))return e;if(Ae.isArrayBufferView(e))return e.buffer;if(Ae.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return l5(e,this.formSerializer).toString();if((c=Ae.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return $h(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),d5(e)):e}],transformResponse:[function(e){const r=this.transitional||Wu.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Ae.isResponse(e)||Ae.isReadableStream(e))return e;if(e&&Ae.isString(e)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(o)throw c.name==="SyntaxError"?Tt.from(c,Tt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wn.classes.FormData,Blob:wn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ae.forEach(["delete","get","head","post","put","patch"],t=>{Wu.headers[t]={}});const f5=Ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),h5=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||e[r]&&f5[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},i2=Symbol("internals");function Pc(t){return t&&String(t).trim().toLowerCase()}function Bf(t){return t===!1||t==null?t:Ae.isArray(t)?t.map(Bf):String(t)}function m5(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const p5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function qm(t,e,r,n,s){if(Ae.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!Ae.isString(e)){if(Ae.isString(n))return e.indexOf(n)!==-1;if(Ae.isRegExp(n))return n.test(e)}}function g5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function x5(t,e){const r=Ae.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,o){return this[n].call(this,e,s,i,o)},configurable:!0})})}let Gn=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(c,d,f){const h=Pc(d);if(!h)throw new Error("header name must be a non-empty string");const p=Ae.findKey(s,h);(!p||s[p]===void 0||f===!0||f===void 0&&s[p]!==!1)&&(s[p||d]=Bf(c))}const o=(c,d)=>Ae.forEach(c,(f,h)=>i(f,h,d));if(Ae.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(Ae.isString(e)&&(e=e.trim())&&!p5(e))o(h5(e),r);else if(Ae.isObject(e)&&Ae.isIterable(e)){let c={},d,f;for(const h of e){if(!Ae.isArray(h))throw TypeError("Object iterator must return a key-value pair");c[f=h[0]]=(d=c[f])?Ae.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}o(c,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=Pc(e),e){const n=Ae.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return m5(s);if(Ae.isFunction(r))return r.call(this,s,n);if(Ae.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Pc(e),e){const n=Ae.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||qm(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(o){if(o=Pc(o),o){const c=Ae.findKey(n,o);c&&(!r||qm(n,n[c],c,r))&&(delete n[c],s=!0)}}return Ae.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||qm(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return Ae.forEach(this,(s,i)=>{const o=Ae.findKey(n,i);if(o){r[o]=Bf(s),delete r[i];return}const c=e?g5(i):String(i).trim();c!==i&&delete r[i],r[c]=Bf(s),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Ae.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&Ae.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[i2]=this[i2]={accessors:{}}).accessors,s=this.prototype;function i(o){const c=Pc(o);n[c]||(x5(s,o),n[c]=!0)}return Ae.isArray(e)?e.forEach(i):i(e),this}};Gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ae.reduceDescriptors(Gn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Ae.freezeMethods(Gn);function Xm(t,e){const r=this||Wu,n=e||r,s=Gn.from(n.headers);let i=n.data;return Ae.forEach(t,function(c){i=c.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function AN(t){return!!(t&&t.__CANCEL__)}function Vl(t,e,r){Tt.call(this,t??"canceled",Tt.ERR_CANCELED,e,r),this.name="CanceledError"}Ae.inherits(Vl,Tt,{__CANCEL__:!0});function PN(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Tt("Request failed with status code "+r.status,[Tt.ERR_BAD_REQUEST,Tt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function y5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function v5(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),h=n[i];o||(o=f),r[s]=d,n[s]=f;let p=i,g=0;for(;p!==s;)g+=r[p++],p=p%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),f-o<e)return;const x=h&&f-h;return x?Math.round(g*1e3/x):void 0}}function b5(t,e){let r=0,n=1e3/e,s,i;const o=(f,h=Date.now())=>{r=h,s=null,i&&(clearTimeout(i),i=null),t.apply(null,f)};return[(...f)=>{const h=Date.now(),p=h-r;p>=n?o(f,h):(s=f,i||(i=setTimeout(()=>{i=null,o(s)},n-p)))},()=>s&&o(s)]}const rh=(t,e,r=3)=>{let n=0;const s=v5(50,250);return b5(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,d=o-n,f=s(d),h=o<=c;n=o;const p={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&h?(c-o)/f:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(p)},r)},o2=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},l2=t=>(...e)=>Ae.asap(()=>t(...e)),w5=wn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,wn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(wn.origin),wn.navigator&&/(msie|trident)/i.test(wn.navigator.userAgent)):()=>!0,N5=wn.hasStandardBrowserEnv?{write(t,e,r,n,s,i){const o=[t+"="+encodeURIComponent(e)];Ae.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Ae.isString(n)&&o.push("path="+n),Ae.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function S5(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function _5(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function DN(t,e,r){let n=!S5(e);return t&&(n||r==!1)?_5(t,e):e}const c2=t=>t instanceof Gn?{...t}:t;function So(t,e){e=e||{};const r={};function n(f,h,p,g){return Ae.isPlainObject(f)&&Ae.isPlainObject(h)?Ae.merge.call({caseless:g},f,h):Ae.isPlainObject(h)?Ae.merge({},h):Ae.isArray(h)?h.slice():h}function s(f,h,p,g){if(Ae.isUndefined(h)){if(!Ae.isUndefined(f))return n(void 0,f,p,g)}else return n(f,h,p,g)}function i(f,h){if(!Ae.isUndefined(h))return n(void 0,h)}function o(f,h){if(Ae.isUndefined(h)){if(!Ae.isUndefined(f))return n(void 0,f)}else return n(void 0,h)}function c(f,h,p){if(p in e)return n(f,h);if(p in t)return n(void 0,f)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(f,h,p)=>s(c2(f),c2(h),p,!0)};return Ae.forEach(Object.keys(Object.assign({},t,e)),function(h){const p=d[h]||s,g=p(t[h],e[h],h);Ae.isUndefined(g)&&p!==c||(r[h]=g)}),r}const RN=t=>{const e=So({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:c}=e;e.headers=o=Gn.from(o),e.url=TN(DN(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(Ae.isFormData(r)){if(wn.hasStandardBrowserEnv||wn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[f,...h]=d?d.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...h].join("; "))}}if(wn.hasStandardBrowserEnv&&(n&&Ae.isFunction(n)&&(n=n(e)),n||n!==!1&&w5(e.url))){const f=s&&i&&N5.read(i);f&&o.set(s,f)}return e},C5=typeof XMLHttpRequest<"u",j5=C5&&function(t){return new Promise(function(r,n){const s=RN(t);let i=s.data;const o=Gn.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=s,h,p,g,x,w;function b(){x&&x(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function C(){if(!v)return;const j=Gn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),T={data:!c||c==="text"||c==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:j,config:t,request:v};PN(function(_){r(_),b()},function(_){n(_),b()},T),v=null}"onloadend"in v?v.onloadend=C:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(C)},v.onabort=function(){v&&(n(new Tt("Request aborted",Tt.ECONNABORTED,t,v)),v=null)},v.onerror=function(){n(new Tt("Network Error",Tt.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let D=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||EN;s.timeoutErrorMessage&&(D=s.timeoutErrorMessage),n(new Tt(D,T.clarifyTimeoutError?Tt.ETIMEDOUT:Tt.ECONNABORTED,t,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&Ae.forEach(o.toJSON(),function(D,T){v.setRequestHeader(T,D)}),Ae.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),c&&c!=="json"&&(v.responseType=s.responseType),f&&([g,w]=rh(f,!0),v.addEventListener("progress",g)),d&&v.upload&&([p,x]=rh(d),v.upload.addEventListener("progress",p),v.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(h=j=>{v&&(n(!j||j.type?new Vl(null,t,v):j),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const E=y5(s.url);if(E&&wn.protocols.indexOf(E)===-1){n(new Tt("Unsupported protocol "+E+":",Tt.ERR_BAD_REQUEST,t));return}v.send(i||null)})},T5=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(f){if(!s){s=!0,c();const h=f instanceof Error?f:this.reason;n.abort(h instanceof Tt?h:new Vl(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new Tt(`timeout ${e} of ms exceeded`,Tt.ETIMEDOUT))},e);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),t=null)};t.forEach(f=>f.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>Ae.asap(c),d}},E5=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},k5=async function*(t,e){for await(const r of A5(t))yield*E5(r,e)},A5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},u2=(t,e,r,n)=>{const s=k5(t,e);let i=0,o,c=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:h}=await s.next();if(f){c(),d.close();return}let p=h.byteLength;if(r){let g=i+=p;r(g)}d.enqueue(new Uint8Array(h))}catch(f){throw c(f),f}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},Yh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",FN=Yh&&typeof ReadableStream=="function",P5=Yh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),ON=(t,...e)=>{try{return!!t(...e)}catch{return!1}},D5=FN&&ON(()=>{let t=!1;const e=new Request(wn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),d2=64*1024,$p=FN&&ON(()=>Ae.isReadableStream(new Response("").body)),nh={stream:$p&&(t=>t.body)};Yh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!nh[e]&&(nh[e]=Ae.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Tt(`Response type '${e}' is not supported`,Tt.ERR_NOT_SUPPORT,n)})})})(new Response);const R5=async t=>{if(t==null)return 0;if(Ae.isBlob(t))return t.size;if(Ae.isSpecCompliantForm(t))return(await new Request(wn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ae.isArrayBufferView(t)||Ae.isArrayBuffer(t))return t.byteLength;if(Ae.isURLSearchParams(t)&&(t=t+""),Ae.isString(t))return(await P5(t)).byteLength},F5=async(t,e)=>{const r=Ae.toFiniteNumber(t.getContentLength());return r??R5(e)},O5=Yh&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:d,responseType:f,headers:h,withCredentials:p="same-origin",fetchOptions:g}=RN(t);f=f?(f+"").toLowerCase():"text";let x=T5([s,i&&i.toAbortSignal()],o),w;const b=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let v;try{if(d&&D5&&r!=="get"&&r!=="head"&&(v=await F5(h,n))!==0){let T=new Request(e,{method:"POST",body:n,duplex:"half"}),M;if(Ae.isFormData(n)&&(M=T.headers.get("content-type"))&&h.setContentType(M),T.body){const[_,P]=o2(v,rh(l2(d)));n=u2(T.body,d2,_,P)}}Ae.isString(p)||(p=p?"include":"omit");const C="credentials"in Request.prototype;w=new Request(e,{...g,signal:x,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:C?p:void 0});let E=await fetch(w);const j=$p&&(f==="stream"||f==="response");if($p&&(c||j&&b)){const T={};["status","statusText","headers"].forEach(I=>{T[I]=E[I]});const M=Ae.toFiniteNumber(E.headers.get("content-length")),[_,P]=c&&o2(M,rh(l2(c),!0))||[];E=new Response(u2(E.body,d2,_,()=>{P&&P(),b&&b()}),T)}f=f||"text";let D=await nh[Ae.findKey(nh,f)||"text"](E,t);return!j&&b&&b(),await new Promise((T,M)=>{PN(T,M,{data:D,headers:Gn.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:w})})}catch(C){throw b&&b(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Tt("Network Error",Tt.ERR_NETWORK,t,w),{cause:C.cause||C}):Tt.from(C,C&&C.code,t,w)}}),Yp={http:Xk,xhr:j5,fetch:O5};Ae.forEach(Yp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const f2=t=>`- ${t}`,M5=t=>Ae.isFunction(t)||t===null||t===!1,MN={getAdapter:t=>{t=Ae.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let i=0;i<e;i++){r=t[i];let o;if(n=r,!M5(r)&&(n=Yp[(o=String(r)).toLowerCase()],n===void 0))throw new Tt(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){const i=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(f2).join(`
`):" "+f2(i[0]):"as no adapter specified";throw new Tt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Yp};function Jm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Vl(null,t)}function h2(t){return Jm(t),t.headers=Gn.from(t.headers),t.data=Xm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),MN.getAdapter(t.adapter||Wu.adapter)(t).then(function(n){return Jm(t),n.data=Xm.call(t,t.transformResponse,n),n.headers=Gn.from(n.headers),n},function(n){return AN(n)||(Jm(t),n&&n.response&&(n.response.data=Xm.call(t,t.transformResponse,n.response),n.response.headers=Gn.from(n.response.headers))),Promise.reject(n)})}const LN="1.9.0",Kh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Kh[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const m2={};Kh.transitional=function(e,r,n){function s(i,o){return"[Axios v"+LN+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,c)=>{if(e===!1)throw new Tt(s(o," has been removed"+(r?" in "+r:"")),Tt.ERR_DEPRECATED);return r&&!m2[o]&&(m2[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,c):!0}};Kh.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function L5(t,e,r){if(typeof t!="object")throw new Tt("options must be an object",Tt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],o=e[i];if(o){const c=t[i],d=c===void 0||o(c,i,t);if(d!==!0)throw new Tt("option "+i+" must be "+d,Tt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Tt("Unknown option "+i,Tt.ERR_BAD_OPTION)}}const Uf={assertOptions:L5,validators:Kh},na=Uf.validators;let go=class{constructor(e){this.defaults=e||{},this.interceptors={request:new a2,response:new a2}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=So(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Uf.assertOptions(n,{silentJSONParsing:na.transitional(na.boolean),forcedJSONParsing:na.transitional(na.boolean),clarifyTimeoutError:na.transitional(na.boolean)},!1),s!=null&&(Ae.isFunction(s)?r.paramsSerializer={serialize:s}:Uf.assertOptions(s,{encode:na.function,serialize:na.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Uf.assertOptions(r,{baseUrl:na.spelling("baseURL"),withXsrfToken:na.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Ae.merge(i.common,i[r.method]);i&&Ae.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),r.headers=Gn.concat(o,i);const c=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(d=d&&b.synchronous,c.unshift(b.fulfilled,b.rejected))});const f=[];this.interceptors.response.forEach(function(b){f.push(b.fulfilled,b.rejected)});let h,p=0,g;if(!d){const w=[h2.bind(this),void 0];for(w.unshift.apply(w,c),w.push.apply(w,f),g=w.length,h=Promise.resolve(r);p<g;)h=h.then(w[p++],w[p++]);return h}g=c.length;let x=r;for(p=0;p<g;){const w=c[p++],b=c[p++];try{x=w(x)}catch(v){b.call(this,v);break}}try{h=h2.call(this,x)}catch(w){return Promise.reject(w)}for(p=0,g=f.length;p<g;)h=h.then(f[p++],f[p++]);return h}getUri(e){e=So(this.defaults,e);const r=DN(e.baseURL,e.url,e.allowAbsoluteUrls);return TN(r,e.params,e.paramsSerializer)}};Ae.forEach(["delete","get","head","options"],function(e){go.prototype[e]=function(r,n){return this.request(So(n||{},{method:e,url:r,data:(n||{}).data}))}});Ae.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,c){return this.request(So(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}go.prototype[e]=r(),go.prototype[e+"Form"]=r(!0)});let I5=class IN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(c=>{n.subscribe(c),i=c}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,c){n.reason||(n.reason=new Vl(i,o,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new IN(function(s){e=s}),cancel:e}}};function B5(t){return function(r){return t.apply(null,r)}}function U5(t){return Ae.isObject(t)&&t.isAxiosError===!0}const Kp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kp).forEach(([t,e])=>{Kp[e]=t});function BN(t){const e=new go(t),r=pN(go.prototype.request,e);return Ae.extend(r,go.prototype,e,{allOwnKeys:!0}),Ae.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return BN(So(t,s))},r}const tr=BN(Wu);tr.Axios=go;tr.CanceledError=Vl;tr.CancelToken=I5;tr.isCancel=AN;tr.VERSION=LN;tr.toFormData=$h;tr.AxiosError=Tt;tr.Cancel=tr.CanceledError;tr.all=function(e){return Promise.all(e)};tr.spread=B5;tr.isAxiosError=U5;tr.mergeConfig=So;tr.AxiosHeaders=Gn;tr.formToJSON=t=>kN(Ae.isHTMLForm(t)?new FormData(t):t);tr.getAdapter=MN.getAdapter;tr.HttpStatusCode=Kp;tr.default=tr;const{Axios:RK,AxiosError:FK,CanceledError:OK,isCancel:MK,CancelToken:LK,VERSION:IK,all:BK,Cancel:UK,isAxiosError:zK,spread:VK,toFormData:HK,AxiosHeaders:WK,HttpStatusCode:$K,formToJSON:YK,getAdapter:KK,mergeConfig:GK}=tr,z5="https://crm-backend-o36v.onrender.com",ct=tr.create({baseURL:`${z5}/api`,headers:{"Content-Type":"application/json"}});ct.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));ct.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&localStorage.getItem("token")&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(t)});const cr={login:t=>ct.post("/auth/login",t),register:t=>ct.post("/auth/register",t),getProfile:()=>ct.get("/auth/me"),updateProfile:t=>ct.put("/auth/me",t),uploadProfilePicture:t=>ct.post("/auth/profile-picture",t,{headers:{"Content-Type":"multipart/form-data"}}),sendOTP:t=>ct.post("/auth/sendOTPToEmail",{email:t}),verifyOTP:t=>ct.post("/auth/verifyOtp",t),resetPassword:t=>ct.post("/auth/reset_password",t),getUsers:(t=null)=>{const e=t?`/auth/users?role=${t}`:"/auth/users";return ct.get(e)},createUser:t=>ct.post("/auth/users",t),updateUser:(t,e)=>ct.put(`/auth/users/${t}`,e),deleteUser:t=>ct.delete(`/auth/users/${t}`)},_n={getAll:(t={})=>{const e=new URLSearchParams;t.month&&e.append("month",t.month),t.year&&e.append("year",t.year),t.startDate&&e.append("startDate",t.startDate),t.endDate&&e.append("endDate",t.endDate);const r=e.toString(),n=r?`/leads?${r}`:"/leads";return ct.get(n)},getById:t=>ct.get(`/leads/${t}`),create:t=>ct.post("/leads",t),update:(t,e)=>ct.put(`/leads/${t}`,e),updateFeedback:(t,e)=>ct.put(`/leads/${t}/feedback`,{feedback:e}),delete:t=>ct.delete(`/leads/${t}`),getAssigned:(t={})=>{const e=new URLSearchParams;t.month&&e.append("month",t.month),t.year&&e.append("year",t.year),t.startDate&&e.append("startDate",t.startDate),t.endDate&&e.append("endDate",t.endDate);const r=e.toString(),n=r?`/leads/assigned?${r}`:"/leads/assigned";return ct.get(n)},getRepeatCustomers:()=>ct.get("/leads/repeat-customers"),import:t=>ct.post("/leads/import",{leads:t}),importLeads:t=>ct.post("/leads/import",{leads:t}),importCSV:t=>ct.post("/leads/import-csv",t,{headers:{"Content-Type":"multipart/form-data"}})},Kr={getAll:()=>ct.get("/sales"),getAllForced:()=>ct.get("/sales?full=true"),getById:t=>ct.get(`/sales/${t}`),create:t=>(t.leadPerson&&(t.isLeadPersonSale=!0),ct.post("/sales",t)),update:(t,e)=>ct.put(`/sales/${t}`,e),delete:t=>ct.delete(`/sales/${t}`),getCount:()=>ct.get("/sales/count"),import:t=>ct.post("/sales/import",{sales:t}),importSales:t=>ct.post("/sales/import",{sales:t}),getCourseAnalysis:(t="monthly")=>ct.get(`/sales/reports/course-analysis?period=${t}`),getRevenueAnalysis:(t="1month")=>ct.get(`/sales/reports/revenue-analysis?period=${t}`),getTopCourses:(t="all",e=10)=>ct.get(`/sales/reports/top-courses?period=${t}&limit=${e}`),getStatusAnalysis:(t="1month",e=null)=>{const r=e?`/sales/reports/status-analysis?period=${t}&status=${e}`:`/sales/reports/status-analysis?period=${t}`;return ct.get(r)},getLeadSales:(t={})=>{const e=new URLSearchParams;Object.keys(t).forEach(s=>{t[s]!==void 0&&t[s]!==null&&t[s]!==""&&e.append(s,t[s])});const r=e.toString(),n=r?`/lead-sales?${r}`:"/lead-sales";return ct.get(n)},createLeadSale:(t,e)=>ct.post("/lead-sales",{...t,leadPerson:e})},Qm={getAll:()=>ct.get("/lead-person-sales"),getById:t=>ct.get(`/lead-person-sales/${t}`),create:t=>ct.post("/lead-person-sales",t),update:(t,e)=>ct.put(`/lead-person-sales/${t}`,e),delete:t=>ct.delete(`/lead-person-sales/${t}`)},Dc={getAll:()=>ct.get("/tasks"),getById:t=>ct.get(`/tasks/${t}`),create:t=>ct.post("/tasks",t),update:(t,e)=>ct.put(`/tasks/${t}`,e),delete:t=>ct.delete(`/tasks/${t}`),markCompleted:(t,e)=>ct.put(`/tasks/${t}`,{completed:e})},sh={getRates:()=>ct.get("/currency/rates"),getRate:(t,e)=>ct.get(`/currency/rate?from=${t}&to=${e}`)},yl={getAll:(t={})=>{const e=new URLSearchParams;Object.keys(t).forEach(s=>{t[s]!==void 0&&t[s]!==null&&t[s]!==""&&e.append(s,t[s])});const r=e.toString(),n=r?`/prospects?${r}`:"/prospects";return ct.get(n)},getById:t=>ct.get(`/prospects/${t}`),create:t=>ct.post("/prospects",t),update:(t,e)=>ct.put(`/prospects/${t}`,e),delete:t=>ct.delete(`/prospects/${t}`),getStats:()=>ct.get("/prospects/stats"),convertToLead:t=>ct.post(`/prospects/${t}/convert`)},UN=A.createContext(),V5=({children:t})=>{const[e,r]=A.useState(null),[n,s]=A.useState(null),[i,o]=A.useState(!0),[c,d]=A.useState(null);A.useEffect(()=>{const x=localStorage.getItem("token");x?(s(x),f()):o(!1)},[]);const f=async()=>{try{o(!0);const x=localStorage.getItem("token");if(!x){s(null),r(null),o(!1);return}s(x);const w=await cr.getProfile();r(w.data.data),d(null)}catch{localStorage.removeItem("token"),s(null),r(null),d("Authentication failed. Please login again.")}finally{o(!1)}},h=async x=>{var w,b;try{o(!0);const v=await cr.register(x);return d(null),v.data}catch(v){const C=((b=(w=v.response)==null?void 0:w.data)==null?void 0:b.message)||"Registration failed. Please try again.";throw d(C),new Error(C)}finally{o(!1)}},p=async x=>{var w,b;try{o(!0);const v=await cr.login(x);return localStorage.setItem("token",v.data.token),s(v.data.token),r(v.data.user),d(null),console.log(" Login successful, token set:",!!v.data.token),{...v.data,tokenStatus:v.data.token?"Valid":"Missing"}}catch(v){throw d(((b=(w=v.response)==null?void 0:w.data)==null?void 0:b.message)||"Invalid credentials"),v}finally{o(!1)}},g=()=>{localStorage.removeItem("token"),s(null),r(null)};return a.jsx(UN.Provider,{value:{user:e,token:n,loading:i,error:c,register:h,login:p,logout:g,setUser:r,loadUser:f},children:t})},$t=()=>A.useContext(UN);let ah={currency:"USD",locale:"en-US",rate:1,exchangeRates:{USD:1,INR:84.62,EUR:.92,GBP:.79}};const p2="INR",g2=(t,e=ah.currency)=>{if(!t||isNaN(t))return 0;const r=ah.exchangeRates||{USD:1,INR:84.62,EUR:.92,GBP:.79};if(p2===e)return t;let n;return n=t/r[p2],n*r[e]},Hs=t=>{if(t==null)return"N/A";const e=xo();try{return new Intl.NumberFormat(e.locale,{style:"currency",currency:e.currency,minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}catch(r){return console.error("Error formatting currency:",r),`${e.symbol}${t.toFixed(2)}`}},gl=t=>{ah={...ah,...t}},xo=()=>{const t=localStorage.getItem("currencySettings");return t?JSON.parse(t):{currency:"USD",symbol:"$"}},zN=async()=>{try{const t=localStorage.getItem("token");if(!t)throw new Error("No authentication token found");const e="https://crm-backend-o36v.onrender.com";try{const r=await tr.get(`${e}/api/sales/count`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(r.data&&r.data.success&&typeof r.data.count=="number")return r.data.count;throw new Error("Invalid count response format")}catch(r){try{const n=await tr.get(`${e}/api/sales?full=true&nocache=${new Date().getTime()}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(n.data&&n.data.success){let s=0;return n.data.count&&typeof n.data.count=="number"?s=n.data.count:n.data.data&&Array.isArray(n.data.data)?s=n.data.data.length:Array.isArray(n.data)&&(s=n.data.length),s}else throw new Error("Invalid sales response format")}catch(n){throw new Error(`All strategies failed. Count error: ${r.message}, Full fetch error: ${n.message}`)}}}catch(t){throw t}},ol={USD:{locale:"en-US",label:"USD ($)",symbol:"$"},INR:{locale:"en-IN",label:"INR ()",symbol:""},EUR:{locale:"en-EU",label:"EUR ()",symbol:""},GBP:{locale:"en-GB",label:"GBP ()",symbol:""},JPY:{locale:"ja-JP",label:"JPY ()",symbol:""},CAD:{locale:"en-CA",label:"CAD ($)",symbol:"C$"},AUD:{locale:"en-AU",label:"AUD ($)",symbol:"A$"},CNY:{locale:"zh-CN",label:"CNY ()",symbol:""},SGD:{locale:"en-SG",label:"SGD ($)",symbol:"S$"},CHF:{locale:"de-CH",label:"CHF (Fr)",symbol:"Fr"},AED:{locale:"ar-AE",label:"AED (.)",symbol:"."}},of={USD:1,INR:84.62,EUR:.92,GBP:.79,JPY:151.15,CAD:1.37,AUD:1.52,CNY:7.24,SGD:1.35,CHF:.9,AED:3.67},H5=({darkMode:t=!0})=>{const[e,r]=A.useState(()=>xo().currency),[n,s]=A.useState(of),[i,o]=A.useState([]),[c,d]=A.useState(null),[f,h]=A.useState(null),p=t?"text-white":"text-gray-700",g=t?"text-blue-200":"text-gray-500",x=t?"text-yellow-200":"text-yellow-600",w=t?"bg-blue-700":"bg-white",b=t?"border-blue-600":"border-gray-300";A.useEffect(()=>{v();const j=setInterval(v,60*60*1e3);return()=>clearInterval(j)},[]);const v=async()=>{try{const j=await sh.getRates();if(j.data&&j.data.rates){const D=j.data.rates;s(D);const T=Object.keys(D).filter(M=>ol[M]).map(M=>({code:M,...ol[M],rate:D[M]})).sort((M,_)=>M.code==="USD"?-1:_.code==="USD"?1:M.code.localeCompare(_.code));o(T),h(new Date(j.data.date||new Date)),d(j.data.source==="fallback"?"Using backup rates":null),gl({...xo(),exchangeRates:D,lastUpdated:j.data.date||new Date().toISOString()}),localStorage.setItem("exchange_rates",JSON.stringify(D)),localStorage.setItem("rates_last_updated",j.data.date||new Date().toISOString()),j.data.source}else throw new Error("Invalid response format from currency API")}catch{d("Using last known rates");const D=localStorage.getItem("exchange_rates"),T=localStorage.getItem("rates_last_updated");if(D)try{const M=JSON.parse(D);s(M);const _=Object.keys(M).filter(P=>ol[P]).map(P=>({code:P,...ol[P],rate:M[P]})).sort((P,I)=>P.code==="USD"?-1:I.code==="USD"?1:P.code.localeCompare(I.code));o(_),h(new Date(T)),gl({...xo(),exchangeRates:M,lastUpdated:T})}catch{s(of);const _=Object.keys(of).filter(P=>ol[P]).map(P=>({code:P,...ol[P],rate:of[P]})).sort((P,I)=>P.code==="USD"?-1:I.code==="USD"?1:P.code.localeCompare(I.code));o(_)}}};A.useEffect(()=>{if(i.length===0)return;const j=localStorage.getItem("preferred_currency");if(j){const D=i.find(T=>T.code===j);D&&(gl({currency:D.code,locale:D.locale,rate:n[D.code]||D.rate,exchangeRates:n}),r(D.code))}else{const D=i.find(T=>T.code==="USD")||i[0];gl({currency:D.code,locale:D.locale,rate:n[D.code]||D.rate,exchangeRates:n})}},[i,n]);const C=j=>{const D=j.target.value,T=i.find(M=>M.code===D);T&&(gl({currency:T.code,locale:T.locale,rate:n[T.code]||T.rate,exchangeRates:n}),r(T.code),localStorage.setItem("preferred_currency",T.code),window.location.reload())},E=j=>{if(!j)return"";const T=new Date-j,M=Math.floor(T/(1e3*60));if(M<1)return"just now";if(M<60)return`${M} mins ago`;const _=Math.floor(M/60);return _<24?`${_} hours ago`:`${Math.floor(_/24)} days ago`};return i.length===0?a.jsxs("div",{className:`flex items-center ${p} text-sm`,children:[a.jsx("span",{className:"mr-2",children:"Loading currencies..."}),a.jsx("div",{className:`animate-spin h-4 w-4 border-2 ${p} rounded-full border-t-transparent`})]}):a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("label",{htmlFor:"currency-selector",className:`text-sm ${p} mr-2`,children:"Currency:"}),a.jsx("select",{id:"currency-selector",value:e,onChange:C,className:`text-sm border ${b} rounded p-1 focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${w} ${p} font-medium`,style:{WebkitAppearance:"menulist",MozAppearance:"menulist",appearance:"menulist"},children:i.map(j=>a.jsxs("option",{value:j.code,style:{backgroundColor:"#fff",color:"#333",padding:"6px"},children:[j.label," ",j.code!=="USD"&&`(1 USD = ${j.rate.toFixed(2)})`]},j.code))})]}),a.jsxs("div",{className:`text-xs ${g} mt-1`,children:[c&&a.jsx("span",{className:`${x} mr-2`,children:c}),f&&`Rates updated: ${E(f)}`]})]})};var VN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},x2=ft.createContext&&ft.createContext(VN),Ni=function(){return Ni=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ni.apply(this,arguments)},W5=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};function HN(t){return t&&t.map(function(e,r){return ft.createElement(e.tag,Ni({key:r},e.attr),HN(e.child))})}function jt(t){return function(e){return ft.createElement($5,Ni({attr:Ni({},t.attr)},e),HN(t.child))}}function $5(t){var e=function(r){var n=t.attr,s=t.size,i=t.title,o=W5(t,["attr","size","title"]),c=s||r.size||"1em",d;return r.className&&(d=r.className),t.className&&(d=(d?d+" ":"")+t.className),ft.createElement("svg",Ni({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:d,style:Ni(Ni({color:t.color||r.color},r.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&ft.createElement("title",null,i),t.children)};return x2!==void 0?ft.createElement(x2.Consumer,null,function(r){return e(r)}):e(VN)}function Y5(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(t)}function Gp(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(t)}function qp(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(t)}function WN(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"}}]})(t)}function K5(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(t)}function y2(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}}]})(t)}function $N(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(t)}function G5(t){return jt({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"}}]})(t)}function Xp(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(t)}function q5(t){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(t)}function Qc(t){return jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"}}]})(t)}function X5(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M488 352h-40V109.25l59.31-59.31c6.25-6.25 6.25-16.38 0-22.63L484.69 4.69c-6.25-6.25-16.38-6.25-22.63 0L402.75 64H192v96h114.75L160 306.75V24c0-13.26-10.75-24-24-24H88C74.75 0 64 10.74 64 24v40H24C10.75 64 0 74.74 0 88v48c0 13.25 10.75 24 24 24h40v264c0 13.25 10.75 24 24 24h232v-96H205.25L352 205.25V488c0 13.25 10.75 24 24 24h48c13.25 0 24-10.75 24-24v-40h40c13.25 0 24-10.75 24-24v-48c0-13.26-10.75-24-24-24z"}}]})(t)}function v2(t){return jt({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"}}]})(t)}function YN(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(t)}function $u(t){return jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(t)}function vu(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(t)}function J5(t){return jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(t)}function Qg(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(t)}function Q5(t){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"}}]})(t)}function Z5(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(t)}function e6(t){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(t)}function t6(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(t)}function r6(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(t)}function n6(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"}}]})(t)}function Zg(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(t)}function KN(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(t)}function s6(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(t)}function b2(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"}}]})(t)}function a6(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(t)}function bu(t){return jt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(t)}function ex(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(t)}function i6(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"}}]})(t)}function Zc(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(t)}function o6(t){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(t)}const l6=()=>{const t=A.useContext(aN);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},c6=({className:t=""})=>{const{theme:e,toggleTheme:r}=l6();return a.jsx("button",{onClick:r,className:`relative inline-flex items-center justify-center p-2 rounded-lg bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-all duration-300 ${t}`,title:`Switch to ${e==="dark"?"light":"dark"} mode`,children:a.jsx("div",{className:"relative w-5 h-5",children:e==="dark"?a.jsx(s6,{className:"w-5 h-5 text-yellow-400 animate-pulse"}):a.jsx(t6,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})})},u6=()=>{const{user:t,logout:e}=$t(),r=Ba(),[n,s]=A.useState(!1),i=()=>{e(),r("/login")},o=()=>{s(!n)};return a.jsx("header",{className:"bg-blue-600 dark:bg-gray-800 text-white py-4 shadow-md transition-colors duration-300",children:a.jsxs("nav",{className:"container mx-auto flex justify-between items-center",children:[a.jsxs("a",{href:"/",children:[" ",a.jsx("h1",{className:"text-xl font-bold",children:"My CRM"})]}),a.jsx("button",{className:"text-white md:hidden",onClick:o,children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),a.jsxs("ul",{className:`flex-col md:flex-row md:flex space-x-4 ${n?"flex":"hidden"} md:flex`,children:[a.jsx("li",{children:a.jsx(wt,{to:"/",className:"hover:text-blue-300",children:"Home"})}),t&&t.role==="Customer"&&a.jsx("li",{children:a.jsx(wt,{to:"/customer",className:"hover:text-blue-300",children:"Dashboard"})}),t&&(t.role==="Sales Person"||t.role==="Manager"||t.role==="Admin")&&a.jsx("li",{children:a.jsx(wt,{to:"/prospects",className:"hover:text-blue-300",children:"Prospects"})}),t&&(t.role==="Lead Person"||t.role==="Manager"||t.role==="Admin")&&a.jsx("li",{children:a.jsx(wt,{to:"/leads",className:"hover:text-blue-300",children:"Leads"})}),t&&(t.role==="Lead Person"||t.role==="Manager"||t.role==="Admin")&&a.jsx(a.Fragment,{children:a.jsx("li",{children:a.jsx(wt,{to:"/lead-sales-sheet",className:"hover:text-blue-300",children:"Lead Sales Sheet"})})}),t&&t.role==="Sales Person"&&a.jsx("li",{children:a.jsx(wt,{to:"/sales",className:"hover:text-blue-300",children:"My Leads"})}),t&&(t.role==="Sales Person"||t.role==="Manager"||t.role==="Admin")&&a.jsx("li",{children:a.jsx(wt,{to:"/sales-tracking",className:"hover:text-blue-300",children:"Sales Tracking"})}),t&&t.role==="Admin"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsx(wt,{to:"/admin",className:"hover:text-blue-300",children:"Admin Dashboard"})}),a.jsx("li",{children:a.jsx(wt,{to:"/admin/users",className:"hover:text-blue-300",children:"Manage Users"})}),a.jsx("li",{children:a.jsx(wt,{to:"/admin/leads",className:"hover:text-blue-300",children:"Manage Leads"})}),a.jsx("li",{children:a.jsx(wt,{to:"/admin/import",className:"hover:text-blue-300",children:"Import Data"})})]}),a.jsx("li",{className:"ml-4",children:a.jsx(H5,{})}),a.jsx("li",{className:"ml-4",children:a.jsx(c6,{})}),t?a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsx(wt,{to:"/profile",className:"hover:text-blue-300",children:"Profile"})}),a.jsx("li",{children:a.jsx("button",{onClick:i,className:"bg-blue-700 hover:bg-blue-800 px-3 py-1 rounded-md transition duration-300",children:"Logout"})})]}):a.jsx("li",{children:a.jsx(wt,{to:"/login",className:"hover:text-blue-300",children:"Login"})})]})]})})},d6=()=>a.jsx("footer",{className:"bg-gray-800 text-white py-6",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsx("h3",{className:"text-xl font-bold",children:"CRM Platform"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Streamlining your business relationships"})]}),a.jsxs("div",{className:"flex space-x-8",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Resources"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:"Documentation"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:"Help Center"})}),a.jsx("li",{children:a.jsx("a",{href:"#tutorials",className:"text-gray-400 hover:text-white transition",children:"Tutorials"})}),a.jsx("li",{children:a.jsx("a",{href:"#countries",className:"text-gray-400 hover:text-white transition",children:"Countries"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Company"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:"About Us"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:"Careers"})}),a.jsx("li",{children:a.jsx("a",{href:"#management-contacts",className:"text-gray-400 hover:text-white transition",children:"Contact"})})]})]})]})]}),a.jsx("div",{className:"border-t border-gray-700 mt-6 pt-6 text-center md:text-left",children:a.jsxs("p",{children:[" ",new Date().getFullYear()," CRM Platform. All Rights Reserved."]})})]})}),ur=({children:t})=>a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(u6,{}),a.jsx("main",{className:"flex-grow",children:t}),a.jsx(d6,{})]}),ha=Object.create(null);ha.open="0";ha.close="1";ha.ping="2";ha.pong="3";ha.message="4";ha.upgrade="5";ha.noop="6";const zf=Object.create(null);Object.keys(ha).forEach(t=>{zf[ha[t]]=t});const Jp={type:"error",data:"parser error"},GN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",qN=typeof ArrayBuffer=="function",XN=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,tx=({type:t,data:e},r,n)=>GN&&e instanceof Blob?r?n(e):w2(e,n):qN&&(e instanceof ArrayBuffer||XN(e))?r?n(e):w2(new Blob([e]),n):n(ha[t]+(e||"")),w2=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function N2(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Zm;function f6(t,e){if(GN&&t.data instanceof Blob)return t.data.arrayBuffer().then(N2).then(e);if(qN&&(t.data instanceof ArrayBuffer||XN(t.data)))return e(N2(t.data));tx(t,!1,r=>{Zm||(Zm=new TextEncoder),e(Zm.encode(r))})}const S2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<S2.length;t++)Hc[S2.charCodeAt(t)]=t;const h6=t=>{let e=t.length*.75,r=t.length,n,s=0,i,o,c,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const f=new ArrayBuffer(e),h=new Uint8Array(f);for(n=0;n<r;n+=4)i=Hc[t.charCodeAt(n)],o=Hc[t.charCodeAt(n+1)],c=Hc[t.charCodeAt(n+2)],d=Hc[t.charCodeAt(n+3)],h[s++]=i<<2|o>>4,h[s++]=(o&15)<<4|c>>2,h[s++]=(c&3)<<6|d&63;return f},m6=typeof ArrayBuffer=="function",rx=(t,e)=>{if(typeof t!="string")return{type:"message",data:JN(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:p6(t.substring(1),e)}:zf[r]?t.length>1?{type:zf[r],data:t.substring(1)}:{type:zf[r]}:Jp},p6=(t,e)=>{if(m6){const r=h6(t);return JN(r,e)}else return{base64:!0,data:t}},JN=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},QN="",g6=(t,e)=>{const r=t.length,n=new Array(r);let s=0;t.forEach((i,o)=>{tx(i,!1,c=>{n[o]=c,++s===r&&e(n.join(QN))})})},x6=(t,e)=>{const r=t.split(QN),n=[];for(let s=0;s<r.length;s++){const i=rx(r[s],e);if(n.push(i),i.type==="error")break}return n};function y6(){return new TransformStream({transform(t,e){f6(t,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(r)})}})}let ep;function lf(t){return t.reduce((e,r)=>e+r.length,0)}function cf(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let s=0;s<e;s++)r[s]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function v6(t,e){ep||(ep=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(o,c){for(r.push(o);;){if(n===0){if(lf(r)<1)break;const d=cf(r,1);i=(d[0]&128)===128,s=d[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(lf(r)<2)break;const d=cf(r,2);s=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),n=3}else if(n===2){if(lf(r)<8)break;const d=cf(r,8),f=new DataView(d.buffer,d.byteOffset,d.length),h=f.getUint32(0);if(h>Math.pow(2,21)-1){c.enqueue(Jp);break}s=h*Math.pow(2,32)+f.getUint32(4),n=3}else{if(lf(r)<s)break;const d=cf(r,s);c.enqueue(rx(i?d:ep.decode(d),e)),n=0}if(s===0||s>t){c.enqueue(Jp);break}}}})}const ZN=4;function Rr(t){if(t)return b6(t)}function b6(t){for(var e in Rr.prototype)t[e]=Rr.prototype[e];return t}Rr.prototype.on=Rr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Rr.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Rr.prototype.off=Rr.prototype.removeListener=Rr.prototype.removeAllListeners=Rr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===e||n.fn===e){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Rr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,e)}return this};Rr.prototype.emitReserved=Rr.prototype.emit;Rr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Rr.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Gh=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),Cs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),w6="arraybuffer";function eS(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const N6=Cs.setTimeout,S6=Cs.clearTimeout;function qh(t,e){e.useNativeTimers?(t.setTimeoutFn=N6.bind(Cs),t.clearTimeoutFn=S6.bind(Cs)):(t.setTimeoutFn=Cs.setTimeout.bind(Cs),t.clearTimeoutFn=Cs.clearTimeout.bind(Cs))}const _6=1.33;function C6(t){return typeof t=="string"?j6(t):Math.ceil((t.byteLength||t.size)*_6)}function j6(t){let e=0,r=0;for(let n=0,s=t.length;n<s;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function tS(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function T6(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function E6(t){let e={},r=t.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class k6 extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class nx extends Rr{constructor(e){super(),this.writable=!1,qh(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new k6(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=rx(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=T6(e);return r.length?"?"+r:""}}class A6 extends nx{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};x6(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,g6(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=tS()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let rS=!1;try{rS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const P6=rS;function D6(){}class R6 extends A6{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let Cl=class Vf extends Rr{constructor(e,r,n){super(),this.createRequest=e,qh(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=eS(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Vf.requestsCount++,Vf.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=D6,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Vf.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Cl.requestsCount=0;Cl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",_2);else if(typeof addEventListener=="function"){const t="onpagehide"in Cs?"pagehide":"unload";addEventListener(t,_2,!1)}}function _2(){for(let t in Cl.requests)Cl.requests.hasOwnProperty(t)&&Cl.requests[t].abort()}const F6=function(){const t=nS({xdomain:!1});return t&&t.responseType!==null}();class O6 extends R6{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=F6&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Cl(nS,this.uri(),e)}}function nS(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||P6))return new XMLHttpRequest}catch{}if(!e)try{return new Cs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const sS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class M6 extends nx{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=sS?{}:eS(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;tx(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&Gh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=tS()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const tp=Cs.WebSocket||Cs.MozWebSocket;class L6 extends M6{createSocket(e,r,n){return sS?new tp(e,r,n):r?new tp(e,r):new tp(e)}doWrite(e,r){this.ws.send(r)}}class I6 extends nx{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=v6(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),s=y6();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:c,value:d})=>{c||(this.onPacket(d),i())}).catch(c=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;this._writer.write(n).then(()=>{s&&Gh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const B6={websocket:L6,webtransport:I6,polling:O6},U6=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,z6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Qp(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let s=U6.exec(t||""),i={},o=14;for(;o--;)i[z6[o]]=s[o]||"";return r!=-1&&n!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=V6(i,i.path),i.queryKey=H6(i,i.query),i}function V6(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function H6(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}const Zp=typeof addEventListener=="function"&&typeof removeEventListener=="function",Hf=[];Zp&&addEventListener("offline",()=>{Hf.forEach(t=>t())},!1);class Si extends Rr{constructor(e,r){if(super(),this.binaryType=w6,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=Qp(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Qp(r.host).host);qh(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=E6(this.opts.query)),Zp&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Hf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=ZN,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Si.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Si.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=C6(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Gh(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:e,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Si.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Zp&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Hf.indexOf(this._offlineEventListener);n!==-1&&Hf.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}Si.protocol=ZN;class W6 extends Si{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;Si.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Si.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(h(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function i(){n||(n=!0,h(),r.close(),r=null)}const o=p=>{const g=new Error("probe error: "+p);g.transport=r.name,i(),this.emitReserved("upgradeError",g)};function c(){o("transport closed")}function d(){o("socket closed")}function f(p){r&&p.name!==r.name&&i()}const h=()=>{r.removeListener("open",s),r.removeListener("error",o),r.removeListener("close",c),this.off("close",d),this.off("upgrading",f)};r.once("open",s),r.once("error",o),r.once("close",c),this.once("close",d),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let $6=class extends W6{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>B6[s]).filter(s=>!!s)),super(e,n)}};function Y6(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=Qp(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const K6=typeof ArrayBuffer=="function",G6=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,aS=Object.prototype.toString,q6=typeof Blob=="function"||typeof Blob<"u"&&aS.call(Blob)==="[object BlobConstructor]",X6=typeof File=="function"||typeof File<"u"&&aS.call(File)==="[object FileConstructor]";function sx(t){return K6&&(t instanceof ArrayBuffer||G6(t))||q6&&t instanceof Blob||X6&&t instanceof File}function Wf(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Wf(t[r]))return!0;return!1}if(sx(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Wf(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Wf(t[r]))return!0;return!1}function J6(t){const e=[],r=t.data,n=t;return n.data=eg(r,e),n.attachments=e.length,{packet:n,buffers:e}}function eg(t,e){if(!t)return t;if(sx(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=eg(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=eg(t[n],e));return r}return t}function Q6(t,e){return t.data=tg(t.data,e),delete t.attachments,t}function tg(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=tg(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=tg(t[r],e));return t}const Z6=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],eA=5;var Mt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Mt||(Mt={}));class tA{constructor(e){this.replacer=e}encode(e){return(e.type===Mt.EVENT||e.type===Mt.ACK)&&Wf(e)?this.encodeAsBinary({type:e.type===Mt.EVENT?Mt.BINARY_EVENT:Mt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Mt.BINARY_EVENT||e.type===Mt.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=J6(e),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function C2(t){return Object.prototype.toString.call(t)==="[object Object]"}class ax extends Rr{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Mt.BINARY_EVENT;n||r.type===Mt.BINARY_ACK?(r.type=n?Mt.EVENT:Mt.ACK,this.reconstructor=new rA(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(sx(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Mt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Mt.BINARY_EVENT||n.type===Mt.BINARY_ACK){const i=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(i,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(i,r)}else n.nsp="/";const s=e.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(i,r+1))}if(e.charAt(++r)){const i=this.tryParse(e.substr(r));if(ax.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Mt.CONNECT:return C2(r);case Mt.DISCONNECT:return r===void 0;case Mt.CONNECT_ERROR:return typeof r=="string"||C2(r);case Mt.EVENT:case Mt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Z6.indexOf(r[0])===-1);case Mt.ACK:case Mt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class rA{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=Q6(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const nA=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ax,Encoder:tA,get PacketType(){return Mt},protocol:eA},Symbol.toStringTag,{value:"Module"}));function $s(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const sA=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class iS extends Rr{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[$s(e,"open",this.onopen.bind(this)),$s(e,"packet",this.onpacket.bind(this)),$s(e,"error",this.onerror.bind(this)),$s(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,s,i;if(sA.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Mt.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const h=this.ids++,p=r.pop();this._registerAckCallback(h,p),o.id=h}const c=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,d=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!c||(d?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[e]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);r.call(this,new Error("operation has timed out"))},s),o=(...c)=>{this.io.clearTimeoutFn(i),r.apply(this,c)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,s)=>{const i=(o,c)=>o?s(o):n(c);i.withError=!0,r.push(i),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Mt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Mt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Mt.EVENT:case Mt.BINARY_EVENT:this.onevent(e);break;case Mt.ACK:case Mt.BINARY_ACK:this.onack(e);break;case Mt.DISCONNECT:this.ondisconnect();break;case Mt.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:Mt.ACK,id:e,data:s}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Mt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function Hl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Hl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};Hl.prototype.reset=function(){this.attempts=0};Hl.prototype.setMin=function(t){this.ms=t};Hl.prototype.setMax=function(t){this.max=t};Hl.prototype.setJitter=function(t){this.jitter=t};class rg extends Rr{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,qh(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Hl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const s=r.parser||nA;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new $6(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=$s(r,"open",function(){n.onopen(),e&&e()}),i=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},o=$s(r,"error",i);if(this._timeout!==!1){const c=this._timeout,d=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},c);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push($s(e,"ping",this.onping.bind(this)),$s(e,"data",this.ondata.bind(this)),$s(e,"error",this.onerror.bind(this)),$s(e,"close",this.onclose.bind(this)),$s(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Gh(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new iS(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Rc={};function jl(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=Y6(t,e.path||"/socket.io"),n=r.source,s=r.id,i=r.path,o=Rc[s]&&i in Rc[s].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let d;return c?d=new rg(n,e):(Rc[s]||(Rc[s]=new rg(n,e)),d=Rc[s]),r.query&&!e.query&&(e.query=r.queryKey),d.socket(r.path,e)}Object.assign(jl,{Manager:rg,Socket:iS,io:jl,connect:jl});const aA=()=>{const[t,e]=A.useState(!1),[r,n]=A.useState([]),[s,i]=A.useState(""),[o,c]=A.useState({name:"",email:"",phone:"",isInfoProvided:!1}),[d,f]=A.useState(null),[h,p]=A.useState(!1),[g,x]=A.useState([]),[w,b]=A.useState(null),v=A.useRef(null),C=A.useRef(`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),E=()=>{var _;(_=v.current)==null||_.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{E()},[r]),A.useEffect(()=>{if(t&&!d){const P=jl("https://crm-backend-o36v.onrender.com",{transports:["websocket","polling"],query:{isGuest:!0,guestId:C.current}});return P.on("connect",()=>{console.log(" Guest connected to chat server"),p(!0),P.emit("join-guest-room",C.current),P.emit("get-support-team")}),P.on("support-team-list",I=>{x(I.filter(K=>K.chatStatus==="ONLINE"))}),P.on("guest-message-received",I=>{n(K=>[...K,{...I,timestamp:new Date(I.timestamp)}])}),P.on("connect_error",I=>{console.error(" Guest connection error:",I),p(!1)}),f(P),()=>{P.close(),f(null),p(!1)}}},[t]);const j=_=>{if(_.preventDefault(),o.name&&o.email){c(I=>({...I,isInfoProvided:!0}));const P={id:Date.now(),content:`Hi ${o.name}! Thanks for reaching out. How can we help you today?`,sender:"system",timestamp:new Date,isSystem:!0};n([P])}},D=()=>{if(s.trim()&&d&&w){const _={guestId:C.current,guestInfo:o,recipientId:w._id,content:s.trim(),timestamp:new Date},P={id:Date.now(),content:s.trim(),sender:"guest",timestamp:new Date};n(I=>[...I,P]),d.emit("guest-message",_),i("")}},T=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),D())},M=_=>{b(_);const P={id:Date.now(),content:`You're now connected with ${_.fullName} (${_.role}). They'll respond shortly.`,sender:"system",timestamp:new Date,isSystem:!0};n(I=>[...I,P])};return t?a.jsxs("div",{className:"guest-chat-window",children:[a.jsxs("div",{className:"guest-chat-header",children:[a.jsxs("div",{className:"header-content",children:[a.jsx(Qc,{className:"header-icon"}),a.jsxs("div",{children:[a.jsx("h3",{children:"Live Support Chat"}),a.jsx("span",{className:`status ${h?"online":"offline"}`,children:h?"Connected":"Connecting..."})]})]}),a.jsx("button",{className:"close-button",onClick:()=>e(!1),children:a.jsx(bu,{})})]}),a.jsx("div",{className:"guest-chat-body",children:o.isInfoProvided?w?a.jsxs("div",{className:"chat-messages",children:[r.map(_=>a.jsxs("div",{className:`message ${_.sender==="guest"?"guest-message":"support-message"} ${_.isSystem?"system-message":""}`,children:[a.jsx("div",{className:"message-content",children:_.content}),a.jsx("div",{className:"message-time",children:_.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},_.id)),a.jsx("div",{ref:v})]}):a.jsxs("div",{className:"support-team-selection",children:[a.jsx("h4",{children:"Choose a support team member:"}),g.length>0?a.jsx("div",{className:"support-list",children:g.map(_=>a.jsxs("div",{className:"support-member",onClick:()=>M(_),children:[a.jsxs("div",{className:"member-info",children:[a.jsx("div",{className:"member-name",children:_.fullName}),a.jsx("div",{className:"member-role",children:_.role})]}),a.jsx("div",{className:"online-indicator"})]},_._id))}):a.jsxs("div",{className:"no-support",children:[a.jsx("p",{children:"No support team members are currently online."}),a.jsx("p",{children:"Please leave your message and we'll get back to you soon!"}),a.jsx("button",{className:"continue-anyway-btn",onClick:()=>b({_id:"offline",fullName:"Support Team",role:"Support"}),children:"Continue Anyway"})]})]}):a.jsxs("div",{className:"guest-info-form",children:[a.jsx("h4",{children:"Welcome! Let's get started"}),a.jsx("p",{children:"Please provide your details to begin chatting with our support team:"}),a.jsxs("form",{onSubmit:j,children:[a.jsx("input",{type:"text",placeholder:"Your Name *",value:o.name,onChange:_=>c(P=>({...P,name:_.target.value})),required:!0}),a.jsx("input",{type:"email",placeholder:"Your Email *",value:o.email,onChange:_=>c(P=>({...P,email:_.target.value})),required:!0}),a.jsx("input",{type:"tel",placeholder:"Your Phone (Optional)",value:o.phone,onChange:_=>c(P=>({...P,phone:_.target.value}))}),a.jsx("button",{type:"submit",className:"start-chat-btn",children:"Start Chat"})]})]})}),o.isInfoProvided&&w&&a.jsxs("div",{className:"guest-chat-footer",children:[a.jsxs("div",{className:"message-input-container",children:[a.jsx("input",{type:"text",value:s,onChange:_=>i(_.target.value),onKeyPress:T,placeholder:"Type your message...",className:"message-input"}),a.jsx("button",{onClick:D,disabled:!s.trim()||!h,className:"send-button",children:a.jsx(r6,{})})]}),a.jsx("div",{className:"chat-footer-info",children:a.jsxs("small",{children:["Chatting with ",w.fullName,"  ",h?"Online":"Offline"]})})]})]}):a.jsxs("div",{className:"guest-chat-button",onClick:()=>e(!0),children:[a.jsx(Qc,{className:"chat-icon"}),a.jsx("span",{className:"chat-text",children:"Need Help? Chat Now!"}),a.jsx("div",{className:"chat-pulse"})]})},j2=()=>{const{user:t}=$t();return a.jsxs(ur,{children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-700 to-indigo-800 text-white py-12 md:py-20 flex items-center",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-4 text-center sm:text-left",children:"TrainCape CRM"}),a.jsx("p",{className:"text-lg sm:text-xl mb-6 text-center sm:text-left",children:"Manage leads and track sales in one centralized platform."}),t?a.jsxs("div",{className:"flex flex-wrap gap-4 justify-center sm:justify-start",children:[t.role==="Sales Person"&&a.jsx(wt,{to:"/sales",className:"w-full sm:w-auto px-6 py-3 bg-white text-blue-700 font-semibold rounded-lg shadow-md hover:bg-gray-100 transition text-center",children:"My Leads"}),(t.role==="Lead Person"||t.role==="Manager"||t.role==="Admin")&&a.jsx(wt,{to:"/leads",className:"w-full sm:w-auto px-6 py-3 bg-white text-blue-700 font-semibold rounded-lg shadow-md hover:bg-gray-100 transition text-center",children:"Manage Leads"}),a.jsx(wt,{to:"/profile",className:"w-full sm:w-auto px-6 py-3 bg-transparent border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-blue-700 transition text-center",children:"My Profile"})]}):a.jsxs("div",{className:"flex flex-wrap gap-4 justify-center sm:justify-start",children:[a.jsx(wt,{to:"/login",className:"w-full sm:w-auto px-6 py-3 bg-white text-blue-700 font-semibold rounded-lg shadow-md hover:bg-gray-100 transition text-center",children:"Sign In"}),a.jsx(wt,{to:"/customer-signup",className:"w-full sm:w-auto px-6 py-3 bg-blue-800 text-white font-semibold rounded-lg shadow-md hover:bg-blue-900 transition text-center",children:"Customer Sign Up"})]})]})})}),a.jsx("div",{className:"bg-gray-50 py-6",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 -mt-6 sm:-mt-8 md:-mt-10 relative z-10",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-white p-4 sm:p-5 rounded-lg shadow hover:shadow-md transition",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start",children:[a.jsx("div",{className:"bg-blue-100 text-blue-700 p-3 rounded-lg mb-3 sm:mb-0 sm:mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("h3",{className:"text-lg font-bold mb-1",children:"Contact Management"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Organize client data with powerful filters and segments."}),a.jsx(wt,{to:"/management-contacts",className:"text-blue-700 font-medium text-sm mt-2 inline-block",children:"Access Contacts "})]})]})}),a.jsx("div",{className:"bg-white p-4 sm:p-5 rounded-lg shadow hover:shadow-md transition",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start",children:[a.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-lg mb-3 sm:mb-0 sm:mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("h3",{className:"text-lg font-bold mb-1",children:"Sales Pipeline"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Track deals from lead to close with customizable processes."}),a.jsx(wt,{to:"/sales",className:"text-green-700 font-medium text-sm mt-2 inline-block",children:"View Pipeline "})]})]})}),a.jsx("div",{className:"bg-white p-4 sm:p-5 rounded-lg shadow hover:shadow-md transition",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start",children:[a.jsx("div",{className:"bg-purple-100 text-purple-700 p-3 rounded-lg mb-3 sm:mb-0 sm:mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("h3",{className:"text-lg font-bold mb-1",children:"Task Management"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Schedule exams and get automated reminders."}),a.jsx(wt,{to:"/tasks",className:"text-purple-700 font-medium text-sm mt-2 inline-block",children:"Manage Tasks "})]})]})}),t&&(t.role==="Manager"||t.role==="Admin")&&a.jsx("div",{className:"bg-white p-4 sm:p-5 rounded-lg shadow hover:shadow-md transition",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start",children:[a.jsx("div",{className:"bg-indigo-100 text-indigo-700 p-3 rounded-lg mb-3 sm:mb-0 sm:mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("h3",{className:"text-lg font-bold mb-1",children:"Manager Dashboard"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Manage users, roles and system access."}),a.jsx(wt,{to:"/manager",className:"text-indigo-700 font-medium text-sm mt-2 inline-block",children:"Access Dashboard "})]})]})})]})})}),a.jsx("div",{className:"bg-white py-8 sm:py-10",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[{label:"Leads",value:"Today",icon:""},{label:"Tasks",value:"Pending",icon:""},{label:"Sales",value:"This Month",icon:""},{label:"Team",value:"Members",icon:""}].map((e,r)=>a.jsxs(wt,{to:r===0?"sales":r===1?"/tasks":r===2?"sales-tracking":"/profile",className:"bg-gray-50 rounded-lg p-3 sm:p-4 text-center hover:bg-gray-100 transition",children:[a.jsx("div",{className:"text-xl sm:text-2xl mb-1",children:e.icon}),a.jsx("div",{className:"text-base sm:text-lg font-bold",children:e.label}),a.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:e.value})]},r))})})}),a.jsx("div",{className:"bg-gray-50 py-8 sm:py-10",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-center",children:["Your Role: ",(t==null?void 0:t.role)||"Not Logged In"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 sm:p-5 rounded-lg shadow",children:[a.jsx("h3",{className:"font-bold text-blue-700 mb-2 text-center sm:text-left",children:"Lead Person"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Create and manage leads"})]}),a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Assign leads to team members"})]}),a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Track lead progress"})]})]})]}),a.jsxs("div",{className:"bg-white p-4 sm:p-5 rounded-lg shadow",children:[a.jsx("h3",{className:"font-bold text-green-700 mb-2 text-center sm:text-left",children:"Sales Person"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Access assigned leads"})]}),a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Update lead status"})]}),a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Schedule and track exams"})]})]})]}),a.jsxs("div",{className:"bg-white p-4 sm:p-5 rounded-lg shadow",children:[a.jsx("h3",{className:"font-bold text-purple-700 mb-2 text-center sm:text-left",children:"Manager/Admin"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Full system access"})]}),a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"View all leads and sales"})]}),a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Manage team and generate reports"})]}),t&&(t.role==="Manager"||t.role==="Admin")&&a.jsx("li",{className:"mt-4",children:a.jsx(wt,{to:"/manager",className:"inline-block w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded text-center transition",children:"Access Manager Dashboard"})})]})]})]})]})}),a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-8 sm:py-10",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:t?a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl sm:text-2xl font-bold mb-3",children:["Welcome, ",t.fullName]}),a.jsx("p",{className:"mb-4 text-sm sm:text-base",children:"Access your dashboard to manage your tasks."}),a.jsx(wt,{to:t.role==="Customer"?"/customer":t.role==="Sales Person"?"/sales":"/leads",className:"px-6 py-3 bg-white text-blue-700 font-semibold rounded-lg shadow hover:bg-gray-100 transition inline-block w-full sm:w-auto",children:"Go to Dashboard"})]}):a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Sign in to access your dashboard"}),a.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[a.jsx(wt,{to:"/login",className:"px-6 py-3 bg-white text-blue-700 font-semibold rounded-lg shadow hover:bg-gray-100 transition inline-block",children:"Login"}),a.jsx(wt,{to:"/customer-signup",className:"px-6 py-3 bg-blue-800 text-white font-semibold rounded-lg shadow hover:bg-blue-900 transition inline-block",children:"Customer Sign Up"})]})]})})}),!t&&a.jsx(aA,{})]})},iA=()=>{const t=Ba(),e=Ul(),{login:r,error:n}=$t(),[s,i]=A.useState({email:"",password:""}),[o,c]=A.useState(""),[d,f]=A.useState(""),[h,p]=A.useState(!1),[g,x]=A.useState(!1);A.useEffect(()=>{var C;(C=e.state)!=null&&C.message&&(f(e.state.message),e.state.email&&i(E=>({...E,email:e.state.email})))},[e]);const w=C=>{i({...s,[C.target.name]:C.target.value})},b=()=>{x(!g)},v=async C=>{var E,j;C.preventDefault(),c(""),f("");try{p(!0);const D={email:s.email,password:s.password},T=await r(D);switch(console.log("Login successful. Token:",T.token?"Present":"Not present"),setTimeout(()=>{const M=localStorage.getItem("token");console.log("Stored token check:",M?"Present":"Not present")},500),T.user.role){case"Lead Person":case"Manager":case"Admin":t("/leads");break;case"Sales Person":t("/sales");break;case"Customer":t("/customer");break;default:t("/")}}catch(D){c(((j=(E=D.response)==null?void 0:E.data)==null?void 0:j.message)||"Invalid credentials. Please try again.")}finally{p(!1)}};return a.jsx(ur,{children:a.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",a.jsx(wt,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),d&&a.jsx("div",{className:"p-3 bg-green-50 text-green-700 border border-green-200 rounded-md",children:d}),(o||n)&&a.jsx("div",{className:"p-3 bg-red-50 text-red-700 border border-red-200 rounded-md",children:o||n}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[a.jsxs("div",{className:"rounded-md -space-y-px",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:s.email,onChange:w})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",name:"password",type:g?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm pr-10",placeholder:"Password",value:s.password,onChange:w}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm text-gray-500 hover:text-gray-800",onClick:b,children:g?a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),a.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),a.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),a.jsx("div",{className:"text-sm",children:a.jsx(wt,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:h,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent rounded-md text-white ${h?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition`,children:h?"Signing in...":"Sign in"})})]})]})})})},oA=()=>{const t=Ba(),{register:e,error:r}=$t(),[n,s]=A.useState({fullName:"",email:"",password:"",confirmPassword:"",role:"Customer"}),[i,o]=A.useState(""),[c,d]=A.useState(!1),f=p=>{s({...n,[p.target.name]:p.target.value})},h=async p=>{var g,x;if(p.preventDefault(),o(""),n.password!==n.confirmPassword){o("Passwords do not match");return}if(n.password.length<6){o("Password must be at least 6 characters");return}try{d(!0);const w={fullName:n.fullName,email:n.email,password:n.password,role:n.role};await e(w),t("/login",{state:{message:"Registration successful! Please login with your credentials.",email:n.email}})}catch(w){o(((x=(g=w.response)==null?void 0:g.data)==null?void 0:x.message)||"Registration failed. Please try again.")}finally{d(!1)}};return a.jsx(ur,{children:a.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create a new account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",a.jsx(wt,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),(i||r)&&a.jsx("div",{className:"p-3 bg-red-50 text-red-700 border border-red-200 rounded-md",children:i||r}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[a.jsxs("div",{className:"rounded-md -space-y-px",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:n.fullName,onChange:f})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:n.email,onChange:f})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n.password,onChange:f})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:n.confirmPassword,onChange:f})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{id:"role",name:"role",className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",value:n.role,onChange:f,children:[a.jsx("option",{value:"Lead Person",children:"Lead Person"}),a.jsx("option",{value:"Sales Person",children:"Sales Person"}),a.jsx("option",{value:"Manager",children:"Manager"}),a.jsx("option",{value:"Admin",children:"Admin"}),a.jsx("option",{value:"Customer",children:"Customer"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For initial setup, you can create an Admin account. This option will be removed in production."})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:c,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent rounded-md text-white ${c?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition`,children:c?"Creating Account...":"Create Account"})})]})]})})})},lA=()=>{const t=Ba(),{register:e,error:r}=$t(),[n,s]=A.useState({fullName:"",email:"",password:"",confirmPassword:"",role:"Customer"}),[i,o]=A.useState(""),[c,d]=A.useState(!1),f=p=>{s({...n,[p.target.name]:p.target.value})},h=async p=>{var g,x;if(p.preventDefault(),o(""),n.password!==n.confirmPassword){o("Passwords do not match");return}if(n.password.length<6){o("Password must be at least 6 characters");return}try{d(!0);const w={fullName:n.fullName,email:n.email,password:n.password,role:"Customer"};await e(w),t("/login",{state:{message:"Welcome! Your customer account has been created successfully. Please login to start chatting with our team.",email:n.email}})}catch(w){o(((x=(g=w.response)==null?void 0:g.data)==null?void 0:x.message)||"Registration failed. Please try again.")}finally{d(!1)}};return a.jsx(ur,{children:a.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create Customer Account"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join our platform to chat with our team and get support"}),a.jsxs("p",{className:"mt-1 text-center text-sm text-gray-600",children:["Already have an account?"," ",a.jsx(wt,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in here"})]})]}),(i||r)&&a.jsx("div",{className:"p-3 bg-red-50 text-red-700 border border-red-200 rounded-md",children:i||r}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your full name",value:n.fullName,onChange:f})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your email address",value:n.email,onChange:f})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Create a password (min 6 characters)",value:n.password,onChange:f,minLength:6})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm your password",value:n.confirmPassword,onChange:f,minLength:6})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:c,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent rounded-md text-white ${c?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition`,children:c?"Creating Account...":"Create Customer Account"})}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:"By creating an account, you agree to our terms of service and can chat with our support team."})})]})]})})})},cA=({lead:t=null,onSuccess:e})=>{Ba();const{user:r}=$t(),[n,s]=A.useState([]),[i,o]=A.useState([]),[c,d]=A.useState(!1),[f,h]=A.useState(null),[p,g]=A.useState({name:"",email:"",course:"",countryCode:"",phone:"",country:"",pseudoId:"",company:"",client:"",status:"Introduction",source:"",sourceLink:"",assignedTo:"",leadPerson:"",remarks:"",feedback:"",customCreatedAt:new Date().toISOString().split("T")[0]});A.useEffect(()=>{(async()=>{try{console.log("Fetching users for dropdowns");const v=await cr.getUsers("Sales Person");console.log("Sales persons fetched:",v.data.data),s(v.data.data||[]);const C=await cr.getUsers("Lead Person");console.log("Lead persons fetched:",C.data.data),o(C.data.data||[])}catch(v){console.error("Failed to fetch users",v)}})()},[]),A.useEffect(()=>{var b,v,C,E;if(console.log("========= FORM DATA INITIALIZATION ========="),console.log("Current user:",r),console.log("User ID formats:",{_id:r==null?void 0:r._id,id:r==null?void 0:r.id}),console.log("Lead data:",t),t){console.log("Editing existing lead, populating form with lead data");const j=t.createdAt?new Date(t.createdAt).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];let D=t.countryCode||t.CODE||"";D=D.replace(/^\+/,"");const T={name:t.name||t.NAME||"",email:t.email||t["E-MAIL"]||"",course:t.course||t.COURSE||"",countryCode:D,phone:t.phone||t.NUMBER||"",country:t.country||t.COUNTRY||"",pseudoId:t.pseudoId||t["PSUDO ID"]||"",company:t.company||t.COMPANY||"",client:t.client||t["CLIENT REMARK"]||"",status:t.status||"Introduction",source:t.source||t.SOURSE||"",sourceLink:t.sourceLink||t["SOURCE LINK"]||"",assignedTo:((b=t.assignedTo)==null?void 0:b._id)||((v=t["SALE PERSON"])==null?void 0:v._id)||t["SALE PERSON"]||"",leadPerson:((C=t.leadPerson)==null?void 0:C._id)||((E=t["LEAD PERSON"])==null?void 0:E._id)||t["LEAD PERSON"]||"",remarks:t.remarks||"",feedback:t.feedback||t.FEEDBACK||"",customCreatedAt:j};g(T),console.log("Populated form data:",T)}else{console.log("Creating new lead, setting default values");const j=((r==null?void 0:r._id)||(r==null?void 0:r.id)||"").toString();console.log("Using user ID for defaults:",j);const D=new Date().toISOString().split("T")[0],T={name:"",email:"",course:"",countryCode:"1",phone:"",country:"",pseudoId:"",company:"",client:"",status:"Introduction",source:"",sourceLink:"",assignedTo:j,leadPerson:(r==null?void 0:r.role)==="Lead Person"?j:"",remarks:"",feedback:"",customCreatedAt:D};g(T),console.log("Default form data:",T)}console.log("==========================================")},[t,r]);const x=b=>{const{name:v,value:C}=b.target;console.log(`Field changed: ${v}, value: ${C}`),g(E=>({...E,[v]:C}))},w=async b=>{var v,C,E,j,D;b.preventDefault(),d(!0),h(null),console.log("============= LEAD FORM SUBMIT ============="),console.log("Form submission started"),console.log("Is updating existing lead:",!!t),console.log("Lead ID:",t==null?void 0:t._id),console.log("Form data:",p);try{let T;const M={NAME:p.name,"E-MAIL":p.email||"",COURSE:p.course,CODE:p.countryCode,NUMBER:p.phone,COUNTRY:p.country,"PSUDO ID":p.pseudoId||"","CLIENT REMARK":p.client||"",status:p.status||"Introduction",SOURSE:p.source||"","SOURCE LINK":p.sourceLink||"","SALE PERSON":p.assignedTo,leadPerson:p.leadPerson||"","LEAD PERSON":p.leadPerson||"",feedback:p.feedback||"",FEEDBACK:p.feedback||"",...t?{}:{DATE:p.customCreatedAt?new Date(p.customCreatedAt).toISOString():new Date().toISOString(),createdAt:p.customCreatedAt?new Date(p.customCreatedAt).toISOString():new Date().toISOString()}},P=["name","course","phone","country","assignedTo"].filter(I=>!p[I]||p[I].trim()==="");if(P.length>0){console.error("Missing required fields:",P),h(`Missing required fields: ${P.join(", ")}`),d(!1);return}if(p.email&&p.email.trim()!==""){if(!p.email.includes("@")){console.error("Invalid email format:",p.email),h("Please enter a valid email address or leave it blank"),d(!1);return}}else M.email="",M["E-MAIL"]="",console.log("Email field is blank, setting to empty string");console.log("Final data being sent to API:",M),t?(console.log("Calling API to update existing lead:",t._id),T=await _n.update(t._id,M),console.log("Update API response received:",T)):(console.log("Calling API to create new lead"),T=await _n.create(M),console.log("Create API response received:",T)),console.log("Full API response data:",T.data),console.log("API response success:",(v=T.data)==null?void 0:v.success),console.log("API response lead data:",(C=T.data)==null?void 0:C.data),T.data&&T.data.success?(console.log("Lead saved successfully, calling onSuccess callback"),console.log("Lead data being passed to onSuccess:",T.data.data),e(T.data.data),console.log("onSuccess callback completed")):(console.error("API returned success: false",T),h("Failed to save lead. Please check your input and try again."))}catch(T){console.error("Error saving lead:",T),console.error("Error response:",(E=T.response)==null?void 0:E.data),h(((D=(j=T.response)==null?void 0:j.data)==null?void 0:D.message)||"Failed to save lead. Please try again later.")}finally{d(!1),console.log("============= LEAD FORM SUBMIT END =============")}};return a.jsxs("form",{onSubmit:w,className:"space-y-8",children:[f&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:f}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Full Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:p.name,onChange:x,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",name:"email",id:"email",value:p.email,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:["Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("input",{type:"text",name:"countryCode",id:"countryCode",value:p.countryCode,onChange:x,placeholder:"Code",className:"block w-16 border border-gray-300 rounded-md rounded-r-none shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})}),a.jsx("input",{type:"text",name:"phone",id:"phone",value:p.phone,onChange:x,required:!0,className:"flex-1 block w-full border border-gray-300 rounded-md rounded-l-none shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:["Country ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"country",id:"country",value:p.country,onChange:x,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Course Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-700",children:["Course ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"course",id:"course",value:p.course,onChange:x,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-700",children:"Source"}),a.jsx("input",{type:"text",name:"source",id:"source",value:p.source,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sourceLink",className:"block text-sm font-medium text-gray-700",children:"Source Link"}),a.jsx("input",{type:"text",name:"sourceLink",id:"sourceLink",value:p.sourceLink,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"pseudoId",className:"block text-sm font-medium text-gray-700",children:"Pseudo ID"}),a.jsx("input",{type:"text",name:"pseudoId",id:"pseudoId",value:p.pseudoId,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Assignment & Status"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"assignedTo",className:"block text-sm font-medium text-gray-700",children:["Assigned Sales Person ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{id:"assignedTo",name:"assignedTo",value:p.assignedTo,onChange:x,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select Sales Person"}),n.map(b=>a.jsx("option",{value:b._id,children:b.fullName||b.email},b._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"leadPerson",className:"block text-sm font-medium text-gray-700",children:"Lead Person"}),a.jsxs("select",{id:"leadPerson",name:"leadPerson",value:p.leadPerson,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select Lead Person"}),i.map(b=>a.jsx("option",{value:b._id,children:b.fullName||b.email},b._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsxs("select",{id:"status",name:"status",value:p.status,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"Introduction",children:"Introduction"}),a.jsx("option",{value:"Acknowledgement",children:"Acknowledgement"}),a.jsx("option",{value:"Question",children:"Question"}),a.jsx("option",{value:"Future Promise",children:"Future Promise"}),a.jsx("option",{value:"Payment",children:"Payment"}),a.jsx("option",{value:"Analysis",children:"Analysis"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"feedback",className:"block text-sm font-medium text-gray-700",children:"Feedback"}),a.jsxs("select",{id:"feedback",name:"feedback",value:p.feedback,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select Feedback"}),a.jsx("option",{value:"Pending",children:"Pending"}),a.jsx("option",{value:"Converted",children:"Converted"}),a.jsx("option",{value:"Not Interested",children:"Not Interested"}),a.jsx("option",{value:"Follow Up",children:"Follow Up"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"client",className:"block text-sm font-medium text-gray-700",children:"Client Remarks"}),a.jsx("textarea",{id:"client",name:"client",rows:"3",value:p.client,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customCreatedAt",className:"block text-sm font-medium text-gray-700",children:"Date Added"}),a.jsx("input",{type:"date",name:"customCreatedAt",id:"customCreatedAt",value:p.customCreatedAt,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),a.jsx("div",{className:"pt-5 flex justify-end",children:a.jsx("button",{type:"submit",disabled:c,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:c?"Saving...":t?"Update Lead":"Add Lead"})})]})};var $f={exports:{}},uA=$f.exports,T2;function dA(){return T2||(T2=1,function(t,e){(function(r,n){t.exports=n()})(uA,function(){return function(r){function n(i){if(s[i])return s[i].exports;var o=s[i]={exports:{},id:i,loaded:!1};return r[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var s={};return n.m=r,n.c=s,n.p="dist/",n(0)}([function(r,n,s){function i(Q){return Q&&Q.__esModule?Q:{default:Q}}var o=Object.assign||function(Q){for(var O=1;O<arguments.length;O++){var W=arguments[O];for(var ne in W)Object.prototype.hasOwnProperty.call(W,ne)&&(Q[ne]=W[ne])}return Q},c=s(1),d=(i(c),s(6)),f=i(d),h=s(7),p=i(h),g=s(8),x=i(g),w=s(9),b=i(w),v=s(10),C=i(v),E=s(11),j=i(E),D=s(14),T=i(D),M=[],_=!1,P={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},I=function(){var Q=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(Q&&(_=!0),_)return M=(0,j.default)(M,P),(0,C.default)(M,P.once),M},K=function(){M=(0,T.default)(),I()},q=function(){M.forEach(function(Q,O){Q.node.removeAttribute("data-aos"),Q.node.removeAttribute("data-aos-easing"),Q.node.removeAttribute("data-aos-duration"),Q.node.removeAttribute("data-aos-delay")})},H=function(Q){return Q===!0||Q==="mobile"&&b.default.mobile()||Q==="phone"&&b.default.phone()||Q==="tablet"&&b.default.tablet()||typeof Q=="function"&&Q()===!0},oe=function(Q){P=o(P,Q),M=(0,T.default)();var O=document.all&&!window.atob;return H(P.disable)||O?q():(P.disableMutationObserver||x.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),P.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",P.easing),document.querySelector("body").setAttribute("data-aos-duration",P.duration),document.querySelector("body").setAttribute("data-aos-delay",P.delay),P.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?I(!0):P.startEvent==="load"?window.addEventListener(P.startEvent,function(){I(!0)}):document.addEventListener(P.startEvent,function(){I(!0)}),window.addEventListener("resize",(0,p.default)(I,P.debounceDelay,!0)),window.addEventListener("orientationchange",(0,p.default)(I,P.debounceDelay,!0)),window.addEventListener("scroll",(0,f.default)(function(){(0,C.default)(M,P.once)},P.throttleDelay)),P.disableMutationObserver||x.default.ready("[data-aos]",K),M)};r.exports={init:oe,refresh:I,refreshHard:K}},function(r,n){},,,,,function(r,n){(function(s){function i(H,oe,Q){function O(Ve){var de=z,Ee=k;return z=k=void 0,ke=Ve,ee=H.apply(Ee,de)}function W(Ve){return ke=Ve,he=setTimeout(Z,oe),Ke?O(Ve):ee}function ne(Ve){var de=Ve-ye,Ee=Ve-ke,je=oe-de;return He?K(je,ce-Ee):je}function X(Ve){var de=Ve-ye,Ee=Ve-ke;return ye===void 0||de>=oe||de<0||He&&Ee>=ce}function Z(){var Ve=q();return X(Ve)?ae(Ve):void(he=setTimeout(Z,ne(Ve)))}function ae(Ve){return he=void 0,rt&&z?O(Ve):(z=k=void 0,ee)}function Y(){he!==void 0&&clearTimeout(he),ke=0,z=ye=k=he=void 0}function R(){return he===void 0?ee:ae(q())}function U(){var Ve=q(),de=X(Ve);if(z=arguments,k=this,ye=Ve,de){if(he===void 0)return W(ye);if(He)return he=setTimeout(Z,oe),O(ye)}return he===void 0&&(he=setTimeout(Z,oe)),ee}var z,k,ce,ee,he,ye,ke=0,Ke=!1,He=!1,rt=!0;if(typeof H!="function")throw new TypeError(g);return oe=h(oe)||0,c(Q)&&(Ke=!!Q.leading,He="maxWait"in Q,ce=He?I(h(Q.maxWait)||0,oe):ce,rt="trailing"in Q?!!Q.trailing:rt),U.cancel=Y,U.flush=R,U}function o(H,oe,Q){var O=!0,W=!0;if(typeof H!="function")throw new TypeError(g);return c(Q)&&(O="leading"in Q?!!Q.leading:O,W="trailing"in Q?!!Q.trailing:W),i(H,oe,{leading:O,maxWait:oe,trailing:W})}function c(H){var oe=typeof H>"u"?"undefined":p(H);return!!H&&(oe=="object"||oe=="function")}function d(H){return!!H&&(typeof H>"u"?"undefined":p(H))=="object"}function f(H){return(typeof H>"u"?"undefined":p(H))=="symbol"||d(H)&&P.call(H)==w}function h(H){if(typeof H=="number")return H;if(f(H))return x;if(c(H)){var oe=typeof H.valueOf=="function"?H.valueOf():H;H=c(oe)?oe+"":oe}if(typeof H!="string")return H===0?H:+H;H=H.replace(b,"");var Q=C.test(H);return Q||E.test(H)?j(H.slice(2),Q?2:8):v.test(H)?x:+H}var p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},g="Expected a function",x=NaN,w="[object Symbol]",b=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,E=/^0o[0-7]+$/i,j=parseInt,D=(typeof s>"u"?"undefined":p(s))=="object"&&s&&s.Object===Object&&s,T=(typeof self>"u"?"undefined":p(self))=="object"&&self&&self.Object===Object&&self,M=D||T||Function("return this")(),_=Object.prototype,P=_.toString,I=Math.max,K=Math.min,q=function(){return M.Date.now()};r.exports=o}).call(n,function(){return this}())},function(r,n){(function(s){function i(q,H,oe){function Q(rt){var Ve=U,de=z;return U=z=void 0,ye=rt,ce=q.apply(de,Ve)}function O(rt){return ye=rt,ee=setTimeout(X,H),ke?Q(rt):ce}function W(rt){var Ve=rt-he,de=rt-ye,Ee=H-Ve;return Ke?I(Ee,k-de):Ee}function ne(rt){var Ve=rt-he,de=rt-ye;return he===void 0||Ve>=H||Ve<0||Ke&&de>=k}function X(){var rt=K();return ne(rt)?Z(rt):void(ee=setTimeout(X,W(rt)))}function Z(rt){return ee=void 0,He&&U?Q(rt):(U=z=void 0,ce)}function ae(){ee!==void 0&&clearTimeout(ee),ye=0,U=he=z=ee=void 0}function Y(){return ee===void 0?ce:Z(K())}function R(){var rt=K(),Ve=ne(rt);if(U=arguments,z=this,he=rt,Ve){if(ee===void 0)return O(he);if(Ke)return ee=setTimeout(X,H),Q(he)}return ee===void 0&&(ee=setTimeout(X,H)),ce}var U,z,k,ce,ee,he,ye=0,ke=!1,Ke=!1,He=!0;if(typeof q!="function")throw new TypeError(p);return H=f(H)||0,o(oe)&&(ke=!!oe.leading,Ke="maxWait"in oe,k=Ke?P(f(oe.maxWait)||0,H):k,He="trailing"in oe?!!oe.trailing:He),R.cancel=ae,R.flush=Y,R}function o(q){var H=typeof q>"u"?"undefined":h(q);return!!q&&(H=="object"||H=="function")}function c(q){return!!q&&(typeof q>"u"?"undefined":h(q))=="object"}function d(q){return(typeof q>"u"?"undefined":h(q))=="symbol"||c(q)&&_.call(q)==x}function f(q){if(typeof q=="number")return q;if(d(q))return g;if(o(q)){var H=typeof q.valueOf=="function"?q.valueOf():q;q=o(H)?H+"":H}if(typeof q!="string")return q===0?q:+q;q=q.replace(w,"");var oe=v.test(q);return oe||C.test(q)?E(q.slice(2),oe?2:8):b.test(q)?g:+q}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},p="Expected a function",g=NaN,x="[object Symbol]",w=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,C=/^0o[0-7]+$/i,E=parseInt,j=(typeof s>"u"?"undefined":h(s))=="object"&&s&&s.Object===Object&&s,D=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,T=j||D||Function("return this")(),M=Object.prototype,_=M.toString,P=Math.max,I=Math.min,K=function(){return T.Date.now()};r.exports=i}).call(n,function(){return this}())},function(r,n){function s(h){var p=void 0,g=void 0;for(p=0;p<h.length;p+=1)if(g=h[p],g.dataset&&g.dataset.aos||g.children&&s(g.children))return!0;return!1}function i(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!i()}function c(h,p){var g=window.document,x=i(),w=new x(d);f=p,w.observe(g.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function d(h){h&&h.forEach(function(p){var g=Array.prototype.slice.call(p.addedNodes),x=Array.prototype.slice.call(p.removedNodes),w=g.concat(x);if(s(w))return f()})}Object.defineProperty(n,"__esModule",{value:!0});var f=function(){};n.default={isSupported:o,ready:c}},function(r,n){function s(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(x,w){for(var b=0;b<w.length;b++){var v=w[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(x,v.key,v)}}return function(x,w,b){return w&&g(x.prototype,w),b&&g(x,b),x}}(),c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,d=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,f=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,h=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,p=function(){function g(){s(this,g)}return o(g,[{key:"phone",value:function(){var x=i();return!(!c.test(x)&&!d.test(x.substr(0,4)))}},{key:"mobile",value:function(){var x=i();return!(!f.test(x)&&!h.test(x.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),g}();n.default=new p},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var s=function(o,c,d){var f=o.node.getAttribute("data-aos-once");c>o.position?o.node.classList.add("aos-animate"):typeof f<"u"&&(f==="false"||!d&&f!=="true")&&o.node.classList.remove("aos-animate")},i=function(o,c){var d=window.pageYOffset,f=window.innerHeight;o.forEach(function(h,p){s(h,f+d,c)})};n.default=i},function(r,n,s){function i(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(n,"__esModule",{value:!0});var o=s(12),c=i(o),d=function(f,h){return f.forEach(function(p,g){p.node.classList.add("aos-init"),p.position=(0,c.default)(p.node,h.offset)}),f};n.default=d},function(r,n,s){function i(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(n,"__esModule",{value:!0});var o=s(13),c=i(o),d=function(f,h){var p=0,g=0,x=window.innerHeight,w={offset:f.getAttribute("data-aos-offset"),anchor:f.getAttribute("data-aos-anchor"),anchorPlacement:f.getAttribute("data-aos-anchor-placement")};switch(w.offset&&!isNaN(w.offset)&&(g=parseInt(w.offset)),w.anchor&&document.querySelectorAll(w.anchor)&&(f=document.querySelectorAll(w.anchor)[0]),p=(0,c.default)(f).top,w.anchorPlacement){case"top-bottom":break;case"center-bottom":p+=f.offsetHeight/2;break;case"bottom-bottom":p+=f.offsetHeight;break;case"top-center":p+=x/2;break;case"bottom-center":p+=x/2+f.offsetHeight;break;case"center-center":p+=x/2+f.offsetHeight/2;break;case"top-top":p+=x;break;case"bottom-top":p+=f.offsetHeight+x;break;case"center-top":p+=f.offsetHeight/2+x}return w.anchorPlacement||w.offset||isNaN(h)||(g=h),p+g};n.default=d},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var s=function(i){for(var o=0,c=0;i&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop);)o+=i.offsetLeft-(i.tagName!="BODY"?i.scrollLeft:0),c+=i.offsetTop-(i.tagName!="BODY"?i.scrollTop:0),i=i.offsetParent;return{top:c,left:o}};n.default=s},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var s=function(i){return i=i||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(i,function(o){return{node:o}})};n.default=s}])})}($f)),$f.exports}var fA=dA();const hA=Hg(fA);let mA={data:""},pA=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||mA,gA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xA=/\/\*[^]*?\*\/|  +/g,E2=/\n+/g,mi=(t,e)=>{let r="",n="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?mi(o,i):i+"{"+mi(o,i[1]=="k"?"":e)+"}":typeof o=="object"?n+=mi(o,e?e.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=mi.p?mi.p(i,o):i+":"+o+";")}return r+(e&&s?e+"{"+s+"}":s)+n},Ca={},oS=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+oS(t[r]);return e}return t},yA=(t,e,r,n,s)=>{let i=oS(t),o=Ca[i]||(Ca[i]=(d=>{let f=0,h=11;for(;f<d.length;)h=101*h+d.charCodeAt(f++)>>>0;return"go"+h})(i));if(!Ca[o]){let d=i!==t?t:(f=>{let h,p,g=[{}];for(;h=gA.exec(f.replace(xA,""));)h[4]?g.shift():h[3]?(p=h[3].replace(E2," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][h[1]]=h[2].replace(E2," ").trim();return g[0]})(t);Ca[o]=mi(s?{["@keyframes "+o]:d}:d,r?"":"."+o)}let c=r&&Ca.g?Ca.g:null;return r&&(Ca.g=Ca[o]),((d,f,h,p)=>{p?f.data=f.data.replace(p,d):f.data.indexOf(d)===-1&&(f.data=h?d+f.data:f.data+d)})(Ca[o],e,n,c),o},vA=(t,e,r)=>t.reduce((n,s,i)=>{let o=e[i];if(o&&o.call){let c=o(r),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=d?"."+d:c&&typeof c=="object"?c.props?"":mi(c,""):c===!1?"":c}return n+s+(o??"")},"");function Xh(t){let e=this||{},r=t.call?t(e.p):t;return yA(r.unshift?r.raw?vA(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,pA(e.target),e.g,e.o,e.k)}let lS,ng,sg;Xh.bind({g:1});let Ra=Xh.bind({k:1});function bA(t,e,r,n){mi.p=e,lS=t,ng=r,sg=n}function Fi(t,e){let r=this||{};return function(){let n=arguments;function s(i,o){let c=Object.assign({},i),d=c.className||s.className;r.p=Object.assign({theme:ng&&ng()},c),r.o=/ *go\d+/.test(d),c.className=Xh.apply(r,n)+(d?" "+d:"");let f=t;return t[0]&&(f=c.as||t,delete c.as),sg&&f[0]&&sg(c),lS(f,c)}return s}}var wA=t=>typeof t=="function",ih=(t,e)=>wA(t)?t(e):t,NA=(()=>{let t=0;return()=>(++t).toString()})(),cS=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),SA=20,uS=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,SA)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:r}=e;return uS(t,{type:t.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Yf=[],fo={toasts:[],pausedAt:void 0},Ao=t=>{fo=uS(fo,t),Yf.forEach(e=>{e(fo)})},_A={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},CA=(t={})=>{let[e,r]=A.useState(fo),n=A.useRef(fo);A.useEffect(()=>(n.current!==fo&&r(fo),Yf.push(r),()=>{let i=Yf.indexOf(r);i>-1&&Yf.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,c,d;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((c=t[i.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||_A[i.type],style:{...t.style,...(d=t[i.type])==null?void 0:d.style,...i.style}}});return{...e,toasts:s}},jA=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||NA()}),Yu=t=>(e,r)=>{let n=jA(e,t,r);return Ao({type:2,toast:n}),n.id},lt=(t,e)=>Yu("blank")(t,e);lt.error=Yu("error");lt.success=Yu("success");lt.loading=Yu("loading");lt.custom=Yu("custom");lt.dismiss=t=>{Ao({type:3,toastId:t})};lt.remove=t=>Ao({type:4,toastId:t});lt.promise=(t,e,r)=>{let n=lt.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?ih(e.success,s):void 0;return i?lt.success(i,{id:n,...r,...r==null?void 0:r.success}):lt.dismiss(n),s}).catch(s=>{let i=e.error?ih(e.error,s):void 0;i?lt.error(i,{id:n,...r,...r==null?void 0:r.error}):lt.dismiss(n)}),t};var TA=(t,e)=>{Ao({type:1,toast:{id:t,height:e}})},EA=()=>{Ao({type:5,time:Date.now()})},eu=new Map,kA=1e3,AA=(t,e=kA)=>{if(eu.has(t))return;let r=setTimeout(()=>{eu.delete(t),Ao({type:4,toastId:t})},e);eu.set(t,r)},PA=t=>{let{toasts:e,pausedAt:r}=CA(t);A.useEffect(()=>{if(r)return;let i=Date.now(),o=e.map(c=>{if(c.duration===1/0)return;let d=(c.duration||0)+c.pauseDuration-(i-c.createdAt);if(d<0){c.visible&&lt.dismiss(c.id);return}return setTimeout(()=>lt.dismiss(c.id),d)});return()=>{o.forEach(c=>c&&clearTimeout(c))}},[e,r]);let n=A.useCallback(()=>{r&&Ao({type:6,time:Date.now()})},[r]),s=A.useCallback((i,o)=>{let{reverseOrder:c=!1,gutter:d=8,defaultPosition:f}=o||{},h=e.filter(x=>(x.position||f)===(i.position||f)&&x.height),p=h.findIndex(x=>x.id===i.id),g=h.filter((x,w)=>w<p&&x.visible).length;return h.filter(x=>x.visible).slice(...c?[g+1]:[0,g]).reduce((x,w)=>x+(w.height||0)+d,0)},[e]);return A.useEffect(()=>{e.forEach(i=>{if(i.dismissed)AA(i.id,i.removeDelay);else{let o=eu.get(i.id);o&&(clearTimeout(o),eu.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:TA,startPause:EA,endPause:n,calculateOffset:s}}},DA=Ra`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,RA=Ra`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,FA=Ra`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,OA=Fi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${RA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${FA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,MA=Ra`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,LA=Fi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${MA} 1s linear infinite;
`,IA=Ra`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,BA=Ra`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,UA=Fi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${IA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${BA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zA=Fi("div")`
  position: absolute;
`,VA=Fi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,HA=Ra`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,WA=Fi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${HA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$A=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?A.createElement(WA,null,e):e:r==="blank"?null:A.createElement(VA,null,A.createElement(LA,{...n}),r!=="loading"&&A.createElement(zA,null,r==="error"?A.createElement(OA,{...n}):A.createElement(UA,{...n})))},YA=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,KA=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,GA="0%{opacity:0;} 100%{opacity:1;}",qA="0%{opacity:1;} 100%{opacity:0;}",XA=Fi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,JA=Fi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,QA=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=cS()?[GA,qA]:[YA(r),KA(r)];return{animation:e?`${Ra(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ra(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ZA=A.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?QA(t.position||e||"top-center",t.visible):{opacity:0},i=A.createElement($A,{toast:t}),o=A.createElement(JA,{...t.ariaProps},ih(t.message,t));return A.createElement(XA,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:i,message:o}):A.createElement(A.Fragment,null,i,o))});bA(A.createElement);var e8=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let i=A.useCallback(o=>{if(o){let c=()=>{let d=o.getBoundingClientRect().height;n(t,d)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return A.createElement("div",{ref:i,className:e,style:r},s)},t8=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:cS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},r8=Xh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,uf=16,n8=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:c,handlers:d}=PA(r);return A.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:uf,left:uf,right:uf,bottom:uf,pointerEvents:"none",...i},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(f=>{let h=f.position||e,p=d.calculateOffset(f,{reverseOrder:t,gutter:n,defaultPosition:e}),g=t8(h,p);return A.createElement(e8,{id:f.id,key:f.id,onHeightUpdate:d.updateHeight,className:f.visible?r8:"",style:g},f.type==="custom"?ih(f.message,f):s?s(f):A.createElement(ZA,{toast:f,position:h}))}))},yr=lt;const s8=()=>{var oe,Q;const{user:t}=$t(),[e,r]=A.useState([]),[n,s]=A.useState([]),[i,o]=A.useState(!0),[c,d]=A.useState(null),[f,h]=A.useState(!1),[p,g]=A.useState(null),x=new Date,[w,b]=A.useState(x.getMonth()+1),[v,C]=A.useState(x.getFullYear()),[E,j]=A.useState(!0),D=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],T=new Date().getFullYear(),M=Array.from({length:7},(O,W)=>T+1-W),_=A.useCallback(async()=>{try{o(!0),console.log("Current user:",t),console.log("Fetching ALL leads without date filters");const O=await _n.getAll({});if(console.log("API Response:",O.data),O.data&&O.data.data&&O.data.data.length>0){const W=O.data.data[0];console.log("First lead object structure:",W),console.log("All field names:",Object.keys(W)),console.log("Name value:",W.name),console.log("NAME value:",W.NAME)}r(O.data.data||[]),s(O.data.data||[]),console.log("Leads set in state:",O.data.data),d(null)}catch(O){console.error("Error fetching leads:",O),d("Failed to load leads. Please try again."),r([]),s([])}finally{o(!1)}},[t]);A.useEffect(()=>{console.log("Component mounted, fetching all leads"),_()},[_]),A.useEffect(()=>{if(e.length===0)return;console.log("Filtering leads for:",{filterMonth:w,filterYear:v,showCurrentMonth:E});let O=e;if(E){const W=new Date,ne=W.getMonth()+1,X=W.getFullYear();O=e.filter(Z=>{const ae=new Date(Z.createdAt),Y=ae.getMonth()+1,R=ae.getFullYear();return Y===ne&&R===X})}else O=e.filter(W=>{const ne=new Date(W.createdAt),X=ne.getMonth()+1,Z=ne.getFullYear();return X===w&&Z===v});console.log(`Filtered ${O.length} leads from ${e.length} total leads`),s(O)},[e,w,v,E]),A.useCallback(()=>{console.log("============= DEBUG CURRENT STATE ============="),console.log("Current leads count:",e.length),console.log("Current filteredLeads count:",n.length),console.log("Filter settings:",{filterMonth:w,filterYear:v,showCurrentMonth:E}),console.log("Selected lead:",p),console.log("Current date:",new Date),console.log("Filter date range:",{start:E?new Date(new Date().getFullYear(),new Date().getMonth(),1):new Date(v,w-1,1),end:E?new Date(new Date().getFullYear(),new Date().getMonth()+1,0):new Date(v,w,0)}),console.log("First 3 leads in leads array:",e.slice(0,3).map(O=>({id:O._id,name:O.name,createdAt:O.createdAt,createdAtFormatted:new Date(O.createdAt).toLocaleDateString(),month:new Date(O.createdAt).getMonth()+1,year:new Date(O.createdAt).getFullYear()}))),console.log("First 3 leads in filteredLeads array:",n.slice(0,3).map(O=>({id:O._id,name:O.name,createdAt:O.createdAt,createdAtFormatted:new Date(O.createdAt).toLocaleDateString(),month:new Date(O.createdAt).getMonth()+1,year:new Date(O.createdAt).getFullYear()}))),console.log("============= END DEBUG STATE =============")},[e,n,w,v,E,p]),A.useCallback(async()=>{console.log("=== FORCE REFETCH TRIGGERED ==="),o(!0);try{r([]),s([]),await new Promise(O=>setTimeout(O,100)),await _(),lt.success("Data refreshed successfully!")}catch(O){console.error("Force refetch failed:",O),lt.error("Failed to refresh data")}finally{o(!1)}},[_]);const P=A.useCallback(O=>{console.log("============= HANDLE LEAD SUCCESS ============="),console.log("Lead success callback called with:",O),p?(console.log("Lead updated successfully"),g(null),lt.success("Lead updated successfully!"),_()):(console.log("Adding new lead to list"),h(!1),_(),lt.success("Lead created successfully!")),console.log("============= END HANDLE LEAD SUCCESS =============")},[p,_]),I=O=>{const W=parseInt(O.target.value);console.log("Changing month to:",W),b(W),j(!1)},K=O=>{const W=parseInt(O.target.value);console.log("Changing year to:",W),C(W),j(!1)},q=()=>{b(new Date().getMonth()+1),C(new Date().getFullYear()),j(!0)},H=O=>new Date(O).toLocaleDateString();return A.useEffect(()=>{hA.init({duration:600,easing:"ease-in-out",once:!0})},[]),a.jsx(ur,{children:a.jsxs("div",{className:"bg-gray-50 min-h-screen pb-12",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 mb-8",children:a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Leads Management"}),a.jsxs("p",{className:"text-blue-100 text-sm md:text-base",children:[n.length," leads  ",E?"Current Month":`${(oe=D.find(O=>O.value===parseInt(w)))==null?void 0:oe.label} ${v}`]})]}),a.jsxs("button",{onClick:()=>h(!0),className:"mt-4 md:mt-0 bg-white hover:bg-blue-50 text-blue-600 py-2 px-6 rounded-lg shadow-md transition duration-300 flex items-center font-medium",children:[a.jsx(Zg,{className:"h-4 w-4 mr-2"}),"Add New Lead"]})]})})}),a.jsxs("div",{className:"container mx-auto px-4",children:[c&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 border border-red-200 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c]})}),(f||p)&&a.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden mb-8",children:[a.jsx("div",{className:"px-6 py-4 bg-blue-50 border-b border-blue-100",children:a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:p?"Edit Lead":"Add New Lead"})}),a.jsxs("div",{className:"p-6",children:[a.jsx(cA,{lead:p,onSuccess:P}),a.jsxs("button",{onClick:()=>{h(!1),g(null)},className:"mt-6 text-blue-600 hover:text-blue-800 font-medium flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Leads List"]})]})]}),!f&&!p&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden mb-8",children:[a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-100 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Filter Leads by Month"}),a.jsx(Qg,{className:"text-gray-500"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),a.jsx("select",{id:"month",value:w,onChange:I,className:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:D.map(O=>a.jsx("option",{value:O.value,children:O.label},O.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),a.jsx("select",{id:"year",value:v,onChange:K,className:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:M.map(O=>a.jsx("option",{value:O,children:O},O))})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("div",{className:"grid grid-cols-1 gap-2 w-full",children:[a.jsx("button",{onClick:q,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Show Current Month"}),a.jsx("button",{onClick:()=>{b(3),C(2025),j(!1)},className:"w-full py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 text-sm",children:" March 2025 (Imported Leads)"})]})})]}),a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg text-sm text-blue-800 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),a.jsxs("span",{children:["Showing ",n.length," leads for ",E?"current month":`${(Q=D.find(O=>O.value===parseInt(w)))==null?void 0:Q.label} ${v}`]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-100",children:a.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:["Leads Overview (",n.length,")"]})}),i?a.jsxs("div",{className:"p-12 flex justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),a.jsx("p",{className:"ml-4 text-gray-600",children:"Loading leads..."})]}):n.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"No leads found"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"No leads were found for the selected time period"}),a.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Your First Lead"]})]}):a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(O=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow duration-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:O.name}),a.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${O.feedback==="Converted"?"bg-green-100 text-green-800":O.feedback==="Not Interested"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:O.feedback||"Pending"})]}),a.jsx("button",{onClick:()=>g(O),className:"ml-2 inline-flex items-center justify-center w-8 h-8 text-indigo-600 hover:text-white hover:bg-indigo-600 rounded-full transition-colors duration-200",title:"Edit Lead",children:a.jsx($u,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium text-gray-700 w-16",children:"Course:"}),a.jsx("span",{children:O.course})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium text-gray-700 w-16",children:"Phone:"}),a.jsx("span",{children:O.phone||O.countryCode})]}),O.email&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium text-gray-700 w-16",children:"Email:"}),a.jsx("span",{className:"truncate",children:O.email})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium text-gray-700 w-16",children:"Country:"}),a.jsx("span",{children:O.country||O.countryCode})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium text-gray-700 w-16",children:"Date:"}),a.jsx("span",{children:H(O.createdAt)})]}),O.assignedTo&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium text-gray-700 w-16",children:"Assigned:"}),a.jsx("span",{className:"text-blue-600",children:typeof O.assignedTo=="object"?O.assignedTo.fullName||O.assignedTo.name||"Unknown User":O.assignedTo})]})]})]},O._id))})})]})]})]})]})})},a8=()=>{var ce;const{user:t}=$t(),[e,r]=A.useState([]),[n,s]=A.useState([]),[i,o]=A.useState(!0),[c,d]=A.useState(null),[f,h]=A.useState({}),[p,g]=A.useState({}),[x,w]=A.useState(null),[b,v]=A.useState(0),[C,E]=A.useState(new Date().getMonth()+1),[j,D]=A.useState(new Date().getFullYear()),[T,M]=A.useState(!0),[_,P]=A.useState({}),I=["New","Contacted","Qualified","Lost","Converted","Introduction","Acknowledgement","Question","Future Promise","Payment","Analysis"],K=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],q=new Date().getFullYear(),H=Array.from({length:6},(ee,he)=>q-he);A.useEffect(()=>{Q()},[t,b]),A.useEffect(()=>{e.length>0&&oe()},[e,C,j,T]);const oe=()=>{if(T){const ee=new Date().getMonth()+1,he=new Date().getFullYear(),ye=e.filter(ke=>{const Ke=new Date(ke.createdAt);return Ke.getMonth()+1===ee&&Ke.getFullYear()===he});s(ye)}else{const ee=e.filter(he=>{const ye=new Date(he.createdAt);return ye.getMonth()+1===C&&ye.getFullYear()===j});s(ee)}},Q=async()=>{try{o(!0),console.log("Fetching leads for sales person:",t==null?void 0:t.fullName);const ee=await _n.getAssigned();if(console.log("Leads response:",ee.data),ee.data.success){r(ee.data.data);const he={};ee.data.data.forEach(ye=>{he[ye._id]=ye.feedback||""}),h(he)}else d("Failed to load leads")}catch(ee){console.error("Error fetching leads:",ee),d("Failed to load leads. Please try again.")}finally{o(!1)}},O=(ee,he)=>{h(ye=>({...ye,[ee]:he}))},W=async ee=>{if(!(!ee||!f[ee]))try{g(ye=>({...ye,[ee]:!0}));const he=await _n.updateFeedback(ee,f[ee]);he.data.success?(r(e.map(ye=>ye._id===ee?he.data.data:ye)),alert("Feedback updated successfully!")):d("Failed to update feedback")}catch(he){console.error("Error updating feedback:",he),d("Failed to update feedback. Please try again.")}finally{g(he=>({...he,[ee]:!1}))}},ne=async(ee,he)=>{try{if(P(He=>({...He,[ee]:!0})),d(null),!e.find(He=>He._id===ee))return;const ke={status:he};console.log("Updating lead status:",ee,he);const Ke=await _n.update(ee,ke);Ke.data.success?(r(e.map(He=>He._id===ee?Ke.data.data:He)),s(n.map(He=>He._id===ee?Ke.data.data:He)),console.log("Lead status updated successfully"),h({...f,statusSuccess:`Status updated to "${he}" successfully!`,leadId:ee}),setTimeout(()=>{h(He=>({...He,statusSuccess:null,leadId:null}))},3e3),v(He=>He+1)):(console.error("Failed to update lead status:",Ke.data),d("Failed to update lead status. Please try again."))}catch(ye){console.error("Error updating lead status:",ye),ye.response&&ye.response.status===403?d("You don't have permission to update this lead status. Contact your manager."):d("Failed to update lead status. Please try again.")}finally{P(ye=>({...ye,[ee]:!1}))}},X=ee=>{E(parseInt(ee.target.value)),M(!1)},Z=ee=>{D(parseInt(ee.target.value)),M(!1)},ae=()=>{E(new Date().getMonth()+1),D(new Date().getFullYear()),M(!0)},Y=ee=>new Date(ee).toLocaleDateString(),R=ee=>{w(ee)},U=()=>{w(null)},z=(ee,he)=>{if(!ee)return;const ke=`https://wa.me/${`${he||"+91"}${ee.replace(/\D/g,"")}`.replace(/\+/g,"")}`;window.open(ke,"_blank")},k=ee=>{ee&&(window.location.href=`mailto:${ee}`)};return a.jsx(ur,{children:a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",children:"My Assigned Leads"}),c&&a.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-700 border border-red-200 rounded-md flex justify-between items-center",children:[a.jsx("div",{className:"flex-1",children:c}),a.jsx("button",{onClick:()=>d(null),className:"text-red-700 hover:text-red-900",children:""})]}),i?a.jsxs("div",{className:"text-center py-10",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading your assigned leads..."})]}):e.length===0?a.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-600",children:"No leads assigned to you yet."})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[a.jsx(Qg,{className:"mr-2 text-blue-500"}),"Filter Leads by Date"]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(qp,{className:"text-blue-500 mr-2"}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-600 mb-1",children:"Month"}),a.jsx("select",{id:"month",value:C,onChange:X,className:"border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:T,children:K.map(ee=>a.jsx("option",{value:ee.value,children:ee.label},ee.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-600 mb-1",children:"Year"}),a.jsx("select",{id:"year",value:j,onChange:Z,className:"border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:T,children:H.map(ee=>a.jsx("option",{value:ee,children:ee},ee))})]}),a.jsxs("div",{className:"flex items-center ml-4",children:[a.jsx("input",{id:"currentMonth",type:"checkbox",checked:T,onChange:()=>M(!T),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"currentMonth",className:"ml-2 text-sm text-gray-600",children:"Show current month only"})]}),a.jsxs("button",{onClick:ae,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 ml-auto flex items-center",children:[a.jsx(qp,{className:"mr-2"}),"Reset to Current Month"]})]}),a.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["Showing ",n.length," lead",n.length!==1?"s":"",T?" for the current month":` for ${(ce=K.find(ee=>ee.value===C))==null?void 0:ce.label} ${j}`]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Feedback"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(ee=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee.name})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[ee.phone&&a.jsx("div",{className:"flex items-center",children:a.jsxs("button",{onClick:()=>z(ee.phone,ee.countryCode),className:"text-sm text-gray-900 flex items-center hover:text-green-600",title:"Open in WhatsApp",children:[a.jsx(Gp,{className:"mr-1 text-green-500"}),ee.countryCode||"+91"," ",ee.phone]})}),ee.email&&a.jsx("div",{className:"flex items-center",children:a.jsxs("button",{onClick:()=>k(ee.email),className:"text-sm text-gray-500 flex items-center hover:text-blue-600",title:"Send email",children:[a.jsx(vu,{className:"mr-1 text-blue-500"}),ee.email]})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:ee.course})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:ee.status,onChange:he=>ne(ee._id,he.target.value),disabled:_[ee._id],className:`text-sm px-2 py-1 rounded ${ee.status==="New"?"bg-blue-100 text-blue-800":ee.status==="Contacted"?"bg-teal-100 text-teal-800":ee.status==="Qualified"?"bg-indigo-100 text-indigo-800":ee.status==="Lost"?"bg-red-100 text-red-800":ee.status==="Converted"?"bg-green-100 text-green-800":ee.status==="Introduction"?"bg-purple-100 text-purple-800":ee.status==="Acknowledgement"?"bg-yellow-100 text-yellow-800":ee.status==="Question"?"bg-indigo-100 text-indigo-800":ee.status==="Future Promise"?"bg-cyan-100 text-cyan-800":ee.status==="Payment"?"bg-green-100 text-green-800":ee.status==="Analysis"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"} border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none cursor-pointer w-full pr-8`,children:I.map(he=>a.jsx("option",{value:he,children:he},he))}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:a.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})}),_[ee._id]&&a.jsx("div",{className:"absolute top-1/2 right-8 transform -translate-y-1/2",children:a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 rounded-full border-t-transparent"})}),f.statusSuccess&&f.leadId===ee._id&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-green-100 text-green-800 text-xs px-2 py-1 rounded whitespace-normal w-48 z-10",children:f.statusSuccess})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:Y(ee.createdAt)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{value:f[ee._id]||"",onChange:he=>O(ee._id,he.target.value),placeholder:"Add feedback...",className:"text-sm w-full h-20 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("button",{onClick:()=>W(ee._id),disabled:p[ee._id]||!f[ee._id],className:`mt-1 px-3 py-1 text-xs rounded ${p[ee._id]||!f[ee._id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:p[ee._id]?"Saving...":"Save Feedback"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsx("button",{onClick:()=>R(ee),className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},ee._id))})]})})})]}),x&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Lead Details"}),a.jsx("button",{onClick:U,className:"text-gray-400 hover:text-gray-500",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Name"}),a.jsx("p",{className:"text-base",children:x.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),a.jsx("p",{className:"text-base",children:a.jsxs("button",{onClick:()=>k(x.email),className:"text-blue-600 hover:text-blue-800 flex items-center",children:[a.jsx(vu,{className:"mr-1"})," ",x.email]})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Phone"}),a.jsx("p",{className:"text-base",children:a.jsxs("button",{onClick:()=>z(x.phone,x.countryCode),className:"text-green-600 hover:text-green-800 flex items-center",children:[a.jsx(Gp,{className:"mr-1"})," ",x.countryCode||"+91"," ",x.phone]})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Course"}),a.jsx("p",{className:"text-base",children:x.course})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:x.status,onChange:ee=>{ne(x._id,ee.target.value),w({...x,status:ee.target.value})},className:`px-2 py-1 rounded ${x.status==="New"?"bg-blue-100 text-blue-800":x.status==="Contacted"?"bg-teal-100 text-teal-800":x.status==="Qualified"?"bg-indigo-100 text-indigo-800":x.status==="Lost"?"bg-red-100 text-red-800":x.status==="Converted"?"bg-green-100 text-green-800":x.status==="Introduction"?"bg-purple-100 text-purple-800":x.status==="Acknowledgement"?"bg-yellow-100 text-yellow-800":x.status==="Question"?"bg-indigo-100 text-indigo-800":x.status==="Future Promise"?"bg-cyan-100 text-cyan-800":x.status==="Payment"?"bg-green-100 text-green-800":x.status==="Analysis"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"} border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none cursor-pointer pr-8 relative`,children:I.map(ee=>a.jsx("option",{value:ee,children:ee},ee))}),a.jsx("div",{className:"pointer-events-none absolute right-0 top-1/2 transform -translate-y-1/2 flex items-center px-2 text-gray-700",children:a.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})}),_[x._id]&&a.jsx("div",{className:"absolute -right-6 top-1/2 transform -translate-y-1/2",children:a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 rounded-full border-t-transparent"})}),f.statusSuccess&&f.leadId===x._id&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-green-100 text-green-800 text-xs px-2 py-1 rounded whitespace-normal w-48 z-10",children:f.statusSuccess})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Created At"}),a.jsx("p",{className:"text-base",children:Y(x.createdAt)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Country"}),a.jsx("p",{className:"text-base",children:x.country||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Company"}),a.jsx("p",{className:"text-base",children:x.company||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Client"}),a.jsx("p",{className:"text-base",children:x.client||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pseudo ID"}),a.jsx("p",{className:"text-base",children:x.pseudoId||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Source"}),a.jsx("p",{className:"text-base",children:x.source||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"LinkedIn"}),a.jsx("p",{className:"text-base",children:x.sourceLink?a.jsx("a",{href:x.sourceLink.startsWith("http")?x.sourceLink:`https://${x.sourceLink}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:x.sourceLink}):"N/A"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Remarks"}),a.jsx("p",{className:"text-base p-2 bg-gray-50 rounded min-h-[40px]",children:x.remarks||"No remarks available"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Feedback"}),a.jsx("textarea",{value:f[x._id]||"",onChange:ee=>O(x._id,ee.target.value),placeholder:"Add feedback...",className:"w-full h-24 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("button",{onClick:()=>W(x._id),disabled:p[x._id]||!f[x._id],className:`mt-2 px-4 py-2 rounded ${p[x._id]||!f[x._id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:p[x._id]?"Saving...":"Save Feedback"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:U,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100",children:"Close"})})]})})]})})};function dS(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=dS(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function yo(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=dS(t))&&(n&&(n+=" "),n+=e);return n}function i8(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}i8(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ku=t=>typeof t=="number"&&!isNaN(t),_o=t=>typeof t=="string",Fa=t=>typeof t=="function",o8=t=>_o(t)||Ku(t),ag=t=>_o(t)||Fa(t)?t:null,l8=(t,e)=>t===!1||Ku(t)&&t>0?t:e,ig=t=>A.isValidElement(t)||_o(t)||Fa(t)||Ku(t);function c8(t,e,r=300){let{scrollHeight:n,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,r)})})}function u8({enter:t,exit:e,appendPosition:r=!1,collapse:n=!0,collapseDuration:s=300}){return function({children:i,position:o,preventExitTransition:c,done:d,nodeRef:f,isIn:h,playToast:p}){let g=r?`${t}--${o}`:t,x=r?`${e}--${o}`:e,w=A.useRef(0);return A.useLayoutEffect(()=>{let b=f.current,v=g.split(" "),C=E=>{E.target===f.current&&(p(),b.removeEventListener("animationend",C),b.removeEventListener("animationcancel",C),w.current===0&&E.type!=="animationcancel"&&b.classList.remove(...v))};b.classList.add(...v),b.addEventListener("animationend",C),b.addEventListener("animationcancel",C)},[]),A.useEffect(()=>{let b=f.current,v=()=>{b.removeEventListener("animationend",v),n?c8(b,d,s):d()};h||(c?v():(w.current=1,b.className+=` ${x}`,b.addEventListener("animationend",v)))},[h]),ft.createElement(ft.Fragment,null,i)}}function k2(t,e){return{content:fS(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function fS(t,e,r=!1){return A.isValidElement(t)&&!_o(t.type)?A.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):Fa(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):t}function d8({closeToast:t,theme:e,ariaLabel:r="close"}){return ft.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),t(!0)},"aria-label":r},ft.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ft.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function f8({delay:t,isRunning:e,closeToast:r,type:n="default",hide:s,className:i,controlledProgress:o,progress:c,rtl:d,isIn:f,theme:h}){let p=s||o&&c===0,g={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(g.transform=`scaleX(${c})`);let x=yo("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":d}),w=Fa(i)?i({rtl:d,type:n,defaultClassName:x}):yo(x,i),b={[o&&c>=1?"onTransitionEnd":"onAnimationEnd"]:o&&c<1?null:()=>{f&&r()}};return ft.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},ft.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${n}`}),ft.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:w,style:g,...b}))}var h8=1,hS=()=>`${h8++}`;function m8(t,e,r){let n=1,s=0,i=[],o=[],c=e,d=new Map,f=new Set,h=E=>(f.add(E),()=>f.delete(E)),p=()=>{o=Array.from(d.values()),f.forEach(E=>E())},g=({containerId:E,toastId:j,updateId:D})=>{let T=E?E!==t:t!==1,M=d.has(j)&&D==null;return T||M},x=(E,j)=>{d.forEach(D=>{var T;(j==null||j===D.props.toastId)&&((T=D.toggle)==null||T.call(D,E))})},w=E=>{var j,D;(D=(j=E.props)==null?void 0:j.onClose)==null||D.call(j,E.removalReason),E.isActive=!1},b=E=>{if(E==null)d.forEach(w);else{let j=d.get(E);j&&w(j)}p()},v=()=>{s-=i.length,i=[]},C=E=>{var j,D;let{toastId:T,updateId:M}=E.props,_=M==null;E.staleId&&d.delete(E.staleId),E.isActive=!0,d.set(T,E),p(),r(k2(E,_?"added":"updated")),_&&((D=(j=E.props).onOpen)==null||D.call(j))};return{id:t,props:c,observe:h,toggle:x,removeToast:b,toasts:d,clearQueue:v,buildToast:(E,j)=>{if(g(j))return;let{toastId:D,updateId:T,data:M,staleId:_,delay:P}=j,I=T==null;I&&s++;let K={...c,style:c.toastStyle,key:n++,...Object.fromEntries(Object.entries(j).filter(([H,oe])=>oe!=null)),toastId:D,updateId:T,data:M,isIn:!1,className:ag(j.className||c.toastClassName),progressClassName:ag(j.progressClassName||c.progressClassName),autoClose:j.isLoading?!1:l8(j.autoClose,c.autoClose),closeToast(H){d.get(D).removalReason=H,b(D)},deleteToast(){let H=d.get(D);if(H!=null){if(r(k2(H,"removed")),d.delete(D),s--,s<0&&(s=0),i.length>0){C(i.shift());return}p()}}};K.closeButton=c.closeButton,j.closeButton===!1||ig(j.closeButton)?K.closeButton=j.closeButton:j.closeButton===!0&&(K.closeButton=ig(c.closeButton)?c.closeButton:!0);let q={content:E,props:K,staleId:_};c.limit&&c.limit>0&&s>c.limit&&I?i.push(q):Ku(P)?setTimeout(()=>{C(q)},P):C(q)},setProps(E){c=E},setToggle:(E,j)=>{let D=d.get(E);D&&(D.toggle=j)},isToastActive:E=>{var j;return(j=d.get(E))==null?void 0:j.isActive},getSnapshot:()=>o}}var Rn=new Map,wu=[],og=new Set,p8=t=>og.forEach(e=>e(t)),mS=()=>Rn.size>0;function g8(){wu.forEach(t=>gS(t.content,t.options)),wu=[]}var x8=(t,{containerId:e})=>{var r;return(r=Rn.get(e||1))==null?void 0:r.toasts.get(t)};function pS(t,e){var r;if(e)return!!((r=Rn.get(e))!=null&&r.isToastActive(t));let n=!1;return Rn.forEach(s=>{s.isToastActive(t)&&(n=!0)}),n}function y8(t){if(!mS()){wu=wu.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||o8(t))Rn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Rn.get(t.containerId);e?e.removeToast(t.id):Rn.forEach(r=>{r.removeToast(t.id)})}}var v8=(t={})=>{Rn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function gS(t,e){ig(t)&&(mS()||wu.push({content:t,options:e}),Rn.forEach(r=>{r.buildToast(t,e)}))}function b8(t){var e;(e=Rn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function xS(t,e){Rn.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function w8(t){let e=t.containerId||1;return{subscribe(r){let n=m8(e,t,p8);Rn.set(e,n);let s=n.observe(r);return g8(),()=>{s(),Rn.delete(e)}},setProps(r){var n;(n=Rn.get(e))==null||n.setProps(r)},getSnapshot(){var r;return(r=Rn.get(e))==null?void 0:r.getSnapshot()}}}function N8(t){return og.add(t),()=>{og.delete(t)}}function S8(t){return t&&(_o(t.toastId)||Ku(t.toastId))?t.toastId:hS()}function Gu(t,e){return gS(t,e),e.toastId}function Jh(t,e){return{...e,type:e&&e.type||t,toastId:S8(e)}}function Qh(t){return(e,r)=>Gu(e,Jh(t,r))}function Oe(t,e){return Gu(t,Jh("default",e))}Oe.loading=(t,e)=>Gu(t,Jh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function _8(t,{pending:e,error:r,success:n},s){let i;e&&(i=_o(e)?Oe.loading(e,s):Oe.loading(e.render,{...s,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(f,h,p)=>{if(h==null){Oe.dismiss(i);return}let g={type:f,...o,...s,data:p},x=_o(h)?{render:h}:h;return i?Oe.update(i,{...g,...x}):Oe(x.render,{...g,...x}),p},d=Fa(t)?t():t;return d.then(f=>c("success",n,f)).catch(f=>c("error",r,f)),d}Oe.promise=_8;Oe.success=Qh("success");Oe.info=Qh("info");Oe.error=Qh("error");Oe.warning=Qh("warning");Oe.warn=Oe.warning;Oe.dark=(t,e)=>Gu(t,Jh("default",{theme:"dark",...e}));function C8(t){y8(t)}Oe.dismiss=C8;Oe.clearWaitingQueue=v8;Oe.isActive=pS;Oe.update=(t,e={})=>{let r=x8(t,e);if(r){let{props:n,content:s}=r,i={delay:100,...n,...e,toastId:e.toastId||t,updateId:hS()};i.toastId!==t&&(i.staleId=t);let o=i.render||s;delete i.render,Gu(o,i)}};Oe.done=t=>{Oe.update(t,{progress:1})};Oe.onChange=N8;Oe.play=t=>xS(!0,t);Oe.pause=t=>xS(!1,t);function j8(t){var e;let{subscribe:r,getSnapshot:n,setProps:s}=A.useRef(w8(t)).current;s(t);let i=(e=A.useSyncExternalStore(r,n,n))==null?void 0:e.slice();function o(c){if(!i)return[];let d=new Map;return t.newestOnTop&&i.reverse(),i.forEach(f=>{let{position:h}=f.props;d.has(h)||d.set(h,[]),d.get(h).push(f)}),Array.from(d,f=>c(f[0],f[1]))}return{getToastToRender:o,isToastActive:pS,count:i==null?void 0:i.length}}function T8(t){let[e,r]=A.useState(!1),[n,s]=A.useState(!1),i=A.useRef(null),o=A.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:d,closeToast:f,onClick:h,closeOnClick:p}=t;b8({id:t.toastId,containerId:t.containerId,fn:r}),A.useEffect(()=>{if(t.pauseOnFocusLoss)return g(),()=>{x()}},[t.pauseOnFocusLoss]);function g(){document.hasFocus()||C(),window.addEventListener("focus",v),window.addEventListener("blur",C)}function x(){window.removeEventListener("focus",v),window.removeEventListener("blur",C)}function w(_){if(t.draggable===!0||t.draggable===_.pointerType){E();let P=i.current;o.canCloseOnClick=!0,o.canDrag=!0,P.style.transition="none",t.draggableDirection==="x"?(o.start=_.clientX,o.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(o.start=_.clientY,o.removalDistance=P.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function b(_){let{top:P,bottom:I,left:K,right:q}=i.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&_.clientX>=K&&_.clientX<=q&&_.clientY>=P&&_.clientY<=I?C():v()}function v(){r(!0)}function C(){r(!1)}function E(){o.didMove=!1,document.addEventListener("pointermove",D),document.addEventListener("pointerup",T)}function j(){document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",T)}function D(_){let P=i.current;if(o.canDrag&&P){o.didMove=!0,e&&C(),t.draggableDirection==="x"?o.delta=_.clientX-o.start:o.delta=_.clientY-o.start,o.start!==_.clientX&&(o.canCloseOnClick=!1);let I=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;P.style.transform=`translate3d(${I},0)`,P.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function T(){j();let _=i.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}let M={onPointerDown:w,onPointerUp:b};return c&&d&&(M.onMouseEnter=C,t.stacked||(M.onMouseLeave=v)),p&&(M.onClick=_=>{h&&h(_),o.canCloseOnClick&&f(!0)}),{playToast:v,pauseToast:C,isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:M}}var E8=typeof window<"u"?A.useLayoutEffect:A.useEffect,Zh=({theme:t,type:e,isLoading:r,...n})=>ft.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function k8(t){return ft.createElement(Zh,{...t},ft.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function A8(t){return ft.createElement(Zh,{...t},ft.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function P8(t){return ft.createElement(Zh,{...t},ft.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function D8(t){return ft.createElement(Zh,{...t},ft.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function R8(){return ft.createElement("div",{className:"Toastify__spinner"})}var lg={info:A8,warning:k8,success:P8,error:D8,spinner:R8},F8=t=>t in lg;function O8({theme:t,type:e,isLoading:r,icon:n}){let s=null,i={theme:t,type:e};return n===!1||(Fa(n)?s=n({...i,isLoading:r}):A.isValidElement(n)?s=A.cloneElement(n,i):r?s=lg.spinner():F8(e)&&(s=lg[e](i))),s}var M8=t=>{let{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:s,playToast:i}=T8(t),{closeButton:o,children:c,autoClose:d,onClick:f,type:h,hideProgressBar:p,closeToast:g,transition:x,position:w,className:b,style:v,progressClassName:C,updateId:E,role:j,progress:D,rtl:T,toastId:M,deleteToast:_,isIn:P,isLoading:I,closeOnClick:K,theme:q,ariaLabel:H}=t,oe=yo("Toastify__toast",`Toastify__toast-theme--${q}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":K}),Q=Fa(b)?b({rtl:T,position:w,type:h,defaultClassName:oe}):yo(oe,b),O=O8(t),W=!!D||!d,ne={closeToast:g,type:h,theme:q},X=null;return o===!1||(Fa(o)?X=o(ne):A.isValidElement(o)?X=A.cloneElement(o,ne):X=d8(ne)),ft.createElement(x,{isIn:P,done:_,position:w,preventExitTransition:r,nodeRef:n,playToast:i},ft.createElement("div",{id:M,tabIndex:0,onClick:f,"data-in":P,className:Q,...s,style:v,ref:n,...P&&{role:j,"aria-label":H}},O!=null&&ft.createElement("div",{className:yo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},O),fS(c,t,!e),X,!t.customProgressBar&&ft.createElement(f8,{...E&&!W?{key:`p-${E}`}:{},rtl:T,theme:q,delay:d,isRunning:e,isIn:P,closeToast:g,hide:p,type:h,className:C,controlledProgress:W,progress:D||0})))},L8=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),I8=u8(L8("bounce",!0)),B8={position:"top-right",transition:I8,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function U8(t){let e={...B8,...t},r=t.stacked,[n,s]=A.useState(!0),i=A.useRef(null),{getToastToRender:o,isToastActive:c,count:d}=j8(e),{className:f,style:h,rtl:p,containerId:g,hotKeys:x}=e;function w(v){let C=yo("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":p});return Fa(f)?f({position:v,rtl:p,defaultClassName:C}):yo(C,ag(f))}function b(){r&&(s(!0),Oe.play())}return E8(()=>{var v;if(r){let C=i.current.querySelectorAll('[data-in="true"]'),E=12,j=(v=e.position)==null?void 0:v.includes("top"),D=0,T=0;Array.from(C).reverse().forEach((M,_)=>{let P=M;P.classList.add("Toastify__toast--stacked"),_>0&&(P.dataset.collapsed=`${n}`),P.dataset.pos||(P.dataset.pos=j?"top":"bot");let I=D*(n?.2:1)+(n?0:E*_);P.style.setProperty("--y",`${j?I:I*-1}px`),P.style.setProperty("--g",`${E}`),P.style.setProperty("--s",`${1-(n?T:0)}`),D+=P.offsetHeight,T+=.025})}},[n,d,r]),A.useEffect(()=>{function v(C){var E;let j=i.current;x(C)&&((E=j.querySelector('[tabIndex="0"]'))==null||E.focus(),s(!1),Oe.pause()),C.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(s(!0),Oe.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[x]),ft.createElement("section",{ref:i,className:"Toastify",id:g,onMouseEnter:()=>{r&&(s(!1),Oe.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((v,C)=>{let E=C.length?{...h}:{...h,pointerEvents:"none"};return ft.createElement("div",{tabIndex:-1,className:w(v),"data-stacked":r,style:E,key:`c-${v}`},C.map(({content:j,props:D})=>ft.createElement(M8,{...D,stacked:r,collapseAll:b,isIn:c(D.toastId,D.containerId),key:`t-${D.key}`},j)))}))}var rp,A2;function z8(){return A2||(A2=1,rp=function(t){var e={};function r(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=t,r.c=e,r.d=function(n,s,i){r.o(n,s)||Object.defineProperty(n,s,{enumerable:!0,get:i})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,s){if(1&s&&(n=r(n)),8&s||4&s&&typeof n=="object"&&n&&n.__esModule)return n;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&s&&typeof n!="string")for(var o in n)r.d(i,o,(function(c){return n[c]}).bind(null,o));return i},r.n=function(n){var s=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(s,"a",s),s},r.o=function(n,s){return Object.prototype.hasOwnProperty.call(n,s)},r.p="",r(r.s=9)}([function(t,e){t.exports=Bh()},function(t,e,r){var n;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var s={}.hasOwnProperty;function i(){for(var o=[],c=0;c<arguments.length;c++){var d=arguments[c];if(d){var f=typeof d;if(f==="string"||f==="number")o.push(d);else if(Array.isArray(d)&&d.length){var h=i.apply(null,d);h&&o.push(h)}else if(f==="object")for(var p in d)s.call(d,p)&&d[p]&&o.push(p)}}return o.join(" ")}t.exports?(i.default=i,t.exports=i):(n=(function(){return i}).apply(e,[]))===void 0||(t.exports=n)})()},function(t,e,r){(function(n){var s=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,f=typeof n=="object"&&n&&n.Object===Object&&n,h=typeof self=="object"&&self&&self.Object===Object&&self,p=f||h||Function("return this")(),g=Object.prototype.toString,x=p.Symbol,w=x?x.prototype:void 0,b=w?w.toString:void 0;function v(D){if(typeof D=="string")return D;if(E(D))return b?b.call(D):"";var T=D+"";return T=="0"&&1/D==-1/0?"-0":T}function C(D){var T=typeof D;return!!D&&(T=="object"||T=="function")}function E(D){return typeof D=="symbol"||function(T){return!!T&&typeof T=="object"}(D)&&g.call(D)=="[object Symbol]"}function j(D){return D?(D=function(T){if(typeof T=="number")return T;if(E(T))return NaN;if(C(T)){var M=typeof T.valueOf=="function"?T.valueOf():T;T=C(M)?M+"":M}if(typeof T!="string")return T===0?T:+T;T=T.replace(s,"");var _=o.test(T);return _||c.test(T)?d(T.slice(2),_?2:8):i.test(T)?NaN:+T}(D))===1/0||D===-1/0?17976931348623157e292*(D<0?-1:1):D==D?D:0:D===0?D:0}t.exports=function(D,T,M){var _,P,I,K;return D=(_=D)==null?"":v(_),P=function(q){var H=j(q),oe=H%1;return H==H?oe?H-oe:H:0}(M),I=0,K=D.length,P==P&&(K!==void 0&&(P=P<=K?P:K),I!==void 0&&(P=P>=I?P:I)),M=P,T=v(T),D.slice(M,M+T.length)==T}}).call(this,r(3))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}t.exports=r},function(t,e,r){(function(n){var s=/^\[object .+?Constructor\]$/,i=typeof n=="object"&&n&&n.Object===Object&&n,o=typeof self=="object"&&self&&self.Object===Object&&self,c=i||o||Function("return this")(),d,f=Array.prototype,h=Function.prototype,p=Object.prototype,g=c["__core-js_shared__"],x=(d=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",w=h.toString,b=p.hasOwnProperty,v=p.toString,C=RegExp("^"+w.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=f.splice,j=q(c,"Map"),D=q(Object,"create");function T(Q){var O=-1,W=Q?Q.length:0;for(this.clear();++O<W;){var ne=Q[O];this.set(ne[0],ne[1])}}function M(Q){var O=-1,W=Q?Q.length:0;for(this.clear();++O<W;){var ne=Q[O];this.set(ne[0],ne[1])}}function _(Q){var O=-1,W=Q?Q.length:0;for(this.clear();++O<W;){var ne=Q[O];this.set(ne[0],ne[1])}}function P(Q,O){for(var W,ne,X=Q.length;X--;)if((W=Q[X][0])===(ne=O)||W!=W&&ne!=ne)return X;return-1}function I(Q){return!(!oe(Q)||(O=Q,x&&x in O))&&(function(W){var ne=oe(W)?v.call(W):"";return ne=="[object Function]"||ne=="[object GeneratorFunction]"}(Q)||function(W){var ne=!1;if(W!=null&&typeof W.toString!="function")try{ne=!!(W+"")}catch{}return ne}(Q)?C:s).test(function(W){if(W!=null){try{return w.call(W)}catch{}try{return W+""}catch{}}return""}(Q));var O}function K(Q,O){var W,ne,X=Q.__data__;return((ne=typeof(W=O))=="string"||ne=="number"||ne=="symbol"||ne=="boolean"?W!=="__proto__":W===null)?X[typeof O=="string"?"string":"hash"]:X.map}function q(Q,O){var W=function(ne,X){return ne==null?void 0:ne[X]}(Q,O);return I(W)?W:void 0}function H(Q,O){if(typeof Q!="function"||O&&typeof O!="function")throw new TypeError("Expected a function");var W=function(){var ne=arguments,X=O?O.apply(this,ne):ne[0],Z=W.cache;if(Z.has(X))return Z.get(X);var ae=Q.apply(this,ne);return W.cache=Z.set(X,ae),ae};return W.cache=new(H.Cache||_),W}function oe(Q){var O=typeof Q;return!!Q&&(O=="object"||O=="function")}T.prototype.clear=function(){this.__data__=D?D(null):{}},T.prototype.delete=function(Q){return this.has(Q)&&delete this.__data__[Q]},T.prototype.get=function(Q){var O=this.__data__;if(D){var W=O[Q];return W==="__lodash_hash_undefined__"?void 0:W}return b.call(O,Q)?O[Q]:void 0},T.prototype.has=function(Q){var O=this.__data__;return D?O[Q]!==void 0:b.call(O,Q)},T.prototype.set=function(Q,O){return this.__data__[Q]=D&&O===void 0?"__lodash_hash_undefined__":O,this},M.prototype.clear=function(){this.__data__=[]},M.prototype.delete=function(Q){var O=this.__data__,W=P(O,Q);return!(W<0)&&(W==O.length-1?O.pop():E.call(O,W,1),!0)},M.prototype.get=function(Q){var O=this.__data__,W=P(O,Q);return W<0?void 0:O[W][1]},M.prototype.has=function(Q){return P(this.__data__,Q)>-1},M.prototype.set=function(Q,O){var W=this.__data__,ne=P(W,Q);return ne<0?W.push([Q,O]):W[ne][1]=O,this},_.prototype.clear=function(){this.__data__={hash:new T,map:new(j||M),string:new T}},_.prototype.delete=function(Q){return K(this,Q).delete(Q)},_.prototype.get=function(Q){return K(this,Q).get(Q)},_.prototype.has=function(Q){return K(this,Q).has(Q)},_.prototype.set=function(Q,O){return K(this,Q).set(Q,O),this},H.Cache=_,t.exports=H}).call(this,r(3))},function(t,e,r){(function(n){var s=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,f=typeof n=="object"&&n&&n.Object===Object&&n,h=typeof self=="object"&&self&&self.Object===Object&&self,p=f||h||Function("return this")(),g=Object.prototype.toString,x=Math.max,w=Math.min,b=function(){return p.Date.now()};function v(E){var j=typeof E;return!!E&&(j=="object"||j=="function")}function C(E){if(typeof E=="number")return E;if(function(T){return typeof T=="symbol"||function(M){return!!M&&typeof M=="object"}(T)&&g.call(T)=="[object Symbol]"}(E))return NaN;if(v(E)){var j=typeof E.valueOf=="function"?E.valueOf():E;E=v(j)?j+"":j}if(typeof E!="string")return E===0?E:+E;E=E.replace(s,"");var D=o.test(E);return D||c.test(E)?d(E.slice(2),D?2:8):i.test(E)?NaN:+E}t.exports=function(E,j,D){var T,M,_,P,I,K,q=0,H=!1,oe=!1,Q=!0;if(typeof E!="function")throw new TypeError("Expected a function");function O(Y){var R=T,U=M;return T=M=void 0,q=Y,P=E.apply(U,R)}function W(Y){return q=Y,I=setTimeout(X,j),H?O(Y):P}function ne(Y){var R=Y-K;return K===void 0||R>=j||R<0||oe&&Y-q>=_}function X(){var Y=b();if(ne(Y))return Z(Y);I=setTimeout(X,function(R){var U=j-(R-K);return oe?w(U,_-(R-q)):U}(Y))}function Z(Y){return I=void 0,Q&&T?O(Y):(T=M=void 0,P)}function ae(){var Y=b(),R=ne(Y);if(T=arguments,M=this,K=Y,R){if(I===void 0)return W(K);if(oe)return I=setTimeout(X,j),O(K)}return I===void 0&&(I=setTimeout(X,j)),P}return j=C(j)||0,v(D)&&(H=!!D.leading,_=(oe="maxWait"in D)?x(C(D.maxWait)||0,j):_,Q="trailing"in D?!!D.trailing:Q),ae.cancel=function(){I!==void 0&&clearTimeout(I),q=0,T=K=M=I=void 0},ae.flush=function(){return I===void 0?P:Z(b())},ae}}).call(this,r(3))},function(t,e,r){(function(n,s){var i="[object Arguments]",o="[object Map]",c="[object Object]",d="[object Set]",f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/,p=/^\./,g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,x=/\\(\\)?/g,w=/^\[object .+?Constructor\]$/,b=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[i]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[o]=v["[object Number]"]=v[c]=v["[object RegExp]"]=v[d]=v["[object String]"]=v["[object WeakMap]"]=!1;var C=typeof n=="object"&&n&&n.Object===Object&&n,E=typeof self=="object"&&self&&self.Object===Object&&self,j=C||E||Function("return this")(),D=e&&!e.nodeType&&e,T=D&&typeof s=="object"&&s&&!s.nodeType&&s,M=T&&T.exports===D&&C.process,_=function(){try{return M&&M.binding("util")}catch{}}(),P=_&&_.isTypedArray;function I(B,le,pe,me){var _e=-1,Ie=B?B.length:0;for(me&&Ie&&(pe=B[++_e]);++_e<Ie;)pe=le(pe,B[_e],_e,B);return pe}function K(B,le){for(var pe=-1,me=B?B.length:0;++pe<me;)if(le(B[pe],pe,B))return!0;return!1}function q(B,le,pe,me,_e){return _e(B,function(Ie,et,gt){pe=me?(me=!1,Ie):le(pe,Ie,et,gt)}),pe}function H(B){var le=!1;if(B!=null&&typeof B.toString!="function")try{le=!!(B+"")}catch{}return le}function oe(B){var le=-1,pe=Array(B.size);return B.forEach(function(me,_e){pe[++le]=[_e,me]}),pe}function Q(B){var le=-1,pe=Array(B.size);return B.forEach(function(me){pe[++le]=me}),pe}var O,W,ne,X=Array.prototype,Z=Function.prototype,ae=Object.prototype,Y=j["__core-js_shared__"],R=(O=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",U=Z.toString,z=ae.hasOwnProperty,k=ae.toString,ce=RegExp("^"+U.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=j.Symbol,he=j.Uint8Array,ye=ae.propertyIsEnumerable,ke=X.splice,Ke=(W=Object.keys,ne=Object,function(B){return W(ne(B))}),He=Qe(j,"DataView"),rt=Qe(j,"Map"),Ve=Qe(j,"Promise"),de=Qe(j,"Set"),Ee=Qe(j,"WeakMap"),je=Qe(Object,"create"),Ze=sr(He),nt=sr(rt),ht=sr(Ve),st=sr(de),Ct=sr(Ee),Ne=ee?ee.prototype:void 0,Be=Ne?Ne.valueOf:void 0,Je=Ne?Ne.toString:void 0;function Re(B){var le=-1,pe=B?B.length:0;for(this.clear();++le<pe;){var me=B[le];this.set(me[0],me[1])}}function Ue(B){var le=-1,pe=B?B.length:0;for(this.clear();++le<pe;){var me=B[le];this.set(me[0],me[1])}}function ut(B){var le=-1,pe=B?B.length:0;for(this.clear();++le<pe;){var me=B[le];this.set(me[0],me[1])}}function it(B){var le=-1,pe=B?B.length:0;for(this.__data__=new ut;++le<pe;)this.add(B[le])}function vt(B){this.__data__=new Ue(B)}function rr(B,le){var pe=re(B)||L(B)?function(et,gt){for(var St=-1,Rt=Array(et);++St<et;)Rt[St]=gt(St);return Rt}(B.length,String):[],me=pe.length,_e=!!me;for(var Ie in B)!z.call(B,Ie)||_e&&(Ie=="length"||It(Ie,me))||pe.push(Ie);return pe}function Qr(B,le){for(var pe=B.length;pe--;)if(En(B[pe][0],le))return pe;return-1}Re.prototype.clear=function(){this.__data__=je?je(null):{}},Re.prototype.delete=function(B){return this.has(B)&&delete this.__data__[B]},Re.prototype.get=function(B){var le=this.__data__;if(je){var pe=le[B];return pe==="__lodash_hash_undefined__"?void 0:pe}return z.call(le,B)?le[B]:void 0},Re.prototype.has=function(B){var le=this.__data__;return je?le[B]!==void 0:z.call(le,B)},Re.prototype.set=function(B,le){return this.__data__[B]=je&&le===void 0?"__lodash_hash_undefined__":le,this},Ue.prototype.clear=function(){this.__data__=[]},Ue.prototype.delete=function(B){var le=this.__data__,pe=Qr(le,B);return!(pe<0)&&(pe==le.length-1?le.pop():ke.call(le,pe,1),!0)},Ue.prototype.get=function(B){var le=this.__data__,pe=Qr(le,B);return pe<0?void 0:le[pe][1]},Ue.prototype.has=function(B){return Qr(this.__data__,B)>-1},Ue.prototype.set=function(B,le){var pe=this.__data__,me=Qr(pe,B);return me<0?pe.push([B,le]):pe[me][1]=le,this},ut.prototype.clear=function(){this.__data__={hash:new Re,map:new(rt||Ue),string:new Re}},ut.prototype.delete=function(B){return We(this,B).delete(B)},ut.prototype.get=function(B){return We(this,B).get(B)},ut.prototype.has=function(B){return We(this,B).has(B)},ut.prototype.set=function(B,le){return We(this,B).set(B,le),this},it.prototype.add=it.prototype.push=function(B){return this.__data__.set(B,"__lodash_hash_undefined__"),this},it.prototype.has=function(B){return this.__data__.has(B)},vt.prototype.clear=function(){this.__data__=new Ue},vt.prototype.delete=function(B){return this.__data__.delete(B)},vt.prototype.get=function(B){return this.__data__.get(B)},vt.prototype.has=function(B){return this.__data__.has(B)},vt.prototype.set=function(B,le){var pe=this.__data__;if(pe instanceof Ue){var me=pe.__data__;if(!rt||me.length<199)return me.push([B,le]),this;pe=this.__data__=new ut(me)}return pe.set(B,le),this};var Tn,Pt=(Tn=function(B,le){return B&&Qn(B,le,be)},function(B,le){if(B==null)return B;if(!G(B))return Tn(B,le);for(var pe=B.length,me=-1,_e=Object(B);++me<pe&&le(_e[me],me,_e)!==!1;);return B}),Qn=function(B){return function(le,pe,me){for(var _e=-1,Ie=Object(le),et=me(le),gt=et.length;gt--;){var St=et[++_e];if(pe(Ie[St],St,Ie)===!1)break}return le}}();function Zn(B,le){for(var pe=0,me=(le=Xe(le,B)?[le]:Te(le)).length;B!=null&&pe<me;)B=B[mn(le[pe++])];return pe&&pe==me?B:void 0}function Ps(B,le){return B!=null&&le in Object(B)}function Mn(B,le,pe,me,_e){return B===le||(B==null||le==null||!se(B)&&!xe(le)?B!=B&&le!=le:function(Ie,et,gt,St,Rt,Et){var pr=re(Ie),Ft=re(et),ar="[object Array]",kt="[object Array]";pr||(ar=(ar=mt(Ie))==i?c:ar),Ft||(kt=(kt=mt(et))==i?c:kt);var es=ar==c&&!H(Ie),Va=kt==c&&!H(et),Js=ar==kt;if(Js&&!es)return Et||(Et=new vt),pr||ve(Ie)?Ye(Ie,et,gt,St,Rt,Et):function(Kt,Ht,Ui,Qs,Ha,Lr,Ds){switch(Ui){case"[object DataView]":if(Kt.byteLength!=Ht.byteLength||Kt.byteOffset!=Ht.byteOffset)return!1;Kt=Kt.buffer,Ht=Ht.buffer;case"[object ArrayBuffer]":return!(Kt.byteLength!=Ht.byteLength||!Qs(new he(Kt),new he(Ht)));case"[object Boolean]":case"[object Date]":case"[object Number]":return En(+Kt,+Ht);case"[object Error]":return Kt.name==Ht.name&&Kt.message==Ht.message;case"[object RegExp]":case"[object String]":return Kt==Ht+"";case o:var fs=oe;case d:var Ot=2&Lr;if(fs||(fs=Q),Kt.size!=Ht.size&&!Ot)return!1;var zi=Ds.get(Kt);if(zi)return zi==Ht;Lr|=1,Ds.set(Kt,Ht);var pa=Ye(fs(Kt),fs(Ht),Qs,Ha,Lr,Ds);return Ds.delete(Kt),pa;case"[object Symbol]":if(Be)return Be.call(Kt)==Be.call(Ht)}return!1}(Ie,et,ar,gt,St,Rt,Et);if(!(2&Rt)){var Li=es&&z.call(Ie,"__wrapped__"),Ii=Va&&z.call(et,"__wrapped__");if(Li||Ii){var Bi=Li?Ie.value():Ie,Lo=Ii?et.value():et;return Et||(Et=new vt),gt(Bi,Lo,St,Rt,Et)}}return Js?(Et||(Et=new vt),function(Kt,Ht,Ui,Qs,Ha,Lr){var Ds=2&Ha,fs=be(Kt),Ot=fs.length,zi=be(Ht).length;if(Ot!=zi&&!Ds)return!1;for(var pa=Ot;pa--;){var hs=fs[pa];if(!(Ds?hs in Ht:z.call(Ht,hs)))return!1}var Ql=Lr.get(Kt);if(Ql&&Lr.get(Ht))return Ql==Ht;var Vi=!0;Lr.set(Kt,Ht),Lr.set(Ht,Kt);for(var Io=Ds;++pa<Ot;){hs=fs[pa];var Wa=Kt[hs],ga=Ht[hs];if(Qs)var Rs=Ds?Qs(ga,Wa,hs,Ht,Kt,Lr):Qs(Wa,ga,hs,Kt,Ht,Lr);if(!(Rs===void 0?Wa===ga||Ui(Wa,ga,Qs,Ha,Lr):Rs)){Vi=!1;break}Io||(Io=hs=="constructor")}if(Vi&&!Io){var ts=Kt.constructor,rs=Ht.constructor;ts==rs||!("constructor"in Kt)||!("constructor"in Ht)||typeof ts=="function"&&ts instanceof ts&&typeof rs=="function"&&rs instanceof rs||(Vi=!1)}return Lr.delete(Kt),Lr.delete(Ht),Vi}(Ie,et,gt,St,Rt,Et)):!1}(B,le,Mn,pe,me,_e))}function hn(B){return!(!se(B)||function(le){return!!R&&R in le}(B))&&(J(B)||H(B)?ce:w).test(sr(B))}function zr(B){return typeof B=="function"?B:B==null?Se:typeof B=="object"?re(B)?function(me,_e){return Xe(me)&&Zr(_e)?Vr(mn(me),_e):function(Ie){var et=function(gt,St,Rt){var Et=gt==null?void 0:Zn(gt,St);return Et===void 0?Rt:Et}(Ie,me);return et===void 0&&et===_e?function(gt,St){return gt!=null&&function(Rt,Et,pr){Et=Xe(Et,Rt)?[Et]:Te(Et);for(var Ft,ar=-1,kt=Et.length;++ar<kt;){var es=mn(Et[ar]);if(!(Ft=Rt!=null&&pr(Rt,es)))break;Rt=Rt[es]}return Ft||!!(kt=Rt?Rt.length:0)&&te(kt)&&It(es,kt)&&(re(Rt)||L(Rt))}(gt,St,Ps)}(Ie,me):Mn(_e,et,void 0,3)}}(B[0],B[1]):function(me){var _e=function(Ie){for(var et=be(Ie),gt=et.length;gt--;){var St=et[gt],Rt=Ie[St];et[gt]=[St,Rt,Zr(Rt)]}return et}(me);return _e.length==1&&_e[0][2]?Vr(_e[0][0],_e[0][1]):function(Ie){return Ie===me||function(et,gt,St,Rt){var Et=St.length,pr=Et;if(et==null)return!pr;for(et=Object(et);Et--;){var Ft=St[Et];if(Ft[2]?Ft[1]!==et[Ft[0]]:!(Ft[0]in et))return!1}for(;++Et<pr;){var ar=(Ft=St[Et])[0],kt=et[ar],es=Ft[1];if(Ft[2]){if(kt===void 0&&!(ar in et))return!1}else{var Va=new vt,Js;if(!(Js===void 0?Mn(es,kt,Rt,3,Va):Js))return!1}}return!0}(Ie,me,_e)}}(B):Xe(le=B)?(pe=mn(le),function(me){return me==null?void 0:me[pe]}):function(me){return function(_e){return Zn(_e,me)}}(le);var le,pe}function V(B){if(pe=(le=B)&&le.constructor,me=typeof pe=="function"&&pe.prototype||ae,le!==me)return Ke(B);var le,pe,me,_e=[];for(var Ie in Object(B))z.call(B,Ie)&&Ie!="constructor"&&_e.push(Ie);return _e}function Te(B){return re(B)?B:Ar(B)}function Ye(B,le,pe,me,_e,Ie){var et=2&_e,gt=B.length,St=le.length;if(gt!=St&&!(et&&St>gt))return!1;var Rt=Ie.get(B);if(Rt&&Ie.get(le))return Rt==le;var Et=-1,pr=!0,Ft=1&_e?new it:void 0;for(Ie.set(B,le),Ie.set(le,B);++Et<gt;){var ar=B[Et],kt=le[Et];if(me)var es=et?me(kt,ar,Et,le,B,Ie):me(ar,kt,Et,B,le,Ie);if(es!==void 0){if(es)continue;pr=!1;break}if(Ft){if(!K(le,function(Va,Js){if(!Ft.has(Js)&&(ar===Va||pe(ar,Va,me,_e,Ie)))return Ft.add(Js)})){pr=!1;break}}else if(ar!==kt&&!pe(ar,kt,me,_e,Ie)){pr=!1;break}}return Ie.delete(B),Ie.delete(le),pr}function We(B,le){var pe,me,_e=B.__data__;return((me=typeof(pe=le))=="string"||me=="number"||me=="symbol"||me=="boolean"?pe!=="__proto__":pe===null)?_e[typeof le=="string"?"string":"hash"]:_e.map}function Qe(B,le){var pe=function(me,_e){return me==null?void 0:me[_e]}(B,le);return hn(pe)?pe:void 0}var mt=function(B){return k.call(B)};function It(B,le){return!!(le=le??9007199254740991)&&(typeof B=="number"||b.test(B))&&B>-1&&B%1==0&&B<le}function Xe(B,le){if(re(B))return!1;var pe=typeof B;return!(pe!="number"&&pe!="symbol"&&pe!="boolean"&&B!=null&&!Pe(B))||h.test(B)||!f.test(B)||le!=null&&B in Object(le)}function Zr(B){return B==B&&!se(B)}function Vr(B,le){return function(pe){return pe!=null&&pe[B]===le&&(le!==void 0||B in Object(pe))}}(He&&mt(new He(new ArrayBuffer(1)))!="[object DataView]"||rt&&mt(new rt)!=o||Ve&&mt(Ve.resolve())!="[object Promise]"||de&&mt(new de)!=d||Ee&&mt(new Ee)!="[object WeakMap]")&&(mt=function(B){var le=k.call(B),pe=le==c?B.constructor:void 0,me=pe?sr(pe):void 0;if(me)switch(me){case Ze:return"[object DataView]";case nt:return o;case ht:return"[object Promise]";case st:return d;case Ct:return"[object WeakMap]"}return le});var Ar=en(function(B){var le;B=(le=B)==null?"":function(me){if(typeof me=="string")return me;if(Pe(me))return Je?Je.call(me):"";var _e=me+"";return _e=="0"&&1/me==-1/0?"-0":_e}(le);var pe=[];return p.test(B)&&pe.push(""),B.replace(g,function(me,_e,Ie,et){pe.push(Ie?et.replace(x,"$1"):_e||me)}),pe});function mn(B){if(typeof B=="string"||Pe(B))return B;var le=B+"";return le=="0"&&1/B==-1/0?"-0":le}function sr(B){if(B!=null){try{return U.call(B)}catch{}try{return B+""}catch{}}return""}function en(B,le){if(typeof B!="function"||le&&typeof le!="function")throw new TypeError("Expected a function");var pe=function(){var me=arguments,_e=le?le.apply(this,me):me[0],Ie=pe.cache;if(Ie.has(_e))return Ie.get(_e);var et=B.apply(this,me);return pe.cache=Ie.set(_e,et),et};return pe.cache=new(en.Cache||ut),pe}function En(B,le){return B===le||B!=B&&le!=le}function L(B){return function(le){return xe(le)&&G(le)}(B)&&z.call(B,"callee")&&(!ye.call(B,"callee")||k.call(B)==i)}en.Cache=ut;var re=Array.isArray;function G(B){return B!=null&&te(B.length)&&!J(B)}function J(B){var le=se(B)?k.call(B):"";return le=="[object Function]"||le=="[object GeneratorFunction]"}function te(B){return typeof B=="number"&&B>-1&&B%1==0&&B<=9007199254740991}function se(B){var le=typeof B;return!!B&&(le=="object"||le=="function")}function xe(B){return!!B&&typeof B=="object"}function Pe(B){return typeof B=="symbol"||xe(B)&&k.call(B)=="[object Symbol]"}var ve=P?function(B){return function(le){return B(le)}}(P):function(B){return xe(B)&&te(B.length)&&!!v[k.call(B)]};function be(B){return G(B)?rr(B):V(B)}function Se(B){return B}s.exports=function(B,le,pe){var me=re(B)?I:q,_e=arguments.length<3;return me(B,zr(le),pe,_e,Pt)}}).call(this,r(3),r(7)(t))},function(t,e){t.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children||(r.children=[]),Object.defineProperty(r,"loaded",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return r.i}}),r.webpackPolyfill=1),r}},function(t,e){String.prototype.padEnd||(String.prototype.padEnd=function(r,n){return r>>=0,n=String(n!==void 0?n:" "),this.length>r?String(this):((r-=this.length)>n.length&&(n+=n.repeat(r/n.length)),String(this)+n.slice(0,r))})},function(t,e,r){function n(ae,Y,R){return Y in ae?Object.defineProperty(ae,Y,{value:R,enumerable:!0,configurable:!0,writable:!0}):ae[Y]=R,ae}function s(ae){if(Symbol.iterator in Object(ae)||Object.prototype.toString.call(ae)==="[object Arguments]")return Array.from(ae)}function i(ae){return function(Y){if(Array.isArray(Y)){for(var R=0,U=new Array(Y.length);R<Y.length;R++)U[R]=Y[R];return U}}(ae)||s(ae)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(ae){if(Array.isArray(ae))return ae}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(ae,Y){if(!(ae instanceof Y))throw new TypeError("Cannot call a class as a function")}function f(ae,Y){for(var R=0;R<Y.length;R++){var U=Y[R];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(ae,U.key,U)}}function h(ae){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(ae)}function p(ae){return(p=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(Y){return h(Y)}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":h(Y)})(ae)}function g(ae){if(ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae}function x(ae){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)})(ae)}function w(ae,Y){return(w=Object.setPrototypeOf||function(R,U){return R.__proto__=U,R})(ae,Y)}r.r(e);var b=r(0),v=r.n(b),C=r(5),E=r.n(C),j=r(4),D=r.n(j),T=r(6),M=r.n(T),_=r(2),P=r.n(_),I=r(1),K=r.n(I);r(8);function q(ae,Y){return o(ae)||function(R,U){var z=[],k=!0,ce=!1,ee=void 0;try{for(var he,ye=R[Symbol.iterator]();!(k=(he=ye.next()).done)&&(z.push(he.value),!U||z.length!==U);k=!0);}catch(ke){ce=!0,ee=ke}finally{try{k||ye.return==null||ye.return()}finally{if(ce)throw ee}}return z}(ae,Y)||c()}var H=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["Cte dIvoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["Runion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["So Tom and Prncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],oe=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barthlemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function Q(ae,Y,R,U,z){return!R||z?ae+"".padEnd(Y.length,".")+" "+U:ae+"".padEnd(Y.length,".")+" "+R}function O(ae,Y,R,U,z){var k,ce,ee=[];return ce=Y===!0,[(k=[]).concat.apply(k,i(ae.map(function(he){var ye={name:he[0],regions:he[1],iso2:he[2],countryCode:he[3],dialCode:he[3],format:Q(R,he[3],he[4],U,z),priority:he[5]||0},ke=[];return he[6]&&he[6].map(function(Ke){var He=function(rt){for(var Ve=1;Ve<arguments.length;Ve++){var de=arguments[Ve]!=null?arguments[Ve]:{},Ee=Object.keys(de);typeof Object.getOwnPropertySymbols=="function"&&(Ee=Ee.concat(Object.getOwnPropertySymbols(de).filter(function(je){return Object.getOwnPropertyDescriptor(de,je).enumerable}))),Ee.forEach(function(je){n(rt,je,de[je])})}return rt}({},ye);He.dialCode=he[3]+Ke,He.isAreaCode=!0,He.areaCodeLength=Ke.length,ke.push(He)}),ke.length>0?(ye.mainCode=!0,ce||Y.constructor.name==="Array"&&Y.includes(he[2])?(ye.hasAreaCodes=!0,[ye].concat(ke)):(ee=ee.concat(ke),[ye])):[ye]}))),ee]}function W(ae,Y,R,U){if(R!==null){var z=Object.keys(R),k=Object.values(R);z.forEach(function(ce,ee){if(U)return ae.push([ce,k[ee]]);var he=ae.findIndex(function(ke){return ke[0]===ce});if(he===-1){var ye=[ce];ye[Y]=k[ee],ae.push(ye)}else ae[he][Y]=k[ee]})}}function ne(ae,Y){return Y.length===0?ae:ae.map(function(R){var U=Y.findIndex(function(k){return k[0]===R[2]});if(U===-1)return R;var z=Y[U];return z[1]&&(R[4]=z[1]),z[3]&&(R[5]=z[3]),z[2]&&(R[6]=z[2]),R})}var X=function ae(Y,R,U,z,k,ce,ee,he,ye,ke,Ke,He,rt,Ve){d(this,ae),this.filterRegions=function(Ne,Be){if(typeof Ne=="string"){var Je=Ne;return Be.filter(function(Re){return Re.regions.some(function(Ue){return Ue===Je})})}return Be.filter(function(Re){return Ne.map(function(Ue){return Re.regions.some(function(ut){return ut===Ue})}).some(function(Ue){return Ue})})},this.sortTerritories=function(Ne,Be){var Je=[].concat(i(Ne),i(Be));return Je.sort(function(Re,Ue){return Re.name<Ue.name?-1:Re.name>Ue.name?1:0}),Je},this.getFilteredCountryList=function(Ne,Be,Je){return Ne.length===0?Be:Je?Ne.map(function(Re){var Ue=Be.find(function(ut){return ut.iso2===Re});if(Ue)return Ue}).filter(function(Re){return Re}):Be.filter(function(Re){return Ne.some(function(Ue){return Ue===Re.iso2})})},this.localizeCountries=function(Ne,Be,Je){for(var Re=0;Re<Ne.length;Re++)Be[Ne[Re].iso2]!==void 0?Ne[Re].localName=Be[Ne[Re].iso2]:Be[Ne[Re].name]!==void 0&&(Ne[Re].localName=Be[Ne[Re].name]);return Je||Ne.sort(function(Ue,ut){return Ue.localName<ut.localName?-1:Ue.localName>ut.localName?1:0}),Ne},this.getCustomAreas=function(Ne,Be){for(var Je=[],Re=0;Re<Be.length;Re++){var Ue=JSON.parse(JSON.stringify(Ne));Ue.dialCode+=Be[Re],Je.push(Ue)}return Je},this.excludeCountries=function(Ne,Be){return Be.length===0?Ne:Ne.filter(function(Je){return!Be.includes(Je.iso2)})};var de=function(Ne,Be,Je){var Re=[];return W(Re,1,Ne,!0),W(Re,3,Be),W(Re,2,Je),Re}(he,ye,ke),Ee=ne(JSON.parse(JSON.stringify(H)),de),je=ne(JSON.parse(JSON.stringify(oe)),de),Ze=q(O(Ee,Y,He,rt,Ve),2),nt=Ze[0],ht=Ze[1];if(R){var st=q(O(je,Y,He,rt,Ve),2),Ct=st[0];st[1],nt=this.sortTerritories(Ct,nt)}U&&(nt=this.filterRegions(U,nt)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(z,nt,ee.includes("onlyCountries")),ce),Ke,ee.includes("onlyCountries")),this.preferredCountries=k.length===0?[]:this.localizeCountries(this.getFilteredCountryList(k,nt,ee.includes("preferredCountries")),Ke,ee.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(z,ht),ce)},Z=function(ae){function Y(z){var k;d(this,Y),(k=function(de,Ee){return!Ee||p(Ee)!=="object"&&typeof Ee!="function"?g(de):Ee}(this,x(Y).call(this,z))).getProbableCandidate=D()(function(de){return de&&de.length!==0?k.state.onlyCountries.filter(function(Ee){return P()(Ee.name.toLowerCase(),de.toLowerCase())},g(g(k)))[0]:null}),k.guessSelectedCountry=D()(function(de,Ee,je,Ze){var nt;if(k.props.enableAreaCodes===!1&&(Ze.some(function(Ct){if(P()(de,Ct.dialCode))return je.some(function(Ne){if(Ct.iso2===Ne.iso2&&Ne.mainCode)return nt=Ne,!0}),!0}),nt))return nt;var ht=je.find(function(Ct){return Ct.iso2==Ee});if(de.trim()==="")return ht;var st=je.reduce(function(Ct,Ne){return P()(de,Ne.dialCode)&&(Ne.dialCode.length>Ct.dialCode.length||Ne.dialCode.length===Ct.dialCode.length&&Ne.priority<Ct.priority)?Ne:Ct},{dialCode:"",priority:10001},g(g(k)));return st.name?st:ht}),k.updateCountry=function(de){var Ee,je=k.state.onlyCountries;(Ee=de.indexOf(0)>="0"&&de.indexOf(0)<="9"?je.find(function(Ze){return Ze.dialCode==+de}):je.find(function(Ze){return Ze.iso2==de}))&&Ee.dialCode&&k.setState({selectedCountry:Ee,formattedNumber:k.props.disableCountryCode?"":k.formatNumber(Ee.dialCode,Ee)})},k.scrollTo=function(de,Ee){if(de){var je=k.dropdownRef;if(je&&document.body){var Ze=je.offsetHeight,nt=je.getBoundingClientRect().top+document.body.scrollTop,ht=nt+Ze,st=de,Ct=st.getBoundingClientRect(),Ne=st.offsetHeight,Be=Ct.top+document.body.scrollTop,Je=Be+Ne,Re=Be-nt+je.scrollTop,Ue=Ze/2-Ne/2;if(k.props.enableSearch?Be<nt+32:Be<nt)Ee&&(Re-=Ue),je.scrollTop=Re;else if(Je>ht){Ee&&(Re+=Ue);var ut=Ze-Ne;je.scrollTop=Re-ut}}}},k.scrollToTop=function(){var de=k.dropdownRef;de&&document.body&&(de.scrollTop=0)},k.formatNumber=function(de,Ee){if(!Ee)return de;var je,Ze=Ee.format,nt=k.props,ht=nt.disableCountryCode,st=nt.enableAreaCodeStretch,Ct=nt.enableLongNumbers,Ne=nt.autoFormat;if(ht?((je=Ze.split(" ")).shift(),je=je.join(" ")):st&&Ee.isAreaCode?((je=Ze.split(" "))[1]=je[1].replace(/\.+/,"".padEnd(Ee.areaCodeLength,".")),je=je.join(" ")):je=Ze,!de||de.length===0)return ht?"":k.props.prefix;if(de&&de.length<2||!je||!Ne)return ht?de:k.props.prefix+de;var Be,Je=M()(je,function(Re,Ue){if(Re.remainingText.length===0)return Re;if(Ue!==".")return{formattedText:Re.formattedText+Ue,remainingText:Re.remainingText};var ut,it=o(ut=Re.remainingText)||s(ut)||c(),vt=it[0],rr=it.slice(1);return{formattedText:Re.formattedText+vt,remainingText:rr}},{formattedText:"",remainingText:de.split("")});return(Be=Ct?Je.formattedText+Je.remainingText.join(""):Je.formattedText).includes("(")&&!Be.includes(")")&&(Be+=")"),Be},k.cursorToEnd=function(){var de=k.numberInputRef;if(document.activeElement===de){de.focus();var Ee=de.value.length;de.value.charAt(Ee-1)===")"&&(Ee-=1),de.setSelectionRange(Ee,Ee)}},k.getElement=function(de){return k["flag_no_".concat(de)]},k.getCountryData=function(){return k.state.selectedCountry?{name:k.state.selectedCountry.name||"",dialCode:k.state.selectedCountry.dialCode||"",countryCode:k.state.selectedCountry.iso2||"",format:k.state.selectedCountry.format||""}:{}},k.handleFlagDropdownClick=function(de){if(de.preventDefault(),k.state.showDropdown||!k.props.disabled){var Ee=k.state,je=Ee.preferredCountries,Ze=Ee.onlyCountries,nt=Ee.selectedCountry,ht=k.concatPreferredCountries(je,Ze).findIndex(function(st){return st.dialCode===nt.dialCode&&st.iso2===nt.iso2});k.setState({showDropdown:!k.state.showDropdown,highlightCountryIndex:ht},function(){k.state.showDropdown&&k.scrollTo(k.getElement(k.state.highlightCountryIndex))})}},k.handleInput=function(de){var Ee=de.target.value,je=k.props,Ze=je.prefix,nt=je.onChange,ht=k.props.disableCountryCode?"":Ze,st=k.state.selectedCountry,Ct=k.state.freezeSelection;if(!k.props.countryCodeEditable){var Ne=Ze+(st.hasAreaCodes?k.state.onlyCountries.find(function(Pt){return Pt.iso2===st.iso2&&Pt.mainCode}).dialCode:st.dialCode);if(Ee.slice(0,Ne.length)!==Ne)return}if(Ee===Ze)return nt&&nt("",k.getCountryData(),de,""),k.setState({formattedNumber:""});if(!(Ee.replace(/\D/g,"").length>15&&(k.props.enableLongNumbers===!1||typeof k.props.enableLongNumbers=="number"&&Ee.replace(/\D/g,"").length>k.props.enableLongNumbers))&&Ee!==k.state.formattedNumber){de.preventDefault?de.preventDefault():de.returnValue=!1;var Be=k.props.country,Je=k.state,Re=Je.onlyCountries,Ue=Je.selectedCountry,ut=Je.hiddenAreaCodes;if(nt&&de.persist(),Ee.length>0){var it=Ee.replace(/\D/g,"");(!k.state.freezeSelection||Ue&&Ue.dialCode.length>it.length)&&(st=k.props.disableCountryGuess?Ue:k.guessSelectedCountry(it.substring(0,6),Be,Re,ut)||Ue,Ct=!1),ht=k.formatNumber(it,st),st=st.dialCode?st:Ue}var vt=de.target.selectionStart,rr=de.target.selectionStart,Qr=k.state.formattedNumber,Tn=ht.length-Qr.length;k.setState({formattedNumber:ht,freezeSelection:Ct,selectedCountry:st},function(){Tn>0&&(rr-=Tn),ht.charAt(ht.length-1)==")"?k.numberInputRef.setSelectionRange(ht.length-1,ht.length-1):rr>0&&Qr.length>=ht.length?k.numberInputRef.setSelectionRange(rr,rr):vt<Qr.length&&k.numberInputRef.setSelectionRange(vt,vt),nt&&nt(ht.replace(/[^0-9]+/g,""),k.getCountryData(),de,ht)})}},k.handleInputClick=function(de){k.setState({showDropdown:!1}),k.props.onClick&&k.props.onClick(de,k.getCountryData())},k.handleDoubleClick=function(de){var Ee=de.target.value.length;de.target.setSelectionRange(0,Ee)},k.handleFlagItemClick=function(de,Ee){var je=k.state.selectedCountry,Ze=k.state.onlyCountries.find(function(Ct){return Ct==de});if(Ze){var nt=k.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),ht=nt.length>1?nt.replace(je.dialCode,Ze.dialCode):Ze.dialCode,st=k.formatNumber(ht.replace(/\D/g,""),Ze);k.setState({showDropdown:!1,selectedCountry:Ze,freezeSelection:!0,formattedNumber:st,searchValue:""},function(){k.cursorToEnd(),k.props.onChange&&k.props.onChange(st.replace(/[^0-9]+/g,""),k.getCountryData(),Ee,st)})}},k.handleInputFocus=function(de){k.numberInputRef&&k.numberInputRef.value===k.props.prefix&&k.state.selectedCountry&&!k.props.disableCountryCode&&k.setState({formattedNumber:k.props.prefix+k.state.selectedCountry.dialCode},function(){k.props.jumpCursorToEnd&&setTimeout(k.cursorToEnd,0)}),k.setState({placeholder:""}),k.props.onFocus&&k.props.onFocus(de,k.getCountryData()),k.props.jumpCursorToEnd&&setTimeout(k.cursorToEnd,0)},k.handleInputBlur=function(de){de.target.value||k.setState({placeholder:k.props.placeholder}),k.props.onBlur&&k.props.onBlur(de,k.getCountryData())},k.handleInputCopy=function(de){if(k.props.copyNumbersOnly){var Ee=window.getSelection().toString().replace(/[^0-9]+/g,"");de.clipboardData.setData("text/plain",Ee),de.preventDefault()}},k.getHighlightCountryIndex=function(de){var Ee=k.state.highlightCountryIndex+de;return Ee<0||Ee>=k.state.onlyCountries.length+k.state.preferredCountries.length?Ee-de:k.props.enableSearch&&Ee>k.getSearchFilteredCountries().length?0:Ee},k.searchCountry=function(){var de=k.getProbableCandidate(k.state.queryString)||k.state.onlyCountries[0],Ee=k.state.onlyCountries.findIndex(function(je){return je==de})+k.state.preferredCountries.length;k.scrollTo(k.getElement(Ee),!0),k.setState({queryString:"",highlightCountryIndex:Ee})},k.handleKeydown=function(de){var Ee=k.props.keys,je=de.target.className;if(je.includes("selected-flag")&&de.which===Ee.ENTER&&!k.state.showDropdown)return k.handleFlagDropdownClick(de);if(je.includes("form-control")&&(de.which===Ee.ENTER||de.which===Ee.ESC))return de.target.blur();if(k.state.showDropdown&&!k.props.disabled&&(!je.includes("search-box")||de.which===Ee.UP||de.which===Ee.DOWN||de.which===Ee.ENTER||de.which===Ee.ESC&&de.target.value==="")){de.preventDefault?de.preventDefault():de.returnValue=!1;var Ze=function(nt){k.setState({highlightCountryIndex:k.getHighlightCountryIndex(nt)},function(){k.scrollTo(k.getElement(k.state.highlightCountryIndex),!0)})};switch(de.which){case Ee.DOWN:Ze(1);break;case Ee.UP:Ze(-1);break;case Ee.ENTER:k.props.enableSearch?k.handleFlagItemClick(k.getSearchFilteredCountries()[k.state.highlightCountryIndex]||k.getSearchFilteredCountries()[0],de):k.handleFlagItemClick([].concat(i(k.state.preferredCountries),i(k.state.onlyCountries))[k.state.highlightCountryIndex],de);break;case Ee.ESC:case Ee.TAB:k.setState({showDropdown:!1},k.cursorToEnd);break;default:(de.which>=Ee.A&&de.which<=Ee.Z||de.which===Ee.SPACE)&&k.setState({queryString:k.state.queryString+String.fromCharCode(de.which)},k.state.debouncedQueryStingSearcher)}}},k.handleInputKeyDown=function(de){var Ee=k.props,je=Ee.keys,Ze=Ee.onEnterKeyPress,nt=Ee.onKeyDown;de.which===je.ENTER&&Ze&&Ze(de),nt&&nt(de)},k.handleClickOutside=function(de){k.dropdownRef&&!k.dropdownContainerRef.contains(de.target)&&k.state.showDropdown&&k.setState({showDropdown:!1})},k.handleSearchChange=function(de){var Ee=de.currentTarget.value,je=k.state,Ze=je.preferredCountries,nt=je.selectedCountry,ht=0;if(Ee===""&&nt){var st=k.state.onlyCountries;ht=k.concatPreferredCountries(Ze,st).findIndex(function(Ct){return Ct==nt}),setTimeout(function(){return k.scrollTo(k.getElement(ht))},100)}k.setState({searchValue:Ee,highlightCountryIndex:ht})},k.concatPreferredCountries=function(de,Ee){return de.length>0?i(new Set(de.concat(Ee))):Ee},k.getDropdownCountryName=function(de){return de.localName||de.name},k.getSearchFilteredCountries=function(){var de=k.state,Ee=de.preferredCountries,je=de.onlyCountries,Ze=de.searchValue,nt=k.props.enableSearch,ht=k.concatPreferredCountries(Ee,je),st=Ze.trim().toLowerCase().replace("+","");if(nt&&st){if(/^\d+$/.test(st))return ht.filter(function(Be){var Je=Be.dialCode;return["".concat(Je)].some(function(Re){return Re.toLowerCase().includes(st)})});var Ct=ht.filter(function(Be){var Je=Be.iso2;return["".concat(Je)].some(function(Re){return Re.toLowerCase().includes(st)})}),Ne=ht.filter(function(Be){var Je=Be.name,Re=Be.localName;return Be.iso2,["".concat(Je),"".concat(Re||"")].some(function(Ue){return Ue.toLowerCase().includes(st)})});return k.scrollToTop(),i(new Set([].concat(Ct,Ne)))}return ht},k.getCountryDropdownList=function(){var de=k.state,Ee=de.preferredCountries,je=de.highlightCountryIndex,Ze=de.showDropdown,nt=de.searchValue,ht=k.props,st=ht.disableDropdown,Ct=ht.prefix,Ne=k.props,Be=Ne.enableSearch,Je=Ne.searchNotFound,Re=Ne.disableSearchIcon,Ue=Ne.searchClass,ut=Ne.searchStyle,it=Ne.searchPlaceholder,vt=Ne.autocompleteSearch,rr=k.getSearchFilteredCountries().map(function(Pt,Qn){var Zn=je===Qn,Ps=K()({country:!0,preferred:Pt.iso2==="us"||Pt.iso2==="gb",active:Pt.iso2==="us",highlight:Zn}),Mn="flag ".concat(Pt.iso2);return v.a.createElement("li",Object.assign({ref:function(hn){return k["flag_no_".concat(Qn)]=hn},key:"flag_no_".concat(Qn),"data-flag-key":"flag_no_".concat(Qn),className:Ps,"data-dial-code":"1",tabIndex:st?"-1":"0","data-country-code":Pt.iso2,onClick:function(hn){return k.handleFlagItemClick(Pt,hn)},role:"option"},Zn?{"aria-selected":!0}:{}),v.a.createElement("div",{className:Mn}),v.a.createElement("span",{className:"country-name"},k.getDropdownCountryName(Pt)),v.a.createElement("span",{className:"dial-code"},Pt.format?k.formatNumber(Pt.dialCode,Pt):Ct+Pt.dialCode))}),Qr=v.a.createElement("li",{key:"dashes",className:"divider"});Ee.length>0&&(!Be||Be&&!nt.trim())&&rr.splice(Ee.length,0,Qr);var Tn=K()(n({"country-list":!0,hide:!Ze},k.props.dropdownClass,!0));return v.a.createElement("ul",{ref:function(Pt){return!Be&&Pt&&Pt.focus(),k.dropdownRef=Pt},className:Tn,style:k.props.dropdownStyle,role:"listbox",tabIndex:"0"},Be&&v.a.createElement("li",{className:K()(n({search:!0},Ue,Ue))},!Re&&v.a.createElement("span",{className:K()(n({"search-emoji":!0},"".concat(Ue,"-emoji"),Ue)),role:"img","aria-label":"Magnifying glass"},""),v.a.createElement("input",{className:K()(n({"search-box":!0},"".concat(Ue,"-box"),Ue)),style:ut,type:"search",placeholder:it,autoFocus:!0,autoComplete:vt?"on":"off",value:nt,onChange:k.handleSearchChange})),rr.length>0?rr:v.a.createElement("li",{className:"no-entries-message"},v.a.createElement("span",null,Je)))};var ce,ee=new X(z.enableAreaCodes,z.enableTerritories,z.regions,z.onlyCountries,z.preferredCountries,z.excludeCountries,z.preserveOrder,z.masks,z.priority,z.areaCodes,z.localization,z.prefix,z.defaultMask,z.alwaysDefaultMask),he=ee.onlyCountries,ye=ee.preferredCountries,ke=ee.hiddenAreaCodes,Ke=z.value?z.value.replace(/\D/g,""):"";ce=z.disableInitialCountryGuess?0:Ke.length>1?k.guessSelectedCountry(Ke.substring(0,6),z.country,he,ke)||0:z.country&&he.find(function(de){return de.iso2==z.country})||0;var He,rt=Ke.length<2&&ce&&!P()(Ke,ce.dialCode)?ce.dialCode:"";He=Ke===""&&ce===0?"":k.formatNumber((z.disableCountryCode?"":rt)+Ke,ce.name?ce:void 0);var Ve=he.findIndex(function(de){return de==ce});return k.state={showDropdown:z.showDropdown,formattedNumber:He,onlyCountries:he,preferredCountries:ye,hiddenAreaCodes:ke,selectedCountry:ce,highlightCountryIndex:Ve,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:E()(k.searchCountry,250),searchValue:""},k}var R,U;return function(z,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(k&&k.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),k&&w(z,k)}(Y,ae),R=Y,(U=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(z,k,ce){z.country!==this.props.country?this.updateCountry(this.props.country):z.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(z){if(z===null)return this.setState({selectedCountry:0,formattedNumber:""});var k=this.state,ce=k.onlyCountries,ee=k.selectedCountry,he=k.hiddenAreaCodes,ye=this.props,ke=ye.country,Ke=ye.prefix;if(z==="")return this.setState({selectedCountry:ee,formattedNumber:""});var He,rt,Ve=z.replace(/\D/g,"");if(ee&&P()(z,Ke+ee.dialCode))rt=this.formatNumber(Ve,ee),this.setState({formattedNumber:rt});else{var de=(He=this.props.disableCountryGuess?ee:this.guessSelectedCountry(Ve.substring(0,6),ke,ce,he)||ee)&&P()(Ve,Ke+He.dialCode)?He.dialCode:"";rt=this.formatNumber((this.props.disableCountryCode?"":de)+Ve,He||void 0),this.setState({selectedCountry:He,formattedNumber:rt})}}},{key:"render",value:function(){var z,k,ce,ee=this,he=this.state,ye=he.onlyCountries,ke=he.selectedCountry,Ke=he.showDropdown,He=he.formattedNumber,rt=he.hiddenAreaCodes,Ve=this.props,de=Ve.disableDropdown,Ee=Ve.renderStringAsFlag,je=Ve.isValid,Ze=Ve.defaultErrorMessage,nt=Ve.specialLabel;if(typeof je=="boolean")k=je;else{var ht=je(He.replace(/\D/g,""),ke,ye,rt);typeof ht=="boolean"?(k=ht)===!1&&(ce=Ze):(k=!1,ce=ht)}var st=K()((n(z={},this.props.containerClass,!0),n(z,"react-tel-input",!0),z)),Ct=K()({arrow:!0,up:Ke}),Ne=K()(n({"form-control":!0,"invalid-number":!k,open:Ke},this.props.inputClass,!0)),Be=K()({"selected-flag":!0,open:Ke}),Je=K()(n({"flag-dropdown":!0,"invalid-number":!k,open:Ke},this.props.buttonClass,!0)),Re="flag ".concat(ke&&ke.iso2);return v.a.createElement("div",{className:"".concat(st," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},nt&&v.a.createElement("div",{className:"special-label"},nt),ce&&v.a.createElement("div",{className:"invalid-number-message"},ce),v.a.createElement("input",Object.assign({className:Ne,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:He,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(Ue){ee.numberInputRef=Ue,typeof ee.props.inputProps.ref=="function"?ee.props.inputProps.ref(Ue):typeof ee.props.inputProps.ref=="object"&&(ee.props.inputProps.ref.current=Ue)}})),v.a.createElement("div",{className:Je,style:this.props.buttonStyle,ref:function(Ue){return ee.dropdownContainerRef=Ue}},Ee?v.a.createElement("div",{className:Be},Ee):v.a.createElement("div",{onClick:de?void 0:this.handleFlagDropdownClick,className:Be,title:ke?"".concat(ke.localName||ke.name,": + ").concat(ke.dialCode):"",tabIndex:de?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!Ke||void 0},v.a.createElement("div",{className:Re},!de&&v.a.createElement("div",{className:Ct}))),Ke&&this.getCountryDropdownList()))}}])&&f(R.prototype,U),Y}(v.a.Component);Z.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},e.default=Z}])),rp}var V8=z8();const H8=Hg(V8),W8=()=>{const t={container:{width:"100%"},inputStyle:{width:"100%",height:"42px",padding:"8px 8px 8px 50px",borderRadius:"0.375rem",fontSize:"0.875rem",borderColor:"#D1D5DB"},buttonStyle:{borderTopLeftRadius:"0.375rem",borderBottomLeftRadius:"0.375rem",borderColor:"#D1D5DB"},dropdownStyle:{width:"300px"}},{user:e}=$t(),[r,n]=A.useState([]),[s,i]=A.useState([]),[o,c]=A.useState(!0),[d,f]=A.useState(null),[h,p]=A.useState(null),[g,x]=A.useState({}),[w,b]=A.useState(!1),[v,C]=A.useState({leadId:"",amount:0,token:0,pending:0,product:"",status:"Pending",isReference:!1,customerName:"",email:"",contactNumber:"",country:"",leadPerson:"",countryCode:"+1",loginId:"",password:"",leadBy:"",saleDate:new Date,currency:"USD"}),[E,j]=A.useState([]),[D,T]=A.useState([]),[M,_]=A.useState(!1),[P,I]=A.useState([]),[K,q]=A.useState(!1),[H,oe]=A.useState(new Date().getMonth()+1),[Q,O]=A.useState(new Date().getFullYear()),[W,ne]=A.useState(!1),[X,Z]=A.useState(!0),ae=[{value:"USD",label:"USD ($)",symbol:"$"},{value:"EUR",label:"EUR ()",symbol:""},{value:"GBP",label:"GBP ()",symbol:""},{value:"INR",label:"INR ()",symbol:""},{value:"CAD",label:"CAD ($)",symbol:"$"},{value:"AUD",label:"AUD ($)",symbol:"$"},{value:"JPY",label:"JPY ()",symbol:""},{value:"CNY",label:"CNY ()",symbol:""}],Y=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],R=new Date().getFullYear(),U=Array.from({length:6},(V,Te)=>R-Te),z=["Pending","Completed","Cancelled"],[k,ce]=A.useState(null),[ee,he]=A.useState(!1);A.useEffect(()=>{ke()},[e]),A.useEffect(()=>{r.length>0?ye():i([])},[r,H,Q,W,X]),A.useEffect(()=>{v.isReference&&P.length===0&&He()},[v.isReference]);const ye=()=>{if(((e==null?void 0:e.role)==="Manager"||(e==null?void 0:e.role)==="Admin")&&X){i(r);return}let V=[];if(W){const Te=new Date().getMonth()+1,Ye=new Date().getFullYear();V=r.filter(We=>{if(!We.date&&!We.createdAt)return!1;const Qe=new Date(We.date||We.createdAt),mt=Qe.getMonth()+1,It=Qe.getFullYear();return mt===Te&&It===Ye})}else V=r.filter(Te=>{if(!Te.date&&!Te.createdAt)return!1;const Ye=new Date(Te.date||Te.createdAt),We=Ye.getMonth()+1,Qe=Ye.getFullYear();return We===H&&Qe===Q});i(V)},ke=async()=>{var V;try{c(!0);const Te=localStorage.getItem("token");if(!Te){f("Authentication token not found. Please log in again.");return}try{const Ye=await tr.get(`https://crm-backend-o36v.onrender.com/api/sales?full=true&nocache=${new Date().getTime()}`,{headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(Ye.data&&Ye.data.success){const We=Ye.data.data.map(Qe=>({...Qe,_id:Qe._id,salesPerson:typeof Qe.salesPerson=="object"&&Qe.salesPerson._id||Qe.salesPerson,amount:parseFloat(Qe.totalCost||0),token:parseFloat(Qe.tokenAmount||0),pending:Qe.status==="Completed"?0:parseFloat(Qe.totalCost||0)-parseFloat(Qe.tokenAmount||0),product:Qe.course||Qe.product||"Unknown",status:Qe.status||"Pending",loginId:Qe.loginId||"",password:Qe.password||"",leadBy:Qe.leadBy||"",currency:Qe.currency||"USD",date:Qe.date||Qe.createdAt}));n(We)}else f("Failed to load sales data: "+(((V=Ye.data)==null?void 0:V.message)||"Unknown error"))}catch{try{const We=await Kr.getAllForced();if(We.data&&We.data.success){const Qe=We.data.data.map(mt=>({...mt,_id:mt._id,salesPerson:typeof mt.salesPerson=="object"&&mt.salesPerson._id||mt.salesPerson,amount:parseFloat(mt.totalCost||0),token:parseFloat(mt.tokenAmount||0),pending:mt.status==="Completed"?0:parseFloat(mt.totalCost||0)-parseFloat(mt.tokenAmount||0),product:mt.course||mt.product||"Unknown",status:mt.status||"Pending",loginId:mt.loginId||"",password:mt.password||"",leadBy:mt.leadBy||"",currency:mt.currency||"USD",date:mt.date||mt.createdAt}));n(Qe)}else f("Failed to load sales data. Please try again.")}catch{f("Failed to load sales data. Please try again.")}}}catch(Te){Te.response,f("Failed to load sales data. Please try again.")}finally{c(!1)}},Ke=async()=>{try{_(!0);let V=[];if(e.role==="Sales Person"){const Ye=await _n.getAssigned();Ye.data.success&&(V=Ye.data.data.filter(We=>We.status!=="Converted"))}else{const Ye=await _n.getAll();Ye.data.success&&(V=Ye.data.data.filter(We=>We.status!=="Converted"))}j(V);const Te=V.map(Ye=>({value:Ye._id,label:`${Ye.name} - ${Ye.course} (${Ye.status})`,data:Ye}));T(Te)}catch(V){console.error("Error fetching leads:",V),f("Failed to load leads. Please try again.")}finally{_(!1)}},He=async()=>{try{q(!0);const V=await cr.getUsers("Lead Person");if(V.data.success){const Te=V.data.data.map(Ye=>({value:Ye._id,label:Ye.fullName||Ye.email}));I(Te)}}catch(V){console.error("Error fetching lead persons:",V)}finally{q(!1)}},rt=()=>{Ke(),He(),b(!0),C({leadId:"",amount:0,token:0,pending:0,product:"",status:"Pending",isReference:!1,customerName:"",email:"",contactNumber:"",country:"",leadPerson:"",countryCode:"+1",loginId:"",password:"",leadBy:"",saleDate:new Date,currency:"USD"})},Ve=V=>{const Te=V.target.value,Ye=E.find(We=>We._id===Te);Ye&&C(We=>({...We,leadId:Te,product:Ye.course||Ye.COURSE||"",_selectedLead:Ye}))},de=(V,Te)=>{C(Ye=>{const We={...Ye,[V]:Te};if(V==="amount"||V==="token"){const Qe=parseFloat(V==="amount"?Te:Ye.amount),mt=parseFloat(V==="token"?Te:Ye.token);We.pending=Qe-mt}return V==="status"&&Te==="Completed"&&(We.pending=0),We})},Ee=V=>{C({...v,isReference:V,leadId:V?"":v.leadId,customerName:V?v.customerName:"",contactNumber:V?v.contactNumber:"",email:V?v.email:"",country:V?v.country:"",countryCode:V?v.countryCode:"+1"}),V&&P.length===0&&He()},je=async V=>{var Te,Ye,We;V.preventDefault();try{if(v.isReference){if(!v.customerName){f("Please enter customer name");return}if(!v.contactNumber){f("Please enter contact number");return}if(!v.product){f("Please enter a product/course name");return}if(!v.country){f("Please enter country");return}}else{if(!v.leadId){f("Please select a lead");return}if(!v.product){f("Please enter a product/course name");return}if(!v.leadPerson){f("Please select a lead person who will see this sale");return}}if(!localStorage.getItem("token")){f("Authentication required. Please log in again.");return}let mt;if(v.isReference)mt={customerName:v.customerName,country:v.country,course:v.product,countryCode:v.countryCode||"+1",contactNumber:v.contactNumber,email:v.email||"",salesPerson:e._id,leadPerson:v.leadPerson,loginId:v.loginId||"",password:v.password||"",leadBy:v.leadBy||"",source:"Reference",isReference:!0,totalCost:parseFloat(v.amount)||0,tokenAmount:parseFloat(v.token)||0,currency:v.currency||"USD",pending:v.status==="Completed"?!1:parseFloat(v.pending)>0,status:v.status||"Pending",createdBy:e._id,date:v.saleDate||new Date,isLeadPersonSale:!0};else{const Xe=v._selectedLead||E.find(Zr=>Zr._id===v.leadId);if(!Xe){f("Lead information not found. Please select a lead again.");return}mt={customerName:Xe.name||Xe.NAME||Xe.customerName||"Unknown",country:Xe.country||Xe.COUNTRY||"Unknown",course:v.product,countryCode:Xe.countryCode||Xe.CODE||"+1",contactNumber:Xe.phone||Xe.contactNumber||Xe.NUMBER||Xe.MOBILE||"0000000000",email:Xe.email||Xe["E-MAIL"]||Xe.EMAIL||"",salesPerson:e._id,leadPerson:v.leadPerson,loginId:v.loginId||"",password:v.password||"",leadBy:v.leadBy||"",source:Xe.source||Xe.SOURSE||"",clientRemark:Xe.client||Xe["CLIENT REMARK"]||"",totalCost:parseFloat(v.amount)||0,tokenAmount:parseFloat(v.token)||0,currency:v.currency||"USD",pending:v.status==="Completed"?!1:parseFloat(v.pending)>0,status:v.status||"Pending",createdBy:e._id,date:v.saleDate||new Date,isLeadPersonSale:!0}}const It=await Kr.create({...mt,isLeadPersonSale:!0});It.data&&It.data.success?(n(Xe=>[It.data.data,...Xe]),b(!1),C({leadId:"",amount:0,token:0,pending:0,product:"",status:"Pending",isReference:!1,customerName:"",email:"",contactNumber:"",country:"",leadPerson:"",countryCode:"+1",loginId:"",password:"",leadBy:"",saleDate:new Date,currency:"USD"}),Oe.success("Sale added successfully!"),Tn()):f(((Te=It.data)==null?void 0:Te.message)||"Failed to add sale")}catch(Qe){if(Qe.response)if(Qe.response.status===400){const mt=((Ye=Qe.response.data)==null?void 0:Ye.message)||"Invalid data";mt.includes("enum value for path `status`")?Oe.error(`Invalid status value. Allowed values are: ${z.join(", ")}`):Oe.error(`Bad request: ${mt}`)}else Qe.response.status===401?f("Authentication failed. Please log in again."):f(`Failed to add sale: ${((We=Qe.response.data)==null?void 0:We.message)||Qe.message}`);else f("Network error while adding sale")}},Ze=(V,Te)=>V?typeof V[Te]=="string"?V[Te]:V[Te]&&V[Te]._id?typeof V[Te]._id=="object"&&V[Te]._id.toString?V[Te]._id.toString():V[Te]._id:V[Te]&&typeof V[Te].id=="string"?V[Te].id:V[Te]&&typeof V[Te]=="object"&&V[Te].toString?V[Te].toString():null:null,nt=V=>{if(!V)return;p(V._id);const Te=parseFloat(V.amount||V.totalCost||0),Ye=parseFloat(V.token||V.tokenAmount||0),We=parseFloat(V.pending||Te-Ye||0);x({amount:Te,token:Ye,pending:We,status:V.status||"Pending",product:V.product||V.course||"",saleDate:V.date||new Date,loginId:V.loginId||"",password:V.password||"",leadBy:V.leadBy||"",currency:V.currency||"USD"})},ht=async V=>{var Te,Ye,We,Qe,mt,It;try{const Xe=r.find(en=>en._id===V);if(!Xe){f("Sale not found");return}if(!localStorage.getItem("token")){f("Authentication required. Please log in again.");return}if(e.role==="Sales Person"){const en=Ze(Xe,"salesPerson"),En=e._id;if(en&&En&&en.toString()===En.toString()){const re=Ze(Xe,"salesPerson")||e._id,G=Ze(Xe,"leadPerson"),J={customerName:Xe.customerName,country:Xe.country,course:g.product||Xe.course||"Unknown Course",countryCode:Xe.countryCode,contactNumber:Xe.contactNumber,email:Xe.email,date:g.saleDate||Xe.date||new Date,salesPerson:re,leadPerson:G,leadBy:g.leadBy||Xe.leadBy||"",loginId:g.loginId||Xe.loginId||"",password:g.password||Xe.password||"",source:Xe.source,clientRemark:Xe.clientRemark,totalCost:parseFloat(g.amount)||0,tokenAmount:parseFloat(g.token)||0,currency:g.currency||Xe.currency||"USD",pending:g.status==="Completed"?!1:parseFloat(g.pending)>0,status:g.status||Xe.status||"Pending",isReference:Xe.isReference||!1,updatedBy:e._id,updatedAt:new Date},te=await Kr.update(V,J);te.data&&te.data.success?(console.log("Sale update response:",te.data.data),n(r.map(xe=>{if(xe._id===V){const Pe={...te.data.data,product:te.data.data.course||te.data.data.product||g.product,amount:te.data.data.totalCost||g.amount,token:te.data.data.tokenAmount||g.token,pending:te.data.data.status==="Completed"?0:(te.data.data.totalCost||0)-(te.data.data.tokenAmount||0),currency:te.data.data.currency||g.currency||"USD"};return console.log("Updated sale object:",Pe),Pe}return xe})),Oe.success("Sale updated successfully"),p(null),X||(Z(!0),Oe.info("Showing all sales to display your changes. Use filters to narrow down if needed."))):f("Failed to update sale: "+(((Te=te.data)==null?void 0:Te.message)||"Server error"));return}else{f("You don't have permission to update this sale");return}}const Vr=Ze(Xe,"salesPerson")||e._id,Ar=Ze(Xe,"leadPerson");if(!Ar){f("Lead person ID is missing, cannot update sale");return}const mn={customerName:Xe.customerName,country:Xe.country,course:g.product||Xe.course||"Unknown Course",countryCode:Xe.countryCode,contactNumber:Xe.contactNumber,email:Xe.email,date:g.saleDate||Xe.date||new Date,salesPerson:Vr,leadPerson:Ar,leadBy:g.leadBy||Xe.leadBy||"",loginId:g.loginId||Xe.loginId||"",password:g.password||Xe.password||"",source:Xe.source,clientRemark:Xe.clientRemark,totalCost:parseFloat(g.amount)||0,tokenAmount:parseFloat(g.token)||0,currency:g.currency||Xe.currency||"USD",pending:g.status==="Completed"?!1:parseFloat(g.pending)>0,status:g.status||Xe.status||"Pending",isReference:Xe.isReference||!1,updatedBy:e._id,updatedAt:new Date},sr=await Kr.update(V,mn);sr.data&&sr.data.success?(console.log("Sale update response:",sr.data.data),n(r.map(En=>{if(En._id===V){const L={...sr.data.data,product:sr.data.data.course||sr.data.data.product||g.product,amount:sr.data.data.totalCost||g.amount,token:sr.data.data.tokenAmount||g.token,pending:sr.data.data.status==="Completed"?0:(sr.data.data.totalCost||0)-(sr.data.data.tokenAmount||0),currency:sr.data.data.currency||g.currency||"USD"};return console.log("Updated sale object:",L),L}return En})),Oe.success("Sale updated successfully"),p(null),X||(Z(!0),Oe.info("Showing all sales to display your changes. Use filters to narrow down if needed."))):f("Failed to update sale: "+(((Ye=sr.data)==null?void 0:Ye.message)||"Server error"))}catch(Xe){if(Xe.response)if(Xe.response.status===403)e.role==="Sales Person"&&((Qe=(We=Xe.response.data)==null?void 0:We.message)!=null&&Qe.includes("can only update the status field"))?f("As a Sales Person, you can only update the status field"):f("You don't have permission to update this sale. Only the creator or an admin can update it.");else if(Xe.response.status===401)f("Your session has expired. Please log in again.");else if(Xe.response.status===400){const Zr=((mt=Xe.response.data)==null?void 0:mt.message)||"Invalid data";Zr.includes("enum value for path `status`")?Oe.error(`Invalid status value. Allowed values are: ${z.join(", ")}`):Oe.error(`Bad request: ${Zr}`)}else f(`Failed to update sale: ${((It=Xe.response.data)==null?void 0:It.message)||Xe.message}`);else f("Network error while updating sale")}},st=(V,Te)=>{x(Ye=>{const We={...Ye,[V]:Te};if(V==="amount"||V==="token"){const Qe=parseFloat(V==="amount"?Te:Ye.amount)||0,mt=parseFloat(V==="token"?Te:Ye.token)||0;We.pending=Qe-mt}return V==="status"&&Te==="Completed"&&(We.pending=0),We})},Ct=V=>{if(!V||!e||!e._id||!e.role)return!1;const Te=Ze(V,"salesPerson"),Ye=e._id;if(e.role==="Sales Person")return Te&&Ye&&Te.toString()===Ye.toString();if(e.role==="Lead Person"){const We=Ze(V,"leadPerson");return We&&Ye&&We.toString()===Ye.toString()}return["Admin","Manager"].includes(e.role)},Ne=V=>{if(!V||!e||!e._id||!e.role)return!1;const Te=Ze(V,"salesPerson"),Ye=e._id;return e.role==="Sales Person"?Te&&Ye&&Te.toString()===Ye.toString():["Admin","Manager"].includes(e.role)},Be=async V=>{var Te,Ye;try{if(ce(V),!r.find(mt=>mt._id===V)){Oe.error("Sale not found");return}const Qe=await Kr.delete(V);Qe.data&&Qe.data.success?(n(mt=>mt.filter(It=>It._id!==V)),Oe.success("Sale deleted successfully!"),ke()):Oe.error(((Te=Qe.data)==null?void 0:Te.message)||"Failed to delete sale")}catch(We){We.response?We.response.status===403?Oe.error("You don't have permission to delete this sale. Only the creator or an admin can delete it."):We.response.status===401?Oe.error("Your session has expired. Please log in again."):Oe.error(((Ye=We.response.data)==null?void 0:Ye.message)||"Server error while deleting sale"):Oe.error("Network error while deleting sale")}finally{ce(null),he(!1)}},Je=V=>new Date(V).toLocaleDateString(),Re=V=>{oe(parseInt(V.target.value)),ne(!1),Z(!1)},Ue=V=>{O(parseInt(V.target.value)),ne(!1),Z(!1)},ut=()=>{const V=new Date;oe(V.getMonth()+1),O(V.getFullYear()),ne(!0),Z(!1)},it=()=>{Z(!X),X||ne(!1)},vt=async(V,Te)=>{var Ye,We,Qe,mt;try{const It=r.find(Vr=>Vr._id===V);if(!It)return;if(!Ct(It)){Oe.error("You don't have permission to update this sale");return}p(V);const Xe={status:Te,loginId:It.loginId||"",password:It.password||"",leadBy:It.leadBy||"",pending:Te==="Completed"?!1:It.pending},Zr=await Kr.update(V,Xe);Zr.data&&Zr.data.success?(n(Vr=>Vr.map(Ar=>Ar._id===V?{...Ar,status:Te,pending:Te==="Completed"?!1:Ar.pending}:Ar)),i(Vr=>Vr.map(Ar=>Ar._id===V?{...Ar,status:Te,pending:Te==="Completed"?!1:Ar.pending}:Ar)),Oe.success("Sale status updated successfully!")):Oe.error(((Ye=Zr.data)==null?void 0:Ye.message)||"Failed to update sale status")}catch(It){if(It.response)if(It.response.status===403)e.role==="Sales Person"&&((Qe=(We=It.response.data)==null?void 0:We.message)!=null&&Qe.includes("can only update the status field"))?f("As a Sales Person, you can only update the status field"):f("You don't have permission to update this sale. Only the creator or an admin can update it.");else if(It.response.status===401)f("Your session has expired. Please log in again.");else if(It.response.status===400){const Xe=((mt=It.response.data)==null?void 0:mt.message)||"Invalid data";Xe.includes("enum value for path `status`")?Oe.error(`Invalid status value. Allowed values are: ${z.join(", ")}`):Oe.error(`Bad request: ${Xe}`)}else Oe.error("Failed to update sale status. Please try again.");else Oe.error("Network error while updating sale status")}finally{p(null)}},rr=(V,Te)=>{if(V)try{const Ye=V.toString().replace(/\D/g,""),Qe=`https://wa.me/${Te?Te.toString().replace(/^\+/,""):"1"}${Ye}`;window.open(Qe,"_blank","noopener,noreferrer")}catch{Oe.error("Could not open WhatsApp. Please try again.")}},Qr=V=>{V&&(window.location.href=`mailto:${V}`)},Tn=async()=>{try{n([]),i([]),c(!0);const V=new Date().getTime(),Te=await Kr.getAll();if(Te.data&&Te.data.success){const Ye=Te.data.data.map(We=>({...We,_id:We._id,salesPerson:typeof We.salesPerson=="object"&&We.salesPerson._id||We.salesPerson,amount:parseFloat(We.totalCost||0),token:parseFloat(We.tokenAmount||0),pending:We.status==="Completed"?0:parseFloat(We.totalCost||0)-parseFloat(We.tokenAmount||0),product:We.course||We.product||"Unknown",status:We.status||"Pending",loginId:We.loginId||"",password:We.password||"",leadBy:We.leadBy||"",currency:We.currency||"USD",date:We.date||We.createdAt}));n(Ye)}else Oe.error("Failed to refresh sales data. Please try again.")}catch{Oe.error("Failed to refresh data. Please reload the page.")}finally{c(!1),w&&Ke()}},Pt=(V,Te,Ye="N/A")=>{if(!V)return Ye;const We=Te.split(".");let Qe=V;for(const mt of We){if(Qe==null||typeof Qe!="object")return Ye;Qe=Qe[mt]}return Qe??Ye},Qn=V=>V?V.customerName||Pt(V,"leadId.name")||Pt(V,"leadId.NAME")||"Unknown Customer":"N/A",Zn=({role:V})=>{let Te="";return V==="Sales Person"?Te="As a Sales Person, you can only update the status of your own sales.":V==="Lead Person"&&(Te="As a Lead Person, you can only edit your own leads."),Te?a.jsx("div",{className:"relative inline-block ml-1 text-gray-400",children:a.jsxs("span",{className:"cursor-help text-sm",children:[a.jsx("i",{className:"fas fa-info-circle"}),a.jsx("span",{className:"tooltip absolute invisible group-hover:visible bg-gray-800 text-white p-2 rounded text-xs w-48 -mt-16 -ml-24 z-10",children:Te})]})}):null},Ps=(V,Te)=>{if(!V)return"Invalid sale data";if(Te==="Sales Person"){const Ye=Ze(V,"salesPerson"),We=e==null?void 0:e._id;return Ye&&We&&Ye.toString()===We.toString()?"As a Sales Person, you can edit and delete your own sales":"You can only edit and delete sales you created as a Sales Person"}return"You don't have permission to update this sale. Only the creator or an admin can update it."},Mn=V=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h===V._id?a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx("input",{type:"date",value:g.saleDate?new Date(g.saleDate).toISOString().split("T")[0]:new Date(V.date||V.createdAt).toISOString().split("T")[0],onChange:Te=>st("saleDate",new Date(Te.target.value)),className:"w-full px-2 border border-gray-300 rounded"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>ht(V._id),className:"text-green-600 hover:text-green-900 flex items-center text-xs px-2 py-1 bg-green-50 rounded",children:[a.jsx(Xp,{className:"mr-1"})," Save"]}),a.jsxs("button",{onClick:()=>p(null),className:"text-red-600 hover:text-red-900 flex items-center text-xs px-2 py-1 bg-red-50 rounded",children:[a.jsx(bu,{className:"mr-1"})," Cancel"]})]})]}):a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx("div",{className:"text-sm text-gray-900",children:Je(V.date||V.createdAt||new Date)}),Ct(V)&&a.jsxs("button",{onClick:()=>nt(V),className:"text-blue-600 hover:text-blue-900 flex items-center text-xs px-2 py-1 bg-blue-50 rounded w-16",children:[a.jsx($u,{className:"mr-1"})," Edit"]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Qn(V)}),a.jsx("div",{className:"text-xs text-gray-500",children:V.product||Pt(V,"leadId.course")||"No product"}),h===V._id&&a.jsxs("div",{className:"mt-2",children:[a.jsx("input",{type:"text",placeholder:"Lead By (Optional)",value:g.leadBy||"",onChange:Te=>st("leadBy",Te.target.value),className:"w-full text-xs px-2 py-1 border border-gray-300 rounded"}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-gray-400 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{children:"Name of person who led this sale"})]})]}),h!==V._id&&V.leadBy&&a.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Lead By: ",V.leadBy]})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[(V.contactNumber||Pt(V,"leadId.phone"))&&a.jsx("div",{className:"flex items-center",children:a.jsxs("button",{onClick:()=>rr(V.contactNumber||Pt(V,"leadId.phone"),V.countryCode||Pt(V,"leadId.countryCode","+91")),className:"text-sm text-gray-900 flex items-center hover:text-green-600",title:"Open in WhatsApp",children:[a.jsx(Gp,{className:"mr-1 text-green-500"}),V.countryCode||Pt(V,"leadId.countryCode","+91")," ",V.contactNumber||Pt(V,"leadId.phone")]})}),(V.email||Pt(V,"leadId.email"))&&a.jsx("div",{className:"flex items-center",children:a.jsxs("button",{onClick:()=>Qr(V.email||Pt(V,"leadId.email")),className:"text-sm text-gray-500 flex items-center hover:text-blue-600",title:"Send email",children:[a.jsx(vu,{className:"mr-1 text-blue-500"}),V.email||Pt(V,"leadId.email")]})}),h===V._id&&a.jsxs("div",{className:"mt-2 flex flex-col space-y-2",children:[a.jsx("input",{type:"text",placeholder:"Login ID (Optional)",value:g.loginId||"",onChange:Te=>st("loginId",Te.target.value),className:"w-full text-xs px-2 py-1 border border-gray-300 rounded"}),a.jsx("input",{type:"text",placeholder:"Password (Optional)",value:g.password||"",onChange:Te=>st("password",Te.target.value),className:"w-full text-xs px-2 py-1 border border-gray-300 rounded"})]}),h!==V._id&&(V.loginId||V.password)&&a.jsxs("div",{className:"mt-2 text-xs",children:[V.loginId&&a.jsxs("div",{children:["Login ID: ",V.loginId]}),V.password&&a.jsxs("div",{children:["Password: ",V.password]})]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[h===V._id?a.jsxs("div",{children:[a.jsx("input",{type:"text",value:g.product||"",onChange:Te=>st("product",Te.target.value),className:"w-full px-2 border border-gray-300 rounded",placeholder:"Product or course name"}),V.leadPerson&&typeof V.leadPerson=="object"&&V.leadPerson.fullName&&a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Lead Person: ",V.leadPerson.fullName]})]}):a.jsx("div",{className:"text-sm text-gray-900",children:V.product||Pt(V,"course")||"N/A"}),!h===V._id&&V.leadPerson&&typeof V.leadPerson=="object"&&V.leadPerson.fullName&&a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Lead Person: ",V.leadPerson.fullName]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h===V._id?a.jsx("div",{className:"flex flex-col space-y-2",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(g.currency)}),a.jsx("input",{id:"amount",type:"number",value:g.amount!==void 0?g.amount.toString():"0",onChange:Te=>st("amount",Te.target.value),className:"w-24 px-2 pl-7 border border-gray-300 rounded"})]}),a.jsx("select",{value:g.currency||"USD",onChange:Te=>st("currency",Te.target.value),className:"border border-gray-300 rounded p-1 text-xs",children:ae.map(Te=>a.jsx("option",{value:Te.value,children:Te.label},Te.value))})]})}):a.jsx("div",{className:"text-sm font-medium text-gray-900",children:hn(V.amount||V.totalCost||0,V.currency||"USD")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h===V._id?a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(g.currency)}),a.jsx("input",{id:"token",type:"number",value:g.token!==void 0?g.token.toString():"0",onChange:Te=>st("token",Te.target.value),className:"w-24 px-2 pl-7 border border-gray-300 rounded"})]}):a.jsx("div",{className:"text-sm font-medium text-gray-900",children:hn(V.token||V.tokenAmount||0,V.currency||"USD")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h===V._id?a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(g.currency)}),a.jsx("input",{id:"pending",type:"number",value:g.pending!==void 0?g.pending.toString():"0",onChange:Te=>st("pending",Te.target.value),className:"w-24 px-2 pl-7 border border-gray-300 rounded",disabled:g.status==="Completed"})]}):a.jsx("div",{className:"text-sm font-medium text-gray-900",children:hn(V.status==="Completed"?0:V.pending!==void 0?V.pending:(V.amount||V.totalCost||0)-(V.token||V.tokenAmount||0),V.currency||"USD")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h===V._id?a.jsx("select",{value:g.status||V.status,onChange:Te=>st("status",Te.target.value),className:`text-sm px-2 py-1 rounded cursor-pointer ${V.status==="Pending"?"bg-yellow-100 text-yellow-800":V.status==="Completed"?"bg-green-100 text-green-800":V.status==="Cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"} border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,disabled:!Ct(V),children:z.map(Te=>a.jsx("option",{value:Te,children:Te},Te))}):a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:V.status||"Pending",onChange:Te=>vt(V._id,Te.target.value),className:`text-sm px-2 py-1 rounded cursor-pointer appearance-none w-auto pr-8 ${V.status==="Pending"?"bg-yellow-100 text-yellow-800":V.status==="Completed"?"bg-green-100 text-green-800":V.status==="Cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"} border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,disabled:!Ct(V),children:z.map(Te=>a.jsx("option",{value:Te,children:Te},Te))}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:a.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})}),!Ct(V)&&a.jsx("div",{className:"absolute left-0 -bottom-5 w-full",children:a.jsx("div",{className:"text-xs text-gray-500 italic",children:(e==null?void 0:e.role)==="Sales Person"?"Can only update your own sales":"No edit permission"})}),h===V._id&&a.jsx("div",{className:"absolute top-1/2 right-8 transform -translate-y-1/2",children:a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 rounded-full border-t-transparent"})}),!Ct(V)&&h===V._id&&a.jsx("div",{className:"text-red-500 text-xs mt-1",children:Ps(V,e==null?void 0:e.role)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h!==V._id&&a.jsx("div",{className:"flex justify-end",children:Ne(V)?ee&&k===V._id?a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>Be(V._id),className:"text-red-600 hover:text-red-900 flex items-center",children:[a.jsx(Xp,{className:"mr-1"})," Confirm"]}),a.jsxs("button",{onClick:()=>{ce(null),he(!1)},className:"text-gray-600 hover:text-gray-900 flex items-center",children:[a.jsx(bu,{className:"mr-1"})," Cancel"]})]}):a.jsxs("button",{onClick:()=>{ce(V._id),he(!0)},className:"text-red-600 hover:text-red-900 flex items-center",children:[a.jsx(ex,{className:"mr-1"})," Delete"]}):a.jsxs("div",{className:"flex items-center text-gray-400 text-xs",children:[a.jsx("span",{className:"italic",children:"Not Deletable"}),a.jsx(Zn,{role:e==null?void 0:e.role})]})})})]},V._id),hn=(V,Te="USD")=>`${(ae.find(Qe=>Qe.value===Te)||ae[0]).symbol}${parseFloat(V||0).toFixed(2)}`,zr=(V="USD")=>(ae.find(Ye=>Ye.value===V)||ae[0]).symbol;return a.jsx(ur,{children:a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold",children:"Sales Tracking"}),a.jsx("button",{onClick:rt,className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md transition duration-300",children:"Add New Sale"})]}),d&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 border border-red-200 rounded-md",children:d}),o?a.jsxs("div",{className:"text-center py-10",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading sales data..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors duration-300",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:"Filter Sales by Date"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-600 mb-1",children:"Month"}),a.jsx("select",{id:"month",value:H,onChange:Re,className:"border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:W,children:Y.map(V=>a.jsx("option",{value:V.value,children:V.label},V.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-600 mb-1",children:"Year"}),a.jsx("select",{id:"year",value:Q,onChange:Ue,className:"border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:W,children:U.map(V=>a.jsx("option",{value:V,children:V},V))})]}),a.jsxs("div",{className:"flex items-center ml-4",children:[a.jsx("input",{id:"currentMonth",type:"checkbox",checked:W,onChange:()=>{ne(!W),W||Z(!1)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"currentMonth",className:"ml-2 block text-sm text-gray-700",children:"Show Current Month Only"})]}),((e==null?void 0:e.role)==="Manager"||(e==null?void 0:e.role)==="Admin")&&a.jsxs("div",{className:"flex items-center ml-4",children:[a.jsx("input",{id:"showAllSales",type:"checkbox",checked:X,onChange:it,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"showAllSales",className:"ml-2 block text-sm text-gray-700 font-semibold text-blue-600",children:"Show All Sales (No Date Filter)"})]}),a.jsx("button",{onClick:ut,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-md ml-auto transition duration-300",children:"Reset to Current Month"})]}),a.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[X?a.jsxs("p",{children:["Showing all sales regardless of date: ",r.length," total sales"]}):W?a.jsxs("p",{children:["Showing sales for current month: ",Y[new Date().getMonth()].label," ",new Date().getFullYear()]}):a.jsxs("p",{children:["Showing sales for: ",Y[H-1].label," ",Q]}),a.jsxs("p",{children:["Total: ",s.length," sales"]})]})]}),a.jsx("div",{className:"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors duration-300",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact/Login"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Token"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.length>0?s.map(V=>Mn(V)):a.jsx("tr",{children:a.jsx("td",{colSpan:"9",className:"px-6 py-4 text-center text-gray-500",children:"No sales found for the selected period. Try another date range or add a new sale."})})})]})})]}),w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"bg-green-600 text-white p-4 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-bold",children:"Add New Sale"}),a.jsx("button",{onClick:()=>b(!1),className:"text-white hover:text-gray-200 text-2xl",children:""})]}),a.jsxs("form",{onSubmit:je,className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"col-span-2 mb-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Sale Type:"}),a.jsxs("div",{className:"flex border border-gray-300 rounded-md overflow-hidden",children:[a.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium ${v.isReference?"bg-gray-100 text-gray-700":"bg-blue-600 text-white"}`,onClick:()=>Ee(!1),children:"From Lead"}),a.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium ${v.isReference?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>Ee(!0),children:"From Reference"})]})]})}),!v.isReference&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{htmlFor:"leadId",className:"block text-sm font-medium text-gray-700",children:"Lead"}),a.jsxs("select",{id:"leadId",value:v.leadId,onChange:Ve,className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a lead"}),E.map(V=>a.jsxs("option",{value:V._id,children:[V.name," - ",V.course]},V._id))]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsxs("label",{htmlFor:"leadPerson",className:"block text-sm font-medium text-gray-700",children:["Lead Person",a.jsx("span",{className:"ml-1 text-xs text-blue-600 font-normal",children:"(Who should see this sale on their dashboard)"})]}),a.jsxs("select",{id:"leadPerson",value:v.leadPerson,onChange:V=>de("leadPerson",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a lead person"}),P.map(V=>a.jsx("option",{value:V.value,children:V.label},V.value))]}),K&&a.jsx("div",{className:"mt-1 text-sm text-gray-500",children:"Loading lead persons..."}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The selected lead person will see this sale on their dashboard"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"saleDate",className:"block text-sm font-medium text-gray-700",children:"Sale Date"}),a.jsx("input",{id:"saleDate",type:"date",value:v.saleDate?new Date(v.saleDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],onChange:V=>de("saleDate",new Date(V.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsxs("label",{htmlFor:"leadBy",className:"block text-sm font-medium text-gray-700",children:["Lead By (Optional)",a.jsxs("span",{className:"ml-1 inline-block relative group",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400 cursor-help",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 w-48 bg-gray-800 text-white text-xs rounded py-1 px-2 hidden group-hover:block",children:"Name of the person who led this sale (can be different from the Lead Person assigned in the system)"})]})]}),a.jsx("input",{id:"leadBy",type:"text",value:v.leadBy,onChange:V=>de("leadBy",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Who led this sale?"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-gray-700",children:"Product"}),a.jsx("input",{id:"product",type:"text",value:v.product,onChange:V=>de("product",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Product or course name"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"loginId",className:"block text-sm font-medium text-gray-700",children:"Login ID (Optional)"}),a.jsx("input",{id:"loginId",type:"text",value:v.loginId,onChange:V=>de("loginId",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Customer login ID"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password (Optional)"}),a.jsx("input",{id:"password",type:"text",value:v.password,onChange:V=>de("password",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Customer password"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700",children:"Currency"}),a.jsx("select",{id:"currency",value:v.currency,onChange:V=>de("currency",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:ae.map(V=>a.jsx("option",{value:V.value,children:V.label},V.value))})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Amount"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(v.currency)}),a.jsx("input",{id:"amount",type:"number",value:v.amount,onChange:V=>de("amount",V.target.value),className:"block w-full pl-7 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"token",className:"block text-sm font-medium text-gray-700",children:"Token"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(v.currency)}),a.jsx("input",{id:"token",type:"number",value:v.token,onChange:V=>de("token",V.target.value),className:"block w-full pl-7 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"pending",className:"block text-sm font-medium text-gray-700",children:"Pending"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(v.currency)}),a.jsx("input",{id:"pending",type:"number",value:v.pending,onChange:V=>de("pending",V.target.value),className:"block w-full pl-7 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",disabled:v.status==="Completed"})]})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsx("select",{id:"status",value:v.status,onChange:V=>de("status",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:z.map(V=>a.jsx("option",{value:V,children:V},V))})]})]}),v.isReference&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700",children:"Customer Name"}),a.jsx("input",{id:"customerName",type:"text",value:v.customerName,onChange:V=>de("customerName",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter customer name"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"saleDate",className:"block text-sm font-medium text-gray-700",children:"Sale Date"}),a.jsx("input",{id:"saleDate",type:"date",value:v.saleDate?new Date(v.saleDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],onChange:V=>de("saleDate",new Date(V.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number"}),a.jsx(H8,{country:"us",value:v.contactNumber,onChange:(V,Te)=>{de("contactNumber",V),de("countryCode",`+${Te.dialCode}`)},inputProps:{id:"contactNumber",name:"contactNumber",required:!0},containerStyle:t.container,inputStyle:t.inputStyle,buttonStyle:t.buttonStyle,dropdownStyle:t.dropdownStyle,enableSearch:!0,searchPlaceholder:"Search country..."})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{id:"email",type:"email",value:v.email,onChange:V=>de("email",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"customer@example.com"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"Country"}),a.jsx("input",{id:"country",type:"text",value:v.country,onChange:V=>de("country",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter country"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsxs("label",{htmlFor:"leadBy",className:"block text-sm font-medium text-gray-700",children:["Lead By (Optional)",a.jsxs("span",{className:"ml-1 inline-block relative group",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400 cursor-help",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 w-48 bg-gray-800 text-white text-xs rounded py-1 px-2 hidden group-hover:block",children:"Name of the person who led this sale (can be different from the Lead Person assigned in the system)"})]})]}),a.jsx("input",{id:"leadBy",type:"text",value:v.leadBy,onChange:V=>de("leadBy",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Who led this sale?"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700",children:"Currency"}),a.jsx("select",{id:"currency",value:v.currency,onChange:V=>de("currency",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:ae.map(V=>a.jsx("option",{value:V.value,children:V.label},V.value))})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-gray-700",children:"Product"}),a.jsx("input",{id:"product",type:"text",value:v.product,onChange:V=>de("product",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Product or course name"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"loginId",className:"block text-sm font-medium text-gray-700",children:"Login ID (Optional)"}),a.jsx("input",{id:"loginId",type:"text",value:v.loginId,onChange:V=>de("loginId",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Customer login ID"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password (Optional)"}),a.jsx("input",{id:"password",type:"text",value:v.password,onChange:V=>de("password",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Customer password"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{htmlFor:"leadPerson",className:"block text-sm font-medium text-gray-700",children:"Lead Person"}),a.jsxs("select",{id:"leadPerson",value:v.leadPerson,onChange:V=>de("leadPerson",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a lead person"}),P.map(V=>a.jsx("option",{value:V.value,children:V.label},V.value))]}),K&&a.jsx("div",{className:"mt-1 text-sm text-gray-500",children:"Loading lead persons..."})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Amount"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(v.currency)}),a.jsx("input",{id:"amount",type:"number",value:v.amount,onChange:V=>de("amount",V.target.value),className:"block w-full pl-7 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"token",className:"block text-sm font-medium text-gray-700",children:"Token"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(v.currency)}),a.jsx("input",{id:"token",type:"number",value:v.token,onChange:V=>de("token",V.target.value),className:"block w-full pl-7 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"pending",className:"block text-sm font-medium text-gray-700",children:"Pending"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(v.currency)}),a.jsx("input",{id:"pending",type:"number",value:v.pending,onChange:V=>de("pending",V.target.value),className:"block w-full pl-7 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",disabled:v.status==="Completed"})]})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsx("select",{id:"status",value:v.status,onChange:V=>de("status",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:z.map(V=>a.jsx("option",{value:V,children:V},V))})]})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md",children:"Add Sale"})})]})]})})]})})},$8=()=>{const[t,e]=A.useState(!1),[r,n]=A.useState(null),[s,i]=A.useState([]),[o,c]=A.useState({}),[d,f]=A.useState({date:new Date().toISOString().split("T")[0],customerName:"",country:"",course:"",countryCode:"",contactNumber:"",email:"",pseudoId:"",leadPerson:"",source:"",clientRemark:"",feedback:"",totalCost:0,totalCostCurrency:"USD",tokenAmount:0,tokenAmountCurrency:"USD"}),{user:h}=$t();A.useEffect(()=>{p(),g()},[]);const p=async()=>{try{const v=await cr.getUsers("Lead Person");v.data.success?i(v.data.data||[]):yr.error("Failed to load lead persons")}catch(v){console.error("Error loading lead persons:",v),yr.error("Failed to load lead persons")}},g=async()=>{try{const v=await sh.getRates();v.data.success&&c(v.data.rates||{})}catch(v){console.error("Error loading currency rates:",v)}},x=v=>{const{name:C,value:E}=v.target;f(j=>({...j,[C]:E}))},w=(v,C)=>{f(E=>({...E,[`${v}Currency`]:C}))},b=async v=>{var C,E,j,D;v.preventDefault(),e(!0),n(null);try{if(!d.leadPerson)throw new Error("Please select a Lead Person");if(!h)throw new Error("User information not available. Please log in again.");const T={date:d.date,customerName:d.customerName,country:d.country,course:d.course,countryCode:d.countryCode,contactNumber:d.contactNumber,email:d.email,pseudoId:d.pseudoId,totalCost:parseFloat(d.totalCost),totalCostCurrency:d.totalCostCurrency,tokenAmount:parseFloat(d.tokenAmount),tokenAmountCurrency:d.tokenAmountCurrency,source:d.source,clientRemark:d.clientRemark,feedback:d.feedback};(await Kr.createSaleWithLeadPerson(T,d.leadPerson)).data.success&&(yr.success("Sale created successfully! This sale will appear on the lead person's dashboard."),f({date:new Date().toISOString().split("T")[0],customerName:"",country:"",course:"",countryCode:"",contactNumber:"",email:"",pseudoId:"",leadPerson:"",source:"",clientRemark:"",feedback:"",totalCost:0,totalCostCurrency:"USD",tokenAmount:0,tokenAmountCurrency:"USD"}))}catch(T){console.error("Error creating sale:",T),n(((E=(C=T.response)==null?void 0:C.data)==null?void 0:E.message)||T.message||"Failed to create sale"),yr.error(((D=(j=T.response)==null?void 0:j.data)==null?void 0:D.message)||T.message||"Failed to create sale")}finally{e(!1)}};return a.jsx(ur,{children:a.jsxs("div",{className:"container mx-auto p-4",children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsx("h1",{className:"text-2xl font-bold",children:"Create Sale for Lead Person"})}),r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:r}),a.jsx("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("input",{type:"date",name:"date",value:d.date,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name"}),a.jsx("input",{type:"text",name:"customerName",value:d.customerName,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),a.jsx("input",{type:"text",name:"country",value:d.country,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),a.jsx("input",{type:"text",name:"course",value:d.course,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country Code"}),a.jsx("input",{type:"text",name:"countryCode",value:d.countryCode,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"e.g. +1, +91"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),a.jsx("input",{type:"text",name:"contactNumber",value:d.contactNumber,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:d.email,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pseudo ID"}),a.jsx("input",{type:"text",name:"pseudoId",value:d.pseudoId,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Person"}),a.jsxs("select",{name:"leadPerson",value:d.leadPerson,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md",required:!0,children:[a.jsx("option",{value:"",children:"Select Lead Person"}),s.map(v=>a.jsx("option",{value:v._id,children:v.fullName},v._id))]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The lead person will see this sale on their dashboard"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),a.jsx("input",{type:"text",name:"source",value:d.source,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Cost"}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"number",name:"totalCost",value:d.totalCost,onChange:x,className:"w-2/3 p-2 border border-gray-300 rounded-l-md",required:!0}),a.jsxs("select",{name:"totalCostCurrency",value:d.totalCostCurrency,onChange:v=>w("totalCost",v.target.value),className:"w-1/3 p-2 border border-gray-300 rounded-r-md",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"INR",children:"INR"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Token Amount"}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"number",name:"tokenAmount",value:d.tokenAmount,onChange:x,className:"w-2/3 p-2 border border-gray-300 rounded-l-md",required:!0}),a.jsxs("select",{name:"tokenAmountCurrency",value:d.tokenAmountCurrency,onChange:v=>w("tokenAmount",v.target.value),className:"w-1/3 p-2 border border-gray-300 rounded-r-md",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"INR",children:"INR"})]})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Remark"}),a.jsx("textarea",{name:"clientRemark",value:d.clientRemark,onChange:x,rows:"2",className:"w-full p-2 border border-gray-300 rounded-md"})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feedback"}),a.jsx("textarea",{name:"feedback",value:d.feedback,onChange:x,rows:"2",className:"w-full p-2 border border-gray-300 rounded-md"})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300 flex items-center",children:t?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-white rounded-full border-t-transparent"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(KN,{className:"mr-2"})," Create Sale for Lead Person"]})})})]})}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 p-4 rounded-md mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"How This Works"}),a.jsx("p",{className:"mb-2",children:"When you create a sale using this form and select a Lead Person, the sale will:"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[a.jsx("li",{children:"Be credited to you as the Sales Person"}),a.jsx("li",{children:"Appear on the Lead Person's dashboard"}),a.jsx("li",{children:"Allow the Lead Person to track your sales progress"}),a.jsx("li",{children:"Create transparency and collaboration between Sales and Lead teams"})]})]})]})})};var Y8=Object.defineProperty,K8=(t,e,r)=>e in t?Y8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mr=(t,e,r)=>K8(t,typeof e!="symbol"?e+"":e,r);const oh={x:0,y:0,width:0,height:0,unit:"px"},ll=(t,e,r)=>Math.min(Math.max(t,e),r),G8=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),P2=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function q8(t,e,r,n){const s=la(t,r,n);return t.width&&(s.height=s.width/e),t.height&&(s.width=s.height*e),s.y+s.height>n&&(s.height=n-s.y,s.width=s.height*e),s.x+s.width>r&&(s.width=r-s.x,s.height=s.width/e),t.unit==="%"?fi(s,r,n):s}function X8(t,e,r){const n=la(t,e,r);return n.x=(e-n.width)/2,n.y=(r-n.height)/2,t.unit==="%"?fi(n,e,r):n}function fi(t,e,r){return t.unit==="%"?{...oh,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/r*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/r*100:0}}function la(t,e,r){return t.unit?t.unit==="px"?{...oh,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*r/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*r/100:0}:{...oh,...t,unit:"px"}}function D2(t,e,r,n,s,i=0,o=0,c=n,d=s){const f={...t};let h=Math.min(i,n),p=Math.min(o,s),g=Math.min(c,n),x=Math.min(d,s);e&&(e>1?(h=o?o*e:h,p=h/e,g=c*e):(p=i?i/e:p,h=p*e,x=d/e)),f.y<0&&(f.height=Math.max(f.height+f.y,p),f.y=0),f.x<0&&(f.width=Math.max(f.width+f.x,h),f.x=0);const w=n-(f.x+f.width);w<0&&(f.x=Math.min(f.x,n-h),f.width+=w);const b=s-(f.y+f.height);if(b<0&&(f.y=Math.min(f.y,s-p),f.height+=b),f.width<h&&((r==="sw"||r=="nw")&&(f.x-=h-f.width),f.width=h),f.height<p&&((r==="nw"||r=="ne")&&(f.y-=p-f.height),f.height=p),f.width>g&&((r==="sw"||r=="nw")&&(f.x-=g-f.width),f.width=g),f.height>x&&((r==="nw"||r=="ne")&&(f.y-=x-f.height),f.height=x),e){const v=f.width/f.height;if(v<e){const C=Math.max(f.width/e,p);(r==="nw"||r=="ne")&&(f.y-=C-f.height),f.height=C}else if(v>e){const C=Math.max(f.height*e,h);(r==="sw"||r=="nw")&&(f.x-=C-f.width),f.width=C}}return f}function J8(t,e,r,n){const s={...t};return e==="ArrowLeft"?n==="nw"?(s.x-=r,s.y-=r,s.width+=r,s.height+=r):n==="w"?(s.x-=r,s.width+=r):n==="sw"?(s.x-=r,s.width+=r,s.height+=r):n==="ne"?(s.y+=r,s.width-=r,s.height-=r):n==="e"?s.width-=r:n==="se"&&(s.width-=r,s.height-=r):e==="ArrowRight"&&(n==="nw"?(s.x+=r,s.y+=r,s.width-=r,s.height-=r):n==="w"?(s.x+=r,s.width-=r):n==="sw"?(s.x+=r,s.width-=r,s.height-=r):n==="ne"?(s.y-=r,s.width+=r,s.height+=r):n==="e"?s.width+=r:n==="se"&&(s.width+=r,s.height+=r)),e==="ArrowUp"?n==="nw"?(s.x-=r,s.y-=r,s.width+=r,s.height+=r):n==="n"?(s.y-=r,s.height+=r):n==="ne"?(s.y-=r,s.width+=r,s.height+=r):n==="sw"?(s.x+=r,s.width-=r,s.height-=r):n==="s"?s.height-=r:n==="se"&&(s.width-=r,s.height-=r):e==="ArrowDown"&&(n==="nw"?(s.x+=r,s.y+=r,s.width-=r,s.height-=r):n==="n"?(s.y+=r,s.height-=r):n==="ne"?(s.y+=r,s.width-=r,s.height-=r):n==="sw"?(s.x-=r,s.width+=r,s.height+=r):n==="s"?s.height+=r:n==="se"&&(s.width+=r,s.height+=r)),s}const cl={capture:!0,passive:!1};let Q8=0;const ci=class Vs extends A.PureComponent{constructor(){super(...arguments),mr(this,"docMoveBound",!1),mr(this,"mouseDownOnCrop",!1),mr(this,"dragStarted",!1),mr(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),mr(this,"componentRef",A.createRef()),mr(this,"mediaRef",A.createRef()),mr(this,"resizeObserver"),mr(this,"initChangeCalled",!1),mr(this,"instanceId",`rc-${Q8++}`),mr(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),mr(this,"onCropPointerDown",e=>{const{crop:r,disabled:n}=this.props,s=this.getBox();if(!r)return;const i=la(r,s.width,s.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const o=e.target.dataset.ord,c=!!o;let d=e.clientX,f=e.clientY,h=i.x,p=i.y;if(o){const g=e.clientX-s.x,x=e.clientY-s.y;let w=0,b=0;o==="ne"||o=="e"?(w=g-(i.x+i.width),b=x-i.y,h=i.x,p=i.y+i.height):o==="se"||o==="s"?(w=g-(i.x+i.width),b=x-(i.y+i.height),h=i.x,p=i.y):o==="sw"||o=="w"?(w=g-i.x,b=x-(i.y+i.height),h=i.x+i.width,p=i.y):(o==="nw"||o=="n")&&(w=g-i.x,b=x-i.y,h=i.x+i.width,p=i.y+i.height),d=h+s.x+w,f=p+s.y+b}this.evData={startClientX:d,startClientY:f,startCropX:h,startCropY:p,clientX:e.clientX,clientY:e.clientY,isResize:c,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),mr(this,"onComponentPointerDown",e=>{const{crop:r,disabled:n,locked:s,keepSelection:i,onChange:o}=this.props,c=this.getBox();if(n||s||i&&r)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const d=e.clientX-c.x,f=e.clientY-c.y,h={unit:"px",x:d,y:f,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:d,startCropY:f,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(la(h,c.width,c.height),fi(h,c.width,c.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),mr(this,"onDocPointerMove",e=>{const{crop:r,disabled:n,onChange:s,onDragStart:i}=this.props,o=this.getBox();if(n||!r||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(e));const{evData:c}=this;c.clientX=e.clientX,c.clientY=e.clientY;let d;c.isResize?d=this.resizeCrop():d=this.dragCrop(),P2(r,d)||s(la(d,o.width,o.height),fi(d,o.width,o.height))}),mr(this,"onComponentKeyDown",e=>{const{crop:r,disabled:n,onChange:s,onComplete:i}=this.props;if(n)return;const o=e.key;let c=!1;if(!r)return;const d=this.getBox(),f=this.makePixelCrop(d),h=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Vs.nudgeStepLarge:e.shiftKey?Vs.nudgeStepMedium:Vs.nudgeStep;if(o==="ArrowLeft"?(f.x-=h,c=!0):o==="ArrowRight"?(f.x+=h,c=!0):o==="ArrowUp"?(f.y-=h,c=!0):o==="ArrowDown"&&(f.y+=h,c=!0),c){e.cancelable&&e.preventDefault(),f.x=ll(f.x,0,d.width-f.width),f.y=ll(f.y,0,d.height-f.height);const p=la(f,d.width,d.height),g=fi(f,d.width,d.height);s(p,g),i&&i(p,g)}}),mr(this,"onHandlerKeyDown",(e,r)=>{const{aspect:n=0,crop:s,disabled:i,minWidth:o=0,minHeight:c=0,maxWidth:d,maxHeight:f,onChange:h,onComplete:p}=this.props,g=this.getBox();if(i||!s)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const x=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Vs.nudgeStepLarge:e.shiftKey?Vs.nudgeStepMedium:Vs.nudgeStep,w=la(s,g.width,g.height),b=J8(w,e.key,x,r),v=D2(b,n,r,g.width,g.height,o,c,d,f);if(!P2(s,v)){const C=fi(v,g.width,g.height);h(v,C),p&&p(v,C)}}),mr(this,"onDocPointerDone",e=>{const{crop:r,disabled:n,onComplete:s,onDragEnd:i}=this.props,o=this.getBox();this.unbindDocMove(),!(n||!r)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(e),s&&s(la(r,o.width,o.height),fi(r,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),mr(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:r,y:n,width:s,height:i}=e.getBoundingClientRect();return{x:r,y:n,width:s,height:i}}componentDidUpdate(e){const{crop:r,onComplete:n}=this.props;if(n&&!e.crop&&r){const{width:s,height:i}=this.getBox();s&&i&&n(la(r,s,i),fi(r,s,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,cl),this.document.addEventListener("pointerup",this.onDocPointerDone,cl),this.document.addEventListener("pointercancel",this.onDocPointerDone,cl),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,cl),this.document.removeEventListener("pointerup",this.onDocPointerDone,cl),this.document.removeEventListener("pointercancel",this.onDocPointerDone,cl),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,r=this.getBox(),n=this.makePixelCrop(r),s=e.clientX-e.startClientX,i=e.clientY-e.startClientY;return n.x=ll(e.startCropX+s,0,r.width-n.width),n.y=ll(e.startCropY+i,0,r.height-n.height),n}getPointRegion(e,r,n,s){const{evData:i}=this,o=i.clientX-e.x,c=i.clientY-e.y;let d;s&&r?d=r==="nw"||r==="n"||r==="ne":d=c<i.startCropY;let f;return n&&r?f=r==="nw"||r==="w"||r==="sw":f=o<i.startCropX,f?d?"nw":"sw":d?"ne":"se"}resolveMinDimensions(e,r,n=0,s=0){const i=Math.min(n,e.width),o=Math.min(s,e.height);return!r||!i&&!o?[i,o]:r>1?i?[i,i/r]:[o*r,o]:o?[o*r,o]:[i,i/r]}resizeCrop(){const{evData:e}=this,{aspect:r=0,maxWidth:n,maxHeight:s}=this.props,i=this.getBox(),[o,c]=this.resolveMinDimensions(i,r,this.props.minWidth,this.props.minHeight);let d=this.makePixelCrop(i);const f=this.getPointRegion(i,e.ord,o,c),h=e.ord||f;let p=e.clientX-e.startClientX,g=e.clientY-e.startClientY;(o&&h==="nw"||h==="w"||h==="sw")&&(p=Math.min(p,-o)),(c&&h==="nw"||h==="n"||h==="ne")&&(g=Math.min(g,-c));const x={unit:"px",x:0,y:0,width:0,height:0};f==="ne"?(x.x=e.startCropX,x.width=p,r?(x.height=x.width/r,x.y=e.startCropY-x.height):(x.height=Math.abs(g),x.y=e.startCropY-x.height)):f==="se"?(x.x=e.startCropX,x.y=e.startCropY,x.width=p,r?x.height=x.width/r:x.height=g):f==="sw"?(x.x=e.startCropX+p,x.y=e.startCropY,x.width=Math.abs(p),r?x.height=x.width/r:x.height=g):f==="nw"&&(x.x=e.startCropX+p,x.width=Math.abs(p),r?(x.height=x.width/r,x.y=e.startCropY-x.height):(x.height=Math.abs(g),x.y=e.startCropY+g));const w=D2(x,r,f,i.width,i.height,o,c,n,s);return r||Vs.xyOrds.indexOf(h)>-1?d=w:Vs.xOrds.indexOf(h)>-1?(d.x=w.x,d.width=w.width):Vs.yOrds.indexOf(h)>-1&&(d.y=w.y,d.height=w.height),d.x=ll(d.x,0,i.width-d.width),d.y=ll(d.y,0,i.height-d.height),d}renderCropSelection(){const{ariaLabels:e=Vs.defaultProps.ariaLabels,disabled:r,locked:n,renderSelectionAddon:s,ruleOfThirds:i,crop:o}=this.props,c=this.getCropStyle();if(o)return ft.createElement("div",{style:c,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!r&&!n&&ft.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},ft.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),ft.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),ft.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),ft.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),ft.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"nw"),role:"button"}),ft.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"n"),role:"button"}),ft.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"ne"),role:"button"}),ft.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"e"),role:"button"}),ft.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"se"),role:"button"}),ft.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"s"),role:"button"}),ft.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"sw"),role:"button"}),ft.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"w"),role:"button"})),s&&ft.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:d=>d.stopPropagation()},s(this.state)),i&&ft.createElement(ft.Fragment,null,ft.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),ft.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const r={...oh,...this.props.crop||{}};return la(r,e.width,e.height)}render(){const{aspect:e,children:r,circularCrop:n,className:s,crop:i,disabled:o,locked:c,style:d,ruleOfThirds:f}=this.props,{cropIsActive:h,newCropIsBeingDrawn:p}=this.state,g=i?this.renderCropSelection():null,x=G8("ReactCrop",s,h&&"ReactCrop--active",o&&"ReactCrop--disabled",c&&"ReactCrop--locked",p&&"ReactCrop--new-crop",i&&e&&"ReactCrop--fixed-aspect",i&&n&&"ReactCrop--circular-crop",i&&f&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return ft.createElement("div",{ref:this.componentRef,className:x,style:d},ft.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},r),i?ft.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},ft.createElement("defs",null,ft.createElement("mask",{id:`hole-${this.instanceId}`},ft.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?ft.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):ft.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),ft.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,g)}};mr(ci,"xOrds",["e","w"]),mr(ci,"yOrds",["n","s"]),mr(ci,"xyOrds",["nw","ne","se","sw"]),mr(ci,"nudgeStep",1),mr(ci,"nudgeStepMedium",10),mr(ci,"nudgeStepLarge",100),mr(ci,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let Z8=ci;const eP=()=>{const{user:t,loading:e,setUser:r}=$t(),[n,s]=A.useState(!1),[i,o]=A.useState(null),[c,d]=A.useState(null),[f,h]=A.useState(null),[p,g]=A.useState(),[x,w]=A.useState(null),[b,v]=A.useState(!1),C=A.useRef(null),E=A.useRef(null);if(e)return a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(!t)return a.jsx(Bp,{to:"/login"});const j=H=>{const oe=new Date(H);return oe.toLocaleDateString()+" "+oe.toLocaleTimeString()},D=(H,oe,Q)=>X8(q8({unit:"%",width:90},Q,H,oe),H,oe),T=A.useCallback(H=>{const{width:oe,height:Q}=H.currentTarget;g(D(oe,Q,1))},[]),M=H=>{const oe=H.target.files[0];if(!oe)return;if(!oe.type.match("image.*")){o("Please select an image file");return}if(oe.size>5*1024*1024){o("Image size should be less than 5MB");return}o(null);const Q=new FileReader;Q.onloadend=()=>{h(Q.result),v(!0)},Q.readAsDataURL(oe)},_=(H,oe)=>{if(!oe||!H)return null;const Q=document.createElement("canvas"),O=H.naturalWidth/H.width,W=H.naturalHeight/H.height;return Q.width=oe.width,Q.height=oe.height,Q.getContext("2d").drawImage(H,oe.x*O,oe.y*W,oe.width*O,oe.height*W,0,0,oe.width,oe.height),Q.toDataURL("image/jpeg")},P=H=>{w(H)},I=()=>{if(!x||!E.current)return;const H=_(E.current,x);d(H),v(!1)},K=async()=>{if(c)try{s(!0),o(null),console.log("Attempting to upload profile picture to:","/api/auth/profile-picture");try{const oe=await tr.get("/api/auth/profile-picture-test");console.log("Test endpoint response:",oe.data)}catch(oe){console.error("Test endpoint failed:",oe)}const H=await cr.updateProfilePicture(c);console.log("Profile picture update response:",H.data),H.data.success?(r({...t,profilePicture:c}),d(null),h(null)):o("Failed to update profile picture")}catch(H){console.error("Error uploading profile picture:",H),H.response?(console.error("Response data:",H.response.data),console.error("Response status:",H.response.status),console.error("Response headers:",H.response.headers),o(`Error ${H.response.status}: ${H.response.data.message||"Unknown error"}`)):H.request?(console.error("Request was made but no response received:",H.request),o("No response received from server. Check network connection.")):(console.error("Error setting up request:",H.message),o(`Error: ${H.message}`))}finally{s(!1)}},q=()=>{d(null),h(null),v(!1),o(null),g(void 0),w(null),C.current&&(C.current.value="")};return a.jsx(ur,{children:a.jsx("div",{className:"container mx-auto p-6",children:a.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"bg-blue-600 text-white p-4",children:a.jsx("h2",{className:"text-2xl font-bold",children:"User Profile"})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8 text-center",children:[b&&f&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-lg font-medium mb-2",children:"Adjust Your Profile Picture"}),a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx(Z8,{crop:p,onChange:(H,oe)=>g(oe),onComplete:P,aspect:1,circularCrop:!0,children:a.jsx("img",{ref:E,src:f,alt:"Crop Preview",onLoad:T,className:"max-w-full max-h-96"})}),a.jsxs("div",{className:"flex justify-center mt-4 space-x-3",children:[a.jsxs("button",{type:"button",onClick:I,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 flex items-center",children:[a.jsx(X5,{className:"mr-2"})," Apply Crop"]}),a.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancel"})]})]})]}),!b&&a.jsxs("div",{className:"relative h-24 w-24 rounded-full mx-auto mb-4",children:[c?a.jsx("img",{src:c,alt:"Profile Preview",className:"h-24 w-24 rounded-full object-cover border-2 border-blue-300"}):t.profilePicture?a.jsx("img",{src:t.profilePicture,alt:t.fullName,className:"h-24 w-24 rounded-full object-cover"}):a.jsx("div",{className:"h-24 w-24 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx("span",{className:"text-3xl font-bold text-blue-600",children:t.fullName?t.fullName.charAt(0).toUpperCase():"U"})}),a.jsx("label",{htmlFor:"profile-upload",className:"absolute bottom-0 right-0 bg-blue-600 text-white rounded-full p-2 cursor-pointer hover:bg-blue-700 transition-colors",children:a.jsx(K5,{size:12})}),a.jsx("input",{type:"file",id:"profile-upload",className:"hidden",accept:"image/*",onChange:M,ref:C})]}),c&&!b&&a.jsxs("div",{className:"flex justify-center space-x-3 mb-4",children:[a.jsx("button",{onClick:K,disabled:n,className:`p-2 rounded-full ${n?"bg-gray-300":"bg-green-500 hover:bg-green-600"} text-white`,children:a.jsx(Xp,{size:12})}),a.jsx("button",{onClick:q,disabled:n,className:"p-2 rounded-full bg-red-500 hover:bg-red-600 text-white",children:a.jsx(bu,{size:12})})]}),i&&a.jsx("div",{className:"text-red-500 text-sm mb-2",children:i}),a.jsx("h3",{className:"text-xl font-bold mt-2",children:t.fullName}),a.jsx("p",{className:"text-gray-600",children:t.email}),a.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold mt-2",children:t.role})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"text-lg font-bold mb-2",children:"Account Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"User ID"}),a.jsx("p",{className:"font-medium",children:t._id})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Created"}),a.jsx("p",{className:"font-medium",children:j(t.createdAt)})]})]})]}),t.role==="Sales Person"&&a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"text-lg font-bold mb-2",children:"Sales Information"}),a.jsx("p",{className:"text-gray-600",children:"You have access to view and manage leads assigned to you."})]}),t.role==="Lead Person"&&a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"text-lg font-bold mb-2",children:"Lead Management"}),a.jsx("p",{className:"text-gray-600",children:"You have access to create leads and view leads assigned to you."})]}),(t.role==="Admin"||t.role==="Manager")&&a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"text-lg font-bold mb-2",children:"Administrative Access"}),a.jsx("p",{className:"text-gray-600",children:"You have access to all leads and administrative functions."})]})]})]})]})})})},tP=()=>{const{user:t}=$t(),[e,r]=A.useState(""),[n,s]=A.useState(""),[i,o]=A.useState(!1);A.useEffect(()=>{const d=localStorage.getItem("token");r(d||"No token found")},[]);const c=async()=>{var d;o(!0);try{const f=await tr.get("https://crm-backend-o36v.onrender.com/api/auth/debug",{headers:{Authorization:`Bearer ${e}`}});s(JSON.stringify(f.data,null,2))}catch(f){s(JSON.stringify(((d=f.response)==null?void 0:d.data)||f.message,null,2))}o(!1)};return a.jsx(ur,{children:a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Authentication Debug"}),a.jsxs("div",{className:"bg-white p-6 rounded shadow-md mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Current User"}),a.jsx("pre",{className:"bg-gray-100 p-4 rounded overflow-auto",children:JSON.stringify(t,null,2)||"Not logged in"})]}),a.jsxs("div",{className:"bg-white p-6 rounded shadow-md mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Stored Token"}),a.jsx("pre",{className:"bg-gray-100 p-4 rounded overflow-auto mb-4",children:e}),a.jsx("button",{onClick:c,disabled:i,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:i?"Testing...":"Test Token"})]}),n&&a.jsxs("div",{className:"bg-white p-6 rounded shadow-md",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Test Result"}),a.jsx("pre",{className:"bg-gray-100 p-4 rounded overflow-auto",children:n})]})]})})},rP=()=>{const{user:t}=$t(),[e,r]=A.useState({totalLeads:0,totalSales:0,totalRevenue:0,totalUsers:0,recentLeads:[],recentSales:[],userCounts:{salesPerson:0,leadPerson:0,manager:0,admin:0},leadStages:{Introduction:0,Acknowledgement:0,Question:0,"Future Promise":0,Payment:0,Analysis:0}}),[n,s]=A.useState("Acknowledgement"),[i,o]=A.useState([]),[c,d]=A.useState(!0),[f,h]=A.useState(null);A.useEffect(()=>{p()},[]),A.useEffect(()=>{e.totalLeads>0&&g()},[n]);const p=async()=>{try{d(!0);const b=await _n.getAll(),v=b.data.success?b.data.data:[];let C=0,E=[];try{C=await zN()}catch(K){console.error("Error getting direct sales count:",K)}try{const K=await Kr.getAll();K.data&&K.data.success&&(E=K.data.data)}catch(K){console.error("Error fetching sales data:",K)}const j=await cr.getUsers(),D=j.data.success?j.data.data:[],T=E.reduce((K,q)=>K+parseFloat(q.amount||q.totalCost||0),0),M=[...v].sort((K,q)=>new Date(q.createdAt)-new Date(K.createdAt)).slice(0,5),_=[...E].sort((K,q)=>new Date(q.createdAt)-new Date(K.createdAt)).slice(0,5),P={salesPerson:D.filter(K=>K.role==="Sales Person").length,leadPerson:D.filter(K=>K.role==="Lead Person").length,manager:D.filter(K=>K.role==="Manager").length,admin:D.filter(K=>K.role==="Admin").length},I={Introduction:v.filter(K=>K.status==="Introduction").length,Acknowledgement:v.filter(K=>K.status==="Acknowledgement").length,Question:v.filter(K=>K.status==="Question").length,"Future Promise":v.filter(K=>K.status==="Future Promise").length,Payment:v.filter(K=>K.status==="Payment").length,Analysis:v.filter(K=>K.status==="Analysis").length};r({totalLeads:v.length,totalSales:C||E.length,totalRevenue:T,totalUsers:D.length,recentLeads:M,recentSales:_,userCounts:P,leadStages:I}),g(v,n),h(null)}catch(b){console.error("Error fetching dashboard data:",b),h("Failed to load dashboard data. Please try again.")}finally{d(!1)}},g=async(b=null,v=n)=>{try{let C=b;if(!C){const j=await _n.getAll();C=j.data.success?j.data.data:[]}const E=C.filter(j=>j.status===v);o(E)}catch(C){console.error("Error filtering leads by stage:",C),o([])}},x=b=>{s(b),g(null,b)},w=b=>new Date(b).toLocaleDateString();return a.jsx(ur,{children:a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:(t==null?void 0:t.role)==="Lead Person"?"Lead Person Dashboard":"Admin Dashboard"}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Last updated: ",new Date().toLocaleString()]})]}),f&&a.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:f}),c?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Leads"}),a.jsx("p",{className:"text-3xl font-bold mt-1",children:e.totalLeads})]}),a.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),a.jsx("div",{className:"mt-4",children:a.jsx(wt,{to:"/leads",className:"text-sm text-blue-600 hover:underline",children:"View all leads"})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Sales"}),a.jsx("p",{className:"text-3xl font-bold mt-1",children:e.totalSales})]}),a.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})})]}),a.jsx("div",{className:"mt-4",children:a.jsx(wt,{to:"/sales-tracking",className:"text-sm text-blue-600 hover:underline",children:"View all sales"})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Revenue"}),a.jsx("p",{className:"text-3xl font-bold mt-1",children:Hs(e.totalRevenue)})]}),a.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.jsx("div",{className:"mt-4",children:a.jsx(wt,{to:"/admin/reports",className:"text-sm text-blue-600 hover:underline",children:"View reports"})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Team Members"}),a.jsx("p",{className:"text-3xl font-bold mt-1",children:e.totalUsers})]}),a.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]}),a.jsx("div",{className:"mt-4",children:a.jsx(wt,{to:"/admin/users",className:"text-sm text-blue-600 hover:underline",children:"Manage users"})})]})]}),(t==null?void 0:t.role)==="Admin"&&a.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-medium",children:"Team Overview"})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"border rounded-lg p-4 text-center",children:[a.jsx("h3",{className:"text-sm text-gray-500",children:"Sales Team"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:e.userCounts.salesPerson})]}),a.jsxs("div",{className:"border rounded-lg p-4 text-center",children:[a.jsx("h3",{className:"text-sm text-gray-500",children:"Lead Team"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:e.userCounts.leadPerson})]}),a.jsxs("div",{className:"border rounded-lg p-4 text-center",children:[a.jsx("h3",{className:"text-sm text-gray-500",children:"Managers"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:e.userCounts.manager})]}),a.jsxs("div",{className:"border rounded-lg p-4 text-center",children:[a.jsx("h3",{className:"text-sm text-gray-500",children:"Admins"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:e.userCounts.admin})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-medium",children:"Lead Stage Analytics"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:Object.entries(e.leadStages).map(([b,v])=>a.jsxs("div",{className:`border rounded-lg p-4 text-center cursor-pointer transition-all duration-200 ${n===b?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,onClick:()=>x(b),children:[a.jsx("h3",{className:`text-sm font-medium ${n===b?"text-blue-700":"text-gray-500"}`,children:b}),a.jsx("p",{className:`text-2xl font-bold mt-1 ${n===b?"text-blue-900":"text-gray-900"}`,children:v}),n===b&&a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:"inline-block w-2 h-2 bg-blue-500 rounded-full"})})]},b))}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2 sm:mb-0",children:(t==null?void 0:t.role)==="Lead Person"?`My leads in "${n}" Stage`:`Leads in "${n}" Stage`}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{htmlFor:"stage-select",className:"text-sm text-gray-600",children:"Select Stage:"}),a.jsxs("select",{id:"stage-select",value:n,onChange:b=>x(b.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"Introduction",children:"Introduction"}),a.jsx("option",{value:"Acknowledgement",children:"Acknowledgement"}),a.jsx("option",{value:"Question",children:"Question"}),a.jsx("option",{value:"Future Promise",children:"Future Promise"}),a.jsx("option",{value:"Payment",children:"Payment"}),a.jsx("option",{value:"Analysis",children:"Analysis"})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:(t==null?void 0:t.role)==="Lead Person"?`My leads in ${n}:`:`Total leads in ${n}:`}),a.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[e.leadStages[n]," leads"]})]}),i.length>0?a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Country"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:i.slice(0,5).map(b=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:b.name}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:b.course}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:b.country}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:b.contactNumber}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:w(b.createdAt)})]},b._id))})]}),i.length>5&&a.jsx("div",{className:"mt-3 text-center",children:a.jsxs(wt,{to:`/leads?status=${n}`,className:"text-sm text-blue-600 hover:underline",children:["View all ",i.length," leads in ",n," stage"]})})]}):a.jsx("div",{className:"text-center py-4",children:a.jsxs("p",{className:"text-gray-500",children:["No leads found in ",n," stage"]})})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-medium",children:"Recent Leads"})}),a.jsxs("div",{className:"p-6",children:[e.recentLeads.length===0?a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent leads found"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{children:e.recentLeads.map(b=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:b.name}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:b.course}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:w(b.createdAt)})]},b._id))})]})}),a.jsx("div",{className:"mt-4 text-right",children:a.jsx(wt,{to:"/leads",className:"text-sm text-blue-600 hover:underline",children:"View all leads"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-medium",children:"Recent Sales"})}),a.jsxs("div",{className:"p-6",children:[e.recentSales.length===0?a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent sales found"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),a.jsx("tbody",{children:e.recentSales.map(b=>{var v;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:((v=b.leadId)==null?void 0:v.name)||"N/A"}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:b.product}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:Hs(b.amount)})]},b._id)})})]})}),a.jsx("div",{className:"mt-4 text-right",children:a.jsx(wt,{to:"/sales-tracking",className:"text-sm text-blue-600 hover:underline",children:"View all sales"})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-medium",children:"Quick Actions"})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:(t==null?void 0:t.role)==="Admin"?a.jsxs(a.Fragment,{children:[a.jsx(wt,{to:"/admin/users",className:"bg-blue-50 hover:bg-blue-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),a.jsx("span",{className:"text-gray-800 font-medium",children:"Manage Users"})]})}),a.jsx(wt,{to:"/admin/leads",className:"bg-green-50 hover:bg-green-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{className:"text-gray-800 font-medium",children:"Manage Leads"})]})}),a.jsx(wt,{to:"/admin/reports",className:"bg-purple-50 hover:bg-purple-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-purple-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("span",{className:"text-gray-800 font-medium",children:"View Reports"})]})}),a.jsx(wt,{to:"/sales-tracking",className:"bg-yellow-50 hover:bg-yellow-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-yellow-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"text-gray-800 font-medium",children:"Sales Tracking"})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx(wt,{to:"/leads",className:"bg-blue-50 hover:bg-blue-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsx("span",{className:"text-gray-800 font-medium",children:"Manage Leads"})]})}),a.jsx(wt,{to:"/admin/import",className:"bg-green-50 hover:bg-green-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),a.jsx("span",{className:"text-gray-800 font-medium",children:"Import Data"})]})}),a.jsx(wt,{to:"/lead-sales-sheet",className:"bg-purple-50 hover:bg-purple-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-purple-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("span",{className:"text-gray-800 font-medium",children:"Sales Sheet"})]})}),a.jsx(wt,{to:"/tasks",className:"bg-yellow-50 hover:bg-yellow-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-yellow-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),a.jsx("span",{className:"text-gray-800 font-medium",children:"Tasks"})]})})]})})})]})]})]})})},nP=()=>{const{user:t}=$t(),[e,r]=A.useState([]),[n,s]=A.useState(!0),[i,o]=A.useState(null),[c,d]=A.useState(""),[f,h]=A.useState(""),[p,g]=A.useState(!1),[x,w]=A.useState(!1),[b,v]=A.useState(null),[C,E]=A.useState(null),[j,D]=A.useState({fullName:"",email:"",password:"",role:"Sales Person"});A.useEffect(()=>{T()},[]);const T=async()=>{try{s(!0);const Q=await cr.getUsers();Q.data.success?r(Q.data.data):o("Failed to load users")}catch(Q){console.error("Error fetching users:",Q),o("Failed to load users. Please try again.")}finally{s(!1)}},M=Q=>{D({...j,[Q.target.name]:Q.target.value})},_=Q=>{E({...C,[Q.target.name]:Q.target.value})},P=async Q=>{var O,W;Q.preventDefault();try{if(j.password.length<6){o("Password must be at least 6 characters");return}const ne=await cr.register(j);ne.success?(D({fullName:"",email:"",password:"",role:"Sales Person"}),g(!1),T()):o(ne.message||"Failed to create user")}catch(ne){console.error("Error creating user:",ne),o(((W=(O=ne.response)==null?void 0:O.data)==null?void 0:W.message)||"Failed to create user")}},I=async Q=>{var O,W;Q.preventDefault();try{if(C.password&&C.password.length>0&&C.password.length<6){o("Password must be at least 6 characters");return}s(!0);const ne=await cr.updateUser(C._id,C);ne.data&&ne.data.success?(w(!1),T(),o(null)):o(ne.data&&ne.data.message||"Failed to update user")}catch(ne){console.error("Error updating user:",ne),o(((W=(O=ne.response)==null?void 0:O.data)==null?void 0:W.message)||"Failed to update user. Please check your connection and try again.")}finally{s(!1)}},K=async Q=>{var O,W;try{s(!0);const ne=await cr.deleteUser(Q);ne.data&&ne.data.success?(T(),v(null),o(null)):o(ne.data&&ne.data.message||"Failed to delete user")}catch(ne){console.error("Error deleting user:",ne),o(((W=(O=ne.response)==null?void 0:O.data)==null?void 0:W.message)||"Failed to delete user. Please check your connection and try again."),v(null)}finally{s(!1)}},q=Q=>{E({_id:Q._id,fullName:Q.fullName,email:Q.email,role:Q.role,password:""}),w(!0)},H=Q=>new Date(Q).toLocaleDateString(),oe=e.filter(Q=>{const O=Q.fullName.toLowerCase().includes(c.toLowerCase())||Q.email.toLowerCase().includes(c.toLowerCase()),W=f===""||Q.role===f;return O&&W});return a.jsxs(ur,{children:[a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),a.jsx("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Add New User"})]}),i&&a.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:i}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Users"}),a.jsx("input",{type:"text",id:"search",placeholder:"Search by name or email",value:c,onChange:Q=>d(Q.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"roleFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Role"}),a.jsxs("select",{id:"roleFilter",value:f,onChange:Q=>h(Q.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Roles"}),a.jsx("option",{value:"Sales Person",children:"Sales Person"}),a.jsx("option",{value:"Lead Person",children:"Lead Person"}),a.jsx("option",{value:"Manager",children:"Manager"}),a.jsx("option",{value:"Admin",children:"Admin"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{d(""),h("")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition",children:"Clear Filters"})})]})}),n?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:oe.length===0?a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No users found. Try adjusting your filters."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:oe.map(Q=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 flex-shrink-0 bg-gray-200 rounded-full flex items-center justify-center text-gray-500",children:Q.fullName.charAt(0).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Q.fullName}),a.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",Q._id]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:Q.email})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${Q.role==="Admin"?"bg-purple-100 text-purple-800":Q.role==="Manager"?"bg-blue-100 text-blue-800":Q.role==="Lead Person"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Q.role})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:H(Q.createdAt)}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[Q._id!==t.id&&a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>q(Q),className:"text-blue-600 hover:text-blue-900 px-2 py-1",children:"Edit"}),a.jsx("button",{onClick:()=>v(Q),className:"text-red-600 hover:text-red-900 px-2 py-1",children:"Delete"})]}),Q._id===t.id&&a.jsx("span",{className:"text-gray-500",children:"Current User"})]})]},Q._id))})]})})})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center bg-blue-600 text-white px-6 py-4 rounded-t-lg",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Add New User"}),a.jsx("button",{onClick:()=>g(!1),className:"text-white hover:text-gray-200 focus:outline-none",children:""})]}),a.jsxs("form",{onSubmit:P,className:"px-6 py-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",id:"fullName",name:"fullName",value:j.fullName,onChange:M,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:j.email,onChange:M,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsx("input",{type:"password",id:"password",name:"password",value:j.password,onChange:M,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,minLength:6}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{id:"role",name:"role",value:j.role,onChange:M,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[a.jsx("option",{value:"Sales Person",children:"Sales Person"}),a.jsx("option",{value:"Lead Person",children:"Lead Person"}),a.jsx("option",{value:"Manager",children:"Manager"}),a.jsx("option",{value:"Admin",children:"Admin"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Note: Only admins can create admin users. New admin accounts will require approval."})]}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Create User"})]})]})]})}),x&&C&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center bg-blue-600 text-white px-6 py-4 rounded-t-lg",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Edit User"}),a.jsx("button",{onClick:()=>w(!1),className:"text-white hover:text-gray-200 focus:outline-none",children:""})]}),a.jsxs("form",{onSubmit:I,className:"px-6 py-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"editFullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",id:"editFullName",name:"fullName",value:C.fullName,onChange:_,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"editEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",id:"editEmail",name:"email",value:C.email,onChange:_,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"editPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsx("input",{type:"password",id:"editPassword",name:"password",value:C.password,onChange:_,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Leave blank to keep current password",minLength:C.password?6:0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to keep current password. New password must be at least 6 characters."})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"editRole",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{id:"editRole",name:"role",value:C.role,onChange:_,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[a.jsx("option",{value:"Sales Person",children:"Sales Person"}),a.jsx("option",{value:"Lead Person",children:"Lead Person"}),a.jsx("option",{value:"Manager",children:"Manager"}),a.jsx("option",{value:"Admin",children:"Admin"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Update User"})]})]})]})}),b&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Confirm Delete"}),a.jsxs("p",{className:"mb-4",children:["Are you sure you want to delete user ",a.jsx("span",{className:"font-semibold",children:b.fullName}),"? This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>v(null),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{onClick:()=>K(b._id),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:"Delete"})]})]})})]})},sP=()=>{const{user:t}=$t(),[e,r]=A.useState([]),[n,s]=A.useState([]),[i,o]=A.useState(!0),[c,d]=A.useState(null),[f,h]=A.useState({search:"",status:"",country:"",course:"",source:"",dateFrom:"",dateTo:"",assignedTo:"",leadPerson:""}),[p,g]=A.useState({countries:[],courses:[],sources:[],salesPersons:[],leadPersons:[]}),x=["New","Contacted","Qualified","Lost","Converted","Introduction","Acknowledgement","Question","Future Promise","Payment","Analysis"];A.useEffect(()=>{w(),b()},[]),A.useEffect(()=>{e.length>0&&(j(),v())},[e,f]);const w=async()=>{try{o(!0);const T=await _n.getAll();T.data.success?(r(T.data.data),s(T.data.data),d(null)):d("Failed to load leads")}catch(T){console.error("Error fetching leads:",T),d("Failed to load leads. Please try again.")}finally{o(!1)}},b=async()=>{try{const T=await cr.getUsers("Sales Person"),M=await cr.getUsers("Lead Person");g(_=>({..._,salesPersons:T.data.data||[],leadPersons:M.data.data||[]}))}catch(T){console.error("Error fetching user options:",T)}},v=()=>{const T=[...new Set(e.map(P=>P.country).filter(Boolean))],M=[...new Set(e.map(P=>P.course).filter(Boolean))],_=[...new Set(e.map(P=>P.source).filter(Boolean))];g(P=>({...P,countries:T,courses:M,sources:_}))},C=T=>{const{name:M,value:_}=T.target;h(P=>({...P,[M]:_}))},E=()=>{h({search:"",status:"",country:"",course:"",source:"",dateFrom:"",dateTo:"",assignedTo:"",leadPerson:""})},j=()=>{let T=[...e];if(f.search){const M=f.search.toLowerCase();T=T.filter(_=>_.name&&_.name.toLowerCase().includes(M)||_.email&&_.email.toLowerCase().includes(M)||_.phone&&_.phone.includes(M)||_.pseudoId&&_.pseudoId.toLowerCase().includes(M))}if(f.status&&(T=T.filter(M=>M.status===f.status)),f.country&&(T=T.filter(M=>M.country===f.country)),f.course&&(T=T.filter(M=>M.course===f.course)),f.source&&(T=T.filter(M=>M.source===f.source)),f.dateFrom){const M=new Date(f.dateFrom);T=T.filter(_=>new Date(_.createdAt)>=M)}if(f.dateTo){const M=new Date(f.dateTo);M.setHours(23,59,59,999),T=T.filter(_=>new Date(_.createdAt)<=M)}f.assignedTo&&(T=T.filter(M=>M.assignedTo&&M.assignedTo._id===f.assignedTo)),f.leadPerson&&(T=T.filter(M=>M.leadPerson&&M.leadPerson._id===f.leadPerson)),s(T)},D=T=>new Date(T).toLocaleDateString();return a.jsx(ur,{children:a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Admin Leads Management"}),a.jsx(wt,{to:"/leads",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Standard Leads View"})]}),c&&a.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:c}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium",children:"Advanced Filters"}),a.jsx("button",{onClick:E,className:"text-sm text-blue-600 hover:underline",children:"Reset Filters"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),a.jsx("input",{type:"text",id:"search",name:"search",placeholder:"Search name, email, phone...",value:f.search,onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{id:"status",name:"status",value:f.status,onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Statuses"}),x.map(T=>a.jsx("option",{value:T,children:T},T))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),a.jsxs("select",{id:"country",name:"country",value:f.country,onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Countries"}),p.countries.map(T=>a.jsx("option",{value:T,children:T},T))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),a.jsxs("select",{id:"course",name:"course",value:f.course,onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Courses"}),p.courses.map(T=>a.jsx("option",{value:T,children:T},T))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),a.jsxs("select",{id:"source",name:"source",value:f.source,onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Sources"}),p.sources.map(T=>a.jsx("option",{value:T,children:T},T))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dateFrom",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),a.jsx("input",{type:"date",id:"dateFrom",name:"dateFrom",value:f.dateFrom,onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dateTo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),a.jsx("input",{type:"date",id:"dateTo",name:"dateTo",value:f.dateTo,onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"assignedTo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned To"}),a.jsxs("select",{id:"assignedTo",name:"assignedTo",value:f.assignedTo,onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Sales Persons"}),p.salesPersons.map(T=>a.jsx("option",{value:T._id,children:T.fullName},T._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"leadPerson",className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Person"}),a.jsxs("select",{id:"leadPerson",name:"leadPerson",value:f.leadPerson,onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Lead Persons"}),p.leadPersons.map(T=>a.jsx("option",{value:T._id,children:T.fullName},T._id))]})]})]})]}),i?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center",children:[a.jsxs("h3",{className:"text-lg font-medium",children:[n.length," Leads Found"]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing filtered results from a total of ",e.length," leads"]})]}),n.length===0?a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No leads found matching your filters. Try adjusting your criteria."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Country"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead By"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(T=>{var M;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[T.name,T.isRepeatCustomer&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",title:`Repeat customer! Previous courses: ${((M=T.previousCourses)==null?void 0:M.join(", "))||"None"}`,children:"Repeat"})]}),a.jsx("div",{className:"text-sm text-gray-500",children:T.pseudoId})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:T.email}),a.jsxs("div",{className:"text-sm text-gray-500",children:[T.countryCode," ",T.phone]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:T.course})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                            ${T.status==="Introduction"?"bg-blue-100 text-blue-800":T.status==="Acknowledgement"?"bg-yellow-100 text-yellow-800":T.status==="Question"?"bg-purple-100 text-purple-800":T.status==="Future Promise"?"bg-red-100 text-red-800":T.status==="Payment"?"bg-green-100 text-green-800":(T.status==="Analysis","bg-gray-100 text-gray-800")}
                          `,children:T.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.country}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.assignedTo?T.assignedTo.fullName:"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.leadPerson?T.leadPerson.fullName:"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D(T.createdAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx(wt,{to:`/leads#${T._id}`,className:"text-blue-600 hover:text-blue-900 mr-3",children:"View"})})]},T._id)})})]})})]})]})})},aP=()=>{const{user:t}=$t(),[e,r]=A.useState("leads"),[n,s]=A.useState(!1),[i,o]=A.useState(0),[c,d]=A.useState(null),[f,h]=A.useState(null),[p,g]=A.useState(null),[x,w]=A.useState(null);if((t==null?void 0:t.role)!=="Admin")return a.jsx(ur,{children:a.jsx("div",{className:"container mx-auto p-6",children:a.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:"Access denied. Only administrators can access this page."})})});const b=M=>{const _=M.target.files[0];_&&_.type==="text/csv"?h(_):(lt.error("Please upload a valid CSV file"),M.target.value=null)},v=M=>{const _=M.target.files[0];_&&_.type==="text/csv"?g(_):(lt.error("Please upload a valid CSV file"),M.target.value=null)},C=M=>{const _=M.target.files[0];_&&_.type==="text/csv"?w(_):(lt.error("Please upload a valid CSV file"),M.target.value=null)},E=async M=>new Promise((_,P)=>{const I=new FileReader;I.onload=K=>{try{const H=K.target.result.split(`
`),oe=H[0].split(",").map(O=>O.trim()),Q=[];for(let O=1;O<H.length;O++){if(H[O].trim()==="")continue;const W=[];let ne="",X=!1;for(let ae of H[O])ae==='"'?X=!X:ae===","&&!X?(W.push(ne),ne=""):ne+=ae;W.push(ne);const Z={};oe.forEach((ae,Y)=>{Y<W.length&&(Z[ae]=W[Y].replace(/^"|"$/g,"").trim())}),Q.push(Z)}_(Q)}catch(q){P(q)}},I.onerror=K=>P(K),I.readAsText(M)}),j=async()=>{var M,_;if(!f){lt.error("Please select a CSV file to import");return}s(!0),o(10),d(null);try{const P=await E(f);if(o(50),P.length===0){lt.error("No data found in the CSV file"),s(!1),o(0);return}const I=await _n.importLeads(P);o(100),d({total:P.length,imported:I.data.count,errors:P.length-I.data.count}),lt.success(`Successfully imported ${I.data.count} leads`)}catch(P){console.error("Import error:",P),lt.error(((_=(M=P.response)==null?void 0:M.data)==null?void 0:_.message)||"Failed to import leads")}finally{s(!1)}},D=async()=>{var M,_;if(!p){lt.error("Please select a CSV file to import");return}s(!0),o(10),d(null);try{const P=await E(p);if(o(50),P.length===0){lt.error("No data found in the CSV file"),s(!1),o(0);return}const I=await Kr.importSales(P);o(100),d({total:P.length,imported:I.data.count,errors:I.data.errorCount||0,errorDetails:I.data.errors}),lt.success(`Successfully imported ${I.data.count} sales`)}catch(P){console.error("Import error:",P),lt.error(((_=(M=P.response)==null?void 0:M.data)==null?void 0:_.message)||"Failed to import sales")}finally{s(!1)}},T=async()=>{var M,_;if(!x){lt.error("Please select a CSV file to import");return}s(!0),o(10),d(null);try{const P=await E(x);if(o(50),P.length===0){lt.error("No data found in the CSV file"),s(!1),o(0);return}const I=P.map(q=>({name:q.Name||q["Full Name"]||q["Your name"],email:q.Email||q["Email Address"]||q["Your email"],phone:q.Phone||q["Phone Number"]||q.Mobile,countryCode:q["Country Code"]||"+1",country:q.Country||"Unknown",course:q.Course||q.Program||q.Interest||"General Inquiry",source:"Google Forms",sourceLink:q["Form URL"]||"",remarks:q.Comments||q.Message||""})),K=await _n.importLeads(I);o(100),d({total:I.length,imported:K.data.count,errors:I.length-K.data.count}),lt.success(`Successfully imported ${K.data.count} leads from Google Forms`)}catch(P){console.error("Import error:",P),lt.error(((_=(M=P.response)==null?void 0:M.data)==null?void 0:_.message)||"Failed to import Google Forms data")}finally{s(!1)}};return a.jsx(ur,{children:a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsx("h1",{className:"text-3xl font-bold",children:"Data Import"})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex -mb-px",children:[a.jsx("button",{onClick:()=>r("leads"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${e==="leads"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Import Leads"}),a.jsx("button",{onClick:()=>r("sales"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${e==="sales"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Import Sales"}),a.jsx("button",{onClick:()=>r("google-forms"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${e==="google-forms"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Import Google Forms"})]})}),a.jsxs("div",{className:"p-6",children:[e==="leads"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Leads from CSV"}),a.jsx("p",{className:"mb-4 text-gray-600",children:"Upload a CSV file exported from Google Sheets containing lead information. Make sure your file has headers for: Name, Email, Phone, Country, Course, and other lead properties. For dates, you can use either YYYY-MM-DD (e.g., 2025-04-15) or DD-MM-YYYY (e.g., 15-04-2025) format."}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload CSV File"}),a.jsx("input",{type:"file",accept:".csv",onChange:b,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:n}),f&&a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Selected file: ",f.name]})]}),a.jsx("button",{onClick:j,disabled:n||!f,className:`px-4 py-2 rounded-md text-white ${n||!f?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition`,children:n?"Importing...":"Import Leads"})]}),e==="sales"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Sales from CSV"}),a.jsx("p",{className:"mb-4 text-gray-600",children:"Upload a CSV file exported from Google Sheets containing sales information. Make sure your file has headers for: Email or Phone (to identify the lead), Amount, Product, Status, and other sales properties."}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload CSV File"}),a.jsx("input",{type:"file",accept:".csv",onChange:v,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:n}),p&&a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Selected file: ",p.name]})]}),a.jsx("button",{onClick:D,disabled:n||!p,className:`px-4 py-2 rounded-md text-white ${n||!p?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition`,children:n?"Importing...":"Import Sales"})]}),e==="google-forms"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Google Forms Responses"}),a.jsx("p",{className:"mb-4 text-gray-600",children:"Upload a CSV file exported from Google Forms containing lead information. The system will try to map common Google Forms fields to the appropriate lead properties. For dates, you can use either YYYY-MM-DD (e.g., 2025-04-15) or DD-MM-YYYY (e.g., 15-04-2025) format."}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload CSV File"}),a.jsx("input",{type:"file",accept:".csv",onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:n}),x&&a.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Selected file: ",x.name]})]}),a.jsx("button",{onClick:T,disabled:n||!x,className:`px-4 py-2 rounded-md text-white ${n||!x?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition`,children:n?"Importing...":"Import Google Forms Data"})]}),n&&a.jsx("div",{className:"mt-6",children:a.jsxs("div",{className:"relative pt-1",children:[a.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[a.jsx("div",{children:a.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200",children:"Progress"})}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-xs font-semibold inline-block text-blue-600",children:[i,"%"]})})]}),a.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200",children:a.jsx("div",{style:{width:`${i}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 transition-all duration-500"})})]})}),c&&a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Import Summary"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Records"}),a.jsx("p",{className:"text-xl font-bold",children:c.total})]}),a.jsxs("div",{className:"bg-green-50 p-3 rounded-md",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Successfully Imported"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:c.imported})]}),a.jsxs("div",{className:"bg-red-50 p-3 rounded-md",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Failed Records"}),a.jsx("p",{className:"text-xl font-bold text-red-600",children:c.errors})]})]}),c.errorDetails&&c.errorDetails.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-md font-medium mb-2",children:"Error Details"}),a.jsx("div",{className:"max-h-40 overflow-y-auto bg-white p-2 rounded border border-gray-300",children:a.jsxs("ul",{className:"text-sm text-gray-700",children:[c.errorDetails.slice(0,10).map((M,_)=>a.jsx("li",{className:"mb-1 pb-1 border-b border-gray-200",children:M.message},_)),c.errorDetails.length>10&&a.jsxs("li",{className:"text-gray-500 italic",children:["...and ",c.errorDetails.length-10," more errors"]})]})})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Instructions"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-md font-semibold mb-2",children:"Required Fields"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium text-blue-600",children:"Leads Sheet:"}),a.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-600",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Name"})," - Lead's full name"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Email"})," - Lead's email address"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Phone"})," - Lead's phone number"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"CountryCode"})," - Phone country code (e.g., +1, +91)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Country"})," - Lead's country"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Course"})," - Course/product of interest"]}),a.jsx("li",{children:"Optional: PseudoId, Company, Client, Status, Source, SourceLink, Remarks, Feedback"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium text-blue-600",children:"Sales Sheet:"}),a.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-600",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Email"})," or ",a.jsx("strong",{children:"Phone"})," - To identify the associated lead"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Amount"})," - Sale amount"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Product"})," - Product/service sold"]}),a.jsx("li",{children:"Optional: Token, Status (Pending/Closed), Notes"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-600",children:"Google Forms:"}),a.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-600",children:[a.jsx("li",{children:"The system automatically maps common Google Forms field names"}),a.jsx("li",{children:"Ensure your form includes name, email, phone, and course interest fields"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-semibold mb-2",children:"Export Instructions"}),a.jsxs("ol",{className:"list-decimal ml-5 text-sm text-gray-600",children:[a.jsx("li",{children:"Open your Google Sheet"}),a.jsxs("li",{children:["Go to ",a.jsx("strong",{children:"File"})," > ",a.jsx("strong",{children:"Download"})," > ",a.jsx("strong",{children:"Comma-separated values (.csv)"})]}),a.jsx("li",{children:"Save the file to your computer"}),a.jsx("li",{children:"Upload the CSV file using the form above"})]})]})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var lh={};lh.version="0.18.5";var yS=1252,iP=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],vS=function(t){iP.indexOf(t)!=-1&&(yS=t)};function oP(){vS(1252)}var Nu=function(t){vS(t)};function lP(){Nu(1200),oP()}var df=function(e){return String.fromCharCode(e)},R2=function(e){return String.fromCharCode(e)},F2,gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Su(t){for(var e="",r=0,n=0,s=0,i=0,o=0,c=0,d=0,f=0;f<t.length;)r=t.charCodeAt(f++),i=r>>2,n=t.charCodeAt(f++),o=(r&3)<<4|n>>4,s=t.charCodeAt(f++),c=(n&15)<<2|s>>6,d=s&63,isNaN(n)?c=d=64:isNaN(s)&&(d=64),e+=gi.charAt(i)+gi.charAt(o)+gi.charAt(c)+gi.charAt(d);return e}function Oa(t){var e="",r=0,n=0,s=0,i=0,o=0,c=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)i=gi.indexOf(t.charAt(f++)),o=gi.indexOf(t.charAt(f++)),r=i<<2|o>>4,e+=String.fromCharCode(r),c=gi.indexOf(t.charAt(f++)),n=(o&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(n)),d=gi.indexOf(t.charAt(f++)),s=(c&3)<<6|d,d!==64&&(e+=String.fromCharCode(s));return e}var Wt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ua=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Co(t){return Wt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function O2(t){return Wt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ys=function(e){return Wt?Ua(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function e0(t){if(typeof ArrayBuffer>"u")return Ys(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function qu(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function cP(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var on=Wt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ua(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),s=0;for(e=0,r=0;e<t.length;r+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function uP(t){for(var e=[],r=0,n=t.length+250,s=Co(t.length+255),i=0;i<t.length;++i){var o=t.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=t.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|c>>6&15|(o&3)<<4,s[r++]=128|c&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>n&&(e.push(s.slice(0,r)),r=0,s=Co(65535),n=65530)}return e.push(s.slice(0,r)),on(e)}var tu=/\u0000/g,ff=/[\u0001-\u0006]/g;function Tl(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Ks(t,e){var r=""+t;return r.length>=e?r:_r("0",e-r.length)+r}function ix(t,e){var r=""+t;return r.length>=e?r:_r(" ",e-r.length)+r}function ch(t,e){var r=""+t;return r.length>=e?r:r+_r(" ",e-r.length)}function dP(t,e){var r=""+Math.round(t);return r.length>=e?r:_r("0",e-r.length)+r}function fP(t,e){var r=""+t;return r.length>=e?r:_r("0",e-r.length)+r}var M2=Math.pow(2,32);function ul(t,e){if(t>M2||t<-M2)return dP(t,e);var r=Math.round(t);return fP(r,e)}function uh(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var L2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],np=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function hP(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Cr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},I2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},mP={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function dh(t,e,r){for(var n=t<0?-1:1,s=t*n,i=0,o=1,c=0,d=1,f=0,h=0,p=Math.floor(s);f<e&&(p=Math.floor(s),c=p*o+i,h=p*f+d,!(s-p<5e-8));)s=1/(s-p),i=o,o=c,d=f,f=h;if(h>e&&(f>e?(h=d,c=i):(h=f,c=o)),!r)return[0,n*c,h];var g=Math.floor(n*c/h);return[g,n*c-g*h,h]}function hf(t,e,r){if(t>2958465||t<0)return null;var n=t|0,s=Math.floor(86400*(t-n)),i=0,o=[],c={D:n,T:s,u:86400*(t-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++n,++c.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),o=[d.getFullYear(),d.getMonth()+1,d.getDate()],i=d.getDay(),n<60&&(i=(i+6)%7),r&&(i=wP(d,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=i,c}var bS=new Date(1899,11,31,0,0,0),pP=bS.getTime(),gP=new Date(1900,2,1,0,0,0);function wS(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=gP&&(r+=24*60*60*1e3),(r-(pP+(t.getTimezoneOffset()-bS.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function ox(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function xP(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function yP(t){var e=t<0?12:11,r=ox(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function vP(t){var e=ox(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function bP(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=yP(t):e===10?r=t.toFixed(10).substr(0,12):r=vP(t),ox(xP(r.toUpperCase()))}function cg(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):bP(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Ci(14,wS(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function wP(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function NP(t,e,r,n){var s="",i=0,o=0,c=r.y,d,f=0;switch(t){case 98:c=r.y+543;case 121:switch(e.length){case 1:case 2:d=c%100,f=2;break;default:d=c%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:d=r.m,f=e.length;break;case 3:return np[r.m-1][1];case 5:return np[r.m-1][0];default:return np[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=r.d,f=e.length;break;case 3:return L2[r.q][0];default:return L2[r.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(r.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=r.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=r.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Ks(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),e==="s"?i===0?"0":""+i/o:(s=Ks(i,2+n),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:d=c,f=1;break}var h=f>0?Ks(d,f):"";return h}function xi(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var NS=/%/g;function SP(t,e,r){var n=e.replace(NS,""),s=e.length-n.length;return Aa(t,n,r*Math.pow(10,2*s))+_r("%",s)}function _P(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Aa(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function SS(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+SS(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(e/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,h){return d+f+h.substr(0,(s+i)%s)+"."+h.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var _S=/# (\?+)( ?)\/( ?)(\d+)/;function CP(t,e,r){var n=parseInt(t[4],10),s=Math.round(e*n),i=Math.floor(s/n),o=s-i*n,c=n;return r+(i===0?"":""+i)+" "+(o===0?_r(" ",t[1].length+1+t[4].length):ix(o,t[1].length)+t[2]+"/"+t[3]+Ks(c,t[4].length))}function jP(t,e,r){return r+(e===0?"":""+e)+_r(" ",t[1].length+2+t[4].length)}var CS=/^#*0*\.([0#]+)/,jS=/\).*[0#]/,TS=/\(###\) ###\\?-####/;function Pn(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function B2(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function U2(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function TP(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function EP(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ns(t,e,r){if(t.charCodeAt(0)===40&&!e.match(jS)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ns("n",n,r):"("+Ns("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return _P(t,e,r);if(e.indexOf("%")!==-1)return SP(t,e,r);if(e.indexOf("E")!==-1)return SS(e,r);if(e.charCodeAt(0)===36)return"$"+Ns(t,e.substr(e.charAt(1)==" "?2:1),r);var s,i,o,c,d=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+ul(d,e.length);if(e.match(/^[#?]+$/))return s=ul(r,0),s==="0"&&(s=""),s.length>e.length?s:Pn(e.substr(0,e.length-s.length))+s;if(i=e.match(_S))return CP(i,d,f);if(e.match(/^#+0+$/))return f+ul(d,e.length-e.indexOf("0"));if(i=e.match(CS))return s=B2(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Pn(i[1])).replace(/\.$/,"."+Pn(i[1])).replace(/\.(\d*)$/,function(w,b){return"."+b+_r("0",Pn(i[1]).length-b.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return f+B2(d,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return f+xi(ul(d,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ns(t,e,-r):xi(""+(Math.floor(r)+TP(r,i[1].length)))+"."+Ks(U2(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return Ns(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Tl(Ns(t,e.replace(/[\\-]/g,""),r)),o=0,Tl(Tl(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(e.match(TS))return s=Ns(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=dh(d,Math.pow(10,o)-1,!1),s=""+f,h=Aa("n",i[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+i[2]+"/"+i[3],h=ch(c[2],o),h.length<i[4].length&&(h=Pn(i[4].substr(i[4].length-h.length))+h),s+=h,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=dh(d,Math.pow(10,o)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?ix(c[1],o)+i[2]+"/"+i[3]+ch(c[2],o):_r(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=ul(r,0),e.length<=s.length?s:Pn(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var p=e.indexOf(".")-o,g=e.length-s.length-p;return Pn(e.substr(0,p)+s+e.substr(e.length-g))}if(i=e.match(/^00,000\.([#0]*0)$/))return o=U2(r,i[1].length),r<0?"-"+Ns(t,e,-r):xi(EP(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Ks(0,3-w.length):"")+w})+"."+Ks(o,i[1].length);switch(e){case"###,##0.00":return Ns(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=xi(ul(d,0));return x!=="0"?f+x:"";case"###,###.00":return Ns(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ns(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function kP(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Aa(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function AP(t,e,r){var n=e.replace(NS,""),s=e.length-n.length;return Aa(t,n,r*Math.pow(10,2*s))+_r("%",s)}function ES(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+ES(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(e/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,h){return d+f+h.substr(0,(s+i)%s)+"."+h.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function aa(t,e,r){if(t.charCodeAt(0)===40&&!e.match(jS)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?aa("n",n,r):"("+aa("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return kP(t,e,r);if(e.indexOf("%")!==-1)return AP(t,e,r);if(e.indexOf("E")!==-1)return ES(e,r);if(e.charCodeAt(0)===36)return"$"+aa(t,e.substr(e.charAt(1)==" "?2:1),r);var s,i,o,c,d=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+Ks(d,e.length);if(e.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>e.length?s:Pn(e.substr(0,e.length-s.length))+s;if(i=e.match(_S))return jP(i,d,f);if(e.match(/^#+0+$/))return f+Ks(d,e.length-e.indexOf("0"));if(i=e.match(CS))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Pn(i[1])).replace(/\.$/,"."+Pn(i[1])),s=s.replace(/\.(\d*)$/,function(w,b){return"."+b+_r("0",Pn(i[1]).length-b.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return f+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return f+xi(""+d);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+aa(t,e,-r):xi(""+r)+"."+_r("0",i[1].length);if(i=e.match(/^#,#*,#0/))return aa(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Tl(aa(t,e.replace(/[\\-]/g,""),r)),o=0,Tl(Tl(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(e.match(TS))return s=aa(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=dh(d,Math.pow(10,o)-1,!1),s=""+f,h=Aa("n",i[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+i[2]+"/"+i[3],h=ch(c[2],o),h.length<i[4].length&&(h=Pn(i[4].substr(i[4].length-h.length))+h),s+=h,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=dh(d,Math.pow(10,o)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?ix(c[1],o)+i[2]+"/"+i[3]+ch(c[2],o):_r(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=""+r,e.length<=s.length?s:Pn(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var p=e.indexOf(".")-o,g=e.length-s.length-p;return Pn(e.substr(0,p)+s+e.substr(e.length-g))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+aa(t,e,-r):xi(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Ks(0,3-w.length):"")+w})+"."+Ks(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var x=xi(""+d);return x!=="0"?f+x:"";default:if(e.match(/\.[0#?]*$/))return aa(t,e.slice(0,e.lastIndexOf(".")),r)+Pn(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Aa(t,e,r){return(r|0)===r?aa(t,e,r):Ns(t,e,r)}function PP(t){for(var e=[],r=!1,n=0,s=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(s,n-s),s=n+1}if(e[e.length]=t.substr(s),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var kS=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function AS(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":uh(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(kS))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function DP(t,e,r,n){for(var s=[],i="",o=0,c="",d="t",f,h,p,g="H";o<t.length;)switch(c=t.charAt(o)){case"G":if(!uh(t,o))throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(p=t.charCodeAt(++o))!==34&&o<t.length;)i+=String.fromCharCode(p);s[s.length]={t:"t",v:i},++o;break;case"\\":var x=t.charAt(++o),w=x==="("||x===")"?x:"t";s[s.length]={t:w,v:x},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(f==null&&(f=hf(e,r,t.charAt(o+1)==="2"),f==null))return"";s[s.length]={t:"X",v:t.substr(o,2)},d=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=hf(e,r),f==null))return"";for(i=c;++o<t.length&&t.charAt(o).toLowerCase()===c;)i+=c;c==="m"&&d.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=g),s[s.length]={t:c,v:i},d=c;break;case"A":case"a":case"":var b={t:c,v:c};if(f==null&&(f=hf(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(f!=null&&(b.v=f.H>=12?"P":"A"),b.t="T",g="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(f!=null&&(b.v=f.H>=12?"PM":"AM"),b.t="T",o+=5,g="h"):t.substr(o,5).toUpperCase()==="/"?(f!=null&&(b.v=f.H>=12?"":""),b.t="T",o+=5,g="h"):(b.t="t",++o),f==null&&b.t==="T")return"";s[s.length]=b,d=c;break;case"[":for(i=c;t.charAt(o++)!=="]"&&o<t.length;)i+=t.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(kS)){if(f==null&&(f=hf(e,r),f==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},d=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",AS(t)||(s[s.length]={t:"t",v:i}));break;case".":if(f!=null){for(i=c;++o<t.length&&(c=t.charAt(o))==="0";)i+=c;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=c;++o<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(o))>-1;)i+=c;s[s.length]={t:"n",v:i};break;case"?":for(i=c;t.charAt(++o)===c;)i+=c;s[s.length]={t:c,v:i},d=c;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:n===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=c;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)i+=t.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:c,v:c},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"t",v:c},++o;break}var v=0,C=0,E;for(o=s.length-1,d="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=g,d="h",v<1&&(v=1);break;case"s":(E=s[o].v.match(/\.0+$/))&&(C=Math.max(C,E[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":d=s[o].t;break;case"m":d==="s"&&(s[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[o].v.match(/[Hh]/)&&(v=1),v<2&&s[o].v.match(/[Mm]/)&&(v=2),v<3&&s[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var j="",D;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=NP(s[o].t.charCodeAt(0),s[o].v,f,C),s[o].t="t";break;case"n":case"?":for(D=o+1;s[D]!=null&&((c=s[D].t)==="?"||c==="D"||(c===" "||c==="t")&&s[D+1]!=null&&(s[D+1].t==="?"||s[D+1].t==="t"&&s[D+1].v==="/")||s[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[D].v==="/"||s[D].v===" "&&s[D+1]!=null&&s[D+1].t=="?"));)s[o].v+=s[D].v,s[D]={v:"",t:";"},++D;j+=s[o].v,o=D-1;break;case"G":s[o].t="t",s[o].v=cg(e,r);break}var T="",M,_;if(j.length>0){j.charCodeAt(0)==40?(M=e<0&&j.charCodeAt(0)===45?-e:e,_=Aa("n",j,M)):(M=e<0&&n>1?-e:e,_=Aa("n",j,M),M<0&&s[0]&&s[0].t=="t"&&(_=_.substr(1),s[0].v="-"+s[0].v)),D=_.length-1;var P=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){P=o;break}var I=s.length;if(P===s.length&&_.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(D>=s[o].v.length-1?(D-=s[o].v.length,s[o].v=_.substr(D+1,s[o].v.length)):D<0?s[o].v="":(s[o].v=_.substr(0,D+1),D=-1),s[o].t="t",I=o);D>=0&&I<s.length&&(s[I].v=_.substr(0,D+1)+s[I].v)}else if(P!==s.length&&_.indexOf("E")===-1){for(D=_.indexOf(".")-1,o=P;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(h=s[o].v.indexOf(".")>-1&&o===P?s[o].v.indexOf(".")-1:s[o].v.length-1,T=s[o].v.substr(h+1);h>=0;--h)D>=0&&(s[o].v.charAt(h)==="0"||s[o].v.charAt(h)==="#")&&(T=_.charAt(D--)+T);s[o].v=T,s[o].t="t",I=o}for(D>=0&&I<s.length&&(s[I].v=_.substr(0,D+1)+s[I].v),D=_.indexOf(".")+1,o=P;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==P)){for(h=s[o].v.indexOf(".")>-1&&o===P?s[o].v.indexOf(".")+1:0,T=s[o].v.substr(0,h);h<s[o].v.length;++h)D<_.length&&(T+=_.charAt(D++));s[o].v=T,s[o].t="t",I=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(M=n>1&&e<0&&o>0&&s[o-1].v==="-"?-e:e,s[o].v=Aa(s[o].t,s[o].v,M),s[o].t="t");var K="";for(o=0;o!==s.length;++o)s[o]!=null&&(K+=s[o].v);return K}var z2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function V2(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function RP(t,e){var r=PP(t),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(z2),c=r[1].match(z2);return V2(e,o)?[n,r[0]]:V2(e,c)?[n,r[1]]:[n,r[o!=null&&c!=null?2:1]]}return[n,i]}function Ci(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Cr)[t],n==null&&(n=r.table&&r.table[I2[t]]||Cr[I2[t]]),n==null&&(n=mP[t]||"General");break}if(uh(n,0))return cg(e,r);e instanceof Date&&(e=wS(e,r.date1904));var s=RP(n,e);if(uh(s[1]))return cg(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return DP(s[1],e,r,s[0])}function PS(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Cr[r]==null){e<0&&(e=r);continue}if(Cr[r]==t){e=r;break}}e<0&&(e=391)}return Cr[e]=t,e}function t0(t){for(var e=0;e!=392;++e)t[e]!==void 0&&PS(t[e],e)}function r0(){Cr=hP()}var DS=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function FP(t){var e=typeof t=="number"?Cr[t]:t;return e=e.replace(DS,"(\\d+)"),new RegExp("^"+e+"$")}function OP(t,e,r){var n=-1,s=-1,i=-1,o=-1,c=-1,d=-1;(e.match(DS)||[]).forEach(function(p,g){var x=parseInt(r[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=x;break;case"d":i=x;break;case"h":o=x;break;case"s":d=x;break;case"m":o>=0?c=x:s=x;break}}),d>=0&&c==-1&&s>=0&&(c=s,s=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return o==-1&&c==-1&&d==-1?f:n==-1&&s==-1&&i==-1?h:f+"T"+h}var MP=function(){var t={};t.version="1.2.0";function e(){for(var _=0,P=new Array(256),I=0;I!=256;++I)_=I,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,P[I]=_;return typeof Int32Array<"u"?new Int32Array(P):P}var r=e();function n(_){var P=0,I=0,K=0,q=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(K=0;K!=256;++K)q[K]=_[K];for(K=0;K!=256;++K)for(I=_[K],P=256+K;P<4096;P+=256)I=q[P]=I>>>8^_[I&255];var H=[];for(K=1;K!=16;++K)H[K-1]=typeof Int32Array<"u"?q.subarray(K*256,K*256+256):q.slice(K*256,K*256+256);return H}var s=n(r),i=s[0],o=s[1],c=s[2],d=s[3],f=s[4],h=s[5],p=s[6],g=s[7],x=s[8],w=s[9],b=s[10],v=s[11],C=s[12],E=s[13],j=s[14];function D(_,P){for(var I=P^-1,K=0,q=_.length;K<q;)I=I>>>8^r[(I^_.charCodeAt(K++))&255];return~I}function T(_,P){for(var I=P^-1,K=_.length-15,q=0;q<K;)I=j[_[q++]^I&255]^E[_[q++]^I>>8&255]^C[_[q++]^I>>16&255]^v[_[q++]^I>>>24]^b[_[q++]]^w[_[q++]]^x[_[q++]]^g[_[q++]]^p[_[q++]]^h[_[q++]]^f[_[q++]]^d[_[q++]]^c[_[q++]]^o[_[q++]]^i[_[q++]]^r[_[q++]];for(K+=15;q<K;)I=I>>>8^r[(I^_[q++])&255];return~I}function M(_,P){for(var I=P^-1,K=0,q=_.length,H=0,oe=0;K<q;)H=_.charCodeAt(K++),H<128?I=I>>>8^r[(I^H)&255]:H<2048?(I=I>>>8^r[(I^(192|H>>6&31))&255],I=I>>>8^r[(I^(128|H&63))&255]):H>=55296&&H<57344?(H=(H&1023)+64,oe=_.charCodeAt(K++)&1023,I=I>>>8^r[(I^(240|H>>8&7))&255],I=I>>>8^r[(I^(128|H>>2&63))&255],I=I>>>8^r[(I^(128|oe>>6&15|(H&3)<<4))&255],I=I>>>8^r[(I^(128|oe&63))&255]):(I=I>>>8^r[(I^(224|H>>12&15))&255],I=I>>>8^r[(I^(128|H>>6&63))&255],I=I>>>8^r[(I^(128|H&63))&255]);return~I}return t.table=r,t.bstr=D,t.buf=T,t.str=M,t}(),er=function(){var e={};e.version="1.2.1";function r(L,re){for(var G=L.split("/"),J=re.split("/"),te=0,se=0,xe=Math.min(G.length,J.length);te<xe;++te){if(se=G[te].length-J[te].length)return se;if(G[te]!=J[te])return G[te]<J[te]?-1:1}return G.length-J.length}function n(L){if(L.charAt(L.length-1)=="/")return L.slice(0,-1).indexOf("/")===-1?L:n(L.slice(0,-1));var re=L.lastIndexOf("/");return re===-1?L:L.slice(0,re+1)}function s(L){if(L.charAt(L.length-1)=="/")return s(L.slice(0,-1));var re=L.lastIndexOf("/");return re===-1?L:L.slice(re+1)}function i(L,re){typeof re=="string"&&(re=new Date(re));var G=re.getHours();G=G<<6|re.getMinutes(),G=G<<5|re.getSeconds()>>>1,L.write_shift(2,G);var J=re.getFullYear()-1980;J=J<<4|re.getMonth()+1,J=J<<5|re.getDate(),L.write_shift(2,J)}function o(L){var re=L.read_shift(2)&65535,G=L.read_shift(2)&65535,J=new Date,te=G&31;G>>>=5;var se=G&15;G>>>=4,J.setMilliseconds(0),J.setFullYear(G+1980),J.setMonth(se-1),J.setDate(te);var xe=re&31;re>>>=5;var Pe=re&63;return re>>>=6,J.setHours(re),J.setMinutes(Pe),J.setSeconds(xe<<1),J}function c(L){ls(L,0);for(var re={},G=0;L.l<=L.length-4;){var J=L.read_shift(2),te=L.read_shift(2),se=L.l+te,xe={};switch(J){case 21589:G=L.read_shift(1),G&1&&(xe.mtime=L.read_shift(4)),te>5&&(G&2&&(xe.atime=L.read_shift(4)),G&4&&(xe.ctime=L.read_shift(4))),xe.mtime&&(xe.mt=new Date(xe.mtime*1e3));break}L.l=se,re[J]=xe}return re}var d;function f(){return d||(d={})}function h(L,re){if(L[0]==80&&L[1]==75)return zr(L,re);if((L[0]|32)==109&&(L[1]|32)==105)return Zr(L,re);if(L.length<512)throw new Error("CFB file size "+L.length+" < 512");var G=3,J=512,te=0,se=0,xe=0,Pe=0,ve=0,be=[],Se=L.slice(0,512);ls(Se,0);var B=p(Se);switch(G=B[0],G){case 3:J=512;break;case 4:J=4096;break;case 0:if(B[1]==0)return zr(L,re);default:throw new Error("Major Version: Expected 3 or 4 saw "+G)}J!==512&&(Se=L.slice(0,J),ls(Se,28));var le=L.slice(0,J);g(Se,G);var pe=Se.read_shift(4,"i");if(G===3&&pe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+pe);Se.l+=4,xe=Se.read_shift(4,"i"),Se.l+=4,Se.chk("00100000","Mini Stream Cutoff Size: "),Pe=Se.read_shift(4,"i"),te=Se.read_shift(4,"i"),ve=Se.read_shift(4,"i"),se=Se.read_shift(4,"i");for(var me=-1,_e=0;_e<109&&(me=Se.read_shift(4,"i"),!(me<0));++_e)be[_e]=me;var Ie=x(L,J);v(ve,se,Ie,J,be);var et=E(Ie,xe,be,J);et[xe].name="!Directory",te>0&&Pe!==oe&&(et[Pe].name="!MiniFAT"),et[be[0]].name="!FAT",et.fat_addrs=be,et.ssz=J;var gt={},St=[],Rt=[],Et=[];j(xe,et,Ie,St,te,gt,Rt,Pe),w(Rt,Et,St),St.shift();var pr={FileIndex:Rt,FullPaths:Et};return re&&re.raw&&(pr.raw={header:le,sectors:Ie}),pr}function p(L){if(L[L.l]==80&&L[L.l+1]==75)return[0,0];L.chk(Q,"Header Signature: "),L.l+=16;var re=L.read_shift(2,"u");return[L.read_shift(2,"u"),re]}function g(L,re){var G=9;switch(L.l+=2,G=L.read_shift(2)){case 9:if(re!=3)throw new Error("Sector Shift: Expected 9 saw "+G);break;case 12:if(re!=4)throw new Error("Sector Shift: Expected 12 saw "+G);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+G)}L.chk("0600","Mini Sector Shift: "),L.chk("000000000000","Reserved: ")}function x(L,re){for(var G=Math.ceil(L.length/re)-1,J=[],te=1;te<G;++te)J[te-1]=L.slice(te*re,(te+1)*re);return J[G-1]=L.slice(G*re),J}function w(L,re,G){for(var J=0,te=0,se=0,xe=0,Pe=0,ve=G.length,be=[],Se=[];J<ve;++J)be[J]=Se[J]=J,re[J]=G[J];for(;Pe<Se.length;++Pe)J=Se[Pe],te=L[J].L,se=L[J].R,xe=L[J].C,be[J]===J&&(te!==-1&&be[te]!==te&&(be[J]=be[te]),se!==-1&&be[se]!==se&&(be[J]=be[se])),xe!==-1&&(be[xe]=J),te!==-1&&J!=be[J]&&(be[te]=be[J],Se.lastIndexOf(te)<Pe&&Se.push(te)),se!==-1&&J!=be[J]&&(be[se]=be[J],Se.lastIndexOf(se)<Pe&&Se.push(se));for(J=1;J<ve;++J)be[J]===J&&(se!==-1&&be[se]!==se?be[J]=be[se]:te!==-1&&be[te]!==te&&(be[J]=be[te]));for(J=1;J<ve;++J)if(L[J].type!==0){if(Pe=J,Pe!=be[Pe])do Pe=be[Pe],re[J]=re[Pe]+"/"+re[J];while(Pe!==0&&be[Pe]!==-1&&Pe!=be[Pe]);be[J]=-1}for(re[0]+="/",J=1;J<ve;++J)L[J].type!==2&&(re[J]+="/")}function b(L,re,G){for(var J=L.start,te=L.size,se=[],xe=J;G&&te>0&&xe>=0;)se.push(re.slice(xe*H,xe*H+H)),te-=H,xe=co(G,xe*4);return se.length===0?De(0):on(se).slice(0,L.size)}function v(L,re,G,J,te){var se=oe;if(L===oe){if(re!==0)throw new Error("DIFAT chain shorter than expected")}else if(L!==-1){var xe=G[L],Pe=(J>>>2)-1;if(!xe)return;for(var ve=0;ve<Pe&&(se=co(xe,ve*4))!==oe;++ve)te.push(se);v(co(xe,J-4),re-1,G,J,te)}}function C(L,re,G,J,te){var se=[],xe=[];te||(te=[]);var Pe=J-1,ve=0,be=0;for(ve=re;ve>=0;){te[ve]=!0,se[se.length]=ve,xe.push(L[ve]);var Se=G[Math.floor(ve*4/J)];if(be=ve*4&Pe,J<4+be)throw new Error("FAT boundary crossed: "+ve+" 4 "+J);if(!L[Se])break;ve=co(L[Se],be)}return{nodes:se,data:X2([xe])}}function E(L,re,G,J){var te=L.length,se=[],xe=[],Pe=[],ve=[],be=J-1,Se=0,B=0,le=0,pe=0;for(Se=0;Se<te;++Se)if(Pe=[],le=Se+re,le>=te&&(le-=te),!xe[le]){ve=[];var me=[];for(B=le;B>=0;){me[B]=!0,xe[B]=!0,Pe[Pe.length]=B,ve.push(L[B]);var _e=G[Math.floor(B*4/J)];if(pe=B*4&be,J<4+pe)throw new Error("FAT boundary crossed: "+B+" 4 "+J);if(!L[_e]||(B=co(L[_e],pe),me[B]))break}se[le]={nodes:Pe,data:X2([ve])}}return se}function j(L,re,G,J,te,se,xe,Pe){for(var ve=0,be=J.length?2:0,Se=re[L].data,B=0,le=0,pe;B<Se.length;B+=128){var me=Se.slice(B,B+128);ls(me,64),le=me.read_shift(2),pe=fx(me,0,le-be),J.push(pe);var _e={name:pe,type:me.read_shift(1),color:me.read_shift(1),L:me.read_shift(4,"i"),R:me.read_shift(4,"i"),C:me.read_shift(4,"i"),clsid:me.read_shift(16),state:me.read_shift(4,"i"),start:0,size:0},Ie=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);Ie!==0&&(_e.ct=D(me,me.l-8));var et=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);et!==0&&(_e.mt=D(me,me.l-8)),_e.start=me.read_shift(4,"i"),_e.size=me.read_shift(4,"i"),_e.size<0&&_e.start<0&&(_e.size=_e.type=0,_e.start=oe,_e.name=""),_e.type===5?(ve=_e.start,te>0&&ve!==oe&&(re[ve].name="!StreamData")):_e.size>=4096?(_e.storage="fat",re[_e.start]===void 0&&(re[_e.start]=C(G,_e.start,re.fat_addrs,re.ssz)),re[_e.start].name=_e.name,_e.content=re[_e.start].data.slice(0,_e.size)):(_e.storage="minifat",_e.size<0?_e.size=0:ve!==oe&&_e.start!==oe&&re[ve]&&(_e.content=b(_e,re[ve].data,(re[Pe]||{}).data))),_e.content&&ls(_e.content,0),se[pe]=_e,xe.push(_e)}}function D(L,re){return new Date((us(L,re+4)/1e7*Math.pow(2,32)+us(L,re)/1e7-11644473600)*1e3)}function T(L,re){return f(),h(d.readFileSync(L),re)}function M(L,re){var G=re&&re.type;switch(G||Wt&&Buffer.isBuffer(L)&&(G="buffer"),G||"base64"){case"file":return T(L,re);case"base64":return h(Ys(Oa(L)),re);case"binary":return h(Ys(L),re)}return h(L,re)}function _(L,re){var G=re||{},J=G.root||"Root Entry";if(L.FullPaths||(L.FullPaths=[]),L.FileIndex||(L.FileIndex=[]),L.FullPaths.length!==L.FileIndex.length)throw new Error("inconsistent CFB structure");L.FullPaths.length===0&&(L.FullPaths[0]=J+"/",L.FileIndex[0]={name:J,type:5}),G.CLSID&&(L.FileIndex[0].clsid=G.CLSID),P(L)}function P(L){var re="Sh33tJ5";if(!er.find(L,"/"+re)){var G=De(4);G[0]=55,G[1]=G[3]=50,G[2]=54,L.FileIndex.push({name:re,type:2,content:G,size:4,L:69,R:69,C:69}),L.FullPaths.push(L.FullPaths[0]+re),I(L)}}function I(L,re){_(L);for(var G=!1,J=!1,te=L.FullPaths.length-1;te>=0;--te){var se=L.FileIndex[te];switch(se.type){case 0:J?G=!0:(L.FileIndex.pop(),L.FullPaths.pop());break;case 1:case 2:case 5:J=!0,isNaN(se.R*se.L*se.C)&&(G=!0),se.R>-1&&se.L>-1&&se.R==se.L&&(G=!0);break;default:G=!0;break}}if(!(!G&&!re)){var xe=new Date(1987,1,19),Pe=0,ve=Object.create?Object.create(null):{},be=[];for(te=0;te<L.FullPaths.length;++te)ve[L.FullPaths[te]]=!0,L.FileIndex[te].type!==0&&be.push([L.FullPaths[te],L.FileIndex[te]]);for(te=0;te<be.length;++te){var Se=n(be[te][0]);J=ve[Se],J||(be.push([Se,{name:s(Se).replace("/",""),type:1,clsid:W,ct:xe,mt:xe,content:null}]),ve[Se]=!0)}for(be.sort(function(pe,me){return r(pe[0],me[0])}),L.FullPaths=[],L.FileIndex=[],te=0;te<be.length;++te)L.FullPaths[te]=be[te][0],L.FileIndex[te]=be[te][1];for(te=0;te<be.length;++te){var B=L.FileIndex[te],le=L.FullPaths[te];if(B.name=s(le).replace("/",""),B.L=B.R=B.C=-(B.color=1),B.size=B.content?B.content.length:0,B.start=0,B.clsid=B.clsid||W,te===0)B.C=be.length>1?1:-1,B.size=0,B.type=5;else if(le.slice(-1)=="/"){for(Pe=te+1;Pe<be.length&&n(L.FullPaths[Pe])!=le;++Pe);for(B.C=Pe>=be.length?-1:Pe,Pe=te+1;Pe<be.length&&n(L.FullPaths[Pe])!=n(le);++Pe);B.R=Pe>=be.length?-1:Pe,B.type=1}else n(L.FullPaths[te+1]||"")==n(le)&&(B.R=te+1),B.type=2}}}function K(L,re){var G=re||{};if(G.fileType=="mad")return Vr(L,G);switch(I(L),G.fileType){case"zip":return Te(L,G)}var J=function(pe){for(var me=0,_e=0,Ie=0;Ie<pe.FileIndex.length;++Ie){var et=pe.FileIndex[Ie];if(et.content){var gt=et.content.length;gt>0&&(gt<4096?me+=gt+63>>6:_e+=gt+511>>9)}}for(var St=pe.FullPaths.length+3>>2,Rt=me+7>>3,Et=me+127>>7,pr=Rt+_e+St+Et,Ft=pr+127>>7,ar=Ft<=109?0:Math.ceil((Ft-109)/127);pr+Ft+ar+127>>7>Ft;)ar=++Ft<=109?0:Math.ceil((Ft-109)/127);var kt=[1,ar,Ft,Et,St,_e,me,0];return pe.FileIndex[0].size=me<<6,kt[7]=(pe.FileIndex[0].start=kt[0]+kt[1]+kt[2]+kt[3]+kt[4]+kt[5])+(kt[6]+7>>3),kt}(L),te=De(J[7]<<9),se=0,xe=0;{for(se=0;se<8;++se)te.write_shift(1,O[se]);for(se=0;se<8;++se)te.write_shift(2,0);for(te.write_shift(2,62),te.write_shift(2,3),te.write_shift(2,65534),te.write_shift(2,9),te.write_shift(2,6),se=0;se<3;++se)te.write_shift(2,0);for(te.write_shift(4,0),te.write_shift(4,J[2]),te.write_shift(4,J[0]+J[1]+J[2]+J[3]-1),te.write_shift(4,0),te.write_shift(4,4096),te.write_shift(4,J[3]?J[0]+J[1]+J[2]-1:oe),te.write_shift(4,J[3]),te.write_shift(-4,J[1]?J[0]-1:oe),te.write_shift(4,J[1]),se=0;se<109;++se)te.write_shift(-4,se<J[2]?J[1]+se:-1)}if(J[1])for(xe=0;xe<J[1];++xe){for(;se<236+xe*127;++se)te.write_shift(-4,se<J[2]?J[1]+se:-1);te.write_shift(-4,xe===J[1]-1?oe:xe+1)}var Pe=function(pe){for(xe+=pe;se<xe-1;++se)te.write_shift(-4,se+1);pe&&(++se,te.write_shift(-4,oe))};for(xe=se=0,xe+=J[1];se<xe;++se)te.write_shift(-4,ne.DIFSECT);for(xe+=J[2];se<xe;++se)te.write_shift(-4,ne.FATSECT);Pe(J[3]),Pe(J[4]);for(var ve=0,be=0,Se=L.FileIndex[0];ve<L.FileIndex.length;++ve)Se=L.FileIndex[ve],Se.content&&(be=Se.content.length,!(be<4096)&&(Se.start=xe,Pe(be+511>>9)));for(Pe(J[6]+7>>3);te.l&511;)te.write_shift(-4,ne.ENDOFCHAIN);for(xe=se=0,ve=0;ve<L.FileIndex.length;++ve)Se=L.FileIndex[ve],Se.content&&(be=Se.content.length,!(!be||be>=4096)&&(Se.start=xe,Pe(be+63>>6)));for(;te.l&511;)te.write_shift(-4,ne.ENDOFCHAIN);for(se=0;se<J[4]<<2;++se){var B=L.FullPaths[se];if(!B||B.length===0){for(ve=0;ve<17;++ve)te.write_shift(4,0);for(ve=0;ve<3;++ve)te.write_shift(4,-1);for(ve=0;ve<12;++ve)te.write_shift(4,0);continue}Se=L.FileIndex[se],se===0&&(Se.start=Se.size?Se.start-1:oe);var le=se===0&&G.root||Se.name;if(be=2*(le.length+1),te.write_shift(64,le,"utf16le"),te.write_shift(2,be),te.write_shift(1,Se.type),te.write_shift(1,Se.color),te.write_shift(-4,Se.L),te.write_shift(-4,Se.R),te.write_shift(-4,Se.C),Se.clsid)te.write_shift(16,Se.clsid,"hex");else for(ve=0;ve<4;++ve)te.write_shift(4,0);te.write_shift(4,Se.state||0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,Se.start),te.write_shift(4,Se.size),te.write_shift(4,0)}for(se=1;se<L.FileIndex.length;++se)if(Se=L.FileIndex[se],Se.size>=4096)if(te.l=Se.start+1<<9,Wt&&Buffer.isBuffer(Se.content))Se.content.copy(te,te.l,0,Se.size),te.l+=Se.size+511&-512;else{for(ve=0;ve<Se.size;++ve)te.write_shift(1,Se.content[ve]);for(;ve&511;++ve)te.write_shift(1,0)}for(se=1;se<L.FileIndex.length;++se)if(Se=L.FileIndex[se],Se.size>0&&Se.size<4096)if(Wt&&Buffer.isBuffer(Se.content))Se.content.copy(te,te.l,0,Se.size),te.l+=Se.size+63&-64;else{for(ve=0;ve<Se.size;++ve)te.write_shift(1,Se.content[ve]);for(;ve&63;++ve)te.write_shift(1,0)}if(Wt)te.l=te.length;else for(;te.l<te.length;)te.write_shift(1,0);return te}function q(L,re){var G=L.FullPaths.map(function(ve){return ve.toUpperCase()}),J=G.map(function(ve){var be=ve.split("/");return be[be.length-(ve.slice(-1)=="/"?2:1)]}),te=!1;re.charCodeAt(0)===47?(te=!0,re=G[0].slice(0,-1)+re):te=re.indexOf("/")!==-1;var se=re.toUpperCase(),xe=te===!0?G.indexOf(se):J.indexOf(se);if(xe!==-1)return L.FileIndex[xe];var Pe=!se.match(ff);for(se=se.replace(tu,""),Pe&&(se=se.replace(ff,"!")),xe=0;xe<G.length;++xe)if((Pe?G[xe].replace(ff,"!"):G[xe]).replace(tu,"")==se||(Pe?J[xe].replace(ff,"!"):J[xe]).replace(tu,"")==se)return L.FileIndex[xe];return null}var H=64,oe=-2,Q="d0cf11e0a1b11ae1",O=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",ne={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:oe,FREESECT:-1,HEADER_SIGNATURE:Q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function X(L,re,G){f();var J=K(L,G);d.writeFileSync(re,J)}function Z(L){for(var re=new Array(L.length),G=0;G<L.length;++G)re[G]=String.fromCharCode(L[G]);return re.join("")}function ae(L,re){var G=K(L,re);switch(re&&re.type||"buffer"){case"file":return f(),d.writeFileSync(re.filename,G),G;case"binary":return typeof G=="string"?G:Z(G);case"base64":return Su(typeof G=="string"?G:Z(G));case"buffer":if(Wt)return Buffer.isBuffer(G)?G:Ua(G);case"array":return typeof G=="string"?Ys(G):G}return G}var Y;function R(L){try{var re=L.InflateRaw,G=new re;if(G._processChunk(new Uint8Array([3,0]),G._finishFlushFlag),G.bytesRead)Y=L;else throw new Error("zlib does not expose bytesRead")}catch(J){console.error("cannot use native zlib: "+(J.message||J))}}function U(L,re){if(!Y)return Mn(L,re);var G=Y.InflateRaw,J=new G,te=J._processChunk(L.slice(L.l),J._finishFlushFlag);return L.l+=J.bytesRead,te}function z(L){return Y?Y.deflateRawSync(L):vt(L)}var k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ee=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function he(L){var re=(L<<1|L<<11)&139536|(L<<5|L<<15)&558144;return(re>>16|re>>8|re)&255}for(var ye=typeof Uint8Array<"u",ke=ye?new Uint8Array(256):[],Ke=0;Ke<256;++Ke)ke[Ke]=he(Ke);function He(L,re){var G=ke[L&255];return re<=8?G>>>8-re:(G=G<<8|ke[L>>8&255],re<=16?G>>>16-re:(G=G<<8|ke[L>>16&255],G>>>24-re))}function rt(L,re){var G=re&7,J=re>>>3;return(L[J]|(G<=6?0:L[J+1]<<8))>>>G&3}function Ve(L,re){var G=re&7,J=re>>>3;return(L[J]|(G<=5?0:L[J+1]<<8))>>>G&7}function de(L,re){var G=re&7,J=re>>>3;return(L[J]|(G<=4?0:L[J+1]<<8))>>>G&15}function Ee(L,re){var G=re&7,J=re>>>3;return(L[J]|(G<=3?0:L[J+1]<<8))>>>G&31}function je(L,re){var G=re&7,J=re>>>3;return(L[J]|(G<=1?0:L[J+1]<<8))>>>G&127}function Ze(L,re,G){var J=re&7,te=re>>>3,se=(1<<G)-1,xe=L[te]>>>J;return G<8-J||(xe|=L[te+1]<<8-J,G<16-J)||(xe|=L[te+2]<<16-J,G<24-J)||(xe|=L[te+3]<<24-J),xe&se}function nt(L,re,G){var J=re&7,te=re>>>3;return J<=5?L[te]|=(G&7)<<J:(L[te]|=G<<J&255,L[te+1]=(G&7)>>8-J),re+3}function ht(L,re,G){var J=re&7,te=re>>>3;return G=(G&1)<<J,L[te]|=G,re+1}function st(L,re,G){var J=re&7,te=re>>>3;return G<<=J,L[te]|=G&255,G>>>=8,L[te+1]=G,re+8}function Ct(L,re,G){var J=re&7,te=re>>>3;return G<<=J,L[te]|=G&255,G>>>=8,L[te+1]=G&255,L[te+2]=G>>>8,re+16}function Ne(L,re){var G=L.length,J=2*G>re?2*G:re+5,te=0;if(G>=re)return L;if(Wt){var se=O2(J);if(L.copy)L.copy(se);else for(;te<L.length;++te)se[te]=L[te];return se}else if(ye){var xe=new Uint8Array(J);if(xe.set)xe.set(L);else for(;te<G;++te)xe[te]=L[te];return xe}return L.length=J,L}function Be(L){for(var re=new Array(L),G=0;G<L;++G)re[G]=0;return re}function Je(L,re,G){var J=1,te=0,se=0,xe=0,Pe=0,ve=L.length,be=ye?new Uint16Array(32):Be(32);for(se=0;se<32;++se)be[se]=0;for(se=ve;se<G;++se)L[se]=0;ve=L.length;var Se=ye?new Uint16Array(ve):Be(ve);for(se=0;se<ve;++se)be[te=L[se]]++,J<te&&(J=te),Se[se]=0;for(be[0]=0,se=1;se<=J;++se)be[se+16]=Pe=Pe+be[se-1]<<1;for(se=0;se<ve;++se)Pe=L[se],Pe!=0&&(Se[se]=be[Pe+16]++);var B=0;for(se=0;se<ve;++se)if(B=L[se],B!=0)for(Pe=He(Se[se],J)>>J-B,xe=(1<<J+4-B)-1;xe>=0;--xe)re[Pe|xe<<B]=B&15|se<<4;return J}var Re=ye?new Uint16Array(512):Be(512),Ue=ye?new Uint16Array(32):Be(32);if(!ye){for(var ut=0;ut<512;++ut)Re[ut]=0;for(ut=0;ut<32;++ut)Ue[ut]=0}(function(){for(var L=[],re=0;re<32;re++)L.push(5);Je(L,Ue,32);var G=[];for(re=0;re<=143;re++)G.push(8);for(;re<=255;re++)G.push(9);for(;re<=279;re++)G.push(7);for(;re<=287;re++)G.push(8);Je(G,Re,288)})();var it=function(){for(var re=ye?new Uint8Array(32768):[],G=0,J=0;G<ee.length-1;++G)for(;J<ee[G+1];++J)re[J]=G;for(;J<32768;++J)re[J]=29;var te=ye?new Uint8Array(259):[];for(G=0,J=0;G<ce.length-1;++G)for(;J<ce[G+1];++J)te[J]=G;function se(Pe,ve){for(var be=0;be<Pe.length;){var Se=Math.min(65535,Pe.length-be),B=be+Se==Pe.length;for(ve.write_shift(1,+B),ve.write_shift(2,Se),ve.write_shift(2,~Se&65535);Se-- >0;)ve[ve.l++]=Pe[be++]}return ve.l}function xe(Pe,ve){for(var be=0,Se=0,B=ye?new Uint16Array(32768):[];Se<Pe.length;){var le=Math.min(65535,Pe.length-Se);if(le<10){for(be=nt(ve,be,+(Se+le==Pe.length)),be&7&&(be+=8-(be&7)),ve.l=be/8|0,ve.write_shift(2,le),ve.write_shift(2,~le&65535);le-- >0;)ve[ve.l++]=Pe[Se++];be=ve.l*8;continue}be=nt(ve,be,+(Se+le==Pe.length)+2);for(var pe=0;le-- >0;){var me=Pe[Se];pe=(pe<<5^me)&32767;var _e=-1,Ie=0;if((_e=B[pe])&&(_e|=Se&-32768,_e>Se&&(_e-=32768),_e<Se))for(;Pe[_e+Ie]==Pe[Se+Ie]&&Ie<250;)++Ie;if(Ie>2){me=te[Ie],me<=22?be=st(ve,be,ke[me+1]>>1)-1:(st(ve,be,3),be+=5,st(ve,be,ke[me-23]>>5),be+=3);var et=me<8?0:me-4>>2;et>0&&(Ct(ve,be,Ie-ce[me]),be+=et),me=re[Se-_e],be=st(ve,be,ke[me]>>3),be-=3;var gt=me<4?0:me-2>>1;gt>0&&(Ct(ve,be,Se-_e-ee[me]),be+=gt);for(var St=0;St<Ie;++St)B[pe]=Se&32767,pe=(pe<<5^Pe[Se])&32767,++Se;le-=Ie-1}else me<=143?me=me+48:be=ht(ve,be,1),be=st(ve,be,ke[me]),B[pe]=Se&32767,++Se}be=st(ve,be,0)-1}return ve.l=(be+7)/8|0,ve.l}return function(ve,be){return ve.length<8?se(ve,be):xe(ve,be)}}();function vt(L){var re=De(50+Math.floor(L.length*1.1)),G=it(L,re);return re.slice(0,G)}var rr=ye?new Uint16Array(32768):Be(32768),Qr=ye?new Uint16Array(32768):Be(32768),Tn=ye?new Uint16Array(128):Be(128),Pt=1,Qn=1;function Zn(L,re){var G=Ee(L,re)+257;re+=5;var J=Ee(L,re)+1;re+=5;var te=de(L,re)+4;re+=4;for(var se=0,xe=ye?new Uint8Array(19):Be(19),Pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ve=1,be=ye?new Uint8Array(8):Be(8),Se=ye?new Uint8Array(8):Be(8),B=xe.length,le=0;le<te;++le)xe[k[le]]=se=Ve(L,re),ve<se&&(ve=se),be[se]++,re+=3;var pe=0;for(be[0]=0,le=1;le<=ve;++le)Se[le]=pe=pe+be[le-1]<<1;for(le=0;le<B;++le)(pe=xe[le])!=0&&(Pe[le]=Se[pe]++);var me=0;for(le=0;le<B;++le)if(me=xe[le],me!=0){pe=ke[Pe[le]]>>8-me;for(var _e=(1<<7-me)-1;_e>=0;--_e)Tn[pe|_e<<me]=me&7|le<<3}var Ie=[];for(ve=1;Ie.length<G+J;)switch(pe=Tn[je(L,re)],re+=pe&7,pe>>>=3){case 16:for(se=3+rt(L,re),re+=2,pe=Ie[Ie.length-1];se-- >0;)Ie.push(pe);break;case 17:for(se=3+Ve(L,re),re+=3;se-- >0;)Ie.push(0);break;case 18:for(se=11+je(L,re),re+=7;se-- >0;)Ie.push(0);break;default:Ie.push(pe),ve<pe&&(ve=pe);break}var et=Ie.slice(0,G),gt=Ie.slice(G);for(le=G;le<286;++le)et[le]=0;for(le=J;le<30;++le)gt[le]=0;return Pt=Je(et,rr,286),Qn=Je(gt,Qr,30),re}function Ps(L,re){if(L[0]==3&&!(L[1]&3))return[Co(re),2];for(var G=0,J=0,te=O2(re||1<<18),se=0,xe=te.length>>>0,Pe=0,ve=0;(J&1)==0;){if(J=Ve(L,G),G+=3,J>>>1)J>>1==1?(Pe=9,ve=5):(G=Zn(L,G),Pe=Pt,ve=Qn);else{G&7&&(G+=8-(G&7));var be=L[G>>>3]|L[(G>>>3)+1]<<8;if(G+=32,be>0)for(!re&&xe<se+be&&(te=Ne(te,se+be),xe=te.length);be-- >0;)te[se++]=L[G>>>3],G+=8;continue}for(;;){!re&&xe<se+32767&&(te=Ne(te,se+32767),xe=te.length);var Se=Ze(L,G,Pe),B=J>>>1==1?Re[Se]:rr[Se];if(G+=B&15,B>>>=4,(B>>>8&255)===0)te[se++]=B;else{if(B==256)break;B-=257;var le=B<8?0:B-4>>2;le>5&&(le=0);var pe=se+ce[B];le>0&&(pe+=Ze(L,G,le),G+=le),Se=Ze(L,G,ve),B=J>>>1==1?Ue[Se]:Qr[Se],G+=B&15,B>>>=4;var me=B<4?0:B-2>>1,_e=ee[B];for(me>0&&(_e+=Ze(L,G,me),G+=me),!re&&xe<pe&&(te=Ne(te,pe+100),xe=te.length);se<pe;)te[se]=te[se-_e],++se}}}return re?[te,G+7>>>3]:[te.slice(0,se),G+7>>>3]}function Mn(L,re){var G=L.slice(L.l||0),J=Ps(G,re);return L.l+=J[1],J[0]}function hn(L,re){if(L)typeof console<"u"&&console.error(re);else throw new Error(re)}function zr(L,re){var G=L;ls(G,0);var J=[],te=[],se={FileIndex:J,FullPaths:te};_(se,{root:re.root});for(var xe=G.length-4;(G[xe]!=80||G[xe+1]!=75||G[xe+2]!=5||G[xe+3]!=6)&&xe>=0;)--xe;G.l=xe+4,G.l+=4;var Pe=G.read_shift(2);G.l+=6;var ve=G.read_shift(4);for(G.l=ve,xe=0;xe<Pe;++xe){G.l+=20;var be=G.read_shift(4),Se=G.read_shift(4),B=G.read_shift(2),le=G.read_shift(2),pe=G.read_shift(2);G.l+=8;var me=G.read_shift(4),_e=c(G.slice(G.l+B,G.l+B+le));G.l+=B+le+pe;var Ie=G.l;G.l=me+4,V(G,be,Se,se,_e),G.l=Ie}return se}function V(L,re,G,J,te){L.l+=2;var se=L.read_shift(2),xe=L.read_shift(2),Pe=o(L);if(se&8257)throw new Error("Unsupported ZIP encryption");for(var ve=L.read_shift(4),be=L.read_shift(4),Se=L.read_shift(4),B=L.read_shift(2),le=L.read_shift(2),pe="",me=0;me<B;++me)pe+=String.fromCharCode(L[L.l++]);if(le){var _e=c(L.slice(L.l,L.l+le));(_e[21589]||{}).mt&&(Pe=_e[21589].mt),((te||{})[21589]||{}).mt&&(Pe=te[21589].mt)}L.l+=le;var Ie=L.slice(L.l,L.l+be);switch(xe){case 8:Ie=U(L,Se);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+xe)}var et=!1;se&8&&(ve=L.read_shift(4),ve==134695760&&(ve=L.read_shift(4),et=!0),be=L.read_shift(4),Se=L.read_shift(4)),be!=re&&hn(et,"Bad compressed size: "+re+" != "+be),Se!=G&&hn(et,"Bad uncompressed size: "+G+" != "+Se),mn(J,pe,Ie,{unsafe:!0,mt:Pe})}function Te(L,re){var G=re||{},J=[],te=[],se=De(1),xe=G.compression?8:0,Pe=0,ve=0,be=0,Se=0,B=0,le=L.FullPaths[0],pe=le,me=L.FileIndex[0],_e=[],Ie=0;for(ve=1;ve<L.FullPaths.length;++ve)if(pe=L.FullPaths[ve].slice(le.length),me=L.FileIndex[ve],!(!me.size||!me.content||pe=="Sh33tJ5")){var et=Se,gt=De(pe.length);for(be=0;be<pe.length;++be)gt.write_shift(1,pe.charCodeAt(be)&127);gt=gt.slice(0,gt.l),_e[B]=MP.buf(me.content,0);var St=me.content;xe==8&&(St=z(St)),se=De(30),se.write_shift(4,67324752),se.write_shift(2,20),se.write_shift(2,Pe),se.write_shift(2,xe),me.mt?i(se,me.mt):se.write_shift(4,0),se.write_shift(-4,_e[B]),se.write_shift(4,St.length),se.write_shift(4,me.content.length),se.write_shift(2,gt.length),se.write_shift(2,0),Se+=se.length,J.push(se),Se+=gt.length,J.push(gt),Se+=St.length,J.push(St),se=De(46),se.write_shift(4,33639248),se.write_shift(2,0),se.write_shift(2,20),se.write_shift(2,Pe),se.write_shift(2,xe),se.write_shift(4,0),se.write_shift(-4,_e[B]),se.write_shift(4,St.length),se.write_shift(4,me.content.length),se.write_shift(2,gt.length),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(4,0),se.write_shift(4,et),Ie+=se.l,te.push(se),Ie+=gt.length,te.push(gt),++B}return se=De(22),se.write_shift(4,101010256),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,B),se.write_shift(2,B),se.write_shift(4,Ie),se.write_shift(4,Se),se.write_shift(2,0),on([on(J),on(te),se])}var Ye={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function We(L,re){if(L.ctype)return L.ctype;var G=L.name||"",J=G.match(/\.([^\.]+)$/);return J&&Ye[J[1]]||re&&(J=(G=re).match(/[\.\\]([^\.\\])+$/),J&&Ye[J[1]])?Ye[J[1]]:"application/octet-stream"}function Qe(L){for(var re=Su(L),G=[],J=0;J<re.length;J+=76)G.push(re.slice(J,J+76));return G.join(`\r
`)+`\r
`}function mt(L){var re=L.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(be){var Se=be.charCodeAt(0).toString(16).toUpperCase();return"="+(Se.length==1?"0"+Se:Se)});re=re.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),re.charAt(0)==`
`&&(re="=0D"+re.slice(1)),re=re.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var G=[],J=re.split(`\r
`),te=0;te<J.length;++te){var se=J[te];if(se.length==0){G.push("");continue}for(var xe=0;xe<se.length;){var Pe=76,ve=se.slice(xe,xe+Pe);ve.charAt(Pe-1)=="="?Pe--:ve.charAt(Pe-2)=="="?Pe-=2:ve.charAt(Pe-3)=="="&&(Pe-=3),ve=se.slice(xe,xe+Pe),xe+=Pe,xe<se.length&&(ve+="="),G.push(ve)}}return G.join(`\r
`)}function It(L){for(var re=[],G=0;G<L.length;++G){for(var J=L[G];G<=L.length&&J.charAt(J.length-1)=="=";)J=J.slice(0,J.length-1)+L[++G];re.push(J)}for(var te=0;te<re.length;++te)re[te]=re[te].replace(/[=][0-9A-Fa-f]{2}/g,function(se){return String.fromCharCode(parseInt(se.slice(1),16))});return Ys(re.join(`\r
`))}function Xe(L,re,G){for(var J="",te="",se="",xe,Pe=0;Pe<10;++Pe){var ve=re[Pe];if(!ve||ve.match(/^\s*$/))break;var be=ve.match(/^(.*?):\s*([^\s].*)$/);if(be)switch(be[1].toLowerCase()){case"content-location":J=be[2].trim();break;case"content-type":se=be[2].trim();break;case"content-transfer-encoding":te=be[2].trim();break}}switch(++Pe,te.toLowerCase()){case"base64":xe=Ys(Oa(re.slice(Pe).join("")));break;case"quoted-printable":xe=It(re.slice(Pe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+te)}var Se=mn(L,J.slice(G.length),xe,{unsafe:!0});se&&(Se.ctype=se)}function Zr(L,re){if(Z(L.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var G=re&&re.root||"",J=(Wt&&Buffer.isBuffer(L)?L.toString("binary"):Z(L)).split(`\r
`),te=0,se="";for(te=0;te<J.length;++te)if(se=J[te],!!/^Content-Location:/i.test(se)&&(se=se.slice(se.indexOf("file")),G||(G=se.slice(0,se.lastIndexOf("/")+1)),se.slice(0,G.length)!=G))for(;G.length>0&&(G=G.slice(0,G.length-1),G=G.slice(0,G.lastIndexOf("/")+1),se.slice(0,G.length)!=G););var xe=(J[1]||"").match(/boundary="(.*?)"/);if(!xe)throw new Error("MAD cannot find boundary");var Pe="--"+(xe[1]||""),ve=[],be=[],Se={FileIndex:ve,FullPaths:be};_(Se);var B,le=0;for(te=0;te<J.length;++te){var pe=J[te];pe!==Pe&&pe!==Pe+"--"||(le++&&Xe(Se,J.slice(B,te),G),B=te)}return Se}function Vr(L,re){var G=re||{},J=G.boundary||"SheetJS";J="------="+J;for(var te=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+J.slice(2)+'"',"","",""],se=L.FullPaths[0],xe=se,Pe=L.FileIndex[0],ve=1;ve<L.FullPaths.length;++ve)if(xe=L.FullPaths[ve].slice(se.length),Pe=L.FileIndex[ve],!(!Pe.size||!Pe.content||xe=="Sh33tJ5")){xe=xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ie){return"_x"+Ie.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ie){return"_u"+Ie.charCodeAt(0).toString(16)+"_"});for(var be=Pe.content,Se=Wt&&Buffer.isBuffer(be)?be.toString("binary"):Z(be),B=0,le=Math.min(1024,Se.length),pe=0,me=0;me<=le;++me)(pe=Se.charCodeAt(me))>=32&&pe<128&&++B;var _e=B>=le*4/5;te.push(J),te.push("Content-Location: "+(G.root||"file:///C:/SheetJS/")+xe),te.push("Content-Transfer-Encoding: "+(_e?"quoted-printable":"base64")),te.push("Content-Type: "+We(Pe,xe)),te.push(""),te.push(_e?mt(Se):Qe(Se))}return te.push(J+`--\r
`),te.join(`\r
`)}function Ar(L){var re={};return _(re,L),re}function mn(L,re,G,J){var te=J&&J.unsafe;te||_(L);var se=!te&&er.find(L,re);if(!se){var xe=L.FullPaths[0];re.slice(0,xe.length)==xe?xe=re:(xe.slice(-1)!="/"&&(xe+="/"),xe=(xe+re).replace("//","/")),se={name:s(re),type:2},L.FileIndex.push(se),L.FullPaths.push(xe),te||er.utils.cfb_gc(L)}return se.content=G,se.size=G?G.length:0,J&&(J.CLSID&&(se.clsid=J.CLSID),J.mt&&(se.mt=J.mt),J.ct&&(se.ct=J.ct)),se}function sr(L,re){_(L);var G=er.find(L,re);if(G){for(var J=0;J<L.FileIndex.length;++J)if(L.FileIndex[J]==G)return L.FileIndex.splice(J,1),L.FullPaths.splice(J,1),!0}return!1}function en(L,re,G){_(L);var J=er.find(L,re);if(J){for(var te=0;te<L.FileIndex.length;++te)if(L.FileIndex[te]==J)return L.FileIndex[te].name=s(G),L.FullPaths[te]=G,!0}return!1}function En(L){I(L,!0)}return e.find=q,e.read=M,e.parse=h,e.write=ae,e.writeFile=X,e.utils={cfb_new:Ar,cfb_add:mn,cfb_del:sr,cfb_mov:en,cfb_gc:En,ReadShift:nu,CheckField:XS,prep_blob:ls,bconcat:on,use_zlib:R,_deflateRaw:vt,_inflateRaw:Mn,consts:ne},e}();function LP(t){return typeof t=="string"?e0(t):Array.isArray(t)?cP(t):t}function Xu(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=e0(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Cu(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var s=new Blob([LP(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=qu(e)),c.write(e),c.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function fn(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function H2(t,e){for(var r=[],n=fn(t),s=0;s!==n.length;++s)r[t[n[s]][e]]==null&&(r[t[n[s]][e]]=n[s]);return r}function lx(t){for(var e=[],r=fn(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function n0(t){for(var e=[],r=fn(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function IP(t){for(var e=[],r=fn(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var fh=new Date(1899,11,30,0,0,0);function Xn(t,e){var r=t.getTime(),n=fh.getTime()+(t.getTimezoneOffset()-fh.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var RS=new Date,BP=fh.getTime()+(RS.getTimezoneOffset()-fh.getTimezoneOffset())*6e4,W2=RS.getTimezoneOffset();function FS(t){var e=new Date;return e.setTime(t*24*60*60*1e3+BP),e.getTimezoneOffset()!==W2&&e.setTime(e.getTime()+(e.getTimezoneOffset()-W2)*6e4),e}var $2=new Date("2017-02-19T19:06:09.000Z"),OS=isNaN($2.getFullYear())?new Date("2/19/17"):$2,UP=OS.getFullYear()==2017;function On(t,e){var r=new Date(t);if(UP)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(OS.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function s0(t,e){if(Wt&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],s=0;s!=t.length;++s)n.push(String.fromCharCode(t[s]));return n.join("")}function Jn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Jn(t[r]));return e}function _r(t,e){for(var r="";r.length<e;)r+=t;return r}function Pa(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(e=Number(n)))?e/r:e}var zP=["january","february","march","april","may","june","july","august","september","october","november","december"];function _u(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),s=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&zP.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||i>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function At(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Wt?n=Ua(r):n=uP(r),er.utils.cfb_add(t,e,n)}er.utils.cfb_add(t,e,r)}else t.file(e,r)}function cx(){return er.utils.cfb_new()}var Mr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,VP={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},ux=lx(VP),dx=/[&<>'"]/g,HP=/[\u0000-\u0008\u000b-\u001f]/g;function Qt(t){var e=t+"";return e.replace(dx,function(r){return ux[r]}).replace(HP,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Y2(t){return Qt(t).replace(/ /g,"_x0020_")}var MS=/[\u0000-\u001f]/g;function WP(t){var e=t+"";return e.replace(dx,function(r){return ux[r]}).replace(/\n/g,"<br/>").replace(MS,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function $P(t){var e=t+"";return e.replace(dx,function(r){return ux[r]}).replace(MS,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function YP(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function KP(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function sp(t){for(var e="",r=0,n=0,s=0,i=0,o=0,c=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(s=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=s&63,e+=String.fromCharCode(o);continue}if(i=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}o=t.charCodeAt(r++),c=((n&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function K2(t){var e=Co(2*t.length),r,n,s=1,i=0,o=0,c;for(n=0;n<t.length;n+=s)s=1,(c=t.charCodeAt(n))<128?r=c:c<224?(r=(c&31)*64+(t.charCodeAt(n+1)&63),s=2):c<240?(r=(c&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),s=3):(s=4,r=(c&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[i++]=o&255,e[i++]=o>>>8,o=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function G2(t){return Ua(t,"binary").toString("utf8")}var mf="foo bar baz",ru=Wt&&(G2(mf)==sp(mf)&&G2||K2(mf)==sp(mf)&&K2)||sp,Cu=Wt?function(t){return Ua(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,s=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},GP=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)n=n.replace(t[s][0],t[s][1]);return n}}(),LS=/(^\s|\s$|\n)/;function ln(t,e){return"<"+t+(e.match(LS)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function ju(t){return fn(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Ge(t,e,r){return"<"+t+(r!=null?ju(r):"")+(e!=null?(e.match(LS)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function ug(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function qP(t,e){switch(typeof t){case"string":var r=Ge("vt:lpwstr",Qt(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ge((t|0)==t?"vt:i4":"vt:r8",Qt(String(t)));case"boolean":return Ge("vt:bool",t?"true":"false")}if(t instanceof Date)return Ge("vt:filetime",ug(t));throw new Error("Unable to serialize "+t)}var Gr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Wl=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],cs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function XP(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,i=5;i>=0;--i)s=s*256+t[e+i];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function JP(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,s=0,i=0,o=n?-e:e;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(e)?26985:0);for(var c=0;c<=5;++c,i/=256)t[r+c]=i&255;t[r+6]=(s&15)<<4|i&15,t[r+7]=s>>4|n}var q2=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var s=0,i=t[0][n].length;s<i;s+=r)e.push.apply(e,t[0][n].slice(s,s+r));return e},X2=Wt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ua(e)})):q2(t)}:q2,J2=function(t,e,r){for(var n=[],s=e;s<r;s+=2)n.push(String.fromCharCode(Wc(t,s)));return n.join("").replace(tu,"")},fx=Wt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(tu,""):J2(t,e,r)}:J2,Q2=function(t,e,r){for(var n=[],s=e;s<e+r;++s)n.push(("0"+t[s].toString(16)).slice(-2));return n.join("")},IS=Wt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):Q2(t,e,r)}:Q2,Z2=function(t,e,r){for(var n=[],s=e;s<r;s++)n.push(String.fromCharCode(xl(t,s)));return n.join("")},Ju=Wt?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):Z2(e,r,n)}:Z2,BS=function(t,e){var r=us(t,e);return r>0?Ju(t,e+4,e+4+r-1):""},US=BS,zS=function(t,e){var r=us(t,e);return r>0?Ju(t,e+4,e+4+r-1):""},VS=zS,HS=function(t,e){var r=2*us(t,e);return r>0?Ju(t,e+4,e+4+r-1):""},WS=HS,$S=function(e,r){var n=us(e,r);return n>0?fx(e,r+4,r+4+n):""},YS=$S,KS=function(t,e){var r=us(t,e);return r>0?Ju(t,e+4,e+4+r):""},GS=KS,qS=function(t,e){return XP(t,e)},hh=qS,hx=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Wt&&(US=function(e,r){if(!Buffer.isBuffer(e))return BS(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},VS=function(e,r){if(!Buffer.isBuffer(e))return zS(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},WS=function(e,r){if(!Buffer.isBuffer(e))return HS(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},YS=function(e,r){if(!Buffer.isBuffer(e))return $S(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},GS=function(e,r){if(!Buffer.isBuffer(e))return KS(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},hh=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):qS(e,r)},hx=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var xl=function(t,e){return t[e]},Wc=function(t,e){return t[e+1]*256+t[e]},QP=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},us=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},co=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},ZP=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function nu(t,e){var r="",n,s,i=[],o,c,d,f;switch(e){case"dbcs":if(f=this.l,Wt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)r+=String.fromCharCode(Wc(this,f)),f+=2;t*=2;break;case"utf8":r=Ju(this,this.l,this.l+t);break;case"utf16le":t*=2,r=fx(this,this.l,this.l+t);break;case"wstr":return nu.call(this,t,"dbcs");case"lpstr-ansi":r=US(this,this.l),t=4+us(this,this.l);break;case"lpstr-cp":r=VS(this,this.l),t=4+us(this,this.l);break;case"lpwstr":r=WS(this,this.l),t=4+2*us(this,this.l);break;case"lpp4":t=4+us(this,this.l),r=YS(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+us(this,this.l),r=GS(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=xl(this,this.l+t++))!==0;)i.push(df(o));r=i.join("");break;case"_wstr":for(t=0,r="";(o=Wc(this,this.l+t))!==0;)i.push(df(o)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",f=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return o=xl(this,f),this.l=f+1,c=nu.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(df(Wc(this,f))),f+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return o=xl(this,f),this.l=f+1,c=nu.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(df(xl(this,f))),f+=1}r=i.join("");break;default:switch(t){case 1:return n=xl(this,this.l),this.l++,n;case 2:return n=(e==="i"?QP:Wc)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?co:ZP)(this,this.l),this.l+=4,n):(s=us(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=hh(this,this.l):s=hh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:r=IS(this,this.l,t);break}}return this.l+=t,r}var eD=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},tD=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},rD=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function nD(t,e,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=e.length;++s)rD(this,e.charCodeAt(s),this.l+2*s);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;n=e.length}else if(r==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var o=e.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,eD(this,e,this.l);break;case 8:if(n=8,r==="f"){JP(this,e,this.l);break}case 16:break;case-4:n=4,tD(this,e,this.l);break}return this.l+=n,this}function XS(t,e){var r=IS(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function ls(t,e){t.l=e,t.read_shift=nu,t.chk=XS,t.write_shift=nD}function ma(t,e){t.l+=e}function De(t){var e=Co(t);return ls(e,0),e}function qn(){var t=[],e=Wt?256:2048,r=function(f){var h=De(f);return ls(h,0),h},n=r(e),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(f){return n&&f<n.length-n.l?n:(s(),n=r(Math.max(f+1,e)))},o=function(){return s(),on(t)},c=function(f){s(),n=f,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:c,end:o,_bufs:t}}function Fe(t,e,r,n){var s=+e,i;if(!isNaN(s)){n||(n=XL[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=t.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var c=0;c!=4;++c)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&hx(r)&&t.push(r)}}function su(t,e,r){var n=Jn(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function eb(t,e,r){var n=Jn(t);return n.s=su(n.s,e.s,r),n.e=su(n.e,e.s,r),n}function au(t,e){if(t.cRel&&t.c<0)for(t=Jn(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Jn(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Zt(t);return!t.cRel&&t.cRel!=null&&(r=iD(r)),!t.rRel&&t.rRel!=null&&(r=sD(r)),r}function ap(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Cn(t.s.c)+":"+(t.e.cRel?"":"$")+Cn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+un(t.s.r)+":"+(t.e.rRel?"":"$")+un(t.e.r):au(t.s,e.biff)+":"+au(t.e,e.biff)}function mx(t){return parseInt(aD(t),10)-1}function un(t){return""+(t+1)}function sD(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function aD(t){return t.replace(/\$(\d+)$/,"$1")}function px(t){for(var e=oD(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Cn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function iD(t){return t.replace(/^([A-Z])/,"$$$1")}function oD(t){return t.replace(/^\$([A-Z])/,"$1")}function lD(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Xr(t){for(var e=0,r=0,n=0;n<t.length;++n){var s=t.charCodeAt(n);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:e-1}}function Zt(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function ds(t){var e=t.indexOf(":");return e==-1?{s:Xr(t),e:Xr(t)}:{s:Xr(t.slice(0,e)),e:Xr(t.slice(e+1))}}function Fr(t,e){return typeof e>"u"||typeof e=="number"?Fr(t.s,t.e):(typeof t!="string"&&(t=Zt(t)),typeof e!="string"&&(e=Zt(e)),t==e?t:t+":"+e)}function dr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,i=t.length;for(r=0;n<i&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.s.c=--r,r=0;n<i&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(e.s.r=--r,n===i||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=i&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.e.c=--r,r=0;n!=i&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return e.e.r=--r,e}function tb(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Ci(t.z,r?Xn(e):e)}catch{}try{return t.w=Ci((t.XF||{}).numFmtId||(r?14:0),r?Xn(e):e)}catch{return""+e}}function Ma(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Qu[t.v]||t.v:e==null?tb(t,t.v):tb(t,e))}function Po(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function JS(t,e,r){var n=r||{},s=t?Array.isArray(t):n.dense,i=t||(s?[]:{}),o=0,c=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?Xr(n.origin):n.origin;o=d.r,c=d.c}i["!ref"]||(i["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=dr(i["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),o==-1&&(f.e.r=o=h.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[p].length;++g)if(!(typeof e[p][g]>"u")){var x={v:e[p][g]},w=o+p,b=c+g;if(f.s.r>w&&(f.s.r=w),f.s.c>b&&(f.s.c=b),f.e.r<w&&(f.e.r=w),f.e.c<b&&(f.e.c=b),e[p][g]&&typeof e[p][g]=="object"&&!Array.isArray(e[p][g])&&!(e[p][g]instanceof Date))x=e[p][g];else if(Array.isArray(x.v)&&(x.f=e[p][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(n.nullError)x.t="e",x.v=0;else if(n.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=n.dateNF||Cr[14],n.cellDates?(x.t="d",x.w=Ci(x.z,Xn(x.v))):(x.t="n",x.v=Xn(x.v),x.w=Ci(x.z,x.v))):x.t="s";if(s)i[w]||(i[w]=[]),i[w][b]&&i[w][b].z&&(x.z=i[w][b].z),i[w][b]=x;else{var v=Zt({c:b,r:w});i[v]&&i[v].z&&(x.z=i[v].z),i[v]=x}}}return f.s.c<1e7&&(i["!ref"]=Fr(f)),i}function $l(t,e){return JS(null,t,e)}function cD(t){return t.read_shift(4,"i")}function Gs(t,e){return e||(e=De(4)),e.write_shift(4,t),e}function jn(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Jr(t,e){var r=!1;return e==null&&(r=!0,e=De(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function uD(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function dD(t,e){return e||(e=De(4)),e.write_shift(2,0),e.write_shift(2,0),e}function gx(t,e){var r=t.l,n=t.read_shift(1),s=jn(t),i=[],o={t:s,h:s};if((n&1)!==0){for(var c=t.read_shift(4),d=0;d!=c;++d)i.push(uD(t));o.r=i}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}function fD(t,e){var r=!1;return e==null&&(r=!0,e=De(15+4*t.t.length)),e.write_shift(1,0),Jr(t.t,e),r?e.slice(0,e.l):e}var hD=gx;function mD(t,e){var r=!1;return e==null&&(r=!0,e=De(23+4*t.t.length)),e.write_shift(1,1),Jr(t.t,e),e.write_shift(4,1),dD({},e),r?e.slice(0,e.l):e}function As(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Do(t,e){return e==null&&(e=De(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Ro(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Fo(t,e){return e==null&&(e=De(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var pD=jn,QS=Jr;function xx(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function mh(t,e){var r=!1;return e==null&&(r=!0,e=De(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var gD=jn,dg=xx,yx=mh;function ZS(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var s=n===0?hh([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):co(e,0)>>2;return r?s/100:s}function e_(t,e){e==null&&(e=De(4));var r=0,n=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?s:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function t_(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function xD(t,e){return e||(e=De(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Oo=t_,Yl=xD;function Kl(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function jo(t,e){return(e||De(8)).write_shift(8,t,"f")}function yD(t){var e={},r=t.read_shift(1),n=r>>>1,s=t.read_shift(1),i=t.read_shift(2,"i"),o=t.read_shift(1),c=t.read_shift(1),d=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=s;var f=TD[s];f&&(e.rgb=fb(f));break;case 2:e.rgb=fb([o,c,d]);break;case 3:e.theme=s;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function ph(t,e){if(e||(e=De(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function vD(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function bD(t,e){e||(e=De(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var r_=2,os=3,pf=11,gh=19,gf=64,wD=65,ND=71,SD=4108,_D=4126,an=80,rb={1:{n:"CodePage",t:r_},2:{n:"Category",t:an},3:{n:"PresentationFormat",t:an},4:{n:"ByteCount",t:os},5:{n:"LineCount",t:os},6:{n:"ParagraphCount",t:os},7:{n:"SlideCount",t:os},8:{n:"NoteCount",t:os},9:{n:"HiddenCount",t:os},10:{n:"MultimediaClipCount",t:os},11:{n:"ScaleCrop",t:pf},12:{n:"HeadingPairs",t:SD},13:{n:"TitlesOfParts",t:_D},14:{n:"Manager",t:an},15:{n:"Company",t:an},16:{n:"LinksUpToDate",t:pf},17:{n:"CharacterCount",t:os},19:{n:"SharedDoc",t:pf},22:{n:"HyperlinksChanged",t:pf},23:{n:"AppVersion",t:os,p:"version"},24:{n:"DigSig",t:wD},26:{n:"ContentType",t:an},27:{n:"ContentStatus",t:an},28:{n:"Language",t:an},29:{n:"Version",t:an},255:{},2147483648:{n:"Locale",t:gh},2147483651:{n:"Behavior",t:gh},1919054434:{}},nb={1:{n:"CodePage",t:r_},2:{n:"Title",t:an},3:{n:"Subject",t:an},4:{n:"Author",t:an},5:{n:"Keywords",t:an},6:{n:"Comments",t:an},7:{n:"Template",t:an},8:{n:"LastAuthor",t:an},9:{n:"RevNumber",t:an},10:{n:"EditTime",t:gf},11:{n:"LastPrinted",t:gf},12:{n:"CreatedDate",t:gf},13:{n:"ModifiedDate",t:gf},14:{n:"PageCount",t:os},15:{n:"WordCount",t:os},16:{n:"CharCount",t:os},17:{n:"Thumbnail",t:ND},18:{n:"Application",t:an},19:{n:"DocSecurity",t:os},255:{},2147483648:{n:"Locale",t:gh},2147483651:{n:"Behavior",t:gh},1919054434:{}};function CD(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var jD=CD([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),TD=Jn(jD),Qu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ED={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},xf={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function n_(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function s_(t,e){var r=IP(ED),n=[],s;n[n.length]=Mr,n[n.length]=Ge("Types",null,{xmlns:Gr.CT,"xmlns:xsd":Gr.xsd,"xmlns:xsi":Gr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Ge("Default",null,{Extension:d[0],ContentType:d[1]})}));var i=function(d){t[d]&&t[d].length>0&&(s=t[d][0],n[n.length]=Ge("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:xf[d][e.bookType]||xf[d].xlsx}))},o=function(d){(t[d]||[]).forEach(function(f){n[n.length]=Ge("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:xf[d][e.bookType]||xf[d].xlsx})})},c=function(d){(t[d]||[]).forEach(function(f){n[n.length]=Ge("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[d][0]})})};return i("workbooks"),o("sheets"),o("charts"),c("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),o("metadata"),c("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var zt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function a_(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function El(t){var e=[Mr,Ge("Relationships",null,{xmlns:Gr.RELS})];return fn(t["!id"]).forEach(function(r){e[e.length]=Ge("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Xt(t,e,r,n,s,i){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=n,s.Target=r,[zt.HLINK,zt.XPATH,zt.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function kD(t){var e=[Mr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function sb(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function AD(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function PD(t){var e=[Mr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(sb(t[r][0],t[r][1])),e.push(AD("",t[r][0]));return e.push(sb("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function i_(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+lh.version+"</meta:generator></office:meta></office:document-meta>"}var vo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function ip(t,e,r,n,s){s[t]!=null||e==null||e===""||(s[t]=e,e=Qt(e),n[n.length]=r?Ge(t,e,r):ln(t,e))}function o_(t,e){var r=e||{},n=[Mr,Ge("cp:coreProperties",null,{"xmlns:cp":Gr.CORE_PROPS,"xmlns:dc":Gr.dc,"xmlns:dcterms":Gr.dcterms,"xmlns:dcmitype":Gr.dcmitype,"xmlns:xsi":Gr.xsi})],s={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&ip("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:ug(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),t.ModifiedDate!=null&&ip("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:ug(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var i=0;i!=vo.length;++i){var o=vo[i],c=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:t?t[o[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&ip(o[0],c,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var kl=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],l_=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function c_(t){var e=[],r=Ge;return t||(t={}),t.Application="SheetJS",e[e.length]=Mr,e[e.length]=Ge("Properties",null,{xmlns:Gr.EXT_PROPS,"xmlns:vt":Gr.vt}),kl.forEach(function(n){if(t[n[1]]!==void 0){var s;switch(n[2]){case"string":s=Qt(String(t[n[1]]));break;case"bool":s=t[n[1]]?"true":"false";break}s!==void 0&&(e[e.length]=r(n[0],s))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Qt(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function u_(t){var e=[Mr,Ge("Properties",null,{xmlns:Gr.CUST_PROPS,"xmlns:vt":Gr.vt})];if(!t)return e.join("");var r=1;return fn(t).forEach(function(s){++r,e[e.length]=Ge("property",qP(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Qt(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var ab={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function DD(t,e){var r=[];return fn(ab).map(function(n){for(var s=0;s<vo.length;++s)if(vo[s][1]==n)return vo[s];for(s=0;s<kl.length;++s)if(kl[s][1]==n)return kl[s];throw n}).forEach(function(n){if(t[n[1]]!=null){var s=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(ln(ab[n[1]]||n[1],s))}}),Ge("DocumentProperties",r.join(""),{xmlns:cs.o})}function RD(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return t&&fn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var o=0;o<vo.length;++o)if(i==vo[o][1])return;for(o=0;o<kl.length;++o)if(i==kl[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var c=t[i],d="string";typeof c=="number"?(d="float",c=String(c)):c===!0||c===!1?(d="boolean",c=c?"1":"0"):c=String(c),s.push(Ge(Y2(i),c,{"dt:dt":d}))}}),e&&fn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o instanceof Date?(c="dateTime.tz",o=o.toISOString()):o=String(o),s.push(Ge(Y2(i),o,{"dt:dt":c}))}}),"<"+n+' xmlns="'+cs.o+'">'+s.join("")+"</"+n+">"}function FD(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),s+=i);var o=De(8);return o.write_shift(4,n),o.write_shift(4,s),o}function ib(t,e){var r=De(4),n=De(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=De(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=FD(e);break;case 31:case 80:for(n=De(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return on([r,n])}var d_=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function OD(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function ob(t,e,r){var n=De(8),s=[],i=[],o=8,c=0,d=De(8),f=De(8);if(d.write_shift(4,2),d.write_shift(4,1200),f.write_shift(4,1),i.push(d),s.push(f),o+=8+d.length,!e){f=De(8),f.write_shift(4,0),s.unshift(f);var h=[De(4)];for(h[0].write_shift(4,t.length),c=0;c<t.length;++c){var p=t[c][0];for(d=De(8+2*(p.length+1)+(p.length%2?0:2)),d.write_shift(4,c+2),d.write_shift(4,p.length+1),d.write_shift(0,p,"dbcs");d.l!=d.length;)d.write_shift(1,0);h.push(d)}d=on(h),i.unshift(d),o+=8+d.length}for(c=0;c<t.length;++c)if(!(e&&!e[t[c][0]])&&!(d_.indexOf(t[c][0])>-1||l_.indexOf(t[c][0])>-1)&&t[c][1]!=null){var g=t[c][1],x=0;if(e){x=+e[t[c][0]];var w=r[x];if(w.p=="version"&&typeof g=="string"){var b=g.split(".");g=(+b[0]<<16)+(+b[1]||0)}d=ib(w.t,g)}else{var v=OD(g);v==-1&&(v=31,g=String(g)),d=ib(v,g)}i.push(d),f=De(8),f.write_shift(4,e?x:2+c),s.push(f),o+=8+d.length}var C=8*(i.length+1);for(c=0;c<i.length;++c)s[c].write_shift(4,C),C+=i[c].length;return n.write_shift(4,o),n.write_shift(4,i.length),on([n].concat(s).concat(i))}function lb(t,e,r,n,s,i){var o=De(s?68:48),c=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,er.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,s?68:48);var d=ob(t,r,n);if(c.push(d),s){var f=ob(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+d.length),c.push(f)}return on(c)}function MD(t,e){e||(e=De(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function LD(t,e){return t.read_shift(e)===1}function Dn(t,e){return e||(e=De(2)),e.write_shift(2,+!!t),e}function f_(t){return t.read_shift(2,"u")}function _s(t,e){return e||(e=De(2)),e.write_shift(2,t),e}function h_(t,e,r){return r||(r=De(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function m_(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=n?t.read_shift(n,s):"";return o}function ID(t){var e=t.t||"",r=De(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=De(2*e.length);n.write_shift(2*e.length,e,"utf16le");var s=[r,n];return on(s)}function BD(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function UD(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):BD(t,n,r)}function zD(t,e,r){if(r.biff>5)return UD(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function p_(t,e,r){return r||(r=De(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function cb(t,e){e||(e=De(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function VD(t){var e=De(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),i=s>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)e.write_shift(4,o[r]);if(i==28)n=n.slice(1),cb(n,e);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));var c=s>-1?n.slice(0,s):n;for(e.write_shift(4,2*(c.length+1)),r=0;r<c.length;++r)e.write_shift(2,c.charCodeAt(r));e.write_shift(2,0),i&8&&cb(s>-1?n.slice(s+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,n.length-3*d+1),r=0;r<n.length-3*d;++r)e.write_shift(1,n.charCodeAt(r+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function To(t,e,r,n){return n||(n=De(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function HD(t,e,r){var n=r.biff>8?4:2,s=t.read_shift(n),i=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[s,i,o]}function WD(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(2);return{s:{c:n,r:e},e:{c:s,r}}}function g_(t,e){return e||(e=De(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function vx(t,e,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=De(s);return i.write_shift(2,n),i.write_shift(2,e),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function $D(t,e){var r=!e||e.biff==8,n=De(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function YD(t,e){var r=!e||e.biff>=8?2:1,n=De(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function KD(t,e){var r=De(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],s=0;s<t.length;++s)n[s]=ID(t[s]);var i=on([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function GD(){var t=De(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function qD(t){var e=De(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function XD(t,e){var r=t.name||"Arial",n=e&&e.biff==5,s=n?15+r.length:16+2*r.length,i=De(s);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function JD(t,e,r,n){var s=De(10);return To(t,e,n,s),s.write_shift(4,r),s}function QD(t,e,r,n,s){var i=!s||s.biff==8,o=De(8+ +i+(1+i)*r.length);return To(t,e,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function ZD(t,e,r,n){var s=r&&r.biff==5;n||(n=De(s?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(s?1:2,e.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function eR(t,e){var r=e.biff==8||!e.biff?4:2,n=De(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function ub(t,e,r,n){var s=r&&r.biff==5;n||(n=De(s?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&s&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function tR(t){var e=De(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function rR(t,e,r,n,s,i){var o=De(8);return To(t,e,n,o),h_(r,i,o),o}function nR(t,e,r,n){var s=De(14);return To(t,e,n,s),jo(r,s),s}function sR(t,e,r){if(r.biff<8)return aR(t,e,r);for(var n=[],s=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)n.push(HD(t,r.biff>8?12:6,r));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return n}function aR(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=m_(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function iR(t){var e=De(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)g_(t[r],e);return e}function oR(t){var e=De(24),r=Xr(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(n[s],16));return on([e,VD(t[1])])}function lR(t){var e=t[1].Tooltip,r=De(10+2*(e.length+1));r.write_shift(2,2048);var n=Xr(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<e.length;++s)r.write_shift(2,e.charCodeAt(s));return r.write_shift(2,0),r}function cR(t){return t||(t=De(4)),t.write_shift(2,1),t.write_shift(2,1),t}function uR(t,e,r){if(!r.cellStyles)return ma(t,e);var n=r&&r.biff>=12?4:2,s=t.read_shift(n),i=t.read_shift(n),o=t.read_shift(n),c=t.read_shift(n),d=t.read_shift(2);n==2&&(t.l+=2);var f={s,e:i,w:o,ixfe:c,flags:d};return(r.biff>=5||!r.biff)&&(f.level=d>>8&7),f}function dR(t,e){var r=De(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function fR(t){for(var e=De(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function hR(t,e,r){var n=De(15);return ed(n,t,e),n.write_shift(8,r,"f"),n}function mR(t,e,r){var n=De(9);return ed(n,t,e),n.write_shift(2,r),n}var pR=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=lx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,d){var f=[],h=Co(1);switch(d.type){case"base64":h=Ys(Oa(c));break;case"binary":h=Ys(c);break;case"buffer":case"array":h=c;break}ls(h,0);var p=h.read_shift(1),g=!!(p&136),x=!1,w=!1;switch(p){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var b=0,v=521;p==2&&(b=h.read_shift(2)),h.l+=3,p!=2&&(b=h.read_shift(4)),b>1048576&&(b=1e6),p!=2&&(v=h.read_shift(2));var C=h.read_shift(2),E=d.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(E=t[h[h.l]]),h.l+=1,h.l+=2),w&&(h.l+=36);for(var j=[],D={},T=Math.min(h.length,p==2?521:v-10-(x?264:0)),M=w?32:11;h.l<T&&h[h.l]!=13;)switch(D={},D.name=F2.utils.decode(E,h.slice(h.l,h.l+M)).replace(/[\u0000\r\n].*$/g,""),h.l+=M,D.type=String.fromCharCode(h.read_shift(1)),p!=2&&!w&&(D.offset=h.read_shift(4)),D.len=h.read_shift(1),p==2&&(D.offset=h.read_shift(2)),D.dec=h.read_shift(1),D.name.length&&j.push(D),p!=2&&(h.l+=w?13:14),D.type){case"B":(!x||D.len!=8)&&d.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(h[h.l]!==13&&(h.l=v-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=v;var _=0,P=0;for(f[0]=[],P=0;P!=j.length;++P)f[0][P]=j[P].name;for(;b-- >0;){if(h[h.l]===42){h.l+=C;continue}for(++h.l,f[++_]=[],P=0,P=0;P!=j.length;++P){var I=h.slice(h.l,h.l+j[P].len);h.l+=j[P].len,ls(I,0);var K=F2.utils.decode(E,I);switch(j[P].type){case"C":K.trim().length&&(f[_][P]=K.replace(/\s+$/,""));break;case"D":K.length===8?f[_][P]=new Date(+K.slice(0,4),+K.slice(4,6)-1,+K.slice(6,8)):f[_][P]=K;break;case"F":f[_][P]=parseFloat(K.trim());break;case"+":case"I":f[_][P]=w?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(K.trim().toUpperCase()){case"Y":case"T":f[_][P]=!0;break;case"N":case"F":f[_][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+K+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));f[_][P]="##MEMO##"+(w?parseInt(K.trim(),10):I.read_shift(4));break;case"N":K=K.replace(/\u0000/g,"").trim(),K&&K!="."&&(f[_][P]=+K||0);break;case"@":f[_][P]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":f[_][P]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":f[_][P]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[_][P]=-I.read_shift(-8,"f");break;case"B":if(x&&j[P].len==8){f[_][P]=I.read_shift(8,"f");break}case"G":case"P":I.l+=j[P].len;break;case"0":if(j[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[P].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return d&&d.sheetRows&&(f=f.slice(0,d.sheetRows)),d.DBF=j,f}function n(c,d){var f=d||{};f.dateNF||(f.dateNF="yyyymmdd");var h=$l(r(c,f),f);return h["!cols"]=f.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete f.DBF,h}function s(c,d){try{return Po(n(c,d),d)}catch(f){if(d&&d.WTF)throw f}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,d){var f=d||{};if(+f.codepage>=0&&Nu(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=qn(),p=wh(c,{header:1,raw:!0,cellDates:!0}),g=p[0],x=p.slice(1),w=c["!cols"]||[],b=0,v=0,C=0,E=1;for(b=0;b<g.length;++b){if(((w[b]||{}).DBF||{}).name){g[b]=w[b].DBF.name,++C;continue}if(g[b]!=null){if(++C,typeof g[b]=="number"&&(g[b]=g[b].toString(10)),typeof g[b]!="string")throw new Error("DBF Invalid column name "+g[b]+" |"+typeof g[b]+"|");if(g.indexOf(g[b])!==b){for(v=0;v<1024;++v)if(g.indexOf(g[b]+"_"+v)==-1){g[b]+="_"+v;break}}}}var j=dr(c["!ref"]),D=[],T=[],M=[];for(b=0;b<=j.e.c-j.s.c;++b){var _="",P="",I=0,K=[];for(v=0;v<x.length;++v)x[v][b]!=null&&K.push(x[v][b]);if(K.length==0||g[b]==null){D[b]="?";continue}for(v=0;v<K.length;++v){switch(typeof K[v]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=K[v]instanceof Date?"D":"C";break;default:P="C"}I=Math.max(I,String(K[v]).length),_=_&&_!=P?"C":P}I>250&&(I=250),P=((w[b]||{}).DBF||{}).type,P=="C"&&w[b].DBF.len>I&&(I=w[b].DBF.len),_=="B"&&P=="N"&&(_="N",M[b]=w[b].DBF.dec,I=w[b].DBF.len),T[b]=_=="C"||P=="N"?I:i[_]||0,E+=T[b],D[b]=_}var q=h.next(32);for(q.write_shift(4,318902576),q.write_shift(4,x.length),q.write_shift(2,296+32*C),q.write_shift(2,E),b=0;b<4;++b)q.write_shift(4,0);for(q.write_shift(4,0|(+e[yS]||3)<<8),b=0,v=0;b<g.length;++b)if(g[b]!=null){var H=h.next(32),oe=(g[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);H.write_shift(1,oe,"sbcs"),H.write_shift(1,D[b]=="?"?"C":D[b],"sbcs"),H.write_shift(4,v),H.write_shift(1,T[b]||i[D[b]]||0),H.write_shift(1,M[b]||0),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(1,0),H.write_shift(4,0),H.write_shift(4,0),v+=T[b]||i[D[b]]||0}var Q=h.next(264);for(Q.write_shift(4,13),b=0;b<65;++b)Q.write_shift(4,0);for(b=0;b<x.length;++b){var O=h.next(E);for(O.write_shift(1,0),v=0;v<g.length;++v)if(g[v]!=null)switch(D[v]){case"L":O.write_shift(1,x[b][v]==null?63:x[b][v]?84:70);break;case"B":O.write_shift(8,x[b][v]||0,"f");break;case"N":var W="0";for(typeof x[b][v]=="number"&&(W=x[b][v].toFixed(M[v]||0)),C=0;C<T[v]-W.length;++C)O.write_shift(1,32);O.write_shift(1,W,"sbcs");break;case"D":x[b][v]?(O.write_shift(4,("0000"+x[b][v].getFullYear()).slice(-4),"sbcs"),O.write_shift(2,("00"+(x[b][v].getMonth()+1)).slice(-2),"sbcs"),O.write_shift(2,("00"+x[b][v].getDate()).slice(-2),"sbcs")):O.write_shift(8,"00000000","sbcs");break;case"C":var ne=String(x[b][v]!=null?x[b][v]:"").slice(0,T[v]);for(O.write_shift(1,ne,"sbcs"),C=0;C<T[v]-ne.length;++C)O.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:s,to_sheet:n,from_sheet:o}}(),gR=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+fn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,x){var w=t[x];return typeof w=="number"?R2(w):w},n=function(g,x,w){var b=x.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return b==59?g:R2(b)};t["|"]=254;function s(g,x){switch(x.type){case"base64":return i(Oa(g),x);case"binary":return i(g,x);case"buffer":return i(Wt&&Buffer.isBuffer(g)?g.toString("binary"):qu(g),x);case"array":return i(s0(g),x)}throw new Error("Unrecognized type "+x.type)}function i(g,x){var w=g.split(/[\n\r]+/),b=-1,v=-1,C=0,E=0,j=[],D=[],T=null,M={},_=[],P=[],I=[],K=0,q;for(+x.codepage>=0&&Nu(+x.codepage);C!==w.length;++C){K=0;var H=w[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),oe=H.replace(/;;/g,"\0").split(";").map(function(k){return k.replace(/\u0000/g,";")}),Q=oe[0],O;if(H.length>0)switch(Q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":oe[1].charAt(0)=="P"&&D.push(H.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,ne=!1,X=!1,Z=!1,ae=-1,Y=-1;for(E=1;E<oe.length;++E)switch(oe[E].charAt(0)){case"A":break;case"X":v=parseInt(oe[E].slice(1))-1,ne=!0;break;case"Y":for(b=parseInt(oe[E].slice(1))-1,ne||(v=0),q=j.length;q<=b;++q)j[q]=[];break;case"K":O=oe[E].slice(1),O.charAt(0)==='"'?O=O.slice(1,O.length-1):O==="TRUE"?O=!0:O==="FALSE"?O=!1:isNaN(Pa(O))?isNaN(_u(O).getDate())||(O=On(O)):(O=Pa(O),T!==null&&AS(T)&&(O=FS(O))),W=!0;break;case"E":Z=!0;var R=mF(oe[E].slice(1),{r:b,c:v});j[b][v]=[j[b][v],R];break;case"S":X=!0,j[b][v]=[j[b][v],"S5S"];break;case"G":break;case"R":ae=parseInt(oe[E].slice(1))-1;break;case"C":Y=parseInt(oe[E].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+H)}if(W&&(j[b][v]&&j[b][v].length==2?j[b][v][0]=O:j[b][v]=O,T=null),X){if(Z)throw new Error("SYLK shared formula cannot have own formula");var U=ae>-1&&j[ae][Y];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");j[b][v][1]=pF(U[1],{r:b-ae,c:v-Y})}break;case"F":var z=0;for(E=1;E<oe.length;++E)switch(oe[E].charAt(0)){case"X":v=parseInt(oe[E].slice(1))-1,++z;break;case"Y":for(b=parseInt(oe[E].slice(1))-1,q=j.length;q<=b;++q)j[q]=[];break;case"M":K=parseInt(oe[E].slice(1))/20;break;case"F":break;case"G":break;case"P":T=D[parseInt(oe[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=oe[E].slice(1).split(" "),q=parseInt(I[0],10);q<=parseInt(I[1],10);++q)K=parseInt(I[2],10),P[q-1]=K===0?{hidden:!0}:{wch:K},bx(P[q-1]);break;case"C":v=parseInt(oe[E].slice(1))-1,P[v]||(P[v]={});break;case"R":b=parseInt(oe[E].slice(1))-1,_[b]||(_[b]={}),K>0?(_[b].hpt=K,_[b].hpx=w_(K)):K===0&&(_[b].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+H)}z<1&&(T=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+H)}}return _.length>0&&(M["!rows"]=_),P.length>0&&(M["!cols"]=P),x&&x.sheetRows&&(j=j.slice(0,x.sheetRows)),[j,M]}function o(g,x){var w=s(g,x),b=w[0],v=w[1],C=$l(b,x);return fn(v).forEach(function(E){C[E]=v[E]}),C}function c(g,x){return Po(o(g,x),x)}function d(g,x,w,b){var v="C;Y"+(w+1)+";X"+(b+1)+";K";switch(g.t){case"n":v+=g.v||0,g.f&&!g.F&&(v+=";E"+Nx(g.f,{r:w,c:b}));break;case"b":v+=g.v?"TRUE":"FALSE";break;case"e":v+=g.w||g.v;break;case"d":v+='"'+(g.w||g.v)+'"';break;case"s":v+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function f(g,x){x.forEach(function(w,b){var v="F;W"+(b+1)+" "+(b+1)+" ";w.hidden?v+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=xh(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=yh(w.wpx)),typeof w.wch=="number"&&(v+=Math.round(w.wch))),v.charAt(v.length-1)!=" "&&g.push(v)})}function h(g,x){x.forEach(function(w,b){var v="F;";w.hidden?v+="M0;":w.hpt?v+="M"+20*w.hpt+";":w.hpx&&(v+="M"+20*vh(w.hpx)+";"),v.length>2&&g.push(v+"R"+(b+1))})}function p(g,x){var w=["ID;PWXL;N;E"],b=[],v=dr(g["!ref"]),C,E=Array.isArray(g),j=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),g["!cols"]&&f(w,g["!cols"]),g["!rows"]&&h(w,g["!rows"]),w.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var D=v.s.r;D<=v.e.r;++D)for(var T=v.s.c;T<=v.e.c;++T){var M=Zt({r:D,c:T});C=E?(g[D]||[])[T]:g[M],!(!C||C.v==null&&(!C.f||C.F))&&b.push(d(C,g,D,T))}return w.join(j)+j+b.join(j)+j+"E"+j}return{to_workbook:c,to_sheet:o,from_sheet:p}}(),xR=function(){function t(i,o){switch(o.type){case"base64":return e(Oa(i),o);case"binary":return e(i,o);case"buffer":return e(Wt&&Buffer.isBuffer(i)?i.toString("binary"):qu(i),o);case"array":return e(s0(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){for(var c=i.split(`
`),d=-1,f=-1,h=0,p=[];h!==c.length;++h){if(c[h].trim()==="BOT"){p[++d]=[],f=0;continue}if(!(d<0)){var g=c[h].trim().split(","),x=g[0],w=g[1];++h;for(var b=c[h]||"";(b.match(/["]/g)||[]).length&1&&h<c.length-1;)b+=`
`+c[++h];switch(b=b.trim(),+x){case-1:if(b==="BOT"){p[++d]=[],f=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?p[d][f]=!0:b==="FALSE"?p[d][f]=!1:isNaN(Pa(w))?isNaN(_u(w).getDate())?p[d][f]=w:p[d][f]=On(w):p[d][f]=Pa(w),++f;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),p[d][f++]=b!==""?b:null;break}if(b==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function r(i,o){return $l(t(i,o),o)}function n(i,o){return Po(r(i,o),o)}var s=function(){var i=function(d,f,h,p,g){d.push(f),d.push(h+","+p),d.push('"'+g.replace(/"/g,'""')+'"')},o=function(d,f,h,p){d.push(f+","+h),d.push(f==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(d){var f=[],h=dr(d["!ref"]),p,g=Array.isArray(d);i(f,"TABLE",0,1,"sheetjs"),i(f,"VECTORS",0,h.e.r-h.s.r+1,""),i(f,"TUPLES",0,h.e.c-h.s.c+1,""),i(f,"DATA",0,0,"");for(var x=h.s.r;x<=h.e.r;++x){o(f,-1,0,"BOT");for(var w=h.s.c;w<=h.e.c;++w){var b=Zt({r:x,c:w});if(p=g?(d[x]||[])[w]:d[b],!p){o(f,1,0,"");continue}switch(p.t){case"n":var v=p.w;!v&&p.v!=null&&(v=p.v),v==null?p.f&&!p.F?o(f,1,0,"="+p.f):o(f,1,0,""):o(f,0,v,"V");break;case"b":o(f,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(f,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Ci(p.z||Cr[14],Xn(On(p.v)))),o(f,0,p.w,"V");break;default:o(f,1,0,"")}}}o(f,-1,0,"EOD");var C=`\r
`,E=f.join(C);return E}}();return{to_workbook:n,to_sheet:r,from_sheet:s}}(),x_=function(){function t(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,g){for(var x=p.split(`
`),w=-1,b=-1,v=0,C=[];v!==x.length;++v){var E=x[v].trim().split(":");if(E[0]==="cell"){var j=Xr(E[1]);if(C.length<=j.r)for(w=C.length;w<=j.r;++w)C[w]||(C[w]=[]);switch(w=j.r,b=j.c,E[2]){case"t":C[w][b]=t(E[3]);break;case"v":C[w][b]=+E[3];break;case"vtf":var D=E[E.length-1];case"vtc":switch(E[3]){case"nl":C[w][b]=!!+E[4];break;default:C[w][b]=+E[4];break}E[2]=="vtf"&&(C[w][b]=[C[w][b],D])}}}return g&&g.sheetRows&&(C=C.slice(0,g.sheetRows)),C}function n(p,g){return $l(r(p,g),g)}function s(p,g){return Po(n(p,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function f(p){if(!p||!p["!ref"])return"";for(var g=[],x=[],w,b="",v=ds(p["!ref"]),C=Array.isArray(p),E=v.s.r;E<=v.e.r;++E)for(var j=v.s.c;j<=v.e.c;++j)if(b=Zt({r:E,c:j}),w=C?(p[E]||[])[j]:p[b],!(!w||w.v==null||w.t==="z")){switch(x=["cell",b,"t"],w.t){case"s":case"str":x.push(e(w.v));break;case"n":w.f?(x[2]="vtf",x[3]="n",x[4]=w.v,x[5]=e(w.f)):(x[2]="v",x[3]=w.v);break;case"b":x[2]="vt"+(w.f?"f":"c"),x[3]="nl",x[4]=w.v?"1":"0",x[5]=e(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var D=Xn(On(w.v));x[2]="vtc",x[3]="nd",x[4]=""+D,x[5]=w.w||Ci(w.z||Cr[14],D);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(p){return[i,o,c,o,f(p),d].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:h}}(),yR=function(){function t(h,p,g,x,w){w.raw?p[g][x]=h:h===""||(h==="TRUE"?p[g][x]=!0:h==="FALSE"?p[g][x]=!1:isNaN(Pa(h))?isNaN(_u(h).getDate())?p[g][x]=h:p[g][x]=On(h):p[g][x]=Pa(h))}function e(h,p){var g=p||{},x=[];if(!h||h.length===0)return x;for(var w=h.split(/[\r\n]/),b=w.length-1;b>=0&&w[b].length===0;)--b;for(var v=10,C=0,E=0;E<=b;++E)C=w[E].indexOf(" "),C==-1?C=w[E].length:C++,v=Math.max(v,C);for(E=0;E<=b;++E){x[E]=[];var j=0;for(t(w[E].slice(0,v).trim(),x,E,j,g),j=1;j<=(w[E].length-v)/10+1;++j)t(w[E].slice(v+(j-1)*10,v+j*10).trim(),x,E,j,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(h){for(var p={},g=!1,x=0,w=0;x<h.length;++x)(w=h.charCodeAt(x))==34?g=!g:!g&&w in r&&(p[w]=(p[w]||0)+1);w=[];for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&w.push([p[x],x]);if(!w.length){p=n;for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&w.push([p[x],x])}return w.sort(function(b,v){return b[0]-v[0]||n[b[1]]-n[v[1]]}),r[w.pop()[1]]||44}function i(h,p){var g=p||{},x="",w=g.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(x=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(x=h.charAt(4),h=h.slice(6)):x=s(h.slice(0,1024)):g&&g.FS?x=g.FS:x=s(h.slice(0,1024));var v=0,C=0,E=0,j=0,D=0,T=x.charCodeAt(0),M=!1,_=0,P=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var I=g.dateNF!=null?FP(g.dateNF):null;function K(){var q=h.slice(j,D),H={};if(q.charAt(0)=='"'&&q.charAt(q.length-1)=='"'&&(q=q.slice(1,-1).replace(/""/g,'"')),q.length===0)H.t="z";else if(g.raw)H.t="s",H.v=q;else if(q.trim().length===0)H.t="s",H.v=q;else if(q.charCodeAt(0)==61)q.charCodeAt(1)==34&&q.charCodeAt(q.length-1)==34?(H.t="s",H.v=q.slice(2,-1).replace(/""/g,'"')):gF(q)?(H.t="n",H.f=q.slice(1)):(H.t="s",H.v=q);else if(q=="TRUE")H.t="b",H.v=!0;else if(q=="FALSE")H.t="b",H.v=!1;else if(!isNaN(E=Pa(q)))H.t="n",g.cellText!==!1&&(H.w=q),H.v=E;else if(!isNaN(_u(q).getDate())||I&&q.match(I)){H.z=g.dateNF||Cr[14];var oe=0;I&&q.match(I)&&(q=OP(q,g.dateNF,q.match(I)||[]),oe=1),g.cellDates?(H.t="d",H.v=On(q,oe)):(H.t="n",H.v=Xn(On(q,oe))),g.cellText!==!1&&(H.w=Ci(H.z,H.v instanceof Date?Xn(H.v):H.v)),g.cellNF||delete H.z}else H.t="s",H.v=q;if(H.t=="z"||(g.dense?(w[v]||(w[v]=[]),w[v][C]=H):w[Zt({c:C,r:v})]=H),j=D+1,P=h.charCodeAt(j),b.e.c<C&&(b.e.c=C),b.e.r<v&&(b.e.r=v),_==T)++C;else if(C=0,++v,g.sheetRows&&g.sheetRows<=v)return!0}e:for(;D<h.length;++D)switch(_=h.charCodeAt(D)){case 34:P===34&&(M=!M);break;case T:case 10:case 13:if(!M&&K())break e;break}return D-j>0&&K(),w["!ref"]=Fr(b),w}function o(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,p):$l(e(h,p),p)}function c(h,p){var g="",x=p.type=="string"?[0,0,0,0]:A7(h,p);switch(p.type){case"base64":g=Oa(h);break;case"binary":g=h;break;case"buffer":p.codepage==65001?g=h.toString("utf8"):(p.codepage,g=Wt&&Buffer.isBuffer(h)?h.toString("binary"):qu(h));break;case"array":g=s0(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+p.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=ru(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=ru(g):p.type=="binary",g.slice(0,19)=="socialcalc:version:"?x_.to_sheet(p.type=="string"?g:ru(g),p):o(g,p)}function d(h,p){return Po(c(h,p),p)}function f(h){for(var p=[],g=dr(h["!ref"]),x,w=Array.isArray(h),b=g.s.r;b<=g.e.r;++b){for(var v=[],C=g.s.c;C<=g.e.c;++C){var E=Zt({r:b,c:C});if(x=w?(h[b]||[])[C]:h[E],!x||x.v==null){v.push("          ");continue}for(var j=(x.w||(Ma(x),x.w)||"").slice(0,10);j.length<10;)j+=" ";v.push(j+(C===0?" ":""))}p.push(v.join(""))}return p.join(`
`)}return{to_workbook:d,to_sheet:c,from_sheet:f}}(),db=function(){function t(R,U,z){if(R){ls(R,R.l||0);for(var k=z.Enum||ae;R.l<R.length;){var ce=R.read_shift(2),ee=k[ce]||k[65535],he=R.read_shift(2),ye=R.l+he,ke=ee.f&&ee.f(R,he,z);if(R.l=ye,U(ke,ee,ce))return}}}function e(R,U){switch(U.type){case"base64":return r(Ys(Oa(R)),U);case"binary":return r(Ys(R),U);case"buffer":case"array":return r(R,U)}throw"Unsupported type "+U.type}function r(R,U){if(!R)return R;var z=U||{},k=z.dense?[]:{},ce="Sheet1",ee="",he=0,ye={},ke=[],Ke=[],He={s:{r:0,c:0},e:{r:0,c:0}},rt=z.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)z.Enum=ae,t(R,function(je,Ze,nt){switch(nt){case 0:z.vers=je,je>=4096&&(z.qpro=!0);break;case 6:He=je;break;case 204:je&&(ee=je);break;case 222:ee=je;break;case 15:case 51:z.qpro||(je[1].v=je[1].v.slice(1));case 13:case 14:case 16:nt==14&&(je[2]&112)==112&&(je[2]&15)>1&&(je[2]&15)<15&&(je[1].z=z.dateNF||Cr[14],z.cellDates&&(je[1].t="d",je[1].v=FS(je[1].v))),z.qpro&&je[3]>he&&(k["!ref"]=Fr(He),ye[ce]=k,ke.push(ce),k=z.dense?[]:{},He={s:{r:0,c:0},e:{r:0,c:0}},he=je[3],ce=ee||"Sheet"+(he+1),ee="");var ht=z.dense?(k[je[0].r]||[])[je[0].c]:k[Zt(je[0])];if(ht){ht.t=je[1].t,ht.v=je[1].v,je[1].z!=null&&(ht.z=je[1].z),je[1].f!=null&&(ht.f=je[1].f);break}z.dense?(k[je[0].r]||(k[je[0].r]=[]),k[je[0].r][je[0].c]=je[1]):k[Zt(je[0])]=je[1];break}},z);else if(R[2]==26||R[2]==14)z.Enum=Y,R[2]==14&&(z.qpro=!0,R.l=0),t(R,function(je,Ze,nt){switch(nt){case 204:ce=je;break;case 22:je[1].v=je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(je[3]>he&&(k["!ref"]=Fr(He),ye[ce]=k,ke.push(ce),k=z.dense?[]:{},He={s:{r:0,c:0},e:{r:0,c:0}},he=je[3],ce="Sheet"+(he+1)),rt>0&&je[0].r>=rt)break;z.dense?(k[je[0].r]||(k[je[0].r]=[]),k[je[0].r][je[0].c]=je[1]):k[Zt(je[0])]=je[1],He.e.c<je[0].c&&(He.e.c=je[0].c),He.e.r<je[0].r&&(He.e.r=je[0].r);break;case 27:je[14e3]&&(Ke[je[14e3][0]]=je[14e3][1]);break;case 1537:Ke[je[0]]=je[1],je[0]==he&&(ce=je[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(k["!ref"]=Fr(He),ye[ee||ce]=k,ke.push(ee||ce),!Ke.length)return{SheetNames:ke,Sheets:ye};for(var Ve={},de=[],Ee=0;Ee<Ke.length;++Ee)ye[ke[Ee]]?(de.push(Ke[Ee]||ke[Ee]),Ve[Ke[Ee]]=ye[Ke[Ee]]||ye[ke[Ee]]):(de.push(Ke[Ee]),Ve[Ke[Ee]]={"!ref":"A1"});return{SheetNames:de,Sheets:Ve}}function n(R,U){var z=U||{};if(+z.codepage>=0&&Nu(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var k=qn(),ce=dr(R["!ref"]),ee=Array.isArray(R),he=[];qe(k,0,i(1030)),qe(k,6,d(ce));for(var ye=Math.min(ce.e.r,8191),ke=ce.s.r;ke<=ye;++ke)for(var Ke=un(ke),He=ce.s.c;He<=ce.e.c;++He){ke===ce.s.r&&(he[He]=Cn(He));var rt=he[He]+Ke,Ve=ee?(R[ke]||[])[He]:R[rt];if(!(!Ve||Ve.t=="z"))if(Ve.t=="n")(Ve.v|0)==Ve.v&&Ve.v>=-32768&&Ve.v<=32767?qe(k,13,x(ke,He,Ve.v)):qe(k,14,b(ke,He,Ve.v));else{var de=Ma(Ve);qe(k,15,p(ke,He,de.slice(0,239)))}}return qe(k,1),k.end()}function s(R,U){var z=U||{};if(+z.codepage>=0&&Nu(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var k=qn();qe(k,0,o(R));for(var ce=0,ee=0;ce<R.SheetNames.length;++ce)(R.Sheets[R.SheetNames[ce]]||{})["!ref"]&&qe(k,27,Z(R.SheetNames[ce],ee++));var he=0;for(ce=0;ce<R.SheetNames.length;++ce){var ye=R.Sheets[R.SheetNames[ce]];if(!(!ye||!ye["!ref"])){for(var ke=dr(ye["!ref"]),Ke=Array.isArray(ye),He=[],rt=Math.min(ke.e.r,8191),Ve=ke.s.r;Ve<=rt;++Ve)for(var de=un(Ve),Ee=ke.s.c;Ee<=ke.e.c;++Ee){Ve===ke.s.r&&(He[Ee]=Cn(Ee));var je=He[Ee]+de,Ze=Ke?(ye[Ve]||[])[Ee]:ye[je];if(!(!Ze||Ze.t=="z"))if(Ze.t=="n")qe(k,23,K(Ve,Ee,he,Ze.v));else{var nt=Ma(Ze);qe(k,22,_(Ve,Ee,he,nt.slice(0,239)))}}++he}}return qe(k,1),k.end()}function i(R){var U=De(2);return U.write_shift(2,R),U}function o(R){var U=De(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var z=0,k=0,ce=0,ee=0;ee<R.SheetNames.length;++ee){var he=R.SheetNames[ee],ye=R.Sheets[he];if(!(!ye||!ye["!ref"])){++ce;var ke=ds(ye["!ref"]);z<ke.e.r&&(z=ke.e.r),k<ke.e.c&&(k=ke.e.c)}}return z>8191&&(z=8191),U.write_shift(2,z),U.write_shift(1,ce),U.write_shift(1,k),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function c(R,U,z){var k={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&z.qpro?(k.s.c=R.read_shift(1),R.l++,k.s.r=R.read_shift(2),k.e.c=R.read_shift(1),R.l++,k.e.r=R.read_shift(2),k):(k.s.c=R.read_shift(2),k.s.r=R.read_shift(2),U==12&&z.qpro&&(R.l+=2),k.e.c=R.read_shift(2),k.e.r=R.read_shift(2),U==12&&z.qpro&&(R.l+=2),k.s.c==65535&&(k.s.c=k.e.c=k.s.r=k.e.r=0),k)}function d(R){var U=De(8);return U.write_shift(2,R.s.c),U.write_shift(2,R.s.r),U.write_shift(2,R.e.c),U.write_shift(2,R.e.r),U}function f(R,U,z){var k=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(k[0].c=R.read_shift(1),k[3]=R.read_shift(1),k[0].r=R.read_shift(2),R.l+=2):(k[2]=R.read_shift(1),k[0].c=R.read_shift(2),k[0].r=R.read_shift(2)),k}function h(R,U,z){var k=R.l+U,ce=f(R,U,z);if(ce[1].t="s",z.vers==20768){R.l++;var ee=R.read_shift(1);return ce[1].v=R.read_shift(ee,"utf8"),ce}return z.qpro&&R.l++,ce[1].v=R.read_shift(k-R.l,"cstr"),ce}function p(R,U,z){var k=De(7+z.length);k.write_shift(1,255),k.write_shift(2,U),k.write_shift(2,R),k.write_shift(1,39);for(var ce=0;ce<k.length;++ce){var ee=z.charCodeAt(ce);k.write_shift(1,ee>=128?95:ee)}return k.write_shift(1,0),k}function g(R,U,z){var k=f(R,U,z);return k[1].v=R.read_shift(2,"i"),k}function x(R,U,z){var k=De(7);return k.write_shift(1,255),k.write_shift(2,U),k.write_shift(2,R),k.write_shift(2,z,"i"),k}function w(R,U,z){var k=f(R,U,z);return k[1].v=R.read_shift(8,"f"),k}function b(R,U,z){var k=De(13);return k.write_shift(1,255),k.write_shift(2,U),k.write_shift(2,R),k.write_shift(8,z,"f"),k}function v(R,U,z){var k=R.l+U,ce=f(R,U,z);if(ce[1].v=R.read_shift(8,"f"),z.qpro)R.l=k;else{var ee=R.read_shift(2);D(R.slice(R.l,R.l+ee),ce),R.l+=ee}return ce}function C(R,U,z){var k=U&32768;return U&=-32769,U=(k?R:0)+(U>=8192?U-16384:U),(k?"":"$")+(z?Cn(U):un(U))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(R,U){ls(R,0);for(var z=[],k=0,ce="",ee="",he="",ye="";R.l<R.length;){var ke=R[R.l++];switch(ke){case 0:z.push(R.read_shift(8,"f"));break;case 1:ee=C(U[0].c,R.read_shift(2),!0),ce=C(U[0].r,R.read_shift(2),!1),z.push(ee+ce);break;case 2:{var Ke=C(U[0].c,R.read_shift(2),!0),He=C(U[0].r,R.read_shift(2),!1);ee=C(U[0].c,R.read_shift(2),!0),ce=C(U[0].r,R.read_shift(2),!1),z.push(Ke+He+":"+ee+ce)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(R.read_shift(2));break;case 6:{for(var rt="";ke=R[R.l++];)rt+=String.fromCharCode(ke);z.push('"'+rt.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:ye=z.pop(),he=z.pop(),z.push(["AND","OR"][ke-20]+"("+he+","+ye+")");break;default:if(ke<32&&j[ke])ye=z.pop(),he=z.pop(),z.push(he+j[ke]+ye);else if(E[ke]){if(k=E[ke][1],k==69&&(k=R[R.l++]),k>z.length){console.error("WK1 bad formula parse 0x"+ke.toString(16)+":|"+z.join("|")+"|");return}var Ve=z.slice(-k);z.length-=k,z.push(E[ke][0]+"("+Ve.join(",")+")")}else return ke<=7?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=24?console.error("WK1 unsupported op "+ke.toString(16)):ke<=30?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=115?console.error("WK1 unsupported function opcode "+ke.toString(16)):console.error("WK1 unrecognized opcode "+ke.toString(16))}}z.length==1?U[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function T(R){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=R.read_shift(2),U[3]=R[R.l++],U[0].c=R[R.l++],U}function M(R,U){var z=T(R);return z[1].t="s",z[1].v=R.read_shift(U-4,"cstr"),z}function _(R,U,z,k){var ce=De(6+k.length);ce.write_shift(2,R),ce.write_shift(1,z),ce.write_shift(1,U),ce.write_shift(1,39);for(var ee=0;ee<k.length;++ee){var he=k.charCodeAt(ee);ce.write_shift(1,he>=128?95:he)}return ce.write_shift(1,0),ce}function P(R,U){var z=T(R);z[1].v=R.read_shift(2);var k=z[1].v>>1;if(z[1].v&1)switch(k&7){case 0:k=(k>>3)*5e3;break;case 1:k=(k>>3)*500;break;case 2:k=(k>>3)/20;break;case 3:k=(k>>3)/200;break;case 4:k=(k>>3)/2e3;break;case 5:k=(k>>3)/2e4;break;case 6:k=(k>>3)/16;break;case 7:k=(k>>3)/64;break}return z[1].v=k,z}function I(R,U){var z=T(R),k=R.read_shift(4),ce=R.read_shift(4),ee=R.read_shift(2);if(ee==65535)return k===0&&ce===3221225472?(z[1].t="e",z[1].v=15):k===0&&ce===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var he=ee&32768;return ee=(ee&32767)-16446,z[1].v=(1-he*2)*(ce*Math.pow(2,ee+32)+k*Math.pow(2,ee)),z}function K(R,U,z,k){var ce=De(14);if(ce.write_shift(2,R),ce.write_shift(1,z),ce.write_shift(1,U),k==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var ee=0,he=0,ye=0,ke=0;return k<0&&(ee=1,k=-k),he=Math.log2(k)|0,k/=Math.pow(2,he-31),ke=k>>>0,(ke&2147483648)==0&&(k/=2,++he,ke=k>>>0),k-=ke,ke|=2147483648,ke>>>=0,k*=Math.pow(2,32),ye=k>>>0,ce.write_shift(4,ye),ce.write_shift(4,ke),he+=16383+(ee?32768:0),ce.write_shift(2,he),ce}function q(R,U){var z=I(R);return R.l+=U-14,z}function H(R,U){var z=T(R),k=R.read_shift(4);return z[1].v=k>>6,z}function oe(R,U){var z=T(R),k=R.read_shift(8,"f");return z[1].v=k,z}function Q(R,U){var z=oe(R);return R.l+=U-10,z}function O(R,U){return R[R.l+U-1]==0?R.read_shift(U,"cstr"):""}function W(R,U){var z=R[R.l++];z>U-1&&(z=U-1);for(var k="";k.length<z;)k+=String.fromCharCode(R[R.l++]);return k}function ne(R,U,z){if(!(!z.qpro||U<21)){var k=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var ce=R.read_shift(U-21,"cstr");return[k,ce]}}function X(R,U){for(var z={},k=R.l+U;R.l<k;){var ce=R.read_shift(2);if(ce==14e3){for(z[ce]=[0,""],z[ce][0]=R.read_shift(2);R[R.l];)z[ce][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return z}function Z(R,U){var z=De(5+R.length);z.write_shift(2,14e3),z.write_shift(2,U);for(var k=0;k<R.length;++k){var ce=R.charCodeAt(k);z[z.l++]=ce>127?95:ce}return z[z.l++]=0,z}var ae={0:{n:"BOF",f:f_},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:O},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},Y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:M},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:q},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:X},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:H},38:{n:"??"},39:{n:"NUMBER27",f:oe},40:{n:"FORMULA28",f:Q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:O},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ne},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:e}}(),vR=/^\s|\s$|[\t\n\r]/;function y_(t,e){if(!e.bookSST)return"";var r=[Mr];r[r.length]=Ge("sst",null,{xmlns:Wl[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var s=t[n],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(vR)&&(i+=' xml:space="preserve"'),i+=">"+Qt(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function bR(t){return[t.read_shift(4),t.read_shift(4)]}function wR(t,e){return e||(e=De(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var NR=fD;function SR(t){var e=qn();Fe(e,159,wR(t));for(var r=0;r<t.length;++r)Fe(e,19,NR(t[r]));return Fe(e,160),e.end()}function _R(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function v_(t){var e=0,r,n=_R(t),s=n.length+1,i,o,c,d,f;for(r=Co(s),r[0]=n.length,i=1;i!=s;++i)r[i]=n[i-1];for(i=s-1;i>=0;--i)o=r[i],c=(e&16384)===0?0:1,d=e<<1&32767,f=c|d,e=f^o;return e^52811}var CR=function(){function t(s,i){switch(i.type){case"base64":return e(Oa(s),i);case"binary":return e(s,i);case"buffer":return e(Wt&&Buffer.isBuffer(s)?s.toString("binary"):qu(s),i);case"array":return e(s0(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){var o=i||{},c=o.dense?[]:{},d=s.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(h,p){Array.isArray(c)&&(c[p]=[]);for(var g=/\\\w+\b/g,x=0,w,b=-1;w=g.exec(h);){switch(w[0]){case"\\cell":var v=h.slice(x,g.lastIndex-w[0].length);if(v[0]==" "&&(v=v.slice(1)),++b,v.length){var C={v,t:"s"};Array.isArray(c)?c[p][b]=C:c[Zt({r:p,c:b})]=C}break}x=g.lastIndex}b>f.e.c&&(f.e.c=b)}),c["!ref"]=Fr(f),c}function r(s,i){return Po(t(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],o=dr(s["!ref"]),c,d=Array.isArray(s),f=o.s.r;f<=o.e.r;++f){i.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var p=Zt({r:f,c:h});c=d?(s[f]||[])[h]:s[p],!(!c||c.v==null&&(!c.f||c.F))&&(i.push(" "+(c.w||(Ma(c),c.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function fb(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var jR=6,Da=jR;function xh(t){return Math.floor((t+Math.round(128/Da)/256)*Da)}function yh(t){return Math.floor((t-5)/Da*100+.5)/100}function fg(t){return Math.round((t*Da+5)/Da*256)/256}function bx(t){t.width?(t.wpx=xh(t.width),t.wch=yh(t.wpx),t.MDW=Da):t.wpx?(t.wch=yh(t.wpx),t.width=fg(t.wch),t.MDW=Da):typeof t.wch=="number"&&(t.width=fg(t.wch),t.wpx=xh(t.width),t.MDW=Da),t.customWidth&&delete t.customWidth}var TR=96,b_=TR;function vh(t){return t*96/b_}function w_(t){return t*b_/96}function ER(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Ge("numFmt",null,{numFmtId:n,formatCode:Qt(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ge("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function kR(t){var e=[];return e[e.length]=Ge("cellXfs",null),t.forEach(function(r){e[e.length]=Ge("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ge("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function N_(t,e){var r=[Mr,Ge("styleSheet",null,{xmlns:Wl[0],"xmlns:vt":Gr.vt})],n;return t.SSF&&(n=ER(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=kR(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function AR(t,e){var r=t.read_shift(2),n=jn(t);return[r,n]}function PR(t,e,r){r||(r=De(6+4*e.length)),r.write_shift(2,t),Jr(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function DR(t,e,r){var n={};n.sz=t.read_shift(2)/20;var s=vD(t);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var c=t.read_shift(1);c>0&&(n.family=c);var d=t.read_shift(1);switch(d>0&&(n.charset=d),t.l++,n.color=yD(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=jn(t),n}function RR(t,e){e||(e=De(25+4*32)),e.write_shift(2,t.sz*20),bD(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),ph(t.color,e);var n=0;return n=2,e.write_shift(1,n),Jr(t.name,e),e.length>e.l?e.slice(0,e.l):e}var FR=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],op,OR=ma;function hb(t,e){e||(e=De(4*3+8*7+16*1)),op||(op=lx(FR));var r=op[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(ph({auto:1},e),ph({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function MR(t,e){var r=t.l+e,n=t.read_shift(2),s=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:s}}function S_(t,e,r){r||(r=De(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Fc(t,e){return e||(e=De(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var LR=ma;function IR(t,e){return e||(e=De(51)),e.write_shift(1,0),Fc(null,e),Fc(null,e),Fc(null,e),Fc(null,e),Fc(null,e),e.length>e.l?e.slice(0,e.l):e}function BR(t,e){return e||(e=De(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),mh(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function UR(t,e,r){var n=De(2052);return n.write_shift(4,t),mh(e,n),mh(r,n),n.length>n.l?n.slice(0,n.l):n}function zR(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&++r}),r!=0&&(Fe(t,615,Gs(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&Fe(t,44,PR(s,e[s]))}),Fe(t,616))}}function VR(t){var e=1;Fe(t,611,Gs(e)),Fe(t,43,RR({sz:12,color:{theme:1},name:"Calibri",family:2})),Fe(t,612)}function HR(t){var e=2;Fe(t,603,Gs(e)),Fe(t,45,hb({patternType:"none"})),Fe(t,45,hb({patternType:"gray125"})),Fe(t,604)}function WR(t){var e=1;Fe(t,613,Gs(e)),Fe(t,46,IR()),Fe(t,614)}function $R(t){var e=1;Fe(t,626,Gs(e)),Fe(t,47,S_({numFmtId:0},65535)),Fe(t,627)}function YR(t,e){Fe(t,617,Gs(e.length)),e.forEach(function(r){Fe(t,47,S_(r,0))}),Fe(t,618)}function KR(t){var e=1;Fe(t,619,Gs(e)),Fe(t,48,BR({xfId:0,name:"Normal"})),Fe(t,620)}function GR(t){var e=0;Fe(t,505,Gs(e)),Fe(t,506)}function qR(t){var e=0;Fe(t,508,UR(e,"TableStyleMedium9","PivotStyleMedium4")),Fe(t,509)}function XR(t,e){var r=qn();return Fe(r,278),zR(r,t.SSF),VR(r),HR(r),WR(r),$R(r),YR(r,e.cellXfs),KR(r),GR(r),qR(r),Fe(r,279),r.end()}function __(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Mr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function JR(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:jn(t)}}function QR(t){var e=De(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Jr(t.name,e),e.slice(0,e.l)}function ZR(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function eF(t){var e=De(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function tF(t,e){var r=De(8+2*e.length);return r.write_shift(4,t),Jr(e,r),r.slice(0,r.l)}function rF(t){return t.l+=4,t.read_shift(4)!=0}function nF(t,e){var r=De(8);return r.write_shift(4,t),r.write_shift(4,1),r}function sF(){var t=qn();return Fe(t,332),Fe(t,334,Gs(1)),Fe(t,335,QR({name:"XLDAPR",version:12e4,flags:3496657072})),Fe(t,336),Fe(t,339,tF(1,"XLDAPR")),Fe(t,52),Fe(t,35,Gs(514)),Fe(t,4096,Gs(0)),Fe(t,4097,_s(1)),Fe(t,36),Fe(t,53),Fe(t,340),Fe(t,337,nF(1)),Fe(t,51,eF([[1,0]])),Fe(t,338),Fe(t,333),t.end()}function C_(){var t=[Mr];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function aF(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Zt(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var vl=1024;function j_(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[Ge("xml",null,{"xmlns:v":cs.v,"xmlns:o":cs.o,"xmlns:x":cs.x,"xmlns:mv":cs.mv}).replace(/\/>/,">"),Ge("o:shapelayout",Ge("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Ge("v:shapetype",[Ge("v:stroke",null,{joinstyle:"miter"}),Ge("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];vl<t*1e3;)vl+=1e3;return e.forEach(function(i){var o=Xr(i[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var d=c.type=="gradient"?Ge("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Ge("v:fill",d,c),h={on:"t",obscured:"t"};++vl,s=s.concat(["<v:shape"+ju({id:"_x0000_s"+vl,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Ge("v:shadow",null,h),Ge("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ln("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),ln("x:AutoFill","False"),ln("x:Row",String(o.r)),ln("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function T_(t){var e=[Mr,Ge("comments",null,{xmlns:Wl[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(s){var i=Qt(s.a);r.indexOf(i)==-1&&(r.push(i),e.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var s=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(s=r.indexOf(Qt(d.a))),i.push(d.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),i.length<=1)e.push(ln("t",Qt(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,c=1;c<i.length;++c)o+=`Reply:
    `+i[c]+`
`;e.push(ln("t",Qt(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function iF(t,e,r){var n=[Mr,Ge("ThreadedComments",null,{xmlns:Gr.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,c){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var d={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};c==0?i=d.id:d.parentId=i,o.ID=d.id,o.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),n.push(Ge("threadedComment",ln("text",o.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function oF(t){var e=[Mr,Ge("personList",null,{xmlns:Gr.TCMNT,"xmlns:x":Wl[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Ge("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function lF(t){var e={};e.iauthor=t.read_shift(4);var r=Oo(t);return e.rfx=r.s,e.ref=Zt(r.s),t.l+=16,e}function cF(t,e){return e==null&&(e=De(36)),e.write_shift(4,t[1].iauthor),Yl(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var uF=jn;function dF(t){return Jr(t.slice(0,54))}function fF(t){var e=qn(),r=[];return Fe(e,628),Fe(e,630),t.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Fe(e,632,dF(s.a)))})}),Fe(e,631),Fe(e,633),t.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:Xr(n[0]),e:Xr(n[0])};Fe(e,635,cF([i,s])),s.t&&s.t.length>0&&Fe(e,637,mD(s)),Fe(e,636),delete s.iauthor})}),Fe(e,634),Fe(e,629),e.end()}function hF(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&er.utils.cfb_add(t,s,e.FileIndex[n].content)}})}var E_=["xlsb","xlsm","xlam","biff8","xla"],mF=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,s,i,o){var c=!1,d=!1;i.length==0?d=!0:i.charAt(0)=="["&&(d=!0,i=i.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var f=i.length>0?parseInt(i,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return c?h+=e.c:--h,d?f+=e.r:--f,s+(c?"":"$")+Cn(h)+(d?"":"$")+un(f)}return function(s,i){return e=i,s.replace(t,r)}}(),wx=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Nx=function(){return function(e,r){return e.replace(wx,function(n,s,i,o,c,d){var f=px(o)-(i?0:r.c),h=mx(d)-(c?0:r.r),p=h==0?"":c?h+1:"["+h+"]",g=f==0?"":i?f+1:"["+f+"]";return s+"R"+p+"C"+g})}}();function pF(t,e){return t.replace(wx,function(r,n,s,i,o,c){return n+(s=="$"?s+i:Cn(px(i)+e.c))+(o=="$"?o+c:un(mx(c)+e.r))})}function gF(t){return t.length!=1}function Dr(t){t.l+=1}function ji(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function k_(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return A_(t);r.biff==12&&(n=4)}var s=t.read_shift(n),i=t.read_shift(n),o=ji(t),c=ji(t);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function A_(t){var e=ji(t),r=ji(t),n=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function xF(t,e,r){if(r.biff<8)return A_(t);var n=t.read_shift(r.biff==12?4:2),s=t.read_shift(r.biff==12?4:2),i=ji(t),o=ji(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function P_(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return yF(t);var n=t.read_shift(r&&r.biff==12?4:2),s=ji(t);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function yF(t){var e=ji(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function vF(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function bF(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return wF(t);var s=t.read_shift(n>=12?4:2),i=t.read_shift(2),o=(i&16384)>>14,c=(i&32768)>>15;if(i&=16383,c==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:c}}function wF(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),s==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:s,rRel:n}}function NF(t,e,r){var n=(t[t.l++]&96)>>5,s=k_(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function SF(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var o=k_(t,i,r);return[n,s,o]}function _F(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function CF(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,s]}function jF(t,e,r){var n=(t[t.l++]&96)>>5,s=xF(t,e-1,r);return[n,s]}function TF(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function mb(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function EF(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(t.read_shift(r&&r.biff==2?1:2));return s}function kF(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function AF(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function PF(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function DF(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function D_(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function RF(t){return t.read_shift(2),D_(t)}function FF(t){return t.read_shift(2),D_(t)}function OF(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=P_(t,0,r);return[n,s]}function MF(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=bF(t,0,r);return[n,s]}function LF(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=P_(t,0,r);return[n,s,i]}function IF(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(r&&r.biff<=3?1:2);return[IO[s],O_[s],n]}function BF(t,e,r){var n=t[t.l++],s=t.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:UF(t);return[s,(i[0]===0?O_:LO)[i[1]]]}function UF(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function zF(t,e,r){t.l+=r&&r.biff==2?3:4}function VF(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function HF(t){return t.l++,Qu[t.read_shift(1)]}function WF(t){return t.l++,t.read_shift(2)}function $F(t){return t.l++,t.read_shift(1)!==0}function YF(t){return t.l++,Kl(t)}function KF(t,e,r){return t.l++,m_(t,e-1,r)}function GF(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=LD(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Qu[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Kl(t);break;case 2:r[1]=zD(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function qF(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((r.biff==12?Oo:WD)(t));return s}function XF(t,e,r){var n=0,s=0;r.biff==12?(n=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var c=0;c!=s;++c)o[i][c]=GF(t,r.biff);return o}function JF(t,e,r){var n=t.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=t.read_shift(s);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function QF(t,e,r){if(r.biff==5)return ZF(t);var n=t.read_shift(1)>>>5&3,s=t.read_shift(2),i=t.read_shift(4);return[n,s,i]}function ZF(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function eO(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function tO(t,e,r){var n=t.read_shift(1)>>>5&3,s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function rO(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function nO(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,s]}var sO=ma,aO=ma,iO=ma;function Zu(t,e,r){return t.l+=2,[vF(t)]}function Sx(t){return t.l+=6,[]}var oO=Zu,lO=Sx,cO=Sx,uO=Zu;function R_(t){return t.l+=2,[f_(t),t.read_shift(2)&1]}var dO=Zu,fO=R_,hO=Sx,mO=Zu,pO=Zu,gO=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function xO(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),s=t.read_shift(2),i=t.read_shift(2),o=gO[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:s,C:i}}function yO(t){return t.l+=2,[t.read_shift(4)]}function vO(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function bO(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function wO(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function NO(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function SO(t){return t.l+=4,[0,0]}var pb={1:{n:"PtgExp",f:VF},2:{n:"PtgTbl",f:iO},3:{n:"PtgAdd",f:Dr},4:{n:"PtgSub",f:Dr},5:{n:"PtgMul",f:Dr},6:{n:"PtgDiv",f:Dr},7:{n:"PtgPower",f:Dr},8:{n:"PtgConcat",f:Dr},9:{n:"PtgLt",f:Dr},10:{n:"PtgLe",f:Dr},11:{n:"PtgEq",f:Dr},12:{n:"PtgGe",f:Dr},13:{n:"PtgGt",f:Dr},14:{n:"PtgNe",f:Dr},15:{n:"PtgIsect",f:Dr},16:{n:"PtgUnion",f:Dr},17:{n:"PtgRange",f:Dr},18:{n:"PtgUplus",f:Dr},19:{n:"PtgUminus",f:Dr},20:{n:"PtgPercent",f:Dr},21:{n:"PtgParen",f:Dr},22:{n:"PtgMissArg",f:Dr},23:{n:"PtgStr",f:KF},26:{n:"PtgSheet",f:vO},27:{n:"PtgEndSheet",f:bO},28:{n:"PtgErr",f:HF},29:{n:"PtgBool",f:$F},30:{n:"PtgInt",f:WF},31:{n:"PtgNum",f:YF},32:{n:"PtgArray",f:TF},33:{n:"PtgFunc",f:IF},34:{n:"PtgFuncVar",f:BF},35:{n:"PtgName",f:JF},36:{n:"PtgRef",f:OF},37:{n:"PtgArea",f:NF},38:{n:"PtgMemArea",f:eO},39:{n:"PtgMemErr",f:sO},40:{n:"PtgMemNoMem",f:aO},41:{n:"PtgMemFunc",f:tO},42:{n:"PtgRefErr",f:rO},43:{n:"PtgAreaErr",f:_F},44:{n:"PtgRefN",f:MF},45:{n:"PtgAreaN",f:jF},46:{n:"PtgMemAreaN",f:wO},47:{n:"PtgMemNoMemN",f:NO},57:{n:"PtgNameX",f:QF},58:{n:"PtgRef3d",f:LF},59:{n:"PtgArea3d",f:SF},60:{n:"PtgRefErr3d",f:nO},61:{n:"PtgAreaErr3d",f:CF},255:{}},_O={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},CO={1:{n:"PtgElfLel",f:R_},2:{n:"PtgElfRw",f:mO},3:{n:"PtgElfCol",f:oO},6:{n:"PtgElfRwV",f:pO},7:{n:"PtgElfColV",f:uO},10:{n:"PtgElfRadical",f:dO},11:{n:"PtgElfRadicalS",f:hO},13:{n:"PtgElfColS",f:lO},15:{n:"PtgElfColSV",f:cO},16:{n:"PtgElfRadicalLel",f:fO},25:{n:"PtgList",f:xO},29:{n:"PtgSxName",f:yO},255:{}},jO={0:{n:"PtgAttrNoop",f:SO},1:{n:"PtgAttrSemi",f:DF},2:{n:"PtgAttrIf",f:AF},4:{n:"PtgAttrChoose",f:EF},8:{n:"PtgAttrGoto",f:kF},16:{n:"PtgAttrSum",f:zF},32:{n:"PtgAttrBaxcel",f:mb},33:{n:"PtgAttrBaxcel",f:mb},64:{n:"PtgAttrSpace",f:RF},65:{n:"PtgAttrSpaceSemi",f:FF},128:{n:"PtgAttrIfError",f:PF},255:{}};function TO(t,e,r,n){if(n.biff<8)return ma(t,e);for(var s=t.l+e,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=XF(t,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=qF(t,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=s-t.l,e!==0&&i.push(ma(t,e)),i}function EO(t,e,r){for(var n=t.l+e,s,i,o=[];n!=t.l;)e=n-t.l,i=t[t.l],s=pb[i]||pb[_O[i]],(i===24||i===25)&&(s=(i===24?CO:jO)[t[t.l+1]]),!s||!s.f?ma(t,e):o.push([s.n,s.f(t,e,r)]);return o}function kO(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],s=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var AO={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function PO(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function F_(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(t[n[0]][0]){case 357:return s=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(s=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function gb(t,e,r){var n=F_(t,e,r);return n=="#REF"?n:PO(n,r)}function Rl(t,e,r,n,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},c=[],d,f,h,p=0,g=0,x,w="";if(!t[0]||!t[0][0])return"";for(var b=-1,v="",C=0,E=t[0].length;C<E;++C){var j=t[0][C];switch(j[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=c.pop(),f=c.pop(),b>=0){switch(t[0][b][1][0]){case 0:v=_r(" ",t[0][b][1][1]);break;case 1:v=_r("\r",t[0][b][1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}f=f+v,b=-1}c.push(f+AO[j[0]]+d);break;case"PtgIsect":d=c.pop(),f=c.pop(),c.push(f+" "+d);break;case"PtgUnion":d=c.pop(),f=c.pop(),c.push(f+","+d);break;case"PtgRange":d=c.pop(),f=c.pop(),c.push(f+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=su(j[1][1],o,s),c.push(au(h,i));break;case"PtgRefN":h=r?su(j[1][1],r,s):j[1][1],c.push(au(h,i));break;case"PtgRef3d":p=j[1][1],h=su(j[1][2],o,s),w=gb(n,p,s),c.push(w+"!"+au(h,i));break;case"PtgFunc":case"PtgFuncVar":var D=j[1][0],T=j[1][1];D||(D=0),D&=127;var M=D==0?[]:c.slice(-D);c.length-=D,T==="User"&&(T=M.shift()),c.push(T+"("+M.join(",")+")");break;case"PtgBool":c.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(j[1]);break;case"PtgNum":c.push(String(j[1]));break;case"PtgStr":c.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(j[1]);break;case"PtgAreaN":x=eb(j[1][1],r?{s:r}:o,s),c.push(ap(x,s));break;case"PtgArea":x=eb(j[1][1],o,s),c.push(ap(x,s));break;case"PtgArea3d":p=j[1][1],x=j[1][2],w=gb(n,p,s),c.push(w+"!"+ap(x,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=j[1][2];var _=(n.names||[])[g-1]||(n[0]||[])[g],P=_?_.Name:"SH33TJSNAME"+String(g);P&&P.slice(0,6)=="_xlfn."&&!s.xlfn&&(P=P.slice(6)),c.push(P);break;case"PtgNameX":var I=j[1][1];g=j[1][2];var K;if(s.biff<=5)I<0&&(I=-I),n[I]&&(K=n[I][g]);else{var q="";if(((n[I]||[])[0]||[])[0]==14849||(((n[I]||[])[0]||[])[0]==1025?n[I][g]&&n[I][g].itab>0&&(q=n.SheetNames[n[I][g].itab-1]+"!"):q=n.SheetNames[g-1]+"!"),n[I]&&n[I][g])q+=n[I][g].Name;else if(n[0]&&n[0][g])q+=n[0][g].Name;else{var H=(F_(n,I,s)||"").split(";;");H[g-1]?q=H[g-1]:q+="SH33TJSERRX"}c.push(q);break}K||(K={Name:"SH33TJSERRY"}),c.push(K.Name);break;case"PtgParen":var oe="(",Q=")";if(b>=0){switch(v="",t[0][b][1][0]){case 2:oe=_r(" ",t[0][b][1][1])+oe;break;case 3:oe=_r("\r",t[0][b][1][1])+oe;break;case 4:Q=_r(" ",t[0][b][1][1])+Q;break;case 5:Q=_r("\r",t[0][b][1][1])+Q;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}b=-1}c.push(oe+c.pop()+Q);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":h={c:j[1][1],r:j[1][0]};var O={c:r.c,r:r.r};if(n.sharedf[Zt(h)]){var W=n.sharedf[Zt(h)];c.push(Rl(W,o,O,n,s))}else{var ne=!1;for(d=0;d!=n.arrayf.length;++d)if(f=n.arrayf[d],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){c.push(Rl(f[1],o,O,n,s)),ne=!0;break}ne||c.push(j[1])}break;case"PtgArray":c.push("{"+kO(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=C;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var X=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&b>=0&&X.indexOf(t[0][C][0])==-1){j=t[0][b];var Z=!0;switch(j[1][0]){case 4:Z=!1;case 0:v=_r(" ",j[1][1]);break;case 5:Z=!1;case 1:v=_r("\r",j[1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}c.push((Z?v:"")+c.pop()+(Z?"":v)),b=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function DO(t){if(t==null){var e=De(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return jo(t);return jo(0)}function RO(t,e,r,n,s){var i=To(e,r,s),o=DO(t.v),c=De(6),d=33;c.write_shift(2,d),c.write_shift(4,0);for(var f=De(t.bf.length),h=0;h<t.bf.length;++h)f[h]=t.bf[h];var p=on([i,o,c,f]);return p}function a0(t,e,r){var n=t.read_shift(4),s=EO(t,n,r),i=t.read_shift(4),o=i>0?TO(t,i,s,r):null;return[s,o]}var FO=a0,i0=a0,OO=a0,MO=a0,LO={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},O_={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},IO={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function BO(t){var e="of:="+t.replace(wx,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function UO(t){return t.replace(/\./,"!")}var iu=typeof Map<"u";function _x(t,e,r){var n=0,s=t.length;if(r){if(iu?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var i=iu?r.get(e):r[e];n<i.length;++n)if(t[i[n]].t===e)return t.Count++,i[n]}}else for(;n<s;++n)if(t[n].t===e)return t.Count++,n;return t[s]={t:e},t.Count++,t.Unique++,r&&(iu?(r.has(e)||r.set(e,[]),r.get(e).push(s)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(s))),s}function o0(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Da=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=yh(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=fg(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function M_(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Oi(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],s=60,i=t.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){PS(e.z,s),r.ssf[s]=e.z,r.revssf[e.z]=n=s;break}}for(s=0;s!=i;++s)if(t[s].numFmtId===n)return s;return t[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function zO(t,e,r){if(t&&t["!ref"]){var n=dr(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function VO(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Fr(t[r])+'"/>';return e+"</mergeCells>"}function HO(t,e,r,n,s){var i=!1,o={},c=null;if(n.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[r];try{e.Workbook&&(d=e.Workbook.Sheets[r].CodeName||d)}catch{}i=!0,o.codeName=Cu(Qt(d))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),c=(c||"")+Ge("outlinePr",null,f)}!i&&!c||(s[s.length]=Ge("sheetPr",c,o))}var WO=["objects","scenarios","selectLockedCells","selectUnlockedCells"],$O=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function YO(t){var e={sheet:1};return WO.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),$O.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=v_(t.password).toString(16).toUpperCase()),Ge("sheetProtection",null,e)}function KO(t){return M_(t),Ge("pageMargins",null,t)}function GO(t,e){for(var r=["<cols>"],n,s=0;s!=e.length;++s)(n=e[s])&&(r[r.length]=Ge("col",null,o0(s,n)));return r[r.length]="</cols>",r.join("")}function qO(t,e,r,n){var s=typeof t.ref=="string"?t.ref:Fr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=ds(s);o.s.r==o.e.r&&(o.e.r=ds(e["!ref"]).e.r,s=Fr(o));for(var c=0;c<i.length;++c){var d=i[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Ge("autoFilter",null,{ref:s})}function XO(t,e,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ge("sheetViews",Ge("sheetView",null,s),{})}function JO(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",i=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=Qu[t.v];break;case"d":n&&n.cellDates?s=On(t.v,-1).toISOString():(t=Jn(t),t.t="n",s=""+(t.v=Xn(On(t.v)))),typeof t.z>"u"&&(t.z=Cr[14]);break;default:s=t.v;break}var c=ln("v",Qt(s)),d={r:e},f=Oi(n.cellXfs,t,n);switch(f!==0&&(d.s=f),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){c=ln("v",""+_x(n.Strings,t.v,n.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=i&&(t.t=i,t.v=o),typeof t.f=="string"&&t.f){var h=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;c=Ge("f",Qt(t.f),h)+(t.v!=null?c:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(d.cm=1),Ge("c",c,d)}function QO(t,e,r,n){var s=[],i=[],o=dr(t["!ref"]),c="",d,f="",h=[],p=0,g=0,x=t["!rows"],w=Array.isArray(t),b={r:f},v,C=-1;for(g=o.s.c;g<=o.e.c;++g)h[g]=Cn(g);for(p=o.s.r;p<=o.e.r;++p){for(i=[],f=un(p),g=o.s.c;g<=o.e.c;++g){d=h[g]+f;var E=w?(t[p]||[])[g]:t[d];E!==void 0&&(c=JO(E,d,t,e))!=null&&i.push(c)}(i.length>0||x&&x[p])&&(b={r:f},x&&x[p]&&(v=x[p],v.hidden&&(b.hidden=1),C=-1,v.hpx?C=vh(v.hpx):v.hpt&&(C=v.hpt),C>-1&&(b.ht=C,b.customHeight=1),v.level&&(b.outlineLevel=v.level)),s[s.length]=Ge("row",i.join(""),b))}if(x)for(;p<x.length;++p)x&&x[p]&&(b={r:p+1},v=x[p],v.hidden&&(b.hidden=1),C=-1,v.hpx?C=vh(v.hpx):v.hpt&&(C=v.hpt),C>-1&&(b.ht=C,b.customHeight=1),v.level&&(b.outlineLevel=v.level),s[s.length]=Ge("row","",b));return s.join("")}function L_(t,e,r,n){var s=[Mr,Ge("worksheet",null,{xmlns:Wl[0],"xmlns:r":Gr.r})],i=r.SheetNames[t],o=0,c="",d=r.Sheets[i];d==null&&(d={});var f=d["!ref"]||"A1",h=dr(f);if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),f=Fr(h)}n||(n={}),d["!comments"]=[];var p=[];HO(d,r,t,e,s),s[s.length]=Ge("dimension",null,{ref:f}),s[s.length]=XO(d,e,t,r),e.sheetFormat&&(s[s.length]=Ge("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(s[s.length]=GO(d,d["!cols"])),s[o=s.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(c=QO(d,e),c.length>0&&(s[s.length]=c)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),d["!protect"]&&(s[s.length]=YO(d["!protect"])),d["!autofilter"]!=null&&(s[s.length]=qO(d["!autofilter"],d,r,t)),d["!merges"]!=null&&d["!merges"].length>0&&(s[s.length]=VO(d["!merges"]));var g=-1,x,w=-1;return d["!links"].length>0&&(s[s.length]="<hyperlinks>",d["!links"].forEach(function(b){b[1].Target&&(x={ref:b[0]},b[1].Target.charAt(0)!="#"&&(w=Xt(n,-1,Qt(b[1].Target).replace(/#.*$/,""),zt.HLINK),x["r:id"]="rId"+w),(g=b[1].Target.indexOf("#"))>-1&&(x.location=Qt(b[1].Target.slice(g+1))),b[1].Tooltip&&(x.tooltip=Qt(b[1].Tooltip)),s[s.length]=Ge("hyperlink",null,x))}),s[s.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(s[s.length]=KO(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=ln("ignoredErrors",Ge("ignoredError",null,{numberStoredAsText:1,sqref:f}))),p.length>0&&(w=Xt(n,-1,"../drawings/drawing"+(t+1)+".xml",zt.DRAW),s[s.length]=Ge("drawing",null,{"r:id":"rId"+w}),d["!drawing"]=p),d["!comments"].length>0&&(w=Xt(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",zt.VML),s[s.length]=Ge("legacyDrawing",null,{"r:id":"rId"+w}),d["!legacy"]=w),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function ZO(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function eM(t,e,r){var n=De(145),s=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var i=320;s.hpx?i=vh(s.hpx)*20:s.hpt&&(i=s.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var c=0,d=n.l;n.l+=4;for(var f={r:t,c:0},h=0;h<16;++h)if(!(e.s.c>h+1<<10||e.e.c<h<<10)){for(var p=-1,g=-1,x=h<<10;x<h+1<<10;++x){f.c=x;var w=Array.isArray(r)?(r[f.r]||[])[f.c]:r[Zt(f)];w&&(p<0&&(p=x),g=x)}p<0||(++c,n.write_shift(4,p),n.write_shift(4,g))}var b=n.l;return n.l=d,n.write_shift(4,c),n.l=b,n.length>n.l?n.slice(0,n.l):n}function tM(t,e,r,n){var s=eM(n,r,e);(s.length>17||(e["!rows"]||[])[n])&&Fe(t,0,s)}var rM=Oo,nM=Yl;function sM(){}function aM(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=pD(t),r}function iM(t,e,r){r==null&&(r=De(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return ph({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),QS(t,r),r.slice(0,r.l)}function oM(t){var e=As(t);return[e]}function lM(t,e,r){return r==null&&(r=De(8)),Do(e,r)}function cM(t){var e=Ro(t);return[e]}function uM(t,e,r){return r==null&&(r=De(4)),Fo(e,r)}function dM(t){var e=As(t),r=t.read_shift(1);return[e,r,"b"]}function fM(t,e,r){return r==null&&(r=De(9)),Do(e,r),r.write_shift(1,t.v?1:0),r}function hM(t){var e=Ro(t),r=t.read_shift(1);return[e,r,"b"]}function mM(t,e,r){return r==null&&(r=De(5)),Fo(e,r),r.write_shift(1,t.v?1:0),r}function pM(t){var e=As(t),r=t.read_shift(1);return[e,r,"e"]}function gM(t,e,r){return r==null&&(r=De(9)),Do(e,r),r.write_shift(1,t.v),r}function xM(t){var e=Ro(t),r=t.read_shift(1);return[e,r,"e"]}function yM(t,e,r){return r==null&&(r=De(8)),Fo(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function vM(t){var e=As(t),r=t.read_shift(4);return[e,r,"s"]}function bM(t,e,r){return r==null&&(r=De(12)),Do(e,r),r.write_shift(4,e.v),r}function wM(t){var e=Ro(t),r=t.read_shift(4);return[e,r,"s"]}function NM(t,e,r){return r==null&&(r=De(8)),Fo(e,r),r.write_shift(4,e.v),r}function SM(t){var e=As(t),r=Kl(t);return[e,r,"n"]}function _M(t,e,r){return r==null&&(r=De(16)),Do(e,r),jo(t.v,r),r}function CM(t){var e=Ro(t),r=Kl(t);return[e,r,"n"]}function jM(t,e,r){return r==null&&(r=De(12)),Fo(e,r),jo(t.v,r),r}function TM(t){var e=As(t),r=ZS(t);return[e,r,"n"]}function EM(t,e,r){return r==null&&(r=De(12)),Do(e,r),e_(t.v,r),r}function kM(t){var e=Ro(t),r=ZS(t);return[e,r,"n"]}function AM(t,e,r){return r==null&&(r=De(8)),Fo(e,r),e_(t.v,r),r}function PM(t){var e=As(t),r=gx(t);return[e,r,"is"]}function DM(t){var e=As(t),r=jn(t);return[e,r,"str"]}function RM(t,e,r){return r==null&&(r=De(12+4*t.v.length)),Do(e,r),Jr(t.v,r),r.length>r.l?r.slice(0,r.l):r}function FM(t){var e=Ro(t),r=jn(t);return[e,r,"str"]}function OM(t,e,r){return r==null&&(r=De(8+4*t.v.length)),Fo(e,r),Jr(t.v,r),r.length>r.l?r.slice(0,r.l):r}function MM(t,e,r){var n=t.l+e,s=As(t);s.r=r["!row"];var i=t.read_shift(1),o=[s,i,"b"];if(r.cellFormula){t.l+=2;var c=i0(t,n-t.l,r);o[3]=Rl(c,null,s,r.supbooks,r)}else t.l=n;return o}function LM(t,e,r){var n=t.l+e,s=As(t);s.r=r["!row"];var i=t.read_shift(1),o=[s,i,"e"];if(r.cellFormula){t.l+=2;var c=i0(t,n-t.l,r);o[3]=Rl(c,null,s,r.supbooks,r)}else t.l=n;return o}function IM(t,e,r){var n=t.l+e,s=As(t);s.r=r["!row"];var i=Kl(t),o=[s,i,"n"];if(r.cellFormula){t.l+=2;var c=i0(t,n-t.l,r);o[3]=Rl(c,null,s,r.supbooks,r)}else t.l=n;return o}function BM(t,e,r){var n=t.l+e,s=As(t);s.r=r["!row"];var i=jn(t),o=[s,i,"str"];if(r.cellFormula){t.l+=2;var c=i0(t,n-t.l,r);o[3]=Rl(c,null,s,r.supbooks,r)}else t.l=n;return o}var UM=Oo,zM=Yl;function VM(t,e){return e==null&&(e=De(4)),e.write_shift(4,t),e}function HM(t,e){var r=t.l+e,n=Oo(t),s=xx(t),i=jn(t),o=jn(t),c=jn(t);t.l=r;var d={rfx:n,relId:s,loc:i,display:c};return o&&(d.Tooltip=o),d}function WM(t,e){var r=De(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Yl({s:Xr(t[0]),e:Xr(t[0])},r),yx("rId"+e,r);var n=t[1].Target.indexOf("#"),s=n==-1?"":t[1].Target.slice(n+1);return Jr(s||"",r),Jr(t[1].Tooltip||"",r),Jr("",r),r.slice(0,r.l)}function $M(){}function YM(t,e,r){var n=t.l+e,s=t_(t),i=t.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var c=FO(t,n-t.l,r);o[1]=c}else t.l=n;return o}function KM(t,e,r){var n=t.l+e,s=Oo(t),i=[s];if(r.cellFormula){var o=MO(t,n-t.l,r);i[1]=o,t.l=n}else t.l=n;return i}function GM(t,e,r){r==null&&(r=De(18));var n=o0(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),r.write_shift(2,s),r}var I_=["left","right","top","bottom","header","footer"];function qM(t){var e={};return I_.forEach(function(r){e[r]=Kl(t)}),e}function XM(t,e){return e==null&&(e=De(6*8)),M_(t),I_.forEach(function(r){jo(t[r],e)}),e}function JM(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function QM(t,e,r){r==null&&(r=De(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function ZM(t){var e=De(24);return e.write_shift(4,4),e.write_shift(4,1),Yl(t,e),e}function eL(t,e){return e==null&&(e=De(16*4+2)),e.write_shift(2,t.password?v_(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function tL(){}function rL(){}function nL(t,e,r,n,s,i,o){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=Jn(e),e.z=e.z||Cr[14],e.v=Xn(On(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var d={r,c:n};switch(d.s=Oi(s.cellXfs,e,s),e.l&&i["!links"].push([Zt(d),e.l]),e.c&&i["!comments"].push([Zt(d),e.c]),e.t){case"s":case"str":return s.bookSST?(c=_x(s.Strings,e.v,s.revStrings),d.t="s",d.v=c,o?Fe(t,18,NM(e,d)):Fe(t,7,bM(e,d))):(d.t="str",o?Fe(t,17,OM(e,d)):Fe(t,6,RM(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Fe(t,13,AM(e,d)):Fe(t,2,EM(e,d)):o?Fe(t,16,jM(e,d)):Fe(t,5,_M(e,d)),!0;case"b":return d.t="b",o?Fe(t,15,mM(e,d)):Fe(t,4,fM(e,d)),!0;case"e":return d.t="e",o?Fe(t,14,yM(e,d)):Fe(t,3,gM(e,d)),!0}return o?Fe(t,12,uM(e,d)):Fe(t,1,lM(e,d)),!0}function sL(t,e,r,n){var s=dr(e["!ref"]||"A1"),i,o="",c=[];Fe(t,145);var d=Array.isArray(e),f=s.e.r;e["!rows"]&&(f=Math.max(s.e.r,e["!rows"].length-1));for(var h=s.s.r;h<=f;++h){o=un(h),tM(t,e,s,h);var p=!1;if(h<=s.e.r)for(var g=s.s.c;g<=s.e.c;++g){h===s.s.r&&(c[g]=Cn(g)),i=c[g]+o;var x=d?(e[h]||[])[g]:e[i];if(!x){p=!1;continue}p=nL(t,x,h,g,n,e,p)}}Fe(t,146)}function aL(t,e){!e||!e["!merges"]||(Fe(t,177,VM(e["!merges"].length)),e["!merges"].forEach(function(r){Fe(t,176,zM(r))}),Fe(t,178))}function iL(t,e){!e||!e["!cols"]||(Fe(t,390),e["!cols"].forEach(function(r,n){r&&Fe(t,60,GM(n,r))}),Fe(t,391))}function oL(t,e){!e||!e["!ref"]||(Fe(t,648),Fe(t,649,ZM(dr(e["!ref"]))),Fe(t,650))}function lL(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var s=Xt(r,-1,n[1].Target.replace(/#.*$/,""),zt.HLINK);Fe(t,494,WM(n,s))}}),delete e["!links"]}function cL(t,e,r,n){if(e["!comments"].length>0){var s=Xt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",zt.VML);Fe(t,551,yx("rId"+s)),e["!legacy"]=s}}function uL(t,e,r,n){if(e["!autofilter"]){var s=e["!autofilter"],i=typeof s.ref=="string"?s.ref:Fr(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,c=ds(i);c.s.r==c.e.r&&(c.e.r=ds(e["!ref"]).e.r,i=Fr(c));for(var d=0;d<o.length;++d){var f=o[d];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+r.SheetNames[n]+"'!"+i;break}}d==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Fe(t,161,Yl(dr(i))),Fe(t,162)}}function dL(t,e,r){Fe(t,133),Fe(t,137,QM(e,r)),Fe(t,138),Fe(t,134)}function fL(t,e){e["!protect"]&&Fe(t,535,eL(e["!protect"]))}function hL(t,e,r,n){var s=qn(),i=r.SheetNames[t],o=r.Sheets[i]||{},c=i;try{r&&r.Workbook&&(c=r.Workbook.Sheets[t].CodeName||c)}catch{}var d=dr(o["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Fe(s,129),(r.vbaraw||o["!outline"])&&Fe(s,147,iM(c,o["!outline"])),Fe(s,148,nM(d)),dL(s,o,r.Workbook),iL(s,o),sL(s,o,t,e),fL(s,o),uL(s,o,r,t),aL(s,o),lL(s,o,n),o["!margins"]&&Fe(s,476,XM(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&oL(s,o),cL(s,o,t,n),Fe(s,130),s.end()}function mL(t,e){t.l+=10;var r=jn(t);return{name:r}}var pL=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function gL(t){return!t.Workbook||!t.Workbook.WBProps?"false":KP(t.Workbook.WBProps.date1904)?"true":"false"}var xL="][*?/\\".split("");function B_(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return xL.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function yL(t,e,r){t.forEach(function(n,s){B_(n);for(var i=0;i<s;++i)if(n==t[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=e&&e[s]&&e[s].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function vL(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];yL(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)zO(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function U_(t){var e=[Mr];e[e.length]=Ge("workbook",null,{xmlns:Wl[0],"xmlns:r":Gr.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(pL.forEach(function(c){t.Workbook.WBProps[c[0]]!=null&&t.Workbook.WBProps[c[0]]!=c[1]&&(n[c[0]]=t.Workbook.WBProps[c[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Ge("workbookPr",null,n);var s=t.Workbook&&t.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var o={name:Qt(t.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Ge("sheet",null,o)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(c){var d={name:c.Name};c.Comment&&(d.comment=c.Comment),c.Sheet!=null&&(d.localSheetId=""+c.Sheet),c.Hidden&&(d.hidden="1"),c.Ref&&(e[e.length]=Ge("definedName",Qt(c.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function bL(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=dg(t),r.name=jn(t),r}function wL(t,e){return e||(e=De(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),yx(t.strRelID,e),Jr(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function NL(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var s=e>8?jn(t):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function SL(t,e){e||(e=De(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),QS(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function _L(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),i=gD(t),o=OO(t,0,r),c=xx(t);t.l=n;var d={Name:i,Ptg:o};return s<268435455&&(d.Sheet=s),c&&(d.Comment=c),d}function CL(t,e){Fe(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Fe(t,156,wL(s))}Fe(t,144)}function jL(t,e){e||(e=De(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Jr("SheetJS",e),Jr(lh.version,e),Jr(lh.version,e),Jr("7262",e),e.length>e.l?e.slice(0,e.l):e}function TL(t,e){e||(e=De(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function EL(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,s=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&i==-1&&(i=n);i>s||(Fe(t,135),Fe(t,158,TL(s)),Fe(t,136))}}function kL(t,e){var r=qn();return Fe(r,131),Fe(r,128,jL()),Fe(r,153,SL(t.Workbook&&t.Workbook.WBProps||null)),EL(r,t),CL(r,t),Fe(r,132),r.end()}function AL(t,e,r){return(e.slice(-4)===".bin"?kL:U_)(t)}function PL(t,e,r,n,s){return(e.slice(-4)===".bin"?hL:L_)(t,r,n,s)}function DL(t,e,r){return(e.slice(-4)===".bin"?XR:N_)(t,r)}function RL(t,e,r){return(e.slice(-4)===".bin"?SR:y_)(t,r)}function FL(t,e,r){return(e.slice(-4)===".bin"?fF:T_)(t)}function OL(t){return(t.slice(-4)===".bin"?sF:C_)()}function ML(t,e){var r=[];return t.Props&&r.push(DD(t.Props,e)),t.Custprops&&r.push(RD(t.Props,t.Custprops)),r.join("")}function LL(){return""}function IL(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,s){var i=[];i.push(Ge("NumberFormat",null,{"ss:Format":Qt(Cr[n.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(Ge("Style",i.join(""),o))}),Ge("Styles",r.join(""))}function z_(t){return Ge("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Nx(t.Ref,{r:0,c:0})})}function BL(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var s=e[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(z_(s)))}return Ge("Names",r.join(""))}function UL(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,i=[],o=0;o<s.length;++o){var c=s[o];c.Sheet==r&&(c.Name.match(/^_xlfn\./)||i.push(z_(c)))}return i.join("")}function zL(t,e,r,n){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(Ge("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(Ge("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(Ge("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(Ge("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(ln("ProtectContents","True")),t["!protect"].objects&&s.push(ln("ProtectObjects","True")),t["!protect"].scenarios&&s.push(ln("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(ln("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(ln("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":Ge("WorksheetOptions",s.join(""),{xmlns:cs.x})}function VL(t){return t.map(function(e){var r=YP(e.t||""),n=Ge("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ge("Comment",n,{"ss:Author":e.a})}).join("")}function HL(t,e,r,n,s,i,o){if(!t||t.v==null&&t.f==null)return"";var c={};if(t.f&&(c["ss:Formula"]="="+Qt(Nx(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var d=Xr(t.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(d.r==o.r?"":"["+(d.r-o.r)+"]")+"C"+(d.c==o.c?"":"["+(d.c-o.c)+"]")}if(t.l&&t.l.Target&&(c["ss:HRef"]=Qt(t.l.Target),t.l.Tooltip&&(c["x:HRefScreenTip"]=Qt(t.l.Tooltip))),r["!merges"])for(var f=r["!merges"],h=0;h!=f.length;++h)f[h].s.c!=o.c||f[h].s.r!=o.r||(f[h].e.c>f[h].s.c&&(c["ss:MergeAcross"]=f[h].e.c-f[h].s.c),f[h].e.r>f[h].s.r&&(c["ss:MergeDown"]=f[h].e.r-f[h].s.r));var p="",g="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(t.v);break;case"b":p="Boolean",g=t.v?"1":"0";break;case"e":p="Error",g=Qu[t.v];break;case"d":p="DateTime",g=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Cr[14]);break;case"s":p="String",g=$P(t.v||"");break}var x=Oi(n.cellXfs,t,n);c["ss:StyleID"]="s"+(21+x),c["ss:Index"]=o.c+1;var w=t.v!=null?g:"",b=t.t=="z"?"":'<Data ss:Type="'+p+'">'+w+"</Data>";return(t.c||[]).length>0&&(b+=VL(t.c)),Ge("Cell",b,c)}function WL(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=w_(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function $L(t,e,r,n){if(!t["!ref"])return"";var s=dr(t["!ref"]),i=t["!merges"]||[],o=0,c=[];t["!cols"]&&t["!cols"].forEach(function(v,C){bx(v);var E=!!v.width,j=o0(C,v),D={"ss:Index":C+1};E&&(D["ss:Width"]=xh(j.width)),v.hidden&&(D["ss:Hidden"]="1"),c.push(Ge("Column",null,D))});for(var d=Array.isArray(t),f=s.s.r;f<=s.e.r;++f){for(var h=[WL(f,(t["!rows"]||[])[f])],p=s.s.c;p<=s.e.c;++p){var g=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>p)&&!(i[o].s.r>f)&&!(i[o].e.c<p)&&!(i[o].e.r<f)){(i[o].s.c!=p||i[o].s.r!=f)&&(g=!0);break}if(!g){var x={r:f,c:p},w=Zt(x),b=d?(t[f]||[])[p]:t[w];h.push(HL(b,w,t,e,r,n,x))}}h.push("</Row>"),h.length>2&&c.push(h.join(""))}return c.join("")}function YL(t,e,r){var n=[],s=r.SheetNames[t],i=r.Sheets[s],o=i?UL(i,e,t,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?$L(i,e,t,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(zL(i,e,t,r)),n.join("")}function KL(t,e){e||(e={}),t.SSF||(t.SSF=Jn(Cr)),t.SSF&&(r0(),t0(t.SSF),e.revssf=n0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Oi(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(ML(t,e)),r.push(LL()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Ge("Worksheet",YL(n,e,t),{"ss:Name":Qt(t.SheetNames[n])}));return r[2]=IL(t,e),r[3]=BL(t),Mr+Ge("Workbook",r.join(""),{xmlns:cs.ss,"xmlns:o":cs.o,"xmlns:x":cs.x,"xmlns:ss":cs.ss,"xmlns:dt":cs.dt,"xmlns:html":cs.html})}var lp={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function GL(t,e){var r=[],n=[],s=[],i=0,o,c=H2(rb,"n"),d=H2(nb,"n");if(t.Props)for(o=fn(t.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(c,o[i])?r:Object.prototype.hasOwnProperty.call(d,o[i])?n:s).push([o[i],t.Props[o[i]]]);if(t.Custprops)for(o=fn(t.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(c,o[i])?r:Object.prototype.hasOwnProperty.call(d,o[i])?n:s).push([o[i],t.Custprops[o[i]]]);var f=[];for(i=0;i<s.length;++i)d_.indexOf(s[i][0])>-1||l_.indexOf(s[i][0])>-1||s[i][1]!=null&&f.push(s[i]);n.length&&er.utils.cfb_add(e,"/SummaryInformation",lb(n,lp.SI,d,nb)),(r.length||f.length)&&er.utils.cfb_add(e,"/DocumentSummaryInformation",lb(r,lp.DSI,c,rb,f.length?f:null,lp.UDI))}function qL(t,e){var r=e||{},n=er.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return er.utils.cfb_add(n,s,V_(t,r)),r.biff==8&&(t.Props||t.Custprops)&&GL(t,n),r.biff==8&&t.vbaraw&&hF(n,er.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var XL={0:{f:ZO},1:{f:oM},2:{f:TM},3:{f:pM},4:{f:dM},5:{f:SM},6:{f:DM},7:{f:vM},8:{f:BM},9:{f:IM},10:{f:MM},11:{f:LM},12:{f:cM},13:{f:kM},14:{f:xM},15:{f:hM},16:{f:CM},17:{f:FM},18:{f:wM},19:{f:gx},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:_L},40:{},42:{},43:{f:DR},44:{f:AR},45:{f:OR},46:{f:LR},47:{f:MR},48:{},49:{f:cD},50:{},51:{f:ZR},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:uR},62:{f:PM},63:{f:aF},64:{f:tL},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ma,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:JM},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:aM},148:{f:rM,p:16},151:{f:$M},152:{},153:{f:NL},154:{},155:{},156:{f:bL},157:{},158:{},159:{T:1,f:bR},160:{T:-1},161:{T:1,f:Oo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:UM},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:JR},336:{T:-1},337:{f:rF,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:dg},357:{},358:{},359:{},360:{T:1},361:{},362:{f:sR},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:YM},427:{f:KM},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:qM},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:sM},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:HM},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:dg},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:uF},633:{T:1},634:{T:-1},635:{T:1,f:lF},636:{T:-1},637:{f:hD},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:mL},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:rL},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function qe(t,e,r,n){var s=e;if(!isNaN(s)){var i=n||(r||[]).length||0,o=t.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&hx(r)&&t.push(r)}}function JL(t,e,r,n){var s=(r||[]).length||0;if(s<=8224)return qe(t,e,r,s);var i=e;if(!isNaN(i)){for(var o=r.parts||[],c=0,d=0,f=0;f+(o[c]||8224)<=8224;)f+=o[c]||8224,c++;var h=t.next(4);for(h.write_shift(2,i),h.write_shift(2,f),t.push(r.slice(d,d+f)),d+=f;d<s;){for(h=t.next(4),h.write_shift(2,60),f=0;f+(o[c]||8224)<=8224;)f+=o[c]||8224,c++;h.write_shift(2,f),t.push(r.slice(d,d+f)),d+=f}}}function ed(t,e,r){return t||(t=De(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function QL(t,e,r,n){var s=De(9);return ed(s,t,e),h_(r,n||"b",s),s}function ZL(t,e,r){var n=De(8+2*r.length);return ed(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function e7(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?Xn(On(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?qe(t,2,mR(r,n,s)):qe(t,3,hR(r,n,s));return;case"b":case"e":qe(t,5,QL(r,n,e.v,e.t));return;case"s":case"str":qe(t,4,ZL(r,n,(e.v||"").slice(0,255)));return}qe(t,1,ed(null,r,n))}function t7(t,e,r,n){var s=Array.isArray(e),i=dr(e["!ref"]||"A1"),o,c="",d=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Fr(i)}for(var f=i.s.r;f<=i.e.r;++f){c=un(f);for(var h=i.s.c;h<=i.e.c;++h){f===i.s.r&&(d[h]=Cn(h)),o=d[h]+c;var p=s?(e[f]||[])[h]:e[o];p&&e7(t,p,f,h)}}}function r7(t,e){for(var r=e||{},n=qn(),s=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return qe(n,r.biff==4?1033:r.biff==3?521:9,vx(t,16,r)),t7(n,t.Sheets[t.SheetNames[s]],s,r),qe(n,10),n.end()}function n7(t,e,r){qe(t,49,XD({sz:12,name:"Arial"},r))}function s7(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&qe(t,1054,ZD(s,e[s],r))})}function a7(t,e){var r=De(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),qe(t,2151,r),r=De(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),g_(dr(e["!ref"]||"A1"),r),r.write_shift(4,4),qe(t,2152,r)}function i7(t,e){for(var r=0;r<16;++r)qe(t,224,ub({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){qe(t,224,ub(n,0,e))})}function o7(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];qe(t,440,oR(n)),n[1].Tooltip&&qe(t,2048,lR(n))}delete e["!links"]}function l7(t,e){if(e){var r=0;e.forEach(function(n,s){++r<=256&&n&&qe(t,125,dR(o0(s,n),s))})}}function c7(t,e,r,n,s){var i=16+Oi(s.cellXfs,e,s);if(e.v==null&&!e.bf){qe(t,513,To(r,n,i));return}if(e.bf)qe(t,6,RO(e,r,n,s,i));else switch(e.t){case"d":case"n":var o=e.t=="d"?Xn(On(e.v)):e.v;qe(t,515,nR(r,n,o,i));break;case"b":case"e":qe(t,517,rR(r,n,e.v,i,s,e.t));break;case"s":case"str":if(s.bookSST){var c=_x(s.Strings,e.v,s.revStrings);qe(t,253,JD(r,n,c,i))}else qe(t,516,QD(r,n,(e.v||"").slice(0,255),i,s));break;default:qe(t,513,To(r,n,i))}}function u7(t,e,r){var n=qn(),s=r.SheetNames[t],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},c=(o.Sheets||[])[t]||{},d=Array.isArray(i),f=e.biff==8,h,p="",g=[],x=dr(i["!ref"]||"A1"),w=f?65536:16384;if(x.e.c>255||x.e.r>=w){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,w-1)}qe(n,2057,vx(r,16,e)),qe(n,13,_s(1)),qe(n,12,_s(100)),qe(n,15,Dn(!0)),qe(n,17,Dn(!1)),qe(n,16,jo(.001)),qe(n,95,Dn(!0)),qe(n,42,Dn(!1)),qe(n,43,Dn(!1)),qe(n,130,_s(1)),qe(n,128,tR()),qe(n,131,Dn(!1)),qe(n,132,Dn(!1)),f&&l7(n,i["!cols"]),qe(n,512,eR(x,e)),f&&(i["!links"]=[]);for(var b=x.s.r;b<=x.e.r;++b){p=un(b);for(var v=x.s.c;v<=x.e.c;++v){b===x.s.r&&(g[v]=Cn(v)),h=g[v]+p;var C=d?(i[b]||[])[v]:i[h];C&&(c7(n,C,b,v,e),f&&C.l&&i["!links"].push([h,C.l]))}}var E=c.CodeName||c.name||s;return f&&qe(n,574,qD((o.Views||[])[0])),f&&(i["!merges"]||[]).length&&qe(n,229,iR(i["!merges"])),f&&o7(n,i),qe(n,442,p_(E)),f&&a7(n,i),qe(n,10),n.end()}function d7(t,e,r){var n=qn(),s=(t||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},c=r.biff==8,d=r.biff==5;if(qe(n,2057,vx(t,5,r)),r.bookType=="xla"&&qe(n,135),qe(n,225,c?_s(1200):null),qe(n,193,MD(2)),d&&qe(n,191),d&&qe(n,192),qe(n,226),qe(n,92,$D("SheetJS",r)),qe(n,66,_s(c?1200:1252)),c&&qe(n,353,_s(0)),c&&qe(n,448),qe(n,317,fR(t.SheetNames.length)),c&&t.vbaraw&&qe(n,211),c&&t.vbaraw){var f=o.CodeName||"ThisWorkbook";qe(n,442,p_(f))}qe(n,156,_s(17)),qe(n,25,Dn(!1)),qe(n,18,Dn(!1)),qe(n,19,_s(0)),c&&qe(n,431,Dn(!1)),c&&qe(n,444,_s(0)),qe(n,61,GD()),qe(n,64,Dn(!1)),qe(n,141,_s(0)),qe(n,34,Dn(gL(t)=="true")),qe(n,14,Dn(!0)),c&&qe(n,439,Dn(!1)),qe(n,218,_s(0)),n7(n,t,r),s7(n,t.SSF,r),i7(n,r),c&&qe(n,352,Dn(!1));var h=n.end(),p=qn();c&&qe(p,140,cR()),c&&r.Strings&&JL(p,252,KD(r.Strings)),qe(p,10);var g=p.end(),x=qn(),w=0,b=0;for(b=0;b<t.SheetNames.length;++b)w+=(c?12:11)+(c?2:1)*t.SheetNames[b].length;var v=h.length+w+g.length;for(b=0;b<t.SheetNames.length;++b){var C=i[b]||{};qe(x,133,YD({pos:v,hs:C.Hidden||0,dt:0,name:t.SheetNames[b]},r)),v+=e[b].length}var E=x.end();if(w!=E.length)throw new Error("BS8 "+w+" != "+E.length);var j=[];return h.length&&j.push(h),E.length&&j.push(E),g.length&&j.push(g),on(j)}function f7(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Jn(Cr)),t&&t.SSF&&(r0(),t0(t.SSF),r.revssf=n0(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Cx(r),r.cellXfs=[],Oi(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)n[n.length]=u7(s,r,t);return n.unshift(d7(t,n,r)),on(n)}function V_(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var s=ds(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return f7(t,e);case 4:case 3:case 2:return r7(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function h7(t,e,r,n){for(var s=t["!merges"]||[],i=[],o=e.s.c;o<=e.e.c;++o){for(var c=0,d=0,f=0;f<s.length;++f)if(!(s[f].s.r>r||s[f].s.c>o)&&!(s[f].e.r<r||s[f].e.c<o)){if(s[f].s.r<r||s[f].s.c<o){c=-1;break}c=s[f].e.r-s[f].s.r+1,d=s[f].e.c-s[f].s.c+1;break}if(!(c<0)){var h=Zt({r,c:o}),p=n.dense?(t[r]||[])[o]:t[h],g=p&&p.v!=null&&(p.h||WP(p.w||(Ma(p),p.w)||""))||"",x={};c>1&&(x.rowspan=c),d>1&&(x.colspan=d),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(x["data-t"]=p&&p.t||"z",p.v!=null&&(x["data-v"]=p.v),p.z!=null&&(x["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),x.id=(n.id||"sjs")+"-"+h,i.push(Ge("td",g,x))}}var w="<tr>";return w+i.join("")+"</tr>"}var m7='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',p7="</body></html>";function g7(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function H_(t,e){var r=e||{},n=r.header!=null?r.header:m7,s=r.footer!=null?r.footer:p7,i=[n],o=ds(t["!ref"]);r.dense=Array.isArray(t),i.push(g7(t,o,r));for(var c=o.s.r;c<=o.e.r;++c)i.push(h7(t,o,c,r));return i.push("</table>"+s),i.join("")}function W_(t,e,r){var n=r||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var o=typeof n.origin=="string"?Xr(n.origin):n.origin;s=o.r,i=o.c}var c=e.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,c.length),f={s:{r:0,c:0},e:{r:s,c:i}};if(t["!ref"]){var h=ds(t["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),s==-1&&(f.e.r=s=h.e.r+1)}var p=[],g=0,x=t["!rows"]||(t["!rows"]=[]),w=0,b=0,v=0,C=0,E=0,j=0;for(t["!cols"]||(t["!cols"]=[]);w<c.length&&b<d;++w){var D=c[w];if(xb(D)){if(n.display)continue;x[b]={hidden:!0}}var T=D.children;for(v=C=0;v<T.length;++v){var M=T[v];if(!(n.display&&xb(M))){var _=M.hasAttribute("data-v")?M.getAttribute("data-v"):M.hasAttribute("v")?M.getAttribute("v"):GP(M.innerHTML),P=M.getAttribute("data-z")||M.getAttribute("z");for(g=0;g<p.length;++g){var I=p[g];I.s.c==C+i&&I.s.r<b+s&&b+s<=I.e.r&&(C=I.e.c+1-i,g=-1)}j=+M.getAttribute("colspan")||1,((E=+M.getAttribute("rowspan")||1)>1||j>1)&&p.push({s:{r:b+s,c:C+i},e:{r:b+s+(E||1)-1,c:C+i+(j||1)-1}});var K={t:"s",v:_},q=M.getAttribute("data-t")||M.getAttribute("t")||"";_!=null&&(_.length==0?K.t=q||"z":n.raw||_.trim().length==0||q=="s"||(_==="TRUE"?K={t:"b",v:!0}:_==="FALSE"?K={t:"b",v:!1}:isNaN(Pa(_))?isNaN(_u(_).getDate())||(K={t:"d",v:On(_)},n.cellDates||(K={t:"n",v:Xn(K.v)}),K.z=n.dateNF||Cr[14]):K={t:"n",v:Pa(_)})),K.z===void 0&&P!=null&&(K.z=P);var H="",oe=M.getElementsByTagName("A");if(oe&&oe.length)for(var Q=0;Q<oe.length&&!(oe[Q].hasAttribute("href")&&(H=oe[Q].getAttribute("href"),H.charAt(0)!="#"));++Q);H&&H.charAt(0)!="#"&&(K.l={Target:H}),n.dense?(t[b+s]||(t[b+s]=[]),t[b+s][C+i]=K):t[Zt({c:C+i,r:b+s})]=K,f.e.c<C+i&&(f.e.c=C+i),C+=j}}++b}return p.length&&(t["!merges"]=(t["!merges"]||[]).concat(p)),f.e.r=Math.max(f.e.r,b-1+s),t["!ref"]=Fr(f),b>=d&&(t["!fullref"]=Fr((f.e.r=c.length-w+b-1+s,f))),t}function $_(t,e){var r=e||{},n=r.dense?[]:{};return W_(n,t,e)}function x7(t,e){return Po($_(t,e),e)}function xb(t){var e="",r=y7(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function y7(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var v7=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+ju({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Mr+e}}(),yb=function(){var t=function(i){return Qt(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,c){var d=[];d.push('      <table:table table:name="'+Qt(o.SheetNames[c])+`" table:style-name="ta1">
`);var f=0,h=0,p=ds(i["!ref"]||"A1"),g=i["!merges"]||[],x=0,w=Array.isArray(i);if(i["!cols"])for(h=0;h<=p.e.c;++h)d.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var b="",v=i["!rows"]||[];for(f=0;f<p.s.r;++f)b=v[f]?' table:style-name="ro'+v[f].ods+'"':"",d.push("        <table:table-row"+b+`></table:table-row>
`);for(;f<=p.e.r;++f){for(b=v[f]?' table:style-name="ro'+v[f].ods+'"':"",d.push("        <table:table-row"+b+`>
`),h=0;h<p.s.c;++h)d.push(e);for(;h<=p.e.c;++h){var C=!1,E={},j="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>h)&&!(g[x].s.r>f)&&!(g[x].e.c<h)&&!(g[x].e.r<f)){(g[x].s.c!=h||g[x].s.r!=f)&&(C=!0),E["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,E["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(C){d.push(r);continue}var D=Zt({r:f,c:h}),T=w?(i[f]||[])[h]:i[D];if(T&&T.f&&(E["table:formula"]=Qt(BO(T.f)),T.F&&T.F.slice(0,D.length)==D)){var M=ds(T.F);E["table:number-matrix-columns-spanned"]=M.e.c-M.s.c+1,E["table:number-matrix-rows-spanned"]=M.e.r-M.s.r+1}if(!T){d.push(e);continue}switch(T.t){case"b":j=T.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=T.v?"true":"false";break;case"n":j=T.w||String(T.v||0),E["office:value-type"]="float",E["office:value"]=T.v||0;break;case"s":case"str":j=T.v==null?"":T.v,E["office:value-type"]="string";break;case"d":j=T.w||On(T.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=On(T.v).toISOString(),E["table:style-name"]="ce1";break;default:d.push(e);continue}var _=t(j);if(T.l&&T.l.Target){var P=T.l.Target;P=P.charAt(0)=="#"?"#"+UO(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),_=Ge("text:a",_,{"xlink:href":P.replace(/&/g,"&amp;")})}d.push("          "+Ge("table:table-cell",Ge("text:p",_,{}),E)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var c=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var h=0;h<f["!cols"].length;++h)if(f["!cols"][h]){var p=f["!cols"][h];if(p.width==null&&p.wpx==null&&p.wch==null)continue;bx(p),p.ods=c;var g=f["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++c}}});var d=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var h=0;h<f["!rows"].length;++h)if(f["!rows"][h]){f["!rows"][h].ods=d;var p=f["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),i.push(`  </style:style>
`),++d}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,c){var d=[Mr],f=ju({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=ju({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(d.push("<office:document"+f+h+`>
`),d.push(i_().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+f+`>
`),s(d,o),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var p=0;p!=o.SheetNames.length;++p)d.push(n(o.Sheets[o.SheetNames[p]],o,p));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),c.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}}();function Y_(t,e){if(e.bookType=="fods")return yb(t,e);var r=cx(),n="",s=[],i=[];return n="mimetype",At(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",At(r,n,yb(t,e)),s.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",At(r,n,v7(t,e)),s.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",At(r,n,Mr+i_()),s.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",At(r,n,PD(i)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",At(r,n,kD(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function bh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function b7(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Ys(Cu(t))}function w7(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Ti(t){var e=t.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(s){r.set(s,n),n+=s.length}),r}function N7(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var i=0;s>=1;++i,s/=256)t[e+i]=s&255;t[e+15]|=r>=0?0:128}function Tu(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Gt(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function Al(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Ur(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],s=Tu(t,r),i=s&7;s=Math.floor(s/8);var o=0,c;if(s==0)break;switch(i){case 0:{for(var d=r[0];t[r[0]++]>=128;);c=t.slice(d,r[0])}break;case 5:o=4,c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Tu(t,r),c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var f={data:c,type:i};e[s]==null?e[s]=[f]:e[s].push(f)}return e}function nn(t){var e=[];return t.forEach(function(r,n){r.forEach(function(s){s.data&&(e.push(Gt(n*8+s.type)),s.type==2&&e.push(Gt(s.data.length)),e.push(s.data))})}),Ti(e)}function Us(t){for(var e,r=[],n=[0];n[0]<t.length;){var s=Tu(t,n),i=Ur(t.slice(n[0],n[0]+s));n[0]+=s;var o={id:Al(i[1][0].data),messages:[]};i[2].forEach(function(c){var d=Ur(c.data),f=Al(d[3][0].data);o.messages.push({meta:d,data:t.slice(n[0],n[0]+f)}),n[0]+=f}),(e=i[3])!=null&&e[0]&&(o.merge=Al(i[3][0].data)>>>0>0),r.push(o)}return r}function dl(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Gt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Gt(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:Gt(o.data.length)}],n[2].push({data:nn(o.meta),type:2})});var i=nn(n);e.push(Gt(i.length)),e.push(i),s.forEach(function(o){return e.push(o)})}),Ti(e)}function S7(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Tu(e,r),s=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var c=o-59;o=e[r[0]],c>1&&(o|=e[r[0]+1]<<8),c>2&&(o|=e[r[0]+2]<<16),c>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=c}s.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var d=0,f=0;if(i==1?(f=(e[r[0]]>>2&7)+4,d=(e[r[0]++]&224)<<3,d|=e[r[0]++]):(f=(e[r[0]++]>>2)+1,i==2?(d=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(d=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Ti(s)],d==0)throw new Error("Invalid offset 0");if(d>s[0].length)throw new Error("Invalid offset beyond length");if(f>=d)for(s.push(s[0].slice(-d)),f-=d;f>=s[s.length-1].length;)s.push(s[s.length-1]),f-=s[s.length-1].length;s.push(s[0].slice(-d,-d+f))}}var h=Ti(s);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function zs(t){for(var e=[],r=0;r<t.length;){var n=t[r++],s=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(S7(n,t.slice(r,r+s))),r+=s}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Ti(e)}function fl(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),s=new Uint8Array(4);e.push(s);var i=Gt(n),o=i.length;e.push(i),n<=60?(o++,e.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),o+=n,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=n}return Ti(e)}function cp(t,e){var r=new Uint8Array(32),n=bh(r),s=12,i=0;switch(r[0]=5,t.t){case"n":r[1]=2,N7(r,s,t.v),i|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,t.v?1:0,!0),i|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(s,e.indexOf(t.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,i,!0),r.slice(0,s)}function up(t,e){var r=new Uint8Array(32),n=bh(r),s=12,i=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(s,t.v,!0),i|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,t.v?1:0,!0),i|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(s,e.indexOf(t.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,i,!0),r.slice(0,s)}function oi(t){var e=Ur(t);return Tu(e[1][0].data)}function _7(t,e,r){var n,s,i,o;if(!((n=t[6])!=null&&n[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var c=((o=(i=t[8])==null?void 0:i[0])==null?void 0:o.data)&&Al(t[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var d=0,f=bh(t[7][0].data),h=0,p=[],g=bh(t[4][0].data),x=0,w=[],b=0;b<e.length;++b){if(e[b]==null){f.setUint16(b*2,65535,!0),g.setUint16(b*2,65535);continue}f.setUint16(b*2,h,!0),g.setUint16(b*2,x,!0);var v,C;switch(typeof e[b]){case"string":v=cp({t:"s",v:e[b]},r),C=up({t:"s",v:e[b]},r);break;case"number":v=cp({t:"n",v:e[b]},r),C=up({t:"n",v:e[b]},r);break;case"boolean":v=cp({t:"b",v:e[b]},r),C=up({t:"b",v:e[b]},r);break;default:throw new Error("Unsupported value "+e[b])}p.push(v),h+=v.length,w.push(C),x+=C.length,++d}for(t[2][0].data=Gt(d);b<t[7][0].data.length/2;++b)f.setUint16(b*2,65535,!0),g.setUint16(b*2,65535,!0);return t[6][0].data=Ti(p),t[3][0].data=Ti(w),d}function C7(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ds(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Fr(n)));var i=wh(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(U){return U.forEach(function(z){typeof z=="string"&&o.push(z)})});var c={},d=[],f=er.read(e.numbers,{type:"base64"});f.FileIndex.map(function(U,z){return[U,f.FullPaths[z]]}).forEach(function(U){var z=U[0],k=U[1];if(z.type==2&&z.name.match(/\.iwa/)){var ce=z.content,ee=zs(ce),he=Us(ee);he.forEach(function(ye){d.push(ye.id),c[ye.id]={deps:[],location:k,type:Al(ye.messages[0].meta[1][0].data)}})}}),d.sort(function(U,z){return U-z});var h=d.filter(function(U){return U>1}).map(function(U){return[U,Gt(U)]});f.FileIndex.map(function(U,z){return[U,f.FullPaths[z]]}).forEach(function(U){var z=U[0];if(U[1],!!z.name.match(/\.iwa/)){var k=Us(zs(z.content));k.forEach(function(ce){ce.messages.forEach(function(ee){h.forEach(function(he){ce.messages.some(function(ye){return Al(ye.meta[1][0].data)!=11006&&w7(ye.data,he[1])})&&c[he[0]].deps.push(ce.id)})})})}});for(var p=er.find(f,c[1].location),g=Us(zs(p.content)),x,w=0;w<g.length;++w){var b=g[w];b.id==1&&(x=b)}var v=oi(Ur(x.messages[0].data)[1][0].data);for(p=er.find(f,c[v].location),g=Us(zs(p.content)),w=0;w<g.length;++w)b=g[w],b.id==v&&(x=b);for(v=oi(Ur(x.messages[0].data)[2][0].data),p=er.find(f,c[v].location),g=Us(zs(p.content)),w=0;w<g.length;++w)b=g[w],b.id==v&&(x=b);for(v=oi(Ur(x.messages[0].data)[2][0].data),p=er.find(f,c[v].location),g=Us(zs(p.content)),w=0;w<g.length;++w)b=g[w],b.id==v&&(x=b);var C=Ur(x.messages[0].data);{C[6][0].data=Gt(n.e.r+1),C[7][0].data=Gt(n.e.c+1);var E=oi(C[46][0].data),j=er.find(f,c[E].location),D=Us(zs(j.content));{for(var T=0;T<D.length&&D[T].id!=E;++T);if(D[T].id!=E)throw"Bad ColumnRowUIDMapArchive";var M=Ur(D[T].messages[0].data);M[1]=[],M[2]=[],M[3]=[];for(var _=0;_<=n.e.c;++_){var P=[];P[1]=P[2]=[{type:0,data:Gt(_+420690)}],M[1].push({type:2,data:nn(P)}),M[2].push({type:0,data:Gt(_)}),M[3].push({type:0,data:Gt(_)})}M[4]=[],M[5]=[],M[6]=[];for(var I=0;I<=n.e.r;++I)P=[],P[1]=P[2]=[{type:0,data:Gt(I+726270)}],M[4].push({type:2,data:nn(P)}),M[5].push({type:0,data:Gt(I)}),M[6].push({type:0,data:Gt(I)});D[T].messages[0].data=nn(M)}j.content=fl(dl(D)),j.size=j.content.length,delete C[46];var K=Ur(C[4][0].data);{K[7][0].data=Gt(n.e.r+1);var q=Ur(K[1][0].data),H=oi(q[2][0].data);j=er.find(f,c[H].location),D=Us(zs(j.content));{if(D[0].id!=H)throw"Bad HeaderStorageBucket";var oe=Ur(D[0].messages[0].data);for(I=0;I<i.length;++I){var Q=Ur(oe[2][0].data);Q[1][0].data=Gt(I),Q[4][0].data=Gt(i[I].length),oe[2][I]={type:oe[2][0].type,data:nn(Q)}}D[0].messages[0].data=nn(oe)}j.content=fl(dl(D)),j.size=j.content.length;var O=oi(K[2][0].data);j=er.find(f,c[O].location),D=Us(zs(j.content));{if(D[0].id!=O)throw"Bad HeaderStorageBucket";for(oe=Ur(D[0].messages[0].data),_=0;_<=n.e.c;++_)Q=Ur(oe[2][0].data),Q[1][0].data=Gt(_),Q[4][0].data=Gt(n.e.r+1),oe[2][_]={type:oe[2][0].type,data:nn(Q)};D[0].messages[0].data=nn(oe)}j.content=fl(dl(D)),j.size=j.content.length;var W=oi(K[4][0].data);(function(){for(var U=er.find(f,c[W].location),z=Us(zs(U.content)),k,ce=0;ce<z.length;++ce){var ee=z[ce];ee.id==W&&(k=ee)}var he=Ur(k.messages[0].data);{he[3]=[];var ye=[];o.forEach(function(He,rt){ye[1]=[{type:0,data:Gt(rt)}],ye[2]=[{type:0,data:Gt(1)}],ye[3]=[{type:2,data:b7(He)}],he[3].push({type:2,data:nn(ye)})})}k.messages[0].data=nn(he);var ke=dl(z),Ke=fl(ke);U.content=Ke,U.size=U.content.length})();var ne=Ur(K[3][0].data);{var X=ne[1][0];delete ne[2];var Z=Ur(X.data);{var ae=oi(Z[2][0].data);(function(){for(var U=er.find(f,c[ae].location),z=Us(zs(U.content)),k,ce=0;ce<z.length;++ce){var ee=z[ce];ee.id==ae&&(k=ee)}var he=Ur(k.messages[0].data);{delete he[6],delete ne[7];var ye=new Uint8Array(he[5][0].data);he[5]=[];for(var ke=0,Ke=0;Ke<=n.e.r;++Ke){var He=Ur(ye);ke+=_7(He,i[Ke],o),He[1][0].data=Gt(Ke),he[5].push({data:nn(He),type:2})}he[1]=[{type:0,data:Gt(n.e.c+1)}],he[2]=[{type:0,data:Gt(n.e.r+1)}],he[3]=[{type:0,data:Gt(ke)}],he[4]=[{type:0,data:Gt(n.e.r+1)}]}k.messages[0].data=nn(he);var rt=dl(z),Ve=fl(rt);U.content=Ve,U.size=U.content.length})()}X.data=nn(Z)}K[3][0].data=nn(ne)}C[4][0].data=nn(K)}x.messages[0].data=nn(C);var Y=dl(g),R=fl(Y);return p.content=R,p.size=p.content.length,f}function j7(t){return function(r){for(var n=0;n!=t.length;++n){var s=t[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function Cx(t){j7([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function T7(t,e){return e.bookType=="ods"?Y_(t,e):e.bookType=="numbers"?C7(t,e):e.bookType=="xlsb"?E7(t,e):k7(t,e)}function E7(t,e){vl=1024,t&&!t.SSF&&(t.SSF=Jn(Cr)),t&&t.SSF&&(r0(),t0(t.SSF),e.revssf=n0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,iu?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=E_.indexOf(e.bookType)>-1,s=n_();Cx(e=e||{});var i=cx(),o="",c=0;if(e.cellXfs=[],Oi(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",At(i,o,o_(t.Props,e)),s.coreprops.push(o),Xt(e.rels,2,o,zt.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(t.SheetNames[f]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,At(i,o,c_(t.Props)),s.extprops.push(o),Xt(e.rels,3,o,zt.EXT_PROPS),t.Custprops!==t.Props&&fn(t.Custprops||{}).length>0&&(o="docProps/custom.xml",At(i,o,u_(t.Custprops)),s.custprops.push(o),Xt(e.rels,4,o,zt.CUST_PROPS)),c=1;c<=t.SheetNames.length;++c){var h={"!id":{}},p=t.Sheets[t.SheetNames[c-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+c+"."+r,At(i,o,PL(c-1,o,e,t,h)),s.sheets.push(o),Xt(e.wbrels,-1,"worksheets/sheet"+c+"."+r,zt.WS[0])}if(p){var x=p["!comments"],w=!1,b="";x&&x.length>0&&(b="xl/comments"+c+"."+r,At(i,b,FL(x,b)),s.comments.push(b),Xt(h,-1,"../comments"+c+"."+r,zt.CMNT),w=!0),p["!legacy"]&&w&&At(i,"xl/drawings/vmlDrawing"+c+".vml",j_(c,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&At(i,a_(o),El(h))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,At(i,o,RL(e.Strings,o,e)),s.strs.push(o),Xt(e.wbrels,-1,"sharedStrings."+r,zt.SST)),o="xl/workbook."+r,At(i,o,AL(t,o)),s.workbooks.push(o),Xt(e.rels,1,o,zt.WB),o="xl/theme/theme1.xml",At(i,o,__(t.Themes,e)),s.themes.push(o),Xt(e.wbrels,-1,"theme/theme1.xml",zt.THEME),o="xl/styles."+r,At(i,o,DL(t,o,e)),s.styles.push(o),Xt(e.wbrels,-1,"styles."+r,zt.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",At(i,o,t.vbaraw),s.vba.push(o),Xt(e.wbrels,-1,"vbaProject.bin",zt.VBA)),o="xl/metadata."+r,At(i,o,OL(o)),s.metadata.push(o),Xt(e.wbrels,-1,"metadata."+r,zt.XLMETA),At(i,"[Content_Types].xml",s_(s,e)),At(i,"_rels/.rels",El(e.rels)),At(i,"xl/_rels/workbook."+r+".rels",El(e.wbrels)),delete e.revssf,delete e.ssf,i}function k7(t,e){vl=1024,t&&!t.SSF&&(t.SSF=Jn(Cr)),t&&t.SSF&&(r0(),t0(t.SSF),e.revssf=n0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,iu?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=E_.indexOf(e.bookType)>-1,s=n_();Cx(e=e||{});var i=cx(),o="",c=0;if(e.cellXfs=[],Oi(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",At(i,o,o_(t.Props,e)),s.coreprops.push(o),Xt(e.rels,2,o,zt.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(t.SheetNames[f]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,At(i,o,c_(t.Props)),s.extprops.push(o),Xt(e.rels,3,o,zt.EXT_PROPS),t.Custprops!==t.Props&&fn(t.Custprops||{}).length>0&&(o="docProps/custom.xml",At(i,o,u_(t.Custprops)),s.custprops.push(o),Xt(e.rels,4,o,zt.CUST_PROPS));var h=["SheetJ5"];for(e.tcid=0,c=1;c<=t.SheetNames.length;++c){var p={"!id":{}},g=t.Sheets[t.SheetNames[c-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:o="xl/worksheets/sheet"+c+"."+r,At(i,o,L_(c-1,e,t,p)),s.sheets.push(o),Xt(e.wbrels,-1,"worksheets/sheet"+c+"."+r,zt.WS[0])}if(g){var w=g["!comments"],b=!1,v="";if(w&&w.length>0){var C=!1;w.forEach(function(E){E[1].forEach(function(j){j.T==!0&&(C=!0)})}),C&&(v="xl/threadedComments/threadedComment"+c+"."+r,At(i,v,iF(w,h,e)),s.threadedcomments.push(v),Xt(p,-1,"../threadedComments/threadedComment"+c+"."+r,zt.TCMNT)),v="xl/comments"+c+"."+r,At(i,v,T_(w)),s.comments.push(v),Xt(p,-1,"../comments"+c+"."+r,zt.CMNT),b=!0}g["!legacy"]&&b&&At(i,"xl/drawings/vmlDrawing"+c+".vml",j_(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&At(i,a_(o),El(p))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,At(i,o,y_(e.Strings,e)),s.strs.push(o),Xt(e.wbrels,-1,"sharedStrings."+r,zt.SST)),o="xl/workbook."+r,At(i,o,U_(t)),s.workbooks.push(o),Xt(e.rels,1,o,zt.WB),o="xl/theme/theme1.xml",At(i,o,__(t.Themes,e)),s.themes.push(o),Xt(e.wbrels,-1,"theme/theme1.xml",zt.THEME),o="xl/styles."+r,At(i,o,N_(t,e)),s.styles.push(o),Xt(e.wbrels,-1,"styles."+r,zt.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",At(i,o,t.vbaraw),s.vba.push(o),Xt(e.wbrels,-1,"vbaProject.bin",zt.VBA)),o="xl/metadata."+r,At(i,o,C_()),s.metadata.push(o),Xt(e.wbrels,-1,"metadata."+r,zt.XLMETA),h.length>1&&(o="xl/persons/person.xml",At(i,o,oF(h)),s.people.push(o),Xt(e.wbrels,-1,"persons/person.xml",zt.PEOPLE)),At(i,"[Content_Types].xml",s_(s,e)),At(i,"_rels/.rels",El(e.rels)),At(i,"xl/_rels/workbook."+r+".rels",El(e.wbrels)),delete e.revssf,delete e.ssf,i}function A7(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Oa(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function K_(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Xu(e.file,er.write(t,{type:Wt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return er.write(t,e)}function P7(t,e){var r=Jn(e||{}),n=T7(t,r);return D7(n,r)}function D7(t,e){var r={},n=Wt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?er.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(e0(s))}return e.password&&typeof encrypt_agile<"u"?K_(encrypt_agile(s,e.password),e):e.type==="file"?Xu(e.file,s):e.type=="string"?ru(s):s}function R7(t,e){var r=e||{},n=qL(t,r);return K_(n,r)}function ia(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Su(Cu(n));case"binary":return Cu(n);case"string":return t;case"file":return Xu(e.file,n,"utf8");case"buffer":return Wt?Ua(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):ia(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function F7(t,e){switch(e.type){case"base64":return Su(t);case"binary":return t;case"string":return t;case"file":return Xu(e.file,t,"binary");case"buffer":return Wt?Ua(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function yf(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Su(r):e.type=="string"?ru(r):r;case"file":return Xu(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function G_(t,e){lP(),vL(t);var r=Jn(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=G_(t,r);return r.type="array",e0(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=t.SheetNames.indexOf(r.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ia(KL(t,r),r);case"slk":case"sylk":return ia(gR.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"htm":case"html":return ia(H_(t.Sheets[t.SheetNames[s]],r),r);case"txt":return F7(q_(t.Sheets[t.SheetNames[s]],r),r);case"csv":return ia(jx(t.Sheets[t.SheetNames[s]],r),r,"\uFEFF");case"dif":return ia(xR.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"dbf":return yf(pR.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"prn":return ia(yR.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"rtf":return ia(CR.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"eth":return ia(x_.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"fods":return ia(Y_(t,r),r);case"wk1":return yf(db.sheet_to_wk1(t.Sheets[t.SheetNames[s]],r),r);case"wk3":return yf(db.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),yf(V_(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),R7(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return P7(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function O7(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function M7(t,e,r){var n={};return n.type="file",n.file=e,O7(n),G_(t,n)}function L7(t,e,r,n,s,i,o,c){var d=un(r),f=c.defval,h=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),p=!0,g=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!o||t[r])for(var x=e.s.c;x<=e.e.c;++x){var w=o?t[r][x]:t[n[x]+d];if(w===void 0||w.t===void 0){if(f===void 0)continue;i[x]!=null&&(g[i[x]]=f);continue}var b=w.v;switch(w.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(i[x]!=null){if(b==null)if(w.t=="e"&&b===null)g[i[x]]=null;else if(f!==void 0)g[i[x]]=f;else if(h&&b===null)g[i[x]]=null;else continue;else g[i[x]]=h&&(w.t!=="n"||w.t==="n"&&c.rawNumbers!==!1)?b:Ma(w,b,c);b!=null&&(p=!1)}}return{row:g,isempty:p}}function wh(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,i=[],o=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},h=f.range!=null?f.range:t["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof h){case"string":d=dr(h);break;case"number":d=dr(t["!ref"]),d.s.r=h;break;default:d=h}n>0&&(s=0);var p=un(d.s.r),g=[],x=[],w=0,b=0,v=Array.isArray(t),C=d.s.r,E=0,j={};v&&!t[C]&&(t[C]=[]);var D=f.skipHidden&&t["!cols"]||[],T=f.skipHidden&&t["!rows"]||[];for(E=d.s.c;E<=d.e.c;++E)if(!(D[E]||{}).hidden)switch(g[E]=Cn(E),r=v?t[C][E]:t[g[E]+p],n){case 1:i[E]=E-d.s.c;break;case 2:i[E]=g[E];break;case 3:i[E]=f.header[E-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=o=Ma(r,null,f),b=j[o]||0,!b)j[o]=1;else{do c=o+"_"+b++;while(j[c]);j[o]=b,j[c]=1}i[E]=c}for(C=d.s.r+s;C<=d.e.r;++C)if(!(T[C]||{}).hidden){var M=L7(t,d,C,g,n,i,v,f);(M.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(x[w++]=M.row)}return x.length=w,x}var vb=/"/g;function I7(t,e,r,n,s,i,o,c){for(var d=!0,f=[],h="",p=un(r),g=e.s.c;g<=e.e.c;++g)if(n[g]){var x=c.dense?(t[r]||[])[g]:t[n[g]+p];if(x==null)h="";else if(x.v!=null){d=!1,h=""+(c.rawNumbers&&x.t=="n"?x.v:Ma(x,null,c));for(var w=0,b=0;w!==h.length;++w)if((b=h.charCodeAt(w))===s||b===i||b===34||c.forceQuotes){h='"'+h.replace(vb,'""')+'"';break}h=="ID"&&(h='"ID"')}else x.f!=null&&!x.F?(d=!1,h="="+x.f,h.indexOf(",")>=0&&(h='"'+h.replace(vb,'""')+'"')):h="";f.push(h)}return c.blankrows===!1&&d?null:f.join(o)}function jx(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var s=dr(t["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,d=c.charCodeAt(0),f=new RegExp((i=="|"?"\\|":i)+"+$"),h="",p=[];n.dense=Array.isArray(t);for(var g=n.skipHidden&&t["!cols"]||[],x=n.skipHidden&&t["!rows"]||[],w=s.s.c;w<=s.e.c;++w)(g[w]||{}).hidden||(p[w]=Cn(w));for(var b=0,v=s.s.r;v<=s.e.r;++v)(x[v]||{}).hidden||(h=I7(t,s,v,p,o,d,i,n),h!=null&&(n.strip&&(h=h.replace(f,"")),(h||n.blankrows!==!1)&&r.push((b++?c:"")+h)));return delete n.dense,r.join("")}function q_(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=jx(t,e);return r}function B7(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var s=dr(t["!ref"]),i="",o=[],c,d=[],f=Array.isArray(t);for(c=s.s.c;c<=s.e.c;++c)o[c]=Cn(c);for(var h=s.s.r;h<=s.e.r;++h)for(i=un(h),c=s.s.c;c<=s.e.c;++c)if(e=o[c]+i,r=f?(t[h]||[])[c]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=e+"="+n}return d}function X_(t,e,r){var n=r||{},s=+!n.skipHeader,i=t||{},o=0,c=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?Xr(n.origin):n.origin;o=d.r,c=d.c}var f,h={s:{c:0,r:0},e:{c,r:o+e.length-1+s}};if(i["!ref"]){var p=dr(i["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),o==-1&&(o=p.e.r+1,h.e.r=o+e.length-1+s)}else o==-1&&(o=0,h.e.r=e.length-1+s);var g=n.header||[],x=0;e.forEach(function(b,v){fn(b).forEach(function(C){(x=g.indexOf(C))==-1&&(g[x=g.length]=C);var E=b[C],j="z",D="",T=Zt({c:c+x,r:o+v+s});f=Eu(i,T),E&&typeof E=="object"&&!(E instanceof Date)?i[T]=E:(typeof E=="number"?j="n":typeof E=="boolean"?j="b":typeof E=="string"?j="s":E instanceof Date?(j="d",n.cellDates||(j="n",E=Xn(E)),D=n.dateNF||Cr[14]):E===null&&n.nullError&&(j="e",E=0),f?(f.t=j,f.v=E,delete f.w,delete f.R,D&&(f.z=D)):i[T]=f={t:j,v:E},D&&(f.z=D))})}),h.e.c=Math.max(h.e.c,c+g.length-1);var w=un(o);if(s)for(x=0;x<g.length;++x)i[Cn(x+c)+w]={t:"s",v:g[x]};return i["!ref"]=Fr(h),i}function U7(t,e){return X_(null,t,e)}function Eu(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Xr(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Eu(t,Zt(e)):Eu(t,Zt({r:e,c:r||0}))}function z7(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function V7(){return{SheetNames:[],Sheets:{}}}function H7(t,e,r,n){var s=1;if(!r)for(;s<=65535&&t.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&t.SheetNames.indexOf(r=o+s)!=-1;++s);}if(B_(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function W7(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=z7(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function $7(t,e){return t.z=e,t}function J_(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function Y7(t,e,r){return J_(t,"#"+e,r)}function K7(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function G7(t,e,r,n){for(var s=typeof e!="string"?e:dr(e),i=typeof e=="string"?e:Fr(e),o=s.s.r;o<=s.e.r;++o)for(var c=s.s.c;c<=s.e.c;++c){var d=Eu(t,o,c);d.t="n",d.F=i,delete d.v,o==s.s.r&&c==s.s.c&&(d.f=r,n&&(d.D=!0))}return t}var dp={encode_col:Cn,encode_row:un,encode_cell:Zt,encode_range:Fr,decode_col:px,decode_row:mx,split_cell:lD,decode_cell:Xr,decode_range:ds,format_cell:Ma,sheet_add_aoa:JS,sheet_add_json:X_,sheet_add_dom:W_,aoa_to_sheet:$l,json_to_sheet:U7,table_to_sheet:$_,table_to_book:x7,sheet_to_csv:jx,sheet_to_txt:q_,sheet_to_json:wh,sheet_to_html:H_,sheet_to_formulae:B7,sheet_to_row_object_array:wh,sheet_get_cell:Eu,book_new:V7,book_append_sheet:H7,book_set_sheet_visibility:W7,cell_set_number_format:$7,cell_set_hyperlink:J_,cell_set_internal_link:Y7,cell_add_comment:K7,sheet_set_array_formula:G7,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function td(t){return t+.5|0}const yi=(t,e,r)=>Math.max(Math.min(t,r),e);function $c(t){return yi(td(t*2.55),0,255)}function _i(t){return yi(td(t*255),0,255)}function ka(t){return yi(td(t/2.55)/100,0,1)}function bb(t){return yi(td(t*100),0,100)}const bs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hg=[..."0123456789ABCDEF"],q7=t=>hg[t&15],X7=t=>hg[(t&240)>>4]+hg[t&15],vf=t=>(t&240)>>4===(t&15),J7=t=>vf(t.r)&&vf(t.g)&&vf(t.b)&&vf(t.a);function Q7(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&bs[t[1]]*17,g:255&bs[t[2]]*17,b:255&bs[t[3]]*17,a:e===5?bs[t[4]]*17:255}:(e===7||e===9)&&(r={r:bs[t[1]]<<4|bs[t[2]],g:bs[t[3]]<<4|bs[t[4]],b:bs[t[5]]<<4|bs[t[6]],a:e===9?bs[t[7]]<<4|bs[t[8]]:255})),r}const Z7=(t,e)=>t<255?e(t):"";function eI(t){var e=J7(t)?q7:X7;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Z7(t.a,e):void 0}const tI=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Q_(t,e,r){const n=e*Math.min(r,1-r),s=(i,o=(i+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function rI(t,e,r){const n=(s,i=(s+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function nI(t,e,r){const n=Q_(t,1,.5);let s;for(e+r>1&&(s=1/(e+r),e*=s,r*=s),s=0;s<3;s++)n[s]*=1-e-r,n[s]+=e;return n}function sI(t,e,r,n,s){return t===s?(e-r)/n+(e<r?6:0):e===s?(r-t)/n+2:(t-e)/n+4}function Tx(t){const r=t.r/255,n=t.g/255,s=t.b/255,i=Math.max(r,n,s),o=Math.min(r,n,s),c=(i+o)/2;let d,f,h;return i!==o&&(h=i-o,f=c>.5?h/(2-i-o):h/(i+o),d=sI(r,n,s,h,i),d=d*60+.5),[d|0,f||0,c]}function Ex(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(_i)}function kx(t,e,r){return Ex(Q_,t,e,r)}function aI(t,e,r){return Ex(nI,t,e,r)}function iI(t,e,r){return Ex(rI,t,e,r)}function Z_(t){return(t%360+360)%360}function oI(t){const e=tI.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?$c(+e[5]):_i(+e[5]));const s=Z_(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=aI(s,i,o):e[1]==="hsv"?n=iI(s,i,o):n=kx(s,i,o),{r:n[0],g:n[1],b:n[2],a:r}}function lI(t,e){var r=Tx(t);r[0]=Z_(r[0]+e),r=kx(r),t.r=r[0],t.g=r[1],t.b=r[2]}function cI(t){if(!t)return;const e=Tx(t),r=e[0],n=bb(e[1]),s=bb(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${s}%, ${ka(t.a)})`:`hsl(${r}, ${n}%, ${s}%)`}const wb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Nb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uI(){const t={},e=Object.keys(Nb),r=Object.keys(wb);let n,s,i,o,c;for(n=0;n<e.length;n++){for(o=c=e[n],s=0;s<r.length;s++)i=r[s],c=c.replace(i,wb[i]);i=parseInt(Nb[o],16),t[c]=[i>>16&255,i>>8&255,i&255]}return t}let bf;function dI(t){bf||(bf=uI(),bf.transparent=[0,0,0,0]);const e=bf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const fI=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hI(t){const e=fI.exec(t);let r=255,n,s,i;if(e){if(e[7]!==n){const o=+e[7];r=e[8]?$c(o):yi(o*255,0,255)}return n=+e[1],s=+e[3],i=+e[5],n=255&(e[2]?$c(n):yi(n,0,255)),s=255&(e[4]?$c(s):yi(s,0,255)),i=255&(e[6]?$c(i):yi(i,0,255)),{r:n,g:s,b:i,a:r}}}function mI(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ka(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const fp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,hl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function pI(t,e,r){const n=hl(ka(t.r)),s=hl(ka(t.g)),i=hl(ka(t.b));return{r:_i(fp(n+r*(hl(ka(e.r))-n))),g:_i(fp(s+r*(hl(ka(e.g))-s))),b:_i(fp(i+r*(hl(ka(e.b))-i))),a:t.a+r*(e.a-t.a)}}function wf(t,e,r){if(t){let n=Tx(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=kx(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function eC(t,e){return t&&Object.assign(e||{},t)}function Sb(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=_i(t[3]))):(e=eC(t,{r:0,g:0,b:0,a:1}),e.a=_i(e.a)),e}function gI(t){return t.charAt(0)==="r"?hI(t):oI(t)}class ku{constructor(e){if(e instanceof ku)return e;const r=typeof e;let n;r==="object"?n=Sb(e):r==="string"&&(n=Q7(e)||dI(e)||gI(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=eC(this._rgb);return e&&(e.a=ka(e.a)),e}set rgb(e){this._rgb=Sb(e)}rgbString(){return this._valid?mI(this._rgb):void 0}hexString(){return this._valid?eI(this._rgb):void 0}hslString(){return this._valid?cI(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,s=e.rgb;let i;const o=r===i?.5:r,c=2*o-1,d=n.a-s.a,f=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;i=1-f,n.r=255&f*n.r+i*s.r+.5,n.g=255&f*n.g+i*s.g+.5,n.b=255&f*n.b+i*s.b+.5,n.a=o*n.a+(1-o)*s.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=pI(this._rgb,e._rgb,r)),this}clone(){return new ku(this.rgb)}alpha(e){return this._rgb.a=_i(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=td(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return wf(this._rgb,2,e),this}darken(e){return wf(this._rgb,2,-e),this}saturate(e){return wf(this._rgb,1,e),this}desaturate(e){return wf(this._rgb,1,-e),this}rotate(e){return lI(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ja(){}const xI=(()=>{let t=0;return()=>t++})();function vr(t){return t==null}function qr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Vt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Es(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function sa(t,e){return Es(t)?t:e}function Lt(t,e){return typeof t>"u"?e:t}const yI=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function lr(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Jt(t,e,r,n){let s,i,o;if(qr(t))for(i=t.length,s=0;s<i;s++)e.call(r,t[s],s);else if(Vt(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(r,t[o[s]],o[s])}function Nh(t,e){let r,n,s,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(s=t[r],i=e[r],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Sh(t){if(qr(t))return t.map(Sh);if(Vt(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let s=0;for(;s<n;++s)e[r[s]]=Sh(t[r[s]]);return e}return t}function tC(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function vI(t,e,r,n){if(!tC(t))return;const s=e[t],i=r[t];Vt(s)&&Vt(i)?Au(s,i,n):e[t]=Sh(i)}function Au(t,e,r){const n=qr(e)?e:[e],s=n.length;if(!Vt(t))return t;r=r||{};const i=r.merger||vI;let o;for(let c=0;c<s;++c){if(o=n[c],!Vt(o))continue;const d=Object.keys(o);for(let f=0,h=d.length;f<h;++f)i(d[f],t,o,r)}return t}function ou(t,e){return Au(t,e,{merger:bI})}function bI(t,e,r){if(!tC(t))return;const n=e[t],s=r[t];Vt(n)&&Vt(s)?ou(n,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Sh(s))}const _b={"":t=>t,x:t=>t.x,y:t=>t.y};function wI(t){const e=t.split("."),r=[];let n="";for(const s of e)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function NI(t){const e=wI(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function _h(t,e){return(_b[e]||(_b[e]=NI(e)))(t)}function Ax(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ch=t=>typeof t<"u",Ei=t=>typeof t=="function",Cb=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function SI(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Or=Math.PI,dn=2*Or,_I=dn+Or,jh=Number.POSITIVE_INFINITY,CI=Or/180,cn=Or/2,to=Or/4,jb=Or*2/3,rC=Math.log10,Fl=Math.sign;function lu(t,e,r){return Math.abs(t-e)<r}function Tb(t){const e=Math.round(t);t=lu(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(rC(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function jI(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((s,i)=>s-i).pop(),e}function TI(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Th(t){return!TI(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function EI(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function kI(t,e,r){let n,s,i;for(n=0,s=t.length;n<s;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ho(t){return t*(Or/180)}function AI(t){return t*(180/Or)}function Eb(t){if(!Es(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function nC(t,e){const r=e.x-t.x,n=e.y-t.y,s=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*Or&&(i+=dn),{angle:i,distance:s}}function mg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function PI(t,e){return(t-e+_I)%dn-Or}function ui(t){return(t%dn+dn)%dn}function Px(t,e,r,n){const s=ui(t),i=ui(e),o=ui(r),c=ui(i-s),d=ui(o-s),f=ui(s-i),h=ui(s-o);return s===i||s===o||n&&i===o||c>d&&f<h}function $n(t,e,r){return Math.max(e,Math.min(r,t))}function DI(t){return $n(t,-32768,32767)}function vi(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function Dx(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,s=0,i;for(;n-s>1;)i=s+n>>1,r(i)?s=i:n=i;return{lo:s,hi:n}}const pg=(t,e,r,n)=>Dx(t,r,n?s=>{const i=t[s][e];return i<r||i===r&&t[s+1][e]===r}:s=>t[s][e]<r),RI=(t,e,r)=>Dx(t,r,n=>t[n][e]>=r);function FI(t,e,r){let n=0,s=t.length;for(;n<s&&t[n]<e;)n++;for(;s>n&&t[s-1]>r;)s--;return n>0||s<t.length?t.slice(n,s):t}const sC=["push","pop","shift","splice","unshift"];function OI(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),sC.forEach(r=>{const n="_onData"+Ax(r),s=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...i)}),o}})})}function kb(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,s=n.indexOf(e);s!==-1&&n.splice(s,1),!(n.length>0)&&(sC.forEach(i=>{delete t[i]}),delete t._chartjs)}function MI(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const aC=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function iC(t,e){let r=[],n=!1;return function(...s){r=s,n||(n=!0,aC.call(window,()=>{n=!1,t.apply(e,r)}))}}function LI(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const Rx=t=>t==="start"?"left":t==="end"?"right":"center",vn=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,II=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e,Nf=t=>t===0||t===1,Ab=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*dn/r)),Pb=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*dn/r)+1,cu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*cn)+1,easeOutSine:t=>Math.sin(t*cn),easeInOutSine:t=>-.5*(Math.cos(Or*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Nf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Nf(t)?t:Ab(t,.075,.3),easeOutElastic:t=>Nf(t)?t:Pb(t,.075,.3),easeInOutElastic(t){return Nf(t)?t:t<.5?.5*Ab(t*2,.1125,.45):.5+.5*Pb(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-cu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?cu.easeInBounce(t*2)*.5:cu.easeOutBounce(t*2-1)*.5+.5};function Fx(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Db(t){return Fx(t)?t:new ku(t)}function hp(t){return Fx(t)?t:new ku(t).saturate(.5).darken(.1).hexString()}const BI=["x","y","borderWidth","radius","tension"],UI=["color","borderColor","backgroundColor"];function zI(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:UI},numbers:{type:"number",properties:BI}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function VI(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Rb=new Map;function HI(t,e){e=e||{};const r=t+JSON.stringify(e);let n=Rb.get(r);return n||(n=new Intl.NumberFormat(t,e),Rb.set(r,n)),n}function oC(t,e,r){return HI(e,r).format(t)}const WI={values(t){return qr(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let s,i=t;if(r.length>1){const f=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),i=$I(t,r)}const o=rC(Math.abs(i)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),d={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),oC(t,n,d)}};function $I(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var lC={formatters:WI};function YI(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lC.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Eo=Object.create(null),gg=Object.create(null);function uu(t,e){if(!e)return t;const r=e.split(".");for(let n=0,s=r.length;n<s;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function mp(t,e,r){return typeof e=="string"?Au(uu(t,e),r):Au(uu(t,""),e)}class KI{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>hp(s.backgroundColor),this.hoverBorderColor=(n,s)=>hp(s.borderColor),this.hoverColor=(n,s)=>hp(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return mp(this,e,r)}get(e){return uu(this,e)}describe(e,r){return mp(gg,e,r)}override(e,r){return mp(Eo,e,r)}route(e,r,n,s){const i=uu(this,e),o=uu(this,n),c="_"+r;Object.defineProperties(i,{[c]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const d=this[c],f=o[s];return Vt(d)?Object.assign({},f,d):Lt(d,f)},set(d){this[c]=d}}})}apply(e){e.forEach(r=>r(this))}}var Er=new KI({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[zI,VI,YI]);function GI(t){return!t||vr(t.size)||vr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Fb(t,e,r,n,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,r.push(s)),i>n&&(n=i),n}function ro(t,e,r){const n=t.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((e-s)*n)/n+s}function Ob(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function xg(t,e,r,n){cC(t,e,r,n,null)}function cC(t,e,r,n,s){let i,o,c,d,f,h,p,g;const x=e.pointStyle,w=e.rotation,b=e.radius;let v=(w||0)*CI;if(x&&typeof x=="object"&&(i=x.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(v),t.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),x){default:s?t.ellipse(r,n,s/2,b,0,0,dn):t.arc(r,n,b,0,dn),t.closePath();break;case"triangle":h=s?s/2:b,t.moveTo(r+Math.sin(v)*h,n-Math.cos(v)*b),v+=jb,t.lineTo(r+Math.sin(v)*h,n-Math.cos(v)*b),v+=jb,t.lineTo(r+Math.sin(v)*h,n-Math.cos(v)*b),t.closePath();break;case"rectRounded":f=b*.516,d=b-f,o=Math.cos(v+to)*d,p=Math.cos(v+to)*(s?s/2-f:d),c=Math.sin(v+to)*d,g=Math.sin(v+to)*(s?s/2-f:d),t.arc(r-p,n-c,f,v-Or,v-cn),t.arc(r+g,n-o,f,v-cn,v),t.arc(r+p,n+c,f,v,v+cn),t.arc(r-g,n+o,f,v+cn,v+Or),t.closePath();break;case"rect":if(!w){d=Math.SQRT1_2*b,h=s?s/2:d,t.rect(r-h,n-d,2*h,2*d);break}v+=to;case"rectRot":p=Math.cos(v)*(s?s/2:b),o=Math.cos(v)*b,c=Math.sin(v)*b,g=Math.sin(v)*(s?s/2:b),t.moveTo(r-p,n-c),t.lineTo(r+g,n-o),t.lineTo(r+p,n+c),t.lineTo(r-g,n+o),t.closePath();break;case"crossRot":v+=to;case"cross":p=Math.cos(v)*(s?s/2:b),o=Math.cos(v)*b,c=Math.sin(v)*b,g=Math.sin(v)*(s?s/2:b),t.moveTo(r-p,n-c),t.lineTo(r+p,n+c),t.moveTo(r+g,n-o),t.lineTo(r-g,n+o);break;case"star":p=Math.cos(v)*(s?s/2:b),o=Math.cos(v)*b,c=Math.sin(v)*b,g=Math.sin(v)*(s?s/2:b),t.moveTo(r-p,n-c),t.lineTo(r+p,n+c),t.moveTo(r+g,n-o),t.lineTo(r-g,n+o),v+=to,p=Math.cos(v)*(s?s/2:b),o=Math.cos(v)*b,c=Math.sin(v)*b,g=Math.sin(v)*(s?s/2:b),t.moveTo(r-p,n-c),t.lineTo(r+p,n+c),t.moveTo(r+g,n-o),t.lineTo(r-g,n+o);break;case"line":o=s?s/2:Math.cos(v)*b,c=Math.sin(v)*b,t.moveTo(r-o,n-c),t.lineTo(r+o,n+c);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(v)*(s?s/2:b),n+Math.sin(v)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Pu(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function Ox(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Mx(t){t.restore()}function qI(t,e,r,n,s){if(!e)return t.lineTo(r.x,r.y);if(s==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else s==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function XI(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function JI(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),vr(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function QI(t,e,r,n,s){if(s.strikethrough||s.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,c=e+i.actualBoundingBoxRight,d=r-i.actualBoundingBoxAscent,f=r+i.actualBoundingBoxDescent,h=s.strikethrough?(d+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,h),t.lineTo(c,h),t.stroke()}}function ZI(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Du(t,e,r,n,s,i={}){const o=qr(e)?e:[e],c=i.strokeWidth>0&&i.strokeColor!=="";let d,f;for(t.save(),t.font=s.string,JI(t,i),d=0;d<o.length;++d)f=o[d],i.backdrop&&ZI(t,i.backdrop),c&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),vr(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(f,r,n,i.maxWidth)),t.fillText(f,r,n,i.maxWidth),QI(t,r,n,f,i),n+=Number(s.lineHeight);t.restore()}function Eh(t,e){const{x:r,y:n,w:s,h:i,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*Or,Or,!0),t.lineTo(r,n+i-o.bottomLeft),t.arc(r+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,Or,cn,!0),t.lineTo(r+s-o.bottomRight,n+i),t.arc(r+s-o.bottomRight,n+i-o.bottomRight,o.bottomRight,cn,0,!0),t.lineTo(r+s,n+o.topRight),t.arc(r+s-o.topRight,n+o.topRight,o.topRight,0,-cn,!0),t.lineTo(r+o.topLeft,n)}const e9=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,t9=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function r9(t,e){const r=(""+t).match(e9);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const n9=t=>+t||0;function Lx(t,e){const r={},n=Vt(e),s=n?Object.keys(e):e,i=Vt(t)?n?o=>Lt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)r[o]=n9(i(o));return r}function uC(t){return Lx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Pl(t){return Lx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ks(t){const e=uC(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Nn(t,e){t=t||{},e=e||Er.font;let r=Lt(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Lt(t.style,e.style);n&&!(""+n).match(t9)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:Lt(t.family,e.family),lineHeight:r9(Lt(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Lt(t.weight,e.weight),string:""};return s.string=GI(s),s}function Sf(t,e,r,n){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function s9(t,e,r){const{min:n,max:s}=t,i=yI(e,(s-n)/2),o=(c,d)=>r&&c===0?0:c+d;return{min:o(n,-Math.abs(i)),max:o(s,i)}}function Mo(t,e){return Object.assign(Object.create(t),e)}function Ix(t,e=[""],r,n,s=()=>t[0]){const i=r||t;typeof n>"u"&&(n=mC("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:s,override:c=>Ix([c,...t],e,i,n)};return new Proxy(o,{deleteProperty(c,d){return delete c[d],delete c._keys,delete t[0][d],!0},get(c,d){return fC(c,d,()=>f9(d,e,t,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,d){return Lb(c).includes(d)},ownKeys(c){return Lb(c)},set(c,d,f){const h=c._storage||(c._storage=s());return c[d]=h[d]=f,delete c._keys,!0}})}function Ol(t,e,r,n){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:dC(t,n),setContext:i=>Ol(t,i,r,n),override:i=>Ol(t.override(i),e,r,n)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,c){return fC(i,o,()=>i9(i,o,c))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,c){return t[o]=c,delete i[o],!0}})}function dC(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:r,indexable:n,isScriptable:Ei(r)?r:()=>r,isIndexable:Ei(n)?n:()=>n}}const a9=(t,e)=>t?t+Ax(e):e,Bx=(t,e)=>Vt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function fC(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function i9(t,e,r){const{_proxy:n,_context:s,_subProxy:i,_descriptors:o}=t;let c=n[e];return Ei(c)&&o.isScriptable(e)&&(c=o9(e,c,t,r)),qr(c)&&c.length&&(c=l9(e,c,t,o.isIndexable)),Bx(e,c)&&(c=Ol(c,s,i&&i[e],o)),c}function o9(t,e,r,n){const{_proxy:s,_context:i,_subProxy:o,_stack:c}=r;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let d=e(i,o||n);return c.delete(t),Bx(t,d)&&(d=Ux(s._scopes,s,t,d)),d}function l9(t,e,r,n){const{_proxy:s,_context:i,_subProxy:o,_descriptors:c}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(Vt(e[0])){const d=e,f=s._scopes.filter(h=>h!==d);e=[];for(const h of d){const p=Ux(f,s,t,h);e.push(Ol(p,i,o&&o[t],c))}}return e}function hC(t,e,r){return Ei(t)?t(e,r):t}const c9=(t,e)=>t===!0?e:typeof t=="string"?_h(e,t):void 0;function u9(t,e,r,n,s){for(const i of e){const o=c9(r,i);if(o){t.add(o);const c=hC(o._fallback,r,s);if(typeof c<"u"&&c!==r&&c!==n)return c}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function Ux(t,e,r,n){const s=e._rootScopes,i=hC(e._fallback,r,n),o=[...t,...s],c=new Set;c.add(n);let d=Mb(c,o,r,i||r,n);return d===null||typeof i<"u"&&i!==r&&(d=Mb(c,o,i,d,n),d===null)?!1:Ix(Array.from(c),[""],s,i,()=>d9(e,r,n))}function Mb(t,e,r,n,s){for(;r;)r=u9(t,e,r,n,s);return r}function d9(t,e,r){const n=t._getTarget();e in n||(n[e]={});const s=n[e];return qr(s)&&Vt(r)?r:s||{}}function f9(t,e,r,n){let s;for(const i of e)if(s=mC(a9(i,t),r),typeof s<"u")return Bx(t,s)?Ux(r,n,t,s):s}function mC(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function Lb(t){let e=t._keys;return e||(e=t._keys=h9(t._scopes)),e}function h9(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(s=>!s.startsWith("_")))e.add(n);return Array.from(e)}const m9=Number.EPSILON||1e-14,Ml=(t,e)=>e<t.length&&!t[e].skip&&t[e],pC=t=>t==="x"?"y":"x";function p9(t,e,r,n){const s=t.skip?e:t,i=e,o=r.skip?e:r,c=mg(i,s),d=mg(o,i);let f=c/(c+d),h=d/(c+d);f=isNaN(f)?0:f,h=isNaN(h)?0:h;const p=n*f,g=n*h;return{previous:{x:i.x-p*(o.x-s.x),y:i.y-p*(o.y-s.y)},next:{x:i.x+g*(o.x-s.x),y:i.y+g*(o.y-s.y)}}}function g9(t,e,r){const n=t.length;let s,i,o,c,d,f=Ml(t,0);for(let h=0;h<n-1;++h)if(d=f,f=Ml(t,h+1),!(!d||!f)){if(lu(e[h],0,m9)){r[h]=r[h+1]=0;continue}s=r[h]/e[h],i=r[h+1]/e[h],c=Math.pow(s,2)+Math.pow(i,2),!(c<=9)&&(o=3/Math.sqrt(c),r[h]=s*o*e[h],r[h+1]=i*o*e[h])}}function x9(t,e,r="x"){const n=pC(r),s=t.length;let i,o,c,d=Ml(t,0);for(let f=0;f<s;++f){if(o=c,c=d,d=Ml(t,f+1),!c)continue;const h=c[r],p=c[n];o&&(i=(h-o[r])/3,c[`cp1${r}`]=h-i,c[`cp1${n}`]=p-i*e[f]),d&&(i=(d[r]-h)/3,c[`cp2${r}`]=h+i,c[`cp2${n}`]=p+i*e[f])}}function y9(t,e="x"){const r=pC(e),n=t.length,s=Array(n).fill(0),i=Array(n);let o,c,d,f=Ml(t,0);for(o=0;o<n;++o)if(c=d,d=f,f=Ml(t,o+1),!!d){if(f){const h=f[e]-d[e];s[o]=h!==0?(f[r]-d[r])/h:0}i[o]=c?f?Fl(s[o-1])!==Fl(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}g9(t,s,i),x9(t,i,e)}function _f(t,e,r){return Math.max(Math.min(t,r),e)}function v9(t,e){let r,n,s,i,o,c=Pu(t[0],e);for(r=0,n=t.length;r<n;++r)o=i,i=c,c=r<n-1&&Pu(t[r+1],e),i&&(s=t[r],o&&(s.cp1x=_f(s.cp1x,e.left,e.right),s.cp1y=_f(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=_f(s.cp2x,e.left,e.right),s.cp2y=_f(s.cp2y,e.top,e.bottom)))}function b9(t,e,r,n,s){let i,o,c,d;if(e.spanGaps&&(t=t.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")y9(t,s);else{let f=n?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)c=t[i],d=p9(f,c,t[Math.min(i+1,o-(n?0:1))%o],e.tension),c.cp1x=d.previous.x,c.cp1y=d.previous.y,c.cp2x=d.next.x,c.cp2y=d.next.y,f=c}e.capBezierPoints&&v9(t,r)}function zx(){return typeof window<"u"&&typeof document<"u"}function Vx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function kh(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const l0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function w9(t,e){return l0(t).getPropertyValue(e)}const N9=["top","right","bottom","left"];function bo(t,e,r){const n={};r=r?"-"+r:"";for(let s=0;s<4;s++){const i=N9[s];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const S9=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function _9(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:s,offsetY:i}=n;let o=!1,c,d;if(S9(s,i,t.target))c=s,d=i;else{const f=e.getBoundingClientRect();c=n.clientX-f.left,d=n.clientY-f.top,o=!0}return{x:c,y:d,box:o}}function ao(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,s=l0(r),i=s.boxSizing==="border-box",o=bo(s,"padding"),c=bo(s,"border","width"),{x:d,y:f,box:h}=_9(t,r),p=o.left+(h&&c.left),g=o.top+(h&&c.top);let{width:x,height:w}=e;return i&&(x-=o.width+c.width,w-=o.height+c.height),{x:Math.round((d-p)/x*r.width/n),y:Math.round((f-g)/w*r.height/n)}}function C9(t,e,r){let n,s;if(e===void 0||r===void 0){const i=t&&Vx(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const o=i.getBoundingClientRect(),c=l0(i),d=bo(c,"border","width"),f=bo(c,"padding");e=o.width-f.width-d.width,r=o.height-f.height-d.height,n=kh(c.maxWidth,i,"clientWidth"),s=kh(c.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||jh,maxHeight:s||jh}}const Cf=t=>Math.round(t*10)/10;function j9(t,e,r,n){const s=l0(t),i=bo(s,"margin"),o=kh(s.maxWidth,t,"clientWidth")||jh,c=kh(s.maxHeight,t,"clientHeight")||jh,d=C9(t,e,r);let{width:f,height:h}=d;if(s.boxSizing==="content-box"){const g=bo(s,"border","width"),x=bo(s,"padding");f-=x.width+g.width,h-=x.height+g.height}return f=Math.max(0,f-i.width),h=Math.max(0,n?f/n:h-i.height),f=Cf(Math.min(f,o,d.maxWidth)),h=Cf(Math.min(h,c,d.maxHeight)),f&&!h&&(h=Cf(f/2)),(e!==void 0||r!==void 0)&&n&&d.height&&h>d.height&&(h=d.height,f=Cf(Math.floor(h*n))),{width:f,height:h}}function Ib(t,e,r){const n=e||1,s=Math.floor(t.height*n),i=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=n,o.height=s,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const T9=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};zx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Bb(t,e){const r=w9(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function io(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function E9(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function k9(t,e,r,n){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=io(t,s,r),c=io(s,i,r),d=io(i,e,r),f=io(o,c,r),h=io(c,d,r);return io(f,h,r)}const A9=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},P9=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Dl(t,e,r){return t?A9(e,r):P9()}function gC(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function xC(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function yC(t){return t==="angle"?{between:Px,compare:PI,normalize:ui}:{between:vi,compare:(e,r)=>e-r,normalize:e=>e}}function Ub({start:t,end:e,count:r,loop:n,style:s}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:s}}function D9(t,e,r){const{property:n,start:s,end:i}=r,{between:o,normalize:c}=yC(n),d=e.length;let{start:f,end:h,loop:p}=t,g,x;if(p){for(f+=d,h+=d,g=0,x=d;g<x&&o(c(e[f%d][n]),s,i);++g)f--,h--;f%=d,h%=d}return h<f&&(h+=d),{start:f,end:h,loop:p,style:t.style}}function R9(t,e,r){if(!r)return[t];const{property:n,start:s,end:i}=r,o=e.length,{compare:c,between:d,normalize:f}=yC(n),{start:h,end:p,loop:g,style:x}=D9(t,e,r),w=[];let b=!1,v=null,C,E,j;const D=()=>d(s,j,C)&&c(s,j)!==0,T=()=>c(i,C)===0||d(i,j,C),M=()=>b||D(),_=()=>!b||T();for(let P=h,I=h;P<=p;++P)E=e[P%o],!E.skip&&(C=f(E[n]),C!==j&&(b=d(C,s,i),v===null&&M()&&(v=c(C,s)===0?P:I),v!==null&&_()&&(w.push(Ub({start:v,end:P,loop:g,count:o,style:x})),v=null),I=P,j=C));return v!==null&&w.push(Ub({start:v,end:p,loop:g,count:o,style:x})),w}function F9(t,e){const r=[],n=t.segments;for(let s=0;s<n.length;s++){const i=R9(n[s],t.points,e);i.length&&r.push(...i)}return r}function O9(t,e,r,n){let s=0,i=e-1;if(r&&!n)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,r&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function M9(t,e,r,n){const s=t.length,i=[];let o=e,c=t[e],d;for(d=e+1;d<=r;++d){const f=t[d%s];f.skip||f.stop?c.skip||(n=!1,i.push({start:e%s,end:(d-1)%s,loop:n}),e=o=f.stop?d:null):(o=d,c.skip&&(e=d)),c=f}return o!==null&&i.push({start:e%s,end:o%s,loop:n}),i}function L9(t,e){const r=t.points,n=t.options.spanGaps,s=r.length;if(!s)return[];const i=!!t._loop,{start:o,end:c}=O9(r,s,i,n);if(n===!0)return zb(t,[{start:o,end:c,loop:i}],r,e);const d=c<o?c+s:c,f=!!t._fullLoop&&o===0&&c===s-1;return zb(t,M9(r,o,d,f),r,e)}function zb(t,e,r,n){return!n||!n.setContext||!r?e:I9(t,e,r,n)}function I9(t,e,r,n){const s=t._chart.getContext(),i=Vb(t.options),{_datasetIndex:o,options:{spanGaps:c}}=t,d=r.length,f=[];let h=i,p=e[0].start,g=p;function x(w,b,v,C){const E=c?-1:1;if(w!==b){for(w+=d;r[w%d].skip;)w-=E;for(;r[b%d].skip;)b+=E;w%d!==b%d&&(f.push({start:w%d,end:b%d,loop:v,style:C}),h=C,p=b%d)}}for(const w of e){p=c?p:w.start;let b=r[p%d],v;for(g=p+1;g<=w.end;g++){const C=r[g%d];v=Vb(n.setContext(Mo(s,{type:"segment",p0:b,p1:C,p0DataIndex:(g-1)%d,p1DataIndex:g%d,datasetIndex:o}))),B9(v,h)&&x(p,g-1,w.loop,h),b=C,h=v}p<g-1&&x(p,g-1,w.loop,h)}return f}function Vb(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function B9(t,e){if(!e)return!1;const r=[],n=function(s,i){return Fx(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function jf(t,e,r){return t.options.clip?t[r]:e[r]}function U9(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:jf(r,e,"left"),right:jf(r,e,"right"),top:jf(n,e,"top"),bottom:jf(n,e,"bottom")}:e}function z9(t,e){const r=e._clip;if(r.disabled)return!1;const n=U9(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class V9{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,s){const i=r.listeners[s],o=r.duration;i.forEach(c=>c({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=aC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,c=!1,d;for(;o>=0;--o)d=i[o],d._active?(d._total>n.duration&&(n.duration=d._total),d.tick(e),c=!0):(i[o]=i[i.length-1],i.pop());c&&(s.draw(),this._notify(s,n,e,"progress")),i.length||(n.running=!1,this._notify(s,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ta=new V9;const Hb="transparent",H9={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=Db(t||Hb),s=n.valid&&Db(e||Hb);return s&&s.valid?s.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class W9{constructor(e,r,n,s){const i=r[n];s=Sf([e.to,s,i,e.from]);const o=Sf([e.from,i,s]);this._active=!0,this._fn=e.fn||H9[e.type||typeof o],this._easing=cu[e.easing]||cu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const s=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Sf([e.to,r,s,e.from]),this._from=Sf([e.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,s=this._prop,i=this._from,o=this._loop,c=this._to;let d;if(this._active=i!==c&&(o||r<n),!this._active){this._target[s]=c,this._notify(!0);return}if(r<0){this._target[s]=i;return}d=r/n%2,d=o&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[s]=this._fn(i,c,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][r]()}}class vC{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Vt(e))return;const r=Object.keys(Er.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Vt(i))return;const o={};for(const c of r)o[c]=i[c];(qr(i.properties)&&i.properties||[s]).forEach(c=>{(c===s||!n.has(c))&&n.set(c,o)})})}_animateOptions(e,r){const n=r.options,s=Y9(e,n);if(!s)return[];const i=this._createAnimations(s,n);return n.$shared&&$9(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(r),c=Date.now();let d;for(d=o.length-1;d>=0;--d){const f=o[d];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(e,r));continue}const h=r[f];let p=i[f];const g=n.get(f);if(p)if(g&&p.active()){p.update(g,h,c);continue}else p.cancel();if(!g||!g.duration){e[f]=h;continue}i[f]=p=new W9(g,e,f,h),s.push(p)}return s}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Ta.add(this._chart,n),!0}}function $9(t,e){const r=[],n=Object.keys(e);for(let s=0;s<n.length;s++){const i=t[n[s]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function Y9(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function Wb(t,e){const r=t&&t.options||{},n=r.reverse,s=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:s,end:n?s:i}}function K9(t,e,r){if(r===!1)return!1;const n=Wb(t,r),s=Wb(e,r);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function G9(t){let e,r,n,s;return Vt(t)?(e=t.top,r=t.right,n=t.bottom,s=t.left):e=r=n=s=t,{top:e,right:r,bottom:n,left:s,disabled:t===!1}}function bC(t,e){const r=[],n=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=n.length;s<i;++s)r.push(n[s].index);return r}function $b(t,e,r,n={}){const s=t.keys,i=n.mode==="single";let o,c,d,f;if(e===null)return;let h=!1;for(o=0,c=s.length;o<c;++o){if(d=+s[o],d===r){if(h=!0,n.all)continue;break}f=t.values[d],Es(f)&&(i||e===0||Fl(e)===Fl(f))&&(e+=f)}return!h&&!n.all?0:e}function q9(t,e){const{iScale:r,vScale:n}=e,s=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),c=new Array(o.length);let d,f,h;for(d=0,f=o.length;d<f;++d)h=o[d],c[d]={[s]:h,[i]:t[h]};return c}function pp(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function X9(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function J9(t){const{min:e,max:r,minDefined:n,maxDefined:s}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function Q9(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function Yb(t,e,r,n){for(const s of e.getMatchingVisibleMetas(n).reverse()){const i=t[s.index];if(r&&i>0||!r&&i<0)return s.index}return null}function Kb(t,e){const{chart:r,_cachedMeta:n}=t,s=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:c}=n,d=i.axis,f=o.axis,h=X9(i,o,n),p=e.length;let g;for(let x=0;x<p;++x){const w=e[x],{[d]:b,[f]:v}=w,C=w._stacks||(w._stacks={});g=C[f]=Q9(s,h,b),g[c]=v,g._top=Yb(g,o,!0,n.type),g._bottom=Yb(g,o,!1,n.type);const E=g._visualValues||(g._visualValues={});E[c]=v}}function gp(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function Z9(t,e){return Mo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function eB(t,e,r){return Mo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Oc(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const xp=t=>t==="reset"||t==="none",Gb=(t,e)=>e?t:Object.assign({},t),tB=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:bC(r,!0),values:null};class Kf{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=pp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Oc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),s=(p,g,x,w)=>p==="x"?g:p==="r"?w:x,i=r.xAxisID=Lt(n.xAxisID,gp(e,"x")),o=r.yAxisID=Lt(n.yAxisID,gp(e,"y")),c=r.rAxisID=Lt(n.rAxisID,gp(e,"r")),d=r.indexAxis,f=r.iAxisID=s(d,i,o,c),h=r.vAxisID=s(d,o,i,c);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(f),r.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&kb(this._data,this),e._stacked&&Oc(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Vt(r)){const s=this._cachedMeta;this._data=q9(r,s)}else if(n!==r){if(n){kb(n,this);const s=this._cachedMeta;Oc(s),s._parsed=[]}r&&Object.isExtensible(r)&&OI(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const i=r._stacked;r._stacked=pp(r.vScale,r),r.stack!==n.stack&&(s=!0,Oc(r),r.stack=n.stack),this._resyncElements(e),(s||i!==r._stacked)&&(Kb(this,r._parsed),r._stacked=pp(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:s}=this,{iScale:i,_stacked:o}=n,c=i.axis;let d=e===0&&r===s.length?!0:n._sorted,f=e>0&&n._parsed[e-1],h,p,g;if(this._parsing===!1)n._parsed=s,n._sorted=!0,g=s;else{qr(s[e])?g=this.parseArrayData(n,s,e,r):Vt(s[e])?g=this.parseObjectData(n,s,e,r):g=this.parsePrimitiveData(n,s,e,r);const x=()=>p[c]===null||f&&p[c]<f[c];for(h=0;h<r;++h)n._parsed[h+e]=p=g[h],d&&(x()&&(d=!1),f=p);n._sorted=d}o&&Kb(this,g)}parsePrimitiveData(e,r,n,s){const{iScale:i,vScale:o}=e,c=i.axis,d=o.axis,f=i.getLabels(),h=i===o,p=new Array(s);let g,x,w;for(g=0,x=s;g<x;++g)w=g+n,p[g]={[c]:h||i.parse(f[w],w),[d]:o.parse(r[w],w)};return p}parseArrayData(e,r,n,s){const{xScale:i,yScale:o}=e,c=new Array(s);let d,f,h,p;for(d=0,f=s;d<f;++d)h=d+n,p=r[h],c[d]={x:i.parse(p[0],h),y:o.parse(p[1],h)};return c}parseObjectData(e,r,n,s){const{xScale:i,yScale:o}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,f=new Array(s);let h,p,g,x;for(h=0,p=s;h<p;++h)g=h+n,x=r[g],f[h]={x:i.parse(_h(x,c),g),y:o.parse(_h(x,d),g)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const s=this.chart,i=this._cachedMeta,o=r[e.axis],c={keys:bC(s,!0),values:r._stacks[e.axis]._visualValues};return $b(c,o,i.index,{mode:n})}updateRangeFromParsed(e,r,n,s){const i=n[r.axis];let o=i===null?NaN:i;const c=s&&n._stacks[r.axis];s&&c&&(s.values=c,o=$b(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const n=this._cachedMeta,s=n._parsed,i=n._sorted&&e===n.iScale,o=s.length,c=this._getOtherScale(e),d=tB(r,n,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:p}=J9(c);let g,x;function w(){x=s[g];const b=x[c.axis];return!Es(x[e.axis])||h>b||p<b}for(g=0;g<o&&!(!w()&&(this.updateRangeFromParsed(f,e,x,d),i));++g);if(i){for(g=o-1;g>=0;--g)if(!w()){this.updateRangeFromParsed(f,e,x,d);break}}return f}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let s,i,o;for(s=0,i=r.length;s<i;++s)o=r[s][e.axis],Es(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,s=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=G9(Lt(this.options.clip,K9(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,s=n.data||[],i=r.chartArea,o=[],c=this._drawStart||0,d=this._drawCount||s.length-c,f=this.options.drawActiveElementsOnTop;let h;for(n.dataset&&n.dataset.draw(e,i,c,d),h=c;h<c+d;++h){const p=s[h];p.hidden||(p.active&&f?o.push(p):p.draw(e,i))}for(h=0;h<o.length;++h)o[h].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=eB(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Z9(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const s=r==="active",i=this._cachedDataOpts,o=e+"-"+r,c=i[o],d=this.enableOptionSharing&&Ch(n);if(c)return Gb(c,d);const f=this.chart.config,h=f.datasetElementScopeKeys(this._type,e),p=s?[`${e}Hover`,"hover",e,""]:[e,""],g=f.getOptionScopes(this.getDataset(),h),x=Object.keys(Er.elements[e]),w=()=>this.getContext(n,s,r),b=f.resolveNamedOptions(g,x,w,p);return b.$shared&&(b.$shared=d,i[o]=Object.freeze(Gb(b,d))),b}_resolveAnimations(e,r,n){const s=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,c=i[o];if(c)return c;let d;if(s.options.animation!==!1){const h=this.chart.config,p=h.datasetAnimationScopeKeys(this._type,r),g=h.getOptionScopes(this.getDataset(),p);d=h.createResolver(g,this.getContext(e,n,r))}const f=new vC(s,d&&d.animations);return d&&d._cacheable&&(i[o]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||xp(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),s=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(r,i)||i!==s;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:o}}updateElement(e,r,n,s){xp(s)?Object.assign(e,n):this._resolveAnimations(r,s).update(e,n)}updateSharedOptions(e,r,n){e&&!xp(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,s){e.active=s;const i=this.getStyle(r,s);this._resolveAnimations(r,n,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[c,d,f]of this._syncList)this[c](d,f);this._syncList=[];const s=n.length,i=r.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,r,n=!0){const s=this._cachedMeta,i=s.data,o=e+r;let c;const d=f=>{for(f.length+=r,c=f.length-1;c>=o;c--)f[c]=f[c-r]};for(d(i),c=e;c<o;++c)i[c]=new this.dataElementType;this._parsing&&d(s._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,s){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,r);n._stacked&&Oc(n,s)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,s]=e;this[r](n,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}bt(Kf,"defaults",{}),bt(Kf,"datasetElementType",null),bt(Kf,"dataElementType",null);function no(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Hx{constructor(e){bt(this,"options");this.options=e||{}}static override(e){Object.assign(Hx.prototype,e)}init(){}formats(){return no()}parse(){return no()}format(){return no()}add(){return no()}diff(){return no()}startOf(){return no()}endOf(){return no()}}var rB={_date:Hx};function nB(t,e,r,n){const{controller:s,data:i,_sorted:o}=t,c=s._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&i.length){const f=c._reversePixels?RI:pg;if(n){if(s._sharedOptions){const h=i[0],p=typeof h.getRange=="function"&&h.getRange(e);if(p){const g=f(i,e,r-p),x=f(i,e,r+p);return{lo:g.lo,hi:x.hi}}}}else{const h=f(i,e,r);if(d){const{vScale:p}=s._cachedMeta,{_parsed:g}=t,x=g.slice(0,h.lo+1).reverse().findIndex(b=>!vr(b[p.axis]));h.lo-=Math.max(0,x);const w=g.slice(h.hi).findIndex(b=>!vr(b[p.axis]));h.hi+=Math.max(0,w)}return h}}return{lo:0,hi:i.length-1}}function c0(t,e,r,n,s){const i=t.getSortedVisibleDatasetMetas(),o=r[e];for(let c=0,d=i.length;c<d;++c){const{index:f,data:h}=i[c],{lo:p,hi:g}=nB(i[c],e,o,s);for(let x=p;x<=g;++x){const w=h[x];w.skip||n(w,f,x)}}}function sB(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,s){const i=e?Math.abs(n.x-s.x):0,o=r?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function yp(t,e,r,n,s){const i=[];return!s&&!t.isPointInArea(e)||c0(t,r,e,function(c,d,f){!s&&!Pu(c,t.chartArea,0)||c.inRange(e.x,e.y,n)&&i.push({element:c,datasetIndex:d,index:f})},!0),i}function aB(t,e,r,n){let s=[];function i(o,c,d){const{startAngle:f,endAngle:h}=o.getProps(["startAngle","endAngle"],n),{angle:p}=nC(o,{x:e.x,y:e.y});Px(p,f,h)&&s.push({element:o,datasetIndex:c,index:d})}return c0(t,r,e,i),s}function iB(t,e,r,n,s,i){let o=[];const c=sB(r);let d=Number.POSITIVE_INFINITY;function f(h,p,g){const x=h.inRange(e.x,e.y,s);if(n&&!x)return;const w=h.getCenterPoint(s);if(!(!!i||t.isPointInArea(w))&&!x)return;const v=c(e,w);v<d?(o=[{element:h,datasetIndex:p,index:g}],d=v):v===d&&o.push({element:h,datasetIndex:p,index:g})}return c0(t,r,e,f),o}function vp(t,e,r,n,s,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?aB(t,e,r,s):iB(t,e,r,n,s,i)}function qb(t,e,r,n,s){const i=[],o=r==="x"?"inXRange":"inYRange";let c=!1;return c0(t,r,e,(d,f,h)=>{d[o]&&d[o](e[r],s)&&(i.push({element:d,datasetIndex:f,index:h}),c=c||d.inRange(e.x,e.y,s))}),n&&!c?[]:i}var oB={modes:{index(t,e,r,n){const s=ao(e,t),i=r.axis||"x",o=r.includeInvisible||!1,c=r.intersect?yp(t,s,i,n,o):vp(t,s,i,!1,n,o),d=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const h=c[0].index,p=f.data[h];p&&!p.skip&&d.push({element:p,datasetIndex:f.index,index:h})}),d):[]},dataset(t,e,r,n){const s=ao(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;let c=r.intersect?yp(t,s,i,n,o):vp(t,s,i,!1,n,o);if(c.length>0){const d=c[0].datasetIndex,f=t.getDatasetMeta(d).data;c=[];for(let h=0;h<f.length;++h)c.push({element:f[h],datasetIndex:d,index:h})}return c},point(t,e,r,n){const s=ao(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return yp(t,s,i,n,o)},nearest(t,e,r,n){const s=ao(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return vp(t,s,i,r.intersect,n,o)},x(t,e,r,n){const s=ao(e,t);return qb(t,s,"x",r.intersect,n)},y(t,e,r,n){const s=ao(e,t);return qb(t,s,"y",r.intersect,n)}}};const wC=["left","top","right","bottom"];function Mc(t,e){return t.filter(r=>r.pos===e)}function Xb(t,e){return t.filter(r=>wC.indexOf(r.pos)===-1&&r.box.axis===e)}function Lc(t,e){return t.sort((r,n)=>{const s=e?n:r,i=e?r:n;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function lB(t){const e=[];let r,n,s,i,o,c;for(r=0,n=(t||[]).length;r<n;++r)s=t[r],{position:i,options:{stack:o,stackWeight:c=1}}=s,e.push({index:r,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:c});return e}function cB(t){const e={};for(const r of t){const{stack:n,pos:s,stackWeight:i}=r;if(!n||!wC.includes(s))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function uB(t,e){const r=cB(t),{vBoxMaxWidth:n,hBoxMaxHeight:s}=e;let i,o,c;for(i=0,o=t.length;i<o;++i){c=t[i];const{fullSize:d}=c.box,f=r[c.stack],h=f&&c.stackWeight/f.weight;c.horizontal?(c.width=h?h*n:d&&e.availableWidth,c.height=s):(c.width=n,c.height=h?h*s:d&&e.availableHeight)}return r}function dB(t){const e=lB(t),r=Lc(e.filter(f=>f.box.fullSize),!0),n=Lc(Mc(e,"left"),!0),s=Lc(Mc(e,"right")),i=Lc(Mc(e,"top"),!0),o=Lc(Mc(e,"bottom")),c=Xb(e,"x"),d=Xb(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:s.concat(d).concat(o).concat(c),chartArea:Mc(e,"chartArea"),vertical:n.concat(s).concat(d),horizontal:i.concat(o).concat(c)}}function Jb(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function NC(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function fB(t,e,r,n){const{pos:s,box:i}=r,o=t.maxPadding;if(!Vt(s)){r.size&&(t[s]-=r.size);const p=n[r.stack]||{size:0,count:1};p.size=Math.max(p.size,r.horizontal?i.height:i.width),r.size=p.size/p.count,t[s]+=r.size}i.getPadding&&NC(o,i.getPadding());const c=Math.max(0,e.outerWidth-Jb(o,t,"left","right")),d=Math.max(0,e.outerHeight-Jb(o,t,"top","bottom")),f=c!==t.w,h=d!==t.h;return t.w=c,t.h=d,r.horizontal?{same:f,other:h}:{same:h,other:f}}function hB(t){const e=t.maxPadding;function r(n){const s=Math.max(e[n]-t[n],0);return t[n]+=s,s}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function mB(t,e){const r=e.maxPadding;function n(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],r[o])}),i}return n(t?["left","right"]:["top","bottom"])}function Yc(t,e,r,n){const s=[];let i,o,c,d,f,h;for(i=0,o=t.length,f=0;i<o;++i){c=t[i],d=c.box,d.update(c.width||e.w,c.height||e.h,mB(c.horizontal,e));const{same:p,other:g}=fB(e,r,c,n);f|=p&&s.length,h=h||g,d.fullSize||s.push(c)}return f&&Yc(s,e,r,n)||h}function Tf(t,e,r,n,s){t.top=r,t.left=e,t.right=e+n,t.bottom=r+s,t.width=n,t.height=s}function Qb(t,e,r,n){const s=r.padding;let{x:i,y:o}=e;for(const c of t){const d=c.box,f=n[c.stack]||{placed:0,weight:1},h=c.stackWeight/f.weight||1;if(c.horizontal){const p=e.w*h,g=f.size||d.height;Ch(f.start)&&(o=f.start),d.fullSize?Tf(d,s.left,o,r.outerWidth-s.right-s.left,g):Tf(d,e.left+f.placed,o,p,g),f.start=o,f.placed+=p,o=d.bottom}else{const p=e.h*h,g=f.size||d.width;Ch(f.start)&&(i=f.start),d.fullSize?Tf(d,i,s.top,g,r.outerHeight-s.bottom-s.top):Tf(d,i,e.top+f.placed,g,p),f.start=i,f.placed+=p,i=d.right}}e.x=i,e.y=o}var js={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const s=ks(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(r-s.height,0),c=dB(t.boxes),d=c.vertical,f=c.horizontal;Jt(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const h=d.reduce((b,v)=>v.box.options&&v.box.options.display===!1?b:b+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:r,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/h,hBoxMaxHeight:o/2}),g=Object.assign({},s);NC(g,ks(n));const x=Object.assign({maxPadding:g,w:i,h:o,x:s.left,y:s.top},s),w=uB(d.concat(f),p);Yc(c.fullSize,x,p,w),Yc(d,x,p,w),Yc(f,x,p,w)&&Yc(d,x,p,w),hB(x),Qb(c.leftAndTop,x,p,w),x.x+=x.w,x.y+=x.h,Qb(c.rightAndBottom,x,p,w),t.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Jt(c.chartArea,b=>{const v=b.box;Object.assign(v,t.chartArea),v.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class SC{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,s){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,s?Math.floor(r/s):n)}}isAttached(e){return!0}updateConfig(e){}}class pB extends SC{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Gf="$chartjs",gB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Zb=t=>t===null||t==="";function xB(t,e){const r=t.style,n=t.getAttribute("height"),s=t.getAttribute("width");if(t[Gf]={initial:{height:n,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Zb(s)){const i=Bb(t,"width");i!==void 0&&(t.width=i)}if(Zb(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Bb(t,"height");i!==void 0&&(t.height=i)}return t}const _C=T9?{passive:!0}:!1;function yB(t,e,r){t&&t.addEventListener(e,r,_C)}function vB(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,_C)}function bB(t,e){const r=gB[t.type]||t.type,{x:n,y:s}=ao(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:s!==void 0?s:null}}function Ah(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function wB(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||Ah(c.addedNodes,n),o=o&&!Ah(c.removedNodes,n);o&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function NB(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||Ah(c.removedNodes,n),o=o&&!Ah(c.addedNodes,n);o&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const Ru=new Map;let ew=0;function CC(){const t=window.devicePixelRatio;t!==ew&&(ew=t,Ru.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function SB(t,e){Ru.size||window.addEventListener("resize",CC),Ru.set(t,e)}function _B(t){Ru.delete(t),Ru.size||window.removeEventListener("resize",CC)}function CB(t,e,r){const n=t.canvas,s=n&&Vx(n);if(!s)return;const i=iC((c,d)=>{const f=s.clientWidth;r(c,d),f<s.clientWidth&&r()},window),o=new ResizeObserver(c=>{const d=c[0],f=d.contentRect.width,h=d.contentRect.height;f===0&&h===0||i(f,h)});return o.observe(s),SB(t,i),o}function bp(t,e,r){r&&r.disconnect(),e==="resize"&&_B(t)}function jB(t,e,r){const n=t.canvas,s=iC(i=>{t.ctx!==null&&r(bB(i,t))},t);return yB(n,e,s),s}class TB extends SC{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(xB(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Gf])return!1;const n=r[Gf].initial;["height","width"].forEach(i=>{const o=n[i];vr(o)?r.removeAttribute(i):r.setAttribute(i,o)});const s=n.style||{};return Object.keys(s).forEach(i=>{r.style[i]=s[i]}),r.width=r.width,delete r[Gf],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const s=e.$proxies||(e.$proxies={}),o={attach:wB,detach:NB,resize:CB}[r]||jB;s[r]=o(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),s=n[r];if(!s)return;({attach:bp,detach:bp,resize:bp}[r]||vB)(e,r,s),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,s){return j9(e,r,n,s)}isAttached(e){const r=e&&Vx(e);return!!(r&&r.isConnected)}}function EB(t){return!zx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?pB:TB}var Lf;let za=(Lf=class{constructor(){bt(this,"x");bt(this,"y");bt(this,"active",!1);bt(this,"options");bt(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Th(this.x)&&Th(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const s={};return e.forEach(i=>{s[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),s}},bt(Lf,"defaults",{}),bt(Lf,"defaultRoutes"),Lf);function kB(t,e){const r=t.options.ticks,n=AB(t),s=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?DB(e):[],o=i.length,c=i[0],d=i[o-1],f=[];if(o>s)return RB(e,f,i,o/s),f;const h=PB(i,e,s);if(o>0){let p,g;const x=o>1?Math.round((d-c)/(o-1)):null;for(Ef(e,f,h,vr(x)?0:c-x,c),p=0,g=o-1;p<g;p++)Ef(e,f,h,i[p],i[p+1]);return Ef(e,f,h,d,vr(x)?e.length:d+x),f}return Ef(e,f,h),f}function AB(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),s=t._maxLength/r;return Math.floor(Math.min(n,s))}function PB(t,e,r){const n=FB(t),s=e.length/r;if(!n)return Math.max(s,1);const i=jI(n);for(let o=0,c=i.length-1;o<c;o++){const d=i[o];if(d>s)return d}return Math.max(s,1)}function DB(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function RB(t,e,r,n){let s=0,i=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=r[s*n])}function Ef(t,e,r,n,s){const i=Lt(n,0),o=Math.min(Lt(s,t.length),t.length);let c=0,d,f,h;for(r=Math.ceil(r),s&&(d=s-n,r=d/Math.floor(d/r)),h=i;h<0;)c++,h=Math.round(i+c*r);for(f=Math.max(i,0);f<o;f++)f===h&&(e.push(t[f]),c++,h=Math.round(i+c*r))}function FB(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const OB=t=>t==="left"?"right":t==="right"?"left":t,tw=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,rw=(t,e)=>Math.min(e||t,t);function nw(t,e){const r=[],n=t.length/e,s=t.length;let i=0;for(;i<s;i+=n)r.push(t[Math.floor(i)]);return r}function MB(t,e,r){const n=t.ticks.length,s=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,c=1e-6;let d=t.getPixelForTick(s),f;if(!(r&&(n===1?f=Math.max(d-i,o-d):e===0?f=(t.getPixelForTick(1)-d)/2:f=(d-t.getPixelForTick(s-1))/2,d+=s<e?f:-f,d<i-c||d>o+c)))return d}function LB(t,e){Jt(t,r=>{const n=r.gc,s=n.length/2;let i;if(s>e){for(i=0;i<s;++i)delete r.data[n[i]];n.splice(0,s)}})}function Ic(t){return t.drawTicks?t.tickLength:0}function sw(t,e){if(!t.display)return 0;const r=Nn(t.font,e),n=ks(t.padding);return(qr(t.text)?t.text.length:1)*r.lineHeight+n.height}function IB(t,e){return Mo(t,{scale:e,type:"scale"})}function BB(t,e,r){return Mo(t,{tick:r,index:e,type:"tick"})}function UB(t,e,r){let n=Rx(t);return(r&&e!=="right"||!r&&e==="right")&&(n=OB(n)),n}function zB(t,e,r,n){const{top:s,left:i,bottom:o,right:c,chart:d}=t,{chartArea:f,scales:h}=d;let p=0,g,x,w;const b=o-s,v=c-i;if(t.isHorizontal()){if(x=vn(n,i,c),Vt(r)){const C=Object.keys(r)[0],E=r[C];w=h[C].getPixelForValue(E)+b-e}else r==="center"?w=(f.bottom+f.top)/2+b-e:w=tw(t,r,e);g=c-i}else{if(Vt(r)){const C=Object.keys(r)[0],E=r[C];x=h[C].getPixelForValue(E)-v+e}else r==="center"?x=(f.left+f.right)/2-v+e:x=tw(t,r,e);w=vn(n,o,s),p=r==="left"?-cn:cn}return{titleX:x,titleY:w,maxWidth:g,rotation:p}}class Gl extends za{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:s}=this;return e=sa(e,Number.POSITIVE_INFINITY),r=sa(r,Number.NEGATIVE_INFINITY),n=sa(n,Number.POSITIVE_INFINITY),s=sa(s,Number.NEGATIVE_INFINITY),{min:sa(e,n),max:sa(r,s),minDefined:Es(e),maxDefined:Es(r)}}getMinMax(e){let{min:r,max:n,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:r,max:n};const c=this.getMatchingVisibleMetas();for(let d=0,f=c.length;d<f;++d)o=c[d].controller.getMinMax(this,e),s||(r=Math.min(r,o.min)),i||(n=Math.max(n,o.max));return r=i&&r>n?n:r,n=s&&r>n?r:n,{min:sa(r,sa(n,r)),max:sa(n,sa(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){lr(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:s,grace:i,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=s9(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?nw(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=kB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){lr(this.options.afterUpdate,[this])}beforeSetDimensions(){lr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){lr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),lr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){lr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,s,i;for(n=0,s=e.length;n<s;n++)i=e[n],i.label=lr(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){lr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){lr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=rw(this.ticks.length,e.ticks.maxTicksLimit),s=r.minRotation||0,i=r.maxRotation;let o=s,c,d,f;if(!this._isVisible()||!r.display||s>=i||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),p=h.widest.width,g=h.highest.height,x=$n(this.chart.width-p,0,this.maxWidth);c=e.offset?this.maxWidth/n:x/(n-1),p+6>c&&(c=x/(n-(e.offset?.5:1)),d=this.maxHeight-Ic(e.grid)-r.padding-sw(e.title,this.chart.options.font),f=Math.sqrt(p*p+g*g),o=AI(Math.min(Math.asin($n((h.highest.height+6)/c,-1,1)),Math.asin($n(d/f,-1,1))-Math.asin($n(g/f,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){lr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){lr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:s,grid:i}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const d=sw(s,r.options.font);if(c?(e.width=this.maxWidth,e.height=Ic(i)+d):(e.height=this.maxHeight,e.width=Ic(i)+d),n.display&&this.ticks.length){const{first:f,last:h,widest:p,highest:g}=this._getLabelSizes(),x=n.padding*2,w=ho(this.labelRotation),b=Math.cos(w),v=Math.sin(w);if(c){const C=n.mirror?0:v*p.width+b*g.height;e.height=Math.min(this.maxHeight,e.height+C+x)}else{const C=n.mirror?0:b*p.width+v*g.height;e.width=Math.min(this.maxWidth,e.width+C+x)}this._calculatePadding(f,h,v,b)}}this._handleMargins(),c?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,s){const{ticks:{align:i,padding:o},position:c}=this.options,d=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,x=0;d?f?(g=s*e.width,x=n*r.height):(g=n*e.height,x=s*r.width):i==="start"?x=r.width:i==="end"?g=e.width:i!=="inner"&&(g=e.width/2,x=r.width/2),this.paddingLeft=Math.max((g-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((x-p+o)*this.width/(this.width-p),0)}else{let h=r.height/2,p=e.height/2;i==="start"?(h=0,p=e.height):i==="end"&&(h=r.height,p=0),this.paddingTop=h+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){lr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)vr(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=nw(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:s,_longestTextCache:i}=this,o=[],c=[],d=Math.floor(r/rw(r,n));let f=0,h=0,p,g,x,w,b,v,C,E,j,D,T;for(p=0;p<r;p+=d){if(w=e[p].label,b=this._resolveTickFontOptions(p),s.font=v=b.string,C=i[v]=i[v]||{data:{},gc:[]},E=b.lineHeight,j=D=0,!vr(w)&&!qr(w))j=Fb(s,C.data,C.gc,j,w),D=E;else if(qr(w))for(g=0,x=w.length;g<x;++g)T=w[g],!vr(T)&&!qr(T)&&(j=Fb(s,C.data,C.gc,j,T),D+=E);o.push(j),c.push(D),f=Math.max(j,f),h=Math.max(D,h)}LB(i,r);const M=o.indexOf(f),_=c.indexOf(h),P=I=>({width:o[I]||0,height:c[I]||0});return{first:P(0),last:P(r-1),widest:P(M),highest:P(_),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return DI(this._alignToPixels?ro(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=BB(this.getContext(),e,n))}return this.$context||(this.$context=IB(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=ho(this.labelRotation),n=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,c=i?i.widest.width+o:0,d=i?i.highest.height+o:0;return this.isHorizontal()?d*n>c*s?c/n:d/s:d*s<c*n?d/n:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,s=this.options,{grid:i,position:o,border:c}=s,d=i.offset,f=this.isHorizontal(),p=this.ticks.length+(d?1:0),g=Ic(i),x=[],w=c.setContext(this.getContext()),b=w.display?w.width:0,v=b/2,C=function(W){return ro(n,W,b)};let E,j,D,T,M,_,P,I,K,q,H,oe;if(o==="top")E=C(this.bottom),_=this.bottom-g,I=E-v,q=C(e.top)+v,oe=e.bottom;else if(o==="bottom")E=C(this.top),q=e.top,oe=C(e.bottom)-v,_=E+v,I=this.top+g;else if(o==="left")E=C(this.right),M=this.right-g,P=E-v,K=C(e.left)+v,H=e.right;else if(o==="right")E=C(this.left),K=e.left,H=C(e.right)-v,M=E+v,P=this.left+g;else if(r==="x"){if(o==="center")E=C((e.top+e.bottom)/2+.5);else if(Vt(o)){const W=Object.keys(o)[0],ne=o[W];E=C(this.chart.scales[W].getPixelForValue(ne))}q=e.top,oe=e.bottom,_=E+v,I=_+g}else if(r==="y"){if(o==="center")E=C((e.left+e.right)/2);else if(Vt(o)){const W=Object.keys(o)[0],ne=o[W];E=C(this.chart.scales[W].getPixelForValue(ne))}M=E-v,P=M-g,K=e.left,H=e.right}const Q=Lt(s.ticks.maxTicksLimit,p),O=Math.max(1,Math.ceil(p/Q));for(j=0;j<p;j+=O){const W=this.getContext(j),ne=i.setContext(W),X=c.setContext(W),Z=ne.lineWidth,ae=ne.color,Y=X.dash||[],R=X.dashOffset,U=ne.tickWidth,z=ne.tickColor,k=ne.tickBorderDash||[],ce=ne.tickBorderDashOffset;D=MB(this,j,d),D!==void 0&&(T=ro(n,D,Z),f?M=P=K=H=T:_=I=q=oe=T,x.push({tx1:M,ty1:_,tx2:P,ty2:I,x1:K,y1:q,x2:H,y2:oe,width:Z,color:ae,borderDash:Y,borderDashOffset:R,tickWidth:U,tickColor:z,tickBorderDash:k,tickBorderDashOffset:ce}))}return this._ticksLength=p,this._borderValue=E,x}_computeLabelItems(e){const r=this.axis,n=this.options,{position:s,ticks:i}=n,o=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:f,padding:h,mirror:p}=i,g=Ic(n.grid),x=g+h,w=p?-h:x,b=-ho(this.labelRotation),v=[];let C,E,j,D,T,M,_,P,I,K,q,H,oe="middle";if(s==="top")M=this.bottom-w,_=this._getXAxisLabelAlignment();else if(s==="bottom")M=this.top+w,_=this._getXAxisLabelAlignment();else if(s==="left"){const O=this._getYAxisLabelAlignment(g);_=O.textAlign,T=O.x}else if(s==="right"){const O=this._getYAxisLabelAlignment(g);_=O.textAlign,T=O.x}else if(r==="x"){if(s==="center")M=(e.top+e.bottom)/2+x;else if(Vt(s)){const O=Object.keys(s)[0],W=s[O];M=this.chart.scales[O].getPixelForValue(W)+x}_=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")T=(e.left+e.right)/2-x;else if(Vt(s)){const O=Object.keys(s)[0],W=s[O];T=this.chart.scales[O].getPixelForValue(W)}_=this._getYAxisLabelAlignment(g).textAlign}r==="y"&&(d==="start"?oe="top":d==="end"&&(oe="bottom"));const Q=this._getLabelSizes();for(C=0,E=c.length;C<E;++C){j=c[C],D=j.label;const O=i.setContext(this.getContext(C));P=this.getPixelForTick(C)+i.labelOffset,I=this._resolveTickFontOptions(C),K=I.lineHeight,q=qr(D)?D.length:1;const W=q/2,ne=O.color,X=O.textStrokeColor,Z=O.textStrokeWidth;let ae=_;o?(T=P,_==="inner"&&(C===E-1?ae=this.options.reverse?"left":"right":C===0?ae=this.options.reverse?"right":"left":ae="center"),s==="top"?f==="near"||b!==0?H=-q*K+K/2:f==="center"?H=-Q.highest.height/2-W*K+K:H=-Q.highest.height+K/2:f==="near"||b!==0?H=K/2:f==="center"?H=Q.highest.height/2-W*K:H=Q.highest.height-q*K,p&&(H*=-1),b!==0&&!O.showLabelBackdrop&&(T+=K/2*Math.sin(b))):(M=P,H=(1-q)*K/2);let Y;if(O.showLabelBackdrop){const R=ks(O.backdropPadding),U=Q.heights[C],z=Q.widths[C];let k=H-R.top,ce=0-R.left;switch(oe){case"middle":k-=U/2;break;case"bottom":k-=U;break}switch(_){case"center":ce-=z/2;break;case"right":ce-=z;break;case"inner":C===E-1?ce-=z:C>0&&(ce-=z/2);break}Y={left:ce,top:k,width:z+R.width,height:U+R.height,color:O.backdropColor}}v.push({label:D,font:I,textOffset:H,options:{rotation:b,color:ne,strokeColor:X,strokeWidth:Z,textAlign:ae,textBaseline:oe,translation:[T,M],backdrop:Y}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-ho(this.labelRotation))return e==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),c=e+i,d=o.widest.width;let f,h;return r==="left"?s?(h=this.right+i,n==="near"?f="left":n==="center"?(f="center",h+=d/2):(f="right",h+=d)):(h=this.right-c,n==="near"?f="right":n==="center"?(f="center",h-=d/2):(f="left",h=this.left)):r==="right"?s?(h=this.left+i,n==="near"?f="right":n==="center"?(f="center",h-=d/2):(f="left",h-=d)):(h=this.left+c,n==="near"?f="left":n==="center"?(f="center",h+=d/2):(f="right",h=this.right)):f="right",{textAlign:f,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:s,width:i,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,s,i,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const c=(d,f,h)=>{!h.width||!h.color||(n.save(),n.lineWidth=h.width,n.strokeStyle=h.color,n.setLineDash(h.borderDash||[]),n.lineDashOffset=h.borderDashOffset,n.beginPath(),n.moveTo(d.x,d.y),n.lineTo(f.x,f.y),n.stroke(),n.restore())};if(r.display)for(i=0,o=s.length;i<o;++i){const d=s[i];r.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),r.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:s}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const c=s.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,h,p,g;this.isHorizontal()?(f=ro(e,this.left,o)-o/2,h=ro(e,this.right,c)+c/2,p=g=d):(p=ro(e,this.top,o)-o/2,g=ro(e,this.bottom,c)+c/2,f=h=d),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(f,p),r.lineTo(h,g),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&Ox(n,s);const i=this.getLabelItems(e);for(const o of i){const c=o.options,d=o.font,f=o.label,h=o.textOffset;Du(n,f,0,h,d,c)}s&&Mx(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:s}}=this;if(!n.display)return;const i=Nn(n.font),o=ks(n.padding),c=n.align;let d=i.lineHeight/2;r==="bottom"||r==="center"||Vt(r)?(d+=o.bottom,qr(n.text)&&(d+=i.lineHeight*(n.text.length-1))):d+=o.top;const{titleX:f,titleY:h,maxWidth:p,rotation:g}=zB(this,d,r,c);Du(e,n.text,0,0,i,{color:n.color,maxWidth:p,rotation:g,textAlign:UB(c,r,s),textBaseline:"middle",translation:[f,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Lt(e.grid&&e.grid.z,-1),s=Lt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Gl.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let i,o;for(i=0,o=r.length;i<o;++i){const c=r[i];c[n]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Nn(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class kf{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;WB(r)&&(n=this.register(r));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,VB(e,o,n),this.override&&Er.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,s=this.scope;n in r&&delete r[n],s&&n in Er[s]&&(delete Er[s][n],this.override&&delete Eo[n])}}function VB(t,e,r){const n=Au(Object.create(null),[r?Er.get(r):{},Er.get(e),t.defaults]);Er.set(e,n),t.defaultRoutes&&HB(e,t.defaultRoutes),t.descriptors&&Er.describe(e,t.descriptors)}function HB(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),s=n.pop(),i=[t].concat(n).join("."),o=e[r].split("."),c=o.pop(),d=o.join(".");Er.route(i,s,d,c)})}function WB(t){return"id"in t&&"defaults"in t}class $B{constructor(){this.controllers=new kf(Kf,"datasets",!0),this.elements=new kf(za,"elements"),this.plugins=new kf(Object,"plugins"),this.scales=new kf(Gl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(s=>{const i=n||this._getRegistryForType(s);n||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Jt(s,o=>{const c=n||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,r,n){const s=Ax(e);lr(n["before"+s],[],n),r[e](n),lr(n["after"+s],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const s=r.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return s}}var ca=new $B;class YB{constructor(){this._init=[]}notify(e,r,n,s){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,r,n,s){s=s||{};for(const i of e){const o=i.plugin,c=o[n],d=[r,s,i.options];if(lr(c,d,o)===!1&&s.cancelable)return!1}return!0}invalidate(){vr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,s=Lt(n.options&&n.options.plugins,{}),i=KB(n);return s===!1&&!r?[]:qB(e,i,s,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,s=(i,o)=>i.filter(c=>!o.some(d=>c.plugin.id===d.plugin.id));this._notify(s(r,n),e,"stop"),this._notify(s(n,r),e,"start")}}function KB(t){const e={},r=[],n=Object.keys(ca.plugins.items);for(let i=0;i<n.length;i++)r.push(ca.getPlugin(n[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function GB(t,e){return!e&&t===!1?null:t===!0?{}:t}function qB(t,{plugins:e,localIds:r},n,s){const i=[],o=t.getContext();for(const c of e){const d=c.id,f=GB(n[d],s);f!==null&&i.push({plugin:c,options:XB(t.config,{plugin:c,local:r[d]},f,o)})}return i}function XB(t,{plugin:e,local:r},n,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function yg(t,e){const r=Er.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function JB(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function QB(t,e){return t===e?"_index_":"_value_"}function aw(t){if(t==="x"||t==="y"||t==="r")return t}function ZB(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function vg(t,...e){if(aw(t))return t;for(const r of e){const n=r.axis||ZB(r.position)||t.length>1&&aw(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function iw(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function eU(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return iw(t,"x",r[0])||iw(t,"y",r[0])}return{}}function tU(t,e){const r=Eo[t.type]||{scales:{}},n=e.scales||{},s=yg(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const c=n[o];if(!Vt(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const d=vg(o,c,eU(o,t),Er.scales[c.type]),f=QB(d,s),h=r.scales||{};i[o]=ou(Object.create(null),[{axis:d},c,h[d],h[f]])}),t.data.datasets.forEach(o=>{const c=o.type||t.type,d=o.indexAxis||yg(c,e),h=(Eo[c]||{}).scales||{};Object.keys(h).forEach(p=>{const g=JB(p,d),x=o[g+"AxisID"]||g;i[x]=i[x]||Object.create(null),ou(i[x],[{axis:g},n[x],h[p]])})}),Object.keys(i).forEach(o=>{const c=i[o];ou(c,[Er.scales[c.type],Er.scale])}),i}function jC(t){const e=t.options||(t.options={});e.plugins=Lt(e.plugins,{}),e.scales=tU(t,e)}function TC(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function rU(t){return t=t||{},t.data=TC(t.data),jC(t),t}const ow=new Map,EC=new Set;function Af(t,e){let r=ow.get(t);return r||(r=e(),ow.set(t,r),EC.add(r)),r}const Bc=(t,e,r)=>{const n=_h(e,r);n!==void 0&&t.add(n)};class nU{constructor(e){this._config=rU(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=TC(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),jC(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Af(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Af(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Af(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Af(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let s=n.get(e);return(!s||r)&&(s=new Map,n.set(e,s)),s}getOptionScopes(e,r,n){const{options:s,type:i}=this,o=this._cachedScopes(e,n),c=o.get(r);if(c)return c;const d=new Set;r.forEach(h=>{e&&(d.add(e),h.forEach(p=>Bc(d,e,p))),h.forEach(p=>Bc(d,s,p)),h.forEach(p=>Bc(d,Eo[i]||{},p)),h.forEach(p=>Bc(d,Er,p)),h.forEach(p=>Bc(d,gg,p))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),EC.has(r)&&o.set(r,f),f}chartOptionScopes(){const{options:e,type:r}=this;return[e,Eo[r]||{},Er.datasets[r]||{},{type:r},Er,gg]}resolveNamedOptions(e,r,n,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:c}=lw(this._resolverCache,e,s);let d=o;if(aU(o,r)){i.$shared=!1,n=Ei(n)?n():n;const f=this.createResolver(e,n,c);d=Ol(o,n,f)}for(const f of r)i[f]=d[f];return i}createResolver(e,r,n=[""],s){const{resolver:i}=lw(this._resolverCache,e,n);return Vt(r)?Ol(i,r,void 0,s):i}}function lw(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const s=r.join();let i=n.get(s);return i||(i={resolver:Ix(e,r),subPrefixes:r.filter(c=>!c.toLowerCase().includes("hover"))},n.set(s,i)),i}const sU=t=>Vt(t)&&Object.getOwnPropertyNames(t).some(e=>Ei(t[e]));function aU(t,e){const{isScriptable:r,isIndexable:n}=dC(t);for(const s of e){const i=r(s),o=n(s),c=(o||i)&&t[s];if(i&&(Ei(c)||sU(c))||o&&qr(c))return!0}return!1}var iU="4.4.9";const oU=["top","bottom","left","right","chartArea"];function cw(t,e){return t==="top"||t==="bottom"||oU.indexOf(t)===-1&&e==="x"}function uw(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function dw(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),lr(r&&r.onComplete,[t],e)}function lU(t){const e=t.chart,r=e.options.animation;lr(r&&r.onProgress,[t],e)}function kC(t){return zx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const qf={},fw=t=>{const e=kC(t);return Object.values(qf).filter(r=>r.canvas===e).pop()};function cU(t,e,r){const n=Object.keys(t);for(const s of n){const i=+s;if(i>=e){const o=t[s];delete t[s],(r>0||i>e)&&(t[i+r]=o)}}}function uU(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class hi{static register(...e){ca.add(...e),hw()}static unregister(...e){ca.remove(...e),hw()}constructor(e,r){const n=this.config=new nU(r),s=kC(e),i=fw(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||EB(s)),this.platform.updateConfig(n);const c=this.platform.acquireContext(s,o.aspectRatio),d=c&&c.canvas,f=d&&d.height,h=d&&d.width;if(this.id=xI(),this.ctx=c,this.canvas=d,this.width=h,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new YB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=LI(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],qf[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Ta.listen(this,"complete",dw),Ta.listen(this,"progress",lU),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:s,_aspectRatio:i}=this;return vr(e)?r&&i?i:s?n/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ca}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ib(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ob(this.canvas,this.ctx),this}stop(){return Ta.stop(this),this}resize(e,r){Ta.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,s=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,r,i),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ib(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),lr(n.onResize,[this,o],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Jt(r,(n,s)=>{n.id=s})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,s=Object.keys(n).reduce((o,c)=>(o[c]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const c=r[o],d=vg(o,c),f=d==="r",h=d==="x";return{options:c,dposition:f?"chartArea":h?"bottom":"left",dtype:f?"radialLinear":h?"category":"linear"}}))),Jt(i,o=>{const c=o.options,d=c.id,f=vg(d,c),h=Lt(c.type,o.dtype);(c.position===void 0||cw(c.position,f)!==cw(o.dposition))&&(c.position=o.dposition),s[d]=!0;let p=null;if(d in n&&n[d].type===h)p=n[d];else{const g=ca.getScale(h);p=new g({id:d,type:h,ctx:this.ctx,chart:this}),n[p.id]=p}p.init(c,e)}),Jt(s,(o,c)=>{o||delete n[c]}),Jt(n,o=>{js.configure(this,o,o.options),js.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((s,i)=>s.index-i.index),n>r){for(let s=r;s<n;++s)this._destroyDatasetMeta(s);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(uw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,s)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=r.length;n<s;n++){const i=r[n];let o=this.getDatasetMeta(n);const c=i.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=c,o.indexAxis=i.indexAxis||yg(c,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const d=ca.getController(c),{datasetElementType:f,dataElementType:h}=Er.datasets[c];Object.assign(d,{dataElementType:ca.getElement(h),datasetElementType:f&&ca.getElement(f)}),o.controller=new d(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Jt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,h=this.data.datasets.length;f<h;f++){const{controller:p}=this.getDatasetMeta(f),g=!s&&i.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),s||Jt(i,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(uw("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Jt(this.scales,e=>{js.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Cb(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:i}of r){const o=n==="_removeElements"?-i:i;cU(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,c)=>c+","+o.splice(1).join(","))),s=n(0);for(let i=1;i<r;i++)if(!Cb(s,n(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;js.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Jt(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Ei(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),s={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ta.has(this)?this.attached&&!Ta.running(this)&&Ta.start(this):(this.draw(),dw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let s,i;for(s=0,i=r.length;s<i;++s){const o=r[s];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},s=z9(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(s&&Ox(r,s),e.controller.draw(),s&&Mx(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Pu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,s){const i=oB.modes[r];return typeof i=="function"?i(this,e,n,s):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let s=n.filter(i=>i&&i._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=Mo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const s=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);Ch(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Ta.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ob(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete qf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,o)=>{r.addEventListener(this,i,o),e[i]=o},s=(i,o,c)=>{i.offsetX=o,i.offsetY=c,this._eventHandler(i)};Jt(this.options.events,i=>n(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(d,f)=>{r.addEventListener(this,d,f),e[d]=f},s=(d,f)=>{e[d]&&(r.removeEventListener(this,d,f),delete e[d])},i=(d,f)=>{this.canvas&&this.resize(d,f)};let o;const c=()=>{s("attach",c),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),n("attach",c)},r.isAttached(this.canvas)?c():o()}unbindEvents(){Jt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Jt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const s=n?"set":"remove";let i,o,c,d;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),c=0,d=e.length;c<d;++c){o=e[c];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[o],index:o}});!Nh(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const s=this.options.hover,i=(d,f)=>d.filter(h=>!f.some(p=>h.datasetIndex===p.datasetIndex&&h.index===p.index)),o=i(r,e),c=n?e:i(e,r);o.length&&this.updateHoverStyle(o,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:s=[],options:i}=this,o=r,c=this._getActiveElements(e,s,n,o),d=SI(e),f=uU(e,this._lastEvent,n,d);n&&(this._lastEvent=null,lr(i.onHover,[e,c,this],this),d&&lr(i.onClick,[e,c,this],this));const h=!Nh(c,s);return(h||r)&&(this._active=c,this._updateHoverStyles(c,s,r)),this._lastEvent=f,h}_getActiveElements(e,r,n,s){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}}bt(hi,"defaults",Er),bt(hi,"instances",qf),bt(hi,"overrides",Eo),bt(hi,"registry",ca),bt(hi,"version",iU),bt(hi,"getChart",fw);function hw(){return Jt(hi.instances,t=>t._plugins.invalidate())}function dU(t,e,r){const{startAngle:n,pixelMargin:s,x:i,y:o,outerRadius:c,innerRadius:d}=e;let f=s/c;t.beginPath(),t.arc(i,o,c,n-f,r+f),d>s?(f=s/d,t.arc(i,o,d,r+f,n-f,!0)):t.arc(i,o,s,r+cn,n-cn),t.closePath(),t.clip()}function fU(t){return Lx(t,["outerStart","outerEnd","innerStart","innerEnd"])}function hU(t,e,r,n){const s=fU(t.options.borderRadius),i=(r-e)/2,o=Math.min(i,n*e/2),c=d=>{const f=(r-Math.min(i,d))*n/2;return $n(d,0,Math.min(i,f))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:$n(s.innerStart,0,o),innerEnd:$n(s.innerEnd,0,o)}}function ml(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function Ph(t,e,r,n,s,i){const{x:o,y:c,startAngle:d,pixelMargin:f,innerRadius:h}=e,p=Math.max(e.outerRadius+n+r-f,0),g=h>0?h+n+r+f:0;let x=0;const w=s-d;if(n){const O=h>0?h-n:0,W=p>0?p-n:0,ne=(O+W)/2,X=ne!==0?w*ne/(ne+n):w;x=(w-X)/2}const b=Math.max(.001,w*p-r/Or)/p,v=(w-b)/2,C=d+v+x,E=s-v-x,{outerStart:j,outerEnd:D,innerStart:T,innerEnd:M}=hU(e,g,p,E-C),_=p-j,P=p-D,I=C+j/_,K=E-D/P,q=g+T,H=g+M,oe=C+T/q,Q=E-M/H;if(t.beginPath(),i){const O=(I+K)/2;if(t.arc(o,c,p,I,O),t.arc(o,c,p,O,K),D>0){const Z=ml(P,K,o,c);t.arc(Z.x,Z.y,D,K,E+cn)}const W=ml(H,E,o,c);if(t.lineTo(W.x,W.y),M>0){const Z=ml(H,Q,o,c);t.arc(Z.x,Z.y,M,E+cn,Q+Math.PI)}const ne=(E-M/g+(C+T/g))/2;if(t.arc(o,c,g,E-M/g,ne,!0),t.arc(o,c,g,ne,C+T/g,!0),T>0){const Z=ml(q,oe,o,c);t.arc(Z.x,Z.y,T,oe+Math.PI,C-cn)}const X=ml(_,C,o,c);if(t.lineTo(X.x,X.y),j>0){const Z=ml(_,I,o,c);t.arc(Z.x,Z.y,j,C-cn,I)}}else{t.moveTo(o,c);const O=Math.cos(I)*p+o,W=Math.sin(I)*p+c;t.lineTo(O,W);const ne=Math.cos(K)*p+o,X=Math.sin(K)*p+c;t.lineTo(ne,X)}t.closePath()}function mU(t,e,r,n,s){const{fullCircles:i,startAngle:o,circumference:c}=e;let d=e.endAngle;if(i){Ph(t,e,r,n,d,s);for(let f=0;f<i;++f)t.fill();isNaN(c)||(d=o+(c%dn||dn))}return Ph(t,e,r,n,d,s),t.fill(),d}function pU(t,e,r,n,s){const{fullCircles:i,startAngle:o,circumference:c,options:d}=e,{borderWidth:f,borderJoinStyle:h,borderDash:p,borderDashOffset:g}=d,x=d.borderAlign==="inner";if(!f)return;t.setLineDash(p||[]),t.lineDashOffset=g,x?(t.lineWidth=f*2,t.lineJoin=h||"round"):(t.lineWidth=f,t.lineJoin=h||"bevel");let w=e.endAngle;if(i){Ph(t,e,r,n,w,s);for(let b=0;b<i;++b)t.stroke();isNaN(c)||(w=o+(c%dn||dn))}x&&dU(t,e,w),i||(Ph(t,e,r,n,w,s),t.stroke())}class Kc extends za{constructor(r){super();bt(this,"circumference");bt(this,"endAngle");bt(this,"fullCircles");bt(this,"innerRadius");bt(this,"outerRadius");bt(this,"pixelMargin");bt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.getProps(["x","y"],s),{angle:o,distance:c}=nC(i,{x:r,y:n}),{startAngle:d,endAngle:f,innerRadius:h,outerRadius:p,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),x=(this.options.spacing+this.options.borderWidth)/2,w=Lt(g,f-d),b=Px(o,d,f)&&d!==f,v=w>=dn||b,C=vi(c,h+x,p+x);return v&&C}getCenterPoint(r){const{x:n,y:s,startAngle:i,endAngle:o,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:f,spacing:h}=this.options,p=(i+o)/2,g=(c+d+h+f)/2;return{x:n+Math.cos(p)*g,y:s+Math.sin(p)*g}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:s}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>dn?Math.floor(s/dn):0,s===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const d=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(d)*i,Math.sin(d)*i);const f=1-Math.sin(Math.min(Or,s||0)),h=i*f;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,mU(r,this,h,o,c),pU(r,this,h,o,c),r.restore()}}bt(Kc,"id","arc"),bt(Kc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),bt(Kc,"defaultRoutes",{backgroundColor:"backgroundColor"}),bt(Kc,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function AC(t,e,r=e){t.lineCap=Lt(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Lt(r.borderDash,e.borderDash)),t.lineDashOffset=Lt(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Lt(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Lt(r.borderWidth,e.borderWidth),t.strokeStyle=Lt(r.borderColor,e.borderColor)}function gU(t,e,r){t.lineTo(r.x,r.y)}function xU(t){return t.stepped?qI:t.tension||t.cubicInterpolationMode==="monotone"?XI:gU}function PC(t,e,r={}){const n=t.length,{start:s=0,end:i=n-1}=r,{start:o,end:c}=e,d=Math.max(s,o),f=Math.min(i,c),h=s<o&&i<o||s>c&&i>c;return{count:n,start:d,loop:e.loop,ilen:f<d&&!h?n+f-d:f-d}}function yU(t,e,r,n){const{points:s,options:i}=e,{count:o,start:c,loop:d,ilen:f}=PC(s,r,n),h=xU(i);let{move:p=!0,reverse:g}=n||{},x,w,b;for(x=0;x<=f;++x)w=s[(c+(g?f-x:x))%o],!w.skip&&(p?(t.moveTo(w.x,w.y),p=!1):h(t,b,w,g,i.stepped),b=w);return d&&(w=s[(c+(g?f:0))%o],h(t,b,w,g,i.stepped)),!!d}function vU(t,e,r,n){const s=e.points,{count:i,start:o,ilen:c}=PC(s,r,n),{move:d=!0,reverse:f}=n||{};let h=0,p=0,g,x,w,b,v,C;const E=D=>(o+(f?c-D:D))%i,j=()=>{b!==v&&(t.lineTo(h,v),t.lineTo(h,b),t.lineTo(h,C))};for(d&&(x=s[E(0)],t.moveTo(x.x,x.y)),g=0;g<=c;++g){if(x=s[E(g)],x.skip)continue;const D=x.x,T=x.y,M=D|0;M===w?(T<b?b=T:T>v&&(v=T),h=(p*h+D)/++p):(j(),t.lineTo(D,T),w=M,p=0,b=v=T),C=T}j()}function bg(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?vU:yU}function bU(t){return t.stepped?E9:t.tension||t.cubicInterpolationMode==="monotone"?k9:io}function wU(t,e,r,n){let s=e._path;s||(s=e._path=new Path2D,e.path(s,r,n)&&s.closePath()),AC(t,e.options),t.stroke(s)}function NU(t,e,r,n){const{segments:s,options:i}=e,o=bg(e);for(const c of s)AC(t,i,c.style),t.beginPath(),o(t,e,c,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const SU=typeof Path2D=="function";function _U(t,e,r,n){SU&&!e.options.segment?wU(t,e,r,n):NU(t,e,r,n)}class Gc extends za{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;b9(this._points,n,e,s,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=L9(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,s=e[r],i=this.points,o=F9(this,{property:r,start:s,end:s});if(!o.length)return;const c=[],d=bU(n);let f,h;for(f=0,h=o.length;f<h;++f){const{start:p,end:g}=o[f],x=i[p],w=i[g];if(x===w){c.push(x);continue}const b=Math.abs((s-x[r])/(w[r]-x[r])),v=d(x,w,b,n.stepped);v[r]=e[r],c.push(v)}return c.length===1?c[0]:c}pathSegment(e,r,n){return bg(this)(e,this,r,n)}path(e,r,n){const s=this.segments,i=bg(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const c of s)o&=i(e,this,c,{start:r,end:r+n-1});return!!o}draw(e,r,n,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),_U(e,this,n,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}bt(Gc,"id","line"),bt(Gc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),bt(Gc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),bt(Gc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function mw(t,e,r,n){const s=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<s.radius+s.hitRadius}class Xf extends za{constructor(r){super();bt(this,"parsed");bt(this,"skip");bt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.options,{x:o,y:c}=this.getProps(["x","y"],s);return Math.pow(r-o,2)+Math.pow(n-c,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return mw(this,r,"x",n)}inYRange(r,n){return mw(this,r,"y",n)}getCenterPoint(r){const{x:n,y:s}=this.getProps(["x","y"],r);return{x:n,y:s}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const s=n&&r.borderWidth||0;return(n+s)*2}draw(r,n){const s=this.options;this.skip||s.radius<.1||!Pu(this,n,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,xg(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}bt(Xf,"id","point"),bt(Xf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),bt(Xf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function DC(t,e){const{x:r,y:n,base:s,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let c,d,f,h,p;return t.horizontal?(p=o/2,c=Math.min(r,s),d=Math.max(r,s),f=n-p,h=n+p):(p=i/2,c=r-p,d=r+p,f=Math.min(n,s),h=Math.max(n,s)),{left:c,top:f,right:d,bottom:h}}function bi(t,e,r,n){return t?0:$n(e,r,n)}function CU(t,e,r){const n=t.options.borderWidth,s=t.borderSkipped,i=uC(n);return{t:bi(s.top,i.top,0,r),r:bi(s.right,i.right,0,e),b:bi(s.bottom,i.bottom,0,r),l:bi(s.left,i.left,0,e)}}function jU(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=Pl(s),o=Math.min(e,r),c=t.borderSkipped,d=n||Vt(s);return{topLeft:bi(!d||c.top||c.left,i.topLeft,0,o),topRight:bi(!d||c.top||c.right,i.topRight,0,o),bottomLeft:bi(!d||c.bottom||c.left,i.bottomLeft,0,o),bottomRight:bi(!d||c.bottom||c.right,i.bottomRight,0,o)}}function TU(t){const e=DC(t),r=e.right-e.left,n=e.bottom-e.top,s=CU(t,r/2,n/2),i=jU(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:r-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function wp(t,e,r,n){const s=e===null,i=r===null,c=t&&!(s&&i)&&DC(t,n);return c&&(s||vi(e,c.left,c.right))&&(i||vi(r,c.top,c.bottom))}function EU(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function kU(t,e){t.rect(e.x,e.y,e.w,e.h)}function Np(t,e,r={}){const n=t.x!==r.x?-e:0,s=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,o=(t.y+t.h!==r.y+r.h?e:0)-s;return{x:t.x+n,y:t.y+s,w:t.w+i,h:t.h+o,radius:t.radius}}class Jf extends za{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:s}}=this,{inner:i,outer:o}=TU(this),c=EU(o.radius)?Eh:kU;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),c(e,Np(o,r,i)),e.clip(),c(e,Np(i,-r,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),c(e,Np(i,r)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,r,n){return wp(this,e,r,n)}inXRange(e,r){return wp(this,e,null,r)}inYRange(e,r){return wp(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+s)/2:r,y:i?n:(n+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}bt(Jf,"id","bar"),bt(Jf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),bt(Jf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const pw=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},AU=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class gw extends za{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=lr(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,s)=>e.sort(n,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,s=Nn(n.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=pw(n,i);let f,h;r.font=s.string,this.isHorizontal()?(f=this.maxWidth,h=this._fitRows(o,i,c,d)+10):(h=this.maxHeight,f=this._fitCols(o,s,c,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,s){const{ctx:i,maxWidth:o,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],h=s+c;let p=e;i.textAlign="left",i.textBaseline="middle";let g=-1,x=-h;return this.legendItems.forEach((w,b)=>{const v=n+r/2+i.measureText(w.text).width;(b===0||f[f.length-1]+v+2*c>o)&&(p+=h,f[f.length-(b>0?0:1)]=0,x+=h,g++),d[b]={left:0,top:x,row:g,width:v,height:s},f[f.length-1]+=v+c}),p}_fitCols(e,r,n,s){const{ctx:i,maxHeight:o,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],h=o-e;let p=c,g=0,x=0,w=0,b=0;return this.legendItems.forEach((v,C)=>{const{itemWidth:E,itemHeight:j}=PU(n,r,i,v,s);C>0&&x+j+2*c>h&&(p+=g+c,f.push({width:g,height:x}),w+=g+c,b++,g=x=0),d[C]={left:w,top:x,col:b,width:E,height:j},g=Math.max(g,E),x+=j+c}),p+=g,f.push({width:g,height:x}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:s},rtl:i}}=this,o=Dl(i,this.left,this.width);if(this.isHorizontal()){let c=0,d=vn(n,this.left+s,this.right-this.lineWidths[c]);for(const f of r)c!==f.row&&(c=f.row,d=vn(n,this.left+s,this.right-this.lineWidths[c])),f.top+=this.top+e+s,f.left=o.leftForLtr(o.x(d),f.width),d+=f.width+s}else{let c=0,d=vn(n,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const f of r)f.col!==c&&(c=f.col,d=vn(n,this.top+e+s,this.bottom-this.columnSizes[c].height)),f.top=d,f.left+=this.left+s,f.left=o.leftForLtr(o.x(f.left),f.width),d+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ox(e,this),this._draw(),Mx(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:s}=this,{align:i,labels:o}=e,c=Er.color,d=Dl(e.rtl,this.left,this.width),f=Nn(o.font),{padding:h}=o,p=f.size,g=p/2;let x;this.drawTitle(),s.textAlign=d.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:w,boxHeight:b,itemHeight:v}=pw(o,p),C=function(M,_,P){if(isNaN(w)||w<=0||isNaN(b)||b<0)return;s.save();const I=Lt(P.lineWidth,1);if(s.fillStyle=Lt(P.fillStyle,c),s.lineCap=Lt(P.lineCap,"butt"),s.lineDashOffset=Lt(P.lineDashOffset,0),s.lineJoin=Lt(P.lineJoin,"miter"),s.lineWidth=I,s.strokeStyle=Lt(P.strokeStyle,c),s.setLineDash(Lt(P.lineDash,[])),o.usePointStyle){const K={radius:b*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:I},q=d.xPlus(M,w/2),H=_+g;cC(s,K,q,H,o.pointStyleWidth&&w)}else{const K=_+Math.max((p-b)/2,0),q=d.leftForLtr(M,w),H=Pl(P.borderRadius);s.beginPath(),Object.values(H).some(oe=>oe!==0)?Eh(s,{x:q,y:K,w,h:b,radius:H}):s.rect(q,K,w,b),s.fill(),I!==0&&s.stroke()}s.restore()},E=function(M,_,P){Du(s,P.text,M,_+v/2,f,{strikethrough:P.hidden,textAlign:d.textAlign(P.textAlign)})},j=this.isHorizontal(),D=this._computeTitleHeight();j?x={x:vn(i,this.left+h,this.right-n[0]),y:this.top+h+D,line:0}:x={x:this.left+h,y:vn(i,this.top+D+h,this.bottom-r[0].height),line:0},gC(this.ctx,e.textDirection);const T=v+h;this.legendItems.forEach((M,_)=>{s.strokeStyle=M.fontColor,s.fillStyle=M.fontColor;const P=s.measureText(M.text).width,I=d.textAlign(M.textAlign||(M.textAlign=o.textAlign)),K=w+g+P;let q=x.x,H=x.y;d.setWidth(this.width),j?_>0&&q+K+h>this.right&&(H=x.y+=T,x.line++,q=x.x=vn(i,this.left+h,this.right-n[x.line])):_>0&&H+T>this.bottom&&(q=x.x=q+r[x.line].width+h,x.line++,H=x.y=vn(i,this.top+D+h,this.bottom-r[x.line].height));const oe=d.x(q);if(C(oe,H,M),q=II(I,q+w+g,j?q+K:this.right,e.rtl),E(d.x(q),H,M),j)x.x+=K+h;else if(typeof M.text!="string"){const Q=f.lineHeight;x.y+=RC(M,Q)+h}else x.y+=T}),xC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=Nn(r.font),s=ks(r.padding);if(!r.display)return;const i=Dl(e.rtl,this.left,this.width),o=this.ctx,c=r.position,d=n.size/2,f=s.top+d;let h,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),h=this.top+f,p=vn(e.align,p,this.right-g);else{const w=this.columnSizes.reduce((b,v)=>Math.max(b,v.height),0);h=f+vn(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const x=vn(c,p,p+g);o.textAlign=i.textAlign(Rx(c)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,Du(o,r.text,x,h,n)}_computeTitleHeight(){const e=this.options.title,r=Nn(e.font),n=ks(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,s,i;if(vi(e,this.left,this.right)&&vi(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(s=i[n],vi(e,s.left,s.left+s.width)&&vi(r,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!FU(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=AU(s,n);s&&!i&&lr(r.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!i&&lr(r.onHover,[e,n,this],this)}else n&&lr(r.onClick,[e,n,this],this)}}function PU(t,e,r,n,s){const i=DU(n,t,e,r),o=RU(s,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function DU(t,e,r,n){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+r.size/2+n.measureText(s).width}function RU(t,e,r){let n=t;return typeof e.text!="string"&&(n=RC(e,r)),n}function RC(t,e){const r=t.text?t.text.length:0;return e*r}function FU(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var OU={id:"legend",_element:gw,start(t,e,r){const n=t.legend=new gw({ctx:t.ctx,options:r,chart:t});js.configure(t,n,r),js.addBox(t,n)},stop(t){js.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;js.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,s=r.chart;s.isDatasetVisible(n)?(s.hide(n),e.hidden=!0):(s.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:s,color:i,useBorderRadius:o,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(r?0:void 0),h=ks(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:i,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:f.borderColor,pointStyle:n||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:o&&(c||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class FC extends za{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const s=qr(n.text)?n.text.length:1;this._padding=ks(n.padding);const i=s*Nn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:s,right:i,options:o}=this,c=o.align;let d=0,f,h,p;return this.isHorizontal()?(h=vn(c,n,i),p=r+e,f=i-n):(o.position==="left"?(h=n+e,p=vn(c,s,r),d=Or*-.5):(h=i-e,p=vn(c,r,s),d=Or*.5),f=s-r),{titleX:h,titleY:p,maxWidth:f,rotation:d}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=Nn(r.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:d,rotation:f}=this._drawArgs(i);Du(e,r.text,0,0,n,{color:r.color,maxWidth:d,rotation:f,textAlign:Rx(r.align),textBaseline:"middle",translation:[o,c]})}}function MU(t,e){const r=new FC({ctx:t.ctx,options:e,chart:t});js.configure(t,r,e),js.addBox(t,r),t.titleBlock=r}var LU={id:"title",_element:FC,start(t,e,r){MU(t,r)},stop(t){const e=t.titleBlock;js.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;js.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qc={average(t){if(!t.length)return!1;let e,r,n=new Set,s=0,i=0;for(e=0,r=t.length;e<r;++e){const c=t[e].element;if(c&&c.hasValue()){const d=c.tooltipPosition();n.add(d.x),s+=d.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((c,d)=>c+d)/n.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,s=Number.POSITIVE_INFINITY,i,o,c;for(i=0,o=t.length;i<o;++i){const d=t[i].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),h=mg(e,f);h<s&&(s=h,c=d)}}if(c){const d=c.tooltipPosition();r=d.x,n=d.y}return{x:r,y:n}}};function oa(t,e){return e&&(qr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ea(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function IU(t,e){const{element:r,datasetIndex:n,index:s}=e,i=t.getDatasetMeta(n).controller,{label:o,value:c}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[n].data[s],formattedValue:c,dataset:i.getDataset(),dataIndex:s,datasetIndex:n,element:r}}function xw(t,e){const r=t.chart.ctx,{body:n,footer:s,title:i}=t,{boxWidth:o,boxHeight:c}=e,d=Nn(e.bodyFont),f=Nn(e.titleFont),h=Nn(e.footerFont),p=i.length,g=s.length,x=n.length,w=ks(e.padding);let b=w.height,v=0,C=n.reduce((D,T)=>D+T.before.length+T.lines.length+T.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,p&&(b+=p*f.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),C){const D=e.displayColors?Math.max(c,d.lineHeight):d.lineHeight;b+=x*D+(C-x)*d.lineHeight+(C-1)*e.bodySpacing}g&&(b+=e.footerMarginTop+g*h.lineHeight+(g-1)*e.footerSpacing);let E=0;const j=function(D){v=Math.max(v,r.measureText(D).width+E)};return r.save(),r.font=f.string,Jt(t.title,j),r.font=d.string,Jt(t.beforeBody.concat(t.afterBody),j),E=e.displayColors?o+2+e.boxPadding:0,Jt(n,D=>{Jt(D.before,j),Jt(D.lines,j),Jt(D.after,j)}),E=0,r.font=h.string,Jt(t.footer,j),r.restore(),v+=w.width,{width:v,height:b}}function BU(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function UU(t,e,r,n){const{x:s,width:i}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function zU(t,e,r,n){const{x:s,width:i}=r,{width:o,chartArea:{left:c,right:d}}=t;let f="center";return n==="center"?f=s<=(c+d)/2?"left":"right":s<=i/2?f="left":s>=o-i/2&&(f="right"),UU(f,t,e,r)&&(f="center"),f}function yw(t,e,r){const n=r.yAlign||e.yAlign||BU(t,r);return{xAlign:r.xAlign||e.xAlign||zU(t,e,r,n),yAlign:n}}function VU(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function HU(t,e,r){let{y:n,height:s}=t;return e==="top"?n+=r:e==="bottom"?n-=s+r:n-=s/2,n}function vw(t,e,r,n){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:c,yAlign:d}=r,f=s+i,{topLeft:h,topRight:p,bottomLeft:g,bottomRight:x}=Pl(o);let w=VU(e,c);const b=HU(e,d,f);return d==="center"?c==="left"?w+=f:c==="right"&&(w-=f):c==="left"?w-=Math.max(h,g)+s:c==="right"&&(w+=Math.max(p,x)+s),{x:$n(w,0,n.width-e.width),y:$n(b,0,n.height-e.height)}}function Pf(t,e,r){const n=ks(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function bw(t){return oa([],Ea(t))}function WU(t,e,r){return Mo(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function ww(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const OC={beforeTitle:ja,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:ja,beforeBody:ja,beforeLabel:ja,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return vr(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:ja,afterBody:ja,beforeFooter:ja,footer:ja,afterFooter:ja};function Hn(t,e,r,n){const s=t[e].call(r,n);return typeof s>"u"?OC[e].call(r,n):s}class wg extends za{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&r.options.animation&&n.animations,i=new vC(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=WU(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,s=Hn(n,"beforeTitle",this,e),i=Hn(n,"title",this,e),o=Hn(n,"afterTitle",this,e);let c=[];return c=oa(c,Ea(s)),c=oa(c,Ea(i)),c=oa(c,Ea(o)),c}getBeforeBody(e,r){return bw(Hn(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,s=[];return Jt(e,i=>{const o={before:[],lines:[],after:[]},c=ww(n,i);oa(o.before,Ea(Hn(c,"beforeLabel",this,i))),oa(o.lines,Hn(c,"label",this,i)),oa(o.after,Ea(Hn(c,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,r){return bw(Hn(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,s=Hn(n,"beforeFooter",this,e),i=Hn(n,"footer",this,e),o=Hn(n,"afterFooter",this,e);let c=[];return c=oa(c,Ea(s)),c=oa(c,Ea(i)),c=oa(c,Ea(o)),c}_createItems(e){const r=this._active,n=this.chart.data,s=[],i=[],o=[];let c=[],d,f;for(d=0,f=r.length;d<f;++d)c.push(IU(this.chart,r[d]));return e.filter&&(c=c.filter((h,p,g)=>e.filter(h,p,g,n))),e.itemSort&&(c=c.sort((h,p)=>e.itemSort(h,p,n))),Jt(c,h=>{const p=ww(e.callbacks,h);s.push(Hn(p,"labelColor",this,h)),i.push(Hn(p,"labelPointStyle",this,h)),o.push(Hn(p,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=c,c}update(e,r){const n=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const c=qc[n.position].call(this,s,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const d=this._size=xw(this,n),f=Object.assign({},c,d),h=yw(this.chart,n,f),p=vw(n,f,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,i={opacity:1,x:p.x,y:p.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,s){const i=this.getCaretPosition(e,n,s);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:c}=n,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:p}=Pl(c),{x:g,y:x}=e,{width:w,height:b}=r;let v,C,E,j,D,T;return i==="center"?(D=x+b/2,s==="left"?(v=g,C=v-o,j=D+o,T=D-o):(v=g+w,C=v+o,j=D-o,T=D+o),E=v):(s==="left"?C=g+Math.max(d,h)+o:s==="right"?C=g+w-Math.max(f,p)-o:C=this.caretX,i==="top"?(j=x,D=j-o,v=C-o,E=C+o):(j=x+b,D=j+o,v=C+o,E=C-o),T=j),{x1:v,x2:C,x3:E,y1:j,y2:D,y3:T}}drawTitle(e,r,n){const s=this.title,i=s.length;let o,c,d;if(i){const f=Dl(n.rtl,this.x,this.width);for(e.x=Pf(this,n.titleAlign,n),r.textAlign=f.textAlign(n.titleAlign),r.textBaseline="middle",o=Nn(n.titleFont),c=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,d=0;d<i;++d)r.fillText(s[d],f.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,d+1===i&&(e.y+=n.titleMarginBottom-c)}}_drawColorBox(e,r,n,s,i){const o=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:d,boxWidth:f}=i,h=Nn(i.bodyFont),p=Pf(this,"left",i),g=s.x(p),x=d<h.lineHeight?(h.lineHeight-d)/2:0,w=r.y+x;if(i.usePointStyle){const b={radius:Math.min(f,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},v=s.leftForLtr(g,f)+f/2,C=w+d/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,xg(e,b,v,C),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,xg(e,b,v,C)}else{e.lineWidth=Vt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const b=s.leftForLtr(g,f),v=s.leftForLtr(s.xPlus(g,1),f-2),C=Pl(o.borderRadius);Object.values(C).some(E=>E!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Eh(e,{x:b,y:w,w:f,h:d,radius:C}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Eh(e,{x:v,y:w+1,w:f-2,h:d-2,radius:C}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(b,w,f,d),e.strokeRect(b,w,f,d),e.fillStyle=o.backgroundColor,e.fillRect(v,w+1,f-2,d-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:c,boxHeight:d,boxWidth:f,boxPadding:h}=n,p=Nn(n.bodyFont);let g=p.lineHeight,x=0;const w=Dl(n.rtl,this.x,this.width),b=function(P){r.fillText(P,w.x(e.x+x),e.y+g/2),e.y+=g+i},v=w.textAlign(o);let C,E,j,D,T,M,_;for(r.textAlign=o,r.textBaseline="middle",r.font=p.string,e.x=Pf(this,v,n),r.fillStyle=n.bodyColor,Jt(this.beforeBody,b),x=c&&v!=="right"?o==="center"?f/2+h:f+2+h:0,D=0,M=s.length;D<M;++D){for(C=s[D],E=this.labelTextColors[D],r.fillStyle=E,Jt(C.before,b),j=C.lines,c&&j.length&&(this._drawColorBox(r,e,D,w,n),g=Math.max(p.lineHeight,d)),T=0,_=j.length;T<_;++T)b(j[T]),g=p.lineHeight;Jt(C.after,b)}x=0,g=p.lineHeight,Jt(this.afterBody,b),e.y-=i}drawFooter(e,r,n){const s=this.footer,i=s.length;let o,c;if(i){const d=Dl(n.rtl,this.x,this.width);for(e.x=Pf(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=d.textAlign(n.footerAlign),r.textBaseline="middle",o=Nn(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,c=0;c<i;++c)r.fillText(s[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,s){const{xAlign:i,yAlign:o}=this,{x:c,y:d}=e,{width:f,height:h}=n,{topLeft:p,topRight:g,bottomLeft:x,bottomRight:w}=Pl(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(c+p,d),o==="top"&&this.drawCaret(e,r,n,s),r.lineTo(c+f-g,d),r.quadraticCurveTo(c+f,d,c+f,d+g),o==="center"&&i==="right"&&this.drawCaret(e,r,n,s),r.lineTo(c+f,d+h-w),r.quadraticCurveTo(c+f,d+h,c+f-w,d+h),o==="bottom"&&this.drawCaret(e,r,n,s),r.lineTo(c+x,d+h),r.quadraticCurveTo(c,d+h,c,d+h-x),o==="center"&&i==="left"&&this.drawCaret(e,r,n,s),r.lineTo(c,d+p),r.quadraticCurveTo(c,d,c+p,d),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,s=n&&n.x,i=n&&n.y;if(s||i){const o=qc[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=xw(this,e),d=Object.assign({},o,this._size),f=yw(r,e,d),h=vw(e,d,f,r);(s._to!==h.x||i._to!==h.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=ks(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,s,r),gC(e,r.textDirection),i.y+=o.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),xC(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,s=e.map(({datasetIndex:c,index:d})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[d],index:d}}),i=!Nh(n,s),o=this._positionChanged(s,r);(i||o)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,r,n),c=this._positionChanged(o,e),d=r||!Nh(o,i)||c;return d&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),d}_getActiveElements(e,r,n,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:n,caretY:s,options:i}=this,o=qc[i.position].call(this,e,r);return o!==!1&&(n!==o.x||s!==o.y)}}bt(wg,"positioners",qc);var $U={id:"tooltip",_element:wg,positioners:qc,afterInit(t,e,r){r&&(t.tooltip=new wg({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:OC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const YU=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function KU(t,e,r,n){const s=t.indexOf(e);if(s===-1)return YU(t,e,r,n);const i=t.lastIndexOf(e);return s!==i?r:s}const GU=(t,e)=>t===null?null:$n(Math.round(t),0,e);function Nw(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ng extends Gl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:s,label:i}of r)n[s]===i&&n.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(vr(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:KU(n,e,Lt(r,e),this._addedLabels),GU(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,s=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)s.push({value:o});return s}getLabelForValue(e){return Nw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}bt(Ng,"id","category"),bt(Ng,"defaults",{ticks:{callback:Nw}});function qU(t,e){const r=[],{bounds:s,step:i,min:o,max:c,precision:d,count:f,maxTicks:h,maxDigits:p,includeBounds:g}=t,x=i||1,w=h-1,{min:b,max:v}=e,C=!vr(o),E=!vr(c),j=!vr(f),D=(v-b)/(p+1);let T=Tb((v-b)/w/x)*x,M,_,P,I;if(T<1e-14&&!C&&!E)return[{value:b},{value:v}];I=Math.ceil(v/T)-Math.floor(b/T),I>w&&(T=Tb(I*T/w/x)*x),vr(d)||(M=Math.pow(10,d),T=Math.ceil(T*M)/M),s==="ticks"?(_=Math.floor(b/T)*T,P=Math.ceil(v/T)*T):(_=b,P=v),C&&E&&i&&EI((c-o)/i,T/1e3)?(I=Math.round(Math.min((c-o)/T,h)),T=(c-o)/I,_=o,P=c):j?(_=C?o:_,P=E?c:P,I=f-1,T=(P-_)/I):(I=(P-_)/T,lu(I,Math.round(I),T/1e3)?I=Math.round(I):I=Math.ceil(I));const K=Math.max(Eb(T),Eb(_));M=Math.pow(10,vr(d)?K:d),_=Math.round(_*M)/M,P=Math.round(P*M)/M;let q=0;for(C&&(g&&_!==o?(r.push({value:o}),_<o&&q++,lu(Math.round((_+q*T)*M)/M,o,Sw(o,D,t))&&q++):_<o&&q++);q<I;++q){const H=Math.round((_+q*T)*M)/M;if(E&&H>c)break;r.push({value:H})}return E&&g&&P!==c?r.length&&lu(r[r.length-1].value,c,Sw(c,D,t))?r[r.length-1].value=c:r.push({value:c}):(!E||P===c)&&r.push({value:P}),r}function Sw(t,e,{horizontal:r,minRotation:n}){const s=ho(n),i=(r?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class XU extends Gl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return vr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this;const o=d=>s=r?s:d,c=d=>i=n?i:d;if(e){const d=Fl(s),f=Fl(i);d<0&&f<0?c(0):d>0&&f>0&&o(0)}if(s===i){let d=i===0?1:Math.abs(i*.05);c(i+d),e||o(s-d)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=qU(s,i);return e.bounds==="ticks"&&kI(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const s=(n-r)/Math.max(e.length-1,1)/2;r-=s,n+=s}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return oC(e,this.chart.options.locale,this.options.ticks.format)}}class Sg extends XU{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Es(e)?e:0,this.max=Es(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=ho(this.options.ticks.minRotation),s=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}bt(Sg,"id","linear"),bt(Sg,"defaults",{ticks:{callback:lC.formatters.numeric}});const u0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Wn=Object.keys(u0);function _w(t,e){return t-e}function Cw(t,e){if(vr(e))return null;const r=t._adapter,{parser:n,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Es(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(s&&(o=s==="week"&&(Th(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,s)),+o)}function jw(t,e,r,n){const s=Wn.length;for(let i=Wn.indexOf(t);i<s-1;++i){const o=u0[Wn[i]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(c*o.size))<=n)return Wn[i]}return Wn[s-1]}function JU(t,e,r,n,s){for(let i=Wn.length-1;i>=Wn.indexOf(r);i--){const o=Wn[i];if(u0[o].common&&t._adapter.diff(s,n,o)>=e-1)return o}return Wn[r?Wn.indexOf(r):0]}function QU(t){for(let e=Wn.indexOf(t)+1,r=Wn.length;e<r;++e)if(u0[Wn[e]].common)return Wn[e]}function Tw(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:s}=Dx(r,e),i=r[n]>=e?r[n]:r[s];t[i]=!0}}function ZU(t,e,r,n){const s=t._adapter,i=+s.startOf(e[0].value,n),o=e[e.length-1].value;let c,d;for(c=i;c<=o;c=+s.add(c,1,n))d=r[c],d>=0&&(e[d].major=!0);return e}function Ew(t,e,r){const n=[],s={},i=e.length;let o,c;for(o=0;o<i;++o)c=e[o],s[c]=o,n.push({value:c,major:!1});return i===0||!r?n:ZU(t,n,s,r)}class Dh extends Gl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),s=this._adapter=new rB._date(e.adapters.date);s.init(r),ou(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:Cw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:c}=this.getUserBounds();function d(f){!o&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!c&&!isNaN(f.max)&&(i=Math.max(i,f.max))}(!o||!c)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),s=Es(s)&&!isNaN(s)?s:+r.startOf(Date.now(),n),i=Es(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,c=FI(s,i,o);return this._unit=r.unit||(n.autoSkip?jw(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):JU(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:QU(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),Ew(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?r=1-s:r=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=$n(r,0,o),n=$n(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,s=this.options,i=s.time,o=i.unit||jw(i.minUnit,r,n,this._getLabelCapacity(r)),c=Lt(s.ticks.stepSize,1),d=o==="week"?i.isoWeekday:!1,f=Th(d)||d===!0,h={};let p=r,g,x;if(f&&(p=+e.startOf(p,"isoWeek",d)),p=+e.startOf(p,f?"day":o),e.diff(n,r,o)>1e5*c)throw new Error(r+" and "+n+" are too far apart with stepSize of "+c+" "+o);const w=s.ticks.source==="data"&&this.getDataTimestamps();for(g=p,x=0;g<n;g=+e.add(g,c,o),x++)Tw(h,g,w);return(g===n||s.bounds==="ticks"||x===1)&&Tw(h,g,w),Object.keys(h).sort(_w).map(b=>+b)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const s=this.options.time.displayFormats,i=this._unit,o=r||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,s){const i=this.options,o=i.ticks.callback;if(o)return lr(o,[e,r,n],this);const c=i.time.displayFormats,d=this._unit,f=this._majorUnit,h=d&&c[d],p=f&&c[f],g=n[r],x=f&&p&&g&&g.major;return this._adapter.format(e,s||(x?p:h))}generateTickLabels(e){let r,n,s;for(r=0,n=e.length;r<n;++r)s=e[r],s.label=this._tickFormatFunction(s.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,s=ho(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(s),o=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:n*i+c*o,h:n*o+c*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,s=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Ew(this,[e],this._majorUnit),s),o=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,n=s.length;r<n;++r)e=e.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const s=this.getLabels();for(r=0,n=s.length;r<n;++r)e.push(Cw(this,s[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return MI(e.sort(_w))}}bt(Dh,"id","time"),bt(Dh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Df(t,e,r){let n=0,s=t.length-1,i,o,c,d;r?(e>=t[n].pos&&e<=t[s].pos&&({lo:n,hi:s}=pg(t,"pos",e)),{pos:i,time:c}=t[n],{pos:o,time:d}=t[s]):(e>=t[n].time&&e<=t[s].time&&({lo:n,hi:s}=pg(t,"time",e)),{time:i,pos:c}=t[n],{time:o,pos:d}=t[s]);const f=o-i;return f?c+(d-c)*(e-i)/f:c}class kw extends Dh{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Df(r,this.min),this._tableRange=Df(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,s=[],i=[];let o,c,d,f,h;for(o=0,c=e.length;o<c;++o)f=e[o],f>=r&&f<=n&&s.push(f);if(s.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,c=s.length;o<c;++o)h=s[o+1],d=s[o-1],f=s[o],Math.round((h+d)/2)!==f&&i.push({time:f,pos:o/(c-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Df(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Df(this._table,n*this._tableRange+this._minPos,!0)}}bt(kw,"id","timeseries"),bt(kw,"defaults",Dh.defaults);hi.register(Ng,Sg,Xf,Gc,Jf,Kc,LU,$U,OU);const ez=()=>{const[t,e]=A.useState(!0),[r,n]=A.useState(null),[s,i]=A.useState([]),[o,c]=A.useState([]),[d,f]=A.useState([]),[h,p]=A.useState({}),[g,x]=A.useState("USD"),[w,b]=A.useState("monthly"),[v,C]=A.useState(new Date().getFullYear()),[E,j]=A.useState(new Date().getMonth()+1),[D,T]=A.useState(Math.ceil((new Date().getMonth()+1)/3)),[M,_]=A.useState("overview"),[P,I]=A.useState("date"),[K,q]=A.useState("desc");A.useMemo(()=>{const Ne=new Date().getFullYear();return Array.from({length:5},(Be,Je)=>Ne-Je)},[]),A.useMemo(()=>[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],[]),A.useMemo(()=>[{value:1,label:"Q1 (Jan-Mar)"},{value:2,label:"Q2 (Apr-Jun)"},{value:3,label:"Q3 (Jul-Sep)"},{value:4,label:"Q4 (Oct-Dec)"}],[]);const H=[{value:"monthly",label:"Month wise (Last 12 months)"},{value:"quarterly",label:"3 Months (Quarterly)"},{value:"half-yearly",label:"Half Yearly (6 months)"},{value:"yearly",label:"Yearly (Last 3 years)"}],oe=[{value:"1month",label:"1 Month"},{value:"3month",label:"3 Months"},{value:"6month",label:"6 Months"},{value:"1year",label:"1 Year"}];A.useEffect(()=>{const Ne=xo();x(Ne.currency),p(Ne.exchangeRates);const Be=()=>{const Je=xo();x(Je.currency),p(Je.exchangeRates)};return window.addEventListener("storage",Be),()=>{window.removeEventListener("storage",Be)}},[]),A.useEffect(()=>{Q()},[]),A.useEffect(()=>{s.length>0&&O()},[s,w,v,E,D,g]);const Q=async()=>{try{e(!0),n(null);let Ne=[];try{const it=localStorage.getItem("token"),vt=await tr.get(`https://crm-backend-o36v.onrender.com/api/sales?full=true&nocache=${new Date().getTime()}`,{headers:{Authorization:`Bearer ${it}`,"Content-Type":"application/json"}});console.log("AdminReportsPage - Full sales response:",vt),vt.data&&vt.data.success&&vt.data.data&&Array.isArray(vt.data.data)?(Ne=vt.data.data,console.log("AdminReportsPage - Sales count from direct axios call:",Ne.length)):vt.data&&Array.isArray(vt.data)?(Ne=vt.data,console.log("AdminReportsPage - Sales count from direct array response:",Ne.length)):(console.warn("AdminReportsPage - Unexpected sales response format:",vt.data),Ne=[])}catch(it){console.error("AdminReportsPage - Error fetching sales with direct axios:",it);try{const vt=await Kr.getAllForced();vt.data&&vt.data.success&&(Ne=vt.data.data,console.log("AdminReportsPage - Sales count from fallback API:",Ne.length))}catch(vt){console.error("AdminReportsPage - Fallback sales fetch also failed:",vt),Ne=[]}}const Be=await _n.getAll(),Je=Be.data.success?Be.data.data:[],Re=await sh.getRates();let Ue={};Re.data.success?(Ue=Re.data.data,gl({exchangeRates:Ue})):Ue=xo().exchangeRates;const ut=Ne.map(it=>({...it,id:it._id,date:new Date(it.date||it.createdAt),customerName:it.customerName||it.leadId&&(it.leadId.name||it.leadId.NAME)||"Unknown",course:it.course||it.product||"Unknown",totalCost:parseFloat(it.totalCost||it.amount||0),tokenAmount:parseFloat(it.tokenAmount||it.token||0),pendingAmount:parseFloat(it.status==="Completed"?0:it.pendingAmount||(it.totalCost||it.amount||0)-(it.tokenAmount||it.token||0)),currency:it.currency||"USD"}));i(ut),c(Je),p(Ue),O(ut),n(null)}catch(Ne){console.error("Error fetching report data:",Ne),n("Failed to load report data. Please try again.")}finally{e(!1)}},O=(Ne=s)=>{const Be=Ne||[];let Je=[];switch(w){case"monthly":Je=Be.filter(Re=>{const Ue=new Date(Re.date);return Ue.getMonth()+1===E&&Ue.getFullYear()===v});break;case"quarterly":Je=Be.filter(Re=>{const Ue=new Date(Re.date),ut=Ue.getMonth()+1;return Math.ceil(ut/3)===D&&Ue.getFullYear()===v});break;case"yearly":Je=Be.filter(Re=>new Date(Re.date).getFullYear()===v);break;default:Je=Be}Je=W(Je,P,K),f(Je)},W=(Ne,Be,Je)=>[...Ne].sort((Re,Ue)=>{let ut,it;switch(Be){case"date":ut=new Date(Re.date).getTime(),it=new Date(Ue.date).getTime();break;case"totalCost":case"tokenAmount":case"pendingAmount":ut=g2(Re[Be],"USD"),it=g2(Ue[Be],"USD");break;default:ut=Re[Be]||"",it=Ue[Be]||""}return typeof ut=="string"&&typeof it=="string"?Je==="asc"?ut.localeCompare(it):it.localeCompare(ut):Je==="asc"?ut-it:it-ut}),[ne,X]=A.useState(null),[Z,ae]=A.useState(null),[Y,R]=A.useState(null),[U,z]=A.useState(null),[k,ce]=A.useState("monthly"),[ee,he]=A.useState("1month"),[ye,ke]=A.useState("1month"),[Ke,He]=A.useState(null);A.useEffect(()=>{Ze(),rt()},[]),A.useEffect(()=>{Ve()},[k]),A.useEffect(()=>{de()},[ee]),A.useEffect(()=>{je()},[ye,Ke]);const rt=async()=>{try{const Ne=await sh.getRates();Ne.data&&Ne.data.rates&&p(Ne.data.rates)}catch(Ne){console.error("Error loading exchange rates:",Ne),p({USD:1,EUR:.85,GBP:.73,INR:83.12,CAD:1.36,AUD:1.52,JPY:149.5,CNY:7.24})}},Ve=async()=>{try{e(!0);const Ne=await Kr.getCourseAnalysis(k);Ne.data&&Ne.data.success&&X(Ne.data.data)}catch(Ne){console.error("Error loading course analysis:",Ne),Oe.error("Failed to load course analysis")}finally{e(!1)}},de=async()=>{try{e(!0);const Ne=await Kr.getRevenueAnalysis(ee);Ne.data&&Ne.data.success&&ae(Ne.data.data)}catch(Ne){console.error("Error loading revenue analysis:",Ne),Oe.error("Failed to load revenue analysis")}finally{e(!1)}},Ee=async()=>{try{const Ne=await Kr.getTopCourses("all",10);Ne.data&&Ne.data.success&&R(Ne.data.data)}catch(Ne){console.error("Error loading top courses:",Ne),Oe.error("Failed to load top courses")}},je=async()=>{try{e(!0);const Ne=await Kr.getStatusAnalysis(ye,Ke);Ne.data&&Ne.data.success&&z(Ne.data.data)}catch(Ne){console.error("Error loading status analysis:",Ne),Oe.error("Failed to load status analysis")}finally{e(!1)}},Ze=async()=>{await Promise.all([Ve(),de(),Ee(),je()])},nt=()=>{if(!ne||!ne.courseAnalysis)return a.jsx("div",{className:"text-center py-4",children:"No course analysis data available"});const Ne=Object.keys(ne.courseAnalysis),Be=new Set;Ne.forEach(Re=>{Object.keys(ne.courseAnalysis[Re]).forEach(Ue=>{Be.add(Ue)})});const Je=Array.from(Be).sort().reverse();return a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),Je.map(Re=>a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:Re},Re)),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Sales"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ne.map(Re=>{const Ue=ne.courseAnalysis[Re],ut=Object.values(Ue).reduce((it,vt)=>it+vt.totalSales,0);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Re}),Je.map(it=>{var rr;const vt=Ue[it];return a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:vt?a.jsxs("div",{children:[a.jsxs("div",{className:"font-semibold",children:[vt.totalSales," sales"]}),a.jsxs("div",{className:"text-xs text-gray-400",children:["$",((rr=vt.totalRevenue)==null?void 0:rr.toFixed(2))||"0.00"]})]}):a.jsx("span",{className:"text-gray-300",children:"-"})},it)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-blue-600",children:ut})]},Re)})})]})})},ht=()=>{if(!Z)return a.jsx("div",{className:"text-center py-4",children:"No revenue analysis data available"});const{summary:Ne,currencyBreakdown:Be,dailyBreakdown:Je}=Z;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(y2,{className:"text-blue-600 text-2xl mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Sales"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:Ne.totalSales})]})]})}),a.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(v2,{className:"text-green-600 text-2xl mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total Revenue (USD)"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:Hs(Ne.totalRevenueUSD)})]})]})}),a.jsx("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx($N,{className:"text-yellow-600 text-2xl mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Tokens Received (USD)"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:Hs(Ne.totalTokensUSD)})]})]})}),a.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(qp,{className:"text-red-600 text-2xl mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-red-600",children:"Pending Amount (USD)"}),a.jsx("p",{className:"text-2xl font-bold text-red-900",children:Hs(Ne.pendingAmountUSD)})]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue by Currency"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Currency"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Sales"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Revenue (Original)"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Revenue (USD)"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Tokens (USD)"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(Be).map(([Re,Ue])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 font-medium",children:Re}),a.jsx("td",{className:"px-4 py-2",children:Ue.totalSales}),a.jsx("td",{className:"px-4 py-2",children:Hs(Ue.totalRevenue)}),a.jsx("td",{className:"px-4 py-2",children:Hs(Ue.revenueUSD)}),a.jsx("td",{className:"px-4 py-2",children:Hs(Ue.tokensUSD)})]},Re))})]})})]}),Je&&Je.length>0&&a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Daily Sales Trend"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Sales"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Revenue"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Tokens"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Je.slice(-10).map(Re=>{var Ue,ut;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 font-medium",children:Re.date}),a.jsx("td",{className:"px-4 py-2",children:Re.sales}),a.jsxs("td",{className:"px-4 py-2",children:["$",((Ue=Re.revenue)==null?void 0:Ue.toFixed(2))||"0.00"]}),a.jsxs("td",{className:"px-4 py-2",children:["$",((ut=Re.tokens)==null?void 0:ut.toFixed(2))||"0.00"]})]},Re.date)})})]})})]})]})},st=()=>!Y||!Y.topCourses?a.jsx("div",{className:"text-center py-4",children:"No top courses data available"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Sales"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Average Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completion Rate"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Y.topCourses.map((Ne,Be)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",Be+1]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:Ne.course}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.totalSales}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",Ne.totalRevenue]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",Ne.averagePrice]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${Ne.completionRate}%`}})}),a.jsxs("span",{children:[Ne.completionRate,"%"]})]})})]},Ne.course))})]})}),Ct=()=>{if(!U)return a.jsx("div",{className:"text-center py-4",children:"No status analysis data available"});const{statusSummary:Ne,detailedSales:Be,selectedStatus:Je}=U;return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Ne.map((Re,Ue)=>a.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-all duration-200 ${Ke===Re.status?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>He(Ke===Re.status?null:Re.status),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:Re.status}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Re.totalSales}),a.jsx("p",{className:"text-xs text-gray-500",children:"sales"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-green-600",children:Hs(Re.totalRevenueUSD)}),a.jsx("p",{className:"text-xs text-gray-500",children:"revenue"})]})]}),a.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:["Avg: ",Hs(Re.averageOrderValueUSD)]}),a.jsxs("span",{children:["Pending: ",Hs(Re.pendingAmountUSD)]})]})})]},Re.status))}),Je&&Be&&Be.length>0&&a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4",children:['Detailed Sales for "',Je,'" Status (',Be.length," sales)"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Course"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Country"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Sales Person"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Cost"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Token"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Pending"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Be.map(Re=>{var Ue,ut,it;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-2 text-sm",children:new Date(Re.date).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:Re.customerName}),a.jsx("td",{className:"px-4 py-2 text-sm",children:Re.course}),a.jsx("td",{className:"px-4 py-2 text-sm",children:Re.country}),a.jsx("td",{className:"px-4 py-2 text-sm",children:Re.salesPerson}),a.jsxs("td",{className:"px-4 py-2 text-sm",children:["$",((Ue=Re.totalCost)==null?void 0:Ue.toFixed(2))||"0.00"]}),a.jsxs("td",{className:"px-4 py-2 text-sm",children:["$",((ut=Re.tokenAmount)==null?void 0:ut.toFixed(2))||"0.00"]}),a.jsxs("td",{className:"px-4 py-2 text-sm",children:["$",((it=Re.pendingAmount)==null?void 0:it.toFixed(2))||"0.00"]})]},Re._id)})})]})})]}),a.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx("strong",{children:" Tip:"})," Click on any status card above to view detailed sales data for that status. The cards show total sales count, revenue, and pending amounts for each status."]})})]})};return a.jsx(ur,{children:a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Sales Reports & Analytics"}),a.jsxs("button",{onClick:Ze,disabled:t,className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md transition duration-300 flex items-center",children:[t?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):a.jsx(YN,{className:"mr-2"}),"Refresh Reports"]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[a.jsx(Q5,{className:"mr-2 text-blue-600"}),"Course Sales Analysis"]}),a.jsx("select",{value:k,onChange:Ne=>ce(Ne.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:H.map(Ne=>a.jsx("option",{value:Ne.value,children:Ne.label},Ne.value))})]}),nt()]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[a.jsx(v2,{className:"mr-2 text-green-600"}),"Revenue Analysis"]}),a.jsx("select",{value:ee,onChange:Ne=>he(Ne.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:oe.map(Ne=>a.jsx("option",{value:Ne.value,children:Ne.label},Ne.value))})]}),ht()]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[a.jsx(y2,{className:"mr-2 text-purple-600"}),"Top Performing Courses (All Time)"]}),st()]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[a.jsx(G5,{className:"mr-2 text-pink-600"}),"Status Analysis"]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("select",{value:ye,onChange:Ne=>ke(Ne.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"1month",children:"1 Month"}),a.jsx("option",{value:"3month",children:"3 Months"}),a.jsx("option",{value:"6month",children:"6 Months"}),a.jsx("option",{value:"1year",children:"1 Year"}),a.jsx("option",{value:"all",children:"All Time"})]}),Ke&&a.jsx("button",{onClick:()=>He(null),className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-2 rounded-md text-sm",children:"Clear Selection"})]})]}),Ct()]})]})})},Yr=({children:t,allowedRoles:e})=>{const{user:r,loading:n}=$t();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?e.includes(r.role)?t:a.jsx(Bp,{to:"/",replace:!0}):a.jsx(Bp,{to:"/login",replace:!0})},Aw="/assets/ForgotPassword-CiiIXMXF.jpg",MC=A.createContext({});function tz(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wx=typeof window<"u",rz=Wx?A.useLayoutEffect:A.useEffect,$x=A.createContext(null),LC=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function nz(t=!0){const e=A.useContext($x);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,i=A.useId();A.useEffect(()=>{if(t)return s(i)},[t]);const o=A.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}function Yx(t,e){t.indexOf(e)===-1&&t.push(e)}function Kx(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const La=(t,e,r)=>r>e?e:r<t?t:r;let Gx=()=>{};const Ia={},IC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),BC=t=>/^0[^.\s]+$/u.test(t);function qx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ts=t=>t,sz=(t,e)=>r=>e(t(r)),rd=(...t)=>t.reduce(sz),Fu=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class Xx{constructor(){this.subscriptions=[]}add(e){return Yx(this.subscriptions,e),()=>Kx(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ua=t=>t*1e3,da=t=>t/1e3;function UC(t,e){return e?t*(1e3/e):0}const zC=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,az=1e-7,iz=12;function oz(t,e,r,n,s){let i,o,c=0;do o=e+(r-e)/2,i=zC(o,n,s)-t,i>0?r=o:e=o;while(Math.abs(i)>az&&++c<iz);return o}function nd(t,e,r,n){if(t===e&&r===n)return Ts;const s=i=>oz(i,0,1,t,r);return i=>i===0||i===1?i:zC(s(i),e,n)}const VC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HC=t=>e=>1-t(1-e),WC=nd(.33,1.53,.69,.99),Jx=HC(WC),$C=VC(Jx),YC=t=>(t*=2)<1?.5*Jx(t):.5*(2-Math.pow(2,-10*(t-1))),Qx=t=>1-Math.sin(Math.acos(t)),KC=HC(Qx),GC=VC(Qx),lz=nd(.42,0,1,1),cz=nd(0,0,.58,1),qC=nd(.42,0,.58,1),uz=t=>Array.isArray(t)&&typeof t[0]!="number",XC=t=>Array.isArray(t)&&typeof t[0]=="number",dz={linear:Ts,easeIn:lz,easeInOut:qC,easeOut:cz,circIn:Qx,circInOut:GC,circOut:KC,backIn:Jx,backInOut:$C,backOut:WC,anticipate:YC},fz=t=>typeof t=="string",Pw=t=>{if(XC(t)){Gx(t.length===4);const[e,r,n,s]=t;return nd(e,r,n,s)}else if(fz(t))return dz[t];return t},Rf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Dw={value:null};function hz(t,e){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function f(p){o.has(p)&&(h.schedule(p),t()),d++,p(c)}const h={schedule:(p,g=!1,x=!1)=>{const b=x&&s?r:n;return g&&o.add(p),b.has(p)||b.add(p),p},cancel:p=>{n.delete(p),o.delete(p)},process:p=>{if(c=p,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(f),e&&Dw.value&&Dw.value.frameloop[e].push(d),d=0,r.clear(),s=!1,i&&(i=!1,h.process(p))}};return h}const mz=40;function JC(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Rf.reduce((j,D)=>(j[D]=hz(i,e?D:void 0),j),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:h,update:p,preRender:g,render:x,postRender:w}=o,b=()=>{const j=Ia.useManualTiming?s.timestamp:performance.now();r=!1,Ia.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(j-s.timestamp,mz),1)),s.timestamp=j,s.isProcessing=!0,c.process(s),d.process(s),f.process(s),h.process(s),p.process(s),g.process(s),x.process(s),w.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(b))},v=()=>{r=!0,n=!0,s.isProcessing||t(b)};return{schedule:Rf.reduce((j,D)=>{const T=o[D];return j[D]=(M,_=!1,P=!1)=>(r||v(),T.schedule(M,_,P)),j},{}),cancel:j=>{for(let D=0;D<Rf.length;D++)o[Rf[D]].cancel(j)},state:s,steps:o}}const{schedule:wr,cancel:ki,state:sn,steps:Sp}=JC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ts,!0);let Qf;function pz(){Qf=void 0}const Yn={now:()=>(Qf===void 0&&Yn.set(sn.isProcessing||Ia.useManualTiming?sn.timestamp:performance.now()),Qf),set:t=>{Qf=t,queueMicrotask(pz)}},QC=t=>e=>typeof e=="string"&&e.startsWith(t),Zx=QC("--"),gz=QC("var(--"),e1=t=>gz(t)?xz.test(t.split("/*")[0].trim()):!1,xz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ql={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ou={...ql,transform:t=>La(0,1,t)},Ff={...ql,default:1},du=t=>Math.round(t*1e5)/1e5,t1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yz(t){return t==null}const vz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,r1=(t,e)=>r=>!!(typeof r=="string"&&vz.test(r)&&r.startsWith(t)||e&&!yz(r)&&Object.prototype.hasOwnProperty.call(r,e)),ZC=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,c]=n.match(t1);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},bz=t=>La(0,255,t),_p={...ql,transform:t=>Math.round(bz(t))},mo={test:r1("rgb","red"),parse:ZC("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+_p.transform(t)+", "+_p.transform(e)+", "+_p.transform(r)+", "+du(Ou.transform(n))+")"};function wz(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const _g={test:r1("#"),parse:wz,transform:mo.transform},sd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),di=sd("deg"),fa=sd("%"),Nt=sd("px"),Nz=sd("vh"),Sz=sd("vw"),Rw={...fa,parse:t=>fa.parse(t)/100,transform:t=>fa.transform(t*100)},bl={test:r1("hsl","hue"),parse:ZC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+fa.transform(du(e))+", "+fa.transform(du(r))+", "+du(Ou.transform(n))+")"},bn={test:t=>mo.test(t)||_g.test(t)||bl.test(t),parse:t=>mo.test(t)?mo.parse(t):bl.test(t)?bl.parse(t):_g.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?mo.transform(t):bl.transform(t)},_z=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Cz(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(t1))==null?void 0:e.length)||0)+(((r=t.match(_z))==null?void 0:r.length)||0)>0}const e3="number",t3="color",jz="var",Tz="var(",Fw="${}",Ez=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mu(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const c=e.replace(Ez,d=>(bn.test(d)?(n.color.push(i),s.push(t3),r.push(bn.parse(d))):d.startsWith(Tz)?(n.var.push(i),s.push(jz),r.push(d)):(n.number.push(i),s.push(e3),r.push(parseFloat(d))),++i,Fw)).split(Fw);return{values:r,split:c,indexes:n,types:s}}function r3(t){return Mu(t).values}function n3(t){const{split:e,types:r}=Mu(t),n=e.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],s[o]!==void 0){const c=r[o];c===e3?i+=du(s[o]):c===t3?i+=bn.transform(s[o]):i+=s[o]}return i}}const kz=t=>typeof t=="number"?0:t;function Az(t){const e=r3(t);return n3(t)(e.map(kz))}const Ai={test:Cz,parse:r3,createTransformer:n3,getAnimatableNone:Az};function Cp(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Pz({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,o=0;if(!e)s=i=o=r;else{const c=r<.5?r*(1+e):r+e-r*e,d=2*r-c;s=Cp(d,c,t+1/3),i=Cp(d,c,t),o=Cp(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Rh(t,e){return r=>r>0?e:t}const br=(t,e,r)=>t+(e-t)*r,jp=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},Dz=[_g,mo,bl],Rz=t=>Dz.find(e=>e.test(t));function Ow(t){const e=Rz(t);if(!e)return!1;let r=e.parse(t);return e===bl&&(r=Pz(r)),r}const Mw=(t,e)=>{const r=Ow(t),n=Ow(e);if(!r||!n)return Rh(t,e);const s={...r};return i=>(s.red=jp(r.red,n.red,i),s.green=jp(r.green,n.green,i),s.blue=jp(r.blue,n.blue,i),s.alpha=br(r.alpha,n.alpha,i),mo.transform(s))},Cg=new Set(["none","hidden"]);function Fz(t,e){return Cg.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Oz(t,e){return r=>br(t,e,r)}function n1(t){return typeof t=="number"?Oz:typeof t=="string"?e1(t)?Rh:bn.test(t)?Mw:Iz:Array.isArray(t)?s3:typeof t=="object"?bn.test(t)?Mw:Mz:Rh}function s3(t,e){const r=[...t],n=r.length,s=t.map((i,o)=>n1(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function Mz(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=n1(t[s])(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function Lz(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][n[i]],c=t.values[o]??0;r[s]=c,n[i]++}return r}const Iz=(t,e)=>{const r=Ai.createTransformer(e),n=Mu(t),s=Mu(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Cg.has(t)&&!s.values.length||Cg.has(e)&&!n.values.length?Fz(t,e):rd(s3(Lz(n,s),s.values),r):Rh(t,e)};function a3(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?br(t,e,r):n1(t)(t,e)}const Bz=t=>{const e=({timestamp:r})=>t(r);return{start:()=>wr.update(e,!0),stop:()=>ki(e),now:()=>sn.isProcessing?sn.timestamp:Yn.now()}},i3=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let i=0;i<s;i++)n+=t(i/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},Fh=2e4;function s1(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Fh;)e+=r,n=t.next(e);return e>=Fh?1/0:e}function Uz(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(s1(n),Fh);return{type:"keyframes",ease:i=>n.next(s*i).value/e,duration:da(s)}}const zz=5;function o3(t,e,r){const n=Math.max(e-zz,0);return UC(r-t(n),e-n)}const Sr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lw=.001;function Vz({duration:t=Sr.duration,bounce:e=Sr.bounce,velocity:r=Sr.velocity,mass:n=Sr.mass}){let s,i,o=1-e;o=La(Sr.minDamping,Sr.maxDamping,o),t=La(Sr.minDuration,Sr.maxDuration,da(t)),o<1?(s=f=>{const h=f*o,p=h*t,g=h-r,x=jg(f,o),w=Math.exp(-p);return Lw-g/x*w},i=f=>{const p=f*o*t,g=p*r+r,x=Math.pow(o,2)*Math.pow(f,2)*t,w=Math.exp(-p),b=jg(Math.pow(f,2),o);return(-s(f)+Lw>0?-1:1)*((g-x)*w)/b}):(s=f=>{const h=Math.exp(-f*t),p=(f-r)*t+1;return-.001+h*p},i=f=>{const h=Math.exp(-f*t),p=(r-f)*(t*t);return h*p});const c=5/t,d=Wz(s,i,c);if(t=ua(t),isNaN(d))return{stiffness:Sr.stiffness,damping:Sr.damping,duration:t};{const f=Math.pow(d,2)*n;return{stiffness:f,damping:o*2*Math.sqrt(n*f),duration:t}}}const Hz=12;function Wz(t,e,r){let n=r;for(let s=1;s<Hz;s++)n=n-t(n)/e(n);return n}function jg(t,e){return t*Math.sqrt(1-e*e)}const $z=["duration","bounce"],Yz=["stiffness","damping","mass"];function Iw(t,e){return e.some(r=>t[r]!==void 0)}function Kz(t){let e={velocity:Sr.velocity,stiffness:Sr.stiffness,damping:Sr.damping,mass:Sr.mass,isResolvedFromDuration:!1,...t};if(!Iw(t,Yz)&&Iw(t,$z))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*La(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Sr.mass,stiffness:s,damping:i}}else{const r=Vz(t);e={...e,...r,mass:Sr.mass},e.isResolvedFromDuration=!0}return e}function Oh(t=Sr.visualDuration,e=Sr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],c={done:!1,value:i},{stiffness:d,damping:f,mass:h,duration:p,velocity:g,isResolvedFromDuration:x}=Kz({...r,velocity:-da(r.velocity||0)}),w=g||0,b=f/(2*Math.sqrt(d*h)),v=o-i,C=da(Math.sqrt(d/h)),E=Math.abs(v)<5;n||(n=E?Sr.restSpeed.granular:Sr.restSpeed.default),s||(s=E?Sr.restDelta.granular:Sr.restDelta.default);let j;if(b<1){const T=jg(C,b);j=M=>{const _=Math.exp(-b*C*M);return o-_*((w+b*C*v)/T*Math.sin(T*M)+v*Math.cos(T*M))}}else if(b===1)j=T=>o-Math.exp(-C*T)*(v+(w+C*v)*T);else{const T=C*Math.sqrt(b*b-1);j=M=>{const _=Math.exp(-b*C*M),P=Math.min(T*M,300);return o-_*((w+b*C*v)*Math.sinh(P)+T*v*Math.cosh(P))/T}}const D={calculatedDuration:x&&p||null,next:T=>{const M=j(T);if(x)c.done=T>=p;else{let _=T===0?w:0;b<1&&(_=T===0?ua(w):o3(j,T,M));const P=Math.abs(_)<=n,I=Math.abs(o-M)<=s;c.done=P&&I}return c.value=c.done?o:M,c},toString:()=>{const T=Math.min(s1(D),Fh),M=i3(_=>D.next(T*_).value,T,30);return T+"ms "+M},toTransition:()=>{}};return D}Oh.applyToOptions=t=>{const e=Uz(t,100,Oh);return t.ease=e.ease,t.duration=ua(e.duration),t.type="keyframes",t};function Tg({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:c,max:d,restDelta:f=.5,restSpeed:h}){const p=t[0],g={done:!1,value:p},x=P=>c!==void 0&&P<c||d!==void 0&&P>d,w=P=>c===void 0?d:d===void 0||Math.abs(c-P)<Math.abs(d-P)?c:d;let b=r*e;const v=p+b,C=o===void 0?v:o(v);C!==v&&(b=C-p);const E=P=>-b*Math.exp(-P/n),j=P=>C+E(P),D=P=>{const I=E(P),K=j(P);g.done=Math.abs(I)<=f,g.value=g.done?C:K};let T,M;const _=P=>{x(g.value)&&(T=P,M=Oh({keyframes:[g.value,w(g.value)],velocity:o3(j,P,g.value),damping:s,stiffness:i,restDelta:f,restSpeed:h}))};return _(0),{calculatedDuration:null,next:P=>{let I=!1;return!M&&T===void 0&&(I=!0,D(P),_(P)),T!==void 0&&P>=T?M.next(P-T):(!I&&D(P),g)}}}function Gz(t,e,r){const n=[],s=r||Ia.mix||a3,i=t.length-1;for(let o=0;o<i;o++){let c=s(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||Ts:e;c=rd(d,c)}n.push(c)}return n}function qz(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(Gx(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=Gz(e,n,s),d=c.length,f=h=>{if(o&&h<t[0])return e[0];let p=0;if(d>1)for(;p<t.length-2&&!(h<t[p+1]);p++);const g=Fu(t[p],t[p+1],h);return c[p](g)};return r?h=>f(La(t[0],t[i-1],h)):f}function Xz(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Fu(0,e,n);t.push(br(r,1,s))}}function Jz(t){const e=[0];return Xz(e,t.length-1),e}function Qz(t,e){return t.map(r=>r*e)}function Zz(t,e){return t.map(()=>e||qC).splice(0,t.length-1)}function fu({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=uz(n)?n.map(Pw):Pw(n),i={done:!1,value:e[0]},o=Qz(r&&r.length===e.length?r:Jz(e),t),c=qz(o,e,{ease:Array.isArray(s)?s:Zz(e,s)});return{calculatedDuration:t,next:d=>(i.value=c(d),i.done=d>=t,i)}}const eV=t=>t!==null;function a1(t,{repeat:e,repeatType:r="loop"},n,s=1){const i=t.filter(eV),c=s<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!c||n===void 0?i[c]:n}const tV={decay:Tg,inertia:Tg,tween:fu,keyframes:fu,spring:Oh};function l3(t){typeof t.type=="string"&&(t.type=tV[t.type])}class i1{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const rV=t=>t/100;class c3 extends i1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;if(r&&r.updatedAt!==Yn.now()&&this.tick(Yn.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;l3(e);const{type:r=fu,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:c}=e;const d=r||fu;d!==fu&&typeof c[0]!="number"&&(this.mixKeyframes=rd(rV,a3(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=s1(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=f}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:h,repeat:p,repeatType:g,repeatDelay:x,type:w,onUpdate:b,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const C=this.currentTime-f*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?C<0:C>s;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,D=n;if(p){const P=Math.min(this.currentTime,s)/c;let I=Math.floor(P),K=P%1;!K&&P>=1&&(K=1),K===1&&I--,I=Math.min(I,p+1),!!(I%2)&&(g==="reverse"?(K=1-K,x&&(K-=x/c)):g==="mirror"&&(D=o)),j=La(0,1,K)*c}const T=E?{done:!1,value:h[0]}:D.next(j);i&&(T.value=i(T.value));let{done:M}=T;!E&&d!==null&&(M=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return _&&w!==Tg&&(T.value=a1(h,this.options,v,this.speed)),b&&b(T.value),_&&this.finish(),T}then(e,r){return this.finished.then(e,r)}get duration(){return da(this.calculatedDuration)}get time(){return da(this.currentTime)}set time(e){e=ua(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Yn.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=da(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Bz,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),r&&r();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function nV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const po=t=>t*180/Math.PI,Eg=t=>{const e=po(Math.atan2(t[1],t[0]));return kg(e)},sV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Eg,rotateZ:Eg,skewX:t=>po(Math.atan(t[1])),skewY:t=>po(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},kg=t=>(t=t%360,t<0&&(t+=360),t),Bw=Eg,Uw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),zw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),aV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Uw,scaleY:zw,scale:t=>(Uw(t)+zw(t))/2,rotateX:t=>kg(po(Math.atan2(t[6],t[5]))),rotateY:t=>kg(po(Math.atan2(-t[2],t[0]))),rotateZ:Bw,rotate:Bw,skewX:t=>po(Math.atan(t[4])),skewY:t=>po(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Vw(t){return t.includes("scale")?1:0}function Ag(t,e){if(!t||t==="none")return Vw(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=aV,s=r;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=sV,s=c}if(!s)return Vw(e);const i=n[e],o=s[1].split(",").map(oV);return typeof i=="function"?i(o):o[i]}const iV=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Ag(r,e)};function oV(t){return parseFloat(t.trim())}const Xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jl=new Set(Xl),Hw=t=>t===ql||t===Nt,lV=new Set(["x","y","z"]),cV=Xl.filter(t=>!lV.has(t));function uV(t){const e=[];return cV.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Ll={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ag(e,"x"),y:(t,{transform:e})=>Ag(e,"y")};Ll.translateX=Ll.x;Ll.translateY=Ll.y;const wo=new Set;let Pg=!1,Dg=!1,Rg=!1;function u3(){if(Dg){const t=Array.from(wo).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=uV(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var c;(c=n.getValue(i))==null||c.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Dg=!1,Pg=!1,wo.forEach(t=>t.complete(Rg)),wo.clear()}function d3(){wo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dg=!0)})}function dV(){Rg=!0,d3(),u3(),Rg=!1}class o1{constructor(e,r,n,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(wo.add(this),Pg||(Pg=!0,wr.read(d3),wr.resolveKeyframes(u3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const c=n.readValue(r,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}nV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),wo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,wo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const fV=t=>t.startsWith("--");function hV(t,e,r){fV(e)?t.style.setProperty(e,r):t.style[e]=r}const mV=qx(()=>window.ScrollTimeline!==void 0),pV={};function gV(t,e){const r=qx(t);return()=>pV[e]??r()}const f3=gV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xc=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,Ww={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xc([0,.65,.55,1]),circOut:Xc([.55,0,1,.45]),backIn:Xc([.31,.01,.66,-.59]),backOut:Xc([.33,1.53,.69,.99])};function h3(t,e){if(t)return typeof t=="function"?f3()?i3(t,e):"ease-out":XC(t)?Xc(t):Array.isArray(t)?t.map(r=>h3(r,e)||Ww.easeOut):Ww[t]}function xV(t,e,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:c="easeOut",times:d}={},f=void 0){const h={[e]:r};d&&(h.offset=d);const p=h3(c,s);Array.isArray(p)&&(h.easing=p);const g={delay:n,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(h,g)}function m3(t){return typeof t=="function"&&"applyToOptions"in t}function yV({type:t,...e}){return m3(t)&&f3()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class vV extends i1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Gx(typeof e.type!="string");const f=yV(e);this.animation=xV(r,n,s,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=a1(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(h):hV(r,n,h),this.animation.cancel()}d==null||d(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return da(Number(e))}get time(){return da(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ua(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&mV()?(this.animation.timeline=e,Ts):r(this)}}const p3={anticipate:YC,backInOut:$C,circInOut:GC};function bV(t){return t in p3}function wV(t){typeof t.ease=="string"&&bV(t.ease)&&(t.ease=p3[t.ease])}const $w=10;class NV extends vV{constructor(e){wV(e),l3(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const c=new c3({...o,autoplay:!1}),d=ua(this.finishedTime??this.time);r.setWithVelocity(c.sample(d-$w).value,c.sample(d).value,$w),c.stop()}}const Yw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ai.test(t)||t==="0")&&!t.startsWith("url("));function SV(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function _V(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Yw(s,e),c=Yw(i,e);return!o||!c?!1:SV(t)||(r==="spring"||m3(r))&&n}const CV=new Set(["opacity","clipPath","filter","transform"]),jV=qx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function TV(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return jV()&&r&&CV.has(r)&&(r!=="transform"||!d)&&!c&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const EV=40;class kV extends i1{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:c,name:d,motionValue:f,element:h,...p}){var w;super(),this.stop=()=>{var b,v;this._animation?(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)):(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Yn.now();const g={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:d,motionValue:f,element:h,...p},x=(h==null?void 0:h.KeyframeResolver)||o1;this.keyframeResolver=new x(c,(b,v,C)=>this.onKeyframesResolved(b,v,g,!C),d,f,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:c,delay:d,isHandoff:f,onUpdate:h}=n;this.resolvedAt=Yn.now(),_V(e,i,o,c)||((Ia.instantAnimations||!d)&&(h==null||h(a1(e,n,r))),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>EV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},x=!f&&TV(g)?new NV({...g,element:g.motionValue.owner.current}):new c3(g);x.finished.then(()=>this.notifyFinished()).catch(Ts),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||dV(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const AV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PV(t){const e=AV.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function g3(t,e,r=1){const[n,s]=PV(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return IC(o)?parseFloat(o):o}return e1(s)?g3(s,e,r+1):s}function l1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const x3=new Set(["width","height","top","left","right","bottom",...Xl]),DV={test:t=>t==="auto",parse:t=>t},y3=t=>e=>e.test(t),v3=[ql,Nt,fa,di,Sz,Nz,DV],Kw=t=>v3.find(y3(t));function RV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||BC(t):!0}const FV=new Set(["brightness","contrast","saturate","opacity"]);function OV(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(t1)||[];if(!n)return t;const s=r.replace(n,"");let i=FV.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const MV=/\b([a-z-]*)\(.*?\)/gu,Fg={...Ai,getAnimatableNone:t=>{const e=t.match(MV);return e?e.map(OV).join(" "):t}},Gw={...ql,transform:Math.round},LV={rotate:di,rotateX:di,rotateY:di,rotateZ:di,scale:Ff,scaleX:Ff,scaleY:Ff,scaleZ:Ff,skew:di,skewX:di,skewY:di,distance:Nt,translateX:Nt,translateY:Nt,translateZ:Nt,x:Nt,y:Nt,z:Nt,perspective:Nt,transformPerspective:Nt,opacity:Ou,originX:Rw,originY:Rw,originZ:Nt},c1={borderWidth:Nt,borderTopWidth:Nt,borderRightWidth:Nt,borderBottomWidth:Nt,borderLeftWidth:Nt,borderRadius:Nt,radius:Nt,borderTopLeftRadius:Nt,borderTopRightRadius:Nt,borderBottomRightRadius:Nt,borderBottomLeftRadius:Nt,width:Nt,maxWidth:Nt,height:Nt,maxHeight:Nt,top:Nt,right:Nt,bottom:Nt,left:Nt,padding:Nt,paddingTop:Nt,paddingRight:Nt,paddingBottom:Nt,paddingLeft:Nt,margin:Nt,marginTop:Nt,marginRight:Nt,marginBottom:Nt,marginLeft:Nt,backgroundPositionX:Nt,backgroundPositionY:Nt,...LV,zIndex:Gw,fillOpacity:Ou,strokeOpacity:Ou,numOctaves:Gw},IV={...c1,color:bn,backgroundColor:bn,outlineColor:bn,fill:bn,stroke:bn,borderColor:bn,borderTopColor:bn,borderRightColor:bn,borderBottomColor:bn,borderLeftColor:bn,filter:Fg,WebkitFilter:Fg},b3=t=>IV[t];function w3(t,e){let r=b3(t);return r!==Fg&&(r=Ai),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const BV=new Set(["auto","none","0"]);function UV(t,e,r){let n=0,s;for(;n<t.length&&!s;){const i=t[n];typeof i=="string"&&!BV.has(i)&&Mu(i).values.length&&(s=t[n]),n++}if(s&&r)for(const i of e)t[i]=w3(r,s)}class zV extends o1{constructor(e,r,n,s,i){super(e,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),e1(f))){const h=g3(f,r.current);h!==void 0&&(e[d]=h),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!x3.has(n)||e.length!==2)return;const[s,i]=e,o=Kw(s),c=Kw(i);if(o!==c)if(Hw(o)&&Hw(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||RV(e[s]))&&n.push(s);n.length&&UV(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ll[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Ll[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function VV(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=(r==null?void 0:r[t])??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const{schedule:u1}=JC(queueMicrotask,!1),Ws={x:!1,y:!1};function N3(){return Ws.x||Ws.y}function HV(t){return t==="x"||t==="y"?Ws[t]?null:(Ws[t]=!0,()=>{Ws[t]=!1}):Ws.x||Ws.y?null:(Ws.x=Ws.y=!0,()=>{Ws.x=Ws.y=!1})}function S3(t,e){const r=VV(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function qw(t){return!(t.pointerType==="touch"||N3())}function WV(t,e,r={}){const[n,s,i]=S3(t,r),o=c=>{if(!qw(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const h=p=>{qw(p)&&(f(p),d.removeEventListener("pointerleave",h))};d.addEventListener("pointerleave",h,s)};return n.forEach(c=>{c.addEventListener("pointerenter",o,s)}),i}const _3=(t,e)=>e?t===e?!0:_3(t,e.parentElement):!1,d1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,$V=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YV(t){return $V.has(t.tagName)||t.tabIndex!==-1}const Jc=new WeakSet;function Xw(t){return e=>{e.key==="Enter"&&t(e)}}function Tp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const KV=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=Xw(()=>{if(Jc.has(r))return;Tp(r,"down");const s=Xw(()=>{Tp(r,"up")}),i=()=>Tp(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function Jw(t){return d1(t)&&!N3()}function GV(t,e,r={}){const[n,s,i]=S3(t,r),o=c=>{const d=c.currentTarget;if(!Jw(c)||Jc.has(d))return;Jc.add(d);const f=e(d,c),h=(x,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),!(!Jw(x)||!Jc.has(d))&&(Jc.delete(d),typeof f=="function"&&f(x,{success:w}))},p=x=>{h(x,d===window||d===document||r.useGlobalTarget||_3(d,x.target))},g=x=>{h(x,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",g,s)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",o,s),c instanceof HTMLElement&&(c.addEventListener("focus",f=>KV(f,s)),!YV(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}const Qw=30,qV=t=>!isNaN(parseFloat(t));class XV{constructor(e,r={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{var o,c;const i=Yn.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current)),s&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Xx);const n=this.events[e].add(r);return e==="change"?()=>{n(),wr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Qw)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Qw);return UC(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lu(t,e){return new XV(t,e)}const JV=[...v3,bn,Ai],QV=t=>JV.find(y3(t)),C3=(t,e)=>e&&typeof t=="number"?e.transform(t):t,j3=A.createContext({strict:!1}),Zw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Il={};for(const t in Zw)Il[t]={isEnabled:e=>Zw[t].some(r=>!!e[r])};function ZV(t){for(const e in t)Il[e]={...Il[e],...t[e]}}const eH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||eH.has(t)}let T3=t=>!Mh(t);function tH(t){t&&(T3=e=>e.startsWith("on")?!Mh(e):t(e))}try{tH(require("@emotion/is-prop-valid").default)}catch{}function rH(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(T3(s)||r===!0&&Mh(s)||!e&&!Mh(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function nH(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const d0=A.createContext({});function f0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Iu(t){return typeof t=="string"||Array.isArray(t)}const f1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],h1=["initial",...f1];function h0(t){return f0(t.animate)||h1.some(e=>Iu(t[e]))}function E3(t){return!!(h0(t)||t.variants)}function sH(t,e){if(h0(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Iu(r)?r:void 0,animate:Iu(n)?n:void 0}}return t.inherit!==!1?e:{}}function aH(t){const{initial:e,animate:r}=sH(t,A.useContext(d0));return A.useMemo(()=>({initial:e,animate:r}),[e4(e),e4(r)])}function e4(t){return Array.isArray(t)?t.join(" "):t}const iH=Symbol.for("motionComponentSymbol");function wl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function oH(t,e,r){return A.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):wl(r)&&(r.current=n))},[e])}const m1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lH="framerAppearId",k3="data-"+m1(lH),A3=A.createContext({});function cH(t,e,r,n,s){var b,v;const{visualElement:i}=A.useContext(d0),o=A.useContext(j3),c=A.useContext($x),d=A.useContext(LC).reducedMotion,f=A.useRef(null);n=n||o.renderer,!f.current&&n&&(f.current=n(t,{visualState:e,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=A.useContext(A3);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&uH(f.current,r,s,p);const g=A.useRef(!1);A.useInsertionEffect(()=>{h&&g.current&&h.update(r,c)});const x=r[k3],w=A.useRef(!!x&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,x))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,x)));return rz(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),u1.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),A.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,x)}),w.current=!1))}),h}function uH(t,e,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:h}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:P3(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||c&&wl(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:d,layoutRoot:f})}function P3(t){if(t)return t.options.allowProjection!==!1?t.projection:P3(t.parent)}function dH({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){t&&ZV(t);function i(c,d){let f;const h={...A.useContext(LC),...c,layoutId:fH(c)},{isStatic:p}=h,g=aH(c),x=n(c,p);if(!p&&Wx){hH();const w=mH(h);f=w.MeasureLayout,g.visualElement=cH(s,x,h,e,w.ProjectionNode)}return a.jsxs(d0.Provider,{value:g,children:[f&&g.visualElement?a.jsx(f,{visualElement:g.visualElement,...h}):null,r(s,c,oH(x,g.visualElement,d),x,p,g.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=A.forwardRef(i);return o[iH]=s,o}function fH({layoutId:t}){const e=A.useContext(MC).id;return e&&t!==void 0?e+"-"+t:t}function hH(t,e){A.useContext(j3).strict}function mH(t){const{drag:e,layout:r}=Il;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Bu={};function pH(t){for(const e in t)Bu[e]=t[e],Zx(e)&&(Bu[e].isCSSVariable=!0)}function D3(t,{layout:e,layoutId:r}){return Jl.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Bu[t]||t==="opacity")}const Sn=t=>!!(t&&t.getVelocity),gH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xH=Xl.length;function yH(t,e,r){let n="",s=!0;for(let i=0;i<xH;i++){const o=Xl[i],c=t[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||r){const f=C3(c,c1[o]);if(!d){s=!1;const h=gH[o]||o;n+=`${h}(${f}) `}r&&(e[o]=f)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function p1(t,e,r){const{style:n,vars:s,transformOrigin:i}=t;let o=!1,c=!1;for(const d in e){const f=e[d];if(Jl.has(d)){o=!0;continue}else if(Zx(d)){s[d]=f;continue}else{const h=C3(f,c1[d]);d.startsWith("origin")?(c=!0,i[d]=h):n[d]=h}}if(e.transform||(o||r?n.transform=yH(e,t.transform,r):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:h=0}=i;n.transformOrigin=`${d} ${f} ${h}`}}const g1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function R3(t,e,r){for(const n in e)!Sn(e[n])&&!D3(n,r)&&(t[n]=e[n])}function vH({transformTemplate:t},e){return A.useMemo(()=>{const r=g1();return p1(r,e,t),Object.assign({},r.vars,r.style)},[e])}function bH(t,e){const r=t.style||{},n={};return R3(n,r,t),Object.assign(n,vH(t,e)),n}function wH(t,e){const r={},n=bH(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const NH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function x1(t){return typeof t!="string"||t.includes("-")?!1:!!(NH.indexOf(t)>-1||/[A-Z]/u.test(t))}const SH={offset:"stroke-dashoffset",array:"stroke-dasharray"},_H={offset:"strokeDashoffset",array:"strokeDasharray"};function CH(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?SH:_H;t[i.offset]=Nt.transform(-n);const o=Nt.transform(e),c=Nt.transform(r);t[i.array]=`${o} ${c}`}function F3(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...c},d,f){if(p1(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p}=t;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox="fill-box",delete h.transformBox),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),s!==void 0&&CH(h,s,i,o,!1)}const O3=()=>({...g1(),attrs:{}}),M3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function jH(t,e,r,n){const s=A.useMemo(()=>{const i=O3();return F3(i,e,M3(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};R3(i,t.style,t),s.style={...i,...s.style}}return s}function TH(t=!1){return(r,n,s,{latestValues:i},o)=>{const d=(x1(r)?jH:wH)(n,i,o,r),f=rH(n,typeof r=="string",t),h=r!==A.Fragment?{...f,...d,ref:s}:{},{children:p}=n,g=A.useMemo(()=>Sn(p)?p.get():p,[p]);return A.createElement(r,{...h,children:g})}}function t4(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function y1(t,e,r,n){if(typeof e=="function"){const[s,i]=t4(n);e=e(r!==void 0?r:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=t4(n);e=e(r!==void 0?r:t.custom,s,i)}return e}function Zf(t){return Sn(t)?t.get():t}function EH({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:kH(r,n,s,t),renderState:e()}}const L3=t=>(e,r)=>{const n=A.useContext(d0),s=A.useContext($x),i=()=>EH(t,e,n,s);return r?i():tz(i)};function kH(t,e,r,n){const s={},i=n(t,{});for(const g in i)s[g]=Zf(i[g]);let{initial:o,animate:c}=t;const d=h0(t),f=E3(t);e&&f&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const p=h?c:o;if(p&&typeof p!="boolean"&&!f0(p)){const g=Array.isArray(p)?p:[p];for(let x=0;x<g.length;x++){const w=y1(t,g[x]);if(w){const{transitionEnd:b,transition:v,...C}=w;for(const E in C){let j=C[E];if(Array.isArray(j)){const D=h?j.length-1:0;j=j[D]}j!==null&&(s[E]=j)}for(const E in b)s[E]=b[E]}}}return s}function v1(t,e,r){var i;const{style:n}=t,s={};for(const o in n)(Sn(n[o])||e.style&&Sn(e.style[o])||D3(o,t)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const AH={useVisualState:L3({scrapeMotionValuesFromProps:v1,createRenderState:g1})};function I3(t,e,r){const n=v1(t,e,r);for(const s in t)if(Sn(t[s])||Sn(e[s])){const i=Xl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}const PH={useVisualState:L3({scrapeMotionValuesFromProps:I3,createRenderState:O3})};function DH(t,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...x1(n)?PH:AH,preloadedFeatures:t,useRender:TH(s),createVisualElement:e,Component:n};return dH(o)}}function Uu(t,e,r){const n=t.getProps();return y1(n,e,r!==void 0?r:n.custom,t)}const Og=t=>Array.isArray(t);function RH(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Lu(r))}function FH(t){return Og(t)?t[t.length-1]||0:t}function OH(t,e){const r=Uu(t,e);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const c=FH(i[o]);RH(t,o,c)}}function MH(t){return!!(Sn(t)&&t.add)}function Mg(t,e){const r=t.getValue("willChange");if(MH(r))return r.add(e);if(!r&&Ia.WillChange){const n=new Ia.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function B3(t){return t.props[k3]}const LH=t=>t!==null;function IH(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(LH),i=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[i]}const BH={type:"spring",stiffness:500,damping:25,restSpeed:10},UH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),zH={type:"keyframes",duration:.8},VH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HH=(t,{keyframes:e})=>e.length>2?zH:Jl.has(t)?t.startsWith("scale")?UH(e[1]):BH:VH;function WH({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:c,from:d,elapsed:f,...h}){return!!Object.keys(h).length}const b1=(t,e,r,n={},s,i)=>o=>{const c=l1(n,t)||{},d=c.delay||n.delay||0;let{elapsed:f=0}=n;f=f-ua(d);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:i?void 0:s};WH(c)||Object.assign(h,HH(t,h)),h.duration&&(h.duration=ua(h.duration)),h.repeatDelay&&(h.repeatDelay=ua(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),(Ia.instantAnimations||Ia.skipAnimations)&&(p=!0,h.duration=0,h.delay=0),h.allowFlatten=!c.type&&!c.ease,p&&!i&&e.get()!==void 0){const g=IH(h.keyframes,c);if(g!==void 0){wr.update(()=>{h.onUpdate(g),h.onComplete()});return}}return new kV(h)};function $H({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function U3(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(i=n);const d=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const h in c){const p=t.getValue(h,t.latestValues[h]??null),g=c[h];if(g===void 0||f&&$H(f,h))continue;const x={delay:r,...l1(i||{},h)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===w&&!x.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const C=B3(t);if(C){const E=window.MotionHandoffAnimation(C,h,wr);E!==null&&(x.startTime=E,b=!0)}}Mg(t,h),p.start(b1(h,p,g,t.shouldReduceMotion&&x3.has(h)?{type:!1}:x,t,b));const v=p.animation;v&&d.push(v)}return o&&Promise.all(d).then(()=>{wr.update(()=>{o&&OH(t,o)})}),d}function Lg(t,e,r={}){var d;const n=Uu(t,e,r.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(U3(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=s;return YH(t,e,h+f,p,g,r)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,h]=c==="beforeChildren"?[i,o]:[o,i];return f().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function YH(t,e,r=0,n=0,s=1,i){const o=[],c=(t.variantChildren.size-1)*n,d=s===1?(f=0)=>f*n:(f=0)=>c-f*n;return Array.from(t.variantChildren).sort(KH).forEach((f,h)=>{f.notify("AnimationStart",e),o.push(Lg(f,e,{...i,delay:r+d(h)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(o)}function KH(t,e){return t.sortNodePosition(e)}function GH(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>Lg(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=Lg(t,e,r);else{const s=typeof e=="function"?Uu(t,e,r.custom):e;n=Promise.all(U3(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function z3(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const qH=h1.length;function V3(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?V3(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<qH;r++){const n=h1[r],s=t.props[n];(Iu(s)||s===!1)&&(e[n]=s)}return e}const XH=[...f1].reverse(),JH=f1.length;function QH(t){return e=>Promise.all(e.map(({animation:r,options:n})=>GH(t,r,n)))}function ZH(t){let e=QH(t),r=r4(),n=!0;const s=d=>(f,h)=>{var g;const p=Uu(t,h,d==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:x,transitionEnd:w,...b}=p;f={...f,...b,...w}}return f};function i(d){e=d(t)}function o(d){const{props:f}=t,h=V3(t.parent)||{},p=[],g=new Set;let x={},w=1/0;for(let v=0;v<JH;v++){const C=XH[v],E=r[C],j=f[C]!==void 0?f[C]:h[C],D=Iu(j),T=C===d?E.isActive:null;T===!1&&(w=v);let M=j===h[C]&&j!==f[C]&&D;if(M&&n&&t.manuallyAnimateOnMount&&(M=!1),E.protectedKeys={...x},!E.isActive&&T===null||!j&&!E.prevProp||f0(j)||typeof j=="boolean")continue;const _=eW(E.prevProp,j);let P=_||C===d&&E.isActive&&!M&&D||v>w&&D,I=!1;const K=Array.isArray(j)?j:[j];let q=K.reduce(s(C),{});T===!1&&(q={});const{prevResolvedValues:H={}}=E,oe={...H,...q},Q=ne=>{P=!0,g.has(ne)&&(I=!0,g.delete(ne)),E.needsAnimating[ne]=!0;const X=t.getValue(ne);X&&(X.liveStyle=!1)};for(const ne in oe){const X=q[ne],Z=H[ne];if(x.hasOwnProperty(ne))continue;let ae=!1;Og(X)&&Og(Z)?ae=!z3(X,Z):ae=X!==Z,ae?X!=null?Q(ne):g.add(ne):X!==void 0&&g.has(ne)?Q(ne):E.protectedKeys[ne]=!0}E.prevProp=j,E.prevResolvedValues=q,E.isActive&&(x={...x,...q}),n&&t.blockInitialAnimation&&(P=!1),P&&(!(M&&_)||I)&&p.push(...K.map(ne=>({animation:ne,options:{type:C}})))}if(g.size){const v={};if(typeof f.initial!="boolean"){const C=Uu(t,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(v.transition=C.transition)}g.forEach(C=>{const E=t.getBaseTarget(C),j=t.getValue(C);j&&(j.liveStyle=!0),v[C]=E??null}),p.push({animation:v})}let b=!!p.length;return n&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(p):Promise.resolve()}function c(d,f){var p;if(r[d].isActive===f)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(g=>{var x;return(x=g.animationState)==null?void 0:x.setActive(d,f)}),r[d].isActive=f;const h=o(d);for(const g in r)r[g].protectedKeys={};return h}return{animateChanges:o,setActive:c,setAnimateFunction:i,getState:()=>r,reset:()=>{r=r4(),n=!0}}}function eW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!z3(e,t):!1}function so(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function r4(){return{animate:so(!0),whileInView:so(),whileHover:so(),whileTap:so(),whileDrag:so(),whileFocus:so(),exit:so()}}class Mi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tW extends Mi{constructor(e){super(e),e.animationState||(e.animationState=ZH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();f0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let rW=0;class nW extends Mi{constructor(){super(...arguments),this.id=rW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const sW={animation:{Feature:tW},exit:{Feature:nW}};function zu(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function ad(t){return{point:{x:t.pageX,y:t.pageY}}}const aW=t=>e=>d1(e)&&t(e,ad(e));function hu(t,e,r,n){return zu(t,e,aW(r),n)}function H3({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function iW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function oW(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const W3=1e-4,lW=1-W3,cW=1+W3,$3=.01,uW=0-$3,dW=0+$3;function Fn(t){return t.max-t.min}function fW(t,e,r){return Math.abs(t-e)<=r}function n4(t,e,r,n=.5){t.origin=n,t.originPoint=br(e.min,e.max,t.origin),t.scale=Fn(r)/Fn(e),t.translate=br(r.min,r.max,t.origin)-t.originPoint,(t.scale>=lW&&t.scale<=cW||isNaN(t.scale))&&(t.scale=1),(t.translate>=uW&&t.translate<=dW||isNaN(t.translate))&&(t.translate=0)}function mu(t,e,r,n){n4(t.x,e.x,r.x,n?n.originX:void 0),n4(t.y,e.y,r.y,n?n.originY:void 0)}function s4(t,e,r){t.min=r.min+e.min,t.max=t.min+Fn(e)}function hW(t,e,r){s4(t.x,e.x,r.x),s4(t.y,e.y,r.y)}function a4(t,e,r){t.min=e.min-r.min,t.max=t.min+Fn(e)}function pu(t,e,r){a4(t.x,e.x,r.x),a4(t.y,e.y,r.y)}const i4=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nl=()=>({x:i4(),y:i4()}),o4=()=>({min:0,max:0}),Tr=()=>({x:o4(),y:o4()});function Ss(t){return[t("x"),t("y")]}function Ep(t){return t===void 0||t===1}function Ig({scale:t,scaleX:e,scaleY:r}){return!Ep(t)||!Ep(e)||!Ep(r)}function oo(t){return Ig(t)||Y3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Y3(t){return l4(t.x)||l4(t.y)}function l4(t){return t&&t!=="0%"}function Lh(t,e,r){const n=t-r,s=e*n;return r+s}function c4(t,e,r,n,s){return s!==void 0&&(t=Lh(t,s,n)),Lh(t,r,n)+e}function Bg(t,e=0,r=1,n,s){t.min=c4(t.min,e,r,n,s),t.max=c4(t.max,e,r,n,s)}function K3(t,{x:e,y:r}){Bg(t.x,e.translate,e.scale,e.originPoint),Bg(t.y,r.translate,r.scale,r.originPoint)}const u4=.999999999999,d4=1.0000000000001;function mW(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,o;for(let c=0;c<s;c++){i=r[c],o=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&_l(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,K3(t,o)),n&&oo(i.latestValues)&&_l(t,i.latestValues))}e.x<d4&&e.x>u4&&(e.x=1),e.y<d4&&e.y>u4&&(e.y=1)}function Sl(t,e){t.min=t.min+e,t.max=t.max+e}function f4(t,e,r,n,s=.5){const i=br(t.min,t.max,s);Bg(t,e,r,i,n)}function _l(t,e){f4(t.x,e.x,e.scaleX,e.scale,e.originX),f4(t.y,e.y,e.scaleY,e.scale,e.originY)}function G3(t,e){return H3(oW(t.getBoundingClientRect(),e))}function pW(t,e,r){const n=G3(t,r),{scroll:s}=e;return s&&(Sl(n.x,s.offset.x),Sl(n.y,s.offset.y)),n}const q3=({current:t})=>t?t.ownerDocument.defaultView:null,h4=(t,e)=>Math.abs(t-e);function gW(t,e){const r=h4(t.x,e.x),n=h4(t.y,e.y);return Math.sqrt(r**2+n**2)}class X3{constructor(e,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Ap(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=gW(p.offset,{x:0,y:0})>=3;if(!g&&!x)return;const{point:w}=p,{timestamp:b}=sn;this.history.push({...w,timestamp:b});const{onStart:v,onMove:C}=this.handlers;g||(v&&v(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=kp(g,this.transformPagePoint),wr.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Ap(p.type==="pointercancel"?this.lastMoveEventInfo:kp(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,v),w&&w(p,v)},!d1(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=ad(e),c=kp(o,this.transformPagePoint),{point:d}=c,{timestamp:f}=sn;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=r;h&&h(e,Ap(c,this.history)),this.removeListeners=rd(hu(this.contextWindow,"pointermove",this.handlePointerMove),hu(this.contextWindow,"pointerup",this.handlePointerUp),hu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ki(this.updatePoint)}}function kp(t,e){return e?{point:e(t.point)}:t}function m4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ap({point:t},e){return{point:t,delta:m4(t,J3(e)),offset:m4(t,xW(e)),velocity:yW(e,.1)}}function xW(t){return t[0]}function J3(t){return t[t.length-1]}function yW(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=J3(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>ua(e)));)r--;if(!n)return{x:0,y:0};const i=da(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vW(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?br(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?br(r,t,n.max):Math.min(t,r)),t}function p4(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function bW(t,{top:e,left:r,bottom:n,right:s}){return{x:p4(t.x,r,s),y:p4(t.y,e,n)}}function g4(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function wW(t,e){return{x:g4(t.x,e.x),y:g4(t.y,e.y)}}function NW(t,e){let r=.5;const n=Fn(t),s=Fn(e);return s>n?r=Fu(e.min,e.max-n,t.min):n>s&&(r=Fu(t.min,t.max-s,e.min)),La(0,1,r)}function SW(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Ug=.35;function _W(t=Ug){return t===!1?t=0:t===!0&&(t=Ug),{x:x4(t,"left","right"),y:x4(t,"top","bottom")}}function x4(t,e,r){return{min:y4(t,e),max:y4(t,r)}}function y4(t,e){return typeof t=="number"?t:t[e]||0}const CW=new WeakMap;class jW{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ad(h).point)},i=(h,p)=>{const{drag:g,dragPropagation:x,onDragStart:w}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HV(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ss(v=>{let C=this.getAxisMotionValue(v).get()||0;if(fa.test(C)){const{projection:E}=this.visualElement;if(E&&E.layout){const j=E.layout.layoutBox[v];j&&(C=Fn(j)*(parseFloat(C)/100))}}this.originPoint[v]=C}),w&&wr.postRender(()=>w(h,p)),Mg(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(h,p)=>{const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:w,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:v}=p;if(x&&this.currentDirection===null){this.currentDirection=TW(v),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,v),this.updateAxis("y",p.point,v),this.visualElement.render(),b&&b(h,p)},c=(h,p)=>this.stop(h,p),d=()=>Ss(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new X3(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:q3(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&wr.postRender(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!Of(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=vW(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&wl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=bW(n.layoutBox,e):this.constraints=!1,this.elastic=_W(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ss(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=SW(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!wl(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=pW(n,s.root,this.visualElement.getTransformPagePoint());let o=wW(s.layout.layoutBox,i);if(r){const c=r(iW(o));this.hasMutatedConstraints=!!c,c&&(o=H3(c))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=Ss(h=>{if(!Of(h,r,this.currentDirection))return;let p=d&&d[h]||{};o&&(p={min:0,max:0});const g=s?200:1e6,x=s?40:1e7,w={type:"inertia",velocity:n?e[h]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(h,w)});return Promise.all(f).then(c)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Mg(this.visualElement,e),n.start(b1(e,n,0,r,this.visualElement,!1))}stopAnimation(){Ss(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ss(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ss(r=>{const{drag:n}=this.getProps();if(!Of(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:c}=s.layout.layoutBox[r];i.set(e[r]-br(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!wl(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ss(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();s[o]=NW({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ss(o=>{if(!Of(o,e,null))return;const c=this.getAxisMotionValue(o),{min:d,max:f}=this.constraints[o];c.set(br(d,f,s[o]))})}addListeners(){if(!this.visualElement.current)return;CW.set(this.visualElement,this);const e=this.visualElement.current,r=hu(e,"pointerdown",d=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();wl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),wr.read(n);const o=zu(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ss(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=d[h].translate,p.set(p.get()+d[h].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ug,dragMomentum:c=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:c}}}function Of(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function TW(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class EW extends Mi{constructor(e){super(e),this.removeGroupControls=Ts,this.removeListeners=Ts,this.controls=new jW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ts}unmount(){this.removeGroupControls(),this.removeListeners()}}const v4=t=>(e,r)=>{t&&wr.postRender(()=>t(e,r))};class kW extends Mi{constructor(){super(...arguments),this.removePointerDownListener=Ts}onPointerDown(e){this.session=new X3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:q3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:v4(e),onStart:v4(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&wr.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=hu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const eh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function b4(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Uc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Nt.test(t))t=parseFloat(t);else return t;const r=b4(t,e.target.x),n=b4(t,e.target.y);return`${r}% ${n}%`}},AW={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=Ai.parse(t);if(s.length>5)return n;const i=Ai.createTransformer(t),o=typeof s[0]!="number"?1:0,c=r.x.scale*e.x,d=r.y.scale*e.y;s[0+o]/=c,s[1+o]/=d;const f=br(c,d,.5);return typeof s[2+o]=="number"&&(s[2+o]/=f),typeof s[3+o]=="number"&&(s[3+o]/=f),i(s)}};class PW extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;pH(DW),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),eh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||wr.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),u1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Q3(t){const[e,r]=nz(),n=A.useContext(MC);return a.jsx(PW,{...t,layoutGroup:n,switchLayoutGroup:A.useContext(A3),isPresent:e,safeToRemove:r})}const DW={borderRadius:{...Uc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uc,borderTopRightRadius:Uc,borderBottomLeftRadius:Uc,borderBottomRightRadius:Uc,boxShadow:AW};function RW(t,e,r){const n=Sn(t)?t:Lu(t);return n.start(b1("",n,e,r)),n.animation}function FW(t){return t instanceof SVGElement&&t.tagName!=="svg"}const OW=(t,e)=>t.depth-e.depth;class MW{constructor(){this.children=[],this.isDirty=!1}add(e){Yx(this.children,e),this.isDirty=!0}remove(e){Kx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(OW),this.isDirty=!1,this.children.forEach(e)}}function LW(t,e){const r=Yn.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(ki(n),t(i-e))};return wr.setup(n,!0),()=>ki(n)}const Z3=["TopLeft","TopRight","BottomLeft","BottomRight"],IW=Z3.length,w4=t=>typeof t=="string"?parseFloat(t):t,N4=t=>typeof t=="number"||Nt.test(t);function BW(t,e,r,n,s,i){s?(t.opacity=br(0,r.opacity??1,UW(n)),t.opacityExit=br(e.opacity??1,0,zW(n))):i&&(t.opacity=br(e.opacity??1,r.opacity??1,n));for(let o=0;o<IW;o++){const c=`border${Z3[o]}Radius`;let d=S4(e,c),f=S4(r,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||N4(d)===N4(f)?(t[c]=Math.max(br(w4(d),w4(f),n),0),(fa.test(f)||fa.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||r.rotate)&&(t.rotate=br(e.rotate||0,r.rotate||0,n))}function S4(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const UW=ej(0,.5,KC),zW=ej(.5,.95,Ts);function ej(t,e,r){return n=>n<t?0:n>e?1:r(Fu(t,e,n))}function _4(t,e){t.min=e.min,t.max=e.max}function ws(t,e){_4(t.x,e.x),_4(t.y,e.y)}function C4(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function j4(t,e,r,n,s){return t-=e,t=Lh(t,1/r,n),s!==void 0&&(t=Lh(t,1/s,n)),t}function VW(t,e=0,r=1,n=.5,s,i=t,o=t){if(fa.test(e)&&(e=parseFloat(e),e=br(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=br(i.min,i.max,n);t===i&&(c-=e),t.min=j4(t.min,e,r,c,s),t.max=j4(t.max,e,r,c,s)}function T4(t,e,[r,n,s],i,o){VW(t,e[r],e[n],e[s],e.scale,i,o)}const HW=["x","scaleX","originX"],WW=["y","scaleY","originY"];function E4(t,e,r,n){T4(t.x,e,HW,r?r.x:void 0,n?n.x:void 0),T4(t.y,e,WW,r?r.y:void 0,n?n.y:void 0)}function k4(t){return t.translate===0&&t.scale===1}function tj(t){return k4(t.x)&&k4(t.y)}function A4(t,e){return t.min===e.min&&t.max===e.max}function $W(t,e){return A4(t.x,e.x)&&A4(t.y,e.y)}function P4(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rj(t,e){return P4(t.x,e.x)&&P4(t.y,e.y)}function D4(t){return Fn(t.x)/Fn(t.y)}function R4(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class YW{constructor(){this.members=[]}add(e){Yx(this.members,e),e.scheduleRender()}remove(e){if(Kx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function KW(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:f,rotate:h,rotateX:p,rotateY:g,skewX:x,skewY:w}=r;f&&(n=`perspective(${f}px) ${n}`),h&&(n+=`rotate(${h}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),x&&(n+=`skewX(${x}deg) `),w&&(n+=`skewY(${w}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(n+=`scale(${c}, ${d})`),n||"none"}const Pp=["","X","Y","Z"],GW={visibility:"hidden"},F4=1e3;let qW=0;function Dp(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function nj(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=B3(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",wr,!(s||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&nj(n)}function sj({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},c=e==null?void 0:e()){this.id=qW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QW),this.nodes.forEach(n$),this.nodes.forEach(s$),this.nodes.forEach(ZW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new MW)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Xx),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=FW(o),this.instance=o;const{layoutId:d,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||d)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=LW(g,250),eh.hasAnimatedSinceResize&&(eh.hasAnimatedSinceResize=!1,this.nodes.forEach(M4))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||c$,{onLayoutAnimationStart:v,onLayoutAnimationComplete:C}=h.getProps(),E=!this.targetLayout||!rj(this.targetLayout,w),j=!g&&x;if(this.options.layoutRoot||this.resumeFrom||j||g&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,j);const D={...l1(b,"layout"),onPlay:v,onComplete:C};(h.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else g||M4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(a$),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(O4);return}this.isUpdating||this.nodes.forEach(t$),this.isUpdating=!1,this.nodes.forEach(r$),this.nodes.forEach(XW),this.nodes.forEach(JW),this.clearAllSnapshots();const c=Yn.now();sn.delta=La(0,1e3/60,c-sn.timestamp),sn.timestamp=c,sn.isProcessing=!0,Sp.update.process(sn),Sp.preRender.process(sn),Sp.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,u1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(e$),this.sharedNodes.forEach(i$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fn(this.snapshot.measuredBox.x)&&!Fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!tj(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;o&&(c||oo(this.latestValues)||h)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),u$(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:o}=this.options;if(!o)return Tr();const c=o.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(d$))){const{scroll:h}=this.root;h&&(Sl(c.x,h.offset.x),Sl(c.y,h.offset.y))}return c}removeElementScroll(o){var d;const c=Tr();if(ws(c,o),(d=this.scroll)!=null&&d.wasRoot)return c;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&ws(c,o),Sl(c.x,p.offset.x),Sl(c.y,p.offset.y))}return c}applyTransform(o,c=!1){const d=Tr();ws(d,o);for(let f=0;f<this.path.length;f++){const h=this.path[f];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&_l(d,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),oo(h.latestValues)&&_l(d,h.latestValues)}return oo(this.latestValues)&&_l(d,this.latestValues),d}removeTransform(o){const c=Tr();ws(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!oo(f.latestValues))continue;Ig(f.latestValues)&&f.updateSnapshot();const h=Tr(),p=f.measurePageBox();ws(h,p),E4(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return oo(this.latestValues)&&E4(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tr(),this.relativeTargetOrigin=Tr(),pu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),ws(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tr(),this.targetWithTransforms=Tr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ws(this.target,this.layout.layoutBox),K3(this.target,this.targetDelta)):ws(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tr(),this.relativeTargetOrigin=Tr(),pu(this.relativeTargetOrigin,this.target,x.target),ws(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ig(this.parent.latestValues)||Y3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;ws(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;mW(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Tr());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(C4(this.prevProjectionDelta.x,this.projectionDelta.x),C4(this.prevProjectionDelta.y,this.projectionDelta.y)),mu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!R4(this.projectionDelta.x,this.prevProjectionDelta.x)||!R4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nl(),this.projectionDelta=Nl(),this.projectionDeltaWithTransform=Nl()}setAnimationOrigin(o,c=!1){const d=this.snapshot,f=d?d.latestValues:{},h={...this.latestValues},p=Nl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Tr(),x=d?d.source:void 0,w=this.layout?this.layout.source:void 0,b=x!==w,v=this.getStack(),C=!v||v.members.length<=1,E=!!(b&&!C&&this.options.crossfade===!0&&!this.path.some(l$));this.animationProgress=0;let j;this.mixTargetDelta=D=>{const T=D/1e3;L4(p.x,o.x,T),L4(p.y,o.y,T),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pu(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),o$(this.relativeTarget,this.relativeTargetOrigin,g,T),j&&$W(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Tr()),ws(j,this.relativeTarget)),b&&(this.animationValues=h,BW(h,f,this.latestValues,T,E,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wr.update(()=>{eh.hasAnimatedSinceResize=!0,this.currentAnimation=RW(0,F4,{...o,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(F4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:h}=o;if(!(!c||!d||!f)){if(this!==o&&this.layout&&f&&aj(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Tr();const p=Fn(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+p;const g=Fn(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}ws(c,d),_l(c,h),mu(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new YW),this.sharedNodes.get(o).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&Dp("z",o,f,this.animationValues);for(let h=0;h<Pp.length;h++)Dp(`rotate${Pp[h]}`,o,f,this.animationValues),Dp(`skew${Pp[h]}`,o,f,this.animationValues);o.render();for(const h in f)o.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return GW;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Zf(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Zf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!oo(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=KW(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?c.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in Bu){if(h[x]===void 0)continue;const{correct:w,applyTo:b,isCSSVariable:v}=Bu[x],C=c.transform==="none"?h[x]:w(h[x],f);if(b){const E=b.length;for(let j=0;j<E;j++)c[b[j]]=C}else v?this.options.visualElement.renderState.vars[x]=C:c[x]=C}return this.options.layoutId&&(c.pointerEvents=f===this?Zf(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(O4),this.root.sharedNodes.clear()}}}function XW(t){t.updateLayout()}function JW(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Ss(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],x=Fn(g);g.min=n[p].min,g.max=g.min+x}):aj(i,e.layoutBox,n)&&Ss(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],x=Fn(n[p]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+x)});const c=Nl();mu(c,n,e.layoutBox);const d=Nl();o?mu(d,t.applyTransform(s,!0),e.measuredBox):mu(d,n,e.layoutBox);const f=!tj(c);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:x}=p;if(g&&x){const w=Tr();pu(w,e.layoutBox,g.layoutBox);const b=Tr();pu(b,n,x.layoutBox),rj(w,b)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=w,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function QW(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ZW(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function e$(t){t.clearSnapshot()}function O4(t){t.clearMeasurements()}function t$(t){t.isLayoutDirty=!1}function r$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function M4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function n$(t){t.resolveTargetDelta()}function s$(t){t.calcProjection()}function a$(t){t.resetSkewAndRotation()}function i$(t){t.removeLeadSnapshot()}function L4(t,e,r){t.translate=br(e.translate,0,r),t.scale=br(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function I4(t,e,r,n){t.min=br(e.min,r.min,n),t.max=br(e.max,r.max,n)}function o$(t,e,r,n){I4(t.x,e.x,r.x,n),I4(t.y,e.y,r.y,n)}function l$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const c$={duration:.45,ease:[.4,0,.1,1]},B4=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),U4=B4("applewebkit/")&&!B4("chrome/")?Math.round:Ts;function z4(t){t.min=U4(t.min),t.max=U4(t.max)}function u$(t){z4(t.x),z4(t.y)}function aj(t,e,r){return t==="position"||t==="preserve-aspect"&&!fW(D4(e),D4(r),.2)}function d$(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const f$=sj({attachResizeListener:(t,e)=>zu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rp={current:void 0},ij=sj({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Rp.current){const t=new f$({});t.mount(window),t.setOptions({layoutScroll:!0}),Rp.current=t}return Rp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),h$={pan:{Feature:kW},drag:{Feature:EW,ProjectionNode:ij,MeasureLayout:Q3}};function V4(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&wr.postRender(()=>i(e,ad(e)))}class m$ extends Mi{mount(){const{current:e}=this.node;e&&(this.unmount=WV(e,(r,n)=>(V4(this.node,n,"Start"),s=>V4(this.node,s,"End"))))}unmount(){}}class p$ extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rd(zu(this.node.current,"focus",()=>this.onFocus()),zu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function H4(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&wr.postRender(()=>i(e,ad(e)))}class g$ extends Mi{mount(){const{current:e}=this.node;e&&(this.unmount=GV(e,(r,n)=>(H4(this.node,n,"Start"),(s,{success:i})=>H4(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zg=new WeakMap,Fp=new WeakMap,x$=t=>{const e=zg.get(t.target);e&&e(t)},y$=t=>{t.forEach(x$)};function v$({root:t,...e}){const r=t||document;Fp.has(r)||Fp.set(r,{});const n=Fp.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(y$,{root:t,...e})),n[s]}function b$(t,e,r){const n=v$(e);return zg.set(t,r),n.observe(t),()=>{zg.delete(t),n.unobserve(t)}}const w$={some:0,all:1};class N$ extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:w$[s]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=f?h:p;g&&g(d)};return b$(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(S$(e,r))&&this.startObserver()}unmount(){}}function S$({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const _$={inView:{Feature:N$},tap:{Feature:g$},focus:{Feature:p$},hover:{Feature:m$}},C$={layout:{ProjectionNode:ij,MeasureLayout:Q3}},Vg={current:null},oj={current:!1};function j$(){if(oj.current=!0,!!Wx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vg.current=t.matches;t.addListener(e),e()}else Vg.current=!1}const T$=new WeakMap;function E$(t,e,r){for(const n in e){const s=e[n],i=r[n];if(Sn(s))t.addValue(n,s);else if(Sn(i))t.addValue(n,Lu(s,{owner:t}));else if(i!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,Lu(o!==void 0?o:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const W4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class k${scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=o1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Yn.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,wr.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=h0(r),this.isVariantNode=E3(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in p){const x=p[g];d[g]!==void 0&&Sn(x)&&x.set(d[g],!1)}}mount(e){this.current=e,T$.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),oj.current||j$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),this.projection=void 0,ki(this.notifyUpdate),ki(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Jl.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&wr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Il){const r=Il[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<W4.length;n++){const s=W4[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=E$(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Lu(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(IC(n)||BC(n))?n=parseFloat(n):!QV(n)&&Ai.test(r)&&(n=w3(e,r)),this.setBaseTarget(e,Sn(n)?n.get():n)),Sn(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=y1(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Sn(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Xx),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class lj extends k${constructor(){super(...arguments),this.KeyframeResolver=zV}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function cj(t,{style:e,vars:r},n,s){Object.assign(t.style,e,s&&s.getProjectionStyles(n));for(const i in r)t.style.setProperty(i,r[i])}function A$(t){return window.getComputedStyle(t)}class P$ extends lj{constructor(){super(...arguments),this.type="html",this.renderInstance=cj}readValueFromInstance(e,r){if(Jl.has(r))return iV(e,r);{const n=A$(e),s=(Zx(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return G3(e,r)}build(e,r,n){p1(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return v1(e,r,n)}}const uj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function D$(t,e,r,n){cj(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(uj.has(s)?s:m1(s),e.attrs[s])}class R$ extends lj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Jl.has(r)){const n=b3(r);return n&&n.default||0}return r=uj.has(r)?r:m1(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return I3(e,r,n)}build(e,r,n){F3(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,s){D$(e,r,n,s)}mount(e){this.isSVGTag=M3(e.tagName),super.mount(e)}}const F$=(t,e)=>x1(t)?new R$(e):new P$(e,{allowProjection:t!==A.Fragment}),O$=DH({...sW,..._$,...h$,...C$},F$),hr=nH(O$);function M$(t){return jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"}}]})(t)}function L$(t){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"}}]})(t)}const I$=()=>{const t=Ba(),[e,r]=A.useState(!1),[n,s]=A.useState(!0),[i,o]=A.useState(!1),[c,d]=A.useState(!1),[f,h]=A.useState({email:"",otp:"",newPassword:"",confirmPassword:""}),[p,g]=A.useState(!1),x=ft.useRef([]),w=(H,oe)=>{[...x.current.map(Q=>(Q==null?void 0:Q.value)||"")],H.target.value,H.target.value.length>0&&oe<x.current.length-1&&x.current[oe+1].focus()},b=(H,oe)=>{H.key==="Backspace"&&H.target.value===""&&oe>0&&x.current[oe-1].focus()},v=H=>{H.preventDefault();const Q=H.clipboardData.getData("text").split("");x.current.forEach((O,W)=>{W<Q.length&&O&&(O.value=Q[W])}),x.current[Q.length-1]&&x.current[Q.length-1].focus()},[C,E]=A.useState(!1),[j,D]=A.useState(!1),T=H=>{h({...f,[H.target.name]:H.target.value})},M=async H=>{var oe,Q,O,W;H.preventDefault();try{if(d(!0),!f.email.trim()){r("Email is required"),Oe.error("Email is required"),d(!1);return}const X=(await cr.sendOTP(f.email)).data;X.success?(r(!1),E(!0),s(!1),d(!1),o("OTP sent successfully"),Oe.success("OTP sent successfully to your email!")):(console.log("result",X),Oe.error(X.message||"Failed to send OTP"),r(X.message||"Failed to send OTP"),d(!1))}catch(ne){d(!1),console.error(ne),ne.message==="Network Error"?(Oe.error("Network error. Please check your internet connection or contact support."),r("Network error. Please check your internet connection or contact support.")):(Oe.error(((Q=(oe=ne.response)==null?void 0:oe.data)==null?void 0:Q.message)||"Failed to send OTP. Please try again later."),r(((W=(O=ne.response)==null?void 0:O.data)==null?void 0:W.message)||"Failed to send OTP. Please try again later."))}},_=async H=>{var O,W,ne,X;H.preventDefault();const Q=x.current.map(Z=>(Z==null?void 0:Z.value)||"").join("");if(Q.length!==6){Oe.error("Please enter the complete 6-digit OTP"),r("Please enter the complete 6-digit OTP");return}try{d(!0),console.log("payload.email",f.email),console.log("otp",Q);const ae=(await cr.verifyOTP({otp:Q,email:f.email})).data;ae.success?(r(!1),D(!0),E(!1),d(!1),o("OTP verified successfully. Enter your new password"),Oe.success("OTP verified successfully!")):(o(!1),Oe.error(ae.message||"Invalid OTP"),r(ae.message||"Invalid OTP"),d(!1))}catch(Z){d(!1),console.error(Z),Z.message==="Network Error"?(Oe.error("Network error. Please check your internet connection or contact support."),r("Network error. Please check your internet connection or contact support.")):(Oe.error(((W=(O=Z.response)==null?void 0:O.data)==null?void 0:W.message)||"Failed to verify OTP. Please try again later."),r(((X=(ne=Z.response)==null?void 0:ne.data)==null?void 0:X.message)||"Failed to verify OTP. Please try again later."))}},P=async H=>{var oe,Q,O,W;if(o(!1),H.preventDefault(),f.newPassword!==f.confirmPassword){Oe.error("Passwords do not match"),r("Passwords do not match");return}if(f.newPassword.length<8){Oe.error("Password must be at least 8 characters long"),r("Password must be at least 8 characters long");return}try{d(!0),console.log("newPassword sending to backend is ",f.newPassword);const X=(await cr.resetPassword({email:f.email,newPassword:f.newPassword})).data;X.success?(r(!1),d(!1),Oe.success("Password changed successfully!"),setTimeout(()=>{t("/login")},2e3)):(Oe.error(X.message||"Failed to reset password"),r(X.message||"Failed to reset password"),d(!1))}catch(ne){d(!1),console.error(ne),ne.message==="Network Error"?(Oe.error("Network error. Please check your internet connection or contact support."),r("Network error. Please check your internet connection or contact support.")):(Oe.error(((Q=(oe=ne.response)==null?void 0:oe.data)==null?void 0:Q.message)||"Failed to reset password. Please try again later."),r(((W=(O=ne.response)==null?void 0:O.data)==null?void 0:W.message)||"Failed to reset password. Please try again later."))}},I={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}},exit:{opacity:0,transition:{duration:.5}}},K={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-20,transition:{duration:.3}}},q={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.5}}};return a.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center relative",style:{backgroundImage:`url(${Aw})`},children:[a.jsx(U8,{position:"top-right",autoClose:3e3}),a.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),a.jsx(hr.div,{className:"absolute inset-0 flex justify-center items-center p-4",initial:"hidden",animate:"visible",exit:"exit",variants:I,children:a.jsxs("div",{className:"grid grid-cols-1 md:flex max-w-5xl w-full",children:[a.jsxs(hr.div,{className:"bg-[#152B54] w-full md:w-[40%] p-6 hidden md:flex flex-col justify-center items-center",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:[a.jsx("div",{className:"relative",children:a.jsx("img",{src:Aw,alt:"Traincape Technology",className:"w-[130px] h-[130px] mb-8"})}),a.jsxs(hr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:1},className:"text-white text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Password Recovery"}),a.jsx("p",{className:"mb-6",children:"Recover your account access quickly and securely"}),a.jsx("div",{className:"w-16 h-1 bg-white mx-auto"})]})]}),a.jsxs(hr.div,{className:"bg-white bg-opacity-95 p-8 md:p-12 shadow-xl w-full md:w-[60%] rounded-lg",variants:K,initial:"hidden",animate:"visible",exit:"exit",children:[a.jsx(hr.h1,{className:"text-3xl font-semibold text-center text-[#152B54] mb-6",variants:q,children:"Forgot Password"}),e&&a.jsx(hr.div,{className:"mb-4 p-3 bg-red-100 text-red-800 rounded-md",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:e}),i&&a.jsx(hr.div,{className:"mb-4 p-3 bg-green-100 text-green-800 rounded-md",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:i}),a.jsxs("form",{children:[n&&a.jsxs(hr.div,{variants:K,children:[a.jsxs(hr.div,{className:"mb-6",variants:q,children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:f.email,onChange:T,placeholder:"Enter your email address",className:"w-full px-4 py-3 mt-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] transition-all duration-200"})]}),a.jsx(hr.button,{type:"button",onClick:M,disabled:c,variants:q,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-[#152B54] text-white rounded-lg hover:bg-sky-950 transition duration-200 flex justify-center items-center",children:c?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin mr-2 h-5 w-5 border-t-2 border-b-2 border-white rounded-full"}),a.jsx("span",{children:"Sending..."})]}):"Send Reset OTP"}),a.jsx(hr.div,{className:"mt-4 text-center",variants:q,children:a.jsx("button",{type:"button",onClick:()=>t("/login"),className:"text-[#152B54] hover:underline",children:"Back to Login"})})]}),C&&a.jsxs(hr.div,{className:"mt-4",variants:K,initial:"hidden",animate:"visible",exit:"exit",children:[a.jsx(hr.h2,{className:"text-xl font-semibold text-center text-[#152B54] mb-4",variants:q,children:"Enter Verification Code"}),a.jsx(hr.p,{className:"text-center text-gray-600 mb-6",variants:q,children:"We've sent a 6-digit code to your email"}),a.jsx(hr.div,{onPaste:v,className:"flex justify-between mb-6",variants:q,children:Array(6).fill(0).map((H,oe)=>a.jsx(hr.input,{type:"text",maxLength:"1",required:!0,onChange:Q=>w(Q,oe),onKeyDown:Q=>b(Q,oe),ref:Q=>x.current[oe]=Q,whileFocus:{scale:1.1},className:"w-12 h-12 text-3xl text-center border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] focus:border-[#152B54] transition-all duration-200"},oe))}),a.jsx(hr.button,{type:"button",onClick:_,disabled:c,variants:q,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 mt-2 bg-[#152B54] text-white rounded-lg hover:bg-sky-950 transition duration-200 flex justify-center items-center",children:c?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin mr-2 h-5 w-5 border-t-2 border-b-2 border-white rounded-full"}),a.jsx("span",{children:"Verifying..."})]}):"Verify OTP"}),a.jsx(hr.div,{className:"mt-4 text-center",variants:q,children:a.jsx("button",{type:"button",onClick:M,className:"text-[#152B54] hover:underline",children:"Didn't receive code? Resend"})})]}),j&&a.jsxs(hr.div,{className:"mt-4",variants:K,initial:"hidden",animate:"visible",exit:"exit",children:[a.jsx(hr.h2,{className:"text-xl font-semibold text-center text-[#152B54] mb-4",variants:q,children:"Create New Password"}),a.jsx(hr.p,{className:"text-center text-gray-600 mb-6",variants:q,children:"Your new password must be at least 8 characters"}),a.jsxs(hr.div,{className:"mb-5 relative",variants:q,children:[a.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:p?"text":"password",id:"newPassword",name:"newPassword",value:f.newPassword,onChange:T,required:!0,placeholder:"Enter new password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] transition-all duration-200"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700",onClick:()=>g(!p),children:p?a.jsx(L$,{size:18}):a.jsx(M$,{size:18})})]})]}),a.jsxs(hr.div,{className:"mb-6",variants:q,children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:f.confirmPassword,onChange:T,required:!0,placeholder:"Confirm new password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] transition-all duration-200"})]}),a.jsx(hr.button,{type:"button",onClick:P,disabled:c,variants:q,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-[#152B54] text-white rounded-lg hover:bg-sky-950 transition duration-200 flex justify-center items-center",children:c?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin mr-2 h-5 w-5 border-t-2 border-b-2 border-white rounded-full"}),a.jsx("span",{children:"Resetting Password..."})]}):"Reset Password"})]})]})]})]})})]})},B$=()=>{const[t,e]=A.useState([]),[r,n]=A.useState([]),[s,i]=A.useState(!0),[o,c]=A.useState(null),[d,f]=A.useState([]),[h,p]=A.useState(null),[g,x]=A.useState({}),[w,b]=A.useState(!1),{user:v}=$t(),[C,E]=A.useState(new Date().getMonth()+1),[j,D]=A.useState(new Date().getFullYear()),[T,M]=A.useState(!1),[_,P]=A.useState(!0),I=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],K=new Date().getFullYear(),q=Array.from({length:6},(U,z)=>K-z);A.useEffect(()=>{oe(),ne();const U=setInterval(()=>{console.log("Auto-refreshing sales data..."),oe(!0)},12e4);return()=>{clearInterval(U)}},[]),A.useEffect(()=>{t.length>0&&H()},[t,C,j,T,_]);const H=()=>{if(_){n(t);return}if(T){const U=new Date().getMonth()+1,z=new Date().getFullYear(),k=t.filter(ce=>{if(!ce.date&&!ce.createdAt)return console.log("Sale has no date:",ce),!1;const ee=new Date(ce.date||ce.createdAt),he=ee.getMonth()+1,ye=ee.getFullYear();return he===U&&ye===z});console.log(`Filtered to current month: ${U}/${z}. Found ${k.length} sales.`),n(k)}else{const U=t.filter(z=>{if(!z.date&&!z.createdAt)return console.log("Sale has no date:",z),!1;const k=new Date(z.date||z.createdAt),ce=k.getMonth()+1,ee=k.getFullYear();return console.log(`Sale date: ${k.toISOString()}, Month: ${ce}, Year: ${ee}, Filter: ${C}/${j}`),ce===C&&ee===j});console.log(`Filtered to ${C}/${j}. Found ${U.length} sales.`),n(U)}},oe=async(U=!1)=>{var z;try{U?b(!0):i(!0),c(null),console.log("Fetching lead sales for user:",v==null?void 0:v.fullName,v==null?void 0:v.role,v==null?void 0:v._id);try{const k=await Kr.getAllForced();if(k.data&&k.data.success){const ce=k.data.data.filter(ee=>ee.leadPerson===v._id||ee.leadPerson&&ee.leadPerson._id===v._id);console.log(`Lead sales data loaded: ${ce.length} sales`),e(ce),U?H():n(ce),ce.length===0?(console.log("No sales found. This could be because:"),console.log("1. No sales have been assigned to this lead person"),console.log("2. Sales were created without selecting this lead person")):console.log("Sample sales data:",ce[0]),U&&Oe.info("Sales data refreshed automatically")}else console.error("Failed to load lead sales data:",k.data),c("Failed to load sales data: "+(((z=k.data)==null?void 0:z.message)||"Unknown error"))}catch(k){console.error("API service call failed:",k),c("Failed to load sales data. Please try again.")}}catch(k){console.error("Error loading sales data:",k),k.response&&(console.error("Error details:",k.response.data),console.error("Error status:",k.response.status)),c("Failed to load sales data. Please try again.")}finally{i(!1),b(!1)}},Q=U=>{E(parseInt(U.target.value)),M(!1),P(!1)},O=U=>{D(parseInt(U.target.value)),M(!1),P(!1)},W=()=>{const U=new Date;E(U.getMonth()+1),D(U.getFullYear()),M(!0),P(!1)},ne=async()=>{try{const U=await cr.getUsers("Sales Person");f(U.data.data||[])}catch(U){console.error("Error loading users:",U)}},X=U=>{p(U._id),x({DATE:U.date||new Date().toISOString(),NAME:U.customerName||"",COUNTRY:U.country||"",COURSE:U.course||"",CODE:U.countryCode||"+1",NUMBER:U.contactNumber||"","E-MAIL":U.email||"","PSUDO ID":U.pseudoId||"","SALE PERSON":U.salesPerson&&(U.salesPerson._id||U.salesPerson)||"","LEAD PERSON":U.leadPerson&&(U.leadPerson._id||U.leadPerson)||v.id||"",SOURSE:U.source||"","CLIENT REMARK":U.clientRemark||"",FEEDBACK:U.feedback||"",TOTAL_COST:U.totalCost||0,TOTAL_COST_CURRENCY:U.totalCostCurrency||"USD",TOKEN_AMOUNT:U.tokenAmount||0,TOKEN_AMOUNT_CURRENCY:U.tokenAmountCurrency||"USD"}),console.log("Edit data populated:",U)},Z=U=>{const{name:z,value:k}=U.target;x(ce=>({...ce,[z]:k}))},ae=async()=>{var U;try{console.log("Saving with data:",g);const z={date:g.DATE,customerName:g.NAME,country:g.COUNTRY,course:g.COURSE,countryCode:g.CODE,contactNumber:g.NUMBER,email:g["E-MAIL"],pseudoId:g["PSUDO ID"],salesPerson:g["SALE PERSON"],leadPerson:g["LEAD PERSON"],source:g.SOURSE,clientRemark:g["CLIENT REMARK"],feedback:g.FEEDBACK,totalCost:parseFloat(g.TOTAL_COST)||0,totalCostCurrency:g.TOTAL_COST_CURRENCY,tokenAmount:parseFloat(g.TOKEN_AMOUNT)||0,tokenAmountCurrency:g.TOKEN_AMOUNT_CURRENCY},k=await Kr.update(h,z);k.data&&k.data.success?(console.log("Sale updated successfully:",k.data),console.log("Updated sale data from server:",k.data.data),Oe.success("Sale updated successfully"),e(ee=>ee.map(he=>he._id===h?(console.log("Updating sale in local state:",k.data.data),k.data.data):he)),_||(P(!0),Oe.info("Showing all sales to display your changes. Use filters to narrow down if needed."))):(console.error("Failed to update sale:",k.data),c("Failed to update sale: "+(((U=k.data)==null?void 0:U.message)||"Unknown error"))),p(null),(!k.data||!k.data.success)&&oe()}catch(z){console.error("Error updating sale:",z),c("Failed to update sale. Please try again."),p(null),oe()}},Y=()=>{p(null)},R=()=>{const U=`Lead-Sales-Sheet-${new Date().toISOString().split("T")[0]}.xlsx`,z=r.map(ee=>{var he,ye,ke,Ke;return{DATE:new Date(ee.date).toLocaleDateString(),NAME:ee.customerName,COUNTRY:ee.country,COURSE:ee.course,CODE:ee.countryCode||"",NUMBER:ee.contactNumber,"E-MAIL":ee.email||"","PSUDO ID":ee.pseudoId||"","SALE PERSON":((he=ee.salesPerson)==null?void 0:he.fullName)||"","LEAD PERSON":((ye=ee.leadPerson)==null?void 0:ye.fullName)||"",SOURSE:ee.source||"","CLIENT REMARK":ee.clientRemark||"",FEEDBACK:ee.feedback||"","TOTAL COST":`${((ke=ee.totalCost)==null?void 0:ke.toFixed(2))||"0.00"} ${ee.totalCostCurrency||"USD"}`,"TOKEN AMOUNT":`${((Ke=ee.tokenAmount)==null?void 0:Ke.toFixed(2))||"0.00"} ${ee.tokenAmountCurrency||"USD"}`}}),k=dp.json_to_sheet(z),ce=dp.book_new();dp.book_append_sheet(ce,k,"Lead Sales"),M7(ce,U)};return a.jsx(ur,{children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Lead Sales Sheet"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"This page shows sales where you are the Lead Person. Sales created by Sales Persons who select you as the Lead Person will appear here."})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>oe(!1),disabled:w,className:`px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center ${w?"opacity-70 cursor-not-allowed":""}`,children:w?a.jsxs(a.Fragment,{children:[a.jsx(b2,{className:"mr-2 animate-spin"})," Refreshing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(b2,{className:"mr-2"})," Refresh"]})}),a.jsxs("button",{onClick:R,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 flex items-center",children:[a.jsx(YN,{className:"mr-2"})," Export"]})]})]}),a.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[a.jsx(Qg,{className:"mr-2 text-blue-500"})," Filter Sales by Date"]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-600 mb-1",children:"Month"}),a.jsx("select",{id:"month",value:C,onChange:Q,className:"border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:T,children:I.map(U=>a.jsx("option",{value:U.value,children:U.label},U.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-600 mb-1",children:"Year"}),a.jsx("select",{id:"year",value:j,onChange:O,className:"border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:T,children:q.map(U=>a.jsx("option",{value:U,children:U},U))})]}),a.jsxs("div",{className:"flex items-center ml-4",children:[a.jsx("input",{id:"currentMonth",type:"checkbox",checked:T,onChange:()=>{M(!T),T||P(!1)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"currentMonth",className:"ml-2 block text-sm text-gray-700",children:"Show Current Month Only"})]}),a.jsxs("div",{className:"flex items-center ml-4",children:[a.jsx("input",{id:"showAllSales",type:"checkbox",checked:_,onChange:()=>{P(!_),_||M(!1)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"showAllSales",className:"ml-2 block text-sm text-gray-700 font-semibold text-blue-600",children:"Show All Sales (No Date Filter)"})]}),a.jsxs("button",{onClick:W,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-md ml-auto transition duration-300 flex items-center",children:[a.jsx(WN,{className:"mr-2"})," Reset to Current Month"]})]}),a.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[_?a.jsxs("p",{children:["Showing all sales regardless of date: ",t.length," total records"]}):T?a.jsxs("p",{children:["Showing sales for current month: ",I[new Date().getMonth()].label," ",new Date().getFullYear()]}):a.jsxs("p",{children:["Showing sales for: ",I[C-1].label," ",j]}),a.jsxs("p",{children:["Total: ",r.length," records"]})]})]}),o&&a.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:a.jsx("p",{children:o})}),s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"border px-4 py-2",children:"DATE"}),a.jsx("th",{className:"border px-4 py-2",children:"NAME"}),a.jsx("th",{className:"border px-4 py-2",children:"COURSE"}),a.jsx("th",{className:"border px-4 py-2",children:"NUMBER"}),a.jsx("th",{className:"border px-4 py-2",children:"EMAIL"}),a.jsx("th",{className:"border px-4 py-2",children:"COUNTRY"}),a.jsx("th",{className:"border px-4 py-2",children:"SALES PERSON"}),a.jsx("th",{className:"border px-4 py-2",children:"TOTAL COST"}),a.jsx("th",{className:"border px-4 py-2",children:"TOKEN AMOUNT"}),a.jsx("th",{className:"border px-4 py-2",children:"LEAD PERSON"}),a.jsx("th",{className:"border px-4 py-2",children:"ACTIONS"})]})}),a.jsx("tbody",{children:r.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"11",className:"border px-4 py-2 text-center",children:a.jsxs("div",{className:"py-6",children:[a.jsx("p",{className:"text-gray-600 mb-2",children:"No sales data found for you as a Lead Person."}),a.jsxs("p",{className:"text-sm text-gray-500",children:["When Sales Persons create sales and select you as the Lead Person, they will appear here.",a.jsx("br",{}),"Ask Sales Persons to make sure they select your name in the Lead Person dropdown when creating sales."]})]})})}):r.map(U=>{var z,k,ce;return a.jsx("tr",{className:"hover:bg-gray-50",children:h===U._id?a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"border px-4 py-2",children:a.jsx("input",{type:"date",name:"DATE",value:g.DATE?new Date(g.DATE).toISOString().split("T")[0]:"",onChange:Z,className:"w-full p-1 border"})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsx("input",{type:"text",name:"NAME",value:g.NAME,onChange:Z,className:"w-full p-1 border"})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsx("input",{type:"text",name:"COURSE",value:g.COURSE,onChange:Z,className:"w-full p-1 border"})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsx("input",{type:"text",name:"NUMBER",value:g.NUMBER,onChange:Z,className:"w-full p-1 border"})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsx("input",{type:"text",name:"E-MAIL",value:g["E-MAIL"],onChange:Z,className:"w-full p-1 border"})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsx("input",{type:"text",name:"COUNTRY",value:g.COUNTRY,onChange:Z,className:"w-full p-1 border"})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsxs("select",{name:"SALE PERSON",value:g["SALE PERSON"],onChange:Z,className:"w-full p-1 border",children:[a.jsx("option",{value:"",children:"Select"}),d.map(ee=>a.jsx("option",{value:ee._id,children:ee.fullName},ee._id))]})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("input",{type:"number",name:"TOTAL_COST",value:g.TOTAL_COST,onChange:Z,className:"w-2/3 p-1 border"}),a.jsxs("select",{name:"TOTAL_COST_CURRENCY",value:g.TOTAL_COST_CURRENCY,onChange:Z,className:"w-1/3 p-1 border text-xs",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"CAD",children:"CAD"}),a.jsx("option",{value:"AUD",children:"AUD"}),a.jsx("option",{value:"INR",children:"INR"}),a.jsx("option",{value:"JPY",children:"JPY"}),a.jsx("option",{value:"CNY",children:"CNY"})]})]})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("input",{type:"number",name:"TOKEN_AMOUNT",value:g.TOKEN_AMOUNT,onChange:Z,className:"w-2/3 p-1 border"}),a.jsxs("select",{name:"TOKEN_AMOUNT_CURRENCY",value:g.TOKEN_AMOUNT_CURRENCY,onChange:Z,className:"w-1/3 p-1 border text-xs",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"CAD",children:"CAD"}),a.jsx("option",{value:"AUD",children:"AUD"}),a.jsx("option",{value:"INR",children:"INR"}),a.jsx("option",{value:"JPY",children:"JPY"}),a.jsx("option",{value:"CNY",children:"CNY"})]})]})}),a.jsx("td",{className:"border px-4 py-2",children:(z=U.leadPerson)==null?void 0:z.fullName}),a.jsx("td",{className:"border px-4 py-2",children:a.jsxs("div",{className:"flex justify-center space-x-1",children:[a.jsx("button",{onClick:ae,className:"p-1 bg-green-500 text-white rounded text-sm hover:bg-green-600",children:a.jsx(KN,{})}),a.jsx("button",{onClick:Y,className:"p-1 bg-red-500 text-white rounded text-sm hover:bg-red-600",children:a.jsx(a6,{})})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"border px-4 py-2",children:new Date(U.date).toLocaleDateString()}),a.jsx("td",{className:"border px-4 py-2",children:U.customerName}),a.jsx("td",{className:"border px-4 py-2",children:U.course}),a.jsx("td",{className:"border px-4 py-2",children:U.countryCode&&U.contactNumber?`${U.countryCode} ${U.contactNumber}`:U.contactNumber||"N/A"}),a.jsx("td",{className:"border px-4 py-2",children:U.email||"N/A"}),a.jsx("td",{className:"border px-4 py-2",children:U.country||"N/A"}),a.jsx("td",{className:"border px-4 py-2",children:((k=U.salesPerson)==null?void 0:k.fullName)||(typeof U.salesPerson=="string"?U.salesPerson:"N/A")}),a.jsxs("td",{className:"border px-4 py-2",children:[U.totalCost!==void 0?U.totalCost.toFixed(2):"0.00"," ",U.totalCostCurrency||"USD"]}),a.jsxs("td",{className:"border px-4 py-2",children:[U.tokenAmount!==void 0?U.tokenAmount.toFixed(2):"0.00"," ",U.tokenAmountCurrency||"USD"]}),a.jsx("td",{className:"border px-4 py-2",children:((ce=U.leadPerson)==null?void 0:ce.fullName)||(typeof U.leadPerson=="string"?U.leadPerson:"N/A")}),a.jsx("td",{className:"border px-4 py-2 flex justify-center",children:a.jsx("button",{onClick:()=>X(U),className:"px-2 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600",children:a.jsx($u,{})})})]})},U._id)})})]})})]})})},U$=()=>{const[t,e]=A.useState([]),[r,n]=A.useState(!0),[s,i]=A.useState(null),[o,c]=A.useState([]),[d,f]=A.useState(!1),[h,p]=A.useState(null),[g,x]=A.useState({DATE:new Date().toISOString().split("T")[0],NAME:"",COUNTRY:"",COURSE:"",CODE:"",NUMBER:"","E-MAIL":"","PSUDO ID":"","SALE PERSON":"","LEAD PERSON":"",SOURSE:"","CLIENT REMARK":"",FEEDBACK:"","TOTAL COST":0,"TOTAL COST CURRENCY":"USD","TOKEN AMOUNT":0,"TOKEN AMOUNT CURRENCY":"USD"}),{user:w,loadUser:b}=$t();console.log("User object in LeadSalesUpdatePage initial load:",w),console.log("User ID formats:",w?{id:w.id,_id:w._id,userId:w.userId}:"No user data"),A.useEffect(()=>{w?(console.log("User data available:",w),console.log("User ID variations:",{id:w.id,_id:w._id,userId:w.userId})):(console.log("No user data found, attempting to reload user data"),b())},[]),A.useEffect(()=>{console.log("User information on load:",w),w&&(v(),C())},[w]),A.useEffect(()=>{if(w){const _=w.id||w._id||w.userId;console.log("Setting lead person ID to:",_),_&&x(P=>({...P,"LEAD PERSON":_}))}},[w]);const v=async()=>{try{n(!0),i(null);const _=await Kr.getLeadSheet();e(_.data.data)}catch(_){console.error("Error loading sales data:",_),i("Failed to load sales data. Please try again."),yr.error("Failed to load sales data")}finally{n(!1)}},C=async()=>{try{const _=await cr.getUsers("Sales Person");c(_.data.data||[])}catch(_){console.error("Error loading users:",_),yr.error("Failed to load sales persons")}},E=_=>{const{name:P,value:I}=_.target;x(K=>({...K,[P]:I}))},j=async _=>{var P,I,K,q;_.preventDefault(),n(!0),i(null);try{if(!w)throw console.error("No user object available"),new Error("User information not available. Please log in again.");console.log("Full user object:",w);const H=w.id||w._id||w.userId;if(!H)throw console.error("No user ID found in any format:",w),new Error("User ID not available. Please log in again.");console.log("Using user ID:",H);const oe={date:g.DATE,customerName:g.NAME,country:g.COUNTRY,course:g.COURSE,countryCode:g.CODE,contactNumber:g.NUMBER,email:g["E-MAIL"],pseudoId:g["PSUDO ID"],salesPerson:g["SALE PERSON"],totalCost:parseFloat(g["TOTAL COST"]),totalCostCurrency:g["TOTAL COST CURRENCY"],tokenAmount:parseFloat(g["TOKEN AMOUNT"]),tokenAmountCurrency:g["TOKEN AMOUNT CURRENCY"],leadPerson:H,source:g.SOURSE,clientRemark:g["CLIENT REMARK"],feedback:g.FEEDBACK,isLeadPersonSale:!0};console.log("Sending sale data:",oe);let Q;h?(Q=await Qm.update(h,oe),yr.success("Sale updated successfully")):(Q=await Qm.create(oe),yr.success("Sale created successfully")),Q.data.success&&(x({DATE:new Date().toISOString().split("T")[0],NAME:"",COUNTRY:"",COURSE:"",CODE:"",NUMBER:"","E-MAIL":"","PSUDO ID":"","SALE PERSON":"","LEAD PERSON":H,SOURSE:"","CLIENT REMARK":"",FEEDBACK:"","TOTAL COST":0,"TOTAL COST CURRENCY":"USD","TOKEN AMOUNT":0,"TOKEN AMOUNT CURRENCY":"USD"}),f(!1),p(null),v())}catch(H){console.error("Error with sale:",H),i(((I=(P=H.response)==null?void 0:P.data)==null?void 0:I.message)||"Failed to process sale. Please try again."),yr.error(((q=(K=H.response)==null?void 0:K.data)==null?void 0:q.message)||"Failed to process sale")}finally{n(!1)}},D=async _=>{if(window.confirm("Are you sure you want to delete this sale?"))try{n(!0),await Qm.delete(_),yr.success("Sale deleted successfully"),v()}catch(P){console.error("Error deleting sale:",P),yr.error("Failed to delete sale")}finally{n(!1)}},T=_=>{var P,I;p(_._id),x({DATE:new Date(_.date).toISOString().split("T")[0],NAME:_.customerName||"",COUNTRY:_.country||"",COURSE:_.course||"",CODE:_.countryCode||"",NUMBER:_.contactNumber||"","E-MAIL":_.email||"","PSUDO ID":_.pseudoId||"","SALE PERSON":((P=_.salesPerson)==null?void 0:P._id)||_.salesPerson||"","LEAD PERSON":((I=_.leadPerson)==null?void 0:I._id)||_.leadPerson||"",SOURSE:_.source||"","CLIENT REMARK":_.clientRemark||"",FEEDBACK:_.feedback||"","TOTAL COST":_.totalCost||0,"TOTAL COST CURRENCY":_.totalCostCurrency||"USD","TOKEN AMOUNT":_.tokenAmount||0,"TOKEN AMOUNT CURRENCY":_.tokenAmountCurrency||"USD"}),f(!0),window.scrollTo({top:0,behavior:"smooth"})},M=()=>{p(null),x({DATE:new Date().toISOString().split("T")[0],NAME:"",COUNTRY:"",COURSE:"",CODE:"",NUMBER:"","E-MAIL":"","PSUDO ID":"","SALE PERSON":"","LEAD PERSON":(w==null?void 0:w.id)||(w==null?void 0:w._id)||(w==null?void 0:w.userId)||"",SOURSE:"","CLIENT REMARK":"",FEEDBACK:"","TOTAL COST":0,"TOTAL COST CURRENCY":"USD","TOKEN AMOUNT":0,"TOKEN AMOUNT CURRENCY":"USD"}),f(!1)};return a.jsx(ur,{children:a.jsxs("div",{className:"container mx-auto p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Lead Sales Management"}),a.jsx("button",{onClick:()=>{p(null),f(!d)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:d?"Cancel":a.jsxs(a.Fragment,{children:[a.jsx(Zg,{className:"mr-2"})," Add New Sale"]})})]}),s&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:s}),d&&a.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:h?"Edit Sale":"Add New Sale"}),a.jsxs("form",{onSubmit:j,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("input",{type:"date",name:"DATE",value:g.DATE,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name"}),a.jsx("input",{type:"text",name:"NAME",value:g.NAME,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),a.jsx("input",{type:"text",name:"COUNTRY",value:g.COUNTRY,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),a.jsx("input",{type:"text",name:"COURSE",value:g.COURSE,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country Code"}),a.jsx("input",{type:"text",name:"CODE",value:g.CODE,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),a.jsx("input",{type:"text",name:"NUMBER",value:g.NUMBER,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",name:"E-MAIL",value:g["E-MAIL"],onChange:E,className:"w-full p-2 border border-gray-300 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pseudo ID"}),a.jsx("input",{type:"text",name:"PSUDO ID",value:g["PSUDO ID"],onChange:E,className:"w-full p-2 border border-gray-300 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sales Person"}),a.jsxs("select",{name:"SALE PERSON",value:g["SALE PERSON"],onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"Select Sales Person"}),o.map(_=>a.jsx("option",{value:_._id,children:_.fullName},_._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),a.jsx("input",{type:"text",name:"SOURSE",value:g.SOURSE,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Cost"}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"number",name:"TOTAL COST",value:g["TOTAL COST"],onChange:E,className:"w-2/3 p-2 border border-gray-300 rounded-l-md",required:!0}),a.jsxs("select",{name:"TOTAL COST CURRENCY",value:g["TOTAL COST CURRENCY"],onChange:E,className:"w-1/3 p-2 border border-gray-300 rounded-r-md",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"INR",children:"INR"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Token Amount"}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"number",name:"TOKEN AMOUNT",value:g["TOKEN AMOUNT"],onChange:E,className:"w-2/3 p-2 border border-gray-300 rounded-l-md",required:!0}),a.jsxs("select",{name:"TOKEN AMOUNT CURRENCY",value:g["TOKEN AMOUNT CURRENCY"],onChange:E,className:"w-1/3 p-2 border border-gray-300 rounded-r-md",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"INR",children:"INR"})]})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Remark"}),a.jsx("textarea",{name:"CLIENT REMARK",value:g["CLIENT REMARK"],onChange:E,rows:"2",className:"w-full p-2 border border-gray-300 rounded-md"})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feedback"}),a.jsx("textarea",{name:"FEEDBACK",value:g.FEEDBACK,onChange:E,rows:"2",className:"w-full p-2 border border-gray-300 rounded-md"})]}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:M,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:r?"Processing...":h?"Update Sale":"Add Sale"})]})]})]}),a.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[a.jsx("h2",{className:"text-xl font-semibold p-4 bg-gray-50",children:"Sales List"}),r&&!d?a.jsx("div",{className:"flex justify-center items-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):t.length===0?a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No sales found. Add your first sale above."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Person"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Token"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(_=>{var P;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(_.date).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[a.jsx("div",{children:_.customerName}),a.jsx("div",{className:"text-xs text-gray-500",children:_.country})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.course}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((P=_.salesPerson)==null?void 0:P.fullName)||"N/A"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[_.totalCost," ",_.totalCostCurrency]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[_.tokenAmount," ",_.tokenAmountCurrency]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${_.saleType==="Lead Person Sale"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:_.saleType||(_.isLeadPersonSale?"Lead Person Sale":"Sales Person Sale")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>T(_),className:"text-indigo-600 hover:text-indigo-900",children:a.jsx($u,{className:"h-5 w-5"})}),(!_.saleType||_.saleType==="Lead Person Sale"||_.isLeadPersonSale)&&a.jsx("button",{onClick:()=>D(_._id),className:"text-red-600 hover:text-red-900",children:a.jsx(ex,{className:"h-5 w-5"})})]})})]},_._id)})})]})})]})]})})},z$=()=>{const{user:t}=$t(),[e,r]=A.useState("getting-started"),n={"getting-started":{title:"Getting Started with TrainCape CRM",icon:"",content:[{heading:"Welcome to TrainCape CRM",description:"This tutorial will help you understand the basics of the CRM system and how to get started.",steps:["Log in using your provided credentials","Navigate the dashboard to understand available features","Update your profile information","Explore the main navigation menu for your role-specific features"],image:"dashboard.png",tip:"Your role determines which features you can access. The system has four roles: Admin, Manager, Lead Person, and Sales Person."},{heading:"Understanding Your Dashboard",description:"Your dashboard provides quick access to important information based on your role.",steps:["View recent activities and updates","Access quick shortcuts to common tasks","Check pending tasks and notifications","Use the quick stats cards to monitor performance"],tip:"Customize your experience by updating your profile settings."},{heading:"Setting Up Your Profile",description:"Personalize your account and add a profile picture.",steps:["Navigate to your profile by clicking your name in the top navigation","Upload a profile picture by clicking the camera icon","Use the crop tool to adjust and position your image","Click Apply Crop to confirm your selection","Save your profile changes"],tip:"The new image cropping tool allows you to perfectly position your profile picture before uploading."}]},"lead-management":{title:"Lead Management",icon:"",content:[{heading:"Creating New Leads",description:"Learn how to add new potential customers to the system.",steps:["Navigate to the Leads section from the main menu","Click the 'Add New Lead' button in the top right corner","Fill in all required fields (marked with *)","For optional fields like email, include information when available","Click 'Save Lead' to create the new entry"],tip:"Always include as much information as possible, but email is now optional to accommodate clients who prefer phone contact."},{heading:"Managing Existing Leads",description:"How to update, filter, and organize your lead database.",steps:["Use the search bar to quickly find leads by name, email, or phone","Click on any lead to view detailed information","Use the edit button to update lead information","Add feedback notes to track communication history"],tip:"Regular updates to lead information ensures everyone has the most current data."},{heading:"Month-wise Lead Filtering",description:"The new filtering system allows you to view leads by specific months and years for better organization.",steps:["Navigate to the Leads page to see the filtering controls","Use the Month dropdown to select any month (January through December)","Use the Year dropdown to select the desired year","Click 'Show Current Month' to quickly view leads from the current month","Click 'March 2025 (Imported Leads)' to view previously imported lead data","The system shows a count of leads for each selected time period","Lead assignments are preserved when filtering - assigned leads stay with their sales persons"],tip:"When importing new leads each month, they will be automatically organized by their creation date. This makes it easy to track monthly lead generation and assign new leads to sales persons without affecting previous assignments."},{heading:"Assigning Leads to Sales Persons",description:"Proper lead assignment ensures timely follow-up.",steps:["From the lead details page, click 'Edit'","Use the 'SALE PERSON' dropdown to select the appropriate sales person","Save the changes to notify the sales person of the new assignment"],tip:"Consider workload balance when assigning leads to ensure timely follow-up."},{heading:"Importing Leads from CSV",description:"Bulk import leads from CSV files with automatic Lead Person and Sales Person assignment.",steps:["Navigate to the Admin Import page (Admin/Manager access required)","Select the 'Import Leads' tab","Prepare your CSV file with columns: Name, Email, Phone, Country, Course, Date","Optional columns: Lead Person, Sales Person (for automatic assignment)","For dates, use either YYYY-MM-DD (e.g., 2025-04-15) or DD-MM-YYYY (e.g., 15-04-2025) format","Upload your CSV file and click 'Import Leads'","Review the import summary for successful and failed records"],tip:"Include 'Lead Person' and 'Sales Person' columns in your CSV to automatically assign leads during import. The system will match names and assign leads to the correct people, regardless of who performs the import."}]},"sales-tracking":{title:"Sales Tracking & Management",icon:"",content:[{heading:"Converting Leads to Sales",description:"Learn the process of turning qualified leads into sales records.",steps:["Navigate to your assigned leads list","Update the lead status to 'Qualified' when appropriate","Click 'Convert to Sale' to begin the sales process","Fill in the required sales information including course details and pricing","Select the appropriate currency for the transaction"],tip:"The system now supports multiple currencies for both Total Cost and Token Amount fields."},{heading:"Creating Reference Sales",description:"Reference sales allow you to track customers who came through referrals rather than the standard lead process.",steps:["From the Sales page, toggle the 'Reference Sale' switch","Select a Lead Person who referred this customer (optional)","Fill in all customer information as this will not be pulled from an existing lead","Complete all required sales information","Submit the form to create the reference sale"],tip:"Reference sales customers will be available in all customer selection dropdowns throughout the system, including exam scheduling."},{heading:"Lead Person Sales Management",description:"Lead persons can now track their own sales separately from the main sales pipeline.",steps:["As a Lead Person, navigate to the Lead Sales Update page","Click 'Add New Sale' to create a new lead person sale","Fill in all required customer and sales information","Select a Sales Person to associate with this sale","Submit the sale to save it to the lead person sales database"],tip:"Lead Person sales are stored in a separate database and are only visible to Lead Persons, Managers, and Admins - not to regular Sales Persons."},{heading:"Managing Your Sales",description:"Sales Persons can now fully edit and update their own sales records.",steps:["Navigate to the Sales Tracking page to see all your assigned sales","Click the edit icon on any sale you created","Update any field as needed - you now have full editing privileges for your own sales","Save your changes to update the record"],tip:"While you can edit all aspects of your own sales, you'll still need an Admin or Manager to delete records if necessary."},{heading:"Using the Sales Sheet",description:"The Lead Sales Sheet provides a comprehensive view of all sales data.",steps:["Access the Lead Sales Sheet from the navigation menu","Use filters to narrow down sales by date range, sales person, or other criteria","Click on column headers to sort the data","Export data to Excel for reporting purposes","Use inline editing for quick updates"],tip:"The sales sheet now includes email information and improved contact details for better customer tracking."},{heading:"Managing Payments & Tracking",description:"Track payments and outstanding balances effectively.",steps:["Record token (initial) payments when received","Update payment status as transactions are completed","Monitor pending payments through the Sales Tracking page","Set follow-up tasks for payment collection"],tip:"Keep the payment currency consistent with the original sale for accurate accounting."}]},"task-management":{title:"Task & Exam Management",icon:"",content:[{heading:"Scheduling Exams",description:"Use the Task Management system to schedule and track exams for your customers.",steps:["Navigate to the Task Management page","Click 'Schedule New Exam' button","Enter the exam title and description","Select a customer from the dropdown (includes both leads and reference customers)","Set the exam date and time","Save to create the scheduled exam"],tip:"The customer dropdown now includes both regular leads and reference sales customers, giving you a complete list of all possible candidates."},{heading:"Managing Scheduled Exams",description:"Track and update exam status as they progress.",steps:["View all scheduled exams on the Task Management page","Use color-coding to quickly identify exam status (pending, completed, overdue)","Click 'Mark Complete' when an exam has been conducted","Edit or reschedule exams as needed using the edit icon","Delete exams that are no longer needed"],tip:"Keep the exam list up to date to ensure nothing falls through the cracks."},{heading:"Exam Follow-up Process",description:"Proper follow-up after exams increases conversion rates.",steps:["After marking an exam as completed, update the related lead or sale with results","Schedule any necessary follow-up tasks","Document exam outcomes in the lead feedback or sales notes","Update the lead status based on exam performance"],tip:"Regular communication after exams builds trust and increases the likelihood of enrollment."},{heading:"Exam Reminder Notifications & Sound Alerts",description:"The system includes automatic exam reminder notifications with sound alerts to ensure you never miss an exam.",steps:["When you schedule an exam, the system automatically sets up reminder notifications","10 minutes before the exam time, you'll receive multiple notifications:"," Browser notification (if permissions are granted)"," Toast notification with exam details"," Sound alert with triple beep pattern"," Modal popup with exam information and direct link","Click the ' Test Sound' button on the Task Management page to test the notification sound","Make sure to interact with the page (click anywhere) first to enable sound in your browser"],tip:"Browser sound policies require user interaction before playing audio. The first time you visit the page, click anywhere to enable sound notifications. The sound will play three beeps: 800Hz, 1000Hz, then 800Hz again for maximum attention."}]},"admin-features":{title:"Admin & Management Tools",icon:"",content:[{heading:"User Management",description:"Admin users can manage system access and roles.",steps:["Navigate to Admin > Manage Users","Create new user accounts with appropriate role assignments","Edit existing user information or reset passwords","Deactivate accounts when necessary"],tip:"Review user activity logs periodically to ensure proper system usage."},{heading:"Data Import & Export",description:"Efficiently move data in and out of the CRM.",steps:["Go to Admin > Import Data","Use the template provided for data formatting","Upload your CSV file with lead or sales information","Review and confirm the data mapping","Process the import and check for any errors"],tip:"Always make a backup export before performing large imports or system changes."},{heading:"Permission Management",description:"Configure role-based permissions for different user types.",steps:["Access the Admin Dashboard","Review current permission settings for each role","Adjust permissions as needed for your organization's workflows","Test permission changes with test accounts before rolling out"],tip:"The system now allows Sales Persons to fully edit their own sales while maintaining appropriate restrictions on other users' data."},{heading:"System Configuration",description:"Customize the CRM to fit your organization's needs.",steps:["Access the Admin Dashboard","Configure notification preferences","Set up automated processes for lead assignment","Customize sales stages and lead statuses"],tip:"Document any configuration changes for future reference."}]},"best-practices":{title:"CRM Best Practices",icon:"",content:[{heading:"Data Quality Management",description:"Maintaining high-quality data is essential for CRM success.",steps:["Regularly update lead and customer information","Remove duplicate records when identified","Use consistent naming conventions","Verify contact information periodically"],tip:"Schedule regular data cleaning sessions to maintain database quality."},{heading:"Managing Reference Customers",description:"Reference customers require special attention for ongoing relationship management.",steps:["Properly tag all reference customers when creating sales","Document the source of the reference in notes","Thank referrers for their recommendations","Provide special attention to reference customers to encourage additional referrals","Track conversion rates from references versus other lead sources"],tip:"Reference customers often have higher conversion rates and retention, so track them separately in your analytics."},{heading:"Effective Follow-up Strategies",description:"Consistent follow-up improves conversion rates.",steps:["Document all customer interactions in the CRM","Set follow-up tasks with clear deadlines","Use templates for common follow-up communications","Analyze response patterns to optimize timing"],tip:"The 'CLIENT REMARK' and 'FEEDBACK' fields are ideal for tracking communication history."},{heading:"Reporting & Analytics",description:"Leverage data insights for better decision-making.",steps:["Use the built-in reporting tools to track performance","Export data for detailed analysis when needed","Track conversion rates from lead to sale","Monitor sales team performance metrics","Compare performance between regular leads and reference customers"],tip:"Regular reporting helps identify trends and opportunities for improvement."}]}},s=()=>{const i=n[e];return a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("span",{className:"text-3xl mr-3",children:i.icon}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:i.title})]}),a.jsx("div",{className:"space-y-8",children:i.content.map((o,c)=>a.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-0",children:[a.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:o.heading}),a.jsx("p",{className:"text-gray-700 mb-4",children:o.description}),o.steps&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Steps:"}),a.jsx("ol",{className:"list-decimal list-inside space-y-1 text-gray-700",children:o.steps.map((d,f)=>a.jsx("li",{className:"ml-2",children:d},f))})]}),o.image&&a.jsxs("div",{className:"my-4 border border-gray-200 rounded-md p-2 bg-gray-50 text-center",children:[a.jsxs("div",{className:"bg-gray-200 h-40 flex items-center justify-center text-gray-500",children:["[Image: ",o.image,"]"]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Screenshot reference"})]}),o.tip&&a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mt-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),a.jsx("p",{className:"ml-3 text-sm text-blue-700",children:o.tip})]})})]},c))})]})};return a.jsx(ur,{children:a.jsx("div",{className:"bg-gray-50 min-h-screen py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"CRM Tutorials"}),a.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Learn how to use TrainCape CRM effectively with these step-by-step tutorials. Select a category below to get started."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsxs("div",{className:"md:w-1/4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[a.jsx("h3",{className:"font-bold text-lg mb-4 text-gray-800",children:"Tutorial Topics"}),a.jsx("nav",{children:a.jsx("ul",{className:"space-y-2",children:Object.keys(n).map(i=>a.jsx("li",{children:a.jsxs("button",{onClick:()=>r(i),className:`w-full text-left px-3 py-2 rounded-md transition-colors ${e===i?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx("span",{className:"mr-2",children:n[i].icon}),n[i].title]})},i))})}),a.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Your Role"}),a.jsx("p",{className:"text-sm text-gray-600",children:t?a.jsxs(a.Fragment,{children:["You are logged in as: ",a.jsx("span",{className:"font-medium",children:t.role}),a.jsx("br",{}),"Tutorials are tailored to features available to your role."]}):a.jsx(a.Fragment,{children:"You are not logged in. Some advanced features may require authentication."})})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white p-5 rounded-lg shadow-md mt-4",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Need Help?"}),a.jsx("p",{className:"text-sm mb-3",children:"Can't find what you're looking for? Contact our support team for assistance."}),a.jsx(wt,{to:"/support",className:"inline-block bg-white text-purple-700 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-100 transition",children:"Contact Support"})]})]}),a.jsxs("div",{className:"md:w-3/4",children:[s(),a.jsxs("div",{className:"mt-6 flex justify-between",children:[a.jsxs("button",{onClick:()=>{const i=Object.keys(n),o=i.indexOf(e);o>0&&r(i[o-1])},disabled:Object.keys(n).indexOf(e)===0,className:`px-4 py-2 flex items-center rounded-md ${Object.keys(n).indexOf(e)===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-50 text-blue-700 hover:bg-blue-100"}`,children:[a.jsx("svg",{className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Topic"]}),a.jsxs("button",{onClick:()=>{const i=Object.keys(n),o=i.indexOf(e);o<i.length-1&&r(i[o+1])},disabled:Object.keys(n).indexOf(e)===Object.keys(n).length-1,className:`px-4 py-2 flex items-center rounded-md ${Object.keys(n).indexOf(e)===Object.keys(n).length-1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-50 text-blue-700 hover:bg-blue-100"}`,children:["Next Topic",a.jsx("svg",{className:"h-5 w-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}),a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Additional Resources"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border-t-4 border-blue-500",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Video Tutorials"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Watch step-by-step demonstrations of key CRM features."}),a.jsxs("a",{href:"#",className:"text-blue-600 hover:text-blue-800 font-medium inline-flex items-center",children:["Watch now",a.jsx("svg",{className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),a.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border-t-4 border-green-500",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"FAQ Database"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Find answers to commonly asked questions about the CRM."}),a.jsxs("a",{href:"#",className:"text-green-600 hover:text-green-800 font-medium inline-flex items-center",children:["View FAQs",a.jsx("svg",{className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),a.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border-t-4 border-purple-500",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Feature Updates"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Stay informed about the latest CRM features and enhancements."}),a.jsxs("a",{href:"#",className:"text-purple-600 hover:text-purple-800 font-medium inline-flex items-center",children:["Read changelog",a.jsx("svg",{className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})]})]})})})},dj=6048e5,V$=864e5,$4=Symbol.for("constructDateFrom");function Pi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&$4 in t?t[$4](e):t instanceof Date?new t.constructor(e):new Date(e)}function Xs(t,e){return Pi(e||t,t)}let H$={};function m0(){return H$}function Vu(t,e){var c,d,f,h;const r=m0(),n=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,s=Xs(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ih(t,e){return Vu(t,{...e,weekStartsOn:1})}function fj(t,e){const r=Xs(t,e==null?void 0:e.in),n=r.getFullYear(),s=Pi(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=Ih(s),o=Pi(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const c=Ih(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Y4(t){const e=Xs(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function W$(t,...e){const r=Pi.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function K4(t,e){const r=Xs(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function $$(t,e,r){const[n,s]=W$(r==null?void 0:r.in,t,e),i=K4(n),o=K4(s),c=+i-Y4(i),d=+o-Y4(o);return Math.round((c-d)/V$)}function Y$(t,e){const r=fj(t,e),n=Pi(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Ih(n)}function K$(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function G$(t){return!(!K$(t)&&typeof t!="number"||isNaN(+Xs(t)))}function q$(t,e){const r=Xs(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const X$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},J$=(t,e,r)=>{let n;const s=X$[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Op(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Q$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Z$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tY={date:Op({formats:Q$,defaultWidth:"full"}),time:Op({formats:Z$,defaultWidth:"full"}),dateTime:Op({formats:eY,defaultWidth:"full"})},rY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nY=(t,e,r,n)=>rY[t];function zc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=r!=null&&r.width?String(r.width):o;s=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[c]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const sY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uY=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},dY={ordinalNumber:uY,era:zc({values:sY,defaultWidth:"wide"}),quarter:zc({values:aY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zc({values:iY,defaultWidth:"wide"}),day:zc({values:oY,defaultWidth:"wide"}),dayPeriod:zc({values:lY,defaultWidth:"wide",formattingValues:cY,defaultFormattingWidth:"wide"})};function Vc(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?hY(c,p=>p.test(o)):fY(c,p=>p.test(o));let f;f=t.valueCallback?t.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const h=e.slice(o.length);return{value:f,rest:h}}}function fY(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function hY(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function mY(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=e.slice(s.length);return{value:o,rest:c}}}const pY=/^(\d+)(th|st|nd|rd)?/i,gY=/\d+/i,xY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yY={any:[/^b/i,/^(a|c)/i]},vY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bY={any:[/1/i,/2/i,/3/i,/4/i]},wY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_Y={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TY={ordinalNumber:mY({matchPattern:pY,parsePattern:gY,valueCallback:t=>parseInt(t,10)}),era:Vc({matchPatterns:xY,defaultMatchWidth:"wide",parsePatterns:yY,defaultParseWidth:"any"}),quarter:Vc({matchPatterns:vY,defaultMatchWidth:"wide",parsePatterns:bY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vc({matchPatterns:wY,defaultMatchWidth:"wide",parsePatterns:NY,defaultParseWidth:"any"}),day:Vc({matchPatterns:SY,defaultMatchWidth:"wide",parsePatterns:_Y,defaultParseWidth:"any"}),dayPeriod:Vc({matchPatterns:CY,defaultMatchWidth:"any",parsePatterns:jY,defaultParseWidth:"any"})},EY={code:"en-US",formatDistance:J$,formatLong:tY,formatRelative:nY,localize:dY,match:TY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kY(t,e){const r=Xs(t,e==null?void 0:e.in);return $$(r,q$(r))+1}function AY(t,e){const r=Xs(t,e==null?void 0:e.in),n=+Ih(r)-+Y$(r);return Math.round(n/dj)+1}function hj(t,e){var h,p,g,x;const r=Xs(t,e==null?void 0:e.in),n=r.getFullYear(),s=m0(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(g=s.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=Pi((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const c=Vu(o,e),d=Pi((e==null?void 0:e.in)||t,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const f=Vu(d,e);return+r>=+c?n+1:+r>=+f?n:n-1}function PY(t,e){var c,d,f,h;const r=m0(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=hj(t,e),i=Pi((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Vu(i,e)}function DY(t,e){const r=Xs(t,e==null?void 0:e.in),n=+Vu(r,e)-+PY(r,e);return Math.round(n/dj)+1}function qt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const li={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return qt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):qt(r+1,2)},d(t,e){return qt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return qt(t.getHours()%12||12,e.length)},H(t,e){return qt(t.getHours(),e.length)},m(t,e){return qt(t.getMinutes(),e.length)},s(t,e){return qt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return qt(s,e.length)}},pl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},G4={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return li.y(t,e)},Y:function(t,e,r,n){const s=hj(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return qt(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):qt(i,e.length)},R:function(t,e){const r=fj(t);return qt(r,e.length)},u:function(t,e){const r=t.getFullYear();return qt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return qt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return qt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return li.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return qt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=DY(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):qt(s,e.length)},I:function(t,e,r){const n=AY(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):qt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):li.d(t,e)},D:function(t,e,r){const n=kY(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):qt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return qt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return qt(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return qt(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=pl.noon:n===0?s=pl.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=pl.evening:n>=12?s=pl.afternoon:n>=4?s=pl.morning:s=pl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return li.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):li.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):qt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):qt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):li.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):li.s(t,e)},S:function(t,e){return li.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return X4(n);case"XXXX":case"XX":return lo(n);case"XXXXX":case"XXX":default:return lo(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return X4(n);case"xxxx":case"xx":return lo(n);case"xxxxx":case"xxx":default:return lo(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+q4(n,":");case"OOOO":default:return"GMT"+lo(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+q4(n,":");case"zzzz":default:return"GMT"+lo(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return qt(n,e.length)},T:function(t,e,r){return qt(+t,e.length)}};function q4(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+qt(i,2)}function X4(t,e){return t%60===0?(t>0?"-":"+")+qt(Math.abs(t)/60,2):lo(t,e)}function lo(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=qt(Math.trunc(n/60),2),i=qt(n%60,2);return r+s+e+i}const J4=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},mj=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},RY=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return J4(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",J4(n,e)).replace("{{time}}",mj(s,e))},FY={p:mj,P:RY},OY=/^D+$/,MY=/^Y+$/,LY=["D","DD","YY","YYYY"];function IY(t){return OY.test(t)}function BY(t){return MY.test(t)}function UY(t,e,r){const n=zY(t,e,r);if(console.warn(n),LY.includes(t))throw new RangeError(n)}function zY(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const VY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WY=/^'([^]*?)'?$/,$Y=/''/g,YY=/[a-zA-Z]/;function Mp(t,e,r){var h,p,g,x;const n=m0(),s=n.locale??EY,i=n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=n.weekStartsOn??((x=(g=n.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??0,c=Xs(t,r==null?void 0:r.in);if(!G$(c))throw new RangeError("Invalid time value");let d=e.match(HY).map(w=>{const b=w[0];if(b==="p"||b==="P"){const v=FY[b];return v(w,s.formatLong)}return w}).join("").match(VY).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:KY(w)};if(G4[b])return{isToken:!0,value:w};if(b.match(YY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(d=s.localize.preprocessor(c,d));const f={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return d.map(w=>{if(!w.isToken)return w.value;const b=w.value;(BY(b)||IY(b))&&UY(b,e,String(t));const v=G4[b[0]];return v(c,b,s.localize,f)}).join("")}function KY(t){const e=t.match(WY);return e?e[1].replace($Y,"'"):t}class GY{constructor(){this.socket=null,this.isConnected=!1,this.userId=null,this.audioContext=null,this.notificationSound=null,this.initializeAudio()}initializeAudio(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.createNotificationSound()}catch(e){console.warn("Audio context not supported:",e)}}createNotificationSound(){if(!this.audioContext)return;const e=(r=800,n=200)=>{const s=this.audioContext.createOscillator(),i=this.audioContext.createGain();s.connect(i),i.connect(this.audioContext.destination),s.frequency.value=r,s.type="sine",i.gain.setValueAtTime(.3,this.audioContext.currentTime),i.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+n/1e3),s.start(this.audioContext.currentTime),s.stop(this.audioContext.currentTime+n/1e3)};this.notificationSound=e}playNotificationSound(){try{this.audioContext&&this.notificationSound?(this.audioContext.state==="suspended"&&this.audioContext.resume(),this.notificationSound(800,300),setTimeout(()=>this.notificationSound(1e3,300),400),setTimeout(()=>this.notificationSound(800,300),800)):console.log("\x07")}catch(e){console.error("Error playing notification sound:",e)}}connect(e){if(this.isConnected&&this.userId===e)return;this.userId=e;const r="https://crm-backend-o36v.onrender.com";console.log("Connecting to notification server:",r),this.socket=jl(r,{transports:["websocket","polling"],timeout:2e4,forceNew:!0}),this.socket.on("connect",()=>{console.log(" Connected to notification server"),this.isConnected=!0,this.socket.emit("join-user-room",e),lt.success(" Notifications enabled")}),this.socket.on("disconnect",()=>{console.log(" Disconnected from notification server"),this.isConnected=!1}),this.socket.on("connect_error",n=>{console.error("Connection error:",n),lt.error("Failed to connect to notification server")}),this.socket.on("exam-reminder",n=>{this.handleExamReminder(n)}),this.socket.on("notification",n=>{this.handleGeneralNotification(n)})}handleExamReminder(e){console.log(" Exam reminder received:",e),e.sound&&this.playNotificationSound(),this.showBrowserNotification(e);const r=`
       ${e.title}
      
      ${e.message}
      
      Course: ${e.examDetails.course}
      Time: ${e.examDetails.time}
    `;lt(r,{duration:3e4,position:"top-center",style:{background:"#fee2e2",border:"2px solid #dc2626",borderRadius:"8px",padding:"16px",maxWidth:"400px",fontSize:"14px",lineHeight:"1.4"},icon:""}),this.showExamModal(e)}handleGeneralNotification(e){console.log(" General notification received:",e),lt(e.message,{icon:e.icon||"",duration:5e3,position:"top-right"})}showBrowserNotification(e){if("Notification"in window&&Notification.permission==="granted"){const r=new Notification(e.title,{body:e.message,icon:"/favicon.ico",badge:"/favicon.ico",tag:"exam-reminder",requireInteraction:!0,silent:!1});r.onclick=()=>{window.focus(),r.close(),e.examDetails.examLink&&e.examDetails.examLink!=="#"&&window.open(e.examDetails.examLink,"_blank")},setTimeout(()=>{r.close()},1e4)}}showExamModal(e){const r=e.examDetails,n=` EXAM ALERT 

Your ${r.course} exam starts in 10 minutes!

Time: ${r.time}
Location: ${r.location}`;setTimeout(()=>{window.confirm(n+`

Click OK to start exam or Cancel to dismiss.`)&&r.examLink&&r.examLink!=="#"&&window.open(r.examLink,"_blank")},1e3)}async requestNotificationPermission(){return"Notification"in window?await Notification.requestPermission()==="granted"?(lt.success(" Browser notifications enabled"),!0):(lt.error(" Browser notifications denied"),!1):!1}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.userId=null,console.log("Disconnected from notification server"))}getStatus(){return{isConnected:this.isConnected,userId:this.userId}}}const No=new GY,Mf=()=>localStorage.getItem("token"),qY=()=>{const{user:t}=$t(),[e,r]=A.useState(localStorage.getItem("token")),[n,s]=A.useState([]),[i,o]=A.useState([]),[c,d]=A.useState(!0),[f,h]=A.useState(!1),[p,g]=A.useState(!1),[x,w]=A.useState(null),[b,v]=A.useState(!1),[C,E]=A.useState("");A.useEffect(()=>{const O=Mf();r(O),O||Oe.error("No authentication token found. Please try logging out and back in.")},[]);const[j,D]=A.useState({title:"",description:"",taskType:"Exam",customer:"",examDate:"",examTime:"",manualCustomerName:"",manualCustomerEmail:"",manualCustomerPhone:"",manualCustomerCourse:""}),T=async()=>{try{if(d(!0),!Mf()){Oe.error("Authentication token missing. Please log in again."),d(!1);return}const W=await Dc.getAll();if(W.data&&W.data.data){console.log("Tasks loaded:",W.data.data);const ne=W.data.data.map(X=>{if(!X.customer||typeof X.customer=="string"){console.log("Task has unpopulated customer:",X);const Z=i.find(ae=>ae._id===X.customer);Z&&(X.customer=Z)}return X});s(ne)}else s([]),console.log("No tasks found in response")}catch(O){console.error("Error fetching tasks:",O),O.response&&O.response.status===401?Oe.error("Authentication failed. Please log in again."):Oe.error("Failed to fetch tasks: "+(O.message||"Unknown error")),s([])}finally{d(!1)}},M=async()=>{var O,W,ne;h(!0);try{if(!Mf()){Oe.error("Authentication token missing. Please log in again."),h(!1);return}const Z=await _n.getAll();let ae=[];if((O=Z.data)!=null&&O.data&&Array.isArray(Z.data.data)?ae=Z.data.data:(W=Z.data)!=null&&W.leads&&Array.isArray(Z.data.leads)?ae=Z.data.leads:Array.isArray(Z.data)&&(ae=Z.data),ae.length>0){o(ae);const Y=ae.filter(U=>!U.isReferenceSale).length,R=ae.filter(U=>U.isReferenceSale).length;Y===0&&R===0&&Oe.info("No customer data available")}}catch(X){X.response?X.response.status===401?Oe.error("Authentication failed. Your session may have expired."):Oe.error("Could not fetch customer data: "+(((ne=X.response.data)==null?void 0:ne.message)||"Server error")):X.request?Oe.error("No response from server. Check your connection."):Oe.error("Error: "+X.message)}finally{h(!1)}};A.useEffect(()=>{e&&(T(),M())},[e]);const _=O=>{const{name:W,value:ne}=O.target;D(X=>({...X,[W]:ne}))},P=async O=>{var W,ne;O.preventDefault();try{if(b){if(!j.manualCustomerName){Oe.error("Please enter customer name");return}if(!j.manualCustomerPhone){Oe.error("Please enter customer phone number");return}if(!j.manualCustomerCourse){Oe.error("Please enter course/exam name");return}}else if(!j.customer){Oe.error("Please select a customer");return}const X=new Date(`${j.examDate}T${j.examTime}`);let Z={title:j.title,description:j.description,taskType:j.taskType,examDate:X,examDateTime:X,assignedTo:t._id,salesPerson:t._id,course:b?j.manualCustomerCourse:j.customer?"Selected Customer Course":"General Course"};b?Z.manualCustomer={name:j.manualCustomerName,email:j.manualCustomerEmail,contactNumber:j.manualCustomerPhone,course:j.manualCustomerCourse}:Z.customer=j.customer;let ae;x?ae=await Dc.update(x._id,Z):ae=await Dc.create(Z),ae.data.success?(Oe.success(x?"Task updated successfully":"Task created successfully"),Q(),T()):Oe.error(ae.data.message||"Error saving task")}catch(X){X.response?X.response.status===401?Oe.error("Authentication failed. Please log out and log back in."):Oe.error(((ne=(W=X.response)==null?void 0:W.data)==null?void 0:ne.message)||"Failed to save task"):Oe.error("Network error - could not connect to server")}},I=O=>{var Y;console.log("Editing task:",O);const W=Mp(new Date(O.examDate),"yyyy-MM-dd"),ne=Mp(new Date(O.examDate),"HH:mm"),X=((Y=O.customer)==null?void 0:Y.isManualEntry)||!O.customer&&O.manualCustomer;let Z="";!X&&O.customer&&(typeof O.customer=="string"?Z=O.customer:O.customer._id&&O.customer._id!=="manual"&&(Z=O.customer._id)),v(X);const ae=X?O.manualCustomer||O.customer:null;D({title:O.title,description:O.description,taskType:O.taskType||"Exam",customer:Z,examDate:W,examTime:ne,manualCustomerName:(ae==null?void 0:ae.name)||"",manualCustomerEmail:(ae==null?void 0:ae.email)||"",manualCustomerPhone:(ae==null?void 0:ae.contactNumber)||"",manualCustomerCourse:(ae==null?void 0:ae.course)||""}),w(O),g(!0),!X&&!Z&&Oe.warning("Customer data may be incomplete. Please select a customer again.")},K=async O=>{var W;if(window.confirm("Are you sure you want to delete this task?"))try{const ne=await Dc.delete(O);ne.data&&ne.data.success?(Oe.success("Task deleted successfully"),T()):Oe.error(((W=ne.data)==null?void 0:W.message)||"Failed to delete task")}catch(ne){ne.response&&ne.response.status===401?Oe.error("Authentication failed. Please log in again."):Oe.error("Failed to delete task")}},q=async(O,W)=>{var ne;try{const X=await Dc.markCompleted(O,W);X.data&&X.data.success?(Oe.success("Task status updated"),T()):Oe.error(((ne=X.data)==null?void 0:ne.message)||"Failed to update task status")}catch(X){X.response&&X.response.status===401?Oe.error("Authentication failed. Please log in again."):Oe.error("Failed to update task status")}},H=O=>{const W=new Date(O);return Mp(W,"MMM dd, yyyy 'at' h:mm a")},oe=O=>{if(!O)return"No Name";if(console.log("Getting name for lead:",O),typeof O=="string")return`Customer (ID: ${O.substring(0,6)}...)`;if(!Object.keys(O).length)return"Unknown Customer";let W="";const ne=["name","NAME","customerName","fullName"];for(const Z of ne)if(O[Z]&&typeof O[Z]=="string"&&O[Z].trim()!==""){W=O[Z];break}if(!W){const Z=Object.keys(O).filter(ae=>ae.toLowerCase().includes("name")&&O[ae]&&typeof O[ae]=="string"&&O[ae].trim()!=="");Z.length>0&&(W=O[Z[0]])}if((!W||W==="Unnamed Customer")&&(O.course||O.COURSE?W=`Student for ${O.course||O.COURSE}`:O._id?W=`Customer ${O._id.substring(0,6)}...`:W="Unnamed Customer"),O.isReferenceSale)return`${W} [Reference]`;const X=O.course||O.COURSE;return X&&!W.includes(X)?`${W} (${X})`:W},Q=()=>{D({title:"",description:"",taskType:"Exam",customer:"",examDate:"",examTime:"",manualCustomerName:"",manualCustomerEmail:"",manualCustomerPhone:"",manualCustomerCourse:""}),w(null),v(!1),E("")};return a.jsx(ur,{children:a.jsx("div",{className:"bg-gray-50 min-h-screen py-4 md:py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-3",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Task Management"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{console.log(" Testing notification sound..."),No.playNotificationSound(),Oe.success(" Test sound played! (You need to interact with the page first for sound to work)")},className:"w-full sm:w-auto px-3 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 text-sm sm:text-base flex items-center gap-2",title:"Test the exam reminder sound",children:" Test Sound"}),a.jsx("button",{onClick:()=>{Q(),g(!0)},className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm sm:text-base",children:"Schedule New Exam"})]})]}),!Mf()&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 border border-red-200 rounded-md text-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Authentication Error"}),a.jsx("p",{className:"text-sm",children:"No authentication token found. Please log out and log back in to refresh your session."}),a.jsx("button",{onClick:()=>window.location.href="/login",className:"mt-2 px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Go to Login"})]})]})}),c?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading tasks..."})]}):n.length===0?a.jsxs("div",{className:"bg-white p-4 sm:p-8 rounded-md shadow text-center",children:[a.jsx("p",{className:"text-gray-600",children:"No tasks scheduled yet."}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:'Click "Schedule New Exam" to create your first task.'})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:n.map(O=>a.jsxs("div",{className:`bg-white rounded-lg shadow p-4 border-l-4 ${O.completed?"border-green-500":new Date(O.examDate)<new Date?"border-red-500":"border-blue-500"}`,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h3",{className:"font-bold text-base sm:text-lg mb-2",children:O.title}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>I(O),className:"p-1 text-blue-600 hover:text-blue-800",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),a.jsx("button",{onClick:()=>K(O._id),className:"p-1 text-red-600 hover:text-red-800",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:O.description}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:oe(O.customer)})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:H(O.examDate)})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-4 pt-3 border-t border-gray-100 gap-2",children:[a.jsx("span",{className:`text-xs px-2 py-1 rounded mb-2 sm:mb-0 ${O.completed?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:O.completed?"Completed":"Pending"}),a.jsx("button",{onClick:()=>q(O._id,!O.completed),className:`text-xs w-full sm:w-auto px-3 py-1 rounded-full ${O.completed?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:O.completed?"Mark Incomplete":"Mark Complete"})]})]},O._id))}),p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md my-8",children:[a.jsx("div",{className:"p-4 sm:p-5 border-b border-gray-200",children:a.jsx("h3",{className:"font-bold text-base sm:text-lg",children:x?"Edit Task":"Schedule New Exam"})}),a.jsxs("form",{onSubmit:P,className:"p-4 sm:p-5",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-700 text-xs sm:text-sm font-medium mb-2",children:"Title"}),a.jsx("input",{type:"text",name:"title",value:j.title,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Exam Title",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-700 text-xs sm:text-sm font-medium mb-2",children:"Description"}),a.jsx("textarea",{name:"description",value:j.description,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Exam details",rows:"3"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"block text-gray-700 text-xs sm:text-sm font-medium",children:"Customer"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-xs text-gray-600 mr-2",children:"Manual Entry"}),a.jsx("button",{type:"button",onClick:()=>v(!b),className:`relative inline-flex h-5 w-10 items-center rounded-full transition-colors focus:outline-none ${b?"bg-blue-600":"bg-gray-200"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${b?"translate-x-5":"translate-x-1"}`})})]})]}),b?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{children:a.jsx("input",{type:"text",name:"manualCustomerName",value:j.manualCustomerName,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Customer Name *",required:!0})}),a.jsx("div",{children:a.jsx("input",{type:"email",name:"manualCustomerEmail",value:j.manualCustomerEmail,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Email Address"})}),a.jsx("div",{children:a.jsx("input",{type:"tel",name:"manualCustomerPhone",value:j.manualCustomerPhone,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Phone Number *",required:!0})}),a.jsx("div",{children:a.jsx("input",{type:"text",name:"manualCustomerCourse",value:j.manualCustomerCourse,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Course/Exam Name *",required:!0})})]}):a.jsxs("div",{children:[a.jsx("div",{className:"mb-2",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search leads by name, email, or course...",value:C,onChange:O=>E(O.target.value),className:"w-full px-3 py-2 pl-9 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),a.jsxs("select",{name:"customer",value:j.customer,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0,children:[a.jsx("option",{value:"",children:"Select Customer"}),(()=>{const O=i.filter(X=>{if(!C)return!0;const Z=C.toLowerCase(),ae=(X.name||X.NAME||"").toLowerCase(),Y=(X.email||X.EMAIL||X["E-MAIL"]||"").toLowerCase(),R=(X.course||X.COURSE||"").toLowerCase(),U=(X.contactNumber||X.phone||X.MOBILE||X.NUMBER||"").toLowerCase();return ae.includes(Z)||Y.includes(Z)||R.includes(Z)||U.includes(Z)}),W=O.filter(X=>!X.isReferenceSale),ne=O.filter(X=>X.isReferenceSale);return a.jsxs(a.Fragment,{children:[W.length>0&&a.jsx("optgroup",{label:`Leads (${W.length})`,children:W.map(X=>a.jsxs("option",{value:X._id,children:[X.name||X.NAME||"Unknown"," - ",X.course||X.COURSE||"No course",X.status?` (${X.status})`:""]},X._id))}),ne.length>0&&a.jsx("optgroup",{label:`Reference Customers (${ne.length})`,children:ne.map(X=>a.jsxs("option",{value:X._id,children:[X.name||"Unknown"," - ",X.course||"No course",X.status?` (${X.status})`:""," [Reference]"]},X._id))}),O.length===0&&a.jsx("option",{disabled:!0,value:"",children:"No leads match your search"})]})})()]}),f?a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Loading customers..."}):a.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[i.filter(O=>!O.isReferenceSale).length," leads +",i.filter(O=>O.isReferenceSale).length," reference customers available",C&&a.jsx("button",{type:"button",onClick:()=>E(""),className:"ml-2 text-blue-600 hover:text-blue-800",children:"Clear search"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-xs sm:text-sm font-medium mb-2",children:"Exam Date"}),a.jsx("input",{type:"date",name:"examDate",value:j.examDate,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-xs sm:text-sm font-medium mb-2",children:"Exam Time"}),a.jsx("input",{type:"time",name:"examTime",value:j.examTime,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end sm:space-x-3 mt-6 space-y-2 sm:space-y-0",children:[a.jsx("button",{type:"button",onClick:()=>g(!1),className:"w-full sm:w-auto px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 text-sm order-2 sm:order-1",children:"Cancel"}),a.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm order-1 sm:order-2",children:x?"Update Task":"Create Task"})]})]})]})})]})})})},XY=()=>{const{user:t}=$t(),[e,r]=A.useState([]),[n,s]=A.useState({totalRepeatCustomers:0,totalLeads:0,averageCoursesPerCustomer:0}),[i,o]=A.useState(!0),[c,d]=A.useState(null),[f,h]=A.useState(null);A.useEffect(()=>{p()},[]);const p=async()=>{try{o(!0);const w=await _n.getRepeatCustomers();w.data.success?(r(w.data.data),s(w.data.stats),d(null)):d("Failed to load repeat customer data")}catch(w){console.error("Error fetching repeat customers:",w),d("Failed to load repeat customer data. Please try again.")}finally{o(!1)}},g=w=>new Date(w).toLocaleDateString(),x=w=>{h(f===w?null:w)};return a.jsx(ur,{children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Repeat Customers"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Repeat Customers"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:n.totalRepeatCustomers})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Courses Purchased"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.totalLeads})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg. Courses per Customer"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:n.averageCoursesPerCustomer})]})]}),c&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 text-red-700 border border-red-200 rounded-md",children:c}),i?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsx(a.Fragment,{children:e.length===0?a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:a.jsx("p",{className:"text-gray-500",children:"No repeat customers found."})}):a.jsx("div",{className:"space-y-4",children:e.map((w,b)=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center cursor-pointer hover:bg-gray-100",onClick:()=>x(b),children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium",children:w.customerInfo.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[w.customerInfo.email&&a.jsx("span",{className:"mr-3",children:w.customerInfo.email}),w.customerInfo.phone&&a.jsxs("span",{children:[w.customerInfo.countryCode," ",w.customerInfo.phone]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800 mr-3",children:[w.leads.length," courses"]}),a.jsx("svg",{className:`h-5 w-5 text-gray-500 transform ${f===b?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),f===b&&a.jsxs("div",{className:"p-4",children:[a.jsx("h4",{className:"text-md font-medium mb-2",children:"Course History"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Person"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.leads.map((v,C)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.course}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g(v.createdAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.salesPerson})]},C))})]})})]})]},b))})})]})})};function JY({children:t,className:e=""}){return a.jsx("div",{className:`bg-white border border-gray-200 rounded-xl shadow-sm ${e}`,children:t})}function QY({children:t,className:e=""}){return a.jsx("div",{className:`p-4 ${e}`,children:t})}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eK=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Q4=t=>{const e=eK(t);return e.charAt(0).toUpperCase()+e.slice(1)},pj=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),tK=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...c},d)=>A.createElement("svg",{ref:d,...rK,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:pj("lucide",s),...!i&&!tK(c)&&{"aria-hidden":"true"},...c},[...o.map(([f,h])=>A.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=(t,e)=>{const r=A.forwardRef(({className:n,...s},i)=>A.createElement(nK,{ref:i,iconNode:e,className:pj(`lucide-${ZY(Q4(t))}`,`lucide-${t}`,n),...s}));return r.displayName=Q4(t),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],aK=gj("ban",sK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oK=gj("circle-check-big",iK),lK=[{name:"United States",code:"US",status:"allowed"},{name:"United Kingdom",code:"UK",status:"allowed"},{name:"France",code:"FR",status:"allowed"},{name:"Italy",code:"IT",status:"allowed"},{name:"Spain",code:"ES",status:"allowed"},{name:"Portugal",code:"PT",status:"allowed"},{name:"Greece",code:"GR",status:"allowed"},{name:"Brazil",code:"BR",status:"allowed"},{name:"Argentina",code:"AR",status:"allowed"},{name:"Chile",code:"CL",status:"allowed"},{name:"Mexico",code:"MX",status:"allowed"},{name:"Colombia",code:"CO",status:"allowed"},{name:"Peru",code:"PE",status:"allowed"},{name:"Venezuela",code:"VE",status:"allowed"},{name:"Ecuador",code:"EC",status:"allowed"},{name:"Bolivia",code:"BO",status:"allowed"},{name:"Paraguay",code:"PY",status:"allowed"},{name:"Uruguay",code:"UY",status:"allowed"},{name:"Saudi Arabia",code:"SA",status:"allowed"},{name:"United Arab Emirates",code:"AE",status:"allowed"},{name:"Qatar",code:"QA",status:"allowed"},{name:"Kuwait",code:"KW",status:"allowed"},{name:"Bahrain",code:"BH",status:"allowed"},{name:"Oman",code:"OM",status:"allowed"},{name:"Jordan",code:"JO",status:"allowed"},{name:"Canada",code:"CA",status:"allowed"},{name:"Ukraine",code:"UA",status:"allowed"},{name:"Switzerland",code:"CH",status:"allowed"},{name:"Singapore",code:"SG",status:"allowed"},{name:"Romania",code:"RO",status:"allowed"},{name:"Netherlands",code:"NL",status:"allowed"},{name:"New Zealand",code:"NZ",status:"allowed"},{name:"Pakistan",code:"PK",status:"blocked"},{name:"Sri Lanka",code:"LK",status:"blocked"},{name:"Nepal",code:"NP",status:"blocked"},{name:"China",code:"CN",status:"blocked"},{name:"Hong Kong",code:"HK",status:"blocked"},{name:"Russia",code:"RU",status:"blocked"},{name:"Philippines",code:"PH",status:"blocked"},{name:"Japan",code:"JP",status:"blocked"},{name:"Vietnam",code:"VN",status:"blocked"},{name:"Bangladesh",code:"BD",status:"blocked"},{name:"Afghanistan",code:"AF",status:"blocked"},{name:"Tajikistan",code:"TJ",status:"blocked"},{name:"Kazakhstan",code:"KZ",status:"blocked"},{name:"Kyrgyzstan",code:"KG",status:"blocked"},{name:"Turkmenistan",code:"TM",status:"blocked"},{name:"Papua New Guinea",code:"PG",status:"blocked"},{name:"Myanmar",code:"MM",status:"blocked"},{name:"Indonesia",code:"ID",status:"blocked"},{name:"Iran",code:"IR",status:"blocked"},{name:"Iraq",code:"IQ",status:"blocked"},{name:"Israel",code:"IL",status:"blocked"},{name:"Lebanon",code:"LB",status:"blocked"},{name:"Palestine",code:"PS",status:"blocked"},{name:"Syria",code:"SY",status:"blocked"},{name:"Turkey",code:"TR",status:"blocked"},{name:"Yemen",code:"YE",status:"blocked"},{name:"Zimbabwe",code:"ZW",status:"blocked"}],cK=()=>{const[t,e]=A.useState("all"),r=lK.filter(n=>t==="all"?!0:n.status===t);return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Lead Geo-Permission Matrix "}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{className:`px-4 py-2 rounded-xl ${t==="all"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>e("all"),children:"All"}),a.jsx("button",{className:`px-4 py-2 rounded-xl ${t==="allowed"?"bg-green-600 text-white":"bg-gray-200"}`,onClick:()=>e("allowed"),children:"Allowed "}),a.jsx("button",{className:`px-4 py-2 rounded-xl ${t==="blocked"?"bg-red-600 text-white":"bg-gray-200"}`,onClick:()=>e("blocked"),children:"Blocked "})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(n=>a.jsx(JY,{className:"rounded-2xl shadow-md",children:a.jsxs(QY,{className:"p-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:n.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Code: ",n.code]})]}),n.status==="allowed"?a.jsx(oK,{className:"text-green-500 w-6 h-6"}):a.jsx(aK,{className:"text-red-500 w-6 h-6"})]})},n.code))})]})},uK=()=>{const t=[{id:1,name:"Parichay Singh",position:"CEO & Founder",email:"sales@traincapetech.info",phone:"+91 6280281505",linkedin:"https://www.linkedin.com/in/parichay-singh-rana?lipi=urn%3Ali%3Apage%3Ad_flagship3_profile_view_base_contact_details%3B%2BLVd4W1EQj2KhxGQFwlQuQ%3D%3D",image:"https://i.pravatar.cc/300?img=11",icon:a.jsx(i6,{className:"text-3xl text-blue-700"})},{id:2,name:"Shivam Singh",position:"Operations Manager",email:"shivam@traincapetech.in",phone:"+91 9354364160",image:"https://i.pravatar.cc/300?img=13",icon:a.jsx(Zc,{className:"text-3xl text-green-600"})},{id:3,name:"Saurav Kumar",position:"Technical Lead",email:"saurav@traincapetech.in",phone:"+62 852-8223-3601",image:"https://i.pravatar.cc/300?img=12",icon:a.jsx(q5,{className:"text-3xl text-purple-600"})}];return a.jsxs(ur,{children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 py-10",children:a.jsxs("div",{className:"container mx-auto px-4 text-center text-white",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Management Contacts"}),a.jsx("p",{className:"text-lg max-w-2xl mx-auto",children:"Meet our leadership team at TrainCape Technology. Reach out to us directly for any questions or inquiries."})]})}),a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map(e=>a.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden transform transition-transform hover:-translate-y-1 hover:shadow-xl",children:[a.jsx("div",{className:"bg-gray-100 p-6 flex justify-center",children:e.image?a.jsx("img",{src:e.image,alt:e.name,className:"h-32 w-32 rounded-full object-cover border-4 border-white shadow-md"}):a.jsx("div",{className:"h-32 w-32 rounded-full bg-blue-100 flex items-center justify-center",children:e.icon||a.jsx(Zc,{className:"text-4xl text-blue-600"})})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:e.name}),a.jsx("p",{className:"text-blue-600 font-medium mb-4",children:e.position}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(vu,{className:"text-blue-600 mr-3"}),a.jsx("a",{href:`mailto:${e.email}`,className:"text-gray-700 hover:text-blue-600 transition",children:e.email})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(n6,{className:"text-blue-600 mr-3"}),a.jsx("a",{href:`tel:${e.phone}`,className:"text-gray-700 hover:text-blue-600 transition",children:e.phone})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Y5,{className:"text-blue-600 mr-3"}),a.jsx("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 hover:text-blue-600 transition",children:"LinkedIn Profile"})]})]})]})]},e.id))}),a.jsxs("div",{className:"mt-16 bg-white rounded-lg shadow-lg p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"General Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-3",children:"Main Office"}),a.jsx("p",{className:"text-gray-600 mb-1",children:"123 Tech Boulevard"}),a.jsx("p",{className:"text-gray-600 mb-1",children:"Suite 456"}),a.jsx("p",{className:"text-gray-600 mb-1",children:"San Francisco, CA 94105"}),a.jsx("p",{className:"text-gray-600",children:"United States"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-3",children:"Contact Details"}),a.jsxs("p",{className:"text-gray-600 mb-1",children:[a.jsx("span",{className:"font-medium",children:"General Inquiries:"})," info@traincapetech.com"]}),a.jsxs("p",{className:"text-gray-600 mb-1",children:[a.jsx("span",{className:"font-medium",children:"Customer Support:"})," support@traincapetech.com"]}),a.jsxs("p",{className:"text-gray-600 mb-1",children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," +1 (123) 456-7800"]}),a.jsxs("p",{className:"text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Working Hours:"})," Monday-Friday, 9AM-6PM PST"]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-3",children:"Send Us a Message"}),a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4",children:a.jsx("p",{className:"text-blue-700",children:"For any questions or inquiries, please feel free to reach out to our team through the contact information provided above. We strive to respond to all messages within 24 business hours."})})]})]})]})]})},Lp={generateContent:(t,e={})=>(console.log("Calling geminiAPI.generateContent() with prompt:",t),ct.post("/api/gemini/generate",{prompt:t,options:e})),generateContentWithImage:(t,e)=>(console.log("Calling geminiAPI.generateContentWithImage()"),ct.post("/api/gemini/generate-with-image",{prompt:t,imageData:e})),chatWithGemini:t=>(console.log("Calling geminiAPI.chatWithGemini() with messages:",t.length),ct.post("/api/gemini/chat",{messages:t}))},xj=({isFloating:t=!1})=>{const[e,r]=A.useState(""),[n,s]=A.useState(""),[i,o]=A.useState(!1),[c,d]=A.useState([]),[f,h]=A.useState(!1),p=A.useRef(null),[g,x]=A.useState(null),[w,b]=A.useState(null),v=async T=>{var M,_;if(T.preventDefault(),!e.trim()){lt.error("Please enter a prompt");return}o(!0),s("");try{let P;if(f){const I=[...c,{role:"user",parts:e}];d(I),P=await Lp.chatWithGemini(I),d([...I,{role:"model",parts:P.data.data}])}else g?P=await Lp.generateContentWithImage(e,g):P=await Lp.generateContent(e);s(P.data.data)}catch(P){console.error("Error generating content:",P),lt.error(((_=(M=P.response)==null?void 0:M.data)==null?void 0:_.error)||"Failed to generate content")}finally{o(!1)}},C=T=>{const M=T.target.files[0];if(!M)return;if(M.size>10*1024*1024){lt.error("Image size should be less than 10MB");return}const _=new FileReader;_.onload=()=>{b(_.result);const P=_.result.split(",")[1];x(P)},_.readAsDataURL(M)},E=()=>{x(null),b(null),p.current&&(p.current.value="")},j=()=>{h(!f),d([]),s("")},D=()=>{d([]),s("")};return a.jsxs("div",{className:`${t?"":"p-4 bg-white rounded-lg shadow-md"}`,children:[!t&&a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gemini AI Assistant"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("button",{onClick:j,className:`mr-2 px-4 py-2 rounded ${f?"bg-blue-600 text-white":"bg-gray-200"} ${t?"text-sm px-2 py-1":""}`,children:"Chat Mode"}),a.jsx("button",{onClick:j,className:`px-4 py-2 rounded ${f?"bg-gray-200":"bg-blue-600 text-white"} ${t?"text-sm px-2 py-1":""}`,disabled:g&&!f,children:"Single Prompt Mode"})]}),f&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg max-h-96 overflow-y-auto",children:[c.length===0?a.jsx("p",{className:"text-gray-500",children:"Start a conversation with Gemini..."}):c.map((T,M)=>a.jsxs("div",{className:`mb-3 p-3 rounded-lg ${T.role==="user"?"bg-blue-100 ml-12":"bg-gray-200 mr-12"}`,children:[a.jsx("p",{className:"text-sm font-semibold mb-1",children:T.role==="user"?"You":"Gemini"}),a.jsx("p",{children:T.parts})]},M)),c.length>0&&a.jsx("button",{onClick:D,className:"text-sm text-red-600 hover:underline",children:"Clear Chat History"})]}),!f&&!g&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"image-upload",className:"block text-sm font-medium text-gray-700 mb-2",children:"Add an image (optional)"}),a.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:C,ref:p,className:`block w-full text-sm text-gray-500
                      file:mr-4 file:py-2 file:px-4
                      file:rounded-full file:border-0
                      file:text-sm file:font-semibold
                      file:bg-blue-50 file:text-blue-700
                      hover:file:bg-blue-100`})]}),w&&a.jsxs("div",{className:"mb-4 relative",children:[a.jsx("img",{src:w,alt:"Preview",className:"w-full max-h-64 object-contain rounded-lg"}),a.jsx("button",{onClick:E,className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1","aria-label":"Remove image",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),a.jsxs("form",{onSubmit:v,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"prompt",className:"block text-sm font-medium text-gray-700 mb-2",children:f?"Your Message":"Prompt"}),a.jsx("textarea",{id:"prompt",rows:"4",value:e,onChange:T=>r(T.target.value),placeholder:f?"Type your message here...":"Enter your prompt for Gemini...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsx("button",{type:"submit",disabled:i,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-blue-300",children:i?"Processing...":f?"Send Message":g?"Analyze Image & Text":"Generate Content"})]}),!f&&n&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Gemini Response:"}),a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg whitespace-pre-wrap",children:n})]})]})},dK=()=>a.jsxs("div",{className:"container mx-auto py-8 px-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"AI Assistant"}),a.jsx("p",{className:"text-gray-600",children:"Get help with customer inquiries, generate content, analyze images, and more using Google's Gemini AI."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsx("div",{children:a.jsx(xj,{})}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"How Gemini AI Can Help You"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Customer Support"}),a.jsx("p",{className:"text-gray-600",children:"Draft personalized responses to customer inquiries, create follow-up emails, and generate helpful content."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Content Creation"}),a.jsx("p",{className:"text-gray-600",children:"Generate product descriptions, marketing copy, social media posts, and other content for your business."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Data Analysis"}),a.jsx("p",{className:"text-gray-600",children:"Ask questions about your business data and get AI-powered insights and recommendations."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Image Analysis"}),a.jsx("p",{className:"text-gray-600",children:"Upload images for analysis, description, or to extract information contained in visuals."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Conversation Mode"}),a.jsx("p",{className:"text-gray-600",children:"Have a multi-turn conversation with the AI to refine ideas or explore complex topics in depth."})]})]}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Pro Tips"}),a.jsxs("ul",{className:"list-disc list-inside text-blue-700 space-y-2 mt-2",children:[a.jsx("li",{children:"Be specific in your prompts for better results"}),a.jsx("li",{children:"For image analysis, use clear, high-quality images"}),a.jsx("li",{children:"In chat mode, you can reference previous messages"}),a.jsx("li",{children:"Try different ways of asking to get varied responses"}),a.jsx("li",{children:"Save useful responses for future reference"})]})]})]})]})]}),fK=()=>{const{user:t}=$t(),[e,r]=A.useState([]),[n,s]=A.useState(!0),[i,o]=A.useState(null),[c,d]=A.useState(!1),[f,h]=A.useState(null),[p,g]=A.useState({fullName:"",email:"",password:"",role:"Sales Person"}),[x,w]=A.useState({totalUsers:0,totalSales:0,totalLeads:0,userCounts:{salesPerson:0,leadPerson:0,manager:0,admin:0}}),b=(t==null?void 0:t.role)==="Admin";A.useEffect(()=>{C(),v()},[]);const v=async()=>{try{let _=0,P=0;try{_=await zN(),console.log("Manager Dashboard - Got direct sales count:",_)}catch(I){console.error("Manager Dashboard - Error getting direct sales count:",I)}try{const I=localStorage.getItem("token"),K=await tr.get("https://crm-backend-o36v.onrender.com/api/leads",{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});K.data&&K.data.data&&Array.isArray(K.data.data)&&(P=K.data.data.length)}catch(I){console.error("Error fetching leads count:",I)}console.log("Final counts - Sales:",_,"Leads:",P),w(I=>({...I,totalSales:_,totalLeads:P,totalUsers:e.length,userCounts:{salesPerson:e.filter(K=>K.role==="Sales Person").length,leadPerson:e.filter(K=>K.role==="Lead Person").length,manager:e.filter(K=>K.role==="Manager").length,admin:e.filter(K=>K.role==="Admin").length}}))}catch(_){console.error("Error fetching dashboard stats:",_)}},C=async()=>{try{s(!0);const _=await cr.getUsers();_.data.success?(r(_.data.data),w(P=>({...P,totalUsers:_.data.data.length,userCounts:{salesPerson:_.data.data.filter(I=>I.role==="Sales Person").length,leadPerson:_.data.data.filter(I=>I.role==="Lead Person").length,manager:_.data.data.filter(I=>I.role==="Manager").length,admin:_.data.data.filter(I=>I.role==="Admin").length}}))):o("Failed to load users")}catch(_){console.error("Error fetching users:",_),o("Failed to load users. Please try again.")}finally{s(!1)}},E=_=>{g({...p,[_.target.name]:_.target.value})},j=async _=>{var P,I;if(_.preventDefault(),!b&&(p.role==="Admin"||f&&f.role==="Admin")){yr.error("Only Admins can manage Admin accounts");return}s(!0);try{let K;if(f){const q={...p};q.password||delete q.password,K=await cr.updateUser(f._id,q),yr.success("User updated successfully")}else K=await cr.createUser(p),yr.success("User created successfully");d(!1),M(),C()}catch(K){console.error("Error with user:",K),yr.error(((I=(P=K.response)==null?void 0:P.data)==null?void 0:I.message)||"Failed to process user")}finally{s(!1)}},D=async _=>{const P=e.find(I=>I._id===_);if(!b&&P.role==="Admin"){yr.error("Only Admins can delete Admin accounts");return}if(window.confirm("Are you sure you want to delete this user?"))try{s(!0),await cr.deleteUser(_),yr.success("User deleted successfully"),C()}catch(I){console.error("Error deleting user:",I),yr.error("Failed to delete user")}finally{s(!1)}},T=_=>{if(!b&&_.role==="Admin"){yr.error("Only Admins can edit Admin accounts");return}h(_),g({fullName:_.fullName,email:_.email,password:"",role:_.role}),d(!0)},M=()=>{g({fullName:"",email:"",password:"",role:"Sales Person"}),h(null)};return a.jsxs(ur,{children:[a.jsxs("div",{className:"container mx-auto p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Manager Dashboard"}),a.jsxs("button",{onClick:()=>{M(),d(!0)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsx(Zg,{className:"mr-2"})," Add New User"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:x.totalUsers})]}),a.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:a.jsx(o6,{className:"h-5 w-5 text-blue-600"})})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Sales"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:x.totalSales})]}),a.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:a.jsx(e6,{className:"h-5 w-5 text-green-600"})})]}),a.jsx("div",{className:"mt-2",children:a.jsx(wt,{to:"/sales-tracking",className:"text-sm text-blue-600 hover:underline",children:"View all sales"})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Leads"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:x.totalLeads})]}),a.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:a.jsx(J5,{className:"h-5 w-5 text-yellow-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Team Breakdown"}),a.jsxs("p",{className:"text-sm mt-1",children:["Sales: ",x.userCounts.salesPerson]}),a.jsxs("p",{className:"text-sm",children:["Leads: ",x.userCounts.leadPerson]})]}),a.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:a.jsx($N,{className:"h-5 w-5 text-purple-600"})})]})})]}),a.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Management"}),!b&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-400 text-yellow-700 px-4 py-3 rounded relative mb-4",children:[a.jsx("strong",{children:"Note:"})," As a Manager, you cannot modify Admin accounts."]}),n&&!c?a.jsx("div",{className:"flex justify-center items-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i?a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:i}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-500",children:"No users found"})}):e.map(_=>a.jsxs("tr",{className:`hover:bg-gray-50 ${!b&&_.role==="Admin"?"bg-gray-50":""}`,children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.fullName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                            ${_.role==="Admin"?"bg-purple-100 text-purple-800":_.role==="Manager"?"bg-blue-100 text-blue-800":_.role==="Lead Person"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.role})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("div",{className:"flex space-x-3",children:!b&&_.role==="Admin"?a.jsx("span",{className:"text-gray-400",title:"Admin users can only be managed by other Admins",children:a.jsx(Z5,{className:"h-5 w-5"})}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>T(_),className:"text-indigo-600 hover:text-indigo-900",title:"Edit user",children:a.jsx($u,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>D(_._id),className:"text-red-600 hover:text-red-900",title:"Delete user",children:a.jsx(ex,{className:"h-5 w-5"})})]})})})]},_._id))})]})})]})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:f?"Edit User":"Add New User"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(bu,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:j,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",name:"fullName",value:p.fullName,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:p.email,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f?"Password (leave empty to keep current)":"Password"}),a.jsx("input",{type:"password",name:"password",value:p.password,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!f})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{name:"role",value:p.role,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",disabled:!b&&p.role==="Admin",children:[a.jsx("option",{value:"Sales Person",children:"Sales Person"}),a.jsx("option",{value:"Lead Person",children:"Lead Person"}),a.jsx("option",{value:"Manager",children:"Manager"}),b&&a.jsx("option",{value:"Admin",children:"Admin"})]}),!b&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Only Admins can create or modify Admin accounts"})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:n||!b&&p.role==="Admin",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:n?"Processing...":f?"Update User":"Add User"})]})]})]})})]})},hK=()=>{const{user:t}=$t(),[e,r]=A.useState([]),[n,s]=A.useState(!1),[i,o]=A.useState(null);A.useEffect(()=>{const x=()=>{const b=No.getStatus();o(b)};x();const w=setInterval(x,2e3);return()=>clearInterval(w)},[]);const c=async()=>{try{s(!0);const w=await(await fetch("/api/test-exam/upcoming-exams")).json();w.success?r(w.data):lt.error("Failed to fetch upcoming exams")}catch(x){console.error("Error fetching upcoming exams:",x),lt.error("Error fetching upcoming exams")}finally{s(!1)}},d=async(x=11)=>{try{s(!0);const b=await(await fetch("/api/test-exam/create-exam",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({course:`React Development ${Date.now()}`,minutesFromNow:x,userEmail:t.email})})).json();b.success?(lt.success(b.message),c()):lt.error(b.message)}catch(w){console.error("Error creating test exam:",w),lt.error("Error creating test exam")}finally{s(!1)}},f=async()=>{try{s(!0);const w=await(await fetch("/api/test-exam/trigger-notifications",{method:"POST"})).json();w.success?lt.success("Notification check triggered!"):lt.error(w.message)}catch(x){console.error("Error triggering notifications:",x),lt.error("Error triggering notifications")}finally{s(!1)}},h=async()=>{try{s(!0);const w=await(await fetch("/api/test-exam/cleanup-test-exams",{method:"DELETE"})).json();w.success?(lt.success(w.message),c()):lt.error(w.message)}catch(x){console.error("Error cleaning up test exams:",x),lt.error("Error cleaning up test exams")}finally{s(!1)}},p=()=>{No.playNotificationSound(),lt.success(" Audio test played!")},g=async()=>{await No.requestNotificationPermission()?lt.success(" Notification permission granted!"):lt.error(" Notification permission denied")};return A.useEffect(()=>{c()},[]),a.jsx(ur,{children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:" Exam Notification Testing"}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Connection Status"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`w-3 h-3 rounded-full ${i!=null&&i.isConnected?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{className:"font-medium",children:"WebSocket:"}),a.jsx("span",{className:i!=null&&i.isConnected?"text-green-600":"text-red-600",children:i!=null&&i.isConnected?"Connected":"Disconnected"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-medium",children:"User ID:"}),a.jsx("span",{className:"text-gray-600",children:(i==null?void 0:i.userId)||"Not set"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Test Controls"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx("button",{onClick:()=>d(11),disabled:n,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Create Test Exam (11 min)"}),a.jsx("button",{onClick:()=>d(2),disabled:n,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Quick Test (2 min)"}),a.jsx("button",{onClick:f,disabled:n,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Trigger Notifications"}),a.jsx("button",{onClick:p,disabled:n,className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Test Audio"}),a.jsx("button",{onClick:g,disabled:n,className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Request Permission"}),a.jsx("button",{onClick:h,disabled:n,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Cleanup Test Exams"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:" Upcoming Exams"}),a.jsx("button",{onClick:c,disabled:n,className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm disabled:opacity-50",children:" Refresh"})]}),n?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):e.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No upcoming exams found"}),a.jsx("p",{className:"text-sm mt-2",children:"Create a test exam to see notifications in action!"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minutes Until"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reminder Sent"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(x=>{var w;return a.jsxs("tr",{className:x.minutesUntilExam<=10?"bg-red-50":"",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.course}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(x.examDateTime).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((w=x.assignedTo)==null?void 0:w.name)||"Unassigned"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${x.minutesUntilExam<=10?"bg-red-100 text-red-800":x.minutesUntilExam<=30?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[x.minutesUntilExam," min"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${x.reminderSent?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.reminderSent?" Sent":" Pending"})})]},x.id)})})]})})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:" How to Test"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-700",children:[a.jsx("li",{children:'Click "Request Permission" to enable browser notifications'}),a.jsx("li",{children:'Create a test exam using "Create Test Exam (11 min)" - this will trigger a notification in 1 minute'}),a.jsx("li",{children:'For immediate testing, use "Quick Test (2 min)" and then "Trigger Notifications"'}),a.jsx("li",{children:"Watch for:"}),a.jsxs("ul",{className:"list-disc list-inside ml-6 mt-1 space-y-1",children:[a.jsx("li",{children:" Audio beep sounds"}),a.jsx("li",{children:" Toast notifications in the app"}),a.jsx("li",{children:" Browser notifications (if permission granted)"}),a.jsx("li",{children:" Email notifications (check your email)"})]}),a.jsx("li",{children:'Use "Cleanup Test Exams" to remove test data when done'})]})]})]})})})},yj=A.createContext(),w1=()=>{const t=A.useContext(yj);if(!t)throw new Error("useChat must be used within a ChatProvider");return t},mK=({children:t})=>{const{user:e,token:r}=$t(),[n,s]=A.useState(null),[i,o]=A.useState(!1),[c,d]=A.useState([]),[f,h]=A.useState([]),[p,g]=A.useState(null),[x,w]=A.useState({}),[b,v]=A.useState({}),[C,E]=A.useState({}),[j,D]=A.useState(!1),T=A.useRef(null),M=A.useRef({});A.useEffect(()=>{if(e&&r){const W="https://crm-backend-o36v.onrender.com";console.log(" Connecting to chat server:",W),console.log(" User:",e.fullName,"Role:",e.role),console.log(" Token present:",!!r);const ne=jl(W,{transports:["websocket","polling"],timeout:2e4,forceNew:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5,maxReconnectionAttempts:5,auth:{token:r},query:{userId:e._id,userRole:e.role}});return ne.on("connect",()=>{console.log(" Connected to chat server"),o(!0),ne.emit("join-user-room",e._id),console.log(" Joined user room:",e._id),I("ONLINE"),H(),K()}),ne.on("connect_error",X=>{console.error(" Socket connection error:",X),o(!1),yr.error("Failed to connect to chat server. Please refresh the page.")}),ne.on("disconnect",X=>{console.log(" Disconnected from chat server:",X),o(!1),X==="io server disconnect"&&ne.connect()}),ne.on("reconnect",X=>{console.log(" Reconnected to chat server, attempt:",X),o(!0),ne.emit("join-user-room",e._id),I("ONLINE"),yr.success("Reconnected to chat server")}),ne.on("newMessage",X=>{w(Z=>({...Z,[X.chatId]:[...Z[X.chatId]||[],X]})),(!p||p.chatId!==X.chatId)&&v(Z=>({...Z,[X.senderId._id]:(Z[X.senderId._id]||0)+1})),h(Z=>Z.map(ae=>ae.chatId===X.chatId?{...ae,lastMessage:X.content,lastMessageTime:X.timestamp}:ae))}),ne.on("messageNotification",X=>{j||yr.info(`New message from ${X.senderName}: ${X.content.substring(0,50)}...`)}),ne.on("userStatusUpdate",X=>{d(Z=>Z.map(ae=>ae._id===X.userId?{...ae,chatStatus:X.status,lastSeen:X.lastSeen}:ae)),h(Z=>Z.map(ae=>ae.otherUser._id===X.userId?{...ae,otherUser:{...ae.otherUser,chatStatus:X.status,lastSeen:X.lastSeen}}:ae))}),ne.on("userTyping",X=>{const{senderId:Z,isTyping:ae}=X;E(Y=>({...Y,[Z]:ae})),ae&&(M.current[Z]&&clearTimeout(M.current[Z]),M.current[Z]=setTimeout(()=>{E(Y=>({...Y,[Z]:!1}))},3e3))}),ne.on("messageDelivered",X=>{console.log("Message delivered:",X)}),ne.on("messageError",X=>{yr.error(`Failed to send message: ${X.error}`)}),s(ne),T.current=ne,()=>{ne.close(),s(null),T.current=null,o(!1)}}},[e,r]);const _=(W,ne,X="text")=>{if(n&&e){const Z={senderId:e._id,recipientId:W,content:ne,messageType:X};n.emit("sendMessage",Z);const ae=[e._id,W].sort().join("_"),Y={_id:Date.now().toString(),chatId:ae,senderId:e,recipientId:{_id:W},content:ne,messageType:X,timestamp:new Date,isRead:!1,isOptimistic:!0};w(R=>({...R,[ae]:[...R[ae]||[],Y]}))}},P=(W,ne)=>{n&&e&&n.emit("typing",{senderId:e._id,recipientId:W,isTyping:ne})},I=W=>{n&&e&&n.emit("updateStatus",{userId:e._id,status:W})},K=async()=>{try{const ne=await fetch("https://crm-backend-o36v.onrender.com/api/chat/rooms",{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(ne.ok){const X=await ne.json();h(X.data);const Z={};X.data.forEach(ae=>{ae.unreadCount>0&&(Z[ae.otherUser._id]=ae.unreadCount)}),v(Z)}}catch(W){console.error("Error fetching chat rooms:",W)}},q=async W=>{try{const X=await fetch(`https://crm-backend-o36v.onrender.com/api/chat/messages/${W}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(X.ok){const Z=await X.json(),ae=[e._id,W].sort().join("_");w(Y=>({...Y,[ae]:Z.data})),v(Y=>({...Y,[W]:0}))}}catch(ne){console.error("Error fetching messages:",ne)}},H=async()=>{try{const ne=await fetch("https://crm-backend-o36v.onrender.com/api/chat/users",{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(ne.ok){const X=await ne.json();d(X.data)}}catch(W){console.error("Error fetching users:",W)}},O={socket:n,isConnected:i,onlineUsers:c,chatRooms:f,activeChat:p,messages:x,unreadCounts:b,typingUsers:C,isChatOpen:j,sendMessage:_,sendTypingIndicator:P,updateUserStatus:I,fetchChatRooms:K,fetchMessages:q,fetchAllUsers:H,startChat:async W=>{g({chatId:[e._id,W._id].sort().join("_"),otherUser:W}),await q(W._id),D(!0)},closeChat:()=>{g(null),D(!1)},setIsChatOpen:D};return a.jsx(yj.Provider,{value:O,children:t})},pK=()=>{var d;const{user:t}=$t(),{setIsChatOpen:e,onlineUsers:r,unreadCounts:n}=w1(),[s,i]=A.useState([]);A.useEffect(()=>{const f=r.filter(h=>h.role!=="Customer");i(f)},[r]);const o=Object.values(n).reduce((f,h)=>f+h,0),c=()=>{e(!0)};return a.jsx(ur,{children:a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Welcome, ",t==null?void 0:t.fullName,"!"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Your customer portal - Chat with our team and get support"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Customer ID"}),a.jsx("div",{className:"font-mono text-sm",children:(d=t==null?void 0:t._id)==null?void 0:d.slice(-8)})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[a.jsx(Qc,{className:"mr-2 text-blue-600"}),"Chat with Support Team"]}),o>0&&a.jsxs("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-sm",children:[o," new messages"]})]}),a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"mb-4",children:a.jsx(Qc,{className:"mx-auto text-6xl text-blue-200"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Need Help? Start a Conversation"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Our support team is here to help you. Click below to start chatting."}),a.jsx("button",{onClick:c,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Open Chat"})]}),s.length>0&&a.jsxs("div",{className:"mt-6 border-t pt-4",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Support Team Online (",s.length,")"]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.slice(0,5).map(f=>a.jsxs("div",{className:"flex items-center bg-green-50 px-3 py-1 rounded-full",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),a.jsx("span",{className:"text-sm text-green-700",children:f.fullName}),a.jsxs("span",{className:"text-xs text-green-600 ml-1",children:["(",f.role,")"]})]},f._id)),s.length>5&&a.jsx("div",{className:"flex items-center bg-gray-50 px-3 py-1 rounded-full",children:a.jsxs("span",{className:"text-sm text-gray-600",children:["+",s.length-5," more"]})})]})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Zc,{className:"mr-2 text-blue-600"}),"Account Information"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zc,{className:"text-gray-400 mr-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Full Name"}),a.jsx("div",{className:"font-medium",children:t==null?void 0:t.fullName})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(vu,{className:"text-gray-400 mr-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Email"}),a.jsx("div",{className:"font-medium",children:t==null?void 0:t.email})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(WN,{className:"text-gray-400 mr-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Member Since"}),a.jsx("div",{className:"font-medium",children:t!=null&&t.createdAt?new Date(t.createdAt).toLocaleDateString():"N/A"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:c,className:"w-full bg-blue-50 hover:bg-blue-100 text-blue-700 px-4 py-3 rounded-lg text-left transition-colors",children:[a.jsx(Qc,{className:"inline mr-2"}),"Start New Chat"]}),a.jsxs("button",{onClick:()=>window.location.href="/profile",className:"w-full bg-gray-50 hover:bg-gray-100 text-gray-700 px-4 py-3 rounded-lg text-left transition-colors",children:[a.jsx(Zc,{className:"inline mr-2"}),"Edit Profile"]})]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Need Help?"}),a.jsx("p",{className:"text-blue-700 text-sm mb-3",children:"Our support team is available to help you with any questions or issues."}),a.jsxs("div",{className:"text-sm text-blue-600",children:[a.jsx("div",{children:" Email: support@traincapetech.in"}),a.jsx("div",{children:" Hours: 9 AM - 6 PM (Mon-Fri)"}),a.jsx("div",{children:" Live Chat: Available now"})]})]})]})]})]})})})};function gK(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}},{tag:"polyline",attr:{points:"12 5 19 12 12 19"}}]})(t)}function Z4(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(t)}function eN(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(t)}function tN(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}},{tag:"polyline",attr:{points:"22,6 12,13 2,6"}}]})(t)}function rN(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(t)}function nN(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(t)}function xK(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(t)}function yK(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(t)}function vK(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(t)}const bK=()=>{var H,oe,Q,O,W,ne,X;const{user:t,token:e}=$t(),[r,n]=A.useState([]),[s,i]=A.useState(!0),[o,c]=A.useState(!1),[d,f]=A.useState(!1),[h,p]=A.useState(!1),[g,x]=A.useState(null),[w,b]=A.useState({}),[v,C]=A.useState({search:"",status:"",source:"",priority:"",page:1,limit:10}),[E,j]=A.useState({}),D=async()=>{try{i(!0);const Z=await yl.getAll(v);Z.data.success&&(n(Z.data.data),j(Z.data.pagination))}catch(Z){console.error("Error fetching prospects:",Z),lt.error("Failed to fetch prospects")}finally{i(!1)}},T=async()=>{try{const Z=await yl.getStats();Z.data.success&&b(Z.data.data)}catch(Z){console.error("Error fetching stats:",Z)}};A.useEffect(()=>{D(),T()},[v]);const M=Z=>{C(ae=>({...ae,search:Z.target.value,page:1}))},_=(Z,ae)=>{C(Y=>({...Y,[Z]:ae,page:1}))},P=async Z=>{var ae,Y;if(window.confirm("Are you sure you want to delete this prospect?"))try{(await yl.delete(Z)).data.success&&(lt.success("Prospect deleted successfully"),D(),T())}catch(R){console.error("Error deleting prospect:",R),lt.error(((Y=(ae=R.response)==null?void 0:ae.data)==null?void 0:Y.message)||"Failed to delete prospect")}},I=async Z=>{var ae,Y;if(window.confirm("Convert this prospect to a lead?"))try{(await yl.convertToLead(Z)).data.success&&(lt.success("Prospect converted to lead successfully"),D(),T())}catch(R){console.error("Error converting prospect:",R),lt.error(((Y=(ae=R.response)==null?void 0:ae.data)==null?void 0:Y.message)||"Failed to convert prospect")}},K=({status:Z})=>{const ae={New:"bg-blue-100 text-blue-800",Contacted:"bg-yellow-100 text-yellow-800",Interested:"bg-green-100 text-green-800","Not Interested":"bg-red-100 text-red-800","Follow Up":"bg-purple-100 text-purple-800",Qualified:"bg-indigo-100 text-indigo-800","Converted to Lead":"bg-emerald-100 text-emerald-800",Lost:"bg-gray-100 text-gray-800"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ae[Z]||"bg-gray-100 text-gray-800"}`,children:Z})},q=({priority:Z})=>{const ae={High:"bg-red-100 text-red-800",Medium:"bg-yellow-100 text-yellow-800",Low:"bg-green-100 text-green-800"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ae[Z]||"bg-gray-100 text-gray-800"}`,children:Z})};return a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Prospects"}),a.jsx("p",{className:"text-gray-600",children:"Manage your potential customers"})]}),a.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[a.jsx(nN,{})," Add Prospect"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((H=w.overview)==null?void 0:H.total)||0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-500",children:((oe=w.overview)==null?void 0:oe.new)||0}),a.jsx("div",{className:"text-sm text-gray-600",children:"New"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:((Q=w.overview)==null?void 0:Q.contacted)||0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Contacted"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("div",{className:"text-2xl font-bold text-green-500",children:((O=w.overview)==null?void 0:O.interested)||0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Interested"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-500",children:((W=w.overview)==null?void 0:W.qualified)||0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Qualified"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("div",{className:"text-2xl font-bold text-emerald-500",children:((ne=w.overview)==null?void 0:ne.converted)||0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Converted"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("div",{className:"text-2xl font-bold text-red-500",children:((X=w.overview)==null?void 0:X.lost)||0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Lost"})]})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow border mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(xK,{className:"absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search prospects...",value:v.search,onChange:M,className:"pl-10 pr-4 py-2 border rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("select",{value:v.status,onChange:Z=>_("status",Z.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Contacted",children:"Contacted"}),a.jsx("option",{value:"Interested",children:"Interested"}),a.jsx("option",{value:"Not Interested",children:"Not Interested"}),a.jsx("option",{value:"Follow Up",children:"Follow Up"}),a.jsx("option",{value:"Qualified",children:"Qualified"}),a.jsx("option",{value:"Converted to Lead",children:"Converted to Lead"}),a.jsx("option",{value:"Lost",children:"Lost"})]}),a.jsxs("select",{value:v.source,onChange:Z=>_("source",Z.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"All Sources"}),a.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),a.jsx("option",{value:"Website",children:"Website"}),a.jsx("option",{value:"Referral",children:"Referral"}),a.jsx("option",{value:"Cold Call",children:"Cold Call"}),a.jsx("option",{value:"Email Campaign",children:"Email Campaign"}),a.jsx("option",{value:"Social Media",children:"Social Media"}),a.jsx("option",{value:"Event",children:"Event"}),a.jsx("option",{value:"Other",children:"Other"})]}),a.jsxs("select",{value:v.priority,onChange:Z=>_("priority",Z.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"All Priorities"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Low",children:"Low"})]})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:s?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading prospects..."})]}):r.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(vK,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No prospects"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new prospect."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 mx-auto",children:[a.jsx(nN,{})," Add Prospect"]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Info"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(Z=>{var ae;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:Z.name||"No Name"}),a.jsxs("div",{className:"text-xs text-gray-500",children:[Z.email&&a.jsxs("div",{className:"flex items-center gap-1 truncate",children:[a.jsx(tN,{className:"w-3 h-3 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:Z.email})]}),Z.phone&&a.jsxs("div",{className:"flex items-center gap-1 truncate",children:[a.jsx(rN,{className:"w-3 h-3 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:Z.phone})]})]})]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"text-sm text-gray-900 truncate",children:Z.company||"-"}),a.jsx("div",{className:"text-xs text-gray-500 truncate",children:Z.designation||"-"})]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"text-sm text-gray-900",children:Z.source})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(K,{status:Z.status})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(q,{priority:Z.priority})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:((ae=Z.assignedTo)==null?void 0:ae.fullName)||"Unassigned"})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(Z.createdAt).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>{x(Z),p(!0)},className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"View Details",children:a.jsx(eN,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{x(Z),f(!0)},className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",title:"Edit",children:a.jsx(Z4,{className:"w-4 h-4"})}),Z.status!=="Converted to Lead"&&a.jsx("button",{onClick:()=>I(Z._id),className:"text-purple-600 hover:text-purple-900 p-1 rounded hover:bg-purple-50",title:"Convert to Lead",children:a.jsx(gK,{className:"w-4 h-4"})}),["Admin","Manager"].includes(t==null?void 0:t.role)&&a.jsx("button",{onClick:()=>P(Z._id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Delete",children:a.jsx(yK,{className:"w-4 h-4"})})]})})]},Z._id)})})]})}),a.jsx("div",{className:"lg:hidden",children:r.map(Z=>{var ae;return a.jsxs("div",{className:"border-b border-gray-200 p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:Z.name||"No Name"}),a.jsx("p",{className:"text-xs text-gray-500",children:Z.company||"No Company"})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsx("button",{onClick:()=>{x(Z),p(!0)},className:"text-blue-600 hover:text-blue-900 p-2 rounded hover:bg-blue-50",title:"View Details",children:a.jsx(eN,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{x(Z),f(!0)},className:"text-green-600 hover:text-green-900 p-2 rounded hover:bg-green-50",title:"Edit",children:a.jsx(Z4,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Status:"}),a.jsx("div",{className:"mt-1",children:a.jsx(K,{status:Z.status})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Priority:"}),a.jsx("div",{className:"mt-1",children:a.jsx(q,{priority:Z.priority})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Source:"}),a.jsx("div",{className:"mt-1 text-gray-900",children:Z.source})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Assigned:"}),a.jsx("div",{className:"mt-1 text-gray-900 truncate",children:((ae=Z.assignedTo)==null?void 0:ae.fullName)||"Unassigned"})]})]}),(Z.email||Z.phone)&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[Z.email&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-1",children:[a.jsx(tN,{className:"w-3 h-3"}),a.jsx("span",{className:"truncate",children:Z.email})]}),Z.phone&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[a.jsx(rN,{className:"w-3 h-3"}),a.jsx("span",{children:Z.phone})]})]})]},Z._id)})}),E.pages>1&&a.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx("button",{onClick:()=>_("page",Math.max(1,v.page-1)),disabled:v.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>_("page",Math.min(E.pages,v.page+1)),disabled:v.page===E.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:(v.page-1)*v.limit+1})," to"," ",a.jsx("span",{className:"font-medium",children:Math.min(v.page*v.limit,E.total)})," ","of ",a.jsx("span",{className:"font-medium",children:E.total})," results"]})}),a.jsx("div",{children:a.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:E.pages},(Z,ae)=>ae+1).map(Z=>a.jsx("button",{onClick:()=>_("page",Z),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${Z===v.page?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:Z},Z))})})]})]})]})}),(o||d)&&a.jsx(wK,{isOpen:o||d,onClose:()=>{c(!1),f(!1),x(null)},prospect:g,onSuccess:()=>{D(),T(),c(!1),f(!1),x(null)}}),h&&g&&a.jsx(NK,{isOpen:h,onClose:()=>{p(!1),x(null)},prospect:g,onEdit:()=>{p(!1),f(!0)},onConvert:()=>{p(!1),I(g._id)},onDelete:()=>{p(!1),P(g._id)},userRole:t==null?void 0:t.role})]})},wK=({isOpen:t,onClose:e,prospect:r,onSuccess:n})=>{const{user:s,token:i}=$t(),[o,c]=A.useState(!1),[d,f]=A.useState([]),[h,p]=A.useState({name:"",email:"",phone:"",company:"",designation:"",source:"Other",sourceDetails:"",industry:"",companySize:"Unknown",budget:"",budgetCurrency:"USD",serviceInterest:"",requirements:"",timeline:"Not specified",status:"New",priority:"Medium",assignedTo:"",lastContactDate:"",nextFollowUpDate:"",contactMethod:"",notes:"",tags:"",linkedinProfile:"",websiteUrl:""});A.useEffect(()=>{var w,b;r&&p({name:r.name||"",email:r.email||"",phone:r.phone||"",company:r.company||"",designation:r.designation||"",source:r.source||"Other",sourceDetails:r.sourceDetails||"",industry:r.industry||"",companySize:r.companySize||"Unknown",budget:r.budget||"",budgetCurrency:r.budgetCurrency||"USD",serviceInterest:r.serviceInterest||"",requirements:r.requirements||"",timeline:r.timeline||"Not specified",status:r.status||"New",priority:r.priority||"Medium",assignedTo:((w=r.assignedTo)==null?void 0:w._id)||"",lastContactDate:r.lastContactDate?r.lastContactDate.split("T")[0]:"",nextFollowUpDate:r.nextFollowUpDate?r.nextFollowUpDate.split("T")[0]:"",contactMethod:r.contactMethod||"",notes:r.notes||"",tags:((b=r.tags)==null?void 0:b.join(", "))||"",linkedinProfile:r.linkedinProfile||"",websiteUrl:r.websiteUrl||""})},[r]),A.useEffect(()=>{(async()=>{try{const b=await cr.getUsers();b.data.success&&f(b.data.data.filter(v=>["Sales Person","Manager","Admin"].includes(v.role)))}catch(b){console.error("Error fetching users:",b)}})()},[i]);const g=async w=>{var b,v;w.preventDefault(),c(!0);try{const C={...h,budget:h.budget?parseFloat(h.budget):void 0,tags:h.tags?h.tags.split(",").map(j=>j.trim()).filter(Boolean):[],lastContactDate:h.lastContactDate||void 0,nextFollowUpDate:h.nextFollowUpDate||void 0};Object.keys(C).forEach(j=>{C[j]===""&&delete C[j]}),(r?await yl.update(r._id,C):await yl.create(C)).data.success&&(lt.success(r?"Prospect updated successfully":"Prospect created successfully"),n())}catch(C){console.error("Error saving prospect:",C),lt.error(((v=(b=C.response)==null?void 0:b.data)==null?void 0:v.message)||"Failed to save prospect")}finally{c(!1)}},x=w=>{p(b=>({...b,[w.target.name]:w.target.value}))};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r?"Edit Prospect":"Add New Prospect"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:""})]}),a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",name:"name",value:h.name,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Contact person name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:h.email,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:h.phone,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+1 (555) 123-4567"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),a.jsx("input",{type:"text",name:"company",value:h.company,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Company name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation"}),a.jsx("input",{type:"text",name:"designation",value:h.designation,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Job title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),a.jsx("input",{type:"text",name:"industry",value:h.industry,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Technology, Healthcare, etc."})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Source & Business Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),a.jsxs("select",{name:"source",value:h.source,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),a.jsx("option",{value:"Website",children:"Website"}),a.jsx("option",{value:"Referral",children:"Referral"}),a.jsx("option",{value:"Cold Call",children:"Cold Call"}),a.jsx("option",{value:"Email Campaign",children:"Email Campaign"}),a.jsx("option",{value:"Social Media",children:"Social Media"}),a.jsx("option",{value:"Event",children:"Event"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source Details"}),a.jsx("input",{type:"text",name:"sourceDetails",value:h.sourceDetails,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional source information"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Size"}),a.jsxs("select",{name:"companySize",value:h.companySize,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"1-10",children:"1-10"}),a.jsx("option",{value:"11-50",children:"11-50"}),a.jsx("option",{value:"51-200",children:"51-200"}),a.jsx("option",{value:"201-500",children:"201-500"}),a.jsx("option",{value:"501-1000",children:"501-1000"}),a.jsx("option",{value:"1000+",children:"1000+"}),a.jsx("option",{value:"Unknown",children:"Unknown"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),a.jsxs("div",{className:"flex",children:[a.jsxs("select",{name:"budgetCurrency",value:h.budgetCurrency,onChange:x,className:"px-3 py-2 border border-gray-300 rounded-l-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"INR",children:"INR"})]}),a.jsx("input",{type:"number",name:"budget",value:h.budget,onChange:x,className:"flex-1 px-3 py-2 border border-l-0 border-gray-300 rounded-r-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Interest & Requirements"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Interest"}),a.jsx("input",{type:"text",name:"serviceInterest",value:h.serviceInterest,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"What services are they interested in?"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeline"}),a.jsxs("select",{name:"timeline",value:h.timeline,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"Immediate",children:"Immediate"}),a.jsx("option",{value:"Within 1 month",children:"Within 1 month"}),a.jsx("option",{value:"1-3 months",children:"1-3 months"}),a.jsx("option",{value:"3-6 months",children:"3-6 months"}),a.jsx("option",{value:"6+ months",children:"6+ months"}),a.jsx("option",{value:"Not specified",children:"Not specified"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requirements"}),a.jsx("textarea",{name:"requirements",value:h.requirements,onChange:x,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Detailed requirements and needs"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Status & Assignment"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{name:"status",value:h.status,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Contacted",children:"Contacted"}),a.jsx("option",{value:"Interested",children:"Interested"}),a.jsx("option",{value:"Not Interested",children:"Not Interested"}),a.jsx("option",{value:"Follow Up",children:"Follow Up"}),a.jsx("option",{value:"Qualified",children:"Qualified"}),a.jsx("option",{value:"Lost",children:"Lost"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsxs("select",{name:"priority",value:h.priority,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Low",children:"Low"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned To"}),a.jsxs("select",{name:"assignedTo",value:h.assignedTo,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Unassigned"}),d.map(w=>a.jsxs("option",{value:w._id,children:[w.fullName," (",w.role,")"]},w._id))]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Follow-up Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Contact Date"}),a.jsx("input",{type:"date",name:"lastContactDate",value:h.lastContactDate,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Follow-up Date"}),a.jsx("input",{type:"date",name:"nextFollowUpDate",value:h.nextFollowUpDate,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Method"}),a.jsxs("select",{name:"contactMethod",value:h.contactMethod,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select method"}),a.jsx("option",{value:"Email",children:"Email"}),a.jsx("option",{value:"Phone",children:"Phone"}),a.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),a.jsx("option",{value:"WhatsApp",children:"WhatsApp"}),a.jsx("option",{value:"Meeting",children:"Meeting"}),a.jsx("option",{value:"Other",children:"Other"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn Profile"}),a.jsx("input",{type:"url",name:"linkedinProfile",value:h.linkedinProfile,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://linkedin.com/in/username"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website URL"}),a.jsx("input",{type:"url",name:"websiteUrl",value:h.websiteUrl,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://company.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),a.jsx("input",{type:"text",name:"tags",value:h.tags,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"tag1, tag2, tag3"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Separate tags with commas"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{name:"notes",value:h.notes,onChange:x,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes and observations"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[o&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r?"Update Prospect":"Create Prospect"]})]})]})]})})}):null},NK=({isOpen:t,onClose:e,prospect:r,onEdit:n,onConvert:s,onDelete:i,userRole:o})=>{var c,d;return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"View Prospect Details"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Prospect Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.name||"No Name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.email||"No Email"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.phone||"No Phone"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.company||"No Company"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.designation||"No Designation"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.industry||"No Industry"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.source||"No Source"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsx("div",{className:"text-sm text-gray-900",children:a.jsx(StatusBadge,{status:r.status})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsx("div",{className:"text-sm text-gray-900",children:a.jsx(PriorityBadge,{priority:r.priority})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned To"}),a.jsx("div",{className:"text-sm text-gray-900",children:((c=r.assignedTo)==null?void 0:c.fullName)||"Unassigned"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created"}),a.jsx("div",{className:"text-sm text-gray-900",children:new Date(r.createdAt).toLocaleDateString()})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source Details"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.sourceDetails||"No source details"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Size"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.companySize||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.budget?`${r.budget} ${r.budgetCurrency}`:"No budget"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Interest"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.serviceInterest||"No service interest"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeline"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.timeline||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requirements"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.requirements||"No requirements"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Contact Date"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.lastContactDate?new Date(r.lastContactDate).toLocaleDateString():"No last contact date"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Follow-up Date"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.nextFollowUpDate?new Date(r.nextFollowUpDate).toLocaleDateString():"No next follow-up date"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Method"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.contactMethod||"No contact method"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn Profile"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.linkedinProfile||"No LinkedIn profile"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website URL"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.websiteUrl||"No website URL"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),a.jsx("div",{className:"text-sm text-gray-900",children:((d=r.tags)==null?void 0:d.join(", "))||"No tags"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("div",{className:"text-sm text-gray-900",children:r.notes||"No notes"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Close"}),a.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Edit"}),r.status!=="Converted to Lead"&&a.jsx("button",{onClick:s,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Convert to Lead"}),["Admin","Manager"].includes(o)&&a.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})]})]})})}):null},SK=()=>a.jsxs(ek,{children:[a.jsx(Yt,{path:"/",element:a.jsx(j2,{})}),a.jsx(Yt,{path:"/login",element:a.jsx(iA,{})}),a.jsx(Yt,{path:"/signup",element:a.jsx(oA,{})}),a.jsx(Yt,{path:"/customer-signup",element:a.jsx(lA,{})}),a.jsx(Yt,{path:"/debug",element:a.jsx(tP,{})}),a.jsx(Yt,{path:"/forgot-password",element:a.jsx(I$,{})}),a.jsx(Yt,{path:"/tutorials",element:a.jsx(z$,{})}),a.jsx(Yt,{path:"/management-contacts",element:a.jsx(uK,{})}),a.jsx(Yt,{path:"/countries",element:a.jsx(cK,{})}),a.jsx(Yt,{path:"/customer",element:a.jsx(Yr,{allowedRoles:["Customer"],children:a.jsx(pK,{})})}),a.jsx(Yt,{path:"/ai-assistant",element:a.jsx(dK,{})}),a.jsx(Yt,{path:"/test-notifications",element:a.jsx(Yr,{allowedRoles:["Sales Person","Lead Person","Manager","Admin"],children:a.jsx(hK,{})})}),a.jsx(Yt,{path:"/manager",element:a.jsx(Yr,{allowedRoles:["Manager","Admin"],children:a.jsx(fK,{})})}),a.jsx(Yt,{path:"/leads",element:a.jsx(Yr,{allowedRoles:["Lead Person","Manager","Admin"],children:a.jsx(s8,{})})}),a.jsx(Yt,{path:"/sales",element:a.jsx(Yr,{allowedRoles:["Sales Person","Manager","Admin"],children:a.jsx(a8,{})})}),a.jsx(Yt,{path:"/sales-tracking",element:a.jsx(Yr,{allowedRoles:["Sales Person","Manager","Admin"],children:a.jsx(W8,{})})}),a.jsx(Yt,{path:"/create-sale",element:a.jsx(Yr,{allowedRoles:["Sales Person","Manager","Admin"],children:a.jsx($8,{})})}),a.jsx(Yt,{path:"/tasks",element:a.jsx(Yr,{allowedRoles:["Sales Person","Lead Person","Manager","Admin"],children:a.jsx(qY,{})})}),a.jsx(Yt,{path:"/profile",element:a.jsx(Yr,{allowedRoles:["Sales Person","Lead Person","Manager","Admin","Customer"],children:a.jsx(eP,{})})}),a.jsx(Yt,{path:"/admin",element:a.jsx(Yr,{allowedRoles:["Admin","Lead Person"],children:a.jsx(rP,{})})}),a.jsx(Yt,{path:"/admin/users",element:a.jsx(Yr,{allowedRoles:["Admin"],children:a.jsx(nP,{})})}),a.jsx(Yt,{path:"/admin/leads",element:a.jsx(Yr,{allowedRoles:["Admin"],children:a.jsx(sP,{})})}),a.jsx(Yt,{path:"/admin/import",element:a.jsx(Yr,{allowedRoles:["Admin"],children:a.jsx(aP,{})})}),a.jsx(Yt,{path:"/admin/reports",element:a.jsx(Yr,{allowedRoles:["Admin"],children:a.jsx(ez,{})})}),a.jsx(Yt,{path:"/repeat-customers",element:a.jsx(Yr,{allowedRoles:["Admin","Manager"],children:a.jsx(XY,{})})}),a.jsx(Yt,{path:"/lead-sales-sheet",element:a.jsx(Yr,{allowedRoles:["Lead Person","Manager","Admin"],children:a.jsx(B$,{})})}),a.jsx(Yt,{path:"/update-sales",element:a.jsx(Yr,{allowedRoles:["Lead Person","Manager","Admin"],children:a.jsx(U$,{})})}),a.jsx(Yt,{path:"/prospects",element:a.jsx(Yr,{allowedRoles:["Sales Person","Manager","Admin"],children:a.jsx(bK,{})})}),a.jsx(Yt,{path:"*",element:a.jsx(j2,{})})]}),_K=()=>{const[t,e]=A.useState(!1),r=Ba(),n=()=>{e(!t)},s=()=>{r("/ai-assistant")};return a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:n,className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-lg z-50 flex items-center justify-center transition-all duration-300 transform hover:scale-105","aria-label":"AI Assistant",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:[a.jsx("path",{d:"M18.53 9.29a1 1 0 00-1.06 0L12 12.34 6.53 9.29a1 1 0 00-1.06 0 1 1 0 00-.47.82v5.78a1 1 0 00.47.82 1 1 0 00.53.15 1 1 0 00.53-.15L12 13.66l5.47 3.05a1 1 0 00.53.15 1 1 0 00.53-.15 1 1 0 00.47-.82v-5.78a1 1 0 00-.47-.82z"}),a.jsx("path",{d:"M18.53 5.11a1 1 0 00-1.06 0L12 8.16 6.53 5.11a1 1 0 00-1.06 0 1 1 0 00-.47.82v1.55a1 1 0 00.47.82 1 1 0 00.53.15 1 1 0 00.53-.15L12 5.26l5.47 3.04a1 1 0 00.53.15 1 1 0 00.53-.15 1 1 0 00.47-.82V5.93a1 1 0 00-.47-.82z"})]})}),t&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Gemini AI Assistant"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:s,className:"p-2 text-gray-600 hover:text-gray-900",title:"Open in full page",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),a.jsx("button",{onClick:n,className:"p-2 text-gray-600 hover:text-gray-900",title:"Close",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsx(xj,{isFloating:!0})})]})})]})},CK=()=>{const{user:t}=$t(),{isConnected:e,onlineUsers:r,chatRooms:n,activeChat:s,messages:i,unreadCounts:o,typingUsers:c,isChatOpen:d,sendMessage:f,sendTypingIndicator:h,fetchChatRooms:p,fetchAllUsers:g,startChat:x,closeChat:w,setIsChatOpen:b}=w1(),[v,C]=A.useState(""),[E,j]=A.useState(!1),[D,T]=A.useState(""),M=A.useRef(null),_=A.useRef(null);A.useEffect(()=>{P()},[i,s]),A.useEffect(()=>{e&&(p(),g())},[e]);const P=()=>{var W;(W=M.current)==null||W.scrollIntoView({behavior:"smooth"})},I=W=>{W.preventDefault(),v.trim()&&s&&(f(s.otherUser._id,v.trim()),C(""))},K=W=>{C(W.target.value),s&&(h(s.otherUser._id,!0),_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{h(s.otherUser._id,!1)},1e3))},q=W=>new Date(W).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),H=W=>{const ne=new Date,X=new Date(W),Z=Math.floor((ne-X)/(1e3*60));return Z<1?"Just now":Z<60?`${Z}m ago`:Z<1440?`${Math.floor(Z/60)}h ago`:X.toLocaleDateString()},oe=W=>{switch(W){case"ONLINE":return"#10b981";case"AWAY":return"#f59e0b";case"OFFLINE":return"#6b7280";default:return"#6b7280"}},Q=r.filter(W=>W.fullName.toLowerCase().includes(D.toLowerCase())||W.email.toLowerCase().includes(D.toLowerCase())),O=s?i[s.chatId]||[]:[];return d?a.jsxs("div",{className:"chat-window",children:[a.jsxs("div",{className:"chat-header",children:[a.jsxs("div",{className:"chat-header-left",children:[a.jsxs("h3",{children:[a.jsx("i",{className:"fas fa-comments"}),"Chat"]}),a.jsxs("div",{className:"connection-status",children:[a.jsx("span",{className:`status-indicator ${e?"connected":"disconnected"}`}),e?"Connected":"Connecting...",!e&&a.jsx("button",{className:"retry-connection",onClick:()=>window.location.reload(),title:"Retry connection",children:""})]})]}),a.jsxs("div",{className:"chat-header-actions",children:[a.jsx("button",{className:"btn-icon",onClick:()=>j(!E),title:"Start new chat",children:a.jsx("i",{className:"fas fa-plus"})}),a.jsx("button",{className:"btn-icon",onClick:()=>b(!1),title:"Minimize chat",children:a.jsx("i",{className:"fas fa-minus"})})]})]}),a.jsxs("div",{className:"chat-body",children:[E&&a.jsxs("div",{className:"user-list-sidebar",children:[a.jsxs("div",{className:"user-list-header",children:[a.jsx("h4",{children:"Start New Chat"}),a.jsx("button",{className:"btn-close",onClick:()=>j(!1),children:a.jsx("i",{className:"fas fa-times"})})]}),a.jsx("div",{className:"user-search",children:a.jsx("input",{type:"text",placeholder:"Search users...",value:D,onChange:W=>T(W.target.value),className:"search-input"})}),a.jsx("div",{className:"user-list",children:Q.map(W=>a.jsxs("div",{className:"user-item",onClick:()=>{x(W),j(!1)},children:[a.jsxs("div",{className:"user-avatar",children:[W.profilePicture?a.jsx("img",{src:W.profilePicture,alt:W.fullName}):a.jsx("div",{className:"avatar-placeholder",children:W.fullName.charAt(0).toUpperCase()}),a.jsx("span",{className:"status-dot",style:{backgroundColor:oe(W.chatStatus)}})]}),a.jsxs("div",{className:"user-info",children:[a.jsx("div",{className:"user-name",children:W.fullName}),a.jsx("div",{className:"user-role",children:W.role}),a.jsx("div",{className:"user-status",children:W.chatStatus==="ONLINE"?"Online":H(W.lastSeen)})]})]},W._id))})]}),a.jsxs("div",{className:"chat-rooms-list",children:[a.jsx("h4",{children:"Recent Chats"}),n.length===0?a.jsxs("div",{className:"no-chats",children:[a.jsx("p",{children:"No recent chats"}),a.jsx("button",{className:"btn-primary",onClick:()=>j(!0),children:"Start a conversation"})]}):n.map(W=>a.jsxs("div",{className:`chat-room-item ${(s==null?void 0:s.chatId)===W.chatId?"active":""}`,onClick:()=>x(W.otherUser),children:[a.jsxs("div",{className:"user-avatar",children:[W.otherUser.profilePicture?a.jsx("img",{src:W.otherUser.profilePicture,alt:W.otherUser.fullName}):a.jsx("div",{className:"avatar-placeholder",children:W.otherUser.fullName.charAt(0).toUpperCase()}),a.jsx("span",{className:"status-dot",style:{backgroundColor:oe(W.otherUser.chatStatus)}})]}),a.jsxs("div",{className:"room-info",children:[a.jsxs("div",{className:"room-header",children:[a.jsx("span",{className:"room-name",children:W.otherUser.fullName}),a.jsx("span",{className:"room-time",children:q(W.lastMessageTime)})]}),a.jsx("div",{className:"room-last-message",children:W.lastMessage||"No messages yet"})]}),o[W.otherUser._id]>0&&a.jsx("span",{className:"unread-count",children:o[W.otherUser._id]})]},W.chatId))]}),s&&a.jsxs("div",{className:"active-chat",children:[a.jsxs("div",{className:"chat-header-active",children:[a.jsxs("div",{className:"chat-user-info",children:[a.jsxs("div",{className:"user-avatar",children:[s.otherUser.profilePicture?a.jsx("img",{src:s.otherUser.profilePicture,alt:s.otherUser.fullName}):a.jsx("div",{className:"avatar-placeholder",children:s.otherUser.fullName.charAt(0).toUpperCase()}),a.jsx("span",{className:"status-dot",style:{backgroundColor:oe(s.otherUser.chatStatus)}})]}),a.jsxs("div",{children:[a.jsx("div",{className:"chat-user-name",children:s.otherUser.fullName}),a.jsx("div",{className:"chat-user-status",children:s.otherUser.chatStatus==="ONLINE"?"Online":`Last seen ${H(s.otherUser.lastSeen)}`})]})]}),a.jsx("button",{className:"btn-close",onClick:w,title:"Close chat",children:a.jsx("i",{className:"fas fa-times"})})]}),a.jsxs("div",{className:"messages-container",children:[O.map((W,ne)=>a.jsxs("div",{className:`message ${W.senderId._id===t._id?"sent":"received"}`,children:[a.jsx("div",{className:"message-content",children:W.content}),a.jsxs("div",{className:"message-time",children:[q(W.timestamp),W.senderId._id===t._id&&a.jsx("span",{className:"message-status",children:W.isRead?a.jsx("i",{className:"fas fa-check-double read"}):a.jsx("i",{className:"fas fa-check"})})]})]},W._id)),c[s.otherUser._id]&&a.jsxs("div",{className:"typing-indicator",children:[a.jsxs("div",{className:"typing-dots",children:[a.jsx("span",{}),a.jsx("span",{}),a.jsx("span",{})]}),a.jsxs("span",{className:"typing-text",children:[s.otherUser.fullName," is typing..."]})]}),a.jsx("div",{ref:M})]}),a.jsx("form",{className:"message-input-form",onSubmit:I,children:a.jsxs("div",{className:"message-input-container",children:[a.jsx("input",{type:"text",value:v,onChange:K,placeholder:"Type a message...",className:"message-input",disabled:!e}),a.jsx("button",{type:"submit",className:"send-button",disabled:!v.trim()||!e,children:a.jsx("i",{className:"fas fa-paper-plane"})})]})})]})]})]}):a.jsxs("div",{className:"chat-toggle-button",onClick:()=>b(!0),children:[a.jsx("i",{className:"fas fa-comments"}),Object.values(o).reduce((W,ne)=>W+ne,0)>0&&a.jsx("span",{className:"unread-badge",children:Object.values(o).reduce((W,ne)=>W+ne,0)})]})},jK=()=>{const{user:t,token:e}=$t(),{socket:r,isConnected:n}=w1(),[s,i]=A.useState(!1);if(!s)return a.jsx("button",{onClick:()=>i(!0),style:{position:"fixed",top:"10px",right:"10px",background:"#f59e0b",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",fontSize:"12px",cursor:"pointer",zIndex:9999},children:" Debug Chat"});const o=async()=>{try{const h=await fetch("https://crm-backend-o36v.onrender.com/api/chat/users",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(h.ok){const p=await h.json();alert(` API Connection OK! Found ${p.data.length} users`)}else alert(` API Error: ${h.status} ${h.statusText}`)}catch(f){alert(` Connection Error: ${f.message}`)}},c=()=>{r?(r.emit("test-connection",{message:"Hello from debug"}),alert(" Socket test message sent")):alert(" No socket connection available")},d=async()=>{"Notification"in window?await Notification.requestPermission()==="granted"?(new Notification("Chat Notifications Enabled!",{body:"You will now receive chat notifications.",icon:"/favicon.ico"}),alert(" Notifications enabled!")):alert(" Notifications denied"):alert(" Notifications not supported")};return a.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",background:"white",border:"2px solid #ccc",borderRadius:"8px",padding:"15px",zIndex:9999,minWidth:"300px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[a.jsx("h3",{style:{margin:"0 0 10px 0",color:"#333"},children:" Chat Debug"}),a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("strong",{children:"User:"})," ",(t==null?void 0:t.fullName)||"Not logged in"]}),a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("strong",{children:"Token:"})," ",e?" Present":" Missing",e&&a.jsxs("div",{style:{fontSize:"10px",color:"#666",marginTop:"2px"},children:[e.substring(0,20),"..."]})]}),a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("strong",{children:"Socket:"})," ",r?" Created":" Not created"]}),a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("strong",{children:"Connected:"})," ",n?" Yes":" No"]}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("strong",{children:"Server URL:"})," ","https://crm-backend-o36v.onrender.com"]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[a.jsx("button",{onClick:o,style:{padding:"8px 12px",background:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Test API Connection"}),a.jsx("button",{onClick:c,style:{padding:"8px 12px",background:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Test Socket Connection"}),a.jsx("button",{onClick:d,style:{padding:"8px 12px",background:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Request Permission"}),a.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"8px 12px",background:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}),a.jsx("div",{style:{marginTop:"12px",fontSize:"11px",color:"#6b7280"},children:" Check browser console for detailed logs"})]})},TK=()=>{const{user:t}=$t();return A.useEffect(()=>{if(t&&t._id)return console.log(" Initializing notifications for user:",t.fullName),No.connect(t._id),No.requestNotificationPermission(),()=>{No.disconnect()}},[t]),null},EK=()=>a.jsx(ok,{children:a.jsx(V5,{children:a.jsx(mK,{children:a.jsxs("div",{className:"min-h-screen bg-white text-black dark:bg-gray-900 dark:text-white transition-colors duration-300",children:[a.jsx(TK,{}),a.jsx(SK,{}),a.jsx(_K,{}),a.jsx(CK,{}),a.jsx(jK,{}),a.jsx(n8,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})}),kK=lE.createRoot(document.getElementById("root"));kK.render(a.jsx(A.StrictMode,{children:a.jsx(cE,{children:a.jsx(EK,{})})}));
