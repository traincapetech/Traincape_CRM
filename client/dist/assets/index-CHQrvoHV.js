var nT=Object.defineProperty;var sT=(t,e,r)=>e in t?nT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var pt=(t,e,r)=>sT(t,typeof e!="symbol"?e+"":e,r);function aT(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Kg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ym={exports:{}},Pc={},Km={exports:{}},Ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function iT(){if($v)return Ct;$v=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(X){return X===null||typeof X!="object"?null:(X=p&&X[p]||X["@@iterator"],typeof X=="function"?X:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function v(X,M,W){this.props=X,this.context=M,this.refs=b,this.updater=W||x}v.prototype.isReactComponent={},v.prototype.setState=function(X,M){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,M,"setState")},v.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function _(){}_.prototype=v.prototype;function T(X,M,W){this.props=X,this.context=M,this.refs=b,this.updater=W||x}var C=T.prototype=new _;C.constructor=T,w(C,v.prototype),C.isPureReactComponent=!0;var R=Array.isArray,j=Object.prototype.hasOwnProperty,O={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function P(X,M,W){var K,E={},ce=null,ne=null;if(M!=null)for(K in M.ref!==void 0&&(ne=M.ref),M.key!==void 0&&(ce=""+M.key),M)j.call(M,K)&&!S.hasOwnProperty(K)&&(E[K]=M[K]);var ue=arguments.length-2;if(ue===1)E.children=W;else if(1<ue){for(var be=Array(ue),Ee=0;Ee<ue;Ee++)be[Ee]=arguments[Ee+2];E.children=be}if(X&&X.defaultProps)for(K in ue=X.defaultProps,ue)E[K]===void 0&&(E[K]=ue[K]);return{$$typeof:t,type:X,key:ce,ref:ne,props:E,_owner:O.current}}function B(X,M){return{$$typeof:t,type:X.type,key:M,ref:X.ref,props:X.props,_owner:X._owner}}function ae(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function q(X){var M={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(W){return M[W]})}var H=/\/+/g;function ie(X,M){return typeof X=="object"&&X!==null&&X.key!=null?q(""+X.key):M.toString(36)}function re(X,M,W,K,E){var ce=typeof X;(ce==="undefined"||ce==="boolean")&&(X=null);var ne=!1;if(X===null)ne=!0;else switch(ce){case"string":case"number":ne=!0;break;case"object":switch(X.$$typeof){case t:case e:ne=!0}}if(ne)return ne=X,E=E(ne),X=K===""?"."+ie(ne,0):K,R(E)?(W="",X!=null&&(W=X.replace(H,"$&/")+"/"),re(E,M,W,"",function(Ee){return Ee})):E!=null&&(ae(E)&&(E=B(E,W+(!E.key||ne&&ne.key===E.key?"":(""+E.key).replace(H,"$&/")+"/")+X)),M.push(E)),1;if(ne=0,K=K===""?".":K+":",R(X))for(var ue=0;ue<X.length;ue++){ce=X[ue];var be=K+ie(ce,ue);ne+=re(ce,M,W,be,E)}else if(be=g(X),typeof be=="function")for(X=be.call(X),ue=0;!(ce=X.next()).done;)ce=ce.value,be=K+ie(ce,ue++),ne+=re(ce,M,W,be,E);else if(ce==="object")throw M=String(X),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return ne}function L(X,M,W){if(X==null)return X;var K=[],E=0;return re(X,K,"","",function(ce){return M.call(W,ce,E++)}),K}function ee(X){if(X._status===-1){var M=X._result;M=M(),M.then(function(W){(X._status===0||X._status===-1)&&(X._status=1,X._result=W)},function(W){(X._status===0||X._status===-1)&&(X._status=2,X._result=W)}),X._status===-1&&(X._status=0,X._result=M)}if(X._status===1)return X._result.default;throw X._result}var Q={current:null},te={transition:null},U={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:te,ReactCurrentOwner:O};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Ct.Children={map:L,forEach:function(X,M,W){L(X,function(){M.apply(this,arguments)},W)},count:function(X){var M=0;return L(X,function(){M++}),M},toArray:function(X){return L(X,function(M){return M})||[]},only:function(X){if(!ae(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Ct.Component=v,Ct.Fragment=r,Ct.Profiler=s,Ct.PureComponent=T,Ct.StrictMode=n,Ct.Suspense=u,Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,Ct.act=Z,Ct.cloneElement=function(X,M,W){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var K=w({},X.props),E=X.key,ce=X.ref,ne=X._owner;if(M!=null){if(M.ref!==void 0&&(ce=M.ref,ne=O.current),M.key!==void 0&&(E=""+M.key),X.type&&X.type.defaultProps)var ue=X.type.defaultProps;for(be in M)j.call(M,be)&&!S.hasOwnProperty(be)&&(K[be]=M[be]===void 0&&ue!==void 0?ue[be]:M[be])}var be=arguments.length-2;if(be===1)K.children=W;else if(1<be){ue=Array(be);for(var Ee=0;Ee<be;Ee++)ue[Ee]=arguments[Ee+2];K.children=ue}return{$$typeof:t,type:X.type,key:E,ref:ce,props:K,_owner:ne}},Ct.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:i,_context:X},X.Consumer=X},Ct.createElement=P,Ct.createFactory=function(X){var M=P.bind(null,X);return M.type=X,M},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(X){return{$$typeof:c,render:X}},Ct.isValidElement=ae,Ct.lazy=function(X){return{$$typeof:f,_payload:{_status:-1,_result:X},_init:ee}},Ct.memo=function(X,M){return{$$typeof:h,type:X,compare:M===void 0?null:M}},Ct.startTransition=function(X){var M=te.transition;te.transition={};try{X()}finally{te.transition=M}},Ct.unstable_act=Z,Ct.useCallback=function(X,M){return Q.current.useCallback(X,M)},Ct.useContext=function(X){return Q.current.useContext(X)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(X){return Q.current.useDeferredValue(X)},Ct.useEffect=function(X,M){return Q.current.useEffect(X,M)},Ct.useId=function(){return Q.current.useId()},Ct.useImperativeHandle=function(X,M,W){return Q.current.useImperativeHandle(X,M,W)},Ct.useInsertionEffect=function(X,M){return Q.current.useInsertionEffect(X,M)},Ct.useLayoutEffect=function(X,M){return Q.current.useLayoutEffect(X,M)},Ct.useMemo=function(X,M){return Q.current.useMemo(X,M)},Ct.useReducer=function(X,M,W){return Q.current.useReducer(X,M,W)},Ct.useRef=function(X){return Q.current.useRef(X)},Ct.useState=function(X){return Q.current.useState(X)},Ct.useSyncExternalStore=function(X,M,W){return Q.current.useSyncExternalStore(X,M,W)},Ct.useTransition=function(){return Q.current.useTransition()},Ct.version="18.3.1",Ct}var Hv;function zh(){return Hv||(Hv=1,Km.exports=iT()),Km.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function oT(){if(Wv)return Pc;Wv=1;var t=zh(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(c,u,h){var f,p={},g=null,x=null;h!==void 0&&(g=""+h),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(x=u.ref);for(f in u)n.call(u,f)&&!i.hasOwnProperty(f)&&(p[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:e,type:c,key:g,ref:x,props:p,_owner:s.current}}return Pc.Fragment=r,Pc.jsx=o,Pc.jsxs=o,Pc}var Yv;function lT(){return Yv||(Yv=1,Ym.exports=oT()),Ym.exports}var a=lT(),A=zh();const ct=Kg(A),cT=aT({__proto__:null,default:ct},[A]);var o0={},Gm={exports:{}},Rn={},qm={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function dT(){return Kv||(Kv=1,function(t){function e(te,U){var Z=te.length;te.push(U);e:for(;0<Z;){var X=Z-1>>>1,M=te[X];if(0<s(M,U))te[X]=U,te[Z]=M,Z=X;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var U=te[0],Z=te.pop();if(Z!==U){te[0]=Z;e:for(var X=0,M=te.length,W=M>>>1;X<W;){var K=2*(X+1)-1,E=te[K],ce=K+1,ne=te[ce];if(0>s(E,Z))ce<M&&0>s(ne,E)?(te[X]=ne,te[ce]=Z,X=ce):(te[X]=E,te[K]=Z,X=K);else if(ce<M&&0>s(ne,Z))te[X]=ne,te[ce]=Z,X=ce;else break e}}return U}function s(te,U){var Z=te.sortIndex-U.sortIndex;return Z!==0?Z:te.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],h=[],f=1,p=null,g=3,x=!1,w=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(te){for(var U=r(h);U!==null;){if(U.callback===null)n(h);else if(U.startTime<=te)n(h),U.sortIndex=U.expirationTime,e(u,U);else break;U=r(h)}}function R(te){if(b=!1,C(te),!w)if(r(u)!==null)w=!0,ee(j);else{var U=r(h);U!==null&&Q(R,U.startTime-te)}}function j(te,U){w=!1,b&&(b=!1,_(P),P=-1),x=!0;var Z=g;try{for(C(U),p=r(u);p!==null&&(!(p.expirationTime>U)||te&&!q());){var X=p.callback;if(typeof X=="function"){p.callback=null,g=p.priorityLevel;var M=X(p.expirationTime<=U);U=t.unstable_now(),typeof M=="function"?p.callback=M:p===r(u)&&n(u),C(U)}else n(u);p=r(u)}if(p!==null)var W=!0;else{var K=r(h);K!==null&&Q(R,K.startTime-U),W=!1}return W}finally{p=null,g=Z,x=!1}}var O=!1,S=null,P=-1,B=5,ae=-1;function q(){return!(t.unstable_now()-ae<B)}function H(){if(S!==null){var te=t.unstable_now();ae=te;var U=!0;try{U=S(!0,te)}finally{U?ie():(O=!1,S=null)}}else O=!1}var ie;if(typeof T=="function")ie=function(){T(H)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,L=re.port2;re.port1.onmessage=H,ie=function(){L.postMessage(null)}}else ie=function(){v(H,0)};function ee(te){S=te,O||(O=!0,ie())}function Q(te,U){P=v(function(){te(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){w||x||(w=!0,ee(j))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(te){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var Z=g;g=U;try{return te()}finally{g=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,U){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var Z=g;g=te;try{return U()}finally{g=Z}},t.unstable_scheduleCallback=function(te,U,Z){var X=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?X+Z:X):Z=X,te){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Z+M,te={id:f++,callback:U,priorityLevel:te,startTime:Z,expirationTime:M,sortIndex:-1},Z>X?(te.sortIndex=Z,e(h,te),r(u)===null&&te===r(h)&&(b?(_(P),P=-1):b=!0,Q(R,Z-X))):(te.sortIndex=M,e(u,te),w||x||(w=!0,ee(j))),te},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(te){var U=g;return function(){var Z=g;g=U;try{return te.apply(this,arguments)}finally{g=Z}}}}(Xm)),Xm}var Gv;function uT(){return Gv||(Gv=1,qm.exports=dT()),qm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function hT(){if(qv)return Rn;qv=1;var t=zh(),e=uT();function r(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(s[l]=d,l=0;l<d.length;l++)n.add(d[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(l){return u.call(p,l)?!0:u.call(f,l)?!1:h.test(l)?p[l]=!0:(f[l]=!0,!1)}function x(l,d,m,y){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return y?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,d,m,y){if(d===null||typeof d>"u"||x(l,d,m,y))return!0;if(y)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function b(l,d,m,y,k,N,I){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=y,this.attributeNamespace=k,this.mustUseProperty=m,this.propertyName=l,this.type=d,this.sanitizeURL=N,this.removeEmptyString=I}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){v[l]=new b(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];v[d]=new b(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){v[l]=new b(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){v[l]=new b(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){v[l]=new b(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){v[l]=new b(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){v[l]=new b(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){v[l]=new b(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){v[l]=new b(l,5,!1,l.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function T(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(_,T);v[d]=new b(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(_,T);v[d]=new b(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(_,T);v[d]=new b(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){v[l]=new b(l,1,!1,l.toLowerCase(),null,!1,!1)}),v.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){v[l]=new b(l,1,!1,l.toLowerCase(),null,!0,!0)});function C(l,d,m,y){var k=v.hasOwnProperty(d)?v[d]:null;(k!==null?k.type!==0:y||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(w(d,m,k,y)&&(m=null),y||k===null?g(d)&&(m===null?l.removeAttribute(d):l.setAttribute(d,""+m)):k.mustUseProperty?l[k.propertyName]=m===null?k.type===3?!1:"":m:(d=k.attributeName,y=k.attributeNamespace,m===null?l.removeAttribute(d):(k=k.type,m=k===3||k===4&&m===!0?"":""+m,y?l.setAttributeNS(y,d,m):l.setAttribute(d,m))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),O=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),q=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),te=Symbol.iterator;function U(l){return l===null||typeof l!="object"?null:(l=te&&l[te]||l["@@iterator"],typeof l=="function"?l:null)}var Z=Object.assign,X;function M(l){if(X===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);X=d&&d[1]||""}return`
`+X+l}var W=!1;function K(l,d){if(!l||W)return"";W=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(je){var y=je}Reflect.construct(l,[],d)}else{try{d.call()}catch(je){y=je}l.call(d.prototype)}else{try{throw Error()}catch(je){y=je}l()}}catch(je){if(je&&y&&typeof je.stack=="string"){for(var k=je.stack.split(`
`),N=y.stack.split(`
`),I=k.length-1,oe=N.length-1;1<=I&&0<=oe&&k[I]!==N[oe];)oe--;for(;1<=I&&0<=oe;I--,oe--)if(k[I]!==N[oe]){if(I!==1||oe!==1)do if(I--,oe--,0>oe||k[I]!==N[oe]){var de=`
`+k[I].replace(" at new "," at ");return l.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",l.displayName)),de}while(1<=I&&0<=oe);break}}}finally{W=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?M(l):""}function E(l){switch(l.tag){case 5:return M(l.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return l=K(l.type,!1),l;case 11:return l=K(l.type.render,!1),l;case 1:return l=K(l.type,!0),l;default:return""}}function ce(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case S:return"Fragment";case O:return"Portal";case B:return"Profiler";case P:return"StrictMode";case ie:return"Suspense";case re:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case q:return(l.displayName||"Context")+".Consumer";case ae:return(l._context.displayName||"Context")+".Provider";case H:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case L:return d=l.displayName||null,d!==null?d:ce(l.type)||"Memo";case ee:d=l._payload,l=l._init;try{return ce(l(d))}catch{}}return null}function ne(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(d);case 8:return d===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function ue(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function be(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Ee(l){var d=be(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),y=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var k=m.get,N=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return k.call(this)},set:function(I){y=""+I,N.call(this,I)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(I){y=""+I},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function Ke(l){l._valueTracker||(l._valueTracker=Ee(l))}function We(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),y="";return l&&(y=be(l)?l.checked?"true":"false":l.value),l=y,l!==m?(d.setValue(l),!0):!1}function Xe(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function He(l,d){var m=d.checked;return Z({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function xe(l,d){var m=d.defaultValue==null?"":d.defaultValue,y=d.checked!=null?d.checked:d.defaultChecked;m=ue(d.value!=null?d.value:m),l._wrapperState={initialChecked:y,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Ae(l,d){d=d.checked,d!=null&&C(l,"checked",d,!1)}function Te(l,d){Ae(l,d);var m=ue(d.value),y=d.type;if(m!=null)y==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(y==="submit"||y==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?rt(l,d.type,m):d.hasOwnProperty("defaultValue")&&rt(l,d.type,ue(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function Je(l,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var y=d.type;if(!(y!=="submit"&&y!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,m||d===l.value||(l.value=d),l.defaultValue=d}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function rt(l,d,m){(d!=="number"||Xe(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var ot=Array.isArray;function dt(l,d,m,y){if(l=l.options,d){d={};for(var k=0;k<m.length;k++)d["$"+m[k]]=!0;for(m=0;m<l.length;m++)k=d.hasOwnProperty("$"+l[m].value),l[m].selected!==k&&(l[m].selected=k),k&&y&&(l[m].defaultSelected=!0)}else{for(m=""+ue(m),d=null,k=0;k<l.length;k++){if(l[k].value===m){l[k].selected=!0,y&&(l[k].defaultSelected=!0);return}d!==null||l[k].disabled||(d=l[k])}d!==null&&(d.selected=!0)}}function wt(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return Z({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Se(l,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(r(92));if(ot(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),m=d}l._wrapperState={initialValue:ue(m)}}function ze(l,d){var m=ue(d.value),y=ue(d.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),d.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),y!=null&&(l.defaultValue=""+y)}function Be(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function Re(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ve(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?Re(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Ze,it=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,y,k){MSApp.execUnsafeLocalFunction(function(){return l(d,m,y,k)})}:l}(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(Ze=Ze||document.createElement("div"),Ze.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Ze.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function kt(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var Tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ft=["Webkit","ms","Moz","O"];Object.keys(Tt).forEach(function(l){Ft.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),Tt[d]=Tt[l]})});function xn(l,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||Tt.hasOwnProperty(l)&&Tt[l]?(""+d).trim():d+"px"}function Xt(l,d){l=l.style;for(var m in d)if(d.hasOwnProperty(m)){var y=m.indexOf("--")===0,k=xn(m,d[m],y);m==="float"&&(m="cssFloat"),y?l.setProperty(m,k):l[m]=k}}var $n=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hn(l,d){if(d){if($n[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Ts(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jn=null;function Cn(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Gs=null,as=null,Wn=null;function is(l){if(l=gc(l)){if(typeof Gs!="function")throw Error(r(280));var d=l.stateNode;d&&(d=ku(d),Gs(l.stateNode,l.type,d))}}function xr(l){as?Wn?Wn.push(l):Wn=[l]:as=l}function Yn(){if(as){var l=as,d=Wn;if(Wn=as=null,is(l),d)for(l=0;l<d.length;l++)is(d[l])}}function yn(l,d){return l(d)}function pa(){}var os=!1;function Es(l,d,m){if(os)return l(d,m);os=!0;try{return yn(l,d,m)}finally{os=!1,(as!==null||Wn!==null)&&(pa(),Yn())}}function jr(l,d){var m=l.stateNode;if(m===null)return null;var y=ku(m);if(y===null)return null;m=y[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(r(231,d,typeof m));return m}var qs=!1;if(c)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){qs=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{qs=!1}function F(l,d,m,y,k,N,I,oe,de){var je=Array.prototype.slice.call(arguments,3);try{d.apply(m,je)}catch(Ue){this.onError(Ue)}}var fe=!1,Fe=null,D=!1,J=null,V={onError:function(l){fe=!0,Fe=l}};function G(l,d,m,y,k,N,I,oe,de){fe=!1,Fe=null,F.apply(V,arguments)}function Y(l,d,m,y,k,N,I,oe,de){if(G.apply(this,arguments),fe){if(fe){var je=Fe;fe=!1,Fe=null}else throw Error(r(198));D||(D=!0,J=je)}}function se(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function ye(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function Ce(l){if(se(l)!==l)throw Error(r(188))}function we(l){var d=l.alternate;if(!d){if(d=se(l),d===null)throw Error(r(188));return d!==l?null:l}for(var m=l,y=d;;){var k=m.return;if(k===null)break;var N=k.alternate;if(N===null){if(y=k.return,y!==null){m=y;continue}break}if(k.child===N.child){for(N=k.child;N;){if(N===m)return Ce(k),l;if(N===y)return Ce(k),d;N=N.sibling}throw Error(r(188))}if(m.return!==y.return)m=k,y=N;else{for(var I=!1,oe=k.child;oe;){if(oe===m){I=!0,m=k,y=N;break}if(oe===y){I=!0,y=k,m=N;break}oe=oe.sibling}if(!I){for(oe=N.child;oe;){if(oe===m){I=!0,m=N,y=k;break}if(oe===y){I=!0,y=N,m=k;break}oe=oe.sibling}if(!I)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?l:d}function ge(l){return l=we(l),l!==null?ke(l):null}function ke(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=ke(l);if(d!==null)return d;l=l.sibling}return null}var z=e.unstable_scheduleCallback,le=e.unstable_cancelCallback,pe=e.unstable_shouldYield,me=e.unstable_requestPaint,_e=e.unstable_now,Oe=e.unstable_getCurrentPriorityLevel,Qe=e.unstable_ImmediatePriority,ht=e.unstable_UserBlockingPriority,gt=e.unstable_NormalPriority,Et=e.unstable_LowPriority,St=e.unstable_IdlePriority,ur=null,At=null;function nr(l){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ur,l,void 0,(l.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Xs,Kn=Math.log,Va=Math.LN2;function Xs(l){return l>>>=0,l===0?32:31-(Kn(l)/Va|0)|0}var Ii=64,Bi=4194304;function Ui(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Io(l,d){var m=l.pendingLanes;if(m===0)return 0;var y=0,k=l.suspendedLanes,N=l.pingedLanes,I=m&268435455;if(I!==0){var oe=I&~k;oe!==0?y=Ui(oe):(N&=I,N!==0&&(y=Ui(N)))}else I=m&~k,I!==0?y=Ui(I):N!==0&&(y=Ui(N));if(y===0)return 0;if(d!==0&&d!==y&&(d&k)===0&&(k=y&-y,N=d&-d,k>=N||k===16&&(N&4194240)!==0))return d;if((y&4)!==0&&(y|=m&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=y;0<d;)m=31-_t(d),k=1<<m,y|=l[m],d&=~k;return y}function $t(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ut(l,d){for(var m=l.suspendedLanes,y=l.pingedLanes,k=l.expirationTimes,N=l.pendingLanes;0<N;){var I=31-_t(N),oe=1<<I,de=k[I];de===-1?((oe&m)===0||(oe&y)!==0)&&(k[I]=$t(oe,d)):de<=d&&(l.expiredLanes|=oe),N&=~oe}}function zi(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Js(){var l=Ii;return Ii<<=1,(Ii&4194240)===0&&(Ii=64),l}function $a(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function Fr(l,d,m){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-_t(d),l[d]=m}function As(l,d){var m=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var y=l.eventTimes;for(l=l.expirationTimes;0<m;){var k=31-_t(m),N=1<<k;d[k]=0,y[k]=-1,l[k]=-1,m&=~N}}function ls(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var y=31-_t(m),k=1<<y;k&d|l[y]&d&&(l[y]|=d),m&=~k}}var Pt=0;function Vi(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var ga,cs,Zl,$i,Bo,Ha=!1,xa=[],Ps=null,Gn=null,qn=null,ec=new Map,tc=new Map,Wa=[],_3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j1(l,d){switch(l){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":ec.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(d.pointerId)}}function rc(l,d,m,y,k,N){return l===null||l.nativeEvent!==N?(l={blockedOn:d,domEventName:m,eventSystemFlags:y,nativeEvent:N,targetContainers:[k]},d!==null&&(d=gc(d),d!==null&&cs(d)),l):(l.eventSystemFlags|=y,d=l.targetContainers,k!==null&&d.indexOf(k)===-1&&d.push(k),l)}function j3(l,d,m,y,k){switch(d){case"focusin":return Ps=rc(Ps,l,d,m,y,k),!0;case"dragenter":return Gn=rc(Gn,l,d,m,y,k),!0;case"mouseover":return qn=rc(qn,l,d,m,y,k),!0;case"pointerover":var N=k.pointerId;return ec.set(N,rc(ec.get(N)||null,l,d,m,y,k)),!0;case"gotpointercapture":return N=k.pointerId,tc.set(N,rc(tc.get(N)||null,l,d,m,y,k)),!0}return!1}function C1(l){var d=Hi(l.target);if(d!==null){var m=se(d);if(m!==null){if(d=m.tag,d===13){if(d=ye(m),d!==null){l.blockedOn=d,Bo(l.priority,function(){Zl(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function lu(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=vf(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var y=new m.constructor(m.type,m);jn=y,m.target.dispatchEvent(y),jn=null}else return d=gc(m),d!==null&&cs(d),l.blockedOn=m,!1;d.shift()}return!0}function T1(l,d,m){lu(l)&&m.delete(d)}function C3(){Ha=!1,Ps!==null&&lu(Ps)&&(Ps=null),Gn!==null&&lu(Gn)&&(Gn=null),qn!==null&&lu(qn)&&(qn=null),ec.forEach(T1),tc.forEach(T1)}function nc(l,d){l.blockedOn===d&&(l.blockedOn=null,Ha||(Ha=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,C3)))}function sc(l){function d(k){return nc(k,l)}if(0<xa.length){nc(xa[0],l);for(var m=1;m<xa.length;m++){var y=xa[m];y.blockedOn===l&&(y.blockedOn=null)}}for(Ps!==null&&nc(Ps,l),Gn!==null&&nc(Gn,l),qn!==null&&nc(qn,l),ec.forEach(d),tc.forEach(d),m=0;m<Wa.length;m++)y=Wa[m],y.blockedOn===l&&(y.blockedOn=null);for(;0<Wa.length&&(m=Wa[0],m.blockedOn===null);)C1(m),m.blockedOn===null&&Wa.shift()}var Uo=R.ReactCurrentBatchConfig,cu=!0;function T3(l,d,m,y){var k=Pt,N=Uo.transition;Uo.transition=null;try{Pt=1,yf(l,d,m,y)}finally{Pt=k,Uo.transition=N}}function E3(l,d,m,y){var k=Pt,N=Uo.transition;Uo.transition=null;try{Pt=4,yf(l,d,m,y)}finally{Pt=k,Uo.transition=N}}function yf(l,d,m,y){if(cu){var k=vf(l,d,m,y);if(k===null)Mf(l,d,y,du,m),j1(l,y);else if(j3(k,l,d,m,y))y.stopPropagation();else if(j1(l,y),d&4&&-1<_3.indexOf(l)){for(;k!==null;){var N=gc(k);if(N!==null&&ga(N),N=vf(l,d,m,y),N===null&&Mf(l,d,y,du,m),N===k)break;k=N}k!==null&&y.stopPropagation()}else Mf(l,d,y,null,m)}}var du=null;function vf(l,d,m,y){if(du=null,l=Cn(y),l=Hi(l),l!==null)if(d=se(l),d===null)l=null;else if(m=d.tag,m===13){if(l=ye(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return du=l,null}function E1(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oe()){case Qe:return 1;case ht:return 4;case gt:case Et:return 16;case St:return 536870912;default:return 16}default:return 16}}var Ya=null,bf=null,uu=null;function A1(){if(uu)return uu;var l,d=bf,m=d.length,y,k="value"in Ya?Ya.value:Ya.textContent,N=k.length;for(l=0;l<m&&d[l]===k[l];l++);var I=m-l;for(y=1;y<=I&&d[m-y]===k[N-y];y++);return uu=k.slice(l,1<y?1-y:void 0)}function hu(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function fu(){return!0}function P1(){return!1}function Xn(l){function d(m,y,k,N,I){this._reactName=m,this._targetInst=k,this.type=y,this.nativeEvent=N,this.target=I,this.currentTarget=null;for(var oe in l)l.hasOwnProperty(oe)&&(m=l[oe],this[oe]=m?m(N):N[oe]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?fu:P1,this.isPropagationStopped=P1,this}return Z(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),d}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wf=Xn(zo),ac=Z({},zo,{view:0,detail:0}),A3=Xn(ac),kf,Nf,ic,mu=Z({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_f,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ic&&(ic&&l.type==="mousemove"?(kf=l.screenX-ic.screenX,Nf=l.screenY-ic.screenY):Nf=kf=0,ic=l),kf)},movementY:function(l){return"movementY"in l?l.movementY:Nf}}),D1=Xn(mu),P3=Z({},mu,{dataTransfer:0}),D3=Xn(P3),R3=Z({},ac,{relatedTarget:0}),Sf=Xn(R3),F3=Z({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),O3=Xn(F3),M3=Z({},zo,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),L3=Xn(M3),I3=Z({},zo,{data:0}),R1=Xn(I3),B3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V3(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=z3[l])?!!d[l]:!1}function _f(){return V3}var $3=Z({},ac,{key:function(l){if(l.key){var d=B3[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=hu(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?U3[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_f,charCode:function(l){return l.type==="keypress"?hu(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?hu(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),H3=Xn($3),W3=Z({},mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F1=Xn(W3),Y3=Z({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_f}),K3=Xn(Y3),G3=Z({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),q3=Xn(G3),X3=Z({},mu,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),J3=Xn(X3),Q3=[9,13,27,32],jf=c&&"CompositionEvent"in window,oc=null;c&&"documentMode"in document&&(oc=document.documentMode);var Z3=c&&"TextEvent"in window&&!oc,O1=c&&(!jf||oc&&8<oc&&11>=oc),M1=" ",L1=!1;function I1(l,d){switch(l){case"keyup":return Q3.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B1(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Vo=!1;function eC(l,d){switch(l){case"compositionend":return B1(d);case"keypress":return d.which!==32?null:(L1=!0,M1);case"textInput":return l=d.data,l===M1&&L1?null:l;default:return null}}function tC(l,d){if(Vo)return l==="compositionend"||!jf&&I1(l,d)?(l=A1(),uu=bf=Ya=null,Vo=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return O1&&d.locale!=="ko"?null:d.data;default:return null}}var rC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U1(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!rC[l.type]:d==="textarea"}function z1(l,d,m,y){xr(y),d=vu(d,"onChange"),0<d.length&&(m=new wf("onChange","change",null,m,y),l.push({event:m,listeners:d}))}var lc=null,cc=null;function nC(l){ay(l,0)}function pu(l){var d=Ko(l);if(We(d))return l}function sC(l,d){if(l==="change")return d}var V1=!1;if(c){var Cf;if(c){var Tf="oninput"in document;if(!Tf){var $1=document.createElement("div");$1.setAttribute("oninput","return;"),Tf=typeof $1.oninput=="function"}Cf=Tf}else Cf=!1;V1=Cf&&(!document.documentMode||9<document.documentMode)}function H1(){lc&&(lc.detachEvent("onpropertychange",W1),cc=lc=null)}function W1(l){if(l.propertyName==="value"&&pu(cc)){var d=[];z1(d,cc,l,Cn(l)),Es(nC,d)}}function aC(l,d,m){l==="focusin"?(H1(),lc=d,cc=m,lc.attachEvent("onpropertychange",W1)):l==="focusout"&&H1()}function iC(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return pu(cc)}function oC(l,d){if(l==="click")return pu(d)}function lC(l,d){if(l==="input"||l==="change")return pu(d)}function cC(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Ds=typeof Object.is=="function"?Object.is:cC;function dc(l,d){if(Ds(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),y=Object.keys(d);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var k=m[y];if(!u.call(d,k)||!Ds(l[k],d[k]))return!1}return!0}function Y1(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function K1(l,d){var m=Y1(l);l=0;for(var y;m;){if(m.nodeType===3){if(y=l+m.textContent.length,l<=d&&y>=d)return{node:m,offset:d-l};l=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Y1(m)}}function G1(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?G1(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function q1(){for(var l=window,d=Xe();d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=Xe(l.document)}return d}function Ef(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function dC(l){var d=q1(),m=l.focusedElem,y=l.selectionRange;if(d!==m&&m&&m.ownerDocument&&G1(m.ownerDocument.documentElement,m)){if(y!==null&&Ef(m)){if(d=y.start,l=y.end,l===void 0&&(l=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(l,m.value.length);else if(l=(d=m.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var k=m.textContent.length,N=Math.min(y.start,k);y=y.end===void 0?N:Math.min(y.end,k),!l.extend&&N>y&&(k=y,y=N,N=k),k=K1(m,N);var I=K1(m,y);k&&I&&(l.rangeCount!==1||l.anchorNode!==k.node||l.anchorOffset!==k.offset||l.focusNode!==I.node||l.focusOffset!==I.offset)&&(d=d.createRange(),d.setStart(k.node,k.offset),l.removeAllRanges(),N>y?(l.addRange(d),l.extend(I.node,I.offset)):(d.setEnd(I.node,I.offset),l.addRange(d)))}}for(d=[],l=m;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)l=d[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var uC=c&&"documentMode"in document&&11>=document.documentMode,$o=null,Af=null,uc=null,Pf=!1;function X1(l,d,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Pf||$o==null||$o!==Xe(y)||(y=$o,"selectionStart"in y&&Ef(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),uc&&dc(uc,y)||(uc=y,y=vu(Af,"onSelect"),0<y.length&&(d=new wf("onSelect","select",null,d,m),l.push({event:d,listeners:y}),d.target=$o)))}function gu(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var Ho={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},Df={},J1={};c&&(J1=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function xu(l){if(Df[l])return Df[l];if(!Ho[l])return l;var d=Ho[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in J1)return Df[l]=d[m];return l}var Q1=xu("animationend"),Z1=xu("animationiteration"),ey=xu("animationstart"),ty=xu("transitionend"),ry=new Map,ny="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ka(l,d){ry.set(l,d),i(d,[l])}for(var Rf=0;Rf<ny.length;Rf++){var Ff=ny[Rf],hC=Ff.toLowerCase(),fC=Ff[0].toUpperCase()+Ff.slice(1);Ka(hC,"on"+fC)}Ka(Q1,"onAnimationEnd"),Ka(Z1,"onAnimationIteration"),Ka(ey,"onAnimationStart"),Ka("dblclick","onDoubleClick"),Ka("focusin","onFocus"),Ka("focusout","onBlur"),Ka(ty,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mC=new Set("cancel close invalid load scroll toggle".split(" ").concat(hc));function sy(l,d,m){var y=l.type||"unknown-event";l.currentTarget=m,Y(y,d,void 0,l),l.currentTarget=null}function ay(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var y=l[m],k=y.event;y=y.listeners;e:{var N=void 0;if(d)for(var I=y.length-1;0<=I;I--){var oe=y[I],de=oe.instance,je=oe.currentTarget;if(oe=oe.listener,de!==N&&k.isPropagationStopped())break e;sy(k,oe,je),N=de}else for(I=0;I<y.length;I++){if(oe=y[I],de=oe.instance,je=oe.currentTarget,oe=oe.listener,de!==N&&k.isPropagationStopped())break e;sy(k,oe,je),N=de}}}if(D)throw l=J,D=!1,J=null,l}function sr(l,d){var m=d[Vf];m===void 0&&(m=d[Vf]=new Set);var y=l+"__bubble";m.has(y)||(iy(d,l,2,!1),m.add(y))}function Of(l,d,m){var y=0;d&&(y|=4),iy(m,l,y,d)}var yu="_reactListening"+Math.random().toString(36).slice(2);function fc(l){if(!l[yu]){l[yu]=!0,n.forEach(function(m){m!=="selectionchange"&&(mC.has(m)||Of(m,!1,l),Of(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[yu]||(d[yu]=!0,Of("selectionchange",!1,d))}}function iy(l,d,m,y){switch(E1(d)){case 1:var k=T3;break;case 4:k=E3;break;default:k=yf}m=k.bind(null,d,m,l),k=void 0,!qs||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(k=!0),y?k!==void 0?l.addEventListener(d,m,{capture:!0,passive:k}):l.addEventListener(d,m,!0):k!==void 0?l.addEventListener(d,m,{passive:k}):l.addEventListener(d,m,!1)}function Mf(l,d,m,y,k){var N=y;if((d&1)===0&&(d&2)===0&&y!==null)e:for(;;){if(y===null)return;var I=y.tag;if(I===3||I===4){var oe=y.stateNode.containerInfo;if(oe===k||oe.nodeType===8&&oe.parentNode===k)break;if(I===4)for(I=y.return;I!==null;){var de=I.tag;if((de===3||de===4)&&(de=I.stateNode.containerInfo,de===k||de.nodeType===8&&de.parentNode===k))return;I=I.return}for(;oe!==null;){if(I=Hi(oe),I===null)return;if(de=I.tag,de===5||de===6){y=N=I;continue e}oe=oe.parentNode}}y=y.return}Es(function(){var je=N,Ue=Cn(m),$e=[];e:{var Ie=ry.get(l);if(Ie!==void 0){var et=wf,st=l;switch(l){case"keypress":if(hu(m)===0)break e;case"keydown":case"keyup":et=H3;break;case"focusin":st="focus",et=Sf;break;case"focusout":st="blur",et=Sf;break;case"beforeblur":case"afterblur":et=Sf;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=D1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=D3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=K3;break;case Q1:case Z1:case ey:et=O3;break;case ty:et=q3;break;case"scroll":et=A3;break;case"wheel":et=J3;break;case"copy":case"cut":case"paste":et=L3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=F1}var lt=(d&4)!==0,kr=!lt&&l==="scroll",ve=lt?Ie!==null?Ie+"Capture":null:Ie;lt=[];for(var he=je,Ne;he!==null;){Ne=he;var Ye=Ne.stateNode;if(Ne.tag===5&&Ye!==null&&(Ne=Ye,ve!==null&&(Ye=jr(he,ve),Ye!=null&&lt.push(mc(he,Ye,Ne)))),kr)break;he=he.return}0<lt.length&&(Ie=new et(Ie,st,null,m,Ue),$e.push({event:Ie,listeners:lt}))}}if((d&7)===0){e:{if(Ie=l==="mouseover"||l==="pointerover",et=l==="mouseout"||l==="pointerout",Ie&&m!==jn&&(st=m.relatedTarget||m.fromElement)&&(Hi(st)||st[ya]))break e;if((et||Ie)&&(Ie=Ue.window===Ue?Ue:(Ie=Ue.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,et?(st=m.relatedTarget||m.toElement,et=je,st=st?Hi(st):null,st!==null&&(kr=se(st),st!==kr||st.tag!==5&&st.tag!==6)&&(st=null)):(et=null,st=je),et!==st)){if(lt=D1,Ye="onMouseLeave",ve="onMouseEnter",he="mouse",(l==="pointerout"||l==="pointerover")&&(lt=F1,Ye="onPointerLeave",ve="onPointerEnter",he="pointer"),kr=et==null?Ie:Ko(et),Ne=st==null?Ie:Ko(st),Ie=new lt(Ye,he+"leave",et,m,Ue),Ie.target=kr,Ie.relatedTarget=Ne,Ye=null,Hi(Ue)===je&&(lt=new lt(ve,he+"enter",st,m,Ue),lt.target=Ne,lt.relatedTarget=kr,Ye=lt),kr=Ye,et&&st)t:{for(lt=et,ve=st,he=0,Ne=lt;Ne;Ne=Wo(Ne))he++;for(Ne=0,Ye=ve;Ye;Ye=Wo(Ye))Ne++;for(;0<he-Ne;)lt=Wo(lt),he--;for(;0<Ne-he;)ve=Wo(ve),Ne--;for(;he--;){if(lt===ve||ve!==null&&lt===ve.alternate)break t;lt=Wo(lt),ve=Wo(ve)}lt=null}else lt=null;et!==null&&oy($e,Ie,et,lt,!1),st!==null&&kr!==null&&oy($e,kr,st,lt,!0)}}e:{if(Ie=je?Ko(je):window,et=Ie.nodeName&&Ie.nodeName.toLowerCase(),et==="select"||et==="input"&&Ie.type==="file")var ut=sC;else if(U1(Ie))if(V1)ut=lC;else{ut=iC;var ft=aC}else(et=Ie.nodeName)&&et.toLowerCase()==="input"&&(Ie.type==="checkbox"||Ie.type==="radio")&&(ut=oC);if(ut&&(ut=ut(l,je))){z1($e,ut,m,Ue);break e}ft&&ft(l,Ie,je),l==="focusout"&&(ft=Ie._wrapperState)&&ft.controlled&&Ie.type==="number"&&rt(Ie,"number",Ie.value)}switch(ft=je?Ko(je):window,l){case"focusin":(U1(ft)||ft.contentEditable==="true")&&($o=ft,Af=je,uc=null);break;case"focusout":uc=Af=$o=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,X1($e,m,Ue);break;case"selectionchange":if(uC)break;case"keydown":case"keyup":X1($e,m,Ue)}var mt;if(jf)e:{switch(l){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else Vo?I1(l,m)&&(vt="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(vt="onCompositionStart");vt&&(O1&&m.locale!=="ko"&&(Vo||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Vo&&(mt=A1()):(Ya=Ue,bf="value"in Ya?Ya.value:Ya.textContent,Vo=!0)),ft=vu(je,vt),0<ft.length&&(vt=new R1(vt,l,null,m,Ue),$e.push({event:vt,listeners:ft}),mt?vt.data=mt:(mt=B1(m),mt!==null&&(vt.data=mt)))),(mt=Z3?eC(l,m):tC(l,m))&&(je=vu(je,"onBeforeInput"),0<je.length&&(Ue=new R1("onBeforeInput","beforeinput",null,m,Ue),$e.push({event:Ue,listeners:je}),Ue.data=mt))}ay($e,d)})}function mc(l,d,m){return{instance:l,listener:d,currentTarget:m}}function vu(l,d){for(var m=d+"Capture",y=[];l!==null;){var k=l,N=k.stateNode;k.tag===5&&N!==null&&(k=N,N=jr(l,m),N!=null&&y.unshift(mc(l,N,k)),N=jr(l,d),N!=null&&y.push(mc(l,N,k))),l=l.return}return y}function Wo(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function oy(l,d,m,y,k){for(var N=d._reactName,I=[];m!==null&&m!==y;){var oe=m,de=oe.alternate,je=oe.stateNode;if(de!==null&&de===y)break;oe.tag===5&&je!==null&&(oe=je,k?(de=jr(m,N),de!=null&&I.unshift(mc(m,de,oe))):k||(de=jr(m,N),de!=null&&I.push(mc(m,de,oe)))),m=m.return}I.length!==0&&l.push({event:d,listeners:I})}var pC=/\r\n?/g,gC=/\u0000|\uFFFD/g;function ly(l){return(typeof l=="string"?l:""+l).replace(pC,`
`).replace(gC,"")}function bu(l,d,m){if(d=ly(d),ly(l)!==d&&m)throw Error(r(425))}function wu(){}var Lf=null,If=null;function Bf(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Uf=typeof setTimeout=="function"?setTimeout:void 0,xC=typeof clearTimeout=="function"?clearTimeout:void 0,cy=typeof Promise=="function"?Promise:void 0,yC=typeof queueMicrotask=="function"?queueMicrotask:typeof cy<"u"?function(l){return cy.resolve(null).then(l).catch(vC)}:Uf;function vC(l){setTimeout(function(){throw l})}function zf(l,d){var m=d,y=0;do{var k=m.nextSibling;if(l.removeChild(m),k&&k.nodeType===8)if(m=k.data,m==="/$"){if(y===0){l.removeChild(k),sc(d);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=k}while(m);sc(d)}function Ga(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function dy(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),Qs="__reactFiber$"+Yo,pc="__reactProps$"+Yo,ya="__reactContainer$"+Yo,Vf="__reactEvents$"+Yo,bC="__reactListeners$"+Yo,wC="__reactHandles$"+Yo;function Hi(l){var d=l[Qs];if(d)return d;for(var m=l.parentNode;m;){if(d=m[ya]||m[Qs]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=dy(l);l!==null;){if(m=l[Qs])return m;l=dy(l)}return d}l=m,m=l.parentNode}return null}function gc(l){return l=l[Qs]||l[ya],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Ko(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function ku(l){return l[pc]||null}var $f=[],Go=-1;function qa(l){return{current:l}}function ar(l){0>Go||(l.current=$f[Go],$f[Go]=null,Go--)}function tr(l,d){Go++,$f[Go]=l.current,l.current=d}var Xa={},sn=qa(Xa),Tn=qa(!1),Wi=Xa;function qo(l,d){var m=l.type.contextTypes;if(!m)return Xa;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===d)return y.__reactInternalMemoizedMaskedChildContext;var k={},N;for(N in m)k[N]=d[N];return y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=k),k}function En(l){return l=l.childContextTypes,l!=null}function Nu(){ar(Tn),ar(sn)}function uy(l,d,m){if(sn.current!==Xa)throw Error(r(168));tr(sn,d),tr(Tn,m)}function hy(l,d,m){var y=l.stateNode;if(d=d.childContextTypes,typeof y.getChildContext!="function")return m;y=y.getChildContext();for(var k in y)if(!(k in d))throw Error(r(108,ne(l)||"Unknown",k));return Z({},m,y)}function Su(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Xa,Wi=sn.current,tr(sn,l),tr(Tn,Tn.current),!0}function fy(l,d,m){var y=l.stateNode;if(!y)throw Error(r(169));m?(l=hy(l,d,Wi),y.__reactInternalMemoizedMergedChildContext=l,ar(Tn),ar(sn),tr(sn,l)):ar(Tn),tr(Tn,m)}var va=null,_u=!1,Hf=!1;function my(l){va===null?va=[l]:va.push(l)}function kC(l){_u=!0,my(l)}function Ja(){if(!Hf&&va!==null){Hf=!0;var l=0,d=Pt;try{var m=va;for(Pt=1;l<m.length;l++){var y=m[l];do y=y(!0);while(y!==null)}va=null,_u=!1}catch(k){throw va!==null&&(va=va.slice(l+1)),z(Qe,Ja),k}finally{Pt=d,Hf=!1}}return null}var Xo=[],Jo=0,ju=null,Cu=0,ds=[],us=0,Yi=null,ba=1,wa="";function Ki(l,d){Xo[Jo++]=Cu,Xo[Jo++]=ju,ju=l,Cu=d}function py(l,d,m){ds[us++]=ba,ds[us++]=wa,ds[us++]=Yi,Yi=l;var y=ba;l=wa;var k=32-_t(y)-1;y&=~(1<<k),m+=1;var N=32-_t(d)+k;if(30<N){var I=k-k%5;N=(y&(1<<I)-1).toString(32),y>>=I,k-=I,ba=1<<32-_t(d)+k|m<<k|y,wa=N+l}else ba=1<<N|m<<k|y,wa=l}function Wf(l){l.return!==null&&(Ki(l,1),py(l,1,0))}function Yf(l){for(;l===ju;)ju=Xo[--Jo],Xo[Jo]=null,Cu=Xo[--Jo],Xo[Jo]=null;for(;l===Yi;)Yi=ds[--us],ds[us]=null,wa=ds[--us],ds[us]=null,ba=ds[--us],ds[us]=null}var Jn=null,Qn=null,lr=!1,Rs=null;function gy(l,d){var m=ps(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=l,d=l.deletions,d===null?(l.deletions=[m],l.flags|=16):d.push(m)}function xy(l,d){switch(l.tag){case 5:var m=l.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,Jn=l,Qn=Ga(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,Jn=l,Qn=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=Yi!==null?{id:ba,overflow:wa}:null,l.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=ps(18,null,null,0),m.stateNode=d,m.return=l,l.child=m,Jn=l,Qn=null,!0):!1;default:return!1}}function Kf(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Gf(l){if(lr){var d=Qn;if(d){var m=d;if(!xy(l,d)){if(Kf(l))throw Error(r(418));d=Ga(m.nextSibling);var y=Jn;d&&xy(l,d)?gy(y,m):(l.flags=l.flags&-4097|2,lr=!1,Jn=l)}}else{if(Kf(l))throw Error(r(418));l.flags=l.flags&-4097|2,lr=!1,Jn=l}}}function yy(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Jn=l}function Tu(l){if(l!==Jn)return!1;if(!lr)return yy(l),lr=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!Bf(l.type,l.memoizedProps)),d&&(d=Qn)){if(Kf(l))throw vy(),Error(r(418));for(;d;)gy(l,d),d=Ga(d.nextSibling)}if(yy(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(d===0){Qn=Ga(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}l=l.nextSibling}Qn=null}}else Qn=Jn?Ga(l.stateNode.nextSibling):null;return!0}function vy(){for(var l=Qn;l;)l=Ga(l.nextSibling)}function Qo(){Qn=Jn=null,lr=!1}function qf(l){Rs===null?Rs=[l]:Rs.push(l)}var NC=R.ReactCurrentBatchConfig;function xc(l,d,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var y=m.stateNode}if(!y)throw Error(r(147,l));var k=y,N=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===N?d.ref:(d=function(I){var oe=k.refs;I===null?delete oe[N]:oe[N]=I},d._stringRef=N,d)}if(typeof l!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,l))}return l}function Eu(l,d){throw l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function by(l){var d=l._init;return d(l._payload)}function wy(l){function d(ve,he){if(l){var Ne=ve.deletions;Ne===null?(ve.deletions=[he],ve.flags|=16):Ne.push(he)}}function m(ve,he){if(!l)return null;for(;he!==null;)d(ve,he),he=he.sibling;return null}function y(ve,he){for(ve=new Map;he!==null;)he.key!==null?ve.set(he.key,he):ve.set(he.index,he),he=he.sibling;return ve}function k(ve,he){return ve=ai(ve,he),ve.index=0,ve.sibling=null,ve}function N(ve,he,Ne){return ve.index=Ne,l?(Ne=ve.alternate,Ne!==null?(Ne=Ne.index,Ne<he?(ve.flags|=2,he):Ne):(ve.flags|=2,he)):(ve.flags|=1048576,he)}function I(ve){return l&&ve.alternate===null&&(ve.flags|=2),ve}function oe(ve,he,Ne,Ye){return he===null||he.tag!==6?(he=Um(Ne,ve.mode,Ye),he.return=ve,he):(he=k(he,Ne),he.return=ve,he)}function de(ve,he,Ne,Ye){var ut=Ne.type;return ut===S?Ue(ve,he,Ne.props.children,Ye,Ne.key):he!==null&&(he.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===ee&&by(ut)===he.type)?(Ye=k(he,Ne.props),Ye.ref=xc(ve,he,Ne),Ye.return=ve,Ye):(Ye=Zu(Ne.type,Ne.key,Ne.props,null,ve.mode,Ye),Ye.ref=xc(ve,he,Ne),Ye.return=ve,Ye)}function je(ve,he,Ne,Ye){return he===null||he.tag!==4||he.stateNode.containerInfo!==Ne.containerInfo||he.stateNode.implementation!==Ne.implementation?(he=zm(Ne,ve.mode,Ye),he.return=ve,he):(he=k(he,Ne.children||[]),he.return=ve,he)}function Ue(ve,he,Ne,Ye,ut){return he===null||he.tag!==7?(he=to(Ne,ve.mode,Ye,ut),he.return=ve,he):(he=k(he,Ne),he.return=ve,he)}function $e(ve,he,Ne){if(typeof he=="string"&&he!==""||typeof he=="number")return he=Um(""+he,ve.mode,Ne),he.return=ve,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case j:return Ne=Zu(he.type,he.key,he.props,null,ve.mode,Ne),Ne.ref=xc(ve,null,he),Ne.return=ve,Ne;case O:return he=zm(he,ve.mode,Ne),he.return=ve,he;case ee:var Ye=he._init;return $e(ve,Ye(he._payload),Ne)}if(ot(he)||U(he))return he=to(he,ve.mode,Ne,null),he.return=ve,he;Eu(ve,he)}return null}function Ie(ve,he,Ne,Ye){var ut=he!==null?he.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return ut!==null?null:oe(ve,he,""+Ne,Ye);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case j:return Ne.key===ut?de(ve,he,Ne,Ye):null;case O:return Ne.key===ut?je(ve,he,Ne,Ye):null;case ee:return ut=Ne._init,Ie(ve,he,ut(Ne._payload),Ye)}if(ot(Ne)||U(Ne))return ut!==null?null:Ue(ve,he,Ne,Ye,null);Eu(ve,Ne)}return null}function et(ve,he,Ne,Ye,ut){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return ve=ve.get(Ne)||null,oe(he,ve,""+Ye,ut);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case j:return ve=ve.get(Ye.key===null?Ne:Ye.key)||null,de(he,ve,Ye,ut);case O:return ve=ve.get(Ye.key===null?Ne:Ye.key)||null,je(he,ve,Ye,ut);case ee:var ft=Ye._init;return et(ve,he,Ne,ft(Ye._payload),ut)}if(ot(Ye)||U(Ye))return ve=ve.get(Ne)||null,Ue(he,ve,Ye,ut,null);Eu(he,Ye)}return null}function st(ve,he,Ne,Ye){for(var ut=null,ft=null,mt=he,vt=he=0,zr=null;mt!==null&&vt<Ne.length;vt++){mt.index>vt?(zr=mt,mt=null):zr=mt.sibling;var Lt=Ie(ve,mt,Ne[vt],Ye);if(Lt===null){mt===null&&(mt=zr);break}l&&mt&&Lt.alternate===null&&d(ve,mt),he=N(Lt,he,vt),ft===null?ut=Lt:ft.sibling=Lt,ft=Lt,mt=zr}if(vt===Ne.length)return m(ve,mt),lr&&Ki(ve,vt),ut;if(mt===null){for(;vt<Ne.length;vt++)mt=$e(ve,Ne[vt],Ye),mt!==null&&(he=N(mt,he,vt),ft===null?ut=mt:ft.sibling=mt,ft=mt);return lr&&Ki(ve,vt),ut}for(mt=y(ve,mt);vt<Ne.length;vt++)zr=et(mt,ve,vt,Ne[vt],Ye),zr!==null&&(l&&zr.alternate!==null&&mt.delete(zr.key===null?vt:zr.key),he=N(zr,he,vt),ft===null?ut=zr:ft.sibling=zr,ft=zr);return l&&mt.forEach(function(ii){return d(ve,ii)}),lr&&Ki(ve,vt),ut}function lt(ve,he,Ne,Ye){var ut=U(Ne);if(typeof ut!="function")throw Error(r(150));if(Ne=ut.call(Ne),Ne==null)throw Error(r(151));for(var ft=ut=null,mt=he,vt=he=0,zr=null,Lt=Ne.next();mt!==null&&!Lt.done;vt++,Lt=Ne.next()){mt.index>vt?(zr=mt,mt=null):zr=mt.sibling;var ii=Ie(ve,mt,Lt.value,Ye);if(ii===null){mt===null&&(mt=zr);break}l&&mt&&ii.alternate===null&&d(ve,mt),he=N(ii,he,vt),ft===null?ut=ii:ft.sibling=ii,ft=ii,mt=zr}if(Lt.done)return m(ve,mt),lr&&Ki(ve,vt),ut;if(mt===null){for(;!Lt.done;vt++,Lt=Ne.next())Lt=$e(ve,Lt.value,Ye),Lt!==null&&(he=N(Lt,he,vt),ft===null?ut=Lt:ft.sibling=Lt,ft=Lt);return lr&&Ki(ve,vt),ut}for(mt=y(ve,mt);!Lt.done;vt++,Lt=Ne.next())Lt=et(mt,ve,vt,Lt.value,Ye),Lt!==null&&(l&&Lt.alternate!==null&&mt.delete(Lt.key===null?vt:Lt.key),he=N(Lt,he,vt),ft===null?ut=Lt:ft.sibling=Lt,ft=Lt);return l&&mt.forEach(function(rT){return d(ve,rT)}),lr&&Ki(ve,vt),ut}function kr(ve,he,Ne,Ye){if(typeof Ne=="object"&&Ne!==null&&Ne.type===S&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case j:e:{for(var ut=Ne.key,ft=he;ft!==null;){if(ft.key===ut){if(ut=Ne.type,ut===S){if(ft.tag===7){m(ve,ft.sibling),he=k(ft,Ne.props.children),he.return=ve,ve=he;break e}}else if(ft.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===ee&&by(ut)===ft.type){m(ve,ft.sibling),he=k(ft,Ne.props),he.ref=xc(ve,ft,Ne),he.return=ve,ve=he;break e}m(ve,ft);break}else d(ve,ft);ft=ft.sibling}Ne.type===S?(he=to(Ne.props.children,ve.mode,Ye,Ne.key),he.return=ve,ve=he):(Ye=Zu(Ne.type,Ne.key,Ne.props,null,ve.mode,Ye),Ye.ref=xc(ve,he,Ne),Ye.return=ve,ve=Ye)}return I(ve);case O:e:{for(ft=Ne.key;he!==null;){if(he.key===ft)if(he.tag===4&&he.stateNode.containerInfo===Ne.containerInfo&&he.stateNode.implementation===Ne.implementation){m(ve,he.sibling),he=k(he,Ne.children||[]),he.return=ve,ve=he;break e}else{m(ve,he);break}else d(ve,he);he=he.sibling}he=zm(Ne,ve.mode,Ye),he.return=ve,ve=he}return I(ve);case ee:return ft=Ne._init,kr(ve,he,ft(Ne._payload),Ye)}if(ot(Ne))return st(ve,he,Ne,Ye);if(U(Ne))return lt(ve,he,Ne,Ye);Eu(ve,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"?(Ne=""+Ne,he!==null&&he.tag===6?(m(ve,he.sibling),he=k(he,Ne),he.return=ve,ve=he):(m(ve,he),he=Um(Ne,ve.mode,Ye),he.return=ve,ve=he),I(ve)):m(ve,he)}return kr}var Zo=wy(!0),ky=wy(!1),Au=qa(null),Pu=null,el=null,Xf=null;function Jf(){Xf=el=Pu=null}function Qf(l){var d=Au.current;ar(Au),l._currentValue=d}function Zf(l,d,m){for(;l!==null;){var y=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,y!==null&&(y.childLanes|=d)):y!==null&&(y.childLanes&d)!==d&&(y.childLanes|=d),l===m)break;l=l.return}}function tl(l,d){Pu=l,Xf=el=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(An=!0),l.firstContext=null)}function hs(l){var d=l._currentValue;if(Xf!==l)if(l={context:l,memoizedValue:d,next:null},el===null){if(Pu===null)throw Error(r(308));el=l,Pu.dependencies={lanes:0,firstContext:l}}else el=el.next=l;return d}var Gi=null;function em(l){Gi===null?Gi=[l]:Gi.push(l)}function Ny(l,d,m,y){var k=d.interleaved;return k===null?(m.next=m,em(d)):(m.next=k.next,k.next=m),d.interleaved=m,ka(l,y)}function ka(l,d){l.lanes|=d;var m=l.alternate;for(m!==null&&(m.lanes|=d),m=l,l=l.return;l!==null;)l.childLanes|=d,m=l.alternate,m!==null&&(m.childLanes|=d),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Qa=!1;function tm(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sy(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Na(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function Za(l,d,m){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(Ot&2)!==0){var k=y.pending;return k===null?d.next=d:(d.next=k.next,k.next=d),y.pending=d,ka(l,m)}return k=y.interleaved,k===null?(d.next=d,em(y)):(d.next=k.next,k.next=d),y.interleaved=d,ka(l,m)}function Du(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var y=d.lanes;y&=l.pendingLanes,m|=y,d.lanes=m,ls(l,m)}}function _y(l,d){var m=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var k=null,N=null;if(m=m.firstBaseUpdate,m!==null){do{var I={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};N===null?k=N=I:N=N.next=I,m=m.next}while(m!==null);N===null?k=N=d:N=N.next=d}else k=N=d;m={baseState:y.baseState,firstBaseUpdate:k,lastBaseUpdate:N,shared:y.shared,effects:y.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}function Ru(l,d,m,y){var k=l.updateQueue;Qa=!1;var N=k.firstBaseUpdate,I=k.lastBaseUpdate,oe=k.shared.pending;if(oe!==null){k.shared.pending=null;var de=oe,je=de.next;de.next=null,I===null?N=je:I.next=je,I=de;var Ue=l.alternate;Ue!==null&&(Ue=Ue.updateQueue,oe=Ue.lastBaseUpdate,oe!==I&&(oe===null?Ue.firstBaseUpdate=je:oe.next=je,Ue.lastBaseUpdate=de))}if(N!==null){var $e=k.baseState;I=0,Ue=je=de=null,oe=N;do{var Ie=oe.lane,et=oe.eventTime;if((y&Ie)===Ie){Ue!==null&&(Ue=Ue.next={eventTime:et,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var st=l,lt=oe;switch(Ie=d,et=m,lt.tag){case 1:if(st=lt.payload,typeof st=="function"){$e=st.call(et,$e,Ie);break e}$e=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=lt.payload,Ie=typeof st=="function"?st.call(et,$e,Ie):st,Ie==null)break e;$e=Z({},$e,Ie);break e;case 2:Qa=!0}}oe.callback!==null&&oe.lane!==0&&(l.flags|=64,Ie=k.effects,Ie===null?k.effects=[oe]:Ie.push(oe))}else et={eventTime:et,lane:Ie,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Ue===null?(je=Ue=et,de=$e):Ue=Ue.next=et,I|=Ie;if(oe=oe.next,oe===null){if(oe=k.shared.pending,oe===null)break;Ie=oe,oe=Ie.next,Ie.next=null,k.lastBaseUpdate=Ie,k.shared.pending=null}}while(!0);if(Ue===null&&(de=$e),k.baseState=de,k.firstBaseUpdate=je,k.lastBaseUpdate=Ue,d=k.shared.interleaved,d!==null){k=d;do I|=k.lane,k=k.next;while(k!==d)}else N===null&&(k.shared.lanes=0);Ji|=I,l.lanes=I,l.memoizedState=$e}}function jy(l,d,m){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var y=l[d],k=y.callback;if(k!==null){if(y.callback=null,y=m,typeof k!="function")throw Error(r(191,k));k.call(y)}}}var yc={},Zs=qa(yc),vc=qa(yc),bc=qa(yc);function qi(l){if(l===yc)throw Error(r(174));return l}function rm(l,d){switch(tr(bc,d),tr(vc,l),tr(Zs,yc),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Ve(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=Ve(d,l)}ar(Zs),tr(Zs,d)}function rl(){ar(Zs),ar(vc),ar(bc)}function Cy(l){qi(bc.current);var d=qi(Zs.current),m=Ve(d,l.type);d!==m&&(tr(vc,l),tr(Zs,m))}function nm(l){vc.current===l&&(ar(Zs),ar(vc))}var hr=qa(0);function Fu(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var sm=[];function am(){for(var l=0;l<sm.length;l++)sm[l]._workInProgressVersionPrimary=null;sm.length=0}var Ou=R.ReactCurrentDispatcher,im=R.ReactCurrentBatchConfig,Xi=0,fr=null,Or=null,Br=null,Mu=!1,wc=!1,kc=0,SC=0;function an(){throw Error(r(321))}function om(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!Ds(l[m],d[m]))return!1;return!0}function lm(l,d,m,y,k,N){if(Xi=N,fr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Ou.current=l===null||l.memoizedState===null?TC:EC,l=m(y,k),wc){N=0;do{if(wc=!1,kc=0,25<=N)throw Error(r(301));N+=1,Br=Or=null,d.updateQueue=null,Ou.current=AC,l=m(y,k)}while(wc)}if(Ou.current=Bu,d=Or!==null&&Or.next!==null,Xi=0,Br=Or=fr=null,Mu=!1,d)throw Error(r(300));return l}function cm(){var l=kc!==0;return kc=0,l}function ea(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?fr.memoizedState=Br=l:Br=Br.next=l,Br}function fs(){if(Or===null){var l=fr.alternate;l=l!==null?l.memoizedState:null}else l=Or.next;var d=Br===null?fr.memoizedState:Br.next;if(d!==null)Br=d,Or=l;else{if(l===null)throw Error(r(310));Or=l,l={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},Br===null?fr.memoizedState=Br=l:Br=Br.next=l}return Br}function Nc(l,d){return typeof d=="function"?d(l):d}function dm(l){var d=fs(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=Or,k=y.baseQueue,N=m.pending;if(N!==null){if(k!==null){var I=k.next;k.next=N.next,N.next=I}y.baseQueue=k=N,m.pending=null}if(k!==null){N=k.next,y=y.baseState;var oe=I=null,de=null,je=N;do{var Ue=je.lane;if((Xi&Ue)===Ue)de!==null&&(de=de.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),y=je.hasEagerState?je.eagerState:l(y,je.action);else{var $e={lane:Ue,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};de===null?(oe=de=$e,I=y):de=de.next=$e,fr.lanes|=Ue,Ji|=Ue}je=je.next}while(je!==null&&je!==N);de===null?I=y:de.next=oe,Ds(y,d.memoizedState)||(An=!0),d.memoizedState=y,d.baseState=I,d.baseQueue=de,m.lastRenderedState=y}if(l=m.interleaved,l!==null){k=l;do N=k.lane,fr.lanes|=N,Ji|=N,k=k.next;while(k!==l)}else k===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function um(l){var d=fs(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=m.dispatch,k=m.pending,N=d.memoizedState;if(k!==null){m.pending=null;var I=k=k.next;do N=l(N,I.action),I=I.next;while(I!==k);Ds(N,d.memoizedState)||(An=!0),d.memoizedState=N,d.baseQueue===null&&(d.baseState=N),m.lastRenderedState=N}return[N,y]}function Ty(){}function Ey(l,d){var m=fr,y=fs(),k=d(),N=!Ds(y.memoizedState,k);if(N&&(y.memoizedState=k,An=!0),y=y.queue,hm(Dy.bind(null,m,y,l),[l]),y.getSnapshot!==d||N||Br!==null&&Br.memoizedState.tag&1){if(m.flags|=2048,Sc(9,Py.bind(null,m,y,k,d),void 0,null),Ur===null)throw Error(r(349));(Xi&30)!==0||Ay(m,d,k)}return k}function Ay(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=fr.updateQueue,d===null?(d={lastEffect:null,stores:null},fr.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function Py(l,d,m,y){d.value=m,d.getSnapshot=y,Ry(d)&&Fy(l)}function Dy(l,d,m){return m(function(){Ry(d)&&Fy(l)})}function Ry(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!Ds(l,m)}catch{return!0}}function Fy(l){var d=ka(l,1);d!==null&&Ls(d,l,1,-1)}function Oy(l){var d=ea();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:l},d.queue=l,l=l.dispatch=CC.bind(null,fr,l),[d.memoizedState,l]}function Sc(l,d,m,y){return l={tag:l,create:d,destroy:m,deps:y,next:null},d=fr.updateQueue,d===null?(d={lastEffect:null,stores:null},fr.updateQueue=d,d.lastEffect=l.next=l):(m=d.lastEffect,m===null?d.lastEffect=l.next=l:(y=m.next,m.next=l,l.next=y,d.lastEffect=l)),l}function My(){return fs().memoizedState}function Lu(l,d,m,y){var k=ea();fr.flags|=l,k.memoizedState=Sc(1|d,m,void 0,y===void 0?null:y)}function Iu(l,d,m,y){var k=fs();y=y===void 0?null:y;var N=void 0;if(Or!==null){var I=Or.memoizedState;if(N=I.destroy,y!==null&&om(y,I.deps)){k.memoizedState=Sc(d,m,N,y);return}}fr.flags|=l,k.memoizedState=Sc(1|d,m,N,y)}function Ly(l,d){return Lu(8390656,8,l,d)}function hm(l,d){return Iu(2048,8,l,d)}function Iy(l,d){return Iu(4,2,l,d)}function By(l,d){return Iu(4,4,l,d)}function Uy(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function zy(l,d,m){return m=m!=null?m.concat([l]):null,Iu(4,4,Uy.bind(null,d,l),m)}function fm(){}function Vy(l,d){var m=fs();d=d===void 0?null:d;var y=m.memoizedState;return y!==null&&d!==null&&om(d,y[1])?y[0]:(m.memoizedState=[l,d],l)}function $y(l,d){var m=fs();d=d===void 0?null:d;var y=m.memoizedState;return y!==null&&d!==null&&om(d,y[1])?y[0]:(l=l(),m.memoizedState=[l,d],l)}function Hy(l,d,m){return(Xi&21)===0?(l.baseState&&(l.baseState=!1,An=!0),l.memoizedState=m):(Ds(m,d)||(m=Js(),fr.lanes|=m,Ji|=m,l.baseState=!0),d)}function _C(l,d){var m=Pt;Pt=m!==0&&4>m?m:4,l(!0);var y=im.transition;im.transition={};try{l(!1),d()}finally{Pt=m,im.transition=y}}function Wy(){return fs().memoizedState}function jC(l,d,m){var y=ni(l);if(m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},Yy(l))Ky(d,m);else if(m=Ny(l,d,m,y),m!==null){var k=bn();Ls(m,l,y,k),Gy(m,d,y)}}function CC(l,d,m){var y=ni(l),k={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(Yy(l))Ky(d,k);else{var N=l.alternate;if(l.lanes===0&&(N===null||N.lanes===0)&&(N=d.lastRenderedReducer,N!==null))try{var I=d.lastRenderedState,oe=N(I,m);if(k.hasEagerState=!0,k.eagerState=oe,Ds(oe,I)){var de=d.interleaved;de===null?(k.next=k,em(d)):(k.next=de.next,de.next=k),d.interleaved=k;return}}catch{}finally{}m=Ny(l,d,k,y),m!==null&&(k=bn(),Ls(m,l,y,k),Gy(m,d,y))}}function Yy(l){var d=l.alternate;return l===fr||d!==null&&d===fr}function Ky(l,d){wc=Mu=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function Gy(l,d,m){if((m&4194240)!==0){var y=d.lanes;y&=l.pendingLanes,m|=y,d.lanes=m,ls(l,m)}}var Bu={readContext:hs,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},TC={readContext:hs,useCallback:function(l,d){return ea().memoizedState=[l,d===void 0?null:d],l},useContext:hs,useEffect:Ly,useImperativeHandle:function(l,d,m){return m=m!=null?m.concat([l]):null,Lu(4194308,4,Uy.bind(null,d,l),m)},useLayoutEffect:function(l,d){return Lu(4194308,4,l,d)},useInsertionEffect:function(l,d){return Lu(4,2,l,d)},useMemo:function(l,d){var m=ea();return d=d===void 0?null:d,l=l(),m.memoizedState=[l,d],l},useReducer:function(l,d,m){var y=ea();return d=m!==void 0?m(d):d,y.memoizedState=y.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},y.queue=l,l=l.dispatch=jC.bind(null,fr,l),[y.memoizedState,l]},useRef:function(l){var d=ea();return l={current:l},d.memoizedState=l},useState:Oy,useDebugValue:fm,useDeferredValue:function(l){return ea().memoizedState=l},useTransition:function(){var l=Oy(!1),d=l[0];return l=_C.bind(null,l[1]),ea().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,m){var y=fr,k=ea();if(lr){if(m===void 0)throw Error(r(407));m=m()}else{if(m=d(),Ur===null)throw Error(r(349));(Xi&30)!==0||Ay(y,d,m)}k.memoizedState=m;var N={value:m,getSnapshot:d};return k.queue=N,Ly(Dy.bind(null,y,N,l),[l]),y.flags|=2048,Sc(9,Py.bind(null,y,N,m,d),void 0,null),m},useId:function(){var l=ea(),d=Ur.identifierPrefix;if(lr){var m=wa,y=ba;m=(y&~(1<<32-_t(y)-1)).toString(32)+m,d=":"+d+"R"+m,m=kc++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=SC++,d=":"+d+"r"+m.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},EC={readContext:hs,useCallback:Vy,useContext:hs,useEffect:hm,useImperativeHandle:zy,useInsertionEffect:Iy,useLayoutEffect:By,useMemo:$y,useReducer:dm,useRef:My,useState:function(){return dm(Nc)},useDebugValue:fm,useDeferredValue:function(l){var d=fs();return Hy(d,Or.memoizedState,l)},useTransition:function(){var l=dm(Nc)[0],d=fs().memoizedState;return[l,d]},useMutableSource:Ty,useSyncExternalStore:Ey,useId:Wy,unstable_isNewReconciler:!1},AC={readContext:hs,useCallback:Vy,useContext:hs,useEffect:hm,useImperativeHandle:zy,useInsertionEffect:Iy,useLayoutEffect:By,useMemo:$y,useReducer:um,useRef:My,useState:function(){return um(Nc)},useDebugValue:fm,useDeferredValue:function(l){var d=fs();return Or===null?d.memoizedState=l:Hy(d,Or.memoizedState,l)},useTransition:function(){var l=um(Nc)[0],d=fs().memoizedState;return[l,d]},useMutableSource:Ty,useSyncExternalStore:Ey,useId:Wy,unstable_isNewReconciler:!1};function Fs(l,d){if(l&&l.defaultProps){d=Z({},d),l=l.defaultProps;for(var m in l)d[m]===void 0&&(d[m]=l[m]);return d}return d}function mm(l,d,m,y){d=l.memoizedState,m=m(y,d),m=m==null?d:Z({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Uu={isMounted:function(l){return(l=l._reactInternals)?se(l)===l:!1},enqueueSetState:function(l,d,m){l=l._reactInternals;var y=bn(),k=ni(l),N=Na(y,k);N.payload=d,m!=null&&(N.callback=m),d=Za(l,N,k),d!==null&&(Ls(d,l,k,y),Du(d,l,k))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var y=bn(),k=ni(l),N=Na(y,k);N.tag=1,N.payload=d,m!=null&&(N.callback=m),d=Za(l,N,k),d!==null&&(Ls(d,l,k,y),Du(d,l,k))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=bn(),y=ni(l),k=Na(m,y);k.tag=2,d!=null&&(k.callback=d),d=Za(l,k,y),d!==null&&(Ls(d,l,y,m),Du(d,l,y))}};function qy(l,d,m,y,k,N,I){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,N,I):d.prototype&&d.prototype.isPureReactComponent?!dc(m,y)||!dc(k,N):!0}function Xy(l,d,m){var y=!1,k=Xa,N=d.contextType;return typeof N=="object"&&N!==null?N=hs(N):(k=En(d)?Wi:sn.current,y=d.contextTypes,N=(y=y!=null)?qo(l,k):Xa),d=new d(m,N),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Uu,l.stateNode=d,d._reactInternals=l,y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=k,l.__reactInternalMemoizedMaskedChildContext=N),d}function Jy(l,d,m,y){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,y),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,y),d.state!==l&&Uu.enqueueReplaceState(d,d.state,null)}function pm(l,d,m,y){var k=l.stateNode;k.props=m,k.state=l.memoizedState,k.refs={},tm(l);var N=d.contextType;typeof N=="object"&&N!==null?k.context=hs(N):(N=En(d)?Wi:sn.current,k.context=qo(l,N)),k.state=l.memoizedState,N=d.getDerivedStateFromProps,typeof N=="function"&&(mm(l,d,N,m),k.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(d=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),d!==k.state&&Uu.enqueueReplaceState(k,k.state,null),Ru(l,m,k,y),k.state=l.memoizedState),typeof k.componentDidMount=="function"&&(l.flags|=4194308)}function nl(l,d){try{var m="",y=d;do m+=E(y),y=y.return;while(y);var k=m}catch(N){k=`
Error generating stack: `+N.message+`
`+N.stack}return{value:l,source:d,stack:k,digest:null}}function gm(l,d,m){return{value:l,source:null,stack:m??null,digest:d??null}}function xm(l,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var PC=typeof WeakMap=="function"?WeakMap:Map;function Qy(l,d,m){m=Na(-1,m),m.tag=3,m.payload={element:null};var y=d.value;return m.callback=function(){Ku||(Ku=!0,Dm=y),xm(l,d)},m}function Zy(l,d,m){m=Na(-1,m),m.tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var k=d.value;m.payload=function(){return y(k)},m.callback=function(){xm(l,d)}}var N=l.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(m.callback=function(){xm(l,d),typeof y!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var I=d.stack;this.componentDidCatch(d.value,{componentStack:I!==null?I:""})}),m}function ev(l,d,m){var y=l.pingCache;if(y===null){y=l.pingCache=new PC;var k=new Set;y.set(d,k)}else k=y.get(d),k===void 0&&(k=new Set,y.set(d,k));k.has(m)||(k.add(m),l=WC.bind(null,l,d,m),d.then(l,l))}function tv(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function rv(l,d,m,y,k){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=Na(-1,1),d.tag=2,Za(m,d,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=k,l)}var DC=R.ReactCurrentOwner,An=!1;function vn(l,d,m,y){d.child=l===null?ky(d,null,m,y):Zo(d,l.child,m,y)}function nv(l,d,m,y,k){m=m.render;var N=d.ref;return tl(d,k),y=lm(l,d,m,y,N,k),m=cm(),l!==null&&!An?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~k,Sa(l,d,k)):(lr&&m&&Wf(d),d.flags|=1,vn(l,d,y,k),d.child)}function sv(l,d,m,y,k){if(l===null){var N=m.type;return typeof N=="function"&&!Bm(N)&&N.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=N,av(l,d,N,y,k)):(l=Zu(m.type,null,y,d,d.mode,k),l.ref=d.ref,l.return=d,d.child=l)}if(N=l.child,(l.lanes&k)===0){var I=N.memoizedProps;if(m=m.compare,m=m!==null?m:dc,m(I,y)&&l.ref===d.ref)return Sa(l,d,k)}return d.flags|=1,l=ai(N,y),l.ref=d.ref,l.return=d,d.child=l}function av(l,d,m,y,k){if(l!==null){var N=l.memoizedProps;if(dc(N,y)&&l.ref===d.ref)if(An=!1,d.pendingProps=y=N,(l.lanes&k)!==0)(l.flags&131072)!==0&&(An=!0);else return d.lanes=l.lanes,Sa(l,d,k)}return ym(l,d,m,y,k)}function iv(l,d,m){var y=d.pendingProps,k=y.children,N=l!==null?l.memoizedState:null;if(y.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},tr(al,Zn),Zn|=m;else{if((m&1073741824)===0)return l=N!==null?N.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,tr(al,Zn),Zn|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=N!==null?N.baseLanes:m,tr(al,Zn),Zn|=y}else N!==null?(y=N.baseLanes|m,d.memoizedState=null):y=m,tr(al,Zn),Zn|=y;return vn(l,d,k,m),d.child}function ov(l,d){var m=d.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function ym(l,d,m,y,k){var N=En(m)?Wi:sn.current;return N=qo(d,N),tl(d,k),m=lm(l,d,m,y,N,k),y=cm(),l!==null&&!An?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~k,Sa(l,d,k)):(lr&&y&&Wf(d),d.flags|=1,vn(l,d,m,k),d.child)}function lv(l,d,m,y,k){if(En(m)){var N=!0;Su(d)}else N=!1;if(tl(d,k),d.stateNode===null)Vu(l,d),Xy(d,m,y),pm(d,m,y,k),y=!0;else if(l===null){var I=d.stateNode,oe=d.memoizedProps;I.props=oe;var de=I.context,je=m.contextType;typeof je=="object"&&je!==null?je=hs(je):(je=En(m)?Wi:sn.current,je=qo(d,je));var Ue=m.getDerivedStateFromProps,$e=typeof Ue=="function"||typeof I.getSnapshotBeforeUpdate=="function";$e||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(oe!==y||de!==je)&&Jy(d,I,y,je),Qa=!1;var Ie=d.memoizedState;I.state=Ie,Ru(d,y,I,k),de=d.memoizedState,oe!==y||Ie!==de||Tn.current||Qa?(typeof Ue=="function"&&(mm(d,m,Ue,y),de=d.memoizedState),(oe=Qa||qy(d,m,oe,y,Ie,de,je))?($e||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(d.flags|=4194308)):(typeof I.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=y,d.memoizedState=de),I.props=y,I.state=de,I.context=je,y=oe):(typeof I.componentDidMount=="function"&&(d.flags|=4194308),y=!1)}else{I=d.stateNode,Sy(l,d),oe=d.memoizedProps,je=d.type===d.elementType?oe:Fs(d.type,oe),I.props=je,$e=d.pendingProps,Ie=I.context,de=m.contextType,typeof de=="object"&&de!==null?de=hs(de):(de=En(m)?Wi:sn.current,de=qo(d,de));var et=m.getDerivedStateFromProps;(Ue=typeof et=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(oe!==$e||Ie!==de)&&Jy(d,I,y,de),Qa=!1,Ie=d.memoizedState,I.state=Ie,Ru(d,y,I,k);var st=d.memoizedState;oe!==$e||Ie!==st||Tn.current||Qa?(typeof et=="function"&&(mm(d,m,et,y),st=d.memoizedState),(je=Qa||qy(d,m,je,y,Ie,st,de)||!1)?(Ue||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(y,st,de),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(y,st,de)),typeof I.componentDidUpdate=="function"&&(d.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof I.componentDidUpdate!="function"||oe===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||oe===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=1024),d.memoizedProps=y,d.memoizedState=st),I.props=y,I.state=st,I.context=de,y=je):(typeof I.componentDidUpdate!="function"||oe===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||oe===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=1024),y=!1)}return vm(l,d,m,y,N,k)}function vm(l,d,m,y,k,N){ov(l,d);var I=(d.flags&128)!==0;if(!y&&!I)return k&&fy(d,m,!1),Sa(l,d,N);y=d.stateNode,DC.current=d;var oe=I&&typeof m.getDerivedStateFromError!="function"?null:y.render();return d.flags|=1,l!==null&&I?(d.child=Zo(d,l.child,null,N),d.child=Zo(d,null,oe,N)):vn(l,d,oe,N),d.memoizedState=y.state,k&&fy(d,m,!0),d.child}function cv(l){var d=l.stateNode;d.pendingContext?uy(l,d.pendingContext,d.pendingContext!==d.context):d.context&&uy(l,d.context,!1),rm(l,d.containerInfo)}function dv(l,d,m,y,k){return Qo(),qf(k),d.flags|=256,vn(l,d,m,y),d.child}var bm={dehydrated:null,treeContext:null,retryLane:0};function wm(l){return{baseLanes:l,cachePool:null,transitions:null}}function uv(l,d,m){var y=d.pendingProps,k=hr.current,N=!1,I=(d.flags&128)!==0,oe;if((oe=I)||(oe=l!==null&&l.memoizedState===null?!1:(k&2)!==0),oe?(N=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(k|=1),tr(hr,k&1),l===null)return Gf(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(I=y.children,l=y.fallback,N?(y=d.mode,N=d.child,I={mode:"hidden",children:I},(y&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=I):N=e0(I,y,0,null),l=to(l,y,m,null),N.return=d,l.return=d,N.sibling=l,d.child=N,d.child.memoizedState=wm(m),d.memoizedState=bm,l):km(d,I));if(k=l.memoizedState,k!==null&&(oe=k.dehydrated,oe!==null))return RC(l,d,I,y,oe,k,m);if(N){N=y.fallback,I=d.mode,k=l.child,oe=k.sibling;var de={mode:"hidden",children:y.children};return(I&1)===0&&d.child!==k?(y=d.child,y.childLanes=0,y.pendingProps=de,d.deletions=null):(y=ai(k,de),y.subtreeFlags=k.subtreeFlags&14680064),oe!==null?N=ai(oe,N):(N=to(N,I,m,null),N.flags|=2),N.return=d,y.return=d,y.sibling=N,d.child=y,y=N,N=d.child,I=l.child.memoizedState,I=I===null?wm(m):{baseLanes:I.baseLanes|m,cachePool:null,transitions:I.transitions},N.memoizedState=I,N.childLanes=l.childLanes&~m,d.memoizedState=bm,y}return N=l.child,l=N.sibling,y=ai(N,{mode:"visible",children:y.children}),(d.mode&1)===0&&(y.lanes=m),y.return=d,y.sibling=null,l!==null&&(m=d.deletions,m===null?(d.deletions=[l],d.flags|=16):m.push(l)),d.child=y,d.memoizedState=null,y}function km(l,d){return d=e0({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function zu(l,d,m,y){return y!==null&&qf(y),Zo(d,l.child,null,m),l=km(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function RC(l,d,m,y,k,N,I){if(m)return d.flags&256?(d.flags&=-257,y=gm(Error(r(422))),zu(l,d,I,y)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(N=y.fallback,k=d.mode,y=e0({mode:"visible",children:y.children},k,0,null),N=to(N,k,I,null),N.flags|=2,y.return=d,N.return=d,y.sibling=N,d.child=y,(d.mode&1)!==0&&Zo(d,l.child,null,I),d.child.memoizedState=wm(I),d.memoizedState=bm,N);if((d.mode&1)===0)return zu(l,d,I,null);if(k.data==="$!"){if(y=k.nextSibling&&k.nextSibling.dataset,y)var oe=y.dgst;return y=oe,N=Error(r(419)),y=gm(N,y,void 0),zu(l,d,I,y)}if(oe=(I&l.childLanes)!==0,An||oe){if(y=Ur,y!==null){switch(I&-I){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(y.suspendedLanes|I))!==0?0:k,k!==0&&k!==N.retryLane&&(N.retryLane=k,ka(l,k),Ls(y,l,k,-1))}return Im(),y=gm(Error(r(421))),zu(l,d,I,y)}return k.data==="$?"?(d.flags|=128,d.child=l.child,d=YC.bind(null,l),k._reactRetry=d,null):(l=N.treeContext,Qn=Ga(k.nextSibling),Jn=d,lr=!0,Rs=null,l!==null&&(ds[us++]=ba,ds[us++]=wa,ds[us++]=Yi,ba=l.id,wa=l.overflow,Yi=d),d=km(d,y.children),d.flags|=4096,d)}function hv(l,d,m){l.lanes|=d;var y=l.alternate;y!==null&&(y.lanes|=d),Zf(l.return,d,m)}function Nm(l,d,m,y,k){var N=l.memoizedState;N===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:k}:(N.isBackwards=d,N.rendering=null,N.renderingStartTime=0,N.last=y,N.tail=m,N.tailMode=k)}function fv(l,d,m){var y=d.pendingProps,k=y.revealOrder,N=y.tail;if(vn(l,d,y.children,m),y=hr.current,(y&2)!==0)y=y&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&hv(l,m,d);else if(l.tag===19)hv(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(tr(hr,y),(d.mode&1)===0)d.memoizedState=null;else switch(k){case"forwards":for(m=d.child,k=null;m!==null;)l=m.alternate,l!==null&&Fu(l)===null&&(k=m),m=m.sibling;m=k,m===null?(k=d.child,d.child=null):(k=m.sibling,m.sibling=null),Nm(d,!1,k,m,N);break;case"backwards":for(m=null,k=d.child,d.child=null;k!==null;){if(l=k.alternate,l!==null&&Fu(l)===null){d.child=k;break}l=k.sibling,k.sibling=m,m=k,k=l}Nm(d,!0,m,null,N);break;case"together":Nm(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Vu(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function Sa(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),Ji|=d.lanes,(m&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,m=ai(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=ai(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function FC(l,d,m){switch(d.tag){case 3:cv(d),Qo();break;case 5:Cy(d);break;case 1:En(d.type)&&Su(d);break;case 4:rm(d,d.stateNode.containerInfo);break;case 10:var y=d.type._context,k=d.memoizedProps.value;tr(Au,y._currentValue),y._currentValue=k;break;case 13:if(y=d.memoizedState,y!==null)return y.dehydrated!==null?(tr(hr,hr.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?uv(l,d,m):(tr(hr,hr.current&1),l=Sa(l,d,m),l!==null?l.sibling:null);tr(hr,hr.current&1);break;case 19:if(y=(m&d.childLanes)!==0,(l.flags&128)!==0){if(y)return fv(l,d,m);d.flags|=128}if(k=d.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),tr(hr,hr.current),y)break;return null;case 22:case 23:return d.lanes=0,iv(l,d,m)}return Sa(l,d,m)}var mv,Sm,pv,gv;mv=function(l,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Sm=function(){},pv=function(l,d,m,y){var k=l.memoizedProps;if(k!==y){l=d.stateNode,qi(Zs.current);var N=null;switch(m){case"input":k=He(l,k),y=He(l,y),N=[];break;case"select":k=Z({},k,{value:void 0}),y=Z({},y,{value:void 0}),N=[];break;case"textarea":k=wt(l,k),y=wt(l,y),N=[];break;default:typeof k.onClick!="function"&&typeof y.onClick=="function"&&(l.onclick=wu)}Hn(m,y);var I;m=null;for(je in k)if(!y.hasOwnProperty(je)&&k.hasOwnProperty(je)&&k[je]!=null)if(je==="style"){var oe=k[je];for(I in oe)oe.hasOwnProperty(I)&&(m||(m={}),m[I]="")}else je!=="dangerouslySetInnerHTML"&&je!=="children"&&je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&je!=="autoFocus"&&(s.hasOwnProperty(je)?N||(N=[]):(N=N||[]).push(je,null));for(je in y){var de=y[je];if(oe=k!=null?k[je]:void 0,y.hasOwnProperty(je)&&de!==oe&&(de!=null||oe!=null))if(je==="style")if(oe){for(I in oe)!oe.hasOwnProperty(I)||de&&de.hasOwnProperty(I)||(m||(m={}),m[I]="");for(I in de)de.hasOwnProperty(I)&&oe[I]!==de[I]&&(m||(m={}),m[I]=de[I])}else m||(N||(N=[]),N.push(je,m)),m=de;else je==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,oe=oe?oe.__html:void 0,de!=null&&oe!==de&&(N=N||[]).push(je,de)):je==="children"?typeof de!="string"&&typeof de!="number"||(N=N||[]).push(je,""+de):je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&(s.hasOwnProperty(je)?(de!=null&&je==="onScroll"&&sr("scroll",l),N||oe===de||(N=[])):(N=N||[]).push(je,de))}m&&(N=N||[]).push("style",m);var je=N;(d.updateQueue=je)&&(d.flags|=4)}},gv=function(l,d,m,y){m!==y&&(d.flags|=4)};function _c(l,d){if(!lr)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function on(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,y=0;if(d)for(var k=l.child;k!==null;)m|=k.lanes|k.childLanes,y|=k.subtreeFlags&14680064,y|=k.flags&14680064,k.return=l,k=k.sibling;else for(k=l.child;k!==null;)m|=k.lanes|k.childLanes,y|=k.subtreeFlags,y|=k.flags,k.return=l,k=k.sibling;return l.subtreeFlags|=y,l.childLanes=m,d}function OC(l,d,m){var y=d.pendingProps;switch(Yf(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(d),null;case 1:return En(d.type)&&Nu(),on(d),null;case 3:return y=d.stateNode,rl(),ar(Tn),ar(sn),am(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(l===null||l.child===null)&&(Tu(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Rs!==null&&(Om(Rs),Rs=null))),Sm(l,d),on(d),null;case 5:nm(d);var k=qi(bc.current);if(m=d.type,l!==null&&d.stateNode!=null)pv(l,d,m,y,k),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!y){if(d.stateNode===null)throw Error(r(166));return on(d),null}if(l=qi(Zs.current),Tu(d)){y=d.stateNode,m=d.type;var N=d.memoizedProps;switch(y[Qs]=d,y[pc]=N,l=(d.mode&1)!==0,m){case"dialog":sr("cancel",y),sr("close",y);break;case"iframe":case"object":case"embed":sr("load",y);break;case"video":case"audio":for(k=0;k<hc.length;k++)sr(hc[k],y);break;case"source":sr("error",y);break;case"img":case"image":case"link":sr("error",y),sr("load",y);break;case"details":sr("toggle",y);break;case"input":xe(y,N),sr("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!N.multiple},sr("invalid",y);break;case"textarea":Se(y,N),sr("invalid",y)}Hn(m,N),k=null;for(var I in N)if(N.hasOwnProperty(I)){var oe=N[I];I==="children"?typeof oe=="string"?y.textContent!==oe&&(N.suppressHydrationWarning!==!0&&bu(y.textContent,oe,l),k=["children",oe]):typeof oe=="number"&&y.textContent!==""+oe&&(N.suppressHydrationWarning!==!0&&bu(y.textContent,oe,l),k=["children",""+oe]):s.hasOwnProperty(I)&&oe!=null&&I==="onScroll"&&sr("scroll",y)}switch(m){case"input":Ke(y),Je(y,N,!0);break;case"textarea":Ke(y),Be(y);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(y.onclick=wu)}y=k,d.updateQueue=y,y!==null&&(d.flags|=4)}else{I=k.nodeType===9?k:k.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Re(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=I.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof y.is=="string"?l=I.createElement(m,{is:y.is}):(l=I.createElement(m),m==="select"&&(I=l,y.multiple?I.multiple=!0:y.size&&(I.size=y.size))):l=I.createElementNS(l,m),l[Qs]=d,l[pc]=y,mv(l,d,!1,!1),d.stateNode=l;e:{switch(I=Ts(m,y),m){case"dialog":sr("cancel",l),sr("close",l),k=y;break;case"iframe":case"object":case"embed":sr("load",l),k=y;break;case"video":case"audio":for(k=0;k<hc.length;k++)sr(hc[k],l);k=y;break;case"source":sr("error",l),k=y;break;case"img":case"image":case"link":sr("error",l),sr("load",l),k=y;break;case"details":sr("toggle",l),k=y;break;case"input":xe(l,y),k=He(l,y),sr("invalid",l);break;case"option":k=y;break;case"select":l._wrapperState={wasMultiple:!!y.multiple},k=Z({},y,{value:void 0}),sr("invalid",l);break;case"textarea":Se(l,y),k=wt(l,y),sr("invalid",l);break;default:k=y}Hn(m,k),oe=k;for(N in oe)if(oe.hasOwnProperty(N)){var de=oe[N];N==="style"?Xt(l,de):N==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&it(l,de)):N==="children"?typeof de=="string"?(m!=="textarea"||de!=="")&&kt(l,de):typeof de=="number"&&kt(l,""+de):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(s.hasOwnProperty(N)?de!=null&&N==="onScroll"&&sr("scroll",l):de!=null&&C(l,N,de,I))}switch(m){case"input":Ke(l),Je(l,y,!1);break;case"textarea":Ke(l),Be(l);break;case"option":y.value!=null&&l.setAttribute("value",""+ue(y.value));break;case"select":l.multiple=!!y.multiple,N=y.value,N!=null?dt(l,!!y.multiple,N,!1):y.defaultValue!=null&&dt(l,!!y.multiple,y.defaultValue,!0);break;default:typeof k.onClick=="function"&&(l.onclick=wu)}switch(m){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return on(d),null;case 6:if(l&&d.stateNode!=null)gv(l,d,l.memoizedProps,y);else{if(typeof y!="string"&&d.stateNode===null)throw Error(r(166));if(m=qi(bc.current),qi(Zs.current),Tu(d)){if(y=d.stateNode,m=d.memoizedProps,y[Qs]=d,(N=y.nodeValue!==m)&&(l=Jn,l!==null))switch(l.tag){case 3:bu(y.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&bu(y.nodeValue,m,(l.mode&1)!==0)}N&&(d.flags|=4)}else y=(m.nodeType===9?m:m.ownerDocument).createTextNode(y),y[Qs]=d,d.stateNode=y}return on(d),null;case 13:if(ar(hr),y=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(lr&&Qn!==null&&(d.mode&1)!==0&&(d.flags&128)===0)vy(),Qo(),d.flags|=98560,N=!1;else if(N=Tu(d),y!==null&&y.dehydrated!==null){if(l===null){if(!N)throw Error(r(318));if(N=d.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[Qs]=d}else Qo(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;on(d),N=!1}else Rs!==null&&(Om(Rs),Rs=null),N=!0;if(!N)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(y=y!==null,y!==(l!==null&&l.memoizedState!==null)&&y&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(hr.current&1)!==0?Mr===0&&(Mr=3):Im())),d.updateQueue!==null&&(d.flags|=4),on(d),null);case 4:return rl(),Sm(l,d),l===null&&fc(d.stateNode.containerInfo),on(d),null;case 10:return Qf(d.type._context),on(d),null;case 17:return En(d.type)&&Nu(),on(d),null;case 19:if(ar(hr),N=d.memoizedState,N===null)return on(d),null;if(y=(d.flags&128)!==0,I=N.rendering,I===null)if(y)_c(N,!1);else{if(Mr!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(I=Fu(l),I!==null){for(d.flags|=128,_c(N,!1),y=I.updateQueue,y!==null&&(d.updateQueue=y,d.flags|=4),d.subtreeFlags=0,y=m,m=d.child;m!==null;)N=m,l=y,N.flags&=14680066,I=N.alternate,I===null?(N.childLanes=0,N.lanes=l,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=I.childLanes,N.lanes=I.lanes,N.child=I.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=I.memoizedProps,N.memoizedState=I.memoizedState,N.updateQueue=I.updateQueue,N.type=I.type,l=I.dependencies,N.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return tr(hr,hr.current&1|2),d.child}l=l.sibling}N.tail!==null&&_e()>il&&(d.flags|=128,y=!0,_c(N,!1),d.lanes=4194304)}else{if(!y)if(l=Fu(I),l!==null){if(d.flags|=128,y=!0,m=l.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),_c(N,!0),N.tail===null&&N.tailMode==="hidden"&&!I.alternate&&!lr)return on(d),null}else 2*_e()-N.renderingStartTime>il&&m!==1073741824&&(d.flags|=128,y=!0,_c(N,!1),d.lanes=4194304);N.isBackwards?(I.sibling=d.child,d.child=I):(m=N.last,m!==null?m.sibling=I:d.child=I,N.last=I)}return N.tail!==null?(d=N.tail,N.rendering=d,N.tail=d.sibling,N.renderingStartTime=_e(),d.sibling=null,m=hr.current,tr(hr,y?m&1|2:m&1),d):(on(d),null);case 22:case 23:return Lm(),y=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==y&&(d.flags|=8192),y&&(d.mode&1)!==0?(Zn&1073741824)!==0&&(on(d),d.subtreeFlags&6&&(d.flags|=8192)):on(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function MC(l,d){switch(Yf(d),d.tag){case 1:return En(d.type)&&Nu(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return rl(),ar(Tn),ar(sn),am(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return nm(d),null;case 13:if(ar(hr),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Qo()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return ar(hr),null;case 4:return rl(),null;case 10:return Qf(d.type._context),null;case 22:case 23:return Lm(),null;case 24:return null;default:return null}}var $u=!1,ln=!1,LC=typeof WeakSet=="function"?WeakSet:Set,nt=null;function sl(l,d){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){yr(l,d,y)}else m.current=null}function _m(l,d,m){try{m()}catch(y){yr(l,d,y)}}var xv=!1;function IC(l,d){if(Lf=cu,l=q1(),Ef(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var k=y.anchorOffset,N=y.focusNode;y=y.focusOffset;try{m.nodeType,N.nodeType}catch{m=null;break e}var I=0,oe=-1,de=-1,je=0,Ue=0,$e=l,Ie=null;t:for(;;){for(var et;$e!==m||k!==0&&$e.nodeType!==3||(oe=I+k),$e!==N||y!==0&&$e.nodeType!==3||(de=I+y),$e.nodeType===3&&(I+=$e.nodeValue.length),(et=$e.firstChild)!==null;)Ie=$e,$e=et;for(;;){if($e===l)break t;if(Ie===m&&++je===k&&(oe=I),Ie===N&&++Ue===y&&(de=I),(et=$e.nextSibling)!==null)break;$e=Ie,Ie=$e.parentNode}$e=et}m=oe===-1||de===-1?null:{start:oe,end:de}}else m=null}m=m||{start:0,end:0}}else m=null;for(If={focusedElem:l,selectionRange:m},cu=!1,nt=d;nt!==null;)if(d=nt,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,nt=l;else for(;nt!==null;){d=nt;try{var st=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var lt=st.memoizedProps,kr=st.memoizedState,ve=d.stateNode,he=ve.getSnapshotBeforeUpdate(d.elementType===d.type?lt:Fs(d.type,lt),kr);ve.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var Ne=d.stateNode.containerInfo;Ne.nodeType===1?Ne.textContent="":Ne.nodeType===9&&Ne.documentElement&&Ne.removeChild(Ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ye){yr(d,d.return,Ye)}if(l=d.sibling,l!==null){l.return=d.return,nt=l;break}nt=d.return}return st=xv,xv=!1,st}function jc(l,d,m){var y=d.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var k=y=y.next;do{if((k.tag&l)===l){var N=k.destroy;k.destroy=void 0,N!==void 0&&_m(d,m,N)}k=k.next}while(k!==y)}}function Hu(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&l)===l){var y=m.create;m.destroy=y()}m=m.next}while(m!==d)}}function jm(l){var d=l.ref;if(d!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof d=="function"?d(l):d.current=l}}function yv(l){var d=l.alternate;d!==null&&(l.alternate=null,yv(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[Qs],delete d[pc],delete d[Vf],delete d[bC],delete d[wC])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function vv(l){return l.tag===5||l.tag===3||l.tag===4}function bv(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||vv(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Cm(l,d,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(l,d):m.insertBefore(l,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(l,m)):(d=m,d.appendChild(l)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=wu));else if(y!==4&&(l=l.child,l!==null))for(Cm(l,d,m),l=l.sibling;l!==null;)Cm(l,d,m),l=l.sibling}function Tm(l,d,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(y!==4&&(l=l.child,l!==null))for(Tm(l,d,m),l=l.sibling;l!==null;)Tm(l,d,m),l=l.sibling}var Kr=null,Os=!1;function ei(l,d,m){for(m=m.child;m!==null;)wv(l,d,m),m=m.sibling}function wv(l,d,m){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ur,m)}catch{}switch(m.tag){case 5:ln||sl(m,d);case 6:var y=Kr,k=Os;Kr=null,ei(l,d,m),Kr=y,Os=k,Kr!==null&&(Os?(l=Kr,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):Kr.removeChild(m.stateNode));break;case 18:Kr!==null&&(Os?(l=Kr,m=m.stateNode,l.nodeType===8?zf(l.parentNode,m):l.nodeType===1&&zf(l,m),sc(l)):zf(Kr,m.stateNode));break;case 4:y=Kr,k=Os,Kr=m.stateNode.containerInfo,Os=!0,ei(l,d,m),Kr=y,Os=k;break;case 0:case 11:case 14:case 15:if(!ln&&(y=m.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){k=y=y.next;do{var N=k,I=N.destroy;N=N.tag,I!==void 0&&((N&2)!==0||(N&4)!==0)&&_m(m,d,I),k=k.next}while(k!==y)}ei(l,d,m);break;case 1:if(!ln&&(sl(m,d),y=m.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch(oe){yr(m,d,oe)}ei(l,d,m);break;case 21:ei(l,d,m);break;case 22:m.mode&1?(ln=(y=ln)||m.memoizedState!==null,ei(l,d,m),ln=y):ei(l,d,m);break;default:ei(l,d,m)}}function kv(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new LC),d.forEach(function(y){var k=KC.bind(null,l,y);m.has(y)||(m.add(y),y.then(k,k))})}}function Ms(l,d){var m=d.deletions;if(m!==null)for(var y=0;y<m.length;y++){var k=m[y];try{var N=l,I=d,oe=I;e:for(;oe!==null;){switch(oe.tag){case 5:Kr=oe.stateNode,Os=!1;break e;case 3:Kr=oe.stateNode.containerInfo,Os=!0;break e;case 4:Kr=oe.stateNode.containerInfo,Os=!0;break e}oe=oe.return}if(Kr===null)throw Error(r(160));wv(N,I,k),Kr=null,Os=!1;var de=k.alternate;de!==null&&(de.return=null),k.return=null}catch(je){yr(k,d,je)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)Nv(d,l),d=d.sibling}function Nv(l,d){var m=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Ms(d,l),ta(l),y&4){try{jc(3,l,l.return),Hu(3,l)}catch(lt){yr(l,l.return,lt)}try{jc(5,l,l.return)}catch(lt){yr(l,l.return,lt)}}break;case 1:Ms(d,l),ta(l),y&512&&m!==null&&sl(m,m.return);break;case 5:if(Ms(d,l),ta(l),y&512&&m!==null&&sl(m,m.return),l.flags&32){var k=l.stateNode;try{kt(k,"")}catch(lt){yr(l,l.return,lt)}}if(y&4&&(k=l.stateNode,k!=null)){var N=l.memoizedProps,I=m!==null?m.memoizedProps:N,oe=l.type,de=l.updateQueue;if(l.updateQueue=null,de!==null)try{oe==="input"&&N.type==="radio"&&N.name!=null&&Ae(k,N),Ts(oe,I);var je=Ts(oe,N);for(I=0;I<de.length;I+=2){var Ue=de[I],$e=de[I+1];Ue==="style"?Xt(k,$e):Ue==="dangerouslySetInnerHTML"?it(k,$e):Ue==="children"?kt(k,$e):C(k,Ue,$e,je)}switch(oe){case"input":Te(k,N);break;case"textarea":ze(k,N);break;case"select":var Ie=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!N.multiple;var et=N.value;et!=null?dt(k,!!N.multiple,et,!1):Ie!==!!N.multiple&&(N.defaultValue!=null?dt(k,!!N.multiple,N.defaultValue,!0):dt(k,!!N.multiple,N.multiple?[]:"",!1))}k[pc]=N}catch(lt){yr(l,l.return,lt)}}break;case 6:if(Ms(d,l),ta(l),y&4){if(l.stateNode===null)throw Error(r(162));k=l.stateNode,N=l.memoizedProps;try{k.nodeValue=N}catch(lt){yr(l,l.return,lt)}}break;case 3:if(Ms(d,l),ta(l),y&4&&m!==null&&m.memoizedState.isDehydrated)try{sc(d.containerInfo)}catch(lt){yr(l,l.return,lt)}break;case 4:Ms(d,l),ta(l);break;case 13:Ms(d,l),ta(l),k=l.child,k.flags&8192&&(N=k.memoizedState!==null,k.stateNode.isHidden=N,!N||k.alternate!==null&&k.alternate.memoizedState!==null||(Pm=_e())),y&4&&kv(l);break;case 22:if(Ue=m!==null&&m.memoizedState!==null,l.mode&1?(ln=(je=ln)||Ue,Ms(d,l),ln=je):Ms(d,l),ta(l),y&8192){if(je=l.memoizedState!==null,(l.stateNode.isHidden=je)&&!Ue&&(l.mode&1)!==0)for(nt=l,Ue=l.child;Ue!==null;){for($e=nt=Ue;nt!==null;){switch(Ie=nt,et=Ie.child,Ie.tag){case 0:case 11:case 14:case 15:jc(4,Ie,Ie.return);break;case 1:sl(Ie,Ie.return);var st=Ie.stateNode;if(typeof st.componentWillUnmount=="function"){y=Ie,m=Ie.return;try{d=y,st.props=d.memoizedProps,st.state=d.memoizedState,st.componentWillUnmount()}catch(lt){yr(y,m,lt)}}break;case 5:sl(Ie,Ie.return);break;case 22:if(Ie.memoizedState!==null){jv($e);continue}}et!==null?(et.return=Ie,nt=et):jv($e)}Ue=Ue.sibling}e:for(Ue=null,$e=l;;){if($e.tag===5){if(Ue===null){Ue=$e;try{k=$e.stateNode,je?(N=k.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(oe=$e.stateNode,de=$e.memoizedProps.style,I=de!=null&&de.hasOwnProperty("display")?de.display:null,oe.style.display=xn("display",I))}catch(lt){yr(l,l.return,lt)}}}else if($e.tag===6){if(Ue===null)try{$e.stateNode.nodeValue=je?"":$e.memoizedProps}catch(lt){yr(l,l.return,lt)}}else if(($e.tag!==22&&$e.tag!==23||$e.memoizedState===null||$e===l)&&$e.child!==null){$e.child.return=$e,$e=$e.child;continue}if($e===l)break e;for(;$e.sibling===null;){if($e.return===null||$e.return===l)break e;Ue===$e&&(Ue=null),$e=$e.return}Ue===$e&&(Ue=null),$e.sibling.return=$e.return,$e=$e.sibling}}break;case 19:Ms(d,l),ta(l),y&4&&kv(l);break;case 21:break;default:Ms(d,l),ta(l)}}function ta(l){var d=l.flags;if(d&2){try{e:{for(var m=l.return;m!==null;){if(vv(m)){var y=m;break e}m=m.return}throw Error(r(160))}switch(y.tag){case 5:var k=y.stateNode;y.flags&32&&(kt(k,""),y.flags&=-33);var N=bv(l);Tm(l,N,k);break;case 3:case 4:var I=y.stateNode.containerInfo,oe=bv(l);Cm(l,oe,I);break;default:throw Error(r(161))}}catch(de){yr(l,l.return,de)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function BC(l,d,m){nt=l,Sv(l)}function Sv(l,d,m){for(var y=(l.mode&1)!==0;nt!==null;){var k=nt,N=k.child;if(k.tag===22&&y){var I=k.memoizedState!==null||$u;if(!I){var oe=k.alternate,de=oe!==null&&oe.memoizedState!==null||ln;oe=$u;var je=ln;if($u=I,(ln=de)&&!je)for(nt=k;nt!==null;)I=nt,de=I.child,I.tag===22&&I.memoizedState!==null?Cv(k):de!==null?(de.return=I,nt=de):Cv(k);for(;N!==null;)nt=N,Sv(N),N=N.sibling;nt=k,$u=oe,ln=je}_v(l)}else(k.subtreeFlags&8772)!==0&&N!==null?(N.return=k,nt=N):_v(l)}}function _v(l){for(;nt!==null;){var d=nt;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:ln||Hu(5,d);break;case 1:var y=d.stateNode;if(d.flags&4&&!ln)if(m===null)y.componentDidMount();else{var k=d.elementType===d.type?m.memoizedProps:Fs(d.type,m.memoizedProps);y.componentDidUpdate(k,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var N=d.updateQueue;N!==null&&jy(d,N,y);break;case 3:var I=d.updateQueue;if(I!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}jy(d,I,m)}break;case 5:var oe=d.stateNode;if(m===null&&d.flags&4){m=oe;var de=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&m.focus();break;case"img":de.src&&(m.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var je=d.alternate;if(je!==null){var Ue=je.memoizedState;if(Ue!==null){var $e=Ue.dehydrated;$e!==null&&sc($e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ln||d.flags&512&&jm(d)}catch(Ie){yr(d,d.return,Ie)}}if(d===l){nt=null;break}if(m=d.sibling,m!==null){m.return=d.return,nt=m;break}nt=d.return}}function jv(l){for(;nt!==null;){var d=nt;if(d===l){nt=null;break}var m=d.sibling;if(m!==null){m.return=d.return,nt=m;break}nt=d.return}}function Cv(l){for(;nt!==null;){var d=nt;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{Hu(4,d)}catch(de){yr(d,m,de)}break;case 1:var y=d.stateNode;if(typeof y.componentDidMount=="function"){var k=d.return;try{y.componentDidMount()}catch(de){yr(d,k,de)}}var N=d.return;try{jm(d)}catch(de){yr(d,N,de)}break;case 5:var I=d.return;try{jm(d)}catch(de){yr(d,I,de)}}}catch(de){yr(d,d.return,de)}if(d===l){nt=null;break}var oe=d.sibling;if(oe!==null){oe.return=d.return,nt=oe;break}nt=d.return}}var UC=Math.ceil,Wu=R.ReactCurrentDispatcher,Em=R.ReactCurrentOwner,ms=R.ReactCurrentBatchConfig,Ot=0,Ur=null,Cr=null,Gr=0,Zn=0,al=qa(0),Mr=0,Cc=null,Ji=0,Yu=0,Am=0,Tc=null,Pn=null,Pm=0,il=1/0,_a=null,Ku=!1,Dm=null,ti=null,Gu=!1,ri=null,qu=0,Ec=0,Rm=null,Xu=-1,Ju=0;function bn(){return(Ot&6)!==0?_e():Xu!==-1?Xu:Xu=_e()}function ni(l){return(l.mode&1)===0?1:(Ot&2)!==0&&Gr!==0?Gr&-Gr:NC.transition!==null?(Ju===0&&(Ju=Js()),Ju):(l=Pt,l!==0||(l=window.event,l=l===void 0?16:E1(l.type)),l)}function Ls(l,d,m,y){if(50<Ec)throw Ec=0,Rm=null,Error(r(185));Fr(l,m,y),((Ot&2)===0||l!==Ur)&&(l===Ur&&((Ot&2)===0&&(Yu|=m),Mr===4&&si(l,Gr)),Dn(l,y),m===1&&Ot===0&&(d.mode&1)===0&&(il=_e()+500,_u&&Ja()))}function Dn(l,d){var m=l.callbackNode;Ut(l,d);var y=Io(l,l===Ur?Gr:0);if(y===0)m!==null&&le(m),l.callbackNode=null,l.callbackPriority=0;else if(d=y&-y,l.callbackPriority!==d){if(m!=null&&le(m),d===1)l.tag===0?kC(Ev.bind(null,l)):my(Ev.bind(null,l)),yC(function(){(Ot&6)===0&&Ja()}),m=null;else{switch(Vi(y)){case 1:m=Qe;break;case 4:m=ht;break;case 16:m=gt;break;case 536870912:m=St;break;default:m=gt}m=Lv(m,Tv.bind(null,l))}l.callbackPriority=d,l.callbackNode=m}}function Tv(l,d){if(Xu=-1,Ju=0,(Ot&6)!==0)throw Error(r(327));var m=l.callbackNode;if(ol()&&l.callbackNode!==m)return null;var y=Io(l,l===Ur?Gr:0);if(y===0)return null;if((y&30)!==0||(y&l.expiredLanes)!==0||d)d=Qu(l,y);else{d=y;var k=Ot;Ot|=2;var N=Pv();(Ur!==l||Gr!==d)&&(_a=null,il=_e()+500,Zi(l,d));do try{$C();break}catch(oe){Av(l,oe)}while(!0);Jf(),Wu.current=N,Ot=k,Cr!==null?d=0:(Ur=null,Gr=0,d=Mr)}if(d!==0){if(d===2&&(k=zi(l),k!==0&&(y=k,d=Fm(l,k))),d===1)throw m=Cc,Zi(l,0),si(l,y),Dn(l,_e()),m;if(d===6)si(l,y);else{if(k=l.current.alternate,(y&30)===0&&!zC(k)&&(d=Qu(l,y),d===2&&(N=zi(l),N!==0&&(y=N,d=Fm(l,N))),d===1))throw m=Cc,Zi(l,0),si(l,y),Dn(l,_e()),m;switch(l.finishedWork=k,l.finishedLanes=y,d){case 0:case 1:throw Error(r(345));case 2:eo(l,Pn,_a);break;case 3:if(si(l,y),(y&130023424)===y&&(d=Pm+500-_e(),10<d)){if(Io(l,0)!==0)break;if(k=l.suspendedLanes,(k&y)!==y){bn(),l.pingedLanes|=l.suspendedLanes&k;break}l.timeoutHandle=Uf(eo.bind(null,l,Pn,_a),d);break}eo(l,Pn,_a);break;case 4:if(si(l,y),(y&4194240)===y)break;for(d=l.eventTimes,k=-1;0<y;){var I=31-_t(y);N=1<<I,I=d[I],I>k&&(k=I),y&=~N}if(y=k,y=_e()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*UC(y/1960))-y,10<y){l.timeoutHandle=Uf(eo.bind(null,l,Pn,_a),y);break}eo(l,Pn,_a);break;case 5:eo(l,Pn,_a);break;default:throw Error(r(329))}}}return Dn(l,_e()),l.callbackNode===m?Tv.bind(null,l):null}function Fm(l,d){var m=Tc;return l.current.memoizedState.isDehydrated&&(Zi(l,d).flags|=256),l=Qu(l,d),l!==2&&(d=Pn,Pn=m,d!==null&&Om(d)),l}function Om(l){Pn===null?Pn=l:Pn.push.apply(Pn,l)}function zC(l){for(var d=l;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var y=0;y<m.length;y++){var k=m[y],N=k.getSnapshot;k=k.value;try{if(!Ds(N(),k))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function si(l,d){for(d&=~Am,d&=~Yu,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var m=31-_t(d),y=1<<m;l[m]=-1,d&=~y}}function Ev(l){if((Ot&6)!==0)throw Error(r(327));ol();var d=Io(l,0);if((d&1)===0)return Dn(l,_e()),null;var m=Qu(l,d);if(l.tag!==0&&m===2){var y=zi(l);y!==0&&(d=y,m=Fm(l,y))}if(m===1)throw m=Cc,Zi(l,0),si(l,d),Dn(l,_e()),m;if(m===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,eo(l,Pn,_a),Dn(l,_e()),null}function Mm(l,d){var m=Ot;Ot|=1;try{return l(d)}finally{Ot=m,Ot===0&&(il=_e()+500,_u&&Ja())}}function Qi(l){ri!==null&&ri.tag===0&&(Ot&6)===0&&ol();var d=Ot;Ot|=1;var m=ms.transition,y=Pt;try{if(ms.transition=null,Pt=1,l)return l()}finally{Pt=y,ms.transition=m,Ot=d,(Ot&6)===0&&Ja()}}function Lm(){Zn=al.current,ar(al)}function Zi(l,d){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,xC(m)),Cr!==null)for(m=Cr.return;m!==null;){var y=m;switch(Yf(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Nu();break;case 3:rl(),ar(Tn),ar(sn),am();break;case 5:nm(y);break;case 4:rl();break;case 13:ar(hr);break;case 19:ar(hr);break;case 10:Qf(y.type._context);break;case 22:case 23:Lm()}m=m.return}if(Ur=l,Cr=l=ai(l.current,null),Gr=Zn=d,Mr=0,Cc=null,Am=Yu=Ji=0,Pn=Tc=null,Gi!==null){for(d=0;d<Gi.length;d++)if(m=Gi[d],y=m.interleaved,y!==null){m.interleaved=null;var k=y.next,N=m.pending;if(N!==null){var I=N.next;N.next=k,y.next=I}m.pending=y}Gi=null}return l}function Av(l,d){do{var m=Cr;try{if(Jf(),Ou.current=Bu,Mu){for(var y=fr.memoizedState;y!==null;){var k=y.queue;k!==null&&(k.pending=null),y=y.next}Mu=!1}if(Xi=0,Br=Or=fr=null,wc=!1,kc=0,Em.current=null,m===null||m.return===null){Mr=1,Cc=d,Cr=null;break}e:{var N=l,I=m.return,oe=m,de=d;if(d=Gr,oe.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var je=de,Ue=oe,$e=Ue.tag;if((Ue.mode&1)===0&&($e===0||$e===11||$e===15)){var Ie=Ue.alternate;Ie?(Ue.updateQueue=Ie.updateQueue,Ue.memoizedState=Ie.memoizedState,Ue.lanes=Ie.lanes):(Ue.updateQueue=null,Ue.memoizedState=null)}var et=tv(I);if(et!==null){et.flags&=-257,rv(et,I,oe,N,d),et.mode&1&&ev(N,je,d),d=et,de=je;var st=d.updateQueue;if(st===null){var lt=new Set;lt.add(de),d.updateQueue=lt}else st.add(de);break e}else{if((d&1)===0){ev(N,je,d),Im();break e}de=Error(r(426))}}else if(lr&&oe.mode&1){var kr=tv(I);if(kr!==null){(kr.flags&65536)===0&&(kr.flags|=256),rv(kr,I,oe,N,d),qf(nl(de,oe));break e}}N=de=nl(de,oe),Mr!==4&&(Mr=2),Tc===null?Tc=[N]:Tc.push(N),N=I;do{switch(N.tag){case 3:N.flags|=65536,d&=-d,N.lanes|=d;var ve=Qy(N,de,d);_y(N,ve);break e;case 1:oe=de;var he=N.type,Ne=N.stateNode;if((N.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||Ne!==null&&typeof Ne.componentDidCatch=="function"&&(ti===null||!ti.has(Ne)))){N.flags|=65536,d&=-d,N.lanes|=d;var Ye=Zy(N,oe,d);_y(N,Ye);break e}}N=N.return}while(N!==null)}Rv(m)}catch(ut){d=ut,Cr===m&&m!==null&&(Cr=m=m.return);continue}break}while(!0)}function Pv(){var l=Wu.current;return Wu.current=Bu,l===null?Bu:l}function Im(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),Ur===null||(Ji&268435455)===0&&(Yu&268435455)===0||si(Ur,Gr)}function Qu(l,d){var m=Ot;Ot|=2;var y=Pv();(Ur!==l||Gr!==d)&&(_a=null,Zi(l,d));do try{VC();break}catch(k){Av(l,k)}while(!0);if(Jf(),Ot=m,Wu.current=y,Cr!==null)throw Error(r(261));return Ur=null,Gr=0,Mr}function VC(){for(;Cr!==null;)Dv(Cr)}function $C(){for(;Cr!==null&&!pe();)Dv(Cr)}function Dv(l){var d=Mv(l.alternate,l,Zn);l.memoizedProps=l.pendingProps,d===null?Rv(l):Cr=d,Em.current=null}function Rv(l){var d=l;do{var m=d.alternate;if(l=d.return,(d.flags&32768)===0){if(m=OC(m,d,Zn),m!==null){Cr=m;return}}else{if(m=MC(m,d),m!==null){m.flags&=32767,Cr=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Mr=6,Cr=null;return}}if(d=d.sibling,d!==null){Cr=d;return}Cr=d=l}while(d!==null);Mr===0&&(Mr=5)}function eo(l,d,m){var y=Pt,k=ms.transition;try{ms.transition=null,Pt=1,HC(l,d,m,y)}finally{ms.transition=k,Pt=y}return null}function HC(l,d,m,y){do ol();while(ri!==null);if((Ot&6)!==0)throw Error(r(327));m=l.finishedWork;var k=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var N=m.lanes|m.childLanes;if(As(l,N),l===Ur&&(Cr=Ur=null,Gr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Gu||(Gu=!0,Lv(gt,function(){return ol(),null})),N=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||N){N=ms.transition,ms.transition=null;var I=Pt;Pt=1;var oe=Ot;Ot|=4,Em.current=null,IC(l,m),Nv(m,l),dC(If),cu=!!Lf,If=Lf=null,l.current=m,BC(m),me(),Ot=oe,Pt=I,ms.transition=N}else l.current=m;if(Gu&&(Gu=!1,ri=l,qu=k),N=l.pendingLanes,N===0&&(ti=null),nr(m.stateNode),Dn(l,_e()),d!==null)for(y=l.onRecoverableError,m=0;m<d.length;m++)k=d[m],y(k.value,{componentStack:k.stack,digest:k.digest});if(Ku)throw Ku=!1,l=Dm,Dm=null,l;return(qu&1)!==0&&l.tag!==0&&ol(),N=l.pendingLanes,(N&1)!==0?l===Rm?Ec++:(Ec=0,Rm=l):Ec=0,Ja(),null}function ol(){if(ri!==null){var l=Vi(qu),d=ms.transition,m=Pt;try{if(ms.transition=null,Pt=16>l?16:l,ri===null)var y=!1;else{if(l=ri,ri=null,qu=0,(Ot&6)!==0)throw Error(r(331));var k=Ot;for(Ot|=4,nt=l.current;nt!==null;){var N=nt,I=N.child;if((nt.flags&16)!==0){var oe=N.deletions;if(oe!==null){for(var de=0;de<oe.length;de++){var je=oe[de];for(nt=je;nt!==null;){var Ue=nt;switch(Ue.tag){case 0:case 11:case 15:jc(8,Ue,N)}var $e=Ue.child;if($e!==null)$e.return=Ue,nt=$e;else for(;nt!==null;){Ue=nt;var Ie=Ue.sibling,et=Ue.return;if(yv(Ue),Ue===je){nt=null;break}if(Ie!==null){Ie.return=et,nt=Ie;break}nt=et}}}var st=N.alternate;if(st!==null){var lt=st.child;if(lt!==null){st.child=null;do{var kr=lt.sibling;lt.sibling=null,lt=kr}while(lt!==null)}}nt=N}}if((N.subtreeFlags&2064)!==0&&I!==null)I.return=N,nt=I;else e:for(;nt!==null;){if(N=nt,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:jc(9,N,N.return)}var ve=N.sibling;if(ve!==null){ve.return=N.return,nt=ve;break e}nt=N.return}}var he=l.current;for(nt=he;nt!==null;){I=nt;var Ne=I.child;if((I.subtreeFlags&2064)!==0&&Ne!==null)Ne.return=I,nt=Ne;else e:for(I=he;nt!==null;){if(oe=nt,(oe.flags&2048)!==0)try{switch(oe.tag){case 0:case 11:case 15:Hu(9,oe)}}catch(ut){yr(oe,oe.return,ut)}if(oe===I){nt=null;break e}var Ye=oe.sibling;if(Ye!==null){Ye.return=oe.return,nt=Ye;break e}nt=oe.return}}if(Ot=k,Ja(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ur,l)}catch{}y=!0}return y}finally{Pt=m,ms.transition=d}}return!1}function Fv(l,d,m){d=nl(m,d),d=Qy(l,d,1),l=Za(l,d,1),d=bn(),l!==null&&(Fr(l,1,d),Dn(l,d))}function yr(l,d,m){if(l.tag===3)Fv(l,l,m);else for(;d!==null;){if(d.tag===3){Fv(d,l,m);break}else if(d.tag===1){var y=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ti===null||!ti.has(y))){l=nl(m,l),l=Zy(d,l,1),d=Za(d,l,1),l=bn(),d!==null&&(Fr(d,1,l),Dn(d,l));break}}d=d.return}}function WC(l,d,m){var y=l.pingCache;y!==null&&y.delete(d),d=bn(),l.pingedLanes|=l.suspendedLanes&m,Ur===l&&(Gr&m)===m&&(Mr===4||Mr===3&&(Gr&130023424)===Gr&&500>_e()-Pm?Zi(l,0):Am|=m),Dn(l,d)}function Ov(l,d){d===0&&((l.mode&1)===0?d=1:(d=Bi,Bi<<=1,(Bi&130023424)===0&&(Bi=4194304)));var m=bn();l=ka(l,d),l!==null&&(Fr(l,d,m),Dn(l,m))}function YC(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),Ov(l,m)}function KC(l,d){var m=0;switch(l.tag){case 13:var y=l.stateNode,k=l.memoizedState;k!==null&&(m=k.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(d),Ov(l,m)}var Mv;Mv=function(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps||Tn.current)An=!0;else{if((l.lanes&m)===0&&(d.flags&128)===0)return An=!1,FC(l,d,m);An=(l.flags&131072)!==0}else An=!1,lr&&(d.flags&1048576)!==0&&py(d,Cu,d.index);switch(d.lanes=0,d.tag){case 2:var y=d.type;Vu(l,d),l=d.pendingProps;var k=qo(d,sn.current);tl(d,m),k=lm(null,d,y,l,k,m);var N=cm();return d.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,En(y)?(N=!0,Su(d)):N=!1,d.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,tm(d),k.updater=Uu,d.stateNode=k,k._reactInternals=d,pm(d,y,l,m),d=vm(null,d,y,!0,N,m)):(d.tag=0,lr&&N&&Wf(d),vn(null,d,k,m),d=d.child),d;case 16:y=d.elementType;e:{switch(Vu(l,d),l=d.pendingProps,k=y._init,y=k(y._payload),d.type=y,k=d.tag=qC(y),l=Fs(y,l),k){case 0:d=ym(null,d,y,l,m);break e;case 1:d=lv(null,d,y,l,m);break e;case 11:d=nv(null,d,y,l,m);break e;case 14:d=sv(null,d,y,Fs(y.type,l),m);break e}throw Error(r(306,y,""))}return d;case 0:return y=d.type,k=d.pendingProps,k=d.elementType===y?k:Fs(y,k),ym(l,d,y,k,m);case 1:return y=d.type,k=d.pendingProps,k=d.elementType===y?k:Fs(y,k),lv(l,d,y,k,m);case 3:e:{if(cv(d),l===null)throw Error(r(387));y=d.pendingProps,N=d.memoizedState,k=N.element,Sy(l,d),Ru(d,y,null,m);var I=d.memoizedState;if(y=I.element,N.isDehydrated)if(N={element:y,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},d.updateQueue.baseState=N,d.memoizedState=N,d.flags&256){k=nl(Error(r(423)),d),d=dv(l,d,y,m,k);break e}else if(y!==k){k=nl(Error(r(424)),d),d=dv(l,d,y,m,k);break e}else for(Qn=Ga(d.stateNode.containerInfo.firstChild),Jn=d,lr=!0,Rs=null,m=ky(d,null,y,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Qo(),y===k){d=Sa(l,d,m);break e}vn(l,d,y,m)}d=d.child}return d;case 5:return Cy(d),l===null&&Gf(d),y=d.type,k=d.pendingProps,N=l!==null?l.memoizedProps:null,I=k.children,Bf(y,k)?I=null:N!==null&&Bf(y,N)&&(d.flags|=32),ov(l,d),vn(l,d,I,m),d.child;case 6:return l===null&&Gf(d),null;case 13:return uv(l,d,m);case 4:return rm(d,d.stateNode.containerInfo),y=d.pendingProps,l===null?d.child=Zo(d,null,y,m):vn(l,d,y,m),d.child;case 11:return y=d.type,k=d.pendingProps,k=d.elementType===y?k:Fs(y,k),nv(l,d,y,k,m);case 7:return vn(l,d,d.pendingProps,m),d.child;case 8:return vn(l,d,d.pendingProps.children,m),d.child;case 12:return vn(l,d,d.pendingProps.children,m),d.child;case 10:e:{if(y=d.type._context,k=d.pendingProps,N=d.memoizedProps,I=k.value,tr(Au,y._currentValue),y._currentValue=I,N!==null)if(Ds(N.value,I)){if(N.children===k.children&&!Tn.current){d=Sa(l,d,m);break e}}else for(N=d.child,N!==null&&(N.return=d);N!==null;){var oe=N.dependencies;if(oe!==null){I=N.child;for(var de=oe.firstContext;de!==null;){if(de.context===y){if(N.tag===1){de=Na(-1,m&-m),de.tag=2;var je=N.updateQueue;if(je!==null){je=je.shared;var Ue=je.pending;Ue===null?de.next=de:(de.next=Ue.next,Ue.next=de),je.pending=de}}N.lanes|=m,de=N.alternate,de!==null&&(de.lanes|=m),Zf(N.return,m,d),oe.lanes|=m;break}de=de.next}}else if(N.tag===10)I=N.type===d.type?null:N.child;else if(N.tag===18){if(I=N.return,I===null)throw Error(r(341));I.lanes|=m,oe=I.alternate,oe!==null&&(oe.lanes|=m),Zf(I,m,d),I=N.sibling}else I=N.child;if(I!==null)I.return=N;else for(I=N;I!==null;){if(I===d){I=null;break}if(N=I.sibling,N!==null){N.return=I.return,I=N;break}I=I.return}N=I}vn(l,d,k.children,m),d=d.child}return d;case 9:return k=d.type,y=d.pendingProps.children,tl(d,m),k=hs(k),y=y(k),d.flags|=1,vn(l,d,y,m),d.child;case 14:return y=d.type,k=Fs(y,d.pendingProps),k=Fs(y.type,k),sv(l,d,y,k,m);case 15:return av(l,d,d.type,d.pendingProps,m);case 17:return y=d.type,k=d.pendingProps,k=d.elementType===y?k:Fs(y,k),Vu(l,d),d.tag=1,En(y)?(l=!0,Su(d)):l=!1,tl(d,m),Xy(d,y,k),pm(d,y,k,m),vm(null,d,y,!0,l,m);case 19:return fv(l,d,m);case 22:return iv(l,d,m)}throw Error(r(156,d.tag))};function Lv(l,d){return z(l,d)}function GC(l,d,m,y){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(l,d,m,y){return new GC(l,d,m,y)}function Bm(l){return l=l.prototype,!(!l||!l.isReactComponent)}function qC(l){if(typeof l=="function")return Bm(l)?1:0;if(l!=null){if(l=l.$$typeof,l===H)return 11;if(l===L)return 14}return 2}function ai(l,d){var m=l.alternate;return m===null?(m=ps(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function Zu(l,d,m,y,k,N){var I=2;if(y=l,typeof l=="function")Bm(l)&&(I=1);else if(typeof l=="string")I=5;else e:switch(l){case S:return to(m.children,k,N,d);case P:I=8,k|=8;break;case B:return l=ps(12,m,d,k|2),l.elementType=B,l.lanes=N,l;case ie:return l=ps(13,m,d,k),l.elementType=ie,l.lanes=N,l;case re:return l=ps(19,m,d,k),l.elementType=re,l.lanes=N,l;case Q:return e0(m,k,N,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case ae:I=10;break e;case q:I=9;break e;case H:I=11;break e;case L:I=14;break e;case ee:I=16,y=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return d=ps(I,m,d,k),d.elementType=l,d.type=y,d.lanes=N,d}function to(l,d,m,y){return l=ps(7,l,y,d),l.lanes=m,l}function e0(l,d,m,y){return l=ps(22,l,y,d),l.elementType=Q,l.lanes=m,l.stateNode={isHidden:!1},l}function Um(l,d,m){return l=ps(6,l,null,d),l.lanes=m,l}function zm(l,d,m){return d=ps(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function XC(l,d,m,y,k){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$a(0),this.expirationTimes=$a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$a(0),this.identifierPrefix=y,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Vm(l,d,m,y,k,N,I,oe,de){return l=new XC(l,d,m,oe,de),d===1?(d=1,N===!0&&(d|=8)):d=0,N=ps(3,null,null,d),l.current=N,N.stateNode=l,N.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},tm(N),l}function JC(l,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:y==null?null:""+y,children:l,containerInfo:d,implementation:m}}function Iv(l){if(!l)return Xa;l=l._reactInternals;e:{if(se(l)!==l||l.tag!==1)throw Error(r(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(En(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(l.tag===1){var m=l.type;if(En(m))return hy(l,m,d)}return d}function Bv(l,d,m,y,k,N,I,oe,de){return l=Vm(m,y,!0,l,k,N,I,oe,de),l.context=Iv(null),m=l.current,y=bn(),k=ni(m),N=Na(y,k),N.callback=d??null,Za(m,N,k),l.current.lanes=k,Fr(l,k,y),Dn(l,y),l}function t0(l,d,m,y){var k=d.current,N=bn(),I=ni(k);return m=Iv(m),d.context===null?d.context=m:d.pendingContext=m,d=Na(N,I),d.payload={element:l},y=y===void 0?null:y,y!==null&&(d.callback=y),l=Za(k,d,I),l!==null&&(Ls(l,k,I,N),Du(l,k,I)),I}function r0(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Uv(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function $m(l,d){Uv(l,d),(l=l.alternate)&&Uv(l,d)}function QC(){return null}var zv=typeof reportError=="function"?reportError:function(l){console.error(l)};function Hm(l){this._internalRoot=l}n0.prototype.render=Hm.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));t0(l,d,null,null)},n0.prototype.unmount=Hm.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;Qi(function(){t0(null,l,null,null)}),d[ya]=null}};function n0(l){this._internalRoot=l}n0.prototype.unstable_scheduleHydration=function(l){if(l){var d=$i();l={blockedOn:null,target:l,priority:d};for(var m=0;m<Wa.length&&d!==0&&d<Wa[m].priority;m++);Wa.splice(m,0,l),m===0&&C1(l)}};function Wm(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Vv(){}function ZC(l,d,m,y,k){if(k){if(typeof y=="function"){var N=y;y=function(){var je=r0(I);N.call(je)}}var I=Bv(d,y,l,0,null,!1,!1,"",Vv);return l._reactRootContainer=I,l[ya]=I.current,fc(l.nodeType===8?l.parentNode:l),Qi(),I}for(;k=l.lastChild;)l.removeChild(k);if(typeof y=="function"){var oe=y;y=function(){var je=r0(de);oe.call(je)}}var de=Vm(l,0,!1,null,null,!1,!1,"",Vv);return l._reactRootContainer=de,l[ya]=de.current,fc(l.nodeType===8?l.parentNode:l),Qi(function(){t0(d,de,m,y)}),de}function a0(l,d,m,y,k){var N=m._reactRootContainer;if(N){var I=N;if(typeof k=="function"){var oe=k;k=function(){var de=r0(I);oe.call(de)}}t0(d,I,l,k)}else I=ZC(m,d,l,k,y);return r0(I)}ga=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var m=Ui(d.pendingLanes);m!==0&&(ls(d,m|1),Dn(d,_e()),(Ot&6)===0&&(il=_e()+500,Ja()))}break;case 13:Qi(function(){var y=ka(l,1);if(y!==null){var k=bn();Ls(y,l,1,k)}}),$m(l,1)}},cs=function(l){if(l.tag===13){var d=ka(l,134217728);if(d!==null){var m=bn();Ls(d,l,134217728,m)}$m(l,134217728)}},Zl=function(l){if(l.tag===13){var d=ni(l),m=ka(l,d);if(m!==null){var y=bn();Ls(m,l,d,y)}$m(l,d)}},$i=function(){return Pt},Bo=function(l,d){var m=Pt;try{return Pt=l,d()}finally{Pt=m}},Gs=function(l,d,m){switch(d){case"input":if(Te(l,m),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var y=m[d];if(y!==l&&y.form===l.form){var k=ku(y);if(!k)throw Error(r(90));We(y),Te(y,k)}}}break;case"textarea":ze(l,m);break;case"select":d=m.value,d!=null&&dt(l,!!m.multiple,d,!1)}},yn=Mm,pa=Qi;var eT={usingClientEntryPoint:!1,Events:[gc,Ko,ku,xr,Yn,Mm]},Ac={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tT={bundleType:Ac.bundleType,version:Ac.version,rendererPackageName:Ac.rendererPackageName,rendererConfig:Ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=ge(l),l===null?null:l.stateNode},findFiberByHostInstance:Ac.findFiberByHostInstance||QC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var i0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!i0.isDisabled&&i0.supportsFiber)try{ur=i0.inject(tT),At=i0}catch{}}return Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eT,Rn.createPortal=function(l,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wm(d))throw Error(r(200));return JC(l,d,null,m)},Rn.createRoot=function(l,d){if(!Wm(l))throw Error(r(299));var m=!1,y="",k=zv;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onRecoverableError!==void 0&&(k=d.onRecoverableError)),d=Vm(l,1,!1,null,null,m,!1,y,k),l[ya]=d.current,fc(l.nodeType===8?l.parentNode:l),new Hm(d)},Rn.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=ge(d),l=l===null?null:l.stateNode,l},Rn.flushSync=function(l){return Qi(l)},Rn.hydrate=function(l,d,m){if(!s0(d))throw Error(r(200));return a0(null,l,d,!0,m)},Rn.hydrateRoot=function(l,d,m){if(!Wm(l))throw Error(r(405));var y=m!=null&&m.hydratedSources||null,k=!1,N="",I=zv;if(m!=null&&(m.unstable_strictMode===!0&&(k=!0),m.identifierPrefix!==void 0&&(N=m.identifierPrefix),m.onRecoverableError!==void 0&&(I=m.onRecoverableError)),d=Bv(d,null,l,1,m??null,k,!1,N,I),l[ya]=d.current,fc(l),y)for(l=0;l<y.length;l++)m=y[l],k=m._getVersion,k=k(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,k]:d.mutableSourceEagerHydrationData.push(m,k);return new n0(d)},Rn.render=function(l,d,m){if(!s0(d))throw Error(r(200));return a0(null,l,d,!1,m)},Rn.unmountComponentAtNode=function(l){if(!s0(l))throw Error(r(40));return l._reactRootContainer?(Qi(function(){a0(null,null,l,!1,function(){l._reactRootContainer=null,l[ya]=null})}),!0):!1},Rn.unstable_batchedUpdates=Mm,Rn.unstable_renderSubtreeIntoContainer=function(l,d,m,y){if(!s0(m))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return a0(l,d,m,!1,y)},Rn.version="18.3.1-next-f1338f8080-20240426",Rn}var Xv;function d4(){if(Xv)return Gm.exports;Xv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gm.exports=hT(),Gm.exports}var Jv;function fT(){if(Jv)return o0;Jv=1;var t=d4();return o0.createRoot=t.createRoot,o0.hydrateRoot=t.hydrateRoot,o0}var mT=fT();const u4=A.createContext(),pT=({children:t})=>{const e=()=>{if(typeof window<"u"&&window.localStorage){const i=window.localStorage.getItem("theme");if(typeof i=="string")return i;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"},[r,n]=A.useState(e);A.useEffect(()=>{const i=window.document.documentElement,o=r==="dark";i.classList.remove(o?"light":"dark"),i.classList.add(r),localStorage.setItem("theme",r)},[r]);const s=()=>n(i=>i==="dark"?"light":"dark");return a.jsx(u4.Provider,{value:{theme:r,toggleTheme:s},children:t})};d4();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yd(){return yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yd.apply(this,arguments)}var pi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pi||(pi={}));const Qv="popstate";function gT(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:c="",hash:u=""}=Ao(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Vp("",{pathname:o,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let u=s.location.href,h=u.indexOf("#");c=h===-1?u:u.slice(0,h)}return c+"#"+(typeof i=="string"?i:nh(i))}function n(s,i){Gg(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return yT(e,r,n,t)}function _r(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xT(){return Math.random().toString(36).substr(2,8)}function Zv(t,e){return{usr:t.state,key:t.key,idx:e}}function Vp(t,e,r,n){return r===void 0&&(r=null),yd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ao(e):e,{state:r,key:e&&e.key||n||xT()})}function nh(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ao(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function yT(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,c=pi.Pop,u=null,h=f();h==null&&(h=0,o.replaceState(yd({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){c=pi.Pop;let v=f(),_=v==null?null:v-h;h=v,u&&u({action:c,location:b.location,delta:_})}function g(v,_){c=pi.Push;let T=Vp(b.location,v,_);r&&r(T,v),h=f()+1;let C=Zv(T,h),R=b.createHref(T);try{o.pushState(C,"",R)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(R)}i&&u&&u({action:c,location:b.location,delta:1})}function x(v,_){c=pi.Replace;let T=Vp(b.location,v,_);r&&r(T,v),h=f();let C=Zv(T,h),R=b.createHref(T);o.replaceState(C,"",R),i&&u&&u({action:c,location:b.location,delta:0})}function w(v){let _=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof v=="string"?v:nh(v);return T=T.replace(/ $/,"%20"),_r(_,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,_)}let b={get action(){return c},get location(){return t(s,o)},listen(v){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Qv,p),u=v,()=>{s.removeEventListener(Qv,p),u=null}},createHref(v){return e(s,v)},createURL:w,encodeLocation(v){let _=w(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:x,go(v){return o.go(v)}};return b}var eb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eb||(eb={}));function vT(t,e,r){return r===void 0&&(r="/"),bT(t,e,r)}function bT(t,e,r,n){let s=typeof e=="string"?Ao(e):e,i=qg(s.pathname||"/",r);if(i==null)return null;let o=h4(t);wT(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=RT(i);c=AT(o[u],h)}return c}function h4(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(_r(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let h=wi([n,u.relativePath]),f=r.concat(u);i.children&&i.children.length>0&&(_r(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),h4(i.children,e,f,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:TT(h,i.index),routesMeta:f})};return t.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,o);else for(let u of f4(i.path))s(i,o,u)}),e}function f4(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=f4(n.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function wT(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ET(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const kT=/^:[\w-]+$/,NT=3,ST=2,_T=1,jT=10,CT=-2,tb=t=>t==="*";function TT(t,e){let r=t.split("/"),n=r.length;return r.some(tb)&&(n+=CT),e&&(n+=ST),r.filter(s=>!tb(s)).reduce((s,i)=>s+(kT.test(i)?NT:i===""?_T:jT),n)}function ET(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function AT(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let c=0;c<n.length;++c){let u=n[c],h=c===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=PT({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:wi([i,p.pathname]),pathnameBase:LT(wi([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=wi([i,p.pathnameBase]))}return o}function PT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=DT(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((h,f,p)=>{let{paramName:g,isOptional:x}=f;if(g==="*"){let b=c[p]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const w=c[p];return x&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function DT(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Gg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function RT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function qg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function FT(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Ao(t):t;return{pathname:r?r.startsWith("/")?r:OT(r,e):e,search:IT(n),hash:BT(s)}}function OT(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Jm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MT(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Xg(t,e){let r=MT(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jg(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Ao(t):(s=yd({},t),_r(!s.pathname||!s.pathname.includes("?"),Jm("?","pathname","search",s)),_r(!s.pathname||!s.pathname.includes("#"),Jm("#","pathname","hash",s)),_r(!s.search||!s.search.includes("#"),Jm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=r;else{let p=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}c=p>=0?e[p]:"/"}let u=FT(s,c),h=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const wi=t=>t.join("/").replace(/\/\/+/g,"/"),LT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const m4=["post","put","patch","delete"];new Set(m4);const zT=["get",...m4];new Set(zT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vd.apply(this,arguments)}const Qg=A.createContext(null),VT=A.createContext(null),Di=A.createContext(null),Vh=A.createContext(null),Ri=A.createContext({outlet:null,matches:[],isDataRoute:!1}),p4=A.createContext(null);function $T(t,e){let{relative:r}=e===void 0?{}:e;Ul()||_r(!1);let{basename:n,navigator:s}=A.useContext(Di),{hash:i,pathname:o,search:c}=x4(t,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:wi([n,o])),s.createHref({pathname:u,search:c,hash:i})}function Ul(){return A.useContext(Vh)!=null}function zl(){return Ul()||_r(!1),A.useContext(Vh).location}function g4(t){A.useContext(Di).static||A.useLayoutEffect(t)}function Fi(){let{isDataRoute:t}=A.useContext(Ri);return t?r5():HT()}function HT(){Ul()||_r(!1);let t=A.useContext(Qg),{basename:e,future:r,navigator:n}=A.useContext(Di),{matches:s}=A.useContext(Ri),{pathname:i}=zl(),o=JSON.stringify(Xg(s,r.v7_relativeSplatPath)),c=A.useRef(!1);return g4(()=>{c.current=!0}),A.useCallback(function(h,f){if(f===void 0&&(f={}),!c.current)return;if(typeof h=="number"){n.go(h);return}let p=Jg(h,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:wi([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,o,i,t])}function x4(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=A.useContext(Di),{matches:s}=A.useContext(Ri),{pathname:i}=zl(),o=JSON.stringify(Xg(s,n.v7_relativeSplatPath));return A.useMemo(()=>Jg(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function WT(t,e){return YT(t,e)}function YT(t,e,r,n){Ul()||_r(!1);let{navigator:s}=A.useContext(Di),{matches:i}=A.useContext(Ri),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=zl(),f;if(e){var p;let v=typeof e=="string"?Ao(e):e;u==="/"||(p=v.pathname)!=null&&p.startsWith(u)||_r(!1),f=v}else f=h;let g=f.pathname||"/",x=g;if(u!=="/"){let v=u.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=vT(t,{pathname:x}),b=JT(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:wi([u,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:wi([u,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return e&&b?A.createElement(Vh.Provider,{value:{location:vd({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:pi.Pop}},b):b}function KT(){let t=t5(),e=UT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),r?A.createElement("pre",{style:s},r):null,null)}const GT=A.createElement(KT,null);class qT extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?A.createElement(Ri.Provider,{value:this.props.routeContext},A.createElement(p4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XT(t){let{routeContext:e,match:r,children:n}=t,s=A.useContext(Qg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(Ri.Provider,{value:e},n)}function JT(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,c=(s=r)==null?void 0:s.errors;if(c!=null){let f=o.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);f>=0||_r(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:g,errors:x}=r,w=p.route.loader&&g[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||w){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let x,w=!1,b=null,v=null;r&&(x=c&&p.route.id?c[p.route.id]:void 0,b=p.route.errorElement||GT,u&&(h<0&&g===0?(n5("route-fallback"),w=!0,v=null):h===g&&(w=!0,v=p.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,g+1)),T=()=>{let C;return x?C=b:w?C=v:p.route.Component?C=A.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,A.createElement(XT,{match:p,routeContext:{outlet:f,matches:_,isDataRoute:r!=null},children:C})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?A.createElement(qT,{location:r.location,revalidation:r.revalidation,component:b,error:x,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):T()},null)}var y4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(y4||{}),v4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(v4||{});function QT(t){let e=A.useContext(Qg);return e||_r(!1),e}function ZT(t){let e=A.useContext(VT);return e||_r(!1),e}function e5(t){let e=A.useContext(Ri);return e||_r(!1),e}function b4(t){let e=e5(),r=e.matches[e.matches.length-1];return r.route.id||_r(!1),r.route.id}function t5(){var t;let e=A.useContext(p4),r=ZT(),n=b4();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function r5(){let{router:t}=QT(y4.UseNavigateStable),e=b4(v4.UseNavigateStable),r=A.useRef(!1);return g4(()=>{r.current=!0}),A.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,vd({fromRouteId:e},i)))},[t,e])}const rb={};function n5(t,e,r){rb[t]||(rb[t]=!0)}function s5(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function $p(t){let{to:e,replace:r,state:n,relative:s}=t;Ul()||_r(!1);let{future:i,static:o}=A.useContext(Di),{matches:c}=A.useContext(Ri),{pathname:u}=zl(),h=Fi(),f=Jg(e,Xg(c,i.v7_relativeSplatPath),u,s==="path"),p=JSON.stringify(f);return A.useEffect(()=>h(JSON.parse(p),{replace:r,state:n,relative:s}),[h,p,s,r,n]),null}function Vt(t){_r(!1)}function a5(t){let{basename:e="/",children:r=null,location:n,navigationType:s=pi.Pop,navigator:i,static:o=!1,future:c}=t;Ul()&&_r(!1);let u=e.replace(/^\/*/,"/"),h=A.useMemo(()=>({basename:u,navigator:i,static:o,future:vd({v7_relativeSplatPath:!1},c)}),[u,c,i,o]);typeof n=="string"&&(n=Ao(n));let{pathname:f="/",search:p="",hash:g="",state:x=null,key:w="default"}=n,b=A.useMemo(()=>{let v=qg(f,u);return v==null?null:{location:{pathname:v,search:p,hash:g,state:x,key:w},navigationType:s}},[u,f,p,g,x,w,s]);return b==null?null:A.createElement(Di.Provider,{value:h},A.createElement(Vh.Provider,{children:r,value:b}))}function i5(t){let{children:e,location:r}=t;return WT(Hp(e),r)}new Promise(()=>{});function Hp(t,e){e===void 0&&(e=[]);let r=[];return A.Children.forEach(t,(n,s)=>{if(!A.isValidElement(n))return;let i=[...e,s];if(n.type===A.Fragment){r.push.apply(r,Hp(n.props.children,i));return}n.type!==Vt&&_r(!1),!n.props.index||!n.props.children||_r(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Hp(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wp.apply(this,arguments)}function o5(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function l5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function c5(t,e){return t.button===0&&(!e||e==="_self")&&!l5(t)}const d5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u5="6";try{window.__reactRouterVersion=u5}catch{}const h5="startTransition",nb=cT[h5];function f5(t){let{basename:e,children:r,future:n,window:s}=t,i=A.useRef();i.current==null&&(i.current=gT({window:s,v5Compat:!0}));let o=i.current,[c,u]=A.useState({action:o.action,location:o.location}),{v7_startTransition:h}=n||{},f=A.useCallback(p=>{h&&nb?nb(()=>u(p)):u(p)},[u,h]);return A.useLayoutEffect(()=>o.listen(f),[o,f]),A.useEffect(()=>s5(n),[n]),A.createElement(a5,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const m5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=A.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:c,target:u,to:h,preventScrollReset:f,viewTransition:p}=e,g=o5(e,d5),{basename:x}=A.useContext(Di),w,b=!1;if(typeof h=="string"&&p5.test(h)&&(w=h,m5))try{let C=new URL(window.location.href),R=h.startsWith("//")?new URL(C.protocol+h):new URL(h),j=qg(R.pathname,x);R.origin===C.origin&&j!=null?h=j+R.search+R.hash:b=!0}catch{}let v=$T(h,{relative:s}),_=g5(h,{replace:o,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:p});function T(C){n&&n(C),C.defaultPrevented||_(C)}return A.createElement("a",Wp({},g,{href:w||v,onClick:b||i?n:T,ref:r,target:u}))});var sb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sb||(sb={}));var ab;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ab||(ab={}));function g5(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:c}=e===void 0?{}:e,u=Fi(),h=zl(),f=x4(t,{relative:o});return A.useCallback(p=>{if(c5(p,r)){p.preventDefault();let g=n!==void 0?n:nh(h)===nh(f);u(t,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:c})}},[h,u,f,n,s,r,t,i,o,c])}function w4(t,e){return function(){return t.apply(e,arguments)}}const{toString:x5}=Object.prototype,{getPrototypeOf:Zg}=Object,{iterator:$h,toStringTag:k4}=Symbol,Hh=(t=>e=>{const r=x5.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ys=t=>(t=t.toLowerCase(),e=>Hh(e)===t),Wh=t=>e=>typeof e===t,{isArray:Vl}=Array,bd=Wh("undefined");function y5(t){return t!==null&&!bd(t)&&t.constructor!==null&&!bd(t.constructor)&&In(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const N4=Ys("ArrayBuffer");function v5(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&N4(t.buffer),e}const b5=Wh("string"),In=Wh("function"),S4=Wh("number"),Yh=t=>t!==null&&typeof t=="object",w5=t=>t===!0||t===!1,U0=t=>{if(Hh(t)!=="object")return!1;const e=Zg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(k4 in t)&&!($h in t)},k5=Ys("Date"),N5=Ys("File"),S5=Ys("Blob"),_5=Ys("FileList"),j5=t=>Yh(t)&&In(t.pipe),C5=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||In(t.append)&&((e=Hh(t))==="formdata"||e==="object"&&In(t.toString)&&t.toString()==="[object FormData]"))},T5=Ys("URLSearchParams"),[E5,A5,P5,D5]=["ReadableStream","Request","Response","Headers"].map(Ys),R5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),Vl(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let c;for(n=0;n<o;n++)c=i[n],e.call(null,t[c],c,t)}}function _4(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const ho=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,j4=t=>!bd(t)&&t!==ho;function Yp(){const{caseless:t}=j4(this)&&this||{},e={},r=(n,s)=>{const i=t&&_4(e,s)||s;U0(e[i])&&U0(n)?e[i]=Yp(e[i],n):U0(n)?e[i]=Yp({},n):Vl(n)?e[i]=n.slice():e[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Wd(arguments[n],r);return e}const F5=(t,e,r,{allOwnKeys:n}={})=>(Wd(e,(s,i)=>{r&&In(s)?t[i]=w4(s,r):t[i]=s},{allOwnKeys:n}),t),O5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),M5=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},L5=(t,e,r,n)=>{let s,i,o;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!n||n(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=r!==!1&&Zg(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},I5=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},B5=t=>{if(!t)return null;if(Vl(t))return t;let e=t.length;if(!S4(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},U5=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Zg(Uint8Array)),z5=(t,e)=>{const n=(t&&t[$h]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},V5=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},$5=Ys("HTMLFormElement"),H5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),ib=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),W5=Ys("RegExp"),C4=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Wd(r,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(n[i]=o||s)}),Object.defineProperties(t,n)},Y5=t=>{C4(t,(e,r)=>{if(In(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(In(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},K5=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Vl(t)?n(t):n(String(t).split(e)),r},G5=()=>{},q5=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function X5(t){return!!(t&&In(t.append)&&t[k4]==="FormData"&&t[$h])}const J5=t=>{const e=new Array(10),r=(n,s)=>{if(Yh(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const i=Vl(n)?[]:{};return Wd(n,(o,c)=>{const u=r(o,s+1);!bd(u)&&(i[c]=u)}),e[s]=void 0,i}}return n};return r(t,0)},Q5=Ys("AsyncFunction"),Z5=t=>t&&(Yh(t)||In(t))&&In(t.then)&&In(t.catch),T4=((t,e)=>t?setImmediate:e?((r,n)=>(ho.addEventListener("message",({source:s,data:i})=>{s===ho&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),ho.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",In(ho.postMessage)),e6=typeof queueMicrotask<"u"?queueMicrotask.bind(ho):typeof process<"u"&&process.nextTick||T4,t6=t=>t!=null&&In(t[$h]),Pe={isArray:Vl,isArrayBuffer:N4,isBuffer:y5,isFormData:C5,isArrayBufferView:v5,isString:b5,isNumber:S4,isBoolean:w5,isObject:Yh,isPlainObject:U0,isReadableStream:E5,isRequest:A5,isResponse:P5,isHeaders:D5,isUndefined:bd,isDate:k5,isFile:N5,isBlob:S5,isRegExp:W5,isFunction:In,isStream:j5,isURLSearchParams:T5,isTypedArray:U5,isFileList:_5,forEach:Wd,merge:Yp,extend:F5,trim:R5,stripBOM:O5,inherits:M5,toFlatObject:L5,kindOf:Hh,kindOfTest:Ys,endsWith:I5,toArray:B5,forEachEntry:z5,matchAll:V5,isHTMLForm:$5,hasOwnProperty:ib,hasOwnProp:ib,reduceDescriptors:C4,freezeMethods:Y5,toObjectSet:K5,toCamelCase:H5,noop:G5,toFiniteNumber:q5,findKey:_4,global:ho,isContextDefined:j4,isSpecCompliantForm:X5,toJSONObject:J5,isAsyncFn:Q5,isThenable:Z5,setImmediate:T4,asap:e6,isIterable:t6};function Nt(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Pe.inherits(Nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const E4=Nt.prototype,A4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{A4[t]={value:t}});Object.defineProperties(Nt,A4);Object.defineProperty(E4,"isAxiosError",{value:!0});Nt.from=(t,e,r,n,s,i)=>{const o=Object.create(E4);return Pe.toFlatObject(t,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),Nt.call(o,t.message,e,r,n,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const r6=null;function Kp(t){return Pe.isPlainObject(t)||Pe.isArray(t)}function P4(t){return Pe.endsWith(t,"[]")?t.slice(0,-2):t}function ob(t,e,r){return t?t.concat(e).map(function(s,i){return s=P4(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function n6(t){return Pe.isArray(t)&&!t.some(Kp)}const s6=Pe.toFlatObject(Pe,{},null,function(e){return/^is[A-Z]/.test(e)});function Kh(t,e,r){if(!Pe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,v){return!Pe.isUndefined(v[b])});const n=r.metaTokens,s=r.visitor||f,i=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(e);if(!Pe.isFunction(s))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(Pe.isDate(w))return w.toISOString();if(!u&&Pe.isBlob(w))throw new Nt("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(w)||Pe.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function f(w,b,v){let _=w;if(w&&!v&&typeof w=="object"){if(Pe.endsWith(b,"{}"))b=n?b:b.slice(0,-2),w=JSON.stringify(w);else if(Pe.isArray(w)&&n6(w)||(Pe.isFileList(w)||Pe.endsWith(b,"[]"))&&(_=Pe.toArray(w)))return b=P4(b),_.forEach(function(C,R){!(Pe.isUndefined(C)||C===null)&&e.append(o===!0?ob([b],R,i):o===null?b:b+"[]",h(C))}),!1}return Kp(w)?!0:(e.append(ob(v,b,i),h(w)),!1)}const p=[],g=Object.assign(s6,{defaultVisitor:f,convertValue:h,isVisitable:Kp});function x(w,b){if(!Pe.isUndefined(w)){if(p.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));p.push(w),Pe.forEach(w,function(_,T){(!(Pe.isUndefined(_)||_===null)&&s.call(e,_,Pe.isString(T)?T.trim():T,b,g))===!0&&x(_,b?b.concat(T):[T])}),p.pop()}}if(!Pe.isObject(t))throw new TypeError("data must be an object");return x(t),e}function lb(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function ex(t,e){this._pairs=[],t&&Kh(t,this,e)}const D4=ex.prototype;D4.append=function(e,r){this._pairs.push([e,r])};D4.toString=function(e){const r=e?function(n){return e.call(this,n,lb)}:lb;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function a6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function R4(t,e,r){if(!e)return t;const n=r&&r.encode||a6;Pe.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(e,r):i=Pe.isURLSearchParams(e)?e.toString():new ex(e,r).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class cb{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pe.forEach(this.handlers,function(n){n!==null&&e(n)})}}const F4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},i6=typeof URLSearchParams<"u"?URLSearchParams:ex,o6=typeof FormData<"u"?FormData:null,l6=typeof Blob<"u"?Blob:null,c6={isBrowser:!0,classes:{URLSearchParams:i6,FormData:o6,Blob:l6},protocols:["http","https","file","blob","url","data"]},tx=typeof window<"u"&&typeof document<"u",Gp=typeof navigator=="object"&&navigator||void 0,d6=tx&&(!Gp||["ReactNative","NativeScript","NS"].indexOf(Gp.product)<0),u6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",h6=tx&&window.location.href||"http://localhost",f6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tx,hasStandardBrowserEnv:d6,hasStandardBrowserWebWorkerEnv:u6,navigator:Gp,origin:h6},Symbol.toStringTag,{value:"Module"})),un={...f6,...c6};function m6(t,e){return Kh(t,new un.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return un.isNode&&Pe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function p6(t){return Pe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function g6(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function O4(t){function e(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=i>=r.length;return o=!o&&Pe.isArray(s)?s.length:o,u?(Pe.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!c):((!s[o]||!Pe.isObject(s[o]))&&(s[o]=[]),e(r,n,s[o],i)&&Pe.isArray(s[o])&&(s[o]=g6(s[o])),!c)}if(Pe.isFormData(t)&&Pe.isFunction(t.entries)){const r={};return Pe.forEachEntry(t,(n,s)=>{e(p6(n),s,r,0)}),r}return null}function x6(t,e,r){if(Pe.isString(t))try{return(e||JSON.parse)(t),Pe.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Yd={transitional:F4,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=Pe.isObject(e);if(i&&Pe.isHTMLForm(e)&&(e=new FormData(e)),Pe.isFormData(e))return s?JSON.stringify(O4(e)):e;if(Pe.isArrayBuffer(e)||Pe.isBuffer(e)||Pe.isStream(e)||Pe.isFile(e)||Pe.isBlob(e)||Pe.isReadableStream(e))return e;if(Pe.isArrayBufferView(e))return e.buffer;if(Pe.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return m6(e,this.formSerializer).toString();if((c=Pe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Kh(c?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),x6(e)):e}],transformResponse:[function(e){const r=this.transitional||Yd.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Pe.isResponse(e)||Pe.isReadableStream(e))return e;if(e&&Pe.isString(e)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(o)throw c.name==="SyntaxError"?Nt.from(c,Nt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:un.classes.FormData,Blob:un.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],t=>{Yd.headers[t]={}});const y6=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),v6=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||e[r]&&y6[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},db=Symbol("internals");function Dc(t){return t&&String(t).trim().toLowerCase()}function z0(t){return t===!1||t==null?t:Pe.isArray(t)?t.map(z0):String(t)}function b6(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const w6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qm(t,e,r,n,s){if(Pe.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!Pe.isString(e)){if(Pe.isString(n))return e.indexOf(n)!==-1;if(Pe.isRegExp(n))return n.test(e)}}function k6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function N6(t,e){const r=Pe.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,o){return this[n].call(this,e,s,i,o)},configurable:!0})})}let Bn=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(c,u,h){const f=Dc(u);if(!f)throw new Error("header name must be a non-empty string");const p=Pe.findKey(s,f);(!p||s[p]===void 0||h===!0||h===void 0&&s[p]!==!1)&&(s[p||u]=z0(c))}const o=(c,u)=>Pe.forEach(c,(h,f)=>i(h,f,u));if(Pe.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(Pe.isString(e)&&(e=e.trim())&&!w6(e))o(v6(e),r);else if(Pe.isObject(e)&&Pe.isIterable(e)){let c={},u,h;for(const f of e){if(!Pe.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[h=f[0]]=(u=c[h])?Pe.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(c,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=Dc(e),e){const n=Pe.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return b6(s);if(Pe.isFunction(r))return r.call(this,s,n);if(Pe.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Dc(e),e){const n=Pe.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Qm(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(o){if(o=Dc(o),o){const c=Pe.findKey(n,o);c&&(!r||Qm(n,n[c],c,r))&&(delete n[c],s=!0)}}return Pe.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||Qm(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return Pe.forEach(this,(s,i)=>{const o=Pe.findKey(n,i);if(o){r[o]=z0(s),delete r[i];return}const c=e?k6(i):String(i).trim();c!==i&&delete r[i],r[c]=z0(s),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Pe.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&Pe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[db]=this[db]={accessors:{}}).accessors,s=this.prototype;function i(o){const c=Dc(o);n[c]||(N6(s,o),n[c]=!0)}return Pe.isArray(e)?e.forEach(i):i(e),this}};Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Bn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Pe.freezeMethods(Bn);function Zm(t,e){const r=this||Yd,n=e||r,s=Bn.from(n.headers);let i=n.data;return Pe.forEach(t,function(c){i=c.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function M4(t){return!!(t&&t.__CANCEL__)}function $l(t,e,r){Nt.call(this,t??"canceled",Nt.ERR_CANCELED,e,r),this.name="CanceledError"}Pe.inherits($l,Nt,{__CANCEL__:!0});function L4(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Nt("Request failed with status code "+r.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function S6(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _6(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),f=n[i];o||(o=h),r[s]=u,n[s]=h;let p=i,g=0;for(;p!==s;)g+=r[p++],p=p%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),h-o<e)return;const x=f&&h-f;return x?Math.round(g*1e3/x):void 0}}function j6(t,e){let r=0,n=1e3/e,s,i;const o=(h,f=Date.now())=>{r=f,s=null,i&&(clearTimeout(i),i=null),t.apply(null,h)};return[(...h)=>{const f=Date.now(),p=f-r;p>=n?o(h,f):(s=h,i||(i=setTimeout(()=>{i=null,o(s)},n-p)))},()=>s&&o(s)]}const sh=(t,e,r=3)=>{let n=0;const s=_6(50,250);return j6(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,u=o-n,h=s(u),f=o<=c;n=o;const p={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:h||void 0,estimated:h&&c&&f?(c-o)/h:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(p)},r)},ub=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},hb=t=>(...e)=>Pe.asap(()=>t(...e)),C6=un.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,un.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(un.origin),un.navigator&&/(msie|trident)/i.test(un.navigator.userAgent)):()=>!0,T6=un.hasStandardBrowserEnv?{write(t,e,r,n,s,i){const o=[t+"="+encodeURIComponent(e)];Pe.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Pe.isString(n)&&o.push("path="+n),Pe.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function E6(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function A6(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function I4(t,e,r){let n=!E6(e);return t&&(n||r==!1)?A6(t,e):e}const fb=t=>t instanceof Bn?{...t}:t;function So(t,e){e=e||{};const r={};function n(h,f,p,g){return Pe.isPlainObject(h)&&Pe.isPlainObject(f)?Pe.merge.call({caseless:g},h,f):Pe.isPlainObject(f)?Pe.merge({},f):Pe.isArray(f)?f.slice():f}function s(h,f,p,g){if(Pe.isUndefined(f)){if(!Pe.isUndefined(h))return n(void 0,h,p,g)}else return n(h,f,p,g)}function i(h,f){if(!Pe.isUndefined(f))return n(void 0,f)}function o(h,f){if(Pe.isUndefined(f)){if(!Pe.isUndefined(h))return n(void 0,h)}else return n(void 0,f)}function c(h,f,p){if(p in e)return n(h,f);if(p in t)return n(void 0,h)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,f,p)=>s(fb(h),fb(f),p,!0)};return Pe.forEach(Object.keys(Object.assign({},t,e)),function(f){const p=u[f]||s,g=p(t[f],e[f],f);Pe.isUndefined(g)&&p!==c||(r[f]=g)}),r}const B4=t=>{const e=So({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:c}=e;e.headers=o=Bn.from(o),e.url=R4(I4(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(Pe.isFormData(r)){if(un.hasStandardBrowserEnv||un.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[h,...f]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([h||"multipart/form-data",...f].join("; "))}}if(un.hasStandardBrowserEnv&&(n&&Pe.isFunction(n)&&(n=n(e)),n||n!==!1&&C6(e.url))){const h=s&&i&&T6.read(i);h&&o.set(s,h)}return e},P6=typeof XMLHttpRequest<"u",D6=P6&&function(t){return new Promise(function(r,n){const s=B4(t);let i=s.data;const o=Bn.from(s.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:h}=s,f,p,g,x,w;function b(){x&&x(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function _(){if(!v)return;const C=Bn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),j={data:!c||c==="text"||c==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:C,config:t,request:v};L4(function(S){r(S),b()},function(S){n(S),b()},j),v=null}"onloadend"in v?v.onloadend=_:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(_)},v.onabort=function(){v&&(n(new Nt("Request aborted",Nt.ECONNABORTED,t,v)),v=null)},v.onerror=function(){n(new Nt("Network Error",Nt.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let R=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||F4;s.timeoutErrorMessage&&(R=s.timeoutErrorMessage),n(new Nt(R,j.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,t,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&Pe.forEach(o.toJSON(),function(R,j){v.setRequestHeader(j,R)}),Pe.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),c&&c!=="json"&&(v.responseType=s.responseType),h&&([g,w]=sh(h,!0),v.addEventListener("progress",g)),u&&v.upload&&([p,x]=sh(u),v.upload.addEventListener("progress",p),v.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(f=C=>{v&&(n(!C||C.type?new $l(null,t,v):C),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const T=S6(s.url);if(T&&un.protocols.indexOf(T)===-1){n(new Nt("Unsupported protocol "+T+":",Nt.ERR_BAD_REQUEST,t));return}v.send(i||null)})},R6=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(h){if(!s){s=!0,c();const f=h instanceof Error?h:this.reason;n.abort(f instanceof Nt?f:new $l(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,i(new Nt(`timeout ${e} of ms exceeded`,Nt.ETIMEDOUT))},e);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>Pe.asap(c),u}},F6=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},O6=async function*(t,e){for await(const r of M6(t))yield*F6(r,e)},M6=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},mb=(t,e,r,n)=>{const s=O6(t,e);let i=0,o,c=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:h,value:f}=await s.next();if(h){c(),u.close();return}let p=f.byteLength;if(r){let g=i+=p;r(g)}u.enqueue(new Uint8Array(f))}catch(h){throw c(h),h}},cancel(u){return c(u),s.return()}},{highWaterMark:2})},Gh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",U4=Gh&&typeof ReadableStream=="function",L6=Gh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),z4=(t,...e)=>{try{return!!t(...e)}catch{return!1}},I6=U4&&z4(()=>{let t=!1;const e=new Request(un.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),pb=64*1024,qp=U4&&z4(()=>Pe.isReadableStream(new Response("").body)),ah={stream:qp&&(t=>t.body)};Gh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ah[e]&&(ah[e]=Pe.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Nt(`Response type '${e}' is not supported`,Nt.ERR_NOT_SUPPORT,n)})})})(new Response);const B6=async t=>{if(t==null)return 0;if(Pe.isBlob(t))return t.size;if(Pe.isSpecCompliantForm(t))return(await new Request(un.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(t)||Pe.isArrayBuffer(t))return t.byteLength;if(Pe.isURLSearchParams(t)&&(t=t+""),Pe.isString(t))return(await L6(t)).byteLength},U6=async(t,e)=>{const r=Pe.toFiniteNumber(t.getContentLength());return r??B6(e)},z6=Gh&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:u,responseType:h,headers:f,withCredentials:p="same-origin",fetchOptions:g}=B4(t);h=h?(h+"").toLowerCase():"text";let x=R6([s,i&&i.toAbortSignal()],o),w;const b=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let v;try{if(u&&I6&&r!=="get"&&r!=="head"&&(v=await U6(f,n))!==0){let j=new Request(e,{method:"POST",body:n,duplex:"half"}),O;if(Pe.isFormData(n)&&(O=j.headers.get("content-type"))&&f.setContentType(O),j.body){const[S,P]=ub(v,sh(hb(u)));n=mb(j.body,pb,S,P)}}Pe.isString(p)||(p=p?"include":"omit");const _="credentials"in Request.prototype;w=new Request(e,{...g,signal:x,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:_?p:void 0});let T=await fetch(w);const C=qp&&(h==="stream"||h==="response");if(qp&&(c||C&&b)){const j={};["status","statusText","headers"].forEach(B=>{j[B]=T[B]});const O=Pe.toFiniteNumber(T.headers.get("content-length")),[S,P]=c&&ub(O,sh(hb(c),!0))||[];T=new Response(mb(T.body,pb,S,()=>{P&&P(),b&&b()}),j)}h=h||"text";let R=await ah[Pe.findKey(ah,h)||"text"](T,t);return!C&&b&&b(),await new Promise((j,O)=>{L4(j,O,{data:R,headers:Bn.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:w})})}catch(_){throw b&&b(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,t,w),{cause:_.cause||_}):Nt.from(_,_&&_.code,t,w)}}),Xp={http:r6,xhr:D6,fetch:z6};Pe.forEach(Xp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const gb=t=>`- ${t}`,V6=t=>Pe.isFunction(t)||t===null||t===!1,V4={getAdapter:t=>{t=Pe.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let i=0;i<e;i++){r=t[i];let o;if(n=r,!V6(r)&&(n=Xp[(o=String(r)).toLowerCase()],n===void 0))throw new Nt(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(gb).join(`
`):" "+gb(i[0]):"as no adapter specified";throw new Nt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Xp};function ep(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new $l(null,t)}function xb(t){return ep(t),t.headers=Bn.from(t.headers),t.data=Zm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),V4.getAdapter(t.adapter||Yd.adapter)(t).then(function(n){return ep(t),n.data=Zm.call(t,t.transformResponse,n),n.headers=Bn.from(n.headers),n},function(n){return M4(n)||(ep(t),n&&n.response&&(n.response.data=Zm.call(t,t.transformResponse,n.response),n.response.headers=Bn.from(n.response.headers))),Promise.reject(n)})}const $4="1.9.0",qh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{qh[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const yb={};qh.transitional=function(e,r,n){function s(i,o){return"[Axios v"+$4+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,c)=>{if(e===!1)throw new Nt(s(o," has been removed"+(r?" in "+r:"")),Nt.ERR_DEPRECATED);return r&&!yb[o]&&(yb[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,c):!0}};qh.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function $6(t,e,r){if(typeof t!="object")throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],o=e[i];if(o){const c=t[i],u=c===void 0||o(c,i,t);if(u!==!0)throw new Nt("option "+i+" must be "+u,Nt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Nt("Unknown option "+i,Nt.ERR_BAD_OPTION)}}const V0={assertOptions:$6,validators:qh},ra=V0.validators;let xo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new cb,response:new cb}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=So(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&V0.assertOptions(n,{silentJSONParsing:ra.transitional(ra.boolean),forcedJSONParsing:ra.transitional(ra.boolean),clarifyTimeoutError:ra.transitional(ra.boolean)},!1),s!=null&&(Pe.isFunction(s)?r.paramsSerializer={serialize:s}:V0.assertOptions(s,{encode:ra.function,serialize:ra.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),V0.assertOptions(r,{baseUrl:ra.spelling("baseURL"),withXsrfToken:ra.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Pe.merge(i.common,i[r.method]);i&&Pe.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),r.headers=Bn.concat(o,i);const c=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(u=u&&b.synchronous,c.unshift(b.fulfilled,b.rejected))});const h=[];this.interceptors.response.forEach(function(b){h.push(b.fulfilled,b.rejected)});let f,p=0,g;if(!u){const w=[xb.bind(this),void 0];for(w.unshift.apply(w,c),w.push.apply(w,h),g=w.length,f=Promise.resolve(r);p<g;)f=f.then(w[p++],w[p++]);return f}g=c.length;let x=r;for(p=0;p<g;){const w=c[p++],b=c[p++];try{x=w(x)}catch(v){b.call(this,v);break}}try{f=xb.call(this,x)}catch(w){return Promise.reject(w)}for(p=0,g=h.length;p<g;)f=f.then(h[p++],h[p++]);return f}getUri(e){e=So(this.defaults,e);const r=I4(e.baseURL,e.url,e.allowAbsoluteUrls);return R4(r,e.params,e.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(e){xo.prototype[e]=function(r,n){return this.request(So(n||{},{method:e,url:r,data:(n||{}).data}))}});Pe.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,c){return this.request(So(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}xo.prototype[e]=r(),xo.prototype[e+"Form"]=r(!0)});let H6=class H4{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(c=>{n.subscribe(c),i=c}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,c){n.reason||(n.reason=new $l(i,o,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new H4(function(s){e=s}),cancel:e}}};function W6(t){return function(r){return t.apply(null,r)}}function Y6(t){return Pe.isObject(t)&&t.isAxiosError===!0}const Jp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jp).forEach(([t,e])=>{Jp[e]=t});function W4(t){const e=new xo(t),r=w4(xo.prototype.request,e);return Pe.extend(r,xo.prototype,e,{allOwnKeys:!0}),Pe.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return W4(So(t,s))},r}const er=W4(Yd);er.Axios=xo;er.CanceledError=$l;er.CancelToken=H6;er.isCancel=M4;er.VERSION=$4;er.toFormData=Kh;er.AxiosError=Nt;er.Cancel=er.CanceledError;er.all=function(e){return Promise.all(e)};er.spread=W6;er.isAxiosError=Y6;er.mergeConfig=So;er.AxiosHeaders=Bn;er.formToJSON=t=>O4(Pe.isHTMLForm(t)?new FormData(t):t);er.getAdapter=V4.getAdapter;er.HttpStatusCode=Jp;er.default=er;const{Axios:VK,AxiosError:$K,CanceledError:HK,isCancel:WK,CancelToken:YK,VERSION:KK,all:GK,Cancel:qK,isAxiosError:XK,spread:JK,toFormData:QK,AxiosHeaders:ZK,HttpStatusCode:eG,formToJSON:tG,getAdapter:rG,mergeConfig:nG}=er,K6="https://crm-backend-o36v.onrender.com/api",tt=er.create({baseURL:K6,headers:{"Content-Type":"application/json"}});tt.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));tt.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&localStorage.getItem("token")&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(t)});const Zt={login:t=>tt.post("/auth/login",t),register:t=>tt.post("/auth/register",t),getProfile:()=>tt.get("/auth/me"),updateProfile:t=>tt.put("/auth/me",t),uploadProfilePicture:t=>tt.post("/auth/profile-picture",t,{headers:{"Content-Type":"multipart/form-data"}}),sendOTP:t=>tt.post("/auth/sendOTPToEmail",{email:t}),verifyOTP:t=>tt.post("/auth/verifyOtp",t),resetPassword:t=>tt.post("/auth/reset_password",t),getUsers:(t=null)=>{const e=t?`/auth/users?role=${t}`:"/auth/users";return tt.get(e)},createUser:t=>tt.post("/auth/users",t),updateUser:(t,e)=>tt.put(`/auth/users/${t}`,e),deleteUser:t=>tt.delete(`/auth/users/${t}`)},mn={getAll:(t={})=>{const e=new URLSearchParams;t.month&&e.append("month",t.month),t.year&&e.append("year",t.year),t.startDate&&e.append("startDate",t.startDate),t.endDate&&e.append("endDate",t.endDate);const r=e.toString(),n=r?`/leads?${r}`:"/leads";return tt.get(n)},getById:t=>tt.get(`/leads/${t}`),create:t=>tt.post("/leads",t),update:(t,e)=>tt.put(`/leads/${t}`,e),updateFeedback:(t,e)=>tt.put(`/leads/${t}/feedback`,{feedback:e}),delete:t=>tt.delete(`/leads/${t}`),getAssigned:(t={})=>{const e=new URLSearchParams;t.month&&e.append("month",t.month),t.year&&e.append("year",t.year),t.startDate&&e.append("startDate",t.startDate),t.endDate&&e.append("endDate",t.endDate);const r=e.toString(),n=r?`/leads/assigned?${r}`:"/leads/assigned";return tt.get(n)},getRepeatCustomers:()=>tt.get("/leads/repeat-customers"),import:t=>tt.post("/leads/import",{leads:t}),importLeads:t=>tt.post("/leads/import",{leads:t}),importCSV:t=>tt.post("/leads/import-csv",t,{headers:{"Content-Type":"multipart/form-data"}})},Er={getAll:()=>tt.get("/sales"),getAllForced:()=>tt.get("/sales?full=true"),getById:t=>tt.get(`/sales/${t}`),create:t=>(t.leadPerson&&(t.isLeadPersonSale=!0),tt.post("/sales",t)),update:(t,e)=>tt.put(`/sales/${t}`,e),delete:t=>tt.delete(`/sales/${t}`),getCount:()=>tt.get("/sales/count"),import:t=>tt.post("/sales/import",{sales:t}),importSales:t=>tt.post("/sales/import",{sales:t}),getCourseAnalysis:(t="monthly")=>tt.get(`/sales/reports/course-analysis?period=${t}`),getRevenueAnalysis:(t="1month")=>tt.get(`/sales/reports/revenue-analysis?period=${t}`),getTopCourses:(t="all",e=10)=>tt.get(`/sales/reports/top-courses?period=${t}&limit=${e}`),getStatusAnalysis:(t="1month",e=null)=>{const r=e?`/sales/reports/status-analysis?period=${t}&status=${e}`:`/sales/reports/status-analysis?period=${t}`;return tt.get(r)},getLeadSales:(t={})=>{const e=new URLSearchParams;Object.keys(t).forEach(s=>{t[s]!==void 0&&t[s]!==null&&t[s]!==""&&e.append(s,t[s])});const r=e.toString(),n=r?`/lead-sales?${r}`:"/lead-sales";return tt.get(n)},createLeadSale:(t,e)=>tt.post("/lead-sales",{...t,leadPerson:e})},tp={getAll:()=>tt.get("/lead-person-sales"),getById:t=>tt.get(`/lead-person-sales/${t}`),create:t=>tt.post("/lead-person-sales",t),update:(t,e)=>tt.put(`/lead-person-sales/${t}`,e),delete:t=>tt.delete(`/lead-person-sales/${t}`)},Rc={getAll:()=>tt.get("/tasks"),getById:t=>tt.get(`/tasks/${t}`),create:t=>tt.post("/tasks",t),update:(t,e)=>tt.put(`/tasks/${t}`,e),delete:t=>tt.delete(`/tasks/${t}`),markCompleted:(t,e)=>tt.put(`/tasks/${t}`,{completed:e})},ih={getRates:()=>tt.get("/currency/rates"),getRate:(t,e)=>tt.get(`/currency/rate?from=${t}&to=${e}`)},vl={getAll:(t={})=>{const e=new URLSearchParams;Object.keys(t).forEach(s=>{t[s]!==void 0&&t[s]!==null&&t[s]!==""&&e.append(s,t[s])});const r=e.toString(),n=r?`/prospects?${r}`:"/prospects";return tt.get(n)},getById:t=>tt.get(`/prospects/${t}`),create:t=>tt.post("/prospects",t),update:(t,e)=>tt.put(`/prospects/${t}`,e),delete:t=>tt.delete(`/prospects/${t}`),getStats:()=>tt.get("/prospects/stats"),convertToLead:t=>tt.post(`/prospects/${t}/convert`)},l0={startSession:()=>tt.post("/activity/start-session"),endSession:t=>tt.post("/activity/end-session",{duration:t}),trackActivity:(t,e=!0)=>tt.post("/activity/track",{duration:t,isActive:e}),getMyActivity:(t=null,e=null,r=null)=>{const n=new URLSearchParams;t&&n.append("date",t),e&&n.append("startDate",e),r&&n.append("endDate",r);const s=n.toString(),i=s?`/activity/my-activity?${s}`:"/activity/my-activity";return tt.get(i)},getAllUsersActivity:(t=null,e=null,r=null)=>{const n=new URLSearchParams;t&&n.append("date",t),e&&n.append("startDate",e),r&&n.append("endDate",r);const s=n.toString(),i=s?`/activity/all-users?${s}`:"/activity/all-users";return tt.get(i)},getStatistics:(t=7)=>tt.get(`/activity/statistics?days=${t}`)},Y4=A.createContext(),G6=({children:t})=>{const[e,r]=A.useState(null),[n,s]=A.useState(null),[i,o]=A.useState(!0),[c,u]=A.useState(null);A.useEffect(()=>{const x=localStorage.getItem("token");x?(s(x),h()):o(!1)},[]);const h=async()=>{try{o(!0);const x=localStorage.getItem("token");if(!x){s(null),r(null),o(!1);return}s(x);const w=await Zt.getProfile();r(w.data.data),u(null)}catch{localStorage.removeItem("token"),s(null),r(null),u("Authentication failed. Please login again.")}finally{o(!1)}},f=async x=>{var w,b;try{o(!0);const v=await Zt.register(x);return u(null),v.data}catch(v){const _=((b=(w=v.response)==null?void 0:w.data)==null?void 0:b.message)||"Registration failed. Please try again.";throw u(_),new Error(_)}finally{o(!1)}},p=async x=>{var w,b;try{o(!0);const v=await Zt.login(x);return localStorage.setItem("token",v.data.token),s(v.data.token),r(v.data.user),u(null),console.log("✅ Login successful, token set:",!!v.data.token),{...v.data,tokenStatus:v.data.token?"Valid":"Missing"}}catch(v){throw u(((b=(w=v.response)==null?void 0:w.data)==null?void 0:b.message)||"Invalid credentials"),v}finally{o(!1)}},g=()=>{localStorage.removeItem("token"),s(null),r(null),localStorage.removeItem("activitySessionStart"),localStorage.removeItem("activitySessionActive"),localStorage.removeItem("activityManuallyPaused"),localStorage.removeItem("activityPageHiddenTime"),console.log("User logged out and activity session cleared")};return a.jsx(Y4.Provider,{value:{user:e,token:n,loading:i,error:c,register:f,login:p,logout:g,setUser:r,loadUser:h},children:t})},Mt=()=>A.useContext(Y4);let oh={currency:"USD",locale:"en-US",rate:1,exchangeRates:{USD:1,INR:84.62,EUR:.92,GBP:.79}};const vb="INR",bb=(t,e=oh.currency)=>{if(!t||isNaN(t))return 0;const r=oh.exchangeRates||{USD:1,INR:84.62,EUR:.92,GBP:.79};if(vb===e)return t;let n;return n=t/r[vb],n*r[e]},sa=t=>{if(t==null)return"N/A";const e=yo();try{return new Intl.NumberFormat(e.locale,{style:"currency",currency:e.currency,minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}catch(r){return console.error("Error formatting currency:",r),`${e.symbol}${t.toFixed(2)}`}},xl=t=>{oh={...oh,...t}},yo=()=>{const t=localStorage.getItem("currencySettings");return t?JSON.parse(t):{currency:"USD",symbol:"$"}},K4=async()=>{try{try{const t=await Er.getCount();if(t.data&&t.data.success&&typeof t.data.count=="number")return t.data.count;throw new Error("Invalid count response format")}catch(t){try{const e=await Er.getAllForced();if(e.data&&e.data.success){let r=0;return e.data.count&&typeof e.data.count=="number"?r=e.data.count:e.data.data&&Array.isArray(e.data.data)?r=e.data.data.length:Array.isArray(e.data)&&(r=e.data.length),r}else throw new Error("Invalid sales response format")}catch(e){throw new Error(`All strategies failed. Count error: ${t.message}, Full fetch error: ${e.message}`)}}}catch(t){throw t}},ll={USD:{locale:"en-US",label:"USD ($)",symbol:"$"},INR:{locale:"en-IN",label:"INR (₹)",symbol:"₹"},EUR:{locale:"en-EU",label:"EUR (€)",symbol:"€"},GBP:{locale:"en-GB",label:"GBP (£)",symbol:"£"},JPY:{locale:"ja-JP",label:"JPY (¥)",symbol:"¥"},CAD:{locale:"en-CA",label:"CAD ($)",symbol:"C$"},AUD:{locale:"en-AU",label:"AUD ($)",symbol:"A$"},CNY:{locale:"zh-CN",label:"CNY (¥)",symbol:"¥"},SGD:{locale:"en-SG",label:"SGD ($)",symbol:"S$"},CHF:{locale:"de-CH",label:"CHF (Fr)",symbol:"Fr"},AED:{locale:"ar-AE",label:"AED (د.إ)",symbol:"د.إ"}},c0={USD:1,INR:84.62,EUR:.92,GBP:.79,JPY:151.15,CAD:1.37,AUD:1.52,CNY:7.24,SGD:1.35,CHF:.9,AED:3.67},q6=({darkMode:t=!0})=>{const[e,r]=A.useState(()=>yo().currency),[n,s]=A.useState(c0),[i,o]=A.useState([]),[c,u]=A.useState(null),[h,f]=A.useState(null),p=t?"text-white":"text-gray-700 dark:text-gray-300 dark:text-gray-400",g=t?"text-blue-200":"text-gray-500 dark:text-gray-400",x=t?"text-yellow-200":"text-yellow-600",w=t?"bg-blue-700":"bg-white dark:bg-slate-900",b=t?"border-blue-600":"border-gray-300 dark:border-slate-600";A.useEffect(()=>{v();const C=setInterval(v,60*60*1e3);return()=>clearInterval(C)},[]);const v=async()=>{try{const C=await ih.getRates();if(C.data&&C.data.rates){const R=C.data.rates;s(R);const j=Object.keys(R).filter(O=>ll[O]).map(O=>({code:O,...ll[O],rate:R[O]})).sort((O,S)=>O.code==="USD"?-1:S.code==="USD"?1:O.code.localeCompare(S.code));o(j),f(new Date(C.data.date||new Date)),u(C.data.source==="fallback"?"Using backup rates":null),xl({...yo(),exchangeRates:R,lastUpdated:C.data.date||new Date().toISOString()}),localStorage.setItem("exchange_rates",JSON.stringify(R)),localStorage.setItem("rates_last_updated",C.data.date||new Date().toISOString()),C.data.source}else throw new Error("Invalid response format from currency API")}catch{u("Using last known rates");const R=localStorage.getItem("exchange_rates"),j=localStorage.getItem("rates_last_updated");if(R)try{const O=JSON.parse(R);s(O);const S=Object.keys(O).filter(P=>ll[P]).map(P=>({code:P,...ll[P],rate:O[P]})).sort((P,B)=>P.code==="USD"?-1:B.code==="USD"?1:P.code.localeCompare(B.code));o(S),f(new Date(j)),xl({...yo(),exchangeRates:O,lastUpdated:j})}catch{s(c0);const S=Object.keys(c0).filter(P=>ll[P]).map(P=>({code:P,...ll[P],rate:c0[P]})).sort((P,B)=>P.code==="USD"?-1:B.code==="USD"?1:P.code.localeCompare(B.code));o(S)}}};A.useEffect(()=>{if(i.length===0)return;const C=localStorage.getItem("preferred_currency");if(C){const R=i.find(j=>j.code===C);R&&(xl({currency:R.code,locale:R.locale,rate:n[R.code]||R.rate,exchangeRates:n}),r(R.code))}else{const R=i.find(j=>j.code==="USD")||i[0];xl({currency:R.code,locale:R.locale,rate:n[R.code]||R.rate,exchangeRates:n})}},[i,n]);const _=C=>{const R=C.target.value,j=i.find(O=>O.code===R);j&&(xl({currency:j.code,locale:j.locale,rate:n[j.code]||j.rate,exchangeRates:n}),r(j.code),localStorage.setItem("preferred_currency",j.code),window.location.reload())},T=C=>{if(!C)return"";const j=new Date-C,O=Math.floor(j/(1e3*60));if(O<1)return"just now";if(O<60)return`${O} mins ago`;const S=Math.floor(O/60);return S<24?`${S} hours ago`:`${Math.floor(S/24)} days ago`};return i.length===0?a.jsxs("div",{className:`flex items-center ${p} text-sm`,children:[a.jsx("span",{className:"mr-2",children:"Loading currencies..."}),a.jsx("div",{className:`animate-spin h-4 w-4 border-2 ${p} rounded-full border-t-transparent`})]}):a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("label",{htmlFor:"currency-selector",className:`text-sm ${p} mr-2`,children:"Currency:"}),a.jsx("select",{id:"currency-selector",value:e,onChange:_,className:`text-sm border ${b} rounded p-1 focus:outline-none focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 ${w} ${p} font-medium`,style:{WebkitAppearance:"menulist",MozAppearance:"menulist",appearance:"menulist"},children:i.map(C=>a.jsxs("option",{value:C.code,style:{backgroundColor:"#fff",color:"#333",padding:"6px"},children:[C.label," ",C.code!=="USD"&&`(1 USD = ${C.rate.toFixed(2)})`]},C.code))})]}),a.jsxs("div",{className:`text-xs ${g} mt-1`,children:[c&&a.jsx("span",{className:`${x} mr-2`,children:c}),h&&`Rates updated: ${T(h)}`]})]})};var G4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wb=ct.createContext&&ct.createContext(G4),ki=function(){return ki=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},ki.apply(this,arguments)},X6=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};function q4(t){return t&&t.map(function(e,r){return ct.createElement(e.tag,ki({key:r},e.attr),q4(e.child))})}function bt(t){return function(e){return ct.createElement(J6,ki({attr:ki({},t.attr)},e),q4(t.child))}}function J6(t){var e=function(r){var n=t.attr,s=t.size,i=t.title,o=X6(t,["attr","size","title"]),c=s||r.size||"1em",u;return r.className&&(u=r.className),t.className&&(u=(u?u+" ":"")+t.className),ct.createElement("svg",ki({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:u,style:ki(ki({color:t.color||r.color},r.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&ct.createElement("title",null,i),t.children)};return wb!==void 0?ct.createElement(wb.Consumer,null,function(r){return e(r)}):e(G4)}function Q6(t){return bt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(t)}function Qp(t){return bt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(t)}function Zp(t){return bt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(t)}function X4(t){return bt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"}}]})(t)}function Z6(t){return bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(t)}function kb(t){return bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}}]})(t)}function J4(t){return bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(t)}function eE(t){return bt({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"}}]})(t)}function eg(t){return bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(t)}function tE(t){return bt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(t)}function ed(t){return bt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"}}]})(t)}function rE(t){return bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M488 352h-40V109.25l59.31-59.31c6.25-6.25 6.25-16.38 0-22.63L484.69 4.69c-6.25-6.25-16.38-6.25-22.63 0L402.75 64H192v96h114.75L160 306.75V24c0-13.26-10.75-24-24-24H88C74.75 0 64 10.74 64 24v40H24C10.75 64 0 74.74 0 88v48c0 13.25 10.75 24 24 24h40v264c0 13.25 10.75 24 24 24h232v-96H205.25L352 205.25V488c0 13.25 10.75 24 24 24h48c13.25 0 24-10.75 24-24v-40h40c13.25 0 24-10.75 24-24v-48c0-13.26-10.75-24-24-24z"}}]})(t)}function Nb(t){return bt({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"}}]})(t)}function Q4(t){return bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(t)}function Kd(t){return bt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(t)}function wd(t){return bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(t)}function nE(t){return bt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(t)}function rx(t){return bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(t)}function sE(t){return bt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"}}]})(t)}function aE(t){return bt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(t)}function iE(t){return bt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(t)}function oE(t){return bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(t)}function lE(t){return bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(t)}function cE(t){return bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"}}]})(t)}function nx(t){return bt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(t)}function Z4(t){return bt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(t)}function dE(t){return bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(t)}function Sb(t){return bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"}}]})(t)}function uE(t){return bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(t)}function kd(t){return bt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(t)}function sx(t){return bt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(t)}function hE(t){return bt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"}}]})(t)}function td(t){return bt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(t)}function fE(t){return bt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(t)}const mE=()=>{const t=A.useContext(u4);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},pE=({className:t=""})=>{const{theme:e,toggleTheme:r}=mE();return a.jsx("button",{onClick:r,className:`relative inline-flex items-center justify-center p-2 rounded-lg bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 border border-slate-300 dark:border-slate-600 shadow-sm dark:shadow-lg dark:shadow-2xl dark:shadow-black/25 hover:shadow-md dark:hover:shadow-xl transition-all duration-200 ease-out ${t}`,title:`Switch to ${e==="dark"?"light":"dark"} mode`,children:a.jsx("div",{className:"relative w-5 h-5",children:e==="dark"?a.jsx(dE,{className:"w-5 h-5 text-yellow-400 animate-pulse drop-shadow-sm dark:shadow-black/25"}):a.jsx(oE,{className:"w-5 h-5 text-slate-600 dark:text-slate-300 drop-shadow-sm dark:shadow-black/25"})})})},rp="https://crm-backend-o36v.onrender.com/api",gE=()=>{const{user:t,token:e}=Mt(),r=A.useRef(null),n=A.useRef(Date.now()),s=A.useRef(null),i=A.useRef(null),o=A.useRef(!1),c=A.useRef(!1),u=A.useRef(!1),h=A.useRef(null),f=5*60*1e3,p=6e4,g=A.useCallback(async(j,O="GET",S=null)=>{if(!e)return null;try{const P={method:O,url:`${rp}${j}`,headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}};return S&&(P.data=S),(await er(P)).data}catch(P){return console.error("Activity API error:",P),null}},[e]),x=A.useCallback(async()=>{if(!(!t||!e||c.current||u.current))try{const j=await g("/activity/start-session","POST");j!=null&&j.success&&(r.current=Date.now(),n.current=Date.now(),o.current=!0,c.current=!0,localStorage.setItem("activitySessionStart",r.current.toString()),localStorage.setItem("activitySessionActive","true"),console.log("Activity session started"))}catch(j){console.error("Failed to start activity session:",j)}},[t,e,g]),w=A.useCallback(async(j=null)=>{if(!(!c.current||!r.current))try{const O=j||Math.floor((Date.now()-r.current)/1e3);if(navigator.sendBeacon&&e){const S=JSON.stringify({duration:O,token:e}),P=`${rp}/activity/end-session-beacon`,B=new Blob([S],{type:"application/json"});navigator.sendBeacon(P,B)?console.log("Activity session ended via beacon"):await g("/activity/end-session","POST",{duration:O})}else await g("/activity/end-session","POST",{duration:O});r.current=null,o.current=!1,c.current=!1,localStorage.removeItem("activitySessionStart"),localStorage.removeItem("activitySessionActive"),console.log("Activity session ended")}catch(O){console.error("Failed to end activity session:",O)}},[g,e]),b=A.useCallback(async()=>{u.current=!1,localStorage.setItem("activityManuallyPaused","false"),await x()},[x]),v=A.useCallback(async()=>{u.current=!0,localStorage.setItem("activityManuallyPaused","true"),await w()},[w]),_=A.useCallback(async()=>{if(!(!c.current||!r.current||u.current))try{const j=Date.now();if(j-n.current<f){const P=Math.floor((j-r.current)/1e3);await g("/activity/track","POST",{duration:P,isActive:!0})}}catch(j){console.error("Failed to track activity:",j)}},[g,f]),T=A.useCallback(()=>{u.current||(n.current=Date.now(),i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{o.current&&!u.current&&(console.log("User inactive, pausing session tracking"),o.current=!1)},f))},[f]),C=A.useCallback(async()=>{if(document.hidden||document.visibilityState==="hidden")console.log("Page hidden - continuing activity tracking (tab switch or system lock)"),localStorage.setItem("activityPageHiddenTime",Date.now().toString());else if(document.visibilityState==="visible"){const j=localStorage.getItem("activityPageHiddenTime");if(j){const O=Date.now()-parseInt(j);console.log(`Page visible again after ${Math.floor(O/1e3)} seconds`),O>6e5?(console.log("System was likely locked - restarting session"),t&&e&&!u.current&&(c.current&&await w(),setTimeout(()=>x(),1e3))):(console.log("Tab switch detected - continuing existing session"),t&&e&&!c.current&&!u.current&&x()),localStorage.removeItem("activityPageHiddenTime")}}},[t,e,x,w]),R=A.useCallback(()=>{if(c.current&&r.current){const j=Math.floor((Date.now()-r.current)/1e3);if(navigator.sendBeacon&&e){const O=JSON.stringify({duration:j,token:e}),S=`${rp}/activity/end-session-beacon`,P=new Blob([O],{type:"application/json"});navigator.sendBeacon(S,P)}}},[e]);return A.useEffect(()=>{if(!t||!e)return;const j=localStorage.getItem("activityManuallyPaused")==="true";u.current=j;const O=localStorage.getItem("activitySessionStart"),S=localStorage.getItem("activitySessionActive")==="true";O&&S&&!j?(console.log("Resuming existing activity session"),r.current=parseInt(O),o.current=!0,c.current=!0,n.current=Date.now()):j||x();const P=["mousedown","mousemove","keypress","scroll","touchstart","click"];return P.forEach(B=>{document.addEventListener(B,T,!0)}),s.current=setInterval(_,p),h.current=C,document.addEventListener("visibilitychange",C),window.addEventListener("beforeunload",R),()=>{P.forEach(B=>{document.removeEventListener(B,T,!0)}),document.removeEventListener("visibilitychange",C),window.removeEventListener("beforeunload",R),s.current&&clearInterval(s.current),i.current&&clearTimeout(i.current)}},[t,e,x,w,T,_,C,R,p]),{isSessionActive:o.current,sessionStartTime:r.current,isManuallyPaused:u.current,startSession:b,pauseSession:v,updateActivity:T}},xE=()=>{const{user:t}=Mt(),[e,r]=A.useState(0),[n,s]=A.useState(!1),{sessionStartTime:i,isManuallyPaused:o,startSession:c,pauseSession:u}=gE();A.useEffect(()=>{if(!t||t.role==="Customer")return;const p=setInterval(()=>{if(i&&!o){const g=Date.now(),x=Math.floor((g-i)/1e3);r(x)}else r(0)},1e3);return()=>{clearInterval(p)}},[t,i,o]);const h=p=>{const g=Math.floor(p/3600),x=Math.floor(p%3600/60),w=p%60;return g>0?`${g.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`:`${x.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`},f=()=>{o?c():u()};return!t||t.role==="Customer"?null:a.jsxs("div",{className:"relative",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-800 px-3 py-2 rounded-lg cursor-pointer",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${!o&&i?"bg-green-500 animate-pulse":"bg-gray-400"}`}),a.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-500",children:[a.jsx("span",{className:"hidden sm:inline",children:"Session: "}),a.jsx("span",{className:"font-mono",children:h(e)})]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:o?"⏸️":i?"▶️":"⏹️"})]}),n&&a.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg dark:shadow-black/25 p-3 z-50 min-w-[200px]",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-500 mb-2",children:"Activity Timer Controls"}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 mb-3",children:["Status: ",o?"Manually Paused":i?"Active":"Stopped"]}),a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{onClick:f,className:`px-3 py-1 text-xs rounded-md font-medium transition-colors ${o?"bg-green-600 hover:bg-green-700 text-white":"bg-orange-600 hover:bg-orange-700 text-white"}`,children:o?"▶️ Start":"⏸️ Pause"})}),a.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-400 mt-2 leading-relaxed",children:"Timer automatically pauses when system locks or tab is hidden."})]})]})},yE=()=>{const{user:t,logout:e}=Mt(),r=Fi(),[n,s]=A.useState(!1),i=()=>{e(),r("/login")},o=()=>{s(!n)};return a.jsx("header",{className:"bg-blue-600 dark:bg-slate-900 text-white py-4 shadow-md dark:shadow-black/25 transition-all duration-200 ease-out border-b border-transparent dark:border-slate-700",children:a.jsxs("nav",{className:"container mx-auto flex justify-between items-center",children:[a.jsxs("a",{href:"/",children:[" ",a.jsx("h1",{className:"text-xl font-bold",children:"My CRM"})]}),a.jsx("button",{className:"text-white md:hidden",onClick:o,children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),a.jsxs("ul",{className:`flex-col md:flex-row md:flex space-x-4 ${n?"flex":"hidden"} md:flex`,children:[a.jsx("li",{children:a.jsx(yt,{to:"/",className:"hover:text-blue-300",children:"Home"})}),t&&t.role==="Customer"&&a.jsx("li",{children:a.jsx(yt,{to:"/customer",className:"hover:text-blue-300",children:"Dashboard"})}),t&&(t.role==="Sales Person"||t.role==="Manager"||t.role==="Admin")&&a.jsx("li",{children:a.jsx(yt,{to:"/prospects",className:"hover:text-blue-300",children:"Prospects"})}),t&&(t.role==="Lead Person"||t.role==="Manager"||t.role==="Admin")&&a.jsx("li",{children:a.jsx(yt,{to:"/leads",className:"hover:text-blue-300",children:"Leads"})}),t&&(t.role==="Lead Person"||t.role==="Manager"||t.role==="Admin")&&a.jsx(a.Fragment,{children:a.jsx("li",{children:a.jsx(yt,{to:"/lead-sales-sheet",className:"hover:text-blue-300",children:"Lead Sales Sheet"})})}),t&&t.role==="Sales Person"&&a.jsx("li",{children:a.jsx(yt,{to:"/sales",className:"hover:text-blue-300",children:"My Leads"})}),t&&(t.role==="Sales Person"||t.role==="Manager"||t.role==="Admin")&&a.jsx("li",{children:a.jsx(yt,{to:"/sales-tracking",className:"hover:text-blue-300",children:"Sales Tracking"})}),t&&t.role==="Admin"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsx(yt,{to:"/admin",className:"hover:text-blue-300",children:"Admin Dashboard"})}),a.jsx("li",{children:a.jsx(yt,{to:"/admin/users",className:"hover:text-blue-300",children:"Manage Users"})}),a.jsx("li",{children:a.jsx(yt,{to:"/admin/leads",className:"hover:text-blue-300",children:"Manage Leads"})}),a.jsx("li",{children:a.jsx(yt,{to:"/admin/import",className:"hover:text-blue-300",children:"Import Data"})})]}),a.jsx("li",{className:"ml-4",children:a.jsx(q6,{})}),a.jsx("li",{className:"ml-4",children:a.jsx(pE,{})}),a.jsx("li",{className:"ml-4",children:a.jsx(xE,{})}),t?a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsx(yt,{to:"/profile",className:"hover:text-blue-300",children:"Profile"})}),a.jsx("li",{children:a.jsx("button",{onClick:i,className:"bg-blue-700 hover:bg-blue-800 px-3 py-1 rounded-md transition duration-300",children:"Logout"})})]}):a.jsx("li",{children:a.jsx(yt,{to:"/login",className:"hover:text-blue-300",children:"Login"})})]})]})})},vE=()=>a.jsx("footer",{className:"bg-gray-800 text-white py-6",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsx("h3",{className:"text-xl font-bold",children:"CRM Platform"}),a.jsx("p",{className:"text-gray-400 dark:text-gray-500 mt-1",children:"Streamlining your business relationships"})]}),a.jsxs("div",{className:"flex space-x-8",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Resources"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 dark:text-gray-500 hover:text-white transition",children:"Documentation"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 dark:text-gray-500 hover:text-white transition",children:"Help Center"})}),a.jsx("li",{children:a.jsx("a",{href:"#tutorials",className:"text-gray-400 dark:text-gray-500 hover:text-white transition",children:"Tutorials"})}),a.jsx("li",{children:a.jsx("a",{href:"#countries",className:"text-gray-400 dark:text-gray-500 hover:text-white transition",children:"Countries"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Company"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 dark:text-gray-500 hover:text-white transition",children:"About Us"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 dark:text-gray-500 hover:text-white transition",children:"Careers"})}),a.jsx("li",{children:a.jsx("a",{href:"#management-contacts",className:"text-gray-400 dark:text-gray-500 hover:text-white transition",children:"Contact"})})]})]})]})]}),a.jsx("div",{className:"border-t border-gray-700 mt-6 pt-6 text-center md:text-left",children:a.jsxs("p",{children:["© ",new Date().getFullYear()," CRM Platform. All Rights Reserved."]})})]})}),rr=({children:t})=>a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(yE,{}),a.jsx("main",{className:"flex-grow",children:t}),a.jsx(vE,{})]}),bs={bg:{card:"bg-white dark:bg-gray-800"},text:{secondary:"text-gray-700 dark:text-gray-300",muted:"text-gray-500 dark:text-gray-400",heading:"text-gray-900 dark:text-white"},border:{primary:"border-gray-200 dark:border-gray-600"},shadow:{card:"shadow-md dark:shadow-lg dark:shadow-2xl dark:shadow-black/25"}},Fc={card:`${bs.bg.card} ${bs.shadow.card} ${bs.border.primary}`},fa=Object.create(null);fa.open="0";fa.close="1";fa.ping="2";fa.pong="3";fa.message="4";fa.upgrade="5";fa.noop="6";const $0=Object.create(null);Object.keys(fa).forEach(t=>{$0[fa[t]]=t});const tg={type:"error",data:"parser error"},eN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",tN=typeof ArrayBuffer=="function",rN=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,ax=({type:t,data:e},r,n)=>eN&&e instanceof Blob?r?n(e):_b(e,n):tN&&(e instanceof ArrayBuffer||rN(e))?r?n(e):_b(new Blob([e]),n):n(fa[t]+(e||"")),_b=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function jb(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let np;function bE(t,e){if(eN&&t.data instanceof Blob)return t.data.arrayBuffer().then(jb).then(e);if(tN&&(t.data instanceof ArrayBuffer||rN(t.data)))return e(jb(t.data));ax(t,!1,r=>{np||(np=new TextEncoder),e(np.encode(r))})}const Cb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Cb.length;t++)Wc[Cb.charCodeAt(t)]=t;const wE=t=>{let e=t.length*.75,r=t.length,n,s=0,i,o,c,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const h=new ArrayBuffer(e),f=new Uint8Array(h);for(n=0;n<r;n+=4)i=Wc[t.charCodeAt(n)],o=Wc[t.charCodeAt(n+1)],c=Wc[t.charCodeAt(n+2)],u=Wc[t.charCodeAt(n+3)],f[s++]=i<<2|o>>4,f[s++]=(o&15)<<4|c>>2,f[s++]=(c&3)<<6|u&63;return h},kE=typeof ArrayBuffer=="function",ix=(t,e)=>{if(typeof t!="string")return{type:"message",data:nN(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:NE(t.substring(1),e)}:$0[r]?t.length>1?{type:$0[r],data:t.substring(1)}:{type:$0[r]}:tg},NE=(t,e)=>{if(kE){const r=wE(t);return nN(r,e)}else return{base64:!0,data:t}},nN=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},sN="",SE=(t,e)=>{const r=t.length,n=new Array(r);let s=0;t.forEach((i,o)=>{ax(i,!1,c=>{n[o]=c,++s===r&&e(n.join(sN))})})},_E=(t,e)=>{const r=t.split(sN),n=[];for(let s=0;s<r.length;s++){const i=ix(r[s],e);if(n.push(i),i.type==="error")break}return n};function jE(){return new TransformStream({transform(t,e){bE(t,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(r)})}})}let sp;function d0(t){return t.reduce((e,r)=>e+r.length,0)}function u0(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let s=0;s<e;s++)r[s]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function CE(t,e){sp||(sp=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(o,c){for(r.push(o);;){if(n===0){if(d0(r)<1)break;const u=u0(r,1);i=(u[0]&128)===128,s=u[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(d0(r)<2)break;const u=u0(r,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(d0(r)<8)break;const u=u0(r,8),h=new DataView(u.buffer,u.byteOffset,u.length),f=h.getUint32(0);if(f>Math.pow(2,21)-1){c.enqueue(tg);break}s=f*Math.pow(2,32)+h.getUint32(4),n=3}else{if(d0(r)<s)break;const u=u0(r,s);c.enqueue(ix(i?u:sp.decode(u),e)),n=0}if(s===0||s>t){c.enqueue(tg);break}}}})}const aN=4;function Ar(t){if(t)return TE(t)}function TE(t){for(var e in Ar.prototype)t[e]=Ar.prototype[e];return t}Ar.prototype.on=Ar.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Ar.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Ar.prototype.off=Ar.prototype.removeListener=Ar.prototype.removeAllListeners=Ar.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===e||n.fn===e){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Ar.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,e)}return this};Ar.prototype.emitReserved=Ar.prototype.emit;Ar.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Ar.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Xh=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),ks=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),EE="arraybuffer";function iN(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const AE=ks.setTimeout,PE=ks.clearTimeout;function Jh(t,e){e.useNativeTimers?(t.setTimeoutFn=AE.bind(ks),t.clearTimeoutFn=PE.bind(ks)):(t.setTimeoutFn=ks.setTimeout.bind(ks),t.clearTimeoutFn=ks.clearTimeout.bind(ks))}const DE=1.33;function RE(t){return typeof t=="string"?FE(t):Math.ceil((t.byteLength||t.size)*DE)}function FE(t){let e=0,r=0;for(let n=0,s=t.length;n<s;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function oN(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function OE(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function ME(t){let e={},r=t.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class LE extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class ox extends Ar{constructor(e){super(),this.writable=!1,Jh(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new LE(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=ix(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=OE(e);return r.length?"?"+r:""}}class IE extends ox{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};_E(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,SE(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=oN()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let lN=!1;try{lN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const BE=lN;function UE(){}class zE extends IE{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let jl=class H0 extends Ar{constructor(e,r,n){super(),this.createRequest=e,Jh(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=iN(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=H0.requestsCount++,H0.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=UE,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete H0.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};jl.requestsCount=0;jl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Tb);else if(typeof addEventListener=="function"){const t="onpagehide"in ks?"pagehide":"unload";addEventListener(t,Tb,!1)}}function Tb(){for(let t in jl.requests)jl.requests.hasOwnProperty(t)&&jl.requests[t].abort()}const VE=function(){const t=cN({xdomain:!1});return t&&t.responseType!==null}();class $E extends zE{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=VE&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new jl(cN,this.uri(),e)}}function cN(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||BE))return new XMLHttpRequest}catch{}if(!e)try{return new ks[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const dN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class HE extends ox{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=dN?{}:iN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;ax(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&Xh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=oN()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const ap=ks.WebSocket||ks.MozWebSocket;class WE extends HE{createSocket(e,r,n){return dN?new ap(e,r,n):r?new ap(e,r):new ap(e)}doWrite(e,r){this.ws.send(r)}}class YE extends ox{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=CE(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),s=jE();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:c,value:u})=>{c||(this.onPacket(u),i())}).catch(c=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;this._writer.write(n).then(()=>{s&&Xh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const KE={websocket:WE,webtransport:YE,polling:$E},GE=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,qE=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function rg(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let s=GE.exec(t||""),i={},o=14;for(;o--;)i[qE[o]]=s[o]||"";return r!=-1&&n!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=XE(i,i.path),i.queryKey=JE(i,i.query),i}function XE(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function JE(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}const ng=typeof addEventListener=="function"&&typeof removeEventListener=="function",W0=[];ng&&addEventListener("offline",()=>{W0.forEach(t=>t())},!1);class Ni extends Ar{constructor(e,r){if(super(),this.binaryType=EE,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=rg(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=rg(r.host).host);Jh(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ME(this.opts.query)),ng&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},W0.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=aN,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Ni.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Ni.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=RE(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Xh(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:e,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Ni.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ng&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=W0.indexOf(this._offlineEventListener);n!==-1&&W0.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}Ni.protocol=aN;class QE extends Ni{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;Ni.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Ni.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function i(){n||(n=!0,f(),r.close(),r=null)}const o=p=>{const g=new Error("probe error: "+p);g.transport=r.name,i(),this.emitReserved("upgradeError",g)};function c(){o("transport closed")}function u(){o("socket closed")}function h(p){r&&p.name!==r.name&&i()}const f=()=>{r.removeListener("open",s),r.removeListener("error",o),r.removeListener("close",c),this.off("close",u),this.off("upgrading",h)};r.once("open",s),r.once("error",o),r.once("close",c),this.once("close",u),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let ZE=class extends QE{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>KE[s]).filter(s=>!!s)),super(e,n)}};function eA(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=rg(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const tA=typeof ArrayBuffer=="function",rA=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,uN=Object.prototype.toString,nA=typeof Blob=="function"||typeof Blob<"u"&&uN.call(Blob)==="[object BlobConstructor]",sA=typeof File=="function"||typeof File<"u"&&uN.call(File)==="[object FileConstructor]";function lx(t){return tA&&(t instanceof ArrayBuffer||rA(t))||nA&&t instanceof Blob||sA&&t instanceof File}function Y0(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Y0(t[r]))return!0;return!1}if(lx(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Y0(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Y0(t[r]))return!0;return!1}function aA(t){const e=[],r=t.data,n=t;return n.data=sg(r,e),n.attachments=e.length,{packet:n,buffers:e}}function sg(t,e){if(!t)return t;if(lx(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=sg(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=sg(t[n],e));return r}return t}function iA(t,e){return t.data=ag(t.data,e),delete t.attachments,t}function ag(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=ag(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=ag(t[r],e));return t}const oA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],lA=5;var Dt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Dt||(Dt={}));class cA{constructor(e){this.replacer=e}encode(e){return(e.type===Dt.EVENT||e.type===Dt.ACK)&&Y0(e)?this.encodeAsBinary({type:e.type===Dt.EVENT?Dt.BINARY_EVENT:Dt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Dt.BINARY_EVENT||e.type===Dt.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=aA(e),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function Eb(t){return Object.prototype.toString.call(t)==="[object Object]"}class cx extends Ar{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Dt.BINARY_EVENT;n||r.type===Dt.BINARY_ACK?(r.type=n?Dt.EVENT:Dt.ACK,this.reconstructor=new dA(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(lx(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Dt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Dt.BINARY_EVENT||n.type===Dt.BINARY_ACK){const i=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(i,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(i,r)}else n.nsp="/";const s=e.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(i,r+1))}if(e.charAt(++r)){const i=this.tryParse(e.substr(r));if(cx.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Dt.CONNECT:return Eb(r);case Dt.DISCONNECT:return r===void 0;case Dt.CONNECT_ERROR:return typeof r=="string"||Eb(r);case Dt.EVENT:case Dt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&oA.indexOf(r[0])===-1);case Dt.ACK:case Dt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class dA{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=iA(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const uA=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cx,Encoder:cA,get PacketType(){return Dt},protocol:lA},Symbol.toStringTag,{value:"Module"}));function Vs(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const hA=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class hN extends Ar{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Vs(e,"open",this.onopen.bind(this)),Vs(e,"packet",this.onpacket.bind(this)),Vs(e,"error",this.onerror.bind(this)),Vs(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,s,i;if(hA.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Dt.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const f=this.ids++,p=r.pop();this._registerAckCallback(f,p),o.id=f}const c=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!c||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[e]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);r.call(this,new Error("operation has timed out"))},s),o=(...c)=>{this.io.clearTimeoutFn(i),r.apply(this,c)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,s)=>{const i=(o,c)=>o?s(o):n(c);i.withError=!0,r.push(i),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Dt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Dt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Dt.EVENT:case Dt.BINARY_EVENT:this.onevent(e);break;case Dt.ACK:case Dt.BINARY_ACK:this.onack(e);break;case Dt.DISCONNECT:this.ondisconnect();break;case Dt.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:Dt.ACK,id:e,data:s}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Dt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function Hl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Hl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};Hl.prototype.reset=function(){this.attempts=0};Hl.prototype.setMin=function(t){this.ms=t};Hl.prototype.setMax=function(t){this.max=t};Hl.prototype.setJitter=function(t){this.jitter=t};class ig extends Ar{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Jh(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Hl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const s=r.parser||uA;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ZE(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Vs(r,"open",function(){n.onopen(),e&&e()}),i=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},o=Vs(r,"error",i);if(this._timeout!==!1){const c=this._timeout,u=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},c);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Vs(e,"ping",this.onping.bind(this)),Vs(e,"data",this.ondata.bind(this)),Vs(e,"error",this.onerror.bind(this)),Vs(e,"close",this.onclose.bind(this)),Vs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Xh(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new hN(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Oc={};function Cl(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=eA(t,e.path||"/socket.io"),n=r.source,s=r.id,i=r.path,o=Oc[s]&&i in Oc[s].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let u;return c?u=new ig(n,e):(Oc[s]||(Oc[s]=new ig(n,e)),u=Oc[s]),r.query&&!e.query&&(e.query=r.queryKey),u.socket(r.path,e)}Object.assign(Cl,{Manager:ig,Socket:hN,io:Cl,connect:Cl});const fA=()=>{const[t,e]=A.useState(!1),[r,n]=A.useState([]),[s,i]=A.useState(""),[o,c]=A.useState({name:"",email:"",phone:"",isInfoProvided:!1}),[u,h]=A.useState(null),[f,p]=A.useState(!1),[g,x]=A.useState([]),[w,b]=A.useState(null),v=A.useRef(null),_=A.useRef(`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),T=()=>{var S;(S=v.current)==null||S.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{T()},[r]),A.useEffect(()=>{if(t&&!u){const P=Cl("https://crm-backend-o36v.onrender.com/api",{transports:["websocket","polling"],query:{isGuest:!0,guestId:_.current}});return P.on("connect",()=>{console.log("✅ Guest connected to chat server"),p(!0),P.emit("join-guest-room",_.current),P.emit("get-support-team")}),P.on("support-team-list",B=>{x(B.filter(ae=>ae.chatStatus==="ONLINE"))}),P.on("guest-message-received",B=>{n(ae=>[...ae,{...B,timestamp:new Date(B.timestamp)}])}),P.on("connect_error",B=>{console.error("❌ Guest connection error:",B),p(!1)}),h(P),()=>{P.close(),h(null),p(!1)}}},[t]);const C=S=>{if(S.preventDefault(),o.name&&o.email){c(B=>({...B,isInfoProvided:!0}));const P={id:Date.now(),content:`Hi ${o.name}! Thanks for reaching out. How can we help you today?`,sender:"system",timestamp:new Date,isSystem:!0};n([P])}},R=()=>{if(s.trim()&&u&&w){const S={guestId:_.current,guestInfo:o,recipientId:w._id,content:s.trim(),timestamp:new Date},P={id:Date.now(),content:s.trim(),sender:"guest",timestamp:new Date};n(B=>[...B,P]),u.emit("guest-message",S),i("")}},j=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),R())},O=S=>{b(S);const P={id:Date.now(),content:`You're now connected with ${S.fullName} (${S.role}). They'll respond shortly.`,sender:"system",timestamp:new Date,isSystem:!0};n(B=>[...B,P])};return t?a.jsxs("div",{className:"guest-chat-window",children:[a.jsxs("div",{className:"guest-chat-header",children:[a.jsxs("div",{className:"header-content",children:[a.jsx(ed,{className:"header-icon"}),a.jsxs("div",{children:[a.jsx("h3",{children:"Live Support Chat"}),a.jsx("span",{className:`status ${f?"online":"offline"}`,children:f?"Connected":"Connecting..."})]})]}),a.jsx("button",{className:"close-button",onClick:()=>e(!1),children:a.jsx(kd,{})})]}),a.jsx("div",{className:"guest-chat-body",children:o.isInfoProvided?w?a.jsxs("div",{className:"chat-messages",children:[r.map(S=>a.jsxs("div",{className:`message ${S.sender==="guest"?"guest-message":"support-message"} ${S.isSystem?"system-message":""}`,children:[a.jsx("div",{className:"message-content",children:S.content}),a.jsx("div",{className:"message-time",children:S.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},S.id)),a.jsx("div",{ref:v})]}):a.jsxs("div",{className:"support-team-selection",children:[a.jsx("h4",{children:"Choose a support team member:"}),g.length>0?a.jsx("div",{className:"support-list",children:g.map(S=>a.jsxs("div",{className:"support-member",onClick:()=>O(S),children:[a.jsxs("div",{className:"member-info",children:[a.jsx("div",{className:"member-name",children:S.fullName}),a.jsx("div",{className:"member-role",children:S.role})]}),a.jsx("div",{className:"online-indicator"})]},S._id))}):a.jsxs("div",{className:"no-support",children:[a.jsx("p",{children:"No support team members are currently online."}),a.jsx("p",{children:"Please leave your message and we'll get back to you soon!"}),a.jsx("button",{className:"continue-anyway-btn",onClick:()=>b({_id:"offline",fullName:"Support Team",role:"Support"}),children:"Continue Anyway"})]})]}):a.jsxs("div",{className:"guest-info-form",children:[a.jsx("h4",{children:"Welcome! Let's get started"}),a.jsx("p",{children:"Please provide your details to begin chatting with our support team:"}),a.jsxs("form",{onSubmit:C,children:[a.jsx("input",{type:"text",placeholder:"Your Name *",value:o.name,onChange:S=>c(P=>({...P,name:S.target.value})),required:!0}),a.jsx("input",{type:"email",placeholder:"Your Email *",value:o.email,onChange:S=>c(P=>({...P,email:S.target.value})),required:!0}),a.jsx("input",{type:"tel",placeholder:"Your Phone (Optional)",value:o.phone,onChange:S=>c(P=>({...P,phone:S.target.value}))}),a.jsx("button",{type:"submit",className:"start-chat-btn",children:"Start Chat"})]})]})}),o.isInfoProvided&&w&&a.jsxs("div",{className:"guest-chat-footer",children:[a.jsxs("div",{className:"message-input-container",children:[a.jsx("input",{type:"text",value:s,onChange:S=>i(S.target.value),onKeyPress:j,placeholder:"Type your message...",className:"message-input"}),a.jsx("button",{onClick:R,disabled:!s.trim()||!f,className:"send-button",children:a.jsx(lE,{})})]}),a.jsx("div",{className:"chat-footer-info",children:a.jsxs("small",{children:["Chatting with ",w.fullName," • ",f?"Online":"Offline"]})})]})]}):a.jsxs("div",{className:"guest-chat-button",onClick:()=>e(!0),children:[a.jsx(ed,{className:"chat-icon"}),a.jsx("span",{className:"chat-text",children:"Need Help? Chat Now!"}),a.jsx("div",{className:"chat-pulse"})]})},Ab=()=>{const{user:t}=Mt();return a.jsxs(rr,{children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-700 to-indigo-800 text-white py-12 md:py-20 flex items-center",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-4 text-center sm:text-left",children:"TrainCape CRM"}),a.jsx("p",{className:"text-lg sm:text-xl mb-6 text-center sm:text-left",children:"Manage leads and track sales in one centralized platform."}),t?a.jsxs("div",{className:"flex flex-wrap gap-4 justify-center sm:justify-start",children:[t.role==="Sales Person"&&a.jsx(yt,{to:"/sales",className:"w-full sm:w-auto px-6 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out text-center shadow-sm",children:"My Leads"}),(t.role==="Lead Person"||t.role==="Manager"||t.role==="Admin")&&a.jsx(yt,{to:"/leads",className:"w-full sm:w-auto px-6 py-3 bg-transparent border-2 border-white text-white font-semibold rounded-lg hover:bg-white dark:bg-slate-900 transition-all duration-200 ease-out text-center",children:"Manage Leads"}),a.jsx(yt,{to:"/profile",className:"w-full sm:w-auto px-6 py-3 bg-transparent border-2 border-white text-white font-semibold rounded-lg hover:bg-white dark:bg-slate-900 transition-all duration-200 ease-out text-center",children:"My Profile"})]}):a.jsxs("div",{className:"flex flex-wrap gap-4 justify-center sm:justify-start",children:[a.jsx(yt,{to:"/login",className:"w-full sm:w-auto px-6 py-3 bg-blue-800 text-white font-semibold rounded-lg shadow-md dark:shadow-black/25 hover:bg-blue-900 transition text-center",children:"Sign In"}),a.jsx(yt,{to:"/customer-signup",className:"w-full sm:w-auto px-6 py-3 bg-blue-800 text-white font-semibold rounded-lg shadow-md dark:shadow-black/25 hover:bg-blue-900 transition text-center",children:"Customer Sign Up"})]})]})})}),a.jsx("div",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out py-6",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 -mt-6 sm:-mt-8 md:-mt-10 relative z-10",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg p-4 sm:p-5 shadow-sm hover:shadow-md transition-all duration-200 ease-out",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start",children:[a.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 p-3 rounded-lg mb-3 sm:mb-0 sm:mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("h3",{className:"text-lg font-bold mb-1 text-gray-900 dark:text-white",children:"Contact Management"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Organize client data with powerful filters and segments."}),a.jsx(yt,{to:"/management-contacts",className:"text-blue-700 dark:text-blue-400 font-medium text-sm mt-2 inline-block hover:underline",children:"Access Contacts →"})]})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg p-4 sm:p-5 shadow-sm hover:shadow-md transition-all duration-200 ease-out",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start",children:[a.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 p-3 rounded-lg mb-3 sm:mb-0 sm:mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("h3",{className:"text-lg font-bold mb-1 text-gray-900 dark:text-white",children:"Sales Pipeline"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Track deals from lead to close with customizable processes."}),a.jsx(yt,{to:"/sales",className:"text-green-700 dark:text-green-400 font-medium text-sm mt-2 inline-block hover:underline",children:"View Pipeline →"})]})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg p-4 sm:p-5 shadow-sm hover:shadow-md transition-all duration-200 ease-out",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start",children:[a.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 p-3 rounded-lg mb-3 sm:mb-0 sm:mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("h3",{className:"text-lg font-bold mb-1 text-gray-900 dark:text-white",children:"Task Management"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Schedule exams and get automated reminders."}),a.jsx(yt,{to:"/tasks",className:"text-purple-700 dark:text-purple-400 font-medium text-sm mt-2 inline-block hover:underline",children:"Manage Tasks →"})]})]})}),t&&(t.role==="Manager"||t.role==="Admin")&&a.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg p-4 sm:p-5 shadow-sm hover:shadow-md transition-all duration-200 ease-out",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start",children:[a.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 p-3 rounded-lg mb-3 sm:mb-0 sm:mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("h3",{className:"text-lg font-bold mb-1 text-gray-900 dark:text-white",children:"Manager Dashboard"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Manage users, roles and system access."}),a.jsx(yt,{to:"/manager",className:"text-indigo-700 dark:text-indigo-400 font-medium text-sm mt-2 inline-block hover:underline",children:"Access Dashboard →"})]})]})})]})})}),a.jsx("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out py-8 sm:py-10",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[{label:"Leads",value:"Today",icon:"📊"},{label:"Tasks",value:"Pending",icon:"✅"},{label:"Sales",value:"This Month",icon:"💰"},{label:"Team",value:"Members",icon:"👥"}].map((e,r)=>a.jsxs(yt,{to:r===0?"sales":r===1?"/tasks":r===2?"sales-tracking":"/profile",className:"bg-gray-50 dark:bg-slate-800 rounded-lg p-3 sm:p-4 text-center hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-200 ease-out",children:[a.jsx("div",{className:"text-xl sm:text-2xl mb-1",children:e.icon}),a.jsx("div",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white",children:e.label}),a.jsx("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:e.value})]},r))})})}),a.jsx("div",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out py-8 sm:py-10",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-center text-gray-900 dark:text-white",children:["Your Role: ",(t==null?void 0:t.role)||"Not Logged In"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-4 sm:p-5 rounded-lg shadow shadow-sm dark:shadow-black/25",children:[a.jsx("h3",{className:"font-bold text-blue-700 dark:text-blue-400 mb-2 text-center sm:text-left",children:"Lead Person"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 dark:text-green-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Create and manage leads"})]}),a.jsxs("li",{className:"flex items-start text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 dark:text-green-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Assign leads to team members"})]}),a.jsxs("li",{className:"flex items-start text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 dark:text-green-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Track lead progress"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-4 sm:p-5 rounded-lg shadow shadow-sm dark:shadow-black/25",children:[a.jsx("h3",{className:"font-bold text-green-700 dark:text-green-400 mb-2 text-center sm:text-left",children:"Sales Person"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 dark:text-green-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Access assigned leads"})]}),a.jsxs("li",{className:"flex items-start text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 dark:text-green-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Update lead status"})]}),a.jsxs("li",{className:"flex items-start text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 dark:text-green-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Schedule and track exams"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-4 sm:p-5 rounded-lg shadow shadow-sm dark:shadow-black/25",children:[a.jsx("h3",{className:"font-bold text-purple-700 dark:text-purple-400 mb-2 text-center sm:text-left",children:"Manager/Admin"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 dark:text-green-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Full system access"})]}),a.jsxs("li",{className:"flex items-start text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 dark:text-green-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"View all leads and sales"})]}),a.jsxs("li",{className:"flex items-start text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("svg",{className:"h-4 w-4 text-green-500 dark:text-green-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Manage team and generate reports"})]}),t&&(t.role==="Manager"||t.role==="Admin")&&a.jsx("li",{className:"mt-4",children:a.jsx(yt,{to:"/manager",className:"inline-block w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded text-center transition",children:"Access Manager Dashboard"})})]})]})]})]})}),a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-8 sm:py-10",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:t?a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl sm:text-2xl font-bold mb-3 text-white",children:["Welcome, ",t.fullName]}),a.jsx("p",{className:"mb-4 text-sm sm:text-base text-white",children:"Access your dashboard to manage your tasks."}),a.jsx(yt,{to:t.role==="Customer"?"/customer":t.role==="Sales Person"?"/sales":"/leads",className:"px-6 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 text-blue-700 dark:text-blue-400 font-semibold rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-slate-800 transition-all duration-200 ease-out inline-block w-full sm:w-auto",children:"Go to Dashboard"})]}):a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-white",children:"Sign in to access your dashboard"}),a.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[a.jsx(yt,{to:"/login",className:"px-6 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 text-blue-700 dark:text-blue-400 font-semibold rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-slate-800 transition-all duration-200 ease-out inline-block",children:"Login"}),a.jsx(yt,{to:"/customer-signup",className:"px-6 py-3 bg-blue-800 text-white font-semibold rounded-lg shadow hover:bg-blue-900 transition inline-block",children:"Customer Sign Up"})]})]})})}),!t&&a.jsx(fA,{})]})},mA=()=>{const t=Fi(),e=zl(),{login:r,error:n}=Mt(),[s,i]=A.useState({email:"",password:""}),[o,c]=A.useState(""),[u,h]=A.useState(""),[f,p]=A.useState(!1),[g,x]=A.useState(!1);A.useEffect(()=>{var _;(_=e.state)!=null&&_.message&&(h(e.state.message),e.state.email&&i(T=>({...T,email:e.state.email})))},[e]);const w=_=>{i({...s,[_.target.name]:_.target.value})},b=()=>{x(!g)},v=async _=>{var T,C;_.preventDefault(),c(""),h("");try{p(!0);const R={email:s.email,password:s.password},j=await r(R);switch(console.log("Login successful. Token:",j.token?"Present":"Not present"),setTimeout(()=>{const O=localStorage.getItem("token");console.log("Stored token check:",O?"Present":"Not present")},500),j.user.role){case"Lead Person":case"Manager":case"Admin":t("/leads");break;case"Sales Person":t("/sales");break;case"Customer":t("/customer");break;default:t("/")}}catch(R){c(((C=(T=R.response)==null?void 0:T.data)==null?void 0:C.message)||"Invalid credentials. Please try again.")}finally{p(!1)}};return a.jsx(rr,{children:a.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-slate-800",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-8 rounded-lg shadow-md dark:shadow-black/25",children:[a.jsx("div",{children:a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Sign in to your account"})}),u&&a.jsx("div",{className:"p-3 bg-green-50 text-green-700 border border-green-200 rounded-md",children:u}),(o||n)&&a.jsx("div",{className:"p-3 bg-red-50 text-red-700 border border-red-200 rounded-md",children:o||n}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[a.jsxs("div",{className:"rounded-md -space-y-px",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:s.email,onChange:w})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",name:"password",type:g?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm pr-10",placeholder:"Password",value:s.password,onChange:w}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm text-gray-500 dark:text-gray-200 hover:text-gray-800",onClick:b,children:g?a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),a.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),a.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 dark:focus:ring-blue-400 border-gray-300 dark:border-slate-600 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900 dark:text-white",children:"Remember me"})]}),a.jsx("div",{className:"text-sm",children:a.jsx(yt,{to:"/forgot-password",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:"Forgot your password?"})})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:f,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent rounded-md text-white ${f?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition`,children:f?"Signing in...":"Sign in"})})]})]})})})},pA=()=>{const t=Fi(),{register:e,error:r}=Mt(),[n,s]=A.useState({fullName:"",email:"",password:"",confirmPassword:"",role:"Customer"}),[i,o]=A.useState(""),[c,u]=A.useState(!1),h=p=>{s({...n,[p.target.name]:p.target.value})},f=async p=>{var g,x;if(p.preventDefault(),o(""),n.password!==n.confirmPassword){o("Passwords do not match");return}if(n.password.length<6){o("Password must be at least 6 characters");return}try{u(!0);const w={fullName:n.fullName,email:n.email,password:n.password,role:"Customer"};await e(w),t("/login",{state:{message:"Welcome! Your customer account has been created successfully. Please login to start chatting with our team.",email:n.email}})}catch(w){o(((x=(g=w.response)==null?void 0:g.data)==null?void 0:x.message)||"Registration failed. Please try again.")}finally{u(!1)}};return a.jsx(rr,{children:a.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-slate-800",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-8 rounded-lg shadow-md dark:shadow-black/25",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create Customer Account"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Join our platform to chat with our team and get support"}),a.jsxs("p",{className:"mt-1 text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",a.jsx(yt,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in here"})]})]}),(i||r)&&a.jsx("div",{className:"p-3 bg-red-50 text-red-700 border border-red-200 rounded-md",children:i||r}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Full Name"}),a.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your full name",value:n.fullName,onChange:h})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your email address",value:n.email,onChange:h})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Create a password (min 6 characters)",value:n.password,onChange:h,minLength:6})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Confirm Password"}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm your password",value:n.confirmPassword,onChange:h,minLength:6})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:c,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent rounded-md text-white ${c?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition`,children:c?"Creating Account...":"Create Customer Account"})}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"By creating an account, you agree to our terms of service and can chat with our support team."})})]})]})})})},gA=({lead:t=null,onSuccess:e})=>{Fi();const{user:r}=Mt(),[n,s]=A.useState([]),[i,o]=A.useState([]),[c,u]=A.useState(!1),[h,f]=A.useState(null),[p,g]=A.useState({name:"",email:"",course:"",countryCode:"",phone:"",country:"",pseudoId:"",company:"",client:"",status:"Introduction",source:"",sourceLink:"",assignedTo:"",leadPerson:"",remarks:"",feedback:"",customCreatedAt:new Date().toISOString().split("T")[0]});A.useEffect(()=>{(async()=>{try{console.log("Fetching users for dropdowns");const v=await Zt.getUsers("Sales Person");console.log("Sales persons fetched:",v.data.data),s(v.data.data||[]);const _=await Zt.getUsers("Lead Person");console.log("Lead persons fetched:",_.data.data),o(_.data.data||[])}catch(v){console.error("Failed to fetch users",v)}})()},[]),A.useEffect(()=>{var b,v,_,T;if(console.log("========= FORM DATA INITIALIZATION ========="),console.log("Current user:",r),console.log("User ID formats:",{_id:r==null?void 0:r._id,id:r==null?void 0:r.id}),console.log("Lead data:",t),t){console.log("Editing existing lead, populating form with lead data");const C=t.createdAt?new Date(t.createdAt).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];let R=t.countryCode||t.CODE||"";R=R.replace(/^\+/,"");const j={name:t.name||t.NAME||"",email:t.email||t["E-MAIL"]||"",course:t.course||t.COURSE||"",countryCode:R,phone:t.phone||t.NUMBER||"",country:t.country||t.COUNTRY||"",pseudoId:t.pseudoId||t["PSUDO ID"]||"",company:t.company||t.COMPANY||"",client:t.client||t["CLIENT REMARK"]||"",status:t.status||"Introduction",source:t.source||t.SOURSE||"",sourceLink:t.sourceLink||t["SOURCE LINK"]||"",assignedTo:((b=t.assignedTo)==null?void 0:b._id)||((v=t["SALE PERSON"])==null?void 0:v._id)||t["SALE PERSON"]||"",leadPerson:((_=t.leadPerson)==null?void 0:_._id)||((T=t["LEAD PERSON"])==null?void 0:T._id)||t["LEAD PERSON"]||"",remarks:t.remarks||"",feedback:t.feedback||t.FEEDBACK||"",customCreatedAt:C};g(j),console.log("Populated form data:",j)}else{console.log("Creating new lead, setting default values");const C=((r==null?void 0:r._id)||(r==null?void 0:r.id)||"").toString();console.log("Using user ID for defaults:",C);const R=new Date().toISOString().split("T")[0],j={name:"",email:"",course:"",countryCode:"1",phone:"",country:"",pseudoId:"",company:"",client:"",status:"Introduction",source:"",sourceLink:"",assignedTo:C,leadPerson:(r==null?void 0:r.role)==="Lead Person"?C:"",remarks:"",feedback:"",customCreatedAt:R};g(j),console.log("Default form data:",j)}console.log("==========================================")},[t,r]);const x=b=>{const{name:v,value:_}=b.target;console.log(`Field changed: ${v}, value: ${_}`),g(T=>({...T,[v]:_}))},w=async b=>{var v,_,T,C,R;b.preventDefault(),u(!0),f(null),console.log("============= LEAD FORM SUBMIT ============="),console.log("Form submission started"),console.log("Is updating existing lead:",!!t),console.log("Lead ID:",t==null?void 0:t._id),console.log("Form data:",p);try{let j;const O={NAME:p.name,"E-MAIL":p.email||"",COURSE:p.course,CODE:p.countryCode,NUMBER:p.phone,COUNTRY:p.country,"PSUDO ID":p.pseudoId||"","CLIENT REMARK":p.client||"",status:p.status||"Introduction",SOURSE:p.source||"","SOURCE LINK":p.sourceLink||"","SALE PERSON":p.assignedTo,leadPerson:p.leadPerson||"","LEAD PERSON":p.leadPerson||"",feedback:p.feedback||"",FEEDBACK:p.feedback||"",...t?{}:{DATE:p.customCreatedAt?new Date(p.customCreatedAt).toISOString():new Date().toISOString(),createdAt:p.customCreatedAt?new Date(p.customCreatedAt).toISOString():new Date().toISOString()}},P=["name","course","phone","country","assignedTo"].filter(B=>!p[B]||p[B].trim()==="");if(P.length>0){console.error("Missing required fields:",P),f(`Missing required fields: ${P.join(", ")}`),u(!1);return}if(p.email&&p.email.trim()!==""){if(!p.email.includes("@")){console.error("Invalid email format:",p.email),f("Please enter a valid email address or leave it blank"),u(!1);return}}else O.email="",O["E-MAIL"]="",console.log("Email field is blank, setting to empty string");console.log("Final data being sent to API:",O),t?(console.log("Calling API to update existing lead:",t._id),j=await mn.update(t._id,O),console.log("Update API response received:",j)):(console.log("Calling API to create new lead"),j=await mn.create(O),console.log("Create API response received:",j)),console.log("Full API response data:",j.data),console.log("API response success:",(v=j.data)==null?void 0:v.success),console.log("API response lead data:",(_=j.data)==null?void 0:_.data),j.data&&j.data.success?(console.log("Lead saved successfully, calling onSuccess callback"),console.log("Lead data being passed to onSuccess:",j.data.data),e(j.data.data),console.log("onSuccess callback completed")):(console.error("API returned success: false",j),f("Failed to save lead. Please check your input and try again."))}catch(j){console.error("Error saving lead:",j),console.error("Error response:",(T=j.response)==null?void 0:T.data),f(((R=(C=j.response)==null?void 0:C.data)==null?void 0:R.message)||"Failed to save lead. Please try again later.")}finally{u(!1),console.log("============= LEAD FORM SUBMIT END =============")}};return a.jsxs("form",{onSubmit:w,className:"space-y-8",children:[h&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:h}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:["Full Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:p.name,onChange:x,required:!0,className:"mt-1 block w-full border border-gray-300 dark:border-slate-600 rounded-md shadow-sm dark:shadow-black/25 py-2 px-3 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Email"}),a.jsx("input",{type:"email",name:"email",id:"email",value:p.email,onChange:x,className:"mt-1 block w-full border border-gray-300 dark:border-slate-600 rounded-md shadow-sm dark:shadow-black/25 py-2 px-3 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:["Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm dark:shadow-black/25",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("input",{type:"text",name:"countryCode",id:"countryCode",value:p.countryCode,onChange:x,placeholder:"Code",className:"block w-16 border border-gray-300 dark:border-slate-600 rounded-md rounded-r-none shadow-sm dark:shadow-black/25 py-2 px-3 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500"})}),a.jsx("input",{type:"text",name:"phone",id:"phone",value:p.phone,onChange:x,required:!0,className:"flex-1 block w-full border border-gray-300 dark:border-slate-600 rounded-md rounded-l-none shadow-sm dark:shadow-black/25 py-2 px-3 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:["Country ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"country",id:"country",value:p.country,onChange:x,required:!0,className:"mt-1 block w-full border border-gray-300 dark:border-slate-600 rounded-md shadow-sm dark:shadow-black/25 py-2 px-3 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Course Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:["Course ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"course",id:"course",value:p.course,onChange:x,required:!0,className:"mt-1 block w-full border border-gray-300 dark:border-slate-600 rounded-md shadow-sm dark:shadow-black/25 py-2 px-3 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Source"}),a.jsx("input",{type:"text",name:"source",id:"source",value:p.source,onChange:x,className:"mt-1 block w-full border border-gray-300 dark:border-slate-600 rounded-md shadow-sm dark:shadow-black/25 py-2 px-3 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sourceLink",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Source Link"}),a.jsx("input",{type:"text",name:"sourceLink",id:"sourceLink",value:p.sourceLink,onChange:x,className:"mt-1 block w-full border border-gray-300 dark:border-slate-600 rounded-md shadow-sm dark:shadow-black/25 py-2 px-3 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"pseudoId",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Pseudo ID"}),a.jsx("input",{type:"text",name:"pseudoId",id:"pseudoId",value:p.pseudoId,onChange:x,className:"mt-1 block w-full border border-gray-300 dark:border-slate-600 rounded-md shadow-sm dark:shadow-black/25 py-2 px-3 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Assignment & Status"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"assignedTo",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:["Assigned Sales Person ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{id:"assignedTo",name:"assignedTo",value:p.assignedTo,onChange:x,required:!0,className:"mt-1 block w-full border border-gray-300 dark:border-slate-600 rounded-md shadow-sm dark:shadow-black/25 py-2 px-3 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select Sales Person"}),n.map(b=>a.jsx("option",{value:b._id,children:b.fullName||b.email},b._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"leadPerson",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Lead Person"}),a.jsxs("select",{id:"leadPerson",name:"leadPerson",value:p.leadPerson,onChange:x,className:"mt-1 block w-full border border-gray-300 dark:border-slate-600 rounded-md shadow-sm dark:shadow-black/25 py-2 px-3 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select Lead Person"}),i.map(b=>a.jsx("option",{value:b._id,children:b.fullName||b.email},b._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Status"}),a.jsxs("select",{id:"status",name:"status",value:p.status,onChange:x,className:"mt-1 block w-full border border-gray-300 dark:border-slate-600 rounded-md shadow-sm dark:shadow-black/25 py-2 px-3 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500",children:[a.jsx("option",{value:"Introduction",children:"Introduction"}),a.jsx("option",{value:"Acknowledgement",children:"Acknowledgement"}),a.jsx("option",{value:"Question",children:"Question"}),a.jsx("option",{value:"Future Promise",children:"Future Promise"}),a.jsx("option",{value:"Payment",children:"Payment"}),a.jsx("option",{value:"Analysis",children:"Analysis"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"feedback",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Feedback"}),a.jsxs("select",{id:"feedback",name:"feedback",value:p.feedback,onChange:x,className:"mt-1 block w-full border border-gray-300 dark:border-slate-600 rounded-md shadow-sm dark:shadow-black/25 py-2 px-3 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select Feedback"}),a.jsx("option",{value:"Pending",children:"Pending"}),a.jsx("option",{value:"Converted",children:"Converted"}),a.jsx("option",{value:"Not Interested",children:"Not Interested"}),a.jsx("option",{value:"Follow Up",children:"Follow Up"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Additional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"client",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Client Remarks"}),a.jsx("textarea",{id:"client",name:"client",rows:"3",value:p.client,onChange:x,className:"mt-1 block w-full border border-gray-300 dark:border-slate-600 rounded-md shadow-sm dark:shadow-black/25 py-2 px-3 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customCreatedAt",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Date Added"}),a.jsx("input",{type:"date",name:"customCreatedAt",id:"customCreatedAt",value:p.customCreatedAt,onChange:x,className:"mt-1 block w-full border border-gray-300 dark:border-slate-600 rounded-md shadow-sm dark:shadow-black/25 py-2 px-3 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500"})]})]})]}),a.jsx("div",{className:"pt-5 flex justify-end",children:a.jsx("button",{type:"submit",disabled:c,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm dark:shadow-black/25 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-blue-400",children:c?"Saving...":t?"Update Lead":"Add Lead"})})]})};var K0={exports:{}},xA=K0.exports,Pb;function yA(){return Pb||(Pb=1,function(t,e){(function(r,n){t.exports=n()})(xA,function(){return function(r){function n(i){if(s[i])return s[i].exports;var o=s[i]={exports:{},id:i,loaded:!1};return r[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var s={};return n.m=r,n.c=s,n.p="dist/",n(0)}([function(r,n,s){function i(re){return re&&re.__esModule?re:{default:re}}var o=Object.assign||function(re){for(var L=1;L<arguments.length;L++){var ee=arguments[L];for(var Q in ee)Object.prototype.hasOwnProperty.call(ee,Q)&&(re[Q]=ee[Q])}return re},c=s(1),u=(i(c),s(6)),h=i(u),f=s(7),p=i(f),g=s(8),x=i(g),w=s(9),b=i(w),v=s(10),_=i(v),T=s(11),C=i(T),R=s(14),j=i(R),O=[],S=!1,P={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},B=function(){var re=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(re&&(S=!0),S)return O=(0,C.default)(O,P),(0,_.default)(O,P.once),O},ae=function(){O=(0,j.default)(),B()},q=function(){O.forEach(function(re,L){re.node.removeAttribute("data-aos"),re.node.removeAttribute("data-aos-easing"),re.node.removeAttribute("data-aos-duration"),re.node.removeAttribute("data-aos-delay")})},H=function(re){return re===!0||re==="mobile"&&b.default.mobile()||re==="phone"&&b.default.phone()||re==="tablet"&&b.default.tablet()||typeof re=="function"&&re()===!0},ie=function(re){P=o(P,re),O=(0,j.default)();var L=document.all&&!window.atob;return H(P.disable)||L?q():(P.disableMutationObserver||x.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),P.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",P.easing),document.querySelector("body").setAttribute("data-aos-duration",P.duration),document.querySelector("body").setAttribute("data-aos-delay",P.delay),P.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?B(!0):P.startEvent==="load"?window.addEventListener(P.startEvent,function(){B(!0)}):document.addEventListener(P.startEvent,function(){B(!0)}),window.addEventListener("resize",(0,p.default)(B,P.debounceDelay,!0)),window.addEventListener("orientationchange",(0,p.default)(B,P.debounceDelay,!0)),window.addEventListener("scroll",(0,h.default)(function(){(0,_.default)(O,P.once)},P.throttleDelay)),P.disableMutationObserver||x.default.ready("[data-aos]",ae),O)};r.exports={init:ie,refresh:B,refreshHard:ae}},function(r,n){},,,,,function(r,n){(function(s){function i(H,ie,re){function L(He){var xe=K,Ae=E;return K=E=void 0,Ee=He,ne=H.apply(Ae,xe)}function ee(He){return Ee=He,ue=setTimeout(U,ie),Ke?L(He):ne}function Q(He){var xe=He-be,Ae=He-Ee,Te=ie-xe;return We?ae(Te,ce-Ae):Te}function te(He){var xe=He-be,Ae=He-Ee;return be===void 0||xe>=ie||xe<0||We&&Ae>=ce}function U(){var He=q();return te(He)?Z(He):void(ue=setTimeout(U,Q(He)))}function Z(He){return ue=void 0,Xe&&K?L(He):(K=E=void 0,ne)}function X(){ue!==void 0&&clearTimeout(ue),Ee=0,K=be=E=ue=void 0}function M(){return ue===void 0?ne:Z(q())}function W(){var He=q(),xe=te(He);if(K=arguments,E=this,be=He,xe){if(ue===void 0)return ee(be);if(We)return ue=setTimeout(U,ie),L(be)}return ue===void 0&&(ue=setTimeout(U,ie)),ne}var K,E,ce,ne,ue,be,Ee=0,Ke=!1,We=!1,Xe=!0;if(typeof H!="function")throw new TypeError(g);return ie=f(ie)||0,c(re)&&(Ke=!!re.leading,We="maxWait"in re,ce=We?B(f(re.maxWait)||0,ie):ce,Xe="trailing"in re?!!re.trailing:Xe),W.cancel=X,W.flush=M,W}function o(H,ie,re){var L=!0,ee=!0;if(typeof H!="function")throw new TypeError(g);return c(re)&&(L="leading"in re?!!re.leading:L,ee="trailing"in re?!!re.trailing:ee),i(H,ie,{leading:L,maxWait:ie,trailing:ee})}function c(H){var ie=typeof H>"u"?"undefined":p(H);return!!H&&(ie=="object"||ie=="function")}function u(H){return!!H&&(typeof H>"u"?"undefined":p(H))=="object"}function h(H){return(typeof H>"u"?"undefined":p(H))=="symbol"||u(H)&&P.call(H)==w}function f(H){if(typeof H=="number")return H;if(h(H))return x;if(c(H)){var ie=typeof H.valueOf=="function"?H.valueOf():H;H=c(ie)?ie+"":ie}if(typeof H!="string")return H===0?H:+H;H=H.replace(b,"");var re=_.test(H);return re||T.test(H)?C(H.slice(2),re?2:8):v.test(H)?x:+H}var p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},g="Expected a function",x=NaN,w="[object Symbol]",b=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,T=/^0o[0-7]+$/i,C=parseInt,R=(typeof s>"u"?"undefined":p(s))=="object"&&s&&s.Object===Object&&s,j=(typeof self>"u"?"undefined":p(self))=="object"&&self&&self.Object===Object&&self,O=R||j||Function("return this")(),S=Object.prototype,P=S.toString,B=Math.max,ae=Math.min,q=function(){return O.Date.now()};r.exports=o}).call(n,function(){return this}())},function(r,n){(function(s){function i(q,H,ie){function re(Xe){var He=W,xe=K;return W=K=void 0,be=Xe,ce=q.apply(xe,He)}function L(Xe){return be=Xe,ne=setTimeout(te,H),Ee?re(Xe):ce}function ee(Xe){var He=Xe-ue,xe=Xe-be,Ae=H-He;return Ke?B(Ae,E-xe):Ae}function Q(Xe){var He=Xe-ue,xe=Xe-be;return ue===void 0||He>=H||He<0||Ke&&xe>=E}function te(){var Xe=ae();return Q(Xe)?U(Xe):void(ne=setTimeout(te,ee(Xe)))}function U(Xe){return ne=void 0,We&&W?re(Xe):(W=K=void 0,ce)}function Z(){ne!==void 0&&clearTimeout(ne),be=0,W=ue=K=ne=void 0}function X(){return ne===void 0?ce:U(ae())}function M(){var Xe=ae(),He=Q(Xe);if(W=arguments,K=this,ue=Xe,He){if(ne===void 0)return L(ue);if(Ke)return ne=setTimeout(te,H),re(ue)}return ne===void 0&&(ne=setTimeout(te,H)),ce}var W,K,E,ce,ne,ue,be=0,Ee=!1,Ke=!1,We=!0;if(typeof q!="function")throw new TypeError(p);return H=h(H)||0,o(ie)&&(Ee=!!ie.leading,Ke="maxWait"in ie,E=Ke?P(h(ie.maxWait)||0,H):E,We="trailing"in ie?!!ie.trailing:We),M.cancel=Z,M.flush=X,M}function o(q){var H=typeof q>"u"?"undefined":f(q);return!!q&&(H=="object"||H=="function")}function c(q){return!!q&&(typeof q>"u"?"undefined":f(q))=="object"}function u(q){return(typeof q>"u"?"undefined":f(q))=="symbol"||c(q)&&S.call(q)==x}function h(q){if(typeof q=="number")return q;if(u(q))return g;if(o(q)){var H=typeof q.valueOf=="function"?q.valueOf():q;q=o(H)?H+"":H}if(typeof q!="string")return q===0?q:+q;q=q.replace(w,"");var ie=v.test(q);return ie||_.test(q)?T(q.slice(2),ie?2:8):b.test(q)?g:+q}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},p="Expected a function",g=NaN,x="[object Symbol]",w=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,_=/^0o[0-7]+$/i,T=parseInt,C=(typeof s>"u"?"undefined":f(s))=="object"&&s&&s.Object===Object&&s,R=(typeof self>"u"?"undefined":f(self))=="object"&&self&&self.Object===Object&&self,j=C||R||Function("return this")(),O=Object.prototype,S=O.toString,P=Math.max,B=Math.min,ae=function(){return j.Date.now()};r.exports=i}).call(n,function(){return this}())},function(r,n){function s(f){var p=void 0,g=void 0;for(p=0;p<f.length;p+=1)if(g=f[p],g.dataset&&g.dataset.aos||g.children&&s(g.children))return!0;return!1}function i(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!i()}function c(f,p){var g=window.document,x=i(),w=new x(u);h=p,w.observe(g.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function u(f){f&&f.forEach(function(p){var g=Array.prototype.slice.call(p.addedNodes),x=Array.prototype.slice.call(p.removedNodes),w=g.concat(x);if(s(w))return h()})}Object.defineProperty(n,"__esModule",{value:!0});var h=function(){};n.default={isSupported:o,ready:c}},function(r,n){function s(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(x,w){for(var b=0;b<w.length;b++){var v=w[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(x,v.key,v)}}return function(x,w,b){return w&&g(x.prototype,w),b&&g(x,b),x}}(),c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,f=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,p=function(){function g(){s(this,g)}return o(g,[{key:"phone",value:function(){var x=i();return!(!c.test(x)&&!u.test(x.substr(0,4)))}},{key:"mobile",value:function(){var x=i();return!(!h.test(x)&&!f.test(x.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),g}();n.default=new p},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var s=function(o,c,u){var h=o.node.getAttribute("data-aos-once");c>o.position?o.node.classList.add("aos-animate"):typeof h<"u"&&(h==="false"||!u&&h!=="true")&&o.node.classList.remove("aos-animate")},i=function(o,c){var u=window.pageYOffset,h=window.innerHeight;o.forEach(function(f,p){s(f,h+u,c)})};n.default=i},function(r,n,s){function i(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(n,"__esModule",{value:!0});var o=s(12),c=i(o),u=function(h,f){return h.forEach(function(p,g){p.node.classList.add("aos-init"),p.position=(0,c.default)(p.node,f.offset)}),h};n.default=u},function(r,n,s){function i(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(n,"__esModule",{value:!0});var o=s(13),c=i(o),u=function(h,f){var p=0,g=0,x=window.innerHeight,w={offset:h.getAttribute("data-aos-offset"),anchor:h.getAttribute("data-aos-anchor"),anchorPlacement:h.getAttribute("data-aos-anchor-placement")};switch(w.offset&&!isNaN(w.offset)&&(g=parseInt(w.offset)),w.anchor&&document.querySelectorAll(w.anchor)&&(h=document.querySelectorAll(w.anchor)[0]),p=(0,c.default)(h).top,w.anchorPlacement){case"top-bottom":break;case"center-bottom":p+=h.offsetHeight/2;break;case"bottom-bottom":p+=h.offsetHeight;break;case"top-center":p+=x/2;break;case"bottom-center":p+=x/2+h.offsetHeight;break;case"center-center":p+=x/2+h.offsetHeight/2;break;case"top-top":p+=x;break;case"bottom-top":p+=h.offsetHeight+x;break;case"center-top":p+=h.offsetHeight/2+x}return w.anchorPlacement||w.offset||isNaN(f)||(g=f),p+g};n.default=u},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var s=function(i){for(var o=0,c=0;i&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop);)o+=i.offsetLeft-(i.tagName!="BODY"?i.scrollLeft:0),c+=i.offsetTop-(i.tagName!="BODY"?i.scrollTop:0),i=i.offsetParent;return{top:c,left:o}};n.default=s},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var s=function(i){return i=i||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(i,function(o){return{node:o}})};n.default=s}])})}(K0)),K0.exports}var vA=yA();const bA=Kg(vA);let wA={data:""},kA=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||wA,NA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,SA=/\/\*[^]*?\*\/|  +/g,Db=/\n+/g,mi=(t,e)=>{let r="",n="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?mi(o,i):i+"{"+mi(o,i[1]=="k"?"":e)+"}":typeof o=="object"?n+=mi(o,e?e.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,c):c?c+" "+u:u)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=mi.p?mi.p(i,o):i+":"+o+";")}return r+(e&&s?e+"{"+s+"}":s)+n},ja={},fN=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+fN(t[r]);return e}return t},_A=(t,e,r,n,s)=>{let i=fN(t),o=ja[i]||(ja[i]=(u=>{let h=0,f=11;for(;h<u.length;)f=101*f+u.charCodeAt(h++)>>>0;return"go"+f})(i));if(!ja[o]){let u=i!==t?t:(h=>{let f,p,g=[{}];for(;f=NA.exec(h.replace(SA,""));)f[4]?g.shift():f[3]?(p=f[3].replace(Db," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][f[1]]=f[2].replace(Db," ").trim();return g[0]})(t);ja[o]=mi(s?{["@keyframes "+o]:u}:u,r?"":"."+o)}let c=r&&ja.g?ja.g:null;return r&&(ja.g=ja[o]),((u,h,f,p)=>{p?h.data=h.data.replace(p,u):h.data.indexOf(u)===-1&&(h.data=f?u+h.data:h.data+u)})(ja[o],e,n,c),o},jA=(t,e,r)=>t.reduce((n,s,i)=>{let o=e[i];if(o&&o.call){let c=o(r),u=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=u?"."+u:c&&typeof c=="object"?c.props?"":mi(c,""):c===!1?"":c}return n+s+(o??"")},"");function Qh(t){let e=this||{},r=t.call?t(e.p):t;return _A(r.unshift?r.raw?jA(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,kA(e.target),e.g,e.o,e.k)}let mN,og,lg;Qh.bind({g:1});let Fa=Qh.bind({k:1});function CA(t,e,r,n){mi.p=e,mN=t,og=r,lg=n}function Oi(t,e){let r=this||{};return function(){let n=arguments;function s(i,o){let c=Object.assign({},i),u=c.className||s.className;r.p=Object.assign({theme:og&&og()},c),r.o=/ *go\d+/.test(u),c.className=Qh.apply(r,n)+(u?" "+u:"");let h=t;return t[0]&&(h=c.as||t,delete c.as),lg&&h[0]&&lg(c),mN(h,c)}return s}}var TA=t=>typeof t=="function",lh=(t,e)=>TA(t)?t(e):t,EA=(()=>{let t=0;return()=>(++t).toString()})(),pN=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),AA=20,gN=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,AA)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:r}=e;return gN(t,{type:t.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},G0=[],fo={toasts:[],pausedAt:void 0},Po=t=>{fo=gN(fo,t),G0.forEach(e=>{e(fo)})},PA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},DA=(t={})=>{let[e,r]=A.useState(fo),n=A.useRef(fo);A.useEffect(()=>(n.current!==fo&&r(fo),G0.push(r),()=>{let i=G0.indexOf(r);i>-1&&G0.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,c,u;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((c=t[i.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||PA[i.type],style:{...t.style,...(u=t[i.type])==null?void 0:u.style,...i.style}}});return{...e,toasts:s}},RA=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||EA()}),Gd=t=>(e,r)=>{let n=RA(e,t,r);return Po({type:2,toast:n}),n.id},at=(t,e)=>Gd("blank")(t,e);at.error=Gd("error");at.success=Gd("success");at.loading=Gd("loading");at.custom=Gd("custom");at.dismiss=t=>{Po({type:3,toastId:t})};at.remove=t=>Po({type:4,toastId:t});at.promise=(t,e,r)=>{let n=at.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?lh(e.success,s):void 0;return i?at.success(i,{id:n,...r,...r==null?void 0:r.success}):at.dismiss(n),s}).catch(s=>{let i=e.error?lh(e.error,s):void 0;i?at.error(i,{id:n,...r,...r==null?void 0:r.error}):at.dismiss(n)}),t};var FA=(t,e)=>{Po({type:1,toast:{id:t,height:e}})},OA=()=>{Po({type:5,time:Date.now()})},rd=new Map,MA=1e3,LA=(t,e=MA)=>{if(rd.has(t))return;let r=setTimeout(()=>{rd.delete(t),Po({type:4,toastId:t})},e);rd.set(t,r)},IA=t=>{let{toasts:e,pausedAt:r}=DA(t);A.useEffect(()=>{if(r)return;let i=Date.now(),o=e.map(c=>{if(c.duration===1/0)return;let u=(c.duration||0)+c.pauseDuration-(i-c.createdAt);if(u<0){c.visible&&at.dismiss(c.id);return}return setTimeout(()=>at.dismiss(c.id),u)});return()=>{o.forEach(c=>c&&clearTimeout(c))}},[e,r]);let n=A.useCallback(()=>{r&&Po({type:6,time:Date.now()})},[r]),s=A.useCallback((i,o)=>{let{reverseOrder:c=!1,gutter:u=8,defaultPosition:h}=o||{},f=e.filter(x=>(x.position||h)===(i.position||h)&&x.height),p=f.findIndex(x=>x.id===i.id),g=f.filter((x,w)=>w<p&&x.visible).length;return f.filter(x=>x.visible).slice(...c?[g+1]:[0,g]).reduce((x,w)=>x+(w.height||0)+u,0)},[e]);return A.useEffect(()=>{e.forEach(i=>{if(i.dismissed)LA(i.id,i.removeDelay);else{let o=rd.get(i.id);o&&(clearTimeout(o),rd.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:FA,startPause:OA,endPause:n,calculateOffset:s}}},BA=Fa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,UA=Fa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zA=Fa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,VA=Oi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${UA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${zA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$A=Fa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,HA=Oi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${$A} 1s linear infinite;
`,WA=Fa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,YA=Fa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,KA=Oi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${YA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,GA=Oi("div")`
  position: absolute;
`,qA=Oi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,XA=Fa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JA=Oi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${XA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,QA=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?A.createElement(JA,null,e):e:r==="blank"?null:A.createElement(qA,null,A.createElement(HA,{...n}),r!=="loading"&&A.createElement(GA,null,r==="error"?A.createElement(VA,{...n}):A.createElement(KA,{...n})))},ZA=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,e8=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,t8="0%{opacity:0;} 100%{opacity:1;}",r8="0%{opacity:1;} 100%{opacity:0;}",n8=Oi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,s8=Oi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,a8=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=pN()?[t8,r8]:[ZA(r),e8(r)];return{animation:e?`${Fa(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Fa(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},i8=A.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?a8(t.position||e||"top-center",t.visible):{opacity:0},i=A.createElement(QA,{toast:t}),o=A.createElement(s8,{...t.ariaProps},lh(t.message,t));return A.createElement(n8,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:i,message:o}):A.createElement(A.Fragment,null,i,o))});CA(A.createElement);var o8=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let i=A.useCallback(o=>{if(o){let c=()=>{let u=o.getBoundingClientRect().height;n(t,u)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return A.createElement("div",{ref:i,className:e,style:r},s)},l8=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:pN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},c8=Qh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,h0=16,d8=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:c,handlers:u}=IA(r);return A.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:h0,left:h0,right:h0,bottom:h0,pointerEvents:"none",...i},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(h=>{let f=h.position||e,p=u.calculateOffset(h,{reverseOrder:t,gutter:n,defaultPosition:e}),g=l8(f,p);return A.createElement(o8,{id:h.id,key:h.id,onHeightUpdate:u.updateHeight,className:h.visible?c8:"",style:g},h.type==="custom"?lh(h.message,h):s?s(h):A.createElement(i8,{toast:h,position:f}))}))},Qt=at;const u8=()=>{var ie,re;const{user:t}=Mt(),[e,r]=A.useState([]),[n,s]=A.useState([]),[i,o]=A.useState(!0),[c,u]=A.useState(null),[h,f]=A.useState(!1),[p,g]=A.useState(null),x=new Date,[w,b]=A.useState(x.getMonth()+1),[v,_]=A.useState(x.getFullYear()),[T,C]=A.useState(!0),R=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],j=new Date().getFullYear(),O=Array.from({length:7},(L,ee)=>j+1-ee),S=A.useCallback(async()=>{try{o(!0),console.log("Current user:",t),console.log("Fetching ALL leads without date filters");const L=await mn.getAll({});if(console.log("API Response:",L.data),L.data&&L.data.data&&L.data.data.length>0){const ee=L.data.data[0];console.log("First lead object structure:",ee),console.log("All field names:",Object.keys(ee)),console.log("Name value:",ee.name),console.log("NAME value:",ee.NAME)}r(L.data.data||[]),s(L.data.data||[]),console.log("Leads set in state:",L.data.data),u(null)}catch(L){console.error("Error fetching leads:",L),u("Failed to load leads. Please try again."),r([]),s([])}finally{o(!1)}},[t]);A.useEffect(()=>{console.log("Component mounted, fetching all leads"),S()},[S]),A.useEffect(()=>{if(e.length===0)return;console.log("Filtering leads for:",{filterMonth:w,filterYear:v,showCurrentMonth:T});let L=e;if(T){const ee=new Date,Q=ee.getMonth()+1,te=ee.getFullYear();L=e.filter(U=>{const Z=new Date(U.createdAt),X=Z.getMonth()+1,M=Z.getFullYear();return X===Q&&M===te})}else L=e.filter(ee=>{const Q=new Date(ee.createdAt),te=Q.getMonth()+1,U=Q.getFullYear();return te===w&&U===v});console.log(`Filtered ${L.length} leads from ${e.length} total leads`),s(L)},[e,w,v,T]),A.useCallback(()=>{console.log("============= DEBUG CURRENT STATE ============="),console.log("Current leads count:",e.length),console.log("Current filteredLeads count:",n.length),console.log("Filter settings:",{filterMonth:w,filterYear:v,showCurrentMonth:T}),console.log("Selected lead:",p),console.log("Current date:",new Date),console.log("Filter date range:",{start:T?new Date(new Date().getFullYear(),new Date().getMonth(),1):new Date(v,w-1,1),end:T?new Date(new Date().getFullYear(),new Date().getMonth()+1,0):new Date(v,w,0)}),console.log("First 3 leads in leads array:",e.slice(0,3).map(L=>({id:L._id,name:L.name,createdAt:L.createdAt,createdAtFormatted:new Date(L.createdAt).toLocaleDateString(),month:new Date(L.createdAt).getMonth()+1,year:new Date(L.createdAt).getFullYear()}))),console.log("First 3 leads in filteredLeads array:",n.slice(0,3).map(L=>({id:L._id,name:L.name,createdAt:L.createdAt,createdAtFormatted:new Date(L.createdAt).toLocaleDateString(),month:new Date(L.createdAt).getMonth()+1,year:new Date(L.createdAt).getFullYear()}))),console.log("============= END DEBUG STATE =============")},[e,n,w,v,T,p]),A.useCallback(async()=>{console.log("=== FORCE REFETCH TRIGGERED ==="),o(!0);try{r([]),s([]),await new Promise(L=>setTimeout(L,100)),await S(),at.success("Data refreshed successfully!")}catch(L){console.error("Force refetch failed:",L),at.error("Failed to refresh data")}finally{o(!1)}},[S]);const P=A.useCallback(L=>{console.log("============= HANDLE LEAD SUCCESS ============="),console.log("Lead success callback called with:",L),p?(console.log("Lead updated successfully"),g(null),at.success("Lead updated successfully!"),S()):(console.log("Adding new lead to list"),f(!1),S(),at.success("Lead created successfully!")),console.log("============= END HANDLE LEAD SUCCESS =============")},[p,S]),B=L=>{const ee=parseInt(L.target.value);console.log("Changing month to:",ee),b(ee),C(!1)},ae=L=>{const ee=parseInt(L.target.value);console.log("Changing year to:",ee),_(ee),C(!1)},q=()=>{b(new Date().getMonth()+1),_(new Date().getFullYear()),C(!0)},H=L=>new Date(L).toLocaleDateString();return A.useEffect(()=>{bA.init({duration:600,easing:"ease-in-out",once:!0})},[]),a.jsx(rr,{children:a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out min-h-screen pb-12",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 mb-8",children:a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Leads Management"}),a.jsxs("p",{className:"text-blue-100 text-sm md:text-base",children:[n.length," leads • ",T?"Current Month":`${(ie=R.find(L=>L.value===parseInt(w)))==null?void 0:ie.label} ${v}`]})]}),a.jsxs("button",{onClick:()=>f(!0),className:"mt-4 md:mt-0 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out duration-300 flex items-center font-medium shadow-sm",children:[a.jsx(nx,{className:"h-4 w-4 mr-2"}),"Add New Lead"]})]})})}),a.jsxs("div",{className:"container mx-auto px-4",children:[c&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 border border-red-200 rounded-lg shadow-sm dark:shadow-black/25",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c]})}),(h||p)&&a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-xl shadow-md dark:shadow-black/25 overflow-hidden mb-8",children:[a.jsx("div",{className:"px-6 py-4 bg-blue-50 border-b border-blue-100",children:a.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:p?"Edit Lead":"Add New Lead"})}),a.jsxs("div",{className:"p-6",children:[a.jsx(gA,{lead:p,onSuccess:P}),a.jsxs("button",{onClick:()=>{f(!1),g(null)},className:"mt-6 text-blue-600 hover:text-blue-800 font-medium flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Leads List"]})]})]}),!h&&!p&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-xl shadow-md dark:shadow-black/25 overflow-hidden mb-8",children:[a.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out border-b border-gray-100 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:"Filter Leads by Month"}),a.jsx(rx,{className:"text-slate-500 dark:text-gray-400"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Month"}),a.jsx("select",{id:"month",value:w,onChange:B,className:"w-full border border-slate-300 dark:border-slate-600 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:R.map(L=>a.jsx("option",{value:L.value,children:L.label},L.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Year"}),a.jsx("select",{id:"year",value:v,onChange:ae,className:"w-full border border-slate-300 dark:border-slate-600 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:O.map(L=>a.jsx("option",{value:L,children:L},L))})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("div",{className:"grid grid-cols-1 gap-2 w-full",children:[a.jsx("button",{onClick:q,className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2",children:"Show Current Month"}),a.jsx("button",{onClick:()=>{b(3),_(2025),C(!1)},className:"w-full py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 text-sm",children:"📁 March 2025 (Imported Leads)"})]})})]}),a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg text-sm text-blue-800 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),a.jsxs("span",{children:["Showing ",n.length," leads for ",T?"current month":`${(re=R.find(L=>L.value===parseInt(w)))==null?void 0:re.label} ${v}`]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-xl shadow-md dark:shadow-black/25 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out border-b border-gray-100",children:a.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:["Leads Overview (",n.length,")"]})}),i?a.jsxs("div",{className:"p-12 flex justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),a.jsx("p",{className:"ml-4 text-gray-600 dark:text-gray-500",children:"Loading leads..."})]}):n.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-300 dark:text-gray-500 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("h3",{className:"text-xl font-medium text-slate-700 dark:text-slate-300 mb-2",children:"No leads found"}),a.jsx("p",{className:"text-slate-500 dark:text-gray-400 mb-6",children:"No leads were found for the selected time period"}),a.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm dark:shadow-xl text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 hover:shadow-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Your First Lead"]})]}):a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(L=>a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out-shadow shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-1",children:L.name}),a.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${L.feedback==="Converted"?"bg-green-100 text-green-800":L.feedback==="Not Interested"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:L.feedback||"Pending"})]}),a.jsx("button",{onClick:()=>g(L),className:"ml-2 inline-flex items-center justify-center w-8 h-8 text-indigo-600 hover:text-white hover:bg-indigo-600 rounded-full transition-colors duration-200",title:"Edit Lead",children:a.jsx(Kd,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-500",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 w-16",children:"Course:"}),a.jsx("span",{children:L.course})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 w-16",children:"Phone:"}),a.jsx("span",{children:L.phone||L.countryCode})]}),L.email&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 w-16",children:"Email:"}),a.jsx("span",{className:"truncate",children:L.email})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 w-16",children:"Country:"}),a.jsx("span",{children:L.country||L.countryCode})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 w-16",children:"Date:"}),a.jsx("span",{children:H(L.createdAt)})]}),L.assignedTo&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 w-16",children:"Assigned:"}),a.jsx("span",{className:"text-blue-600",children:typeof L.assignedTo=="object"?L.assignedTo.fullName||L.assignedTo.name||"Unknown User":L.assignedTo})]})]})]},L._id))})})]})]})]})]})})},h8=()=>{var ce;const{user:t}=Mt(),[e,r]=A.useState([]),[n,s]=A.useState([]),[i,o]=A.useState(!0),[c,u]=A.useState(null),[h,f]=A.useState({}),[p,g]=A.useState({}),[x,w]=A.useState(null),[b,v]=A.useState(0),[_,T]=A.useState(new Date().getMonth()+1),[C,R]=A.useState(new Date().getFullYear()),[j,O]=A.useState(!0),[S,P]=A.useState({}),B=["New","Contacted","Qualified","Lost","Converted","Introduction","Acknowledgement","Question","Future Promise","Payment","Analysis"],ae=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],q=new Date().getFullYear(),H=Array.from({length:6},(ne,ue)=>q-ue);A.useEffect(()=>{re()},[t,b]),A.useEffect(()=>{e.length>0&&ie()},[e,_,C,j]);const ie=()=>{if(j){const ne=new Date().getMonth()+1,ue=new Date().getFullYear(),be=e.filter(Ee=>{const Ke=new Date(Ee.createdAt);return Ke.getMonth()+1===ne&&Ke.getFullYear()===ue});s(be)}else{const ne=e.filter(ue=>{const be=new Date(ue.createdAt);return be.getMonth()+1===_&&be.getFullYear()===C});s(ne)}},re=async()=>{try{o(!0),console.log("Fetching leads for sales person:",t==null?void 0:t.fullName);const ne=await mn.getAssigned();if(console.log("Leads response:",ne.data),ne.data.success){r(ne.data.data);const ue={};ne.data.data.forEach(be=>{ue[be._id]=be.feedback||""}),f(ue)}else u("Failed to load leads")}catch(ne){console.error("Error fetching leads:",ne),u("Failed to load leads. Please try again.")}finally{o(!1)}},L=(ne,ue)=>{f(be=>({...be,[ne]:ue}))},ee=async ne=>{if(!(!ne||!h[ne]))try{g(be=>({...be,[ne]:!0}));const ue=await mn.updateFeedback(ne,h[ne]);ue.data.success?(r(e.map(be=>be._id===ne?ue.data.data:be)),alert("Feedback updated successfully!")):u("Failed to update feedback")}catch(ue){console.error("Error updating feedback:",ue),u("Failed to update feedback. Please try again.")}finally{g(ue=>({...ue,[ne]:!1}))}},Q=async(ne,ue)=>{try{if(P(We=>({...We,[ne]:!0})),u(null),!e.find(We=>We._id===ne))return;const Ee={status:ue};console.log("Updating lead status:",ne,ue);const Ke=await mn.update(ne,Ee);Ke.data.success?(r(e.map(We=>We._id===ne?Ke.data.data:We)),s(n.map(We=>We._id===ne?Ke.data.data:We)),console.log("Lead status updated successfully"),f({...h,statusSuccess:`Status updated to "${ue}" successfully!`,leadId:ne}),setTimeout(()=>{f(We=>({...We,statusSuccess:null,leadId:null}))},3e3),v(We=>We+1)):(console.error("Failed to update lead status:",Ke.data),u("Failed to update lead status. Please try again."))}catch(be){console.error("Error updating lead status:",be),be.response&&be.response.status===403?u("You don't have permission to update this lead status. Contact your manager."):u("Failed to update lead status. Please try again.")}finally{P(be=>({...be,[ne]:!1}))}},te=ne=>{T(parseInt(ne.target.value)),O(!1)},U=ne=>{R(parseInt(ne.target.value)),O(!1)},Z=()=>{T(new Date().getMonth()+1),R(new Date().getFullYear()),O(!0)},X=ne=>new Date(ne).toLocaleDateString(),M=ne=>{w(ne)},W=()=>{w(null)},K=(ne,ue)=>{if(!ne)return;const Ee=`https://wa.me/${`${ue||"+91"}${ne.replace(/\D/g,"")}`.replace(/\+/g,"")}`;window.open(Ee,"_blank")},E=ne=>{ne&&(window.location.href=`mailto:${ne}`)};return a.jsx(rr,{children:a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",children:"My Assigned Leads"}),c&&a.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-700 border border-red-200 rounded-md flex justify-between items-center",children:[a.jsx("div",{className:"flex-1",children:c}),a.jsx("button",{onClick:()=>u(null),className:"text-red-700 hover:text-red-900",children:"×"})]}),i?a.jsxs("div",{className:"text-center py-10",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-500",children:"Loading your assigned leads..."})]}):e.length===0?a.jsx("div",{className:"text-center py-10 bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out rounded-lg",children:a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"No leads assigned to you yet."})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 p-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[a.jsx(rx,{className:"mr-2 text-blue-500"}),"Filter Leads by Date"]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zp,{className:"text-blue-500 mr-2"}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-600 dark:text-gray-500 mb-1",children:"Month"}),a.jsx("select",{id:"month",value:_,onChange:te,className:"border border-slate-300 dark:border-slate-600 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",disabled:j,children:ae.map(ne=>a.jsx("option",{value:ne.value,children:ne.label},ne.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-600 dark:text-gray-500 mb-1",children:"Year"}),a.jsx("select",{id:"year",value:C,onChange:U,className:"border border-slate-300 dark:border-slate-600 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",disabled:j,children:H.map(ne=>a.jsx("option",{value:ne,children:ne},ne))})]}),a.jsxs("div",{className:"flex items-center ml-4",children:[a.jsx("input",{id:"currentMonth",type:"checkbox",checked:j,onChange:()=>O(!j),className:"h-4 w-4 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 border-slate-300 dark:border-slate-600 rounded"}),a.jsx("label",{htmlFor:"currentMonth",className:"ml-2 text-sm text-gray-600 dark:text-gray-500",children:"Show current month only"})]}),a.jsxs("button",{onClick:Z,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 ml-auto flex items-center",children:[a.jsx(Zp,{className:"mr-2"}),"Reset to Current Month"]})]}),a.jsxs("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-500",children:["Showing ",n.length," lead",n.length!==1?"s":"",j?" for the current month":` for ${(ce=ae.find(ne=>ne.value===_))==null?void 0:ce.label} ${C}`]})]}),a.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl overflow-hidden shadow-sm",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Feedback"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-slate-200 dark:divide-slate-700",children:n.map(ne=>a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 dark:bg-slate-800 transition-all duration-200 ease-out",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:ne.name})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[ne.phone&&a.jsx("div",{className:"flex items-center",children:a.jsxs("button",{onClick:()=>K(ne.phone,ne.countryCode),className:"text-sm text-slate-900 dark:text-slate-100 flex items-center hover:text-green-600",title:"Open in WhatsApp",children:[a.jsx(Qp,{className:"mr-1 text-green-500"}),ne.countryCode||"+91"," ",ne.phone]})}),ne.email&&a.jsx("div",{className:"flex items-center",children:a.jsxs("button",{onClick:()=>E(ne.email),className:"text-sm text-slate-500 dark:text-gray-400 flex items-center hover:text-blue-600",title:"Send email",children:[a.jsx(wd,{className:"mr-1 text-blue-500"}),ne.email]})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:ne.course})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:ne.status,onChange:ue=>Q(ne._id,ue.target.value),disabled:S[ne._id],className:`text-sm px-2 py-1 rounded ${ne.status==="New"?"bg-blue-100 text-blue-800":ne.status==="Contacted"?"bg-teal-100 text-teal-800":ne.status==="Qualified"?"bg-indigo-100 text-indigo-800":ne.status==="Lost"?"bg-red-100 text-red-800":ne.status==="Converted"?"bg-green-100 text-green-800":ne.status==="Introduction"?"bg-purple-100 text-purple-800":ne.status==="Acknowledgement"?"bg-yellow-100 text-yellow-800":ne.status==="Question"?"bg-indigo-100 text-indigo-800":ne.status==="Future Promise"?"bg-cyan-100 text-cyan-800":ne.status==="Payment"?"bg-green-100 text-green-800":ne.status==="Analysis"?"bg-red-100 text-red-800":"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"} border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 appearance-none cursor-pointer w-full pr-8`,children:B.map(ue=>a.jsx("option",{value:ue,children:ue},ue))}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-700 dark:text-slate-300",children:a.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})}),S[ne._id]&&a.jsx("div",{className:"absolute top-1/2 right-8 transform -translate-y-1/2",children:a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 rounded-full border-t-transparent"})}),h.statusSuccess&&h.leadId===ne._id&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-green-100 text-green-800 text-xs px-2 py-1 rounded whitespace-normal w-48 z-10",children:h.statusSuccess})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-slate-500 dark:text-gray-400",children:X(ne.createdAt)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{value:h[ne._id]||"",onChange:ue=>L(ne._id,ue.target.value),placeholder:"Add feedback...",className:"text-sm w-full h-20 p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500"}),a.jsx("button",{onClick:()=>ee(ne._id),disabled:p[ne._id]||!h[ne._id],className:`mt-1 px-3 py-1 text-xs rounded ${p[ne._id]||!h[ne._id]?"bg-gray-300 text-gray-500 dark:text-gray-400 dark:text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:p[ne._id]?"Saving...":"Save Feedback"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsx("button",{onClick:()=>M(ne),className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},ne._id))})]})})})]}),x&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-sm dark:shadow-black/25",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Lead Details"}),a.jsx("button",{onClick:W,className:"text-gray-400 dark:text-slate-400 hover:text-slate-500",children:"×"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Name"}),a.jsx("p",{className:"text-base",children:x.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Email"}),a.jsx("p",{className:"text-base",children:a.jsxs("button",{onClick:()=>E(x.email),className:"text-blue-600 hover:text-blue-800 flex items-center",children:[a.jsx(wd,{className:"mr-1"})," ",x.email]})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Phone"}),a.jsx("p",{className:"text-base",children:a.jsxs("button",{onClick:()=>K(x.phone,x.countryCode),className:"text-green-600 hover:text-green-800 flex items-center",children:[a.jsx(Qp,{className:"mr-1"})," ",x.countryCode||"+91"," ",x.phone]})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Course"}),a.jsx("p",{className:"text-base",children:x.course})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Status"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:x.status,onChange:ne=>{Q(x._id,ne.target.value),w({...x,status:ne.target.value})},className:`px-2 py-1 rounded ${x.status==="New"?"bg-blue-100 text-blue-800":x.status==="Contacted"?"bg-teal-100 text-teal-800":x.status==="Qualified"?"bg-indigo-100 text-indigo-800":x.status==="Lost"?"bg-red-100 text-red-800":x.status==="Converted"?"bg-green-100 text-green-800":x.status==="Introduction"?"bg-purple-100 text-purple-800":x.status==="Acknowledgement"?"bg-yellow-100 text-yellow-800":x.status==="Question"?"bg-indigo-100 text-indigo-800":x.status==="Future Promise"?"bg-cyan-100 text-cyan-800":x.status==="Payment"?"bg-green-100 text-green-800":x.status==="Analysis"?"bg-red-100 text-red-800":"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"} border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 appearance-none cursor-pointer pr-8 relative`,children:B.map(ne=>a.jsx("option",{value:ne,children:ne},ne))}),a.jsx("div",{className:"pointer-events-none absolute right-0 top-1/2 transform -translate-y-1/2 flex items-center px-2 text-slate-700 dark:text-slate-300",children:a.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})}),S[x._id]&&a.jsx("div",{className:"absolute -right-6 top-1/2 transform -translate-y-1/2",children:a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 rounded-full border-t-transparent"})}),h.statusSuccess&&h.leadId===x._id&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-green-100 text-green-800 text-xs px-2 py-1 rounded whitespace-normal w-48 z-10",children:h.statusSuccess})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Created At"}),a.jsx("p",{className:"text-base",children:X(x.createdAt)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Country"}),a.jsx("p",{className:"text-base",children:x.country||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Company"}),a.jsx("p",{className:"text-base",children:x.company||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Client"}),a.jsx("p",{className:"text-base",children:x.client||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Pseudo ID"}),a.jsx("p",{className:"text-base",children:x.pseudoId||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Source"}),a.jsx("p",{className:"text-base",children:x.source||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"LinkedIn"}),a.jsx("p",{className:"text-base",children:x.sourceLink?a.jsx("a",{href:x.sourceLink.startsWith("http")?x.sourceLink:`https://${x.sourceLink}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:x.sourceLink}):"N/A"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400 mb-1",children:"Remarks"}),a.jsx("p",{className:"text-base p-2 bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out rounded min-h-[40px]",children:x.remarks||"No remarks available"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400 mb-1",children:"Feedback"}),a.jsx("textarea",{value:h[x._id]||"",onChange:ne=>L(x._id,ne.target.value),placeholder:"Add feedback...",className:"w-full h-24 p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500"}),a.jsx("button",{onClick:()=>ee(x._id),disabled:p[x._id]||!h[x._id],className:`mt-2 px-4 py-2 rounded ${p[x._id]||!h[x._id]?"bg-gray-300 text-gray-500 dark:text-gray-400 dark:text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:p[x._id]?"Saving...":"Save Feedback"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:W,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700",children:"Close"})})]})})]})})};function xN(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=xN(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function vo(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=xN(t))&&(n&&(n+=" "),n+=e);return n}function f8(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}f8(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var qd=t=>typeof t=="number"&&!isNaN(t),_o=t=>typeof t=="string",Oa=t=>typeof t=="function",m8=t=>_o(t)||qd(t),cg=t=>_o(t)||Oa(t)?t:null,p8=(t,e)=>t===!1||qd(t)&&t>0?t:e,dg=t=>A.isValidElement(t)||_o(t)||Oa(t)||qd(t);function g8(t,e,r=300){let{scrollHeight:n,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,r)})})}function x8({enter:t,exit:e,appendPosition:r=!1,collapse:n=!0,collapseDuration:s=300}){return function({children:i,position:o,preventExitTransition:c,done:u,nodeRef:h,isIn:f,playToast:p}){let g=r?`${t}--${o}`:t,x=r?`${e}--${o}`:e,w=A.useRef(0);return A.useLayoutEffect(()=>{let b=h.current,v=g.split(" "),_=T=>{T.target===h.current&&(p(),b.removeEventListener("animationend",_),b.removeEventListener("animationcancel",_),w.current===0&&T.type!=="animationcancel"&&b.classList.remove(...v))};b.classList.add(...v),b.addEventListener("animationend",_),b.addEventListener("animationcancel",_)},[]),A.useEffect(()=>{let b=h.current,v=()=>{b.removeEventListener("animationend",v),n?g8(b,u,s):u()};f||(c?v():(w.current=1,b.className+=` ${x}`,b.addEventListener("animationend",v)))},[f]),ct.createElement(ct.Fragment,null,i)}}function Rb(t,e){return{content:yN(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function yN(t,e,r=!1){return A.isValidElement(t)&&!_o(t.type)?A.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):Oa(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):t}function y8({closeToast:t,theme:e,ariaLabel:r="close"}){return ct.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),t(!0)},"aria-label":r},ct.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ct.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function v8({delay:t,isRunning:e,closeToast:r,type:n="default",hide:s,className:i,controlledProgress:o,progress:c,rtl:u,isIn:h,theme:f}){let p=s||o&&c===0,g={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(g.transform=`scaleX(${c})`);let x=vo("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":u}),w=Oa(i)?i({rtl:u,type:n,defaultClassName:x}):vo(x,i),b={[o&&c>=1?"onTransitionEnd":"onAnimationEnd"]:o&&c<1?null:()=>{h&&r()}};return ct.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},ct.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${n}`}),ct.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:w,style:g,...b}))}var b8=1,vN=()=>`${b8++}`;function w8(t,e,r){let n=1,s=0,i=[],o=[],c=e,u=new Map,h=new Set,f=T=>(h.add(T),()=>h.delete(T)),p=()=>{o=Array.from(u.values()),h.forEach(T=>T())},g=({containerId:T,toastId:C,updateId:R})=>{let j=T?T!==t:t!==1,O=u.has(C)&&R==null;return j||O},x=(T,C)=>{u.forEach(R=>{var j;(C==null||C===R.props.toastId)&&((j=R.toggle)==null||j.call(R,T))})},w=T=>{var C,R;(R=(C=T.props)==null?void 0:C.onClose)==null||R.call(C,T.removalReason),T.isActive=!1},b=T=>{if(T==null)u.forEach(w);else{let C=u.get(T);C&&w(C)}p()},v=()=>{s-=i.length,i=[]},_=T=>{var C,R;let{toastId:j,updateId:O}=T.props,S=O==null;T.staleId&&u.delete(T.staleId),T.isActive=!0,u.set(j,T),p(),r(Rb(T,S?"added":"updated")),S&&((R=(C=T.props).onOpen)==null||R.call(C))};return{id:t,props:c,observe:f,toggle:x,removeToast:b,toasts:u,clearQueue:v,buildToast:(T,C)=>{if(g(C))return;let{toastId:R,updateId:j,data:O,staleId:S,delay:P}=C,B=j==null;B&&s++;let ae={...c,style:c.toastStyle,key:n++,...Object.fromEntries(Object.entries(C).filter(([H,ie])=>ie!=null)),toastId:R,updateId:j,data:O,isIn:!1,className:cg(C.className||c.toastClassName),progressClassName:cg(C.progressClassName||c.progressClassName),autoClose:C.isLoading?!1:p8(C.autoClose,c.autoClose),closeToast(H){u.get(R).removalReason=H,b(R)},deleteToast(){let H=u.get(R);if(H!=null){if(r(Rb(H,"removed")),u.delete(R),s--,s<0&&(s=0),i.length>0){_(i.shift());return}p()}}};ae.closeButton=c.closeButton,C.closeButton===!1||dg(C.closeButton)?ae.closeButton=C.closeButton:C.closeButton===!0&&(ae.closeButton=dg(c.closeButton)?c.closeButton:!0);let q={content:T,props:ae,staleId:S};c.limit&&c.limit>0&&s>c.limit&&B?i.push(q):qd(P)?setTimeout(()=>{_(q)},P):_(q)},setProps(T){c=T},setToggle:(T,C)=>{let R=u.get(T);R&&(R.toggle=C)},isToastActive:T=>{var C;return(C=u.get(T))==null?void 0:C.isActive},getSnapshot:()=>o}}var Nn=new Map,Nd=[],ug=new Set,k8=t=>ug.forEach(e=>e(t)),bN=()=>Nn.size>0;function N8(){Nd.forEach(t=>kN(t.content,t.options)),Nd=[]}var S8=(t,{containerId:e})=>{var r;return(r=Nn.get(e||1))==null?void 0:r.toasts.get(t)};function wN(t,e){var r;if(e)return!!((r=Nn.get(e))!=null&&r.isToastActive(t));let n=!1;return Nn.forEach(s=>{s.isToastActive(t)&&(n=!0)}),n}function _8(t){if(!bN()){Nd=Nd.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||m8(t))Nn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Nn.get(t.containerId);e?e.removeToast(t.id):Nn.forEach(r=>{r.removeToast(t.id)})}}var j8=(t={})=>{Nn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function kN(t,e){dg(t)&&(bN()||Nd.push({content:t,options:e}),Nn.forEach(r=>{r.buildToast(t,e)}))}function C8(t){var e;(e=Nn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function NN(t,e){Nn.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function T8(t){let e=t.containerId||1;return{subscribe(r){let n=w8(e,t,k8);Nn.set(e,n);let s=n.observe(r);return N8(),()=>{s(),Nn.delete(e)}},setProps(r){var n;(n=Nn.get(e))==null||n.setProps(r)},getSnapshot(){var r;return(r=Nn.get(e))==null?void 0:r.getSnapshot()}}}function E8(t){return ug.add(t),()=>{ug.delete(t)}}function A8(t){return t&&(_o(t.toastId)||qd(t.toastId))?t.toastId:vN()}function Xd(t,e){return kN(t,e),e.toastId}function Zh(t,e){return{...e,type:e&&e.type||t,toastId:A8(e)}}function ef(t){return(e,r)=>Xd(e,Zh(t,r))}function Le(t,e){return Xd(t,Zh("default",e))}Le.loading=(t,e)=>Xd(t,Zh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function P8(t,{pending:e,error:r,success:n},s){let i;e&&(i=_o(e)?Le.loading(e,s):Le.loading(e.render,{...s,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(h,f,p)=>{if(f==null){Le.dismiss(i);return}let g={type:h,...o,...s,data:p},x=_o(f)?{render:f}:f;return i?Le.update(i,{...g,...x}):Le(x.render,{...g,...x}),p},u=Oa(t)?t():t;return u.then(h=>c("success",n,h)).catch(h=>c("error",r,h)),u}Le.promise=P8;Le.success=ef("success");Le.info=ef("info");Le.error=ef("error");Le.warning=ef("warning");Le.warn=Le.warning;Le.dark=(t,e)=>Xd(t,Zh("default",{theme:"dark",...e}));function D8(t){_8(t)}Le.dismiss=D8;Le.clearWaitingQueue=j8;Le.isActive=wN;Le.update=(t,e={})=>{let r=S8(t,e);if(r){let{props:n,content:s}=r,i={delay:100,...n,...e,toastId:e.toastId||t,updateId:vN()};i.toastId!==t&&(i.staleId=t);let o=i.render||s;delete i.render,Xd(o,i)}};Le.done=t=>{Le.update(t,{progress:1})};Le.onChange=E8;Le.play=t=>NN(!0,t);Le.pause=t=>NN(!1,t);function R8(t){var e;let{subscribe:r,getSnapshot:n,setProps:s}=A.useRef(T8(t)).current;s(t);let i=(e=A.useSyncExternalStore(r,n,n))==null?void 0:e.slice();function o(c){if(!i)return[];let u=new Map;return t.newestOnTop&&i.reverse(),i.forEach(h=>{let{position:f}=h.props;u.has(f)||u.set(f,[]),u.get(f).push(h)}),Array.from(u,h=>c(h[0],h[1]))}return{getToastToRender:o,isToastActive:wN,count:i==null?void 0:i.length}}function F8(t){let[e,r]=A.useState(!1),[n,s]=A.useState(!1),i=A.useRef(null),o=A.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:u,closeToast:h,onClick:f,closeOnClick:p}=t;C8({id:t.toastId,containerId:t.containerId,fn:r}),A.useEffect(()=>{if(t.pauseOnFocusLoss)return g(),()=>{x()}},[t.pauseOnFocusLoss]);function g(){document.hasFocus()||_(),window.addEventListener("focus",v),window.addEventListener("blur",_)}function x(){window.removeEventListener("focus",v),window.removeEventListener("blur",_)}function w(S){if(t.draggable===!0||t.draggable===S.pointerType){T();let P=i.current;o.canCloseOnClick=!0,o.canDrag=!0,P.style.transition="none",t.draggableDirection==="x"?(o.start=S.clientX,o.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(o.start=S.clientY,o.removalDistance=P.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function b(S){let{top:P,bottom:B,left:ae,right:q}=i.current.getBoundingClientRect();S.nativeEvent.type!=="touchend"&&t.pauseOnHover&&S.clientX>=ae&&S.clientX<=q&&S.clientY>=P&&S.clientY<=B?_():v()}function v(){r(!0)}function _(){r(!1)}function T(){o.didMove=!1,document.addEventListener("pointermove",R),document.addEventListener("pointerup",j)}function C(){document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",j)}function R(S){let P=i.current;if(o.canDrag&&P){o.didMove=!0,e&&_(),t.draggableDirection==="x"?o.delta=S.clientX-o.start:o.delta=S.clientY-o.start,o.start!==S.clientX&&(o.canCloseOnClick=!1);let B=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;P.style.transform=`translate3d(${B},0)`,P.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function j(){C();let S=i.current;if(o.canDrag&&o.didMove&&S){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}S.style.transition="transform 0.2s, opacity 0.2s",S.style.removeProperty("transform"),S.style.removeProperty("opacity")}}let O={onPointerDown:w,onPointerUp:b};return c&&u&&(O.onMouseEnter=_,t.stacked||(O.onMouseLeave=v)),p&&(O.onClick=S=>{f&&f(S),o.canCloseOnClick&&h(!0)}),{playToast:v,pauseToast:_,isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:O}}var O8=typeof window<"u"?A.useLayoutEffect:A.useEffect,tf=({theme:t,type:e,isLoading:r,...n})=>ct.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function M8(t){return ct.createElement(tf,{...t},ct.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function L8(t){return ct.createElement(tf,{...t},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function I8(t){return ct.createElement(tf,{...t},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function B8(t){return ct.createElement(tf,{...t},ct.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function U8(){return ct.createElement("div",{className:"Toastify__spinner"})}var hg={info:L8,warning:M8,success:I8,error:B8,spinner:U8},z8=t=>t in hg;function V8({theme:t,type:e,isLoading:r,icon:n}){let s=null,i={theme:t,type:e};return n===!1||(Oa(n)?s=n({...i,isLoading:r}):A.isValidElement(n)?s=A.cloneElement(n,i):r?s=hg.spinner():z8(e)&&(s=hg[e](i))),s}var $8=t=>{let{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:s,playToast:i}=F8(t),{closeButton:o,children:c,autoClose:u,onClick:h,type:f,hideProgressBar:p,closeToast:g,transition:x,position:w,className:b,style:v,progressClassName:_,updateId:T,role:C,progress:R,rtl:j,toastId:O,deleteToast:S,isIn:P,isLoading:B,closeOnClick:ae,theme:q,ariaLabel:H}=t,ie=vo("Toastify__toast",`Toastify__toast-theme--${q}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":ae}),re=Oa(b)?b({rtl:j,position:w,type:f,defaultClassName:ie}):vo(ie,b),L=V8(t),ee=!!R||!u,Q={closeToast:g,type:f,theme:q},te=null;return o===!1||(Oa(o)?te=o(Q):A.isValidElement(o)?te=A.cloneElement(o,Q):te=y8(Q)),ct.createElement(x,{isIn:P,done:S,position:w,preventExitTransition:r,nodeRef:n,playToast:i},ct.createElement("div",{id:O,tabIndex:0,onClick:h,"data-in":P,className:re,...s,style:v,ref:n,...P&&{role:C,"aria-label":H}},L!=null&&ct.createElement("div",{className:vo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},L),yN(c,t,!e),te,!t.customProgressBar&&ct.createElement(v8,{...T&&!ee?{key:`p-${T}`}:{},rtl:j,theme:q,delay:u,isRunning:e,isIn:P,closeToast:g,hide:p,type:f,className:_,controlledProgress:ee,progress:R||0})))},H8=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),W8=x8(H8("bounce",!0)),Y8={position:"top-right",transition:W8,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function K8(t){let e={...Y8,...t},r=t.stacked,[n,s]=A.useState(!0),i=A.useRef(null),{getToastToRender:o,isToastActive:c,count:u}=R8(e),{className:h,style:f,rtl:p,containerId:g,hotKeys:x}=e;function w(v){let _=vo("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":p});return Oa(h)?h({position:v,rtl:p,defaultClassName:_}):vo(_,cg(h))}function b(){r&&(s(!0),Le.play())}return O8(()=>{var v;if(r){let _=i.current.querySelectorAll('[data-in="true"]'),T=12,C=(v=e.position)==null?void 0:v.includes("top"),R=0,j=0;Array.from(_).reverse().forEach((O,S)=>{let P=O;P.classList.add("Toastify__toast--stacked"),S>0&&(P.dataset.collapsed=`${n}`),P.dataset.pos||(P.dataset.pos=C?"top":"bot");let B=R*(n?.2:1)+(n?0:T*S);P.style.setProperty("--y",`${C?B:B*-1}px`),P.style.setProperty("--g",`${T}`),P.style.setProperty("--s",`${1-(n?j:0)}`),R+=P.offsetHeight,j+=.025})}},[n,u,r]),A.useEffect(()=>{function v(_){var T;let C=i.current;x(_)&&((T=C.querySelector('[tabIndex="0"]'))==null||T.focus(),s(!1),Le.pause()),_.key==="Escape"&&(document.activeElement===C||C!=null&&C.contains(document.activeElement))&&(s(!0),Le.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[x]),ct.createElement("section",{ref:i,className:"Toastify",id:g,onMouseEnter:()=>{r&&(s(!1),Le.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((v,_)=>{let T=_.length?{...f}:{...f,pointerEvents:"none"};return ct.createElement("div",{tabIndex:-1,className:w(v),"data-stacked":r,style:T,key:`c-${v}`},_.map(({content:C,props:R})=>ct.createElement($8,{...R,stacked:r,collapseAll:b,isIn:c(R.toastId,R.containerId),key:`t-${R.key}`},C)))}))}var ip,Fb;function G8(){return Fb||(Fb=1,ip=function(t){var e={};function r(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=t,r.c=e,r.d=function(n,s,i){r.o(n,s)||Object.defineProperty(n,s,{enumerable:!0,get:i})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,s){if(1&s&&(n=r(n)),8&s||4&s&&typeof n=="object"&&n&&n.__esModule)return n;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&s&&typeof n!="string")for(var o in n)r.d(i,o,(function(c){return n[c]}).bind(null,o));return i},r.n=function(n){var s=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(s,"a",s),s},r.o=function(n,s){return Object.prototype.hasOwnProperty.call(n,s)},r.p="",r(r.s=9)}([function(t,e){t.exports=zh()},function(t,e,r){var n;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var s={}.hasOwnProperty;function i(){for(var o=[],c=0;c<arguments.length;c++){var u=arguments[c];if(u){var h=typeof u;if(h==="string"||h==="number")o.push(u);else if(Array.isArray(u)&&u.length){var f=i.apply(null,u);f&&o.push(f)}else if(h==="object")for(var p in u)s.call(u,p)&&u[p]&&o.push(p)}}return o.join(" ")}t.exports?(i.default=i,t.exports=i):(n=(function(){return i}).apply(e,[]))===void 0||(t.exports=n)})()},function(t,e,r){(function(n){var s=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,h=typeof n=="object"&&n&&n.Object===Object&&n,f=typeof self=="object"&&self&&self.Object===Object&&self,p=h||f||Function("return this")(),g=Object.prototype.toString,x=p.Symbol,w=x?x.prototype:void 0,b=w?w.toString:void 0;function v(R){if(typeof R=="string")return R;if(T(R))return b?b.call(R):"";var j=R+"";return j=="0"&&1/R==-1/0?"-0":j}function _(R){var j=typeof R;return!!R&&(j=="object"||j=="function")}function T(R){return typeof R=="symbol"||function(j){return!!j&&typeof j=="object"}(R)&&g.call(R)=="[object Symbol]"}function C(R){return R?(R=function(j){if(typeof j=="number")return j;if(T(j))return NaN;if(_(j)){var O=typeof j.valueOf=="function"?j.valueOf():j;j=_(O)?O+"":O}if(typeof j!="string")return j===0?j:+j;j=j.replace(s,"");var S=o.test(j);return S||c.test(j)?u(j.slice(2),S?2:8):i.test(j)?NaN:+j}(R))===1/0||R===-1/0?17976931348623157e292*(R<0?-1:1):R==R?R:0:R===0?R:0}t.exports=function(R,j,O){var S,P,B,ae;return R=(S=R)==null?"":v(S),P=function(q){var H=C(q),ie=H%1;return H==H?ie?H-ie:H:0}(O),B=0,ae=R.length,P==P&&(ae!==void 0&&(P=P<=ae?P:ae),B!==void 0&&(P=P>=B?P:B)),O=P,j=v(j),R.slice(O,O+j.length)==j}}).call(this,r(3))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}t.exports=r},function(t,e,r){(function(n){var s=/^\[object .+?Constructor\]$/,i=typeof n=="object"&&n&&n.Object===Object&&n,o=typeof self=="object"&&self&&self.Object===Object&&self,c=i||o||Function("return this")(),u,h=Array.prototype,f=Function.prototype,p=Object.prototype,g=c["__core-js_shared__"],x=(u=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",w=f.toString,b=p.hasOwnProperty,v=p.toString,_=RegExp("^"+w.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=h.splice,C=q(c,"Map"),R=q(Object,"create");function j(re){var L=-1,ee=re?re.length:0;for(this.clear();++L<ee;){var Q=re[L];this.set(Q[0],Q[1])}}function O(re){var L=-1,ee=re?re.length:0;for(this.clear();++L<ee;){var Q=re[L];this.set(Q[0],Q[1])}}function S(re){var L=-1,ee=re?re.length:0;for(this.clear();++L<ee;){var Q=re[L];this.set(Q[0],Q[1])}}function P(re,L){for(var ee,Q,te=re.length;te--;)if((ee=re[te][0])===(Q=L)||ee!=ee&&Q!=Q)return te;return-1}function B(re){return!(!ie(re)||(L=re,x&&x in L))&&(function(ee){var Q=ie(ee)?v.call(ee):"";return Q=="[object Function]"||Q=="[object GeneratorFunction]"}(re)||function(ee){var Q=!1;if(ee!=null&&typeof ee.toString!="function")try{Q=!!(ee+"")}catch{}return Q}(re)?_:s).test(function(ee){if(ee!=null){try{return w.call(ee)}catch{}try{return ee+""}catch{}}return""}(re));var L}function ae(re,L){var ee,Q,te=re.__data__;return((Q=typeof(ee=L))=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?ee!=="__proto__":ee===null)?te[typeof L=="string"?"string":"hash"]:te.map}function q(re,L){var ee=function(Q,te){return Q==null?void 0:Q[te]}(re,L);return B(ee)?ee:void 0}function H(re,L){if(typeof re!="function"||L&&typeof L!="function")throw new TypeError("Expected a function");var ee=function(){var Q=arguments,te=L?L.apply(this,Q):Q[0],U=ee.cache;if(U.has(te))return U.get(te);var Z=re.apply(this,Q);return ee.cache=U.set(te,Z),Z};return ee.cache=new(H.Cache||S),ee}function ie(re){var L=typeof re;return!!re&&(L=="object"||L=="function")}j.prototype.clear=function(){this.__data__=R?R(null):{}},j.prototype.delete=function(re){return this.has(re)&&delete this.__data__[re]},j.prototype.get=function(re){var L=this.__data__;if(R){var ee=L[re];return ee==="__lodash_hash_undefined__"?void 0:ee}return b.call(L,re)?L[re]:void 0},j.prototype.has=function(re){var L=this.__data__;return R?L[re]!==void 0:b.call(L,re)},j.prototype.set=function(re,L){return this.__data__[re]=R&&L===void 0?"__lodash_hash_undefined__":L,this},O.prototype.clear=function(){this.__data__=[]},O.prototype.delete=function(re){var L=this.__data__,ee=P(L,re);return!(ee<0)&&(ee==L.length-1?L.pop():T.call(L,ee,1),!0)},O.prototype.get=function(re){var L=this.__data__,ee=P(L,re);return ee<0?void 0:L[ee][1]},O.prototype.has=function(re){return P(this.__data__,re)>-1},O.prototype.set=function(re,L){var ee=this.__data__,Q=P(ee,re);return Q<0?ee.push([re,L]):ee[Q][1]=L,this},S.prototype.clear=function(){this.__data__={hash:new j,map:new(C||O),string:new j}},S.prototype.delete=function(re){return ae(this,re).delete(re)},S.prototype.get=function(re){return ae(this,re).get(re)},S.prototype.has=function(re){return ae(this,re).has(re)},S.prototype.set=function(re,L){return ae(this,re).set(re,L),this},H.Cache=S,t.exports=H}).call(this,r(3))},function(t,e,r){(function(n){var s=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,h=typeof n=="object"&&n&&n.Object===Object&&n,f=typeof self=="object"&&self&&self.Object===Object&&self,p=h||f||Function("return this")(),g=Object.prototype.toString,x=Math.max,w=Math.min,b=function(){return p.Date.now()};function v(T){var C=typeof T;return!!T&&(C=="object"||C=="function")}function _(T){if(typeof T=="number")return T;if(function(j){return typeof j=="symbol"||function(O){return!!O&&typeof O=="object"}(j)&&g.call(j)=="[object Symbol]"}(T))return NaN;if(v(T)){var C=typeof T.valueOf=="function"?T.valueOf():T;T=v(C)?C+"":C}if(typeof T!="string")return T===0?T:+T;T=T.replace(s,"");var R=o.test(T);return R||c.test(T)?u(T.slice(2),R?2:8):i.test(T)?NaN:+T}t.exports=function(T,C,R){var j,O,S,P,B,ae,q=0,H=!1,ie=!1,re=!0;if(typeof T!="function")throw new TypeError("Expected a function");function L(X){var M=j,W=O;return j=O=void 0,q=X,P=T.apply(W,M)}function ee(X){return q=X,B=setTimeout(te,C),H?L(X):P}function Q(X){var M=X-ae;return ae===void 0||M>=C||M<0||ie&&X-q>=S}function te(){var X=b();if(Q(X))return U(X);B=setTimeout(te,function(M){var W=C-(M-ae);return ie?w(W,S-(M-q)):W}(X))}function U(X){return B=void 0,re&&j?L(X):(j=O=void 0,P)}function Z(){var X=b(),M=Q(X);if(j=arguments,O=this,ae=X,M){if(B===void 0)return ee(ae);if(ie)return B=setTimeout(te,C),L(ae)}return B===void 0&&(B=setTimeout(te,C)),P}return C=_(C)||0,v(R)&&(H=!!R.leading,S=(ie="maxWait"in R)?x(_(R.maxWait)||0,C):S,re="trailing"in R?!!R.trailing:re),Z.cancel=function(){B!==void 0&&clearTimeout(B),q=0,j=ae=O=B=void 0},Z.flush=function(){return B===void 0?P:U(b())},Z}}).call(this,r(3))},function(t,e,r){(function(n,s){var i="[object Arguments]",o="[object Map]",c="[object Object]",u="[object Set]",h=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,p=/^\./,g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,x=/\\(\\)?/g,w=/^\[object .+?Constructor\]$/,b=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[i]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[o]=v["[object Number]"]=v[c]=v["[object RegExp]"]=v[u]=v["[object String]"]=v["[object WeakMap]"]=!1;var _=typeof n=="object"&&n&&n.Object===Object&&n,T=typeof self=="object"&&self&&self.Object===Object&&self,C=_||T||Function("return this")(),R=e&&!e.nodeType&&e,j=R&&typeof s=="object"&&s&&!s.nodeType&&s,O=j&&j.exports===R&&_.process,S=function(){try{return O&&O.binding("util")}catch{}}(),P=S&&S.isTypedArray;function B(z,le,pe,me){var _e=-1,Oe=z?z.length:0;for(me&&Oe&&(pe=z[++_e]);++_e<Oe;)pe=le(pe,z[_e],_e,z);return pe}function ae(z,le){for(var pe=-1,me=z?z.length:0;++pe<me;)if(le(z[pe],pe,z))return!0;return!1}function q(z,le,pe,me,_e){return _e(z,function(Oe,Qe,ht){pe=me?(me=!1,Oe):le(pe,Oe,Qe,ht)}),pe}function H(z){var le=!1;if(z!=null&&typeof z.toString!="function")try{le=!!(z+"")}catch{}return le}function ie(z){var le=-1,pe=Array(z.size);return z.forEach(function(me,_e){pe[++le]=[_e,me]}),pe}function re(z){var le=-1,pe=Array(z.size);return z.forEach(function(me){pe[++le]=me}),pe}var L,ee,Q,te=Array.prototype,U=Function.prototype,Z=Object.prototype,X=C["__core-js_shared__"],M=(L=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",W=U.toString,K=Z.hasOwnProperty,E=Z.toString,ce=RegExp("^"+W.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=C.Symbol,ue=C.Uint8Array,be=Z.propertyIsEnumerable,Ee=te.splice,Ke=(ee=Object.keys,Q=Object,function(z){return ee(Q(z))}),We=Yn(C,"DataView"),Xe=Yn(C,"Map"),He=Yn(C,"Promise"),xe=Yn(C,"Set"),Ae=Yn(C,"WeakMap"),Te=Yn(Object,"create"),Je=F(We),rt=F(Xe),ot=F(He),dt=F(xe),wt=F(Ae),Se=ne?ne.prototype:void 0,ze=Se?Se.valueOf:void 0,Be=Se?Se.toString:void 0;function Re(z){var le=-1,pe=z?z.length:0;for(this.clear();++le<pe;){var me=z[le];this.set(me[0],me[1])}}function Ve(z){var le=-1,pe=z?z.length:0;for(this.clear();++le<pe;){var me=z[le];this.set(me[0],me[1])}}function Ze(z){var le=-1,pe=z?z.length:0;for(this.clear();++le<pe;){var me=z[le];this.set(me[0],me[1])}}function it(z){var le=-1,pe=z?z.length:0;for(this.__data__=new Ze;++le<pe;)this.add(z[le])}function kt(z){this.__data__=new Ve(z)}function Tt(z,le){var pe=J(z)||D(z)?function(Qe,ht){for(var gt=-1,Et=Array(Qe);++gt<Qe;)Et[gt]=ht(gt);return Et}(z.length,String):[],me=pe.length,_e=!!me;for(var Oe in z)!K.call(z,Oe)||_e&&(Oe=="length"||pa(Oe,me))||pe.push(Oe);return pe}function Ft(z,le){for(var pe=z.length;pe--;)if(Fe(z[pe][0],le))return pe;return-1}Re.prototype.clear=function(){this.__data__=Te?Te(null):{}},Re.prototype.delete=function(z){return this.has(z)&&delete this.__data__[z]},Re.prototype.get=function(z){var le=this.__data__;if(Te){var pe=le[z];return pe==="__lodash_hash_undefined__"?void 0:pe}return K.call(le,z)?le[z]:void 0},Re.prototype.has=function(z){var le=this.__data__;return Te?le[z]!==void 0:K.call(le,z)},Re.prototype.set=function(z,le){return this.__data__[z]=Te&&le===void 0?"__lodash_hash_undefined__":le,this},Ve.prototype.clear=function(){this.__data__=[]},Ve.prototype.delete=function(z){var le=this.__data__,pe=Ft(le,z);return!(pe<0)&&(pe==le.length-1?le.pop():Ee.call(le,pe,1),!0)},Ve.prototype.get=function(z){var le=this.__data__,pe=Ft(le,z);return pe<0?void 0:le[pe][1]},Ve.prototype.has=function(z){return Ft(this.__data__,z)>-1},Ve.prototype.set=function(z,le){var pe=this.__data__,me=Ft(pe,z);return me<0?pe.push([z,le]):pe[me][1]=le,this},Ze.prototype.clear=function(){this.__data__={hash:new Re,map:new(Xe||Ve),string:new Re}},Ze.prototype.delete=function(z){return xr(this,z).delete(z)},Ze.prototype.get=function(z){return xr(this,z).get(z)},Ze.prototype.has=function(z){return xr(this,z).has(z)},Ze.prototype.set=function(z,le){return xr(this,z).set(z,le),this},it.prototype.add=it.prototype.push=function(z){return this.__data__.set(z,"__lodash_hash_undefined__"),this},it.prototype.has=function(z){return this.__data__.has(z)},kt.prototype.clear=function(){this.__data__=new Ve},kt.prototype.delete=function(z){return this.__data__.delete(z)},kt.prototype.get=function(z){return this.__data__.get(z)},kt.prototype.has=function(z){return this.__data__.has(z)},kt.prototype.set=function(z,le){var pe=this.__data__;if(pe instanceof Ve){var me=pe.__data__;if(!Xe||me.length<199)return me.push([z,le]),this;pe=this.__data__=new Ze(me)}return pe.set(z,le),this};var xn,Xt=(xn=function(z,le){return z&&$n(z,le,ge)},function(z,le){if(z==null)return z;if(!V(z))return xn(z,le);for(var pe=z.length,me=-1,_e=Object(z);++me<pe&&le(_e[me],me,_e)!==!1;);return z}),$n=function(z){return function(le,pe,me){for(var _e=-1,Oe=Object(le),Qe=me(le),ht=Qe.length;ht--;){var gt=Qe[++_e];if(pe(Oe[gt],gt,Oe)===!1)break}return le}}();function Hn(z,le){for(var pe=0,me=(le=os(le,z)?[le]:Wn(le)).length;z!=null&&pe<me;)z=z[Yr(le[pe++])];return pe&&pe==me?z:void 0}function Ts(z,le){return z!=null&&le in Object(z)}function jn(z,le,pe,me,_e){return z===le||(z==null||le==null||!se(z)&&!ye(le)?z!=z&&le!=le:function(Oe,Qe,ht,gt,Et,St){var ur=J(Oe),At=J(Qe),nr="[object Array]",_t="[object Array]";ur||(nr=(nr=yn(Oe))==i?c:nr),At||(_t=(_t=yn(Qe))==i?c:_t);var Kn=nr==c&&!H(Oe),Va=_t==c&&!H(Qe),Xs=nr==_t;if(Xs&&!Kn)return St||(St=new kt),ur||we(Oe)?is(Oe,Qe,ht,gt,Et,St):function($t,Ut,zi,Js,$a,Fr,As){switch(zi){case"[object DataView]":if($t.byteLength!=Ut.byteLength||$t.byteOffset!=Ut.byteOffset)return!1;$t=$t.buffer,Ut=Ut.buffer;case"[object ArrayBuffer]":return!($t.byteLength!=Ut.byteLength||!Js(new ue($t),new ue(Ut)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Fe(+$t,+Ut);case"[object Error]":return $t.name==Ut.name&&$t.message==Ut.message;case"[object RegExp]":case"[object String]":return $t==Ut+"";case o:var ls=ie;case u:var Pt=2&Fr;if(ls||(ls=re),$t.size!=Ut.size&&!Pt)return!1;var Vi=As.get($t);if(Vi)return Vi==Ut;Fr|=1,As.set($t,Ut);var ga=is(ls($t),ls(Ut),Js,$a,Fr,As);return As.delete($t),ga;case"[object Symbol]":if(ze)return ze.call($t)==ze.call(Ut)}return!1}(Oe,Qe,nr,ht,gt,Et,St);if(!(2&Et)){var Ii=Kn&&K.call(Oe,"__wrapped__"),Bi=Va&&K.call(Qe,"__wrapped__");if(Ii||Bi){var Ui=Ii?Oe.value():Oe,Io=Bi?Qe.value():Qe;return St||(St=new kt),ht(Ui,Io,gt,Et,St)}}return Xs?(St||(St=new kt),function($t,Ut,zi,Js,$a,Fr){var As=2&$a,ls=ge($t),Pt=ls.length,Vi=ge(Ut).length;if(Pt!=Vi&&!As)return!1;for(var ga=Pt;ga--;){var cs=ls[ga];if(!(As?cs in Ut:K.call(Ut,cs)))return!1}var Zl=Fr.get($t);if(Zl&&Fr.get(Ut))return Zl==Ut;var $i=!0;Fr.set($t,Ut),Fr.set(Ut,$t);for(var Bo=As;++ga<Pt;){cs=ls[ga];var Ha=$t[cs],xa=Ut[cs];if(Js)var Ps=As?Js(xa,Ha,cs,Ut,$t,Fr):Js(Ha,xa,cs,$t,Ut,Fr);if(!(Ps===void 0?Ha===xa||zi(Ha,xa,Js,$a,Fr):Ps)){$i=!1;break}Bo||(Bo=cs=="constructor")}if($i&&!Bo){var Gn=$t.constructor,qn=Ut.constructor;Gn==qn||!("constructor"in $t)||!("constructor"in Ut)||typeof Gn=="function"&&Gn instanceof Gn&&typeof qn=="function"&&qn instanceof qn||($i=!1)}return Fr.delete($t),Fr.delete(Ut),$i}(Oe,Qe,ht,gt,Et,St)):!1}(z,le,jn,pe,me,_e))}function Cn(z){return!(!se(z)||function(le){return!!M&&M in le}(z))&&(G(z)||H(z)?ce:w).test(F(z))}function Gs(z){return typeof z=="function"?z:z==null?ke:typeof z=="object"?J(z)?function(me,_e){return os(me)&&Es(_e)?jr(Yr(me),_e):function(Oe){var Qe=function(ht,gt,Et){var St=ht==null?void 0:Hn(ht,gt);return St===void 0?Et:St}(Oe,me);return Qe===void 0&&Qe===_e?function(ht,gt){return ht!=null&&function(Et,St,ur){St=os(St,Et)?[St]:Wn(St);for(var At,nr=-1,_t=St.length;++nr<_t;){var Kn=Yr(St[nr]);if(!(At=Et!=null&&ur(Et,Kn)))break;Et=Et[Kn]}return At||!!(_t=Et?Et.length:0)&&Y(_t)&&pa(Kn,_t)&&(J(Et)||D(Et))}(ht,gt,Ts)}(Oe,me):jn(_e,Qe,void 0,3)}}(z[0],z[1]):function(me){var _e=function(Oe){for(var Qe=ge(Oe),ht=Qe.length;ht--;){var gt=Qe[ht],Et=Oe[gt];Qe[ht]=[gt,Et,Es(Et)]}return Qe}(me);return _e.length==1&&_e[0][2]?jr(_e[0][0],_e[0][1]):function(Oe){return Oe===me||function(Qe,ht,gt,Et){var St=gt.length,ur=St;if(Qe==null)return!ur;for(Qe=Object(Qe);St--;){var At=gt[St];if(At[2]?At[1]!==Qe[At[0]]:!(At[0]in Qe))return!1}for(;++St<ur;){var nr=(At=gt[St])[0],_t=Qe[nr],Kn=At[1];if(At[2]){if(_t===void 0&&!(nr in Qe))return!1}else{var Va=new kt,Xs;if(!(Xs===void 0?jn(Kn,_t,Et,3,Va):Xs))return!1}}return!0}(Oe,me,_e)}}(z):os(le=z)?(pe=Yr(le),function(me){return me==null?void 0:me[pe]}):function(me){return function(_e){return Hn(_e,me)}}(le);var le,pe}function as(z){if(pe=(le=z)&&le.constructor,me=typeof pe=="function"&&pe.prototype||Z,le!==me)return Ke(z);var le,pe,me,_e=[];for(var Oe in Object(z))K.call(z,Oe)&&Oe!="constructor"&&_e.push(Oe);return _e}function Wn(z){return J(z)?z:qs(z)}function is(z,le,pe,me,_e,Oe){var Qe=2&_e,ht=z.length,gt=le.length;if(ht!=gt&&!(Qe&&gt>ht))return!1;var Et=Oe.get(z);if(Et&&Oe.get(le))return Et==le;var St=-1,ur=!0,At=1&_e?new it:void 0;for(Oe.set(z,le),Oe.set(le,z);++St<ht;){var nr=z[St],_t=le[St];if(me)var Kn=Qe?me(_t,nr,St,le,z,Oe):me(nr,_t,St,z,le,Oe);if(Kn!==void 0){if(Kn)continue;ur=!1;break}if(At){if(!ae(le,function(Va,Xs){if(!At.has(Xs)&&(nr===Va||pe(nr,Va,me,_e,Oe)))return At.add(Xs)})){ur=!1;break}}else if(nr!==_t&&!pe(nr,_t,me,_e,Oe)){ur=!1;break}}return Oe.delete(z),Oe.delete(le),ur}function xr(z,le){var pe,me,_e=z.__data__;return((me=typeof(pe=le))=="string"||me=="number"||me=="symbol"||me=="boolean"?pe!=="__proto__":pe===null)?_e[typeof le=="string"?"string":"hash"]:_e.map}function Yn(z,le){var pe=function(me,_e){return me==null?void 0:me[_e]}(z,le);return Cn(pe)?pe:void 0}var yn=function(z){return E.call(z)};function pa(z,le){return!!(le=le??9007199254740991)&&(typeof z=="number"||b.test(z))&&z>-1&&z%1==0&&z<le}function os(z,le){if(J(z))return!1;var pe=typeof z;return!(pe!="number"&&pe!="symbol"&&pe!="boolean"&&z!=null&&!Ce(z))||f.test(z)||!h.test(z)||le!=null&&z in Object(le)}function Es(z){return z==z&&!se(z)}function jr(z,le){return function(pe){return pe!=null&&pe[z]===le&&(le!==void 0||z in Object(pe))}}(We&&yn(new We(new ArrayBuffer(1)))!="[object DataView]"||Xe&&yn(new Xe)!=o||He&&yn(He.resolve())!="[object Promise]"||xe&&yn(new xe)!=u||Ae&&yn(new Ae)!="[object WeakMap]")&&(yn=function(z){var le=E.call(z),pe=le==c?z.constructor:void 0,me=pe?F(pe):void 0;if(me)switch(me){case Je:return"[object DataView]";case rt:return o;case ot:return"[object Promise]";case dt:return u;case wt:return"[object WeakMap]"}return le});var qs=fe(function(z){var le;z=(le=z)==null?"":function(me){if(typeof me=="string")return me;if(Ce(me))return Be?Be.call(me):"";var _e=me+"";return _e=="0"&&1/me==-1/0?"-0":_e}(le);var pe=[];return p.test(z)&&pe.push(""),z.replace(g,function(me,_e,Oe,Qe){pe.push(Oe?Qe.replace(x,"$1"):_e||me)}),pe});function Yr(z){if(typeof z=="string"||Ce(z))return z;var le=z+"";return le=="0"&&1/z==-1/0?"-0":le}function F(z){if(z!=null){try{return W.call(z)}catch{}try{return z+""}catch{}}return""}function fe(z,le){if(typeof z!="function"||le&&typeof le!="function")throw new TypeError("Expected a function");var pe=function(){var me=arguments,_e=le?le.apply(this,me):me[0],Oe=pe.cache;if(Oe.has(_e))return Oe.get(_e);var Qe=z.apply(this,me);return pe.cache=Oe.set(_e,Qe),Qe};return pe.cache=new(fe.Cache||Ze),pe}function Fe(z,le){return z===le||z!=z&&le!=le}function D(z){return function(le){return ye(le)&&V(le)}(z)&&K.call(z,"callee")&&(!be.call(z,"callee")||E.call(z)==i)}fe.Cache=Ze;var J=Array.isArray;function V(z){return z!=null&&Y(z.length)&&!G(z)}function G(z){var le=se(z)?E.call(z):"";return le=="[object Function]"||le=="[object GeneratorFunction]"}function Y(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=9007199254740991}function se(z){var le=typeof z;return!!z&&(le=="object"||le=="function")}function ye(z){return!!z&&typeof z=="object"}function Ce(z){return typeof z=="symbol"||ye(z)&&E.call(z)=="[object Symbol]"}var we=P?function(z){return function(le){return z(le)}}(P):function(z){return ye(z)&&Y(z.length)&&!!v[E.call(z)]};function ge(z){return V(z)?Tt(z):as(z)}function ke(z){return z}s.exports=function(z,le,pe){var me=J(z)?B:q,_e=arguments.length<3;return me(z,Gs(le),pe,_e,Xt)}}).call(this,r(3),r(7)(t))},function(t,e){t.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children||(r.children=[]),Object.defineProperty(r,"loaded",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return r.i}}),r.webpackPolyfill=1),r}},function(t,e){String.prototype.padEnd||(String.prototype.padEnd=function(r,n){return r>>=0,n=String(n!==void 0?n:" "),this.length>r?String(this):((r-=this.length)>n.length&&(n+=n.repeat(r/n.length)),String(this)+n.slice(0,r))})},function(t,e,r){function n(Z,X,M){return X in Z?Object.defineProperty(Z,X,{value:M,enumerable:!0,configurable:!0,writable:!0}):Z[X]=M,Z}function s(Z){if(Symbol.iterator in Object(Z)||Object.prototype.toString.call(Z)==="[object Arguments]")return Array.from(Z)}function i(Z){return function(X){if(Array.isArray(X)){for(var M=0,W=new Array(X.length);M<X.length;M++)W[M]=X[M];return W}}(Z)||s(Z)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(Z){if(Array.isArray(Z))return Z}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(Z,X){if(!(Z instanceof X))throw new TypeError("Cannot call a class as a function")}function h(Z,X){for(var M=0;M<X.length;M++){var W=X[M];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Z,W.key,W)}}function f(Z){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X})(Z)}function p(Z){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(X){return f(X)}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":f(X)})(Z)}function g(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function x(Z){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(X){return X.__proto__||Object.getPrototypeOf(X)})(Z)}function w(Z,X){return(w=Object.setPrototypeOf||function(M,W){return M.__proto__=W,M})(Z,X)}r.r(e);var b=r(0),v=r.n(b),_=r(5),T=r.n(_),C=r(4),R=r.n(C),j=r(6),O=r.n(j),S=r(2),P=r.n(S),B=r(1),ae=r.n(B);r(8);function q(Z,X){return o(Z)||function(M,W){var K=[],E=!0,ce=!1,ne=void 0;try{for(var ue,be=M[Symbol.iterator]();!(E=(ue=be.next()).done)&&(K.push(ue.value),!W||K.length!==W);E=!0);}catch(Ee){ce=!0,ne=Ee}finally{try{E||be.return==null||be.return()}finally{if(ce)throw ne}}return K}(Z,X)||c()}var H=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["Côte d’Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaçao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["Réunion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["São Tomé and Príncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],ie=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barthélemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function re(Z,X,M,W,K){return!M||K?Z+"".padEnd(X.length,".")+" "+W:Z+"".padEnd(X.length,".")+" "+M}function L(Z,X,M,W,K){var E,ce,ne=[];return ce=X===!0,[(E=[]).concat.apply(E,i(Z.map(function(ue){var be={name:ue[0],regions:ue[1],iso2:ue[2],countryCode:ue[3],dialCode:ue[3],format:re(M,ue[3],ue[4],W,K),priority:ue[5]||0},Ee=[];return ue[6]&&ue[6].map(function(Ke){var We=function(Xe){for(var He=1;He<arguments.length;He++){var xe=arguments[He]!=null?arguments[He]:{},Ae=Object.keys(xe);typeof Object.getOwnPropertySymbols=="function"&&(Ae=Ae.concat(Object.getOwnPropertySymbols(xe).filter(function(Te){return Object.getOwnPropertyDescriptor(xe,Te).enumerable}))),Ae.forEach(function(Te){n(Xe,Te,xe[Te])})}return Xe}({},be);We.dialCode=ue[3]+Ke,We.isAreaCode=!0,We.areaCodeLength=Ke.length,Ee.push(We)}),Ee.length>0?(be.mainCode=!0,ce||X.constructor.name==="Array"&&X.includes(ue[2])?(be.hasAreaCodes=!0,[be].concat(Ee)):(ne=ne.concat(Ee),[be])):[be]}))),ne]}function ee(Z,X,M,W){if(M!==null){var K=Object.keys(M),E=Object.values(M);K.forEach(function(ce,ne){if(W)return Z.push([ce,E[ne]]);var ue=Z.findIndex(function(Ee){return Ee[0]===ce});if(ue===-1){var be=[ce];be[X]=E[ne],Z.push(be)}else Z[ue][X]=E[ne]})}}function Q(Z,X){return X.length===0?Z:Z.map(function(M){var W=X.findIndex(function(E){return E[0]===M[2]});if(W===-1)return M;var K=X[W];return K[1]&&(M[4]=K[1]),K[3]&&(M[5]=K[3]),K[2]&&(M[6]=K[2]),M})}var te=function Z(X,M,W,K,E,ce,ne,ue,be,Ee,Ke,We,Xe,He){u(this,Z),this.filterRegions=function(Se,ze){if(typeof Se=="string"){var Be=Se;return ze.filter(function(Re){return Re.regions.some(function(Ve){return Ve===Be})})}return ze.filter(function(Re){return Se.map(function(Ve){return Re.regions.some(function(Ze){return Ze===Ve})}).some(function(Ve){return Ve})})},this.sortTerritories=function(Se,ze){var Be=[].concat(i(Se),i(ze));return Be.sort(function(Re,Ve){return Re.name<Ve.name?-1:Re.name>Ve.name?1:0}),Be},this.getFilteredCountryList=function(Se,ze,Be){return Se.length===0?ze:Be?Se.map(function(Re){var Ve=ze.find(function(Ze){return Ze.iso2===Re});if(Ve)return Ve}).filter(function(Re){return Re}):ze.filter(function(Re){return Se.some(function(Ve){return Ve===Re.iso2})})},this.localizeCountries=function(Se,ze,Be){for(var Re=0;Re<Se.length;Re++)ze[Se[Re].iso2]!==void 0?Se[Re].localName=ze[Se[Re].iso2]:ze[Se[Re].name]!==void 0&&(Se[Re].localName=ze[Se[Re].name]);return Be||Se.sort(function(Ve,Ze){return Ve.localName<Ze.localName?-1:Ve.localName>Ze.localName?1:0}),Se},this.getCustomAreas=function(Se,ze){for(var Be=[],Re=0;Re<ze.length;Re++){var Ve=JSON.parse(JSON.stringify(Se));Ve.dialCode+=ze[Re],Be.push(Ve)}return Be},this.excludeCountries=function(Se,ze){return ze.length===0?Se:Se.filter(function(Be){return!ze.includes(Be.iso2)})};var xe=function(Se,ze,Be){var Re=[];return ee(Re,1,Se,!0),ee(Re,3,ze),ee(Re,2,Be),Re}(ue,be,Ee),Ae=Q(JSON.parse(JSON.stringify(H)),xe),Te=Q(JSON.parse(JSON.stringify(ie)),xe),Je=q(L(Ae,X,We,Xe,He),2),rt=Je[0],ot=Je[1];if(M){var dt=q(L(Te,X,We,Xe,He),2),wt=dt[0];dt[1],rt=this.sortTerritories(wt,rt)}W&&(rt=this.filterRegions(W,rt)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(K,rt,ne.includes("onlyCountries")),ce),Ke,ne.includes("onlyCountries")),this.preferredCountries=E.length===0?[]:this.localizeCountries(this.getFilteredCountryList(E,rt,ne.includes("preferredCountries")),Ke,ne.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(K,ot),ce)},U=function(Z){function X(K){var E;u(this,X),(E=function(xe,Ae){return!Ae||p(Ae)!=="object"&&typeof Ae!="function"?g(xe):Ae}(this,x(X).call(this,K))).getProbableCandidate=R()(function(xe){return xe&&xe.length!==0?E.state.onlyCountries.filter(function(Ae){return P()(Ae.name.toLowerCase(),xe.toLowerCase())},g(g(E)))[0]:null}),E.guessSelectedCountry=R()(function(xe,Ae,Te,Je){var rt;if(E.props.enableAreaCodes===!1&&(Je.some(function(wt){if(P()(xe,wt.dialCode))return Te.some(function(Se){if(wt.iso2===Se.iso2&&Se.mainCode)return rt=Se,!0}),!0}),rt))return rt;var ot=Te.find(function(wt){return wt.iso2==Ae});if(xe.trim()==="")return ot;var dt=Te.reduce(function(wt,Se){return P()(xe,Se.dialCode)&&(Se.dialCode.length>wt.dialCode.length||Se.dialCode.length===wt.dialCode.length&&Se.priority<wt.priority)?Se:wt},{dialCode:"",priority:10001},g(g(E)));return dt.name?dt:ot}),E.updateCountry=function(xe){var Ae,Te=E.state.onlyCountries;(Ae=xe.indexOf(0)>="0"&&xe.indexOf(0)<="9"?Te.find(function(Je){return Je.dialCode==+xe}):Te.find(function(Je){return Je.iso2==xe}))&&Ae.dialCode&&E.setState({selectedCountry:Ae,formattedNumber:E.props.disableCountryCode?"":E.formatNumber(Ae.dialCode,Ae)})},E.scrollTo=function(xe,Ae){if(xe){var Te=E.dropdownRef;if(Te&&document.body){var Je=Te.offsetHeight,rt=Te.getBoundingClientRect().top+document.body.scrollTop,ot=rt+Je,dt=xe,wt=dt.getBoundingClientRect(),Se=dt.offsetHeight,ze=wt.top+document.body.scrollTop,Be=ze+Se,Re=ze-rt+Te.scrollTop,Ve=Je/2-Se/2;if(E.props.enableSearch?ze<rt+32:ze<rt)Ae&&(Re-=Ve),Te.scrollTop=Re;else if(Be>ot){Ae&&(Re+=Ve);var Ze=Je-Se;Te.scrollTop=Re-Ze}}}},E.scrollToTop=function(){var xe=E.dropdownRef;xe&&document.body&&(xe.scrollTop=0)},E.formatNumber=function(xe,Ae){if(!Ae)return xe;var Te,Je=Ae.format,rt=E.props,ot=rt.disableCountryCode,dt=rt.enableAreaCodeStretch,wt=rt.enableLongNumbers,Se=rt.autoFormat;if(ot?((Te=Je.split(" ")).shift(),Te=Te.join(" ")):dt&&Ae.isAreaCode?((Te=Je.split(" "))[1]=Te[1].replace(/\.+/,"".padEnd(Ae.areaCodeLength,".")),Te=Te.join(" ")):Te=Je,!xe||xe.length===0)return ot?"":E.props.prefix;if(xe&&xe.length<2||!Te||!Se)return ot?xe:E.props.prefix+xe;var ze,Be=O()(Te,function(Re,Ve){if(Re.remainingText.length===0)return Re;if(Ve!==".")return{formattedText:Re.formattedText+Ve,remainingText:Re.remainingText};var Ze,it=o(Ze=Re.remainingText)||s(Ze)||c(),kt=it[0],Tt=it.slice(1);return{formattedText:Re.formattedText+kt,remainingText:Tt}},{formattedText:"",remainingText:xe.split("")});return(ze=wt?Be.formattedText+Be.remainingText.join(""):Be.formattedText).includes("(")&&!ze.includes(")")&&(ze+=")"),ze},E.cursorToEnd=function(){var xe=E.numberInputRef;if(document.activeElement===xe){xe.focus();var Ae=xe.value.length;xe.value.charAt(Ae-1)===")"&&(Ae-=1),xe.setSelectionRange(Ae,Ae)}},E.getElement=function(xe){return E["flag_no_".concat(xe)]},E.getCountryData=function(){return E.state.selectedCountry?{name:E.state.selectedCountry.name||"",dialCode:E.state.selectedCountry.dialCode||"",countryCode:E.state.selectedCountry.iso2||"",format:E.state.selectedCountry.format||""}:{}},E.handleFlagDropdownClick=function(xe){if(xe.preventDefault(),E.state.showDropdown||!E.props.disabled){var Ae=E.state,Te=Ae.preferredCountries,Je=Ae.onlyCountries,rt=Ae.selectedCountry,ot=E.concatPreferredCountries(Te,Je).findIndex(function(dt){return dt.dialCode===rt.dialCode&&dt.iso2===rt.iso2});E.setState({showDropdown:!E.state.showDropdown,highlightCountryIndex:ot},function(){E.state.showDropdown&&E.scrollTo(E.getElement(E.state.highlightCountryIndex))})}},E.handleInput=function(xe){var Ae=xe.target.value,Te=E.props,Je=Te.prefix,rt=Te.onChange,ot=E.props.disableCountryCode?"":Je,dt=E.state.selectedCountry,wt=E.state.freezeSelection;if(!E.props.countryCodeEditable){var Se=Je+(dt.hasAreaCodes?E.state.onlyCountries.find(function(Xt){return Xt.iso2===dt.iso2&&Xt.mainCode}).dialCode:dt.dialCode);if(Ae.slice(0,Se.length)!==Se)return}if(Ae===Je)return rt&&rt("",E.getCountryData(),xe,""),E.setState({formattedNumber:""});if(!(Ae.replace(/\D/g,"").length>15&&(E.props.enableLongNumbers===!1||typeof E.props.enableLongNumbers=="number"&&Ae.replace(/\D/g,"").length>E.props.enableLongNumbers))&&Ae!==E.state.formattedNumber){xe.preventDefault?xe.preventDefault():xe.returnValue=!1;var ze=E.props.country,Be=E.state,Re=Be.onlyCountries,Ve=Be.selectedCountry,Ze=Be.hiddenAreaCodes;if(rt&&xe.persist(),Ae.length>0){var it=Ae.replace(/\D/g,"");(!E.state.freezeSelection||Ve&&Ve.dialCode.length>it.length)&&(dt=E.props.disableCountryGuess?Ve:E.guessSelectedCountry(it.substring(0,6),ze,Re,Ze)||Ve,wt=!1),ot=E.formatNumber(it,dt),dt=dt.dialCode?dt:Ve}var kt=xe.target.selectionStart,Tt=xe.target.selectionStart,Ft=E.state.formattedNumber,xn=ot.length-Ft.length;E.setState({formattedNumber:ot,freezeSelection:wt,selectedCountry:dt},function(){xn>0&&(Tt-=xn),ot.charAt(ot.length-1)==")"?E.numberInputRef.setSelectionRange(ot.length-1,ot.length-1):Tt>0&&Ft.length>=ot.length?E.numberInputRef.setSelectionRange(Tt,Tt):kt<Ft.length&&E.numberInputRef.setSelectionRange(kt,kt),rt&&rt(ot.replace(/[^0-9]+/g,""),E.getCountryData(),xe,ot)})}},E.handleInputClick=function(xe){E.setState({showDropdown:!1}),E.props.onClick&&E.props.onClick(xe,E.getCountryData())},E.handleDoubleClick=function(xe){var Ae=xe.target.value.length;xe.target.setSelectionRange(0,Ae)},E.handleFlagItemClick=function(xe,Ae){var Te=E.state.selectedCountry,Je=E.state.onlyCountries.find(function(wt){return wt==xe});if(Je){var rt=E.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),ot=rt.length>1?rt.replace(Te.dialCode,Je.dialCode):Je.dialCode,dt=E.formatNumber(ot.replace(/\D/g,""),Je);E.setState({showDropdown:!1,selectedCountry:Je,freezeSelection:!0,formattedNumber:dt,searchValue:""},function(){E.cursorToEnd(),E.props.onChange&&E.props.onChange(dt.replace(/[^0-9]+/g,""),E.getCountryData(),Ae,dt)})}},E.handleInputFocus=function(xe){E.numberInputRef&&E.numberInputRef.value===E.props.prefix&&E.state.selectedCountry&&!E.props.disableCountryCode&&E.setState({formattedNumber:E.props.prefix+E.state.selectedCountry.dialCode},function(){E.props.jumpCursorToEnd&&setTimeout(E.cursorToEnd,0)}),E.setState({placeholder:""}),E.props.onFocus&&E.props.onFocus(xe,E.getCountryData()),E.props.jumpCursorToEnd&&setTimeout(E.cursorToEnd,0)},E.handleInputBlur=function(xe){xe.target.value||E.setState({placeholder:E.props.placeholder}),E.props.onBlur&&E.props.onBlur(xe,E.getCountryData())},E.handleInputCopy=function(xe){if(E.props.copyNumbersOnly){var Ae=window.getSelection().toString().replace(/[^0-9]+/g,"");xe.clipboardData.setData("text/plain",Ae),xe.preventDefault()}},E.getHighlightCountryIndex=function(xe){var Ae=E.state.highlightCountryIndex+xe;return Ae<0||Ae>=E.state.onlyCountries.length+E.state.preferredCountries.length?Ae-xe:E.props.enableSearch&&Ae>E.getSearchFilteredCountries().length?0:Ae},E.searchCountry=function(){var xe=E.getProbableCandidate(E.state.queryString)||E.state.onlyCountries[0],Ae=E.state.onlyCountries.findIndex(function(Te){return Te==xe})+E.state.preferredCountries.length;E.scrollTo(E.getElement(Ae),!0),E.setState({queryString:"",highlightCountryIndex:Ae})},E.handleKeydown=function(xe){var Ae=E.props.keys,Te=xe.target.className;if(Te.includes("selected-flag")&&xe.which===Ae.ENTER&&!E.state.showDropdown)return E.handleFlagDropdownClick(xe);if(Te.includes("form-control")&&(xe.which===Ae.ENTER||xe.which===Ae.ESC))return xe.target.blur();if(E.state.showDropdown&&!E.props.disabled&&(!Te.includes("search-box")||xe.which===Ae.UP||xe.which===Ae.DOWN||xe.which===Ae.ENTER||xe.which===Ae.ESC&&xe.target.value==="")){xe.preventDefault?xe.preventDefault():xe.returnValue=!1;var Je=function(rt){E.setState({highlightCountryIndex:E.getHighlightCountryIndex(rt)},function(){E.scrollTo(E.getElement(E.state.highlightCountryIndex),!0)})};switch(xe.which){case Ae.DOWN:Je(1);break;case Ae.UP:Je(-1);break;case Ae.ENTER:E.props.enableSearch?E.handleFlagItemClick(E.getSearchFilteredCountries()[E.state.highlightCountryIndex]||E.getSearchFilteredCountries()[0],xe):E.handleFlagItemClick([].concat(i(E.state.preferredCountries),i(E.state.onlyCountries))[E.state.highlightCountryIndex],xe);break;case Ae.ESC:case Ae.TAB:E.setState({showDropdown:!1},E.cursorToEnd);break;default:(xe.which>=Ae.A&&xe.which<=Ae.Z||xe.which===Ae.SPACE)&&E.setState({queryString:E.state.queryString+String.fromCharCode(xe.which)},E.state.debouncedQueryStingSearcher)}}},E.handleInputKeyDown=function(xe){var Ae=E.props,Te=Ae.keys,Je=Ae.onEnterKeyPress,rt=Ae.onKeyDown;xe.which===Te.ENTER&&Je&&Je(xe),rt&&rt(xe)},E.handleClickOutside=function(xe){E.dropdownRef&&!E.dropdownContainerRef.contains(xe.target)&&E.state.showDropdown&&E.setState({showDropdown:!1})},E.handleSearchChange=function(xe){var Ae=xe.currentTarget.value,Te=E.state,Je=Te.preferredCountries,rt=Te.selectedCountry,ot=0;if(Ae===""&&rt){var dt=E.state.onlyCountries;ot=E.concatPreferredCountries(Je,dt).findIndex(function(wt){return wt==rt}),setTimeout(function(){return E.scrollTo(E.getElement(ot))},100)}E.setState({searchValue:Ae,highlightCountryIndex:ot})},E.concatPreferredCountries=function(xe,Ae){return xe.length>0?i(new Set(xe.concat(Ae))):Ae},E.getDropdownCountryName=function(xe){return xe.localName||xe.name},E.getSearchFilteredCountries=function(){var xe=E.state,Ae=xe.preferredCountries,Te=xe.onlyCountries,Je=xe.searchValue,rt=E.props.enableSearch,ot=E.concatPreferredCountries(Ae,Te),dt=Je.trim().toLowerCase().replace("+","");if(rt&&dt){if(/^\d+$/.test(dt))return ot.filter(function(ze){var Be=ze.dialCode;return["".concat(Be)].some(function(Re){return Re.toLowerCase().includes(dt)})});var wt=ot.filter(function(ze){var Be=ze.iso2;return["".concat(Be)].some(function(Re){return Re.toLowerCase().includes(dt)})}),Se=ot.filter(function(ze){var Be=ze.name,Re=ze.localName;return ze.iso2,["".concat(Be),"".concat(Re||"")].some(function(Ve){return Ve.toLowerCase().includes(dt)})});return E.scrollToTop(),i(new Set([].concat(wt,Se)))}return ot},E.getCountryDropdownList=function(){var xe=E.state,Ae=xe.preferredCountries,Te=xe.highlightCountryIndex,Je=xe.showDropdown,rt=xe.searchValue,ot=E.props,dt=ot.disableDropdown,wt=ot.prefix,Se=E.props,ze=Se.enableSearch,Be=Se.searchNotFound,Re=Se.disableSearchIcon,Ve=Se.searchClass,Ze=Se.searchStyle,it=Se.searchPlaceholder,kt=Se.autocompleteSearch,Tt=E.getSearchFilteredCountries().map(function(Xt,$n){var Hn=Te===$n,Ts=ae()({country:!0,preferred:Xt.iso2==="us"||Xt.iso2==="gb",active:Xt.iso2==="us",highlight:Hn}),jn="flag ".concat(Xt.iso2);return v.a.createElement("li",Object.assign({ref:function(Cn){return E["flag_no_".concat($n)]=Cn},key:"flag_no_".concat($n),"data-flag-key":"flag_no_".concat($n),className:Ts,"data-dial-code":"1",tabIndex:dt?"-1":"0","data-country-code":Xt.iso2,onClick:function(Cn){return E.handleFlagItemClick(Xt,Cn)},role:"option"},Hn?{"aria-selected":!0}:{}),v.a.createElement("div",{className:jn}),v.a.createElement("span",{className:"country-name"},E.getDropdownCountryName(Xt)),v.a.createElement("span",{className:"dial-code"},Xt.format?E.formatNumber(Xt.dialCode,Xt):wt+Xt.dialCode))}),Ft=v.a.createElement("li",{key:"dashes",className:"divider"});Ae.length>0&&(!ze||ze&&!rt.trim())&&Tt.splice(Ae.length,0,Ft);var xn=ae()(n({"country-list":!0,hide:!Je},E.props.dropdownClass,!0));return v.a.createElement("ul",{ref:function(Xt){return!ze&&Xt&&Xt.focus(),E.dropdownRef=Xt},className:xn,style:E.props.dropdownStyle,role:"listbox",tabIndex:"0"},ze&&v.a.createElement("li",{className:ae()(n({search:!0},Ve,Ve))},!Re&&v.a.createElement("span",{className:ae()(n({"search-emoji":!0},"".concat(Ve,"-emoji"),Ve)),role:"img","aria-label":"Magnifying glass"},"🔎"),v.a.createElement("input",{className:ae()(n({"search-box":!0},"".concat(Ve,"-box"),Ve)),style:Ze,type:"search",placeholder:it,autoFocus:!0,autoComplete:kt?"on":"off",value:rt,onChange:E.handleSearchChange})),Tt.length>0?Tt:v.a.createElement("li",{className:"no-entries-message"},v.a.createElement("span",null,Be)))};var ce,ne=new te(K.enableAreaCodes,K.enableTerritories,K.regions,K.onlyCountries,K.preferredCountries,K.excludeCountries,K.preserveOrder,K.masks,K.priority,K.areaCodes,K.localization,K.prefix,K.defaultMask,K.alwaysDefaultMask),ue=ne.onlyCountries,be=ne.preferredCountries,Ee=ne.hiddenAreaCodes,Ke=K.value?K.value.replace(/\D/g,""):"";ce=K.disableInitialCountryGuess?0:Ke.length>1?E.guessSelectedCountry(Ke.substring(0,6),K.country,ue,Ee)||0:K.country&&ue.find(function(xe){return xe.iso2==K.country})||0;var We,Xe=Ke.length<2&&ce&&!P()(Ke,ce.dialCode)?ce.dialCode:"";We=Ke===""&&ce===0?"":E.formatNumber((K.disableCountryCode?"":Xe)+Ke,ce.name?ce:void 0);var He=ue.findIndex(function(xe){return xe==ce});return E.state={showDropdown:K.showDropdown,formattedNumber:We,onlyCountries:ue,preferredCountries:be,hiddenAreaCodes:Ee,selectedCountry:ce,highlightCountryIndex:He,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:T()(E.searchCountry,250),searchValue:""},E}var M,W;return function(K,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(E&&E.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),E&&w(K,E)}(X,Z),M=X,(W=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(K,E,ce){K.country!==this.props.country?this.updateCountry(this.props.country):K.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(K){if(K===null)return this.setState({selectedCountry:0,formattedNumber:""});var E=this.state,ce=E.onlyCountries,ne=E.selectedCountry,ue=E.hiddenAreaCodes,be=this.props,Ee=be.country,Ke=be.prefix;if(K==="")return this.setState({selectedCountry:ne,formattedNumber:""});var We,Xe,He=K.replace(/\D/g,"");if(ne&&P()(K,Ke+ne.dialCode))Xe=this.formatNumber(He,ne),this.setState({formattedNumber:Xe});else{var xe=(We=this.props.disableCountryGuess?ne:this.guessSelectedCountry(He.substring(0,6),Ee,ce,ue)||ne)&&P()(He,Ke+We.dialCode)?We.dialCode:"";Xe=this.formatNumber((this.props.disableCountryCode?"":xe)+He,We||void 0),this.setState({selectedCountry:We,formattedNumber:Xe})}}},{key:"render",value:function(){var K,E,ce,ne=this,ue=this.state,be=ue.onlyCountries,Ee=ue.selectedCountry,Ke=ue.showDropdown,We=ue.formattedNumber,Xe=ue.hiddenAreaCodes,He=this.props,xe=He.disableDropdown,Ae=He.renderStringAsFlag,Te=He.isValid,Je=He.defaultErrorMessage,rt=He.specialLabel;if(typeof Te=="boolean")E=Te;else{var ot=Te(We.replace(/\D/g,""),Ee,be,Xe);typeof ot=="boolean"?(E=ot)===!1&&(ce=Je):(E=!1,ce=ot)}var dt=ae()((n(K={},this.props.containerClass,!0),n(K,"react-tel-input",!0),K)),wt=ae()({arrow:!0,up:Ke}),Se=ae()(n({"form-control":!0,"invalid-number":!E,open:Ke},this.props.inputClass,!0)),ze=ae()({"selected-flag":!0,open:Ke}),Be=ae()(n({"flag-dropdown":!0,"invalid-number":!E,open:Ke},this.props.buttonClass,!0)),Re="flag ".concat(Ee&&Ee.iso2);return v.a.createElement("div",{className:"".concat(dt," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},rt&&v.a.createElement("div",{className:"special-label"},rt),ce&&v.a.createElement("div",{className:"invalid-number-message"},ce),v.a.createElement("input",Object.assign({className:Se,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:We,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(Ve){ne.numberInputRef=Ve,typeof ne.props.inputProps.ref=="function"?ne.props.inputProps.ref(Ve):typeof ne.props.inputProps.ref=="object"&&(ne.props.inputProps.ref.current=Ve)}})),v.a.createElement("div",{className:Be,style:this.props.buttonStyle,ref:function(Ve){return ne.dropdownContainerRef=Ve}},Ae?v.a.createElement("div",{className:ze},Ae):v.a.createElement("div",{onClick:xe?void 0:this.handleFlagDropdownClick,className:ze,title:Ee?"".concat(Ee.localName||Ee.name,": + ").concat(Ee.dialCode):"",tabIndex:xe?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!Ke||void 0},v.a.createElement("div",{className:Re},!xe&&v.a.createElement("div",{className:wt}))),Ke&&this.getCountryDropdownList()))}}])&&h(M.prototype,W),X}(v.a.Component);U.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},e.default=U}])),ip}var q8=G8();const X8=Kg(q8),J8=()=>{var qs,Yr;const t={container:{width:"100%"},inputStyle:{width:"100%",height:"42px",padding:"8px 8px 8px 50px",borderRadius:"0.375rem",fontSize:"0.875rem",borderColor:"#D1D5DB"},buttonStyle:{borderTopLeftRadius:"0.375rem",borderBottomLeftRadius:"0.375rem",borderColor:"#D1D5DB"},dropdownStyle:{width:"300px"}},{user:e}=Mt(),[r,n]=A.useState([]),[s,i]=A.useState([]),[o,c]=A.useState(!0),[u,h]=A.useState(null),[f,p]=A.useState(null),[g,x]=A.useState({}),[w,b]=A.useState(!1),[v,_]=A.useState({leadId:"",amount:0,token:0,pending:0,product:"",status:"Pending",isReference:!1,customerName:"",email:"",contactNumber:"",country:"",leadPerson:"",countryCode:"+1",loginId:"",password:"",leadBy:"",saleDate:new Date,currency:"USD"}),[T,C]=A.useState([]),[R,j]=A.useState([]),[O,S]=A.useState(!1),[P,B]=A.useState([]),[ae,q]=A.useState(!1),[H,ie]=A.useState(new Date().getMonth()+1),[re,L]=A.useState(new Date().getFullYear()),[ee,Q]=A.useState(!1),[te,U]=A.useState(!0),[Z,X]=A.useState({search:"",status:"",country:"",course:"",salesPerson:"",leadPerson:"",dateFrom:"",dateTo:"",amountFrom:"",amountTo:"",currency:""}),[M,W]=A.useState({countries:[],courses:[],salesPersons:[],leadPersons:[],currencies:[]}),K=[{value:"USD",label:"USD ($)",symbol:"$"},{value:"EUR",label:"EUR (€)",symbol:"€"},{value:"GBP",label:"GBP (£)",symbol:"£"},{value:"INR",label:"INR (₹)",symbol:"₹"},{value:"CAD",label:"CAD ($)",symbol:"$"},{value:"AUD",label:"AUD ($)",symbol:"$"},{value:"JPY",label:"JPY (¥)",symbol:"¥"},{value:"CNY",label:"CNY (¥)",symbol:"¥"}],E=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],ce=new Date().getFullYear(),ne=Array.from({length:6},(F,fe)=>ce-fe),ue=["Pending","Completed","Cancelled"],[be,Ee]=A.useState(null),[Ke,We]=A.useState(!1),[Xe,He]=A.useState(!1);A.useEffect(()=>{ot(),Te()},[e]),A.useEffect(()=>{r.length>0?(xe(),Ae()):i([])},[r,Z,H,re,ee,te]),A.useEffect(()=>{Object.values(Z).some(fe=>fe!=="")&&!Xe&&He(!0)},[Z,Xe]),A.useEffect(()=>{v.isReference&&P.length===0&&wt()},[v.isReference]);const xe=()=>{let F=[...r];if(!(((e==null?void 0:e.role)==="Manager"||(e==null?void 0:e.role)==="Admin")&&te))if(ee){const fe=new Date().getMonth()+1,Fe=new Date().getFullYear();F=F.filter(D=>{if(!D.date&&!D.createdAt)return!1;const J=new Date(D.date||D.createdAt),V=J.getMonth()+1,G=J.getFullYear();return V===fe&&G===Fe})}else F=F.filter(fe=>{if(!fe.date&&!fe.createdAt)return!1;const Fe=new Date(fe.date||fe.createdAt),D=Fe.getMonth()+1,J=Fe.getFullYear();return D===H&&J===re});if(Z.search){const fe=Z.search.toLowerCase();F=F.filter(Fe=>Fe.customerName&&Fe.customerName.toLowerCase().includes(fe)||Fe.email&&Fe.email.toLowerCase().includes(fe)||Fe.product&&Fe.product.toLowerCase().includes(fe)||Fe.course&&Fe.course.toLowerCase().includes(fe)||Fe.loginId&&Fe.loginId.toLowerCase().includes(fe)||Fe.leadBy&&Fe.leadBy.toLowerCase().includes(fe))}if(Z.status&&(F=F.filter(fe=>fe.status===Z.status)),Z.country&&(F=F.filter(fe=>fe.country===Z.country)),Z.course&&(F=F.filter(fe=>fe.course&&fe.course===Z.course||fe.product&&fe.product===Z.course)),Z.salesPerson&&(F=F.filter(fe=>(typeof fe.salesPerson=="object"?fe.salesPerson._id:fe.salesPerson)===Z.salesPerson)),Z.leadPerson&&(F=F.filter(fe=>(typeof fe.leadPerson=="object"?fe.leadPerson._id:fe.leadPerson)===Z.leadPerson)),Z.dateFrom){const fe=new Date(Z.dateFrom);F=F.filter(Fe=>new Date(Fe.date||Fe.createdAt)>=fe)}if(Z.dateTo){const fe=new Date(Z.dateTo);fe.setHours(23,59,59,999),F=F.filter(Fe=>new Date(Fe.date||Fe.createdAt)<=fe)}if(Z.amountFrom){const fe=parseFloat(Z.amountFrom);F=F.filter(Fe=>parseFloat(Fe.amount||Fe.totalCost||0)>=fe)}if(Z.amountTo){const fe=parseFloat(Z.amountTo);F=F.filter(Fe=>parseFloat(Fe.amount||Fe.totalCost||0)<=fe)}Z.currency&&(F=F.filter(fe=>fe.currency===Z.currency||fe.totalCostCurrency===Z.currency)),i(F)},Ae=()=>{const F=[...new Set(r.map(D=>D.country).filter(Boolean))],fe=[...new Set(r.map(D=>D.course||D.product).filter(Boolean))],Fe=[...new Set(r.map(D=>D.currency||D.totalCostCurrency).filter(Boolean))];W(D=>({...D,countries:F,courses:fe,currencies:Fe}))},Te=async()=>{try{const F=await Zt.getUsers("Sales Person"),fe=await Zt.getUsers("Lead Person");W(Fe=>({...Fe,salesPersons:F.data.data||[],leadPersons:fe.data.data||[]}))}catch(F){console.error("Error fetching user options:",F)}},Je=F=>{const{name:fe,value:Fe}=F.target;X(D=>({...D,[fe]:Fe})),Fe&&!Xe&&He(!0)},rt=()=>{X({search:"",status:"",country:"",course:"",salesPerson:"",leadPerson:"",dateFrom:"",dateTo:"",amountFrom:"",amountTo:"",currency:""}),Q(!1),U(!0)},ot=async()=>{var F;try{c(!0);const fe=localStorage.getItem("token");if(!fe){h("Authentication token not found. Please log in again.");return}try{const J=await er.get(`https://crm-backend-o36v.onrender.com/api/sales?full=true&nocache=${new Date().getTime()}`,{headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json"}});if(J.data&&J.data.success){const V=J.data.data.map(G=>({...G,_id:G._id,salesPerson:typeof G.salesPerson=="object"&&G.salesPerson._id||G.salesPerson,amount:parseFloat(G.totalCost||0),token:parseFloat(G.tokenAmount||0),pending:G.status==="Completed"?0:parseFloat(G.totalCost||0)-parseFloat(G.tokenAmount||0),product:G.course||G.product||"Unknown",status:G.status||"Pending",loginId:G.loginId||"",password:G.password||"",leadBy:G.leadBy||"",currency:G.currency||"USD",date:G.date||G.createdAt}));n(V)}else h("Failed to load sales data: "+(((F=J.data)==null?void 0:F.message)||"Unknown error"))}catch{try{const D=await Er.getAllForced();if(D.data&&D.data.success){const J=D.data.data.map(V=>({...V,_id:V._id,salesPerson:typeof V.salesPerson=="object"&&V.salesPerson._id||V.salesPerson,amount:parseFloat(V.totalCost||0),token:parseFloat(V.tokenAmount||0),pending:V.status==="Completed"?0:parseFloat(V.totalCost||0)-parseFloat(V.tokenAmount||0),product:V.course||V.product||"Unknown",status:V.status||"Pending",loginId:V.loginId||"",password:V.password||"",leadBy:V.leadBy||"",currency:V.currency||"USD",date:V.date||V.createdAt}));n(J)}else h("Failed to load sales data. Please try again.")}catch{h("Failed to load sales data. Please try again.")}}}catch(fe){fe.response,h("Failed to load sales data. Please try again.")}finally{c(!1)}},dt=async()=>{try{S(!0);let F=[];if(e.role==="Sales Person"){const Fe=await mn.getAssigned();Fe.data.success&&(F=Fe.data.data.filter(D=>D.status!=="Converted"))}else{const Fe=await mn.getAll();Fe.data.success&&(F=Fe.data.data.filter(D=>D.status!=="Converted"))}C(F);const fe=F.map(Fe=>({value:Fe._id,label:`${Fe.name} - ${Fe.course} (${Fe.status})`,data:Fe}));j(fe)}catch(F){console.error("Error fetching leads:",F),h("Failed to load leads. Please try again.")}finally{S(!1)}},wt=async()=>{try{q(!0);const F=await Zt.getUsers("Lead Person");if(F.data.success){const fe=F.data.data.map(Fe=>({value:Fe._id,label:Fe.fullName||Fe.email}));B(fe)}}catch(F){console.error("Error fetching lead persons:",F)}finally{q(!1)}},Se=()=>{dt(),wt(),b(!0),_({leadId:"",amount:0,token:0,pending:0,product:"",status:"Pending",isReference:!1,customerName:"",email:"",contactNumber:"",country:"",leadPerson:"",countryCode:"+1",loginId:"",password:"",leadBy:"",saleDate:new Date,currency:"USD"})},ze=F=>{const fe=F.target.value,Fe=T.find(D=>D._id===fe);Fe&&_(D=>({...D,leadId:fe,product:Fe.course||Fe.COURSE||"",_selectedLead:Fe}))},Be=(F,fe)=>{_(Fe=>{const D={...Fe,[F]:fe};if(F==="amount"||F==="token"){const J=parseFloat(F==="amount"?fe:Fe.amount),V=parseFloat(F==="token"?fe:Fe.token);D.pending=J-V}return F==="status"&&fe==="Completed"&&(D.pending=0),D})},Re=F=>{_({...v,isReference:F,leadId:F?"":v.leadId,customerName:F?v.customerName:"",contactNumber:F?v.contactNumber:"",email:F?v.email:"",country:F?v.country:"",countryCode:F?v.countryCode:"+1"}),F&&P.length===0&&wt()},Ve=async F=>{var fe,Fe,D;F.preventDefault();try{if(v.isReference){if(!v.customerName){h("Please enter customer name");return}if(!v.contactNumber){h("Please enter contact number");return}if(!v.product){h("Please enter a product/course name");return}if(!v.country){h("Please enter country");return}}else{if(!v.leadId){h("Please select a lead");return}if(!v.product){h("Please enter a product/course name");return}if(!v.leadPerson){h("Please select a lead person who will see this sale");return}}if(!localStorage.getItem("token")){h("Authentication required. Please log in again.");return}let V;if(v.isReference)V={customerName:v.customerName,country:v.country,course:v.product,countryCode:v.countryCode||"+1",contactNumber:v.contactNumber,email:v.email||"",salesPerson:e._id,leadPerson:v.leadPerson,loginId:v.loginId||"",password:v.password||"",leadBy:v.leadBy||"",source:"Reference",isReference:!0,totalCost:parseFloat(v.amount)||0,tokenAmount:parseFloat(v.token)||0,currency:v.currency||"USD",pending:v.status==="Completed"?!1:parseFloat(v.pending)>0,status:v.status||"Pending",createdBy:e._id,date:v.saleDate||new Date,isLeadPersonSale:!0};else{const Y=v._selectedLead||T.find(se=>se._id===v.leadId);if(!Y){h("Lead information not found. Please select a lead again.");return}V={customerName:Y.name||Y.NAME||Y.customerName||"Unknown",country:Y.country||Y.COUNTRY||"Unknown",course:v.product,countryCode:Y.countryCode||Y.CODE||"+1",contactNumber:Y.phone||Y.contactNumber||Y.NUMBER||Y.MOBILE||"0000000000",email:Y.email||Y["E-MAIL"]||Y.EMAIL||"",salesPerson:e._id,leadPerson:v.leadPerson,loginId:v.loginId||"",password:v.password||"",leadBy:v.leadBy||"",source:Y.source||Y.SOURSE||"",clientRemark:Y.client||Y["CLIENT REMARK"]||"",totalCost:parseFloat(v.amount)||0,tokenAmount:parseFloat(v.token)||0,currency:v.currency||"USD",pending:v.status==="Completed"?!1:parseFloat(v.pending)>0,status:v.status||"Pending",createdBy:e._id,date:v.saleDate||new Date,isLeadPersonSale:!0}}const G=await Er.create({...V,isLeadPersonSale:!0});G.data&&G.data.success?(n(Y=>[G.data.data,...Y]),b(!1),_({leadId:"",amount:0,token:0,pending:0,product:"",status:"Pending",isReference:!1,customerName:"",email:"",contactNumber:"",country:"",leadPerson:"",countryCode:"+1",loginId:"",password:"",leadBy:"",saleDate:new Date,currency:"USD"}),Le.success("Sale added successfully!"),is()):h(((fe=G.data)==null?void 0:fe.message)||"Failed to add sale")}catch(J){if(J.response)if(J.response.status===400){const V=((Fe=J.response.data)==null?void 0:Fe.message)||"Invalid data";V.includes("enum value for path `status`")?Le.error(`Invalid status value. Allowed values are: ${ue.join(", ")}`):Le.error(`Bad request: ${V}`)}else J.response.status===401?h("Authentication failed. Please log in again."):h(`Failed to add sale: ${((D=J.response.data)==null?void 0:D.message)||J.message}`);else h("Network error while adding sale")}},Ze=(F,fe)=>F?typeof F[fe]=="string"?F[fe]:F[fe]&&F[fe]._id?typeof F[fe]._id=="object"&&F[fe]._id.toString?F[fe]._id.toString():F[fe]._id:F[fe]&&typeof F[fe].id=="string"?F[fe].id:F[fe]&&typeof F[fe]=="object"&&F[fe].toString?F[fe].toString():null:null,it=F=>{if(!F)return;p(F._id);const fe=parseFloat(F.amount||F.totalCost||0),Fe=parseFloat(F.token||F.tokenAmount||0),D=parseFloat(F.pending||fe-Fe||0);x({amount:fe,token:Fe,pending:D,status:F.status||"Pending",product:F.product||F.course||"",saleDate:F.date||new Date,loginId:F.loginId||"",password:F.password||"",leadBy:F.leadBy||"",currency:F.currency||"USD"})},kt=async F=>{var fe,Fe,D,J,V,G;try{const Y=r.find(ke=>ke._id===F);if(!Y){h("Sale not found");return}if(!localStorage.getItem("token")){h("Authentication required. Please log in again.");return}if(e.role==="Sales Person"){const ke=Ze(Y,"salesPerson"),z=e._id;if(ke&&z&&ke.toString()===z.toString()){const pe=Ze(Y,"salesPerson")||e._id,me=Ze(Y,"leadPerson"),_e={customerName:Y.customerName,country:Y.country,course:g.product||Y.course||"Unknown Course",countryCode:Y.countryCode,contactNumber:Y.contactNumber,email:Y.email,date:g.saleDate||Y.date||new Date,salesPerson:pe,leadPerson:me,leadBy:g.leadBy||Y.leadBy||"",loginId:g.loginId||Y.loginId||"",password:g.password||Y.password||"",source:Y.source,clientRemark:Y.clientRemark,totalCost:parseFloat(g.amount)||0,tokenAmount:parseFloat(g.token)||0,currency:g.currency||Y.currency||"USD",pending:g.status==="Completed"?!1:parseFloat(g.pending)>0,status:g.status||Y.status||"Pending",isReference:Y.isReference||!1,updatedBy:e._id,updatedAt:new Date},Oe=await Er.update(F,_e);Oe.data&&Oe.data.success?(console.log("Sale update response:",Oe.data.data),n(r.map(ht=>{if(ht._id===F){const gt={...Oe.data.data,product:Oe.data.data.course||Oe.data.data.product||g.product,amount:Oe.data.data.totalCost||g.amount,token:Oe.data.data.tokenAmount||g.token,pending:Oe.data.data.status==="Completed"?0:(Oe.data.data.totalCost||0)-(Oe.data.data.tokenAmount||0),currency:Oe.data.data.currency||g.currency||"USD"};return console.log("Updated sale object:",gt),gt}return ht})),Le.success("Sale updated successfully"),p(null),te||(U(!0),Le.info("Showing all sales to display your changes. Use filters to narrow down if needed."))):h("Failed to update sale: "+(((fe=Oe.data)==null?void 0:fe.message)||"Server error"));return}else{h("You don't have permission to update this sale");return}}const ye=Ze(Y,"salesPerson")||e._id,Ce=Ze(Y,"leadPerson");if(!Ce){h("Lead person ID is missing, cannot update sale");return}const we={customerName:Y.customerName,country:Y.country,course:g.product||Y.course||"Unknown Course",countryCode:Y.countryCode,contactNumber:Y.contactNumber,email:Y.email,date:g.saleDate||Y.date||new Date,salesPerson:ye,leadPerson:Ce,leadBy:g.leadBy||Y.leadBy||"",loginId:g.loginId||Y.loginId||"",password:g.password||Y.password||"",source:Y.source,clientRemark:Y.clientRemark,totalCost:parseFloat(g.amount)||0,tokenAmount:parseFloat(g.token)||0,currency:g.currency||Y.currency||"USD",pending:g.status==="Completed"?!1:parseFloat(g.pending)>0,status:g.status||Y.status||"Pending",isReference:Y.isReference||!1,updatedBy:e._id,updatedAt:new Date},ge=await Er.update(F,we);ge.data&&ge.data.success?(console.log("Sale update response:",ge.data.data),n(r.map(z=>{if(z._id===F){const le={...ge.data.data,product:ge.data.data.course||ge.data.data.product||g.product,amount:ge.data.data.totalCost||g.amount,token:ge.data.data.tokenAmount||g.token,pending:ge.data.data.status==="Completed"?0:(ge.data.data.totalCost||0)-(ge.data.data.tokenAmount||0),currency:ge.data.data.currency||g.currency||"USD"};return console.log("Updated sale object:",le),le}return z})),Le.success("Sale updated successfully"),p(null),te||(U(!0),Le.info("Showing all sales to display your changes. Use filters to narrow down if needed."))):h("Failed to update sale: "+(((Fe=ge.data)==null?void 0:Fe.message)||"Server error"))}catch(Y){if(Y.response)if(Y.response.status===403)e.role==="Sales Person"&&((J=(D=Y.response.data)==null?void 0:D.message)!=null&&J.includes("can only update the status field"))?h("As a Sales Person, you can only update the status field"):h("You don't have permission to update this sale. Only the creator or an admin can update it.");else if(Y.response.status===401)h("Your session has expired. Please log in again.");else if(Y.response.status===400){const se=((V=Y.response.data)==null?void 0:V.message)||"Invalid data";se.includes("enum value for path `status`")?Le.error(`Invalid status value. Allowed values are: ${ue.join(", ")}`):Le.error(`Bad request: ${se}`)}else h(`Failed to update sale: ${((G=Y.response.data)==null?void 0:G.message)||Y.message}`);else h("Network error while updating sale")}},Tt=(F,fe)=>{x(Fe=>{const D={...Fe,[F]:fe};if(F==="amount"||F==="token"){const J=parseFloat(F==="amount"?fe:Fe.amount)||0,V=parseFloat(F==="token"?fe:Fe.token)||0;D.pending=J-V}return F==="status"&&fe==="Completed"&&(D.pending=0),D})},Ft=F=>{if(!F||!e||!e._id||!e.role)return!1;const fe=Ze(F,"salesPerson"),Fe=e._id;if(e.role==="Sales Person")return fe&&Fe&&fe.toString()===Fe.toString();if(e.role==="Lead Person"){const D=Ze(F,"leadPerson");return D&&Fe&&D.toString()===Fe.toString()}return["Admin","Manager"].includes(e.role)},xn=F=>{if(!F||!e||!e._id||!e.role)return!1;const fe=Ze(F,"salesPerson"),Fe=e._id;return e.role==="Sales Person"?fe&&Fe&&fe.toString()===Fe.toString():["Admin","Manager"].includes(e.role)},Xt=async F=>{var fe,Fe;try{if(Ee(F),!r.find(V=>V._id===F)){Le.error("Sale not found");return}const J=await Er.delete(F);J.data&&J.data.success?(n(V=>V.filter(G=>G._id!==F)),Le.success("Sale deleted successfully!"),ot()):Le.error(((fe=J.data)==null?void 0:fe.message)||"Failed to delete sale")}catch(D){D.response?D.response.status===403?Le.error("You don't have permission to delete this sale. Only the creator or an admin can delete it."):D.response.status===401?Le.error("Your session has expired. Please log in again."):Le.error(((Fe=D.response.data)==null?void 0:Fe.message)||"Server error while deleting sale"):Le.error("Network error while deleting sale")}finally{Ee(null),We(!1)}},$n=F=>new Date(F).toLocaleDateString(),Hn=F=>{ie(parseInt(F.target.value)),Q(!1),U(!1)},Ts=F=>{L(parseInt(F.target.value)),Q(!1),U(!1)},jn=()=>{const F=new Date;ie(F.getMonth()+1),L(F.getFullYear()),Q(!0),U(!1)},Cn=()=>{U(!te),te||Q(!1)},Gs=async(F,fe)=>{var Fe,D,J,V;try{const G=r.find(ye=>ye._id===F);if(!G)return;if(!Ft(G)){Le.error("You don't have permission to update this sale");return}p(F);const Y={status:fe,loginId:G.loginId||"",password:G.password||"",leadBy:G.leadBy||"",pending:fe==="Completed"?!1:G.pending},se=await Er.update(F,Y);se.data&&se.data.success?(n(ye=>ye.map(Ce=>Ce._id===F?{...Ce,status:fe,pending:fe==="Completed"?!1:Ce.pending}:Ce)),i(ye=>ye.map(Ce=>Ce._id===F?{...Ce,status:fe,pending:fe==="Completed"?!1:Ce.pending}:Ce)),Le.success("Sale status updated successfully!")):Le.error(((Fe=se.data)==null?void 0:Fe.message)||"Failed to update sale status")}catch(G){if(G.response)if(G.response.status===403)e.role==="Sales Person"&&((J=(D=G.response.data)==null?void 0:D.message)!=null&&J.includes("can only update the status field"))?h("As a Sales Person, you can only update the status field"):h("You don't have permission to update this sale. Only the creator or an admin can update it.");else if(G.response.status===401)h("Your session has expired. Please log in again.");else if(G.response.status===400){const Y=((V=G.response.data)==null?void 0:V.message)||"Invalid data";Y.includes("enum value for path `status`")?Le.error(`Invalid status value. Allowed values are: ${ue.join(", ")}`):Le.error(`Bad request: ${Y}`)}else Le.error("Failed to update sale status. Please try again.");else Le.error("Network error while updating sale status")}finally{p(null)}},as=(F,fe)=>{if(F)try{const Fe=F.toString().replace(/\D/g,""),J=`https://wa.me/${fe?fe.toString().replace(/^\+/,""):"1"}${Fe}`;window.open(J,"_blank","noopener,noreferrer")}catch{Le.error("Could not open WhatsApp. Please try again.")}},Wn=F=>{F&&(window.location.href=`mailto:${F}`)},is=async()=>{try{n([]),i([]),c(!0);const F=new Date().getTime(),fe=await Er.getAll();if(fe.data&&fe.data.success){const Fe=fe.data.data.map(D=>({...D,_id:D._id,salesPerson:typeof D.salesPerson=="object"&&D.salesPerson._id||D.salesPerson,amount:parseFloat(D.totalCost||0),token:parseFloat(D.tokenAmount||0),pending:D.status==="Completed"?0:parseFloat(D.totalCost||0)-parseFloat(D.tokenAmount||0),product:D.course||D.product||"Unknown",status:D.status||"Pending",loginId:D.loginId||"",password:D.password||"",leadBy:D.leadBy||"",currency:D.currency||"USD",date:D.date||D.createdAt}));n(Fe)}else Le.error("Failed to refresh sales data. Please try again.")}catch{Le.error("Failed to refresh data. Please reload the page.")}finally{c(!1),w&&dt()}},xr=(F,fe,Fe="N/A")=>{if(!F)return Fe;const D=fe.split(".");let J=F;for(const V of D){if(J==null||typeof J!="object")return Fe;J=J[V]}return J??Fe},Yn=F=>F?F.customerName||xr(F,"leadId.name")||xr(F,"leadId.NAME")||"Unknown Customer":"N/A",yn=({role:F})=>{let fe="";return F==="Sales Person"?fe="As a Sales Person, you can only update the status of your own sales.":F==="Lead Person"&&(fe="As a Lead Person, you can only edit your own leads."),fe?a.jsx("div",{className:"relative inline-block ml-1 text-gray-400 dark:text-gray-400",children:a.jsxs("span",{className:"cursor-help text-sm",children:[a.jsx("i",{className:"fas fa-info-circle"}),a.jsx("span",{className:"tooltip absolute invisible group-hover:visible bg-gray-800 text-white p-2 rounded text-xs w-48 -mt-16 -ml-24 z-10",children:fe})]})}):null},pa=(F,fe)=>{if(!F)return"Invalid sale data";if(fe==="Sales Person"){const Fe=Ze(F,"salesPerson"),D=e==null?void 0:e._id;return Fe&&D&&Fe.toString()===D.toString()?"As a Sales Person, you can edit and delete your own sales":"You can only edit and delete sales you created as a Sales Person"}return"You don't have permission to update this sale. Only the creator or an admin can update it."},os=F=>a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f===F._id?a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx("input",{type:"date",value:g.saleDate?new Date(g.saleDate).toISOString().split("T")[0]:new Date(F.date||F.createdAt).toISOString().split("T")[0],onChange:fe=>Tt("saleDate",new Date(fe.target.value)),className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>kt(F._id),className:"text-green-600 hover:text-green-900 flex items-center text-xs px-2 py-1 bg-green-50 rounded",children:[a.jsx(eg,{className:"mr-1"})," Save"]}),a.jsxs("button",{onClick:()=>p(null),className:"text-red-600 hover:text-red-900 flex items-center text-xs px-2 py-1 bg-red-50 rounded",children:[a.jsx(kd,{className:"mr-1"})," Cancel"]})]})]}):a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:$n(F.date||F.createdAt||new Date)}),Ft(F)&&a.jsxs("button",{onClick:()=>it(F),className:"text-blue-600 hover:text-blue-900 flex items-center text-xs px-2 py-1 bg-blue-50 rounded w-16",children:[a.jsx(Kd,{className:"mr-1"})," Edit"]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Yn(F)}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:F.product||xr(F,"leadId.course")||"No product"}),f===F._id&&a.jsxs("div",{className:"mt-2",children:[a.jsx("input",{type:"text",placeholder:"Lead By (Optional)",value:g.leadBy||"",onChange:fe=>Tt("leadBy",fe.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-gray-400 dark:text-gray-400 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{children:"Name of person who led this sale"})]})]}),f!==F._id&&F.leadBy&&a.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-500 mt-1",children:["Lead By: ",F.leadBy]})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[(F.contactNumber||xr(F,"leadId.phone"))&&a.jsx("div",{className:"flex items-center",children:a.jsxs("button",{onClick:()=>as(F.contactNumber||xr(F,"leadId.phone"),F.countryCode||xr(F,"leadId.countryCode","+91")),className:"text-sm text-gray-900 dark:text-white flex items-center hover:text-green-600",title:"Open in WhatsApp",children:[a.jsx(Qp,{className:"mr-1 text-green-500"}),F.countryCode||xr(F,"leadId.countryCode","+91")," ",F.contactNumber||xr(F,"leadId.phone")]})}),(F.email||xr(F,"leadId.email"))&&a.jsx("div",{className:"flex items-center",children:a.jsxs("button",{onClick:()=>Wn(F.email||xr(F,"leadId.email")),className:"text-sm text-gray-500 dark:text-gray-500 flex items-center hover:text-blue-600",title:"Send email",children:[a.jsx(wd,{className:"mr-1 text-blue-500"}),F.email||xr(F,"leadId.email")]})}),f===F._id&&a.jsxs("div",{className:"mt-2 flex flex-col space-y-2",children:[a.jsx("input",{type:"text",placeholder:"Login ID (Optional)",value:g.loginId||"",onChange:fe=>Tt("loginId",fe.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),a.jsx("input",{type:"text",placeholder:"Password (Optional)",value:g.password||"",onChange:fe=>Tt("password",fe.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),f!==F._id&&(F.loginId||F.password)&&a.jsxs("div",{className:"mt-2 text-xs",children:[F.loginId&&a.jsxs("div",{children:["Login ID: ",F.loginId]}),F.password&&a.jsxs("div",{children:["Password: ",F.password]})]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f===F._id?a.jsxs("div",{children:[a.jsx("input",{type:"text",value:g.product||"",onChange:fe=>Tt("product",fe.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Product or course name"}),F.leadPerson&&typeof F.leadPerson=="object"&&F.leadPerson.fullName&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["Lead Person: ",F.leadPerson.fullName]})]}):a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:F.product||xr(F,"course")||"N/A"}),!f===F._id&&F.leadPerson&&typeof F.leadPerson=="object"&&F.leadPerson.fullName&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["Lead Person: ",F.leadPerson.fullName]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f===F._id?a.jsx("div",{className:"flex flex-col space-y-2",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-500",children:jr(g.currency)}),a.jsx("input",{id:"amount",type:"number",value:g.amount!==void 0?g.amount.toString():"0",onChange:fe=>Tt("amount",fe.target.value),className:"w-24 px-2 pl-7 border border-gray-300 dark:border-slate-600 rounded"})]}),a.jsx("select",{value:g.currency||"USD",onChange:fe=>Tt("currency",fe.target.value),className:"border border-gray-300 dark:border-slate-600 rounded p-1 text-xs",children:K.map(fe=>a.jsx("option",{value:fe.value,children:fe.label},fe.value))})]})}):a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Es(F.amount||F.totalCost||0,F.currency||"USD")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f===F._id?a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-500",children:jr(g.currency)}),a.jsx("input",{id:"token",type:"number",value:g.token!==void 0?g.token.toString():"0",onChange:fe=>Tt("token",fe.target.value),className:"w-24 px-2 pl-7 border border-gray-300 dark:border-slate-600 rounded"})]}):a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Es(F.token||F.tokenAmount||0,F.currency||"USD")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f===F._id?a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-500",children:jr(g.currency)}),a.jsx("input",{id:"pending",type:"number",value:g.pending!==void 0?g.pending.toString():"0",onChange:fe=>Tt("pending",fe.target.value),className:"w-24 px-2 pl-7 border border-gray-300 dark:border-slate-600 rounded",disabled:g.status==="Completed"})]}):a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Es(F.status==="Completed"?0:F.pending!==void 0?F.pending:(F.amount||F.totalCost||0)-(F.token||F.tokenAmount||0),F.currency||"USD")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f===F._id?a.jsx("select",{value:g.status||F.status,onChange:fe=>Tt("status",fe.target.value),className:`text-sm px-2 py-1 rounded cursor-pointer ${F.status==="Pending"?"bg-yellow-100 text-yellow-800":F.status==="Completed"?"bg-green-100 text-green-800":F.status==="Cancelled"?"bg-red-100 text-red-800":"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"} border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400`,disabled:!Ft(F),children:ue.map(fe=>a.jsx("option",{value:fe,children:fe},fe))}):a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:F.status||"Pending",onChange:fe=>Gs(F._id,fe.target.value),className:`text-sm px-2 py-1 rounded cursor-pointer appearance-none w-auto pr-8 ${F.status==="Pending"?"bg-yellow-100 text-yellow-800":F.status==="Completed"?"bg-green-100 text-green-800":F.status==="Cancelled"?"bg-red-100 text-red-800":"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"} border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400`,disabled:!Ft(F),children:ue.map(fe=>a.jsx("option",{value:fe,children:fe},fe))}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-400",children:a.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})}),!Ft(F)&&a.jsx("div",{className:"absolute left-0 -bottom-5 w-full",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500 italic",children:(e==null?void 0:e.role)==="Sales Person"?"Can only update your own sales":"No edit permission"})}),f===F._id&&a.jsx("div",{className:"absolute top-1/2 right-8 transform -translate-y-1/2",children:a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 rounded-full border-t-transparent"})}),!Ft(F)&&f===F._id&&a.jsx("div",{className:"text-red-500 text-xs mt-1",children:pa(F,e==null?void 0:e.role)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:f!==F._id&&a.jsx("div",{className:"flex justify-end",children:xn(F)?Ke&&be===F._id?a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>Xt(F._id),className:"text-red-600 hover:text-red-900 flex items-center",children:[a.jsx(eg,{className:"mr-1"})," Confirm"]}),a.jsxs("button",{onClick:()=>{Ee(null),We(!1)},className:"text-gray-600 dark:text-white hover:text-gray-900 flex items-center",children:[a.jsx(kd,{className:"mr-1"})," Cancel"]})]}):a.jsxs("button",{onClick:()=>{Ee(F._id),We(!0)},className:"text-red-600 hover:text-red-900 flex items-center",children:[a.jsx(sx,{className:"mr-1"})," Delete"]}):a.jsxs("div",{className:"flex items-center text-gray-400 dark:text-gray-400 text-xs",children:[a.jsx("span",{className:"italic",children:"Not Deletable"}),a.jsx(yn,{role:e==null?void 0:e.role})]})})})]},F._id),Es=(F,fe="USD")=>`${(K.find(J=>J.value===fe)||K[0]).symbol}${parseFloat(F||0).toFixed(2)}`,jr=(F="USD")=>(K.find(Fe=>Fe.value===F)||K[0]).symbol;return a.jsx(rr,{children:a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold",children:"Sales Tracking"}),a.jsx("button",{onClick:Se,className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md transition duration-300",children:"Add New Sale"})]}),u&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 border border-red-200 rounded-md",children:u}),o?a.jsxs("div",{className:"text-center py-10",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-500",children:"Loading sales data..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out border border-slate-200 dark:border-slate-700 rounded-lg shadow-md dark:shadow-2xl mb-6 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h2",{className:"text-lg font-medium",children:"Advanced Filters"}),Object.values(Z).some(F=>F!=="")&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[Object.values(Z).filter(F=>F!=="").length," active"]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:rt,className:"text-sm text-blue-600 hover:underline",children:"Reset All"}),a.jsxs("button",{onClick:()=>He(!Xe),className:"flex items-center text-sm text-gray-600 dark:text-gray-200 hover:text-gray-800",children:[Xe?"Hide Filters":"Show Filters",a.jsx("svg",{className:`ml-1 h-4 w-4 transform transition-transform ${Xe?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})]}),Xe&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Search"}),a.jsx("input",{type:"text",id:"search",name:"search",placeholder:"Search customer, email, product...",value:Z.search,onChange:Je,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Status"}),a.jsxs("select",{id:"status",name:"status",value:Z.status,onChange:Je,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Statuses"}),ue.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),((e==null?void 0:e.role)==="Admin"||(e==null?void 0:e.role)==="Manager")&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"salesPerson",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Sales Person"}),a.jsxs("select",{id:"salesPerson",name:"salesPerson",value:Z.salesPerson,onChange:Je,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Sales Persons"}),M.salesPersons.map(F=>a.jsx("option",{value:F._id,children:F.fullName},F._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Country"}),a.jsxs("select",{id:"country",name:"country",value:Z.country,onChange:Je,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Countries"}),M.countries.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Course/Product"}),a.jsxs("select",{id:"course",name:"course",value:Z.course,onChange:Je,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Courses"}),M.courses.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"leadPerson",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Lead Person"}),a.jsxs("select",{id:"leadPerson",name:"leadPerson",value:Z.leadPerson,onChange:Je,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Lead Persons"}),M.leadPersons.map(F=>a.jsx("option",{value:F._id,children:F.fullName},F._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dateFrom",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Date From"}),a.jsx("input",{type:"date",id:"dateFrom",name:"dateFrom",value:Z.dateFrom,onChange:Je,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dateTo",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Date To"}),a.jsx("input",{type:"date",id:"dateTo",name:"dateTo",value:Z.dateTo,onChange:Je,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"amountFrom",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Amount From"}),a.jsx("input",{type:"number",id:"amountFrom",name:"amountFrom",placeholder:"Min amount",value:Z.amountFrom,onChange:Je,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"amountTo",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Amount To"}),a.jsx("input",{type:"number",id:"amountTo",name:"amountTo",placeholder:"Max amount",value:Z.amountTo,onChange:Je,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Currency"}),a.jsxs("select",{id:"currency",name:"currency",value:Z.currency,onChange:Je,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Currencies"}),K.map(F=>a.jsx("option",{value:F.value,children:F.label},F.value))]})]})]}),a.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-slate-800 rounded-md",children:a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-500",children:[a.jsx("strong",{children:s.length})," sales found from a total of ",a.jsx("strong",{children:r.length})," sales",Object.values(Z).some(F=>F!=="")&&a.jsx("span",{className:"ml-2 text-blue-600",children:"(Filters applied)"})]})})]})]}),a.jsxs("div",{className:"mb-6 p-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg shadow-md dark:shadow-2xl transition-all duration-200 ease-out shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 text-slate-900 dark:text-slate-100",children:"Quick Date Filters"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-600 dark:text-gray-500 mb-1",children:"Month"}),a.jsx("select",{id:"month",value:H,onChange:Hn,className:"border border-gray-300 dark:border-slate-600 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",disabled:ee,children:E.map(F=>a.jsx("option",{value:F.value,children:F.label},F.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-600 dark:text-gray-500 mb-1",children:"Year"}),a.jsx("select",{id:"year",value:re,onChange:Ts,className:"border border-gray-300 dark:border-slate-600 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",disabled:ee,children:ne.map(F=>a.jsx("option",{value:F,children:F},F))})]}),a.jsxs("div",{className:"flex items-center ml-4",children:[a.jsx("input",{id:"currentMonth",type:"checkbox",checked:ee,onChange:()=>{Q(!ee),ee||U(!1)},className:"h-4 w-4 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 border-gray-300 dark:border-slate-600 rounded"}),a.jsx("label",{htmlFor:"currentMonth",className:"ml-2 block text-sm text-gray-700 dark:text-gray-400",children:"Show Current Month Only"})]}),((e==null?void 0:e.role)==="Manager"||(e==null?void 0:e.role)==="Admin")&&a.jsxs("div",{className:"flex items-center ml-4",children:[a.jsx("input",{id:"showAllSales",type:"checkbox",checked:te,onChange:Cn,className:"h-4 w-4 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 border-gray-300 dark:border-slate-600 rounded"}),a.jsx("label",{htmlFor:"showAllSales",className:"ml-2 block text-sm text-gray-700 dark:text-gray-400 font-semibold text-blue-600",children:"Show All Sales (No Date Filter)"})]}),a.jsx("button",{onClick:jn,className:"bg-gray-200 dark:bg-slate-600 hover:bg-gray-300 text-gray-800 dark:text-gray-200 py-2 px-4 rounded-md ml-auto transition duration-300",children:"Reset to Current Month"})]}),a.jsxs("div",{className:"mt-3 text-sm text-gray-500 dark:text-gray-500",children:[te?a.jsx("p",{children:"Quick filter: All sales regardless of date"}):ee?a.jsxs("p",{children:["Quick filter: Current month (",E[new Date().getMonth()].label," ",new Date().getFullYear(),")"]}):a.jsxs("p",{children:["Quick filter: ",E[H-1].label," ",re]}),a.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-400 mt-1",children:"Note: Advanced filters above will further refine these results"})]})]}),Object.values(Z).some(F=>F!=="")&&a.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Active Filters:"}),Z.search&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:['Search: "',Z.search,'"']}),Z.status&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Status: ",Z.status]}),Z.salesPerson&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Sales Person: ",(qs=M.salesPersons.find(F=>F._id===Z.salesPerson))==null?void 0:qs.fullName]}),Z.country&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Country: ",Z.country]}),Z.course&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Course: ",Z.course]}),Z.leadPerson&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Lead Person: ",(Yr=M.leadPersons.find(F=>F._id===Z.leadPerson))==null?void 0:Yr.fullName]}),(Z.dateFrom||Z.dateTo)&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Date: ",Z.dateFrom||"Start"," to ",Z.dateTo||"End"]}),(Z.amountFrom||Z.amountTo)&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Amount: ",Z.amountFrom||"0"," - ",Z.amountTo||"∞"]}),Z.currency&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Currency: ",Z.currency]})]})}),a.jsx("div",{className:"overflow-x-auto bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg shadow-md dark:shadow-2xl transition-all duration-200 ease-out shadow-sm",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Lead"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Contact/Login"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Token"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Pending"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-gray-200 dark:divide-slate-700",children:s.length>0?s.map(F=>os(F)):a.jsx("tr",{children:a.jsx("td",{colSpan:"9",className:"px-6 py-4 text-center text-gray-500 dark:text-gray-500",children:Object.values(Z).some(F=>F!=="")?"No sales found matching your filters. Try adjusting your criteria or reset filters.":"No sales found for the selected period. Try another date range or add a new sale."})})})]})})]}),w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg dark:shadow-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-sm",children:[a.jsxs("div",{className:"bg-green-600 text-white p-4 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-bold",children:"Add New Sale"}),a.jsx("button",{onClick:()=>b(!1),className:"text-white hover:text-gray-200 text-2xl",children:"×"})]}),a.jsxs("form",{onSubmit:Ve,className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"col-span-2 mb-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"Sale Type:"}),a.jsxs("div",{className:"flex border border-gray-300 dark:border-slate-600 rounded-md overflow-hidden",children:[a.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium ${v.isReference?"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 dark:text-gray-400":"bg-blue-600 text-white"}`,onClick:()=>Re(!1),children:"From Lead"}),a.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium ${v.isReference?"bg-blue-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 dark:text-gray-400"}`,onClick:()=>Re(!0),children:"From Reference"})]})]})}),!v.isReference&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{htmlFor:"leadId",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Lead"}),a.jsxs("select",{id:"leadId",value:v.leadId,onChange:ze,className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a lead"}),T.map(F=>a.jsxs("option",{value:F._id,children:[F.name," - ",F.course]},F._id))]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsxs("label",{htmlFor:"leadPerson",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:["Lead Person",a.jsx("span",{className:"ml-1 text-xs text-blue-600 font-normal",children:"(Who should see this sale on their dashboard)"})]}),a.jsxs("select",{id:"leadPerson",value:v.leadPerson,onChange:F=>Be("leadPerson",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a lead person"}),P.map(F=>a.jsx("option",{value:F.value,children:F.label},F.value))]}),ae&&a.jsx("div",{className:"mt-1 text-sm text-gray-500 dark:text-gray-500",children:"Loading lead persons..."}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-500",children:"The selected lead person will see this sale on their dashboard"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"saleDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Sale Date"}),a.jsx("input",{id:"saleDate",type:"date",value:v.saleDate?new Date(v.saleDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],onChange:F=>Be("saleDate",new Date(F.target.value)),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsxs("label",{htmlFor:"leadBy",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:["Lead By (Optional)",a.jsxs("span",{className:"ml-1 inline-block relative group",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400 dark:text-gray-400 cursor-help",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 w-48 bg-gray-800 text-white text-xs rounded py-1 px-2 hidden group-hover:block",children:"Name of the person who led this sale (can be different from the Lead Person assigned in the system)"})]})]}),a.jsx("input",{id:"leadBy",type:"text",value:v.leadBy,onChange:F=>Be("leadBy",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"Who led this sale?"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Product"}),a.jsx("input",{id:"product",type:"text",value:v.product,onChange:F=>Be("product",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"Product or course name"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"loginId",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Login ID (Optional)"}),a.jsx("input",{id:"loginId",type:"text",value:v.loginId,onChange:F=>Be("loginId",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"Customer login ID"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Password (Optional)"}),a.jsx("input",{id:"password",type:"text",value:v.password,onChange:F=>Be("password",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"Customer password"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Currency"}),a.jsx("select",{id:"currency",value:v.currency,onChange:F=>Be("currency",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:K.map(F=>a.jsx("option",{value:F.value,children:F.label},F.value))})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Amount"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-500",children:jr(v.currency)}),a.jsx("input",{id:"amount",type:"number",value:v.amount,onChange:F=>Be("amount",F.target.value),className:"block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"token",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Token"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-500",children:jr(v.currency)}),a.jsx("input",{id:"token",type:"number",value:v.token,onChange:F=>Be("token",F.target.value),className:"block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"pending",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Pending"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-500",children:jr(v.currency)}),a.jsx("input",{id:"pending",type:"number",value:v.pending,onChange:F=>Be("pending",F.target.value),className:"block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"0.00",disabled:v.status==="Completed"})]})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Status"}),a.jsx("select",{id:"status",value:v.status,onChange:F=>Be("status",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:ue.map(F=>a.jsx("option",{value:F,children:F},F))})]})]}),v.isReference&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Customer Name"}),a.jsx("input",{id:"customerName",type:"text",value:v.customerName,onChange:F=>Be("customerName",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"Enter customer name"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"saleDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Sale Date"}),a.jsx("input",{id:"saleDate",type:"date",value:v.saleDate?new Date(v.saleDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],onChange:F=>Be("saleDate",new Date(F.target.value)),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Contact Number"}),a.jsx(X8,{country:"us",value:v.contactNumber,onChange:(F,fe)=>{Be("contactNumber",F),Be("countryCode",`+${fe.dialCode}`)},inputProps:{id:"contactNumber",name:"contactNumber",required:!0},containerStyle:t.container,inputStyle:t.inputStyle,buttonStyle:t.buttonStyle,dropdownStyle:t.dropdownStyle,enableSearch:!0,searchPlaceholder:"Search country..."})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Email"}),a.jsx("input",{id:"email",type:"email",value:v.email,onChange:F=>Be("email",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"customer@example.com"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Country"}),a.jsx("input",{id:"country",type:"text",value:v.country,onChange:F=>Be("country",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"Enter country"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsxs("label",{htmlFor:"leadBy",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:["Lead By (Optional)",a.jsxs("span",{className:"ml-1 inline-block relative group",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400 dark:text-gray-400 cursor-help",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 w-48 bg-gray-800 text-white text-xs rounded py-1 px-2 hidden group-hover:block",children:"Name of the person who led this sale (can be different from the Lead Person assigned in the system)"})]})]}),a.jsx("input",{id:"leadBy",type:"text",value:v.leadBy,onChange:F=>Be("leadBy",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"Who led this sale?"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Currency"}),a.jsx("select",{id:"currency",value:v.currency,onChange:F=>Be("currency",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:K.map(F=>a.jsx("option",{value:F.value,children:F.label},F.value))})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Product"}),a.jsx("input",{id:"product",type:"text",value:v.product,onChange:F=>Be("product",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"Product or course name"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"loginId",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Login ID (Optional)"}),a.jsx("input",{id:"loginId",type:"text",value:v.loginId,onChange:F=>Be("loginId",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"Customer login ID"})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Password (Optional)"}),a.jsx("input",{id:"password",type:"text",value:v.password,onChange:F=>Be("password",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"Customer password"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{htmlFor:"leadPerson",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Lead Person"}),a.jsxs("select",{id:"leadPerson",value:v.leadPerson,onChange:F=>Be("leadPerson",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a lead person"}),P.map(F=>a.jsx("option",{value:F.value,children:F.label},F.value))]}),ae&&a.jsx("div",{className:"mt-1 text-sm text-gray-500 dark:text-gray-500",children:"Loading lead persons..."})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Amount"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-500",children:jr(v.currency)}),a.jsx("input",{id:"amount",type:"number",value:v.amount,onChange:F=>Be("amount",F.target.value),className:"block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"token",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Token"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-500",children:jr(v.currency)}),a.jsx("input",{id:"token",type:"number",value:v.token,onChange:F=>Be("token",F.target.value),className:"block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"pending",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Pending"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-500",children:jr(v.currency)}),a.jsx("input",{id:"pending",type:"number",value:v.pending,onChange:F=>Be("pending",F.target.value),className:"block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",placeholder:"0.00",disabled:v.status==="Completed"})]})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Status"}),a.jsx("select",{id:"status",value:v.status,onChange:F=>Be("status",F.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:ue.map(F=>a.jsx("option",{value:F,children:F},F))})]})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md",children:"Add Sale"})})]})]})})]})})},Q8=()=>{const[t,e]=A.useState(!1),[r,n]=A.useState(null),[s,i]=A.useState([]),[o,c]=A.useState({}),[u,h]=A.useState({date:new Date().toISOString().split("T")[0],customerName:"",country:"",course:"",countryCode:"",contactNumber:"",email:"",pseudoId:"",leadPerson:"",source:"",clientRemark:"",feedback:"",totalCost:0,totalCostCurrency:"USD",tokenAmount:0,tokenAmountCurrency:"USD"}),{user:f}=Mt();A.useEffect(()=>{p(),g()},[]);const p=async()=>{try{const v=await Zt.getUsers("Lead Person");v.data.success?i(v.data.data||[]):Qt.error("Failed to load lead persons")}catch(v){console.error("Error loading lead persons:",v),Qt.error("Failed to load lead persons")}},g=async()=>{try{const v=await ih.getRates();v.data.success&&c(v.data.rates||{})}catch(v){console.error("Error loading currency rates:",v)}},x=v=>{const{name:_,value:T}=v.target;h(C=>({...C,[_]:T}))},w=(v,_)=>{h(T=>({...T,[`${v}Currency`]:_}))},b=async v=>{var _,T,C,R;v.preventDefault(),e(!0),n(null);try{if(!u.leadPerson)throw new Error("Please select a Lead Person");if(!f)throw new Error("User information not available. Please log in again.");const j={date:u.date,customerName:u.customerName,country:u.country,course:u.course,countryCode:u.countryCode,contactNumber:u.contactNumber,email:u.email,pseudoId:u.pseudoId,totalCost:parseFloat(u.totalCost),totalCostCurrency:u.totalCostCurrency,tokenAmount:parseFloat(u.tokenAmount),tokenAmountCurrency:u.tokenAmountCurrency,source:u.source,clientRemark:u.clientRemark,feedback:u.feedback};(await Er.createSaleWithLeadPerson(j,u.leadPerson)).data.success&&(Qt.success("Sale created successfully! This sale will appear on the lead person's dashboard."),h({date:new Date().toISOString().split("T")[0],customerName:"",country:"",course:"",countryCode:"",contactNumber:"",email:"",pseudoId:"",leadPerson:"",source:"",clientRemark:"",feedback:"",totalCost:0,totalCostCurrency:"USD",tokenAmount:0,tokenAmountCurrency:"USD"}))}catch(j){console.error("Error creating sale:",j),n(((T=(_=j.response)==null?void 0:_.data)==null?void 0:T.message)||j.message||"Failed to create sale"),Qt.error(((R=(C=j.response)==null?void 0:C.data)==null?void 0:R.message)||j.message||"Failed to create sale")}finally{e(!1)}};return a.jsx(rr,{children:a.jsxs("div",{className:"container mx-auto p-4",children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsx("h1",{className:"text-2xl font-bold",children:"Create Sale for Lead Person"})}),r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:r}),a.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out shadow-md dark:shadow-2xl rounded-lg p-6 mb-6 shadow-sm",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Date"}),a.jsx("input",{type:"date",name:"date",value:u.date,onChange:x,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Customer Name"}),a.jsx("input",{type:"text",name:"customerName",value:u.customerName,onChange:x,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Country"}),a.jsx("input",{type:"text",name:"country",value:u.country,onChange:x,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Course"}),a.jsx("input",{type:"text",name:"course",value:u.course,onChange:x,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Country Code"}),a.jsx("input",{type:"text",name:"countryCode",value:u.countryCode,onChange:x,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",placeholder:"e.g. +1, +91"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Phone Number"}),a.jsx("input",{type:"text",name:"contactNumber",value:u.contactNumber,onChange:x,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:u.email,onChange:x,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Pseudo ID"}),a.jsx("input",{type:"text",name:"pseudoId",value:u.pseudoId,onChange:x,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Lead Person"}),a.jsxs("select",{name:"leadPerson",value:u.leadPerson,onChange:x,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0,children:[a.jsx("option",{value:"",children:"Select Lead Person"}),s.map(v=>a.jsx("option",{value:v._id,children:v.fullName},v._id))]}),a.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-gray-400",children:"The lead person will see this sale on their dashboard"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Source"}),a.jsx("input",{type:"text",name:"source",value:u.source,onChange:x,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Total Cost"}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"number",name:"totalCost",value:u.totalCost,onChange:x,className:"w-2/3 p-2 border border-slate-300 dark:border-slate-600 rounded-l-md",required:!0}),a.jsxs("select",{name:"totalCostCurrency",value:u.totalCostCurrency,onChange:v=>w("totalCost",v.target.value),className:"w-1/3 p-2 border border-slate-300 dark:border-slate-600 rounded-r-md",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"INR",children:"INR"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Token Amount"}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"number",name:"tokenAmount",value:u.tokenAmount,onChange:x,className:"w-2/3 p-2 border border-slate-300 dark:border-slate-600 rounded-l-md",required:!0}),a.jsxs("select",{name:"tokenAmountCurrency",value:u.tokenAmountCurrency,onChange:v=>w("tokenAmount",v.target.value),className:"w-1/3 p-2 border border-slate-300 dark:border-slate-600 rounded-r-md",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"INR",children:"INR"})]})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Client Remark"}),a.jsx("textarea",{name:"clientRemark",value:u.clientRemark,onChange:x,rows:"2",className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Feedback"}),a.jsx("textarea",{name:"feedback",value:u.feedback,onChange:x,rows:"2",className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md disabled:bg-blue-300 flex items-center",children:t?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-white rounded-full border-t-transparent"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Z4,{className:"mr-2"})," Create Sale for Lead Person"]})})})]})}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 p-4 rounded-md mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"How This Works"}),a.jsx("p",{className:"mb-2",children:"When you create a sale using this form and select a Lead Person, the sale will:"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[a.jsx("li",{children:"Be credited to you as the Sales Person"}),a.jsx("li",{children:"Appear on the Lead Person's dashboard"}),a.jsx("li",{children:"Allow the Lead Person to track your sales progress"}),a.jsx("li",{children:"Create transparency and collaboration between Sales and Lead teams"})]})]})]})})};var Z8=Object.defineProperty,eP=(t,e,r)=>e in t?Z8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dr=(t,e,r)=>eP(t,typeof e!="symbol"?e+"":e,r);const ch={x:0,y:0,width:0,height:0,unit:"px"},cl=(t,e,r)=>Math.min(Math.max(t,e),r),tP=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),Ob=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function rP(t,e,r,n){const s=la(t,r,n);return t.width&&(s.height=s.width/e),t.height&&(s.width=s.height*e),s.y+s.height>n&&(s.height=n-s.y,s.width=s.height*e),s.x+s.width>r&&(s.width=r-s.x,s.height=s.width/e),t.unit==="%"?hi(s,r,n):s}function nP(t,e,r){const n=la(t,e,r);return n.x=(e-n.width)/2,n.y=(r-n.height)/2,t.unit==="%"?hi(n,e,r):n}function hi(t,e,r){return t.unit==="%"?{...ch,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/r*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/r*100:0}}function la(t,e,r){return t.unit?t.unit==="px"?{...ch,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*r/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*r/100:0}:{...ch,...t,unit:"px"}}function Mb(t,e,r,n,s,i=0,o=0,c=n,u=s){const h={...t};let f=Math.min(i,n),p=Math.min(o,s),g=Math.min(c,n),x=Math.min(u,s);e&&(e>1?(f=o?o*e:f,p=f/e,g=c*e):(p=i?i/e:p,f=p*e,x=u/e)),h.y<0&&(h.height=Math.max(h.height+h.y,p),h.y=0),h.x<0&&(h.width=Math.max(h.width+h.x,f),h.x=0);const w=n-(h.x+h.width);w<0&&(h.x=Math.min(h.x,n-f),h.width+=w);const b=s-(h.y+h.height);if(b<0&&(h.y=Math.min(h.y,s-p),h.height+=b),h.width<f&&((r==="sw"||r=="nw")&&(h.x-=f-h.width),h.width=f),h.height<p&&((r==="nw"||r=="ne")&&(h.y-=p-h.height),h.height=p),h.width>g&&((r==="sw"||r=="nw")&&(h.x-=g-h.width),h.width=g),h.height>x&&((r==="nw"||r=="ne")&&(h.y-=x-h.height),h.height=x),e){const v=h.width/h.height;if(v<e){const _=Math.max(h.width/e,p);(r==="nw"||r=="ne")&&(h.y-=_-h.height),h.height=_}else if(v>e){const _=Math.max(h.height*e,f);(r==="sw"||r=="nw")&&(h.x-=_-h.width),h.width=_}}return h}function sP(t,e,r,n){const s={...t};return e==="ArrowLeft"?n==="nw"?(s.x-=r,s.y-=r,s.width+=r,s.height+=r):n==="w"?(s.x-=r,s.width+=r):n==="sw"?(s.x-=r,s.width+=r,s.height+=r):n==="ne"?(s.y+=r,s.width-=r,s.height-=r):n==="e"?s.width-=r:n==="se"&&(s.width-=r,s.height-=r):e==="ArrowRight"&&(n==="nw"?(s.x+=r,s.y+=r,s.width-=r,s.height-=r):n==="w"?(s.x+=r,s.width-=r):n==="sw"?(s.x+=r,s.width-=r,s.height-=r):n==="ne"?(s.y-=r,s.width+=r,s.height+=r):n==="e"?s.width+=r:n==="se"&&(s.width+=r,s.height+=r)),e==="ArrowUp"?n==="nw"?(s.x-=r,s.y-=r,s.width+=r,s.height+=r):n==="n"?(s.y-=r,s.height+=r):n==="ne"?(s.y-=r,s.width+=r,s.height+=r):n==="sw"?(s.x+=r,s.width-=r,s.height-=r):n==="s"?s.height-=r:n==="se"&&(s.width-=r,s.height-=r):e==="ArrowDown"&&(n==="nw"?(s.x+=r,s.y+=r,s.width-=r,s.height-=r):n==="n"?(s.y+=r,s.height-=r):n==="ne"?(s.y+=r,s.width-=r,s.height-=r):n==="sw"?(s.x-=r,s.width+=r,s.height+=r):n==="s"?s.height+=r:n==="se"&&(s.width+=r,s.height+=r)),s}const dl={capture:!0,passive:!1};let aP=0;const ci=class Us extends A.PureComponent{constructor(){super(...arguments),dr(this,"docMoveBound",!1),dr(this,"mouseDownOnCrop",!1),dr(this,"dragStarted",!1),dr(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),dr(this,"componentRef",A.createRef()),dr(this,"mediaRef",A.createRef()),dr(this,"resizeObserver"),dr(this,"initChangeCalled",!1),dr(this,"instanceId",`rc-${aP++}`),dr(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),dr(this,"onCropPointerDown",e=>{const{crop:r,disabled:n}=this.props,s=this.getBox();if(!r)return;const i=la(r,s.width,s.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const o=e.target.dataset.ord,c=!!o;let u=e.clientX,h=e.clientY,f=i.x,p=i.y;if(o){const g=e.clientX-s.x,x=e.clientY-s.y;let w=0,b=0;o==="ne"||o=="e"?(w=g-(i.x+i.width),b=x-i.y,f=i.x,p=i.y+i.height):o==="se"||o==="s"?(w=g-(i.x+i.width),b=x-(i.y+i.height),f=i.x,p=i.y):o==="sw"||o=="w"?(w=g-i.x,b=x-(i.y+i.height),f=i.x+i.width,p=i.y):(o==="nw"||o=="n")&&(w=g-i.x,b=x-i.y,f=i.x+i.width,p=i.y+i.height),u=f+s.x+w,h=p+s.y+b}this.evData={startClientX:u,startClientY:h,startCropX:f,startCropY:p,clientX:e.clientX,clientY:e.clientY,isResize:c,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),dr(this,"onComponentPointerDown",e=>{const{crop:r,disabled:n,locked:s,keepSelection:i,onChange:o}=this.props,c=this.getBox();if(n||s||i&&r)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const u=e.clientX-c.x,h=e.clientY-c.y,f={unit:"px",x:u,y:h,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:u,startCropY:h,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(la(f,c.width,c.height),hi(f,c.width,c.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),dr(this,"onDocPointerMove",e=>{const{crop:r,disabled:n,onChange:s,onDragStart:i}=this.props,o=this.getBox();if(n||!r||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(e));const{evData:c}=this;c.clientX=e.clientX,c.clientY=e.clientY;let u;c.isResize?u=this.resizeCrop():u=this.dragCrop(),Ob(r,u)||s(la(u,o.width,o.height),hi(u,o.width,o.height))}),dr(this,"onComponentKeyDown",e=>{const{crop:r,disabled:n,onChange:s,onComplete:i}=this.props;if(n)return;const o=e.key;let c=!1;if(!r)return;const u=this.getBox(),h=this.makePixelCrop(u),f=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Us.nudgeStepLarge:e.shiftKey?Us.nudgeStepMedium:Us.nudgeStep;if(o==="ArrowLeft"?(h.x-=f,c=!0):o==="ArrowRight"?(h.x+=f,c=!0):o==="ArrowUp"?(h.y-=f,c=!0):o==="ArrowDown"&&(h.y+=f,c=!0),c){e.cancelable&&e.preventDefault(),h.x=cl(h.x,0,u.width-h.width),h.y=cl(h.y,0,u.height-h.height);const p=la(h,u.width,u.height),g=hi(h,u.width,u.height);s(p,g),i&&i(p,g)}}),dr(this,"onHandlerKeyDown",(e,r)=>{const{aspect:n=0,crop:s,disabled:i,minWidth:o=0,minHeight:c=0,maxWidth:u,maxHeight:h,onChange:f,onComplete:p}=this.props,g=this.getBox();if(i||!s)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const x=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Us.nudgeStepLarge:e.shiftKey?Us.nudgeStepMedium:Us.nudgeStep,w=la(s,g.width,g.height),b=sP(w,e.key,x,r),v=Mb(b,n,r,g.width,g.height,o,c,u,h);if(!Ob(s,v)){const _=hi(v,g.width,g.height);f(v,_),p&&p(v,_)}}),dr(this,"onDocPointerDone",e=>{const{crop:r,disabled:n,onComplete:s,onDragEnd:i}=this.props,o=this.getBox();this.unbindDocMove(),!(n||!r)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(e),s&&s(la(r,o.width,o.height),hi(r,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),dr(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:r,y:n,width:s,height:i}=e.getBoundingClientRect();return{x:r,y:n,width:s,height:i}}componentDidUpdate(e){const{crop:r,onComplete:n}=this.props;if(n&&!e.crop&&r){const{width:s,height:i}=this.getBox();s&&i&&n(la(r,s,i),hi(r,s,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,dl),this.document.addEventListener("pointerup",this.onDocPointerDone,dl),this.document.addEventListener("pointercancel",this.onDocPointerDone,dl),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,dl),this.document.removeEventListener("pointerup",this.onDocPointerDone,dl),this.document.removeEventListener("pointercancel",this.onDocPointerDone,dl),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,r=this.getBox(),n=this.makePixelCrop(r),s=e.clientX-e.startClientX,i=e.clientY-e.startClientY;return n.x=cl(e.startCropX+s,0,r.width-n.width),n.y=cl(e.startCropY+i,0,r.height-n.height),n}getPointRegion(e,r,n,s){const{evData:i}=this,o=i.clientX-e.x,c=i.clientY-e.y;let u;s&&r?u=r==="nw"||r==="n"||r==="ne":u=c<i.startCropY;let h;return n&&r?h=r==="nw"||r==="w"||r==="sw":h=o<i.startCropX,h?u?"nw":"sw":u?"ne":"se"}resolveMinDimensions(e,r,n=0,s=0){const i=Math.min(n,e.width),o=Math.min(s,e.height);return!r||!i&&!o?[i,o]:r>1?i?[i,i/r]:[o*r,o]:o?[o*r,o]:[i,i/r]}resizeCrop(){const{evData:e}=this,{aspect:r=0,maxWidth:n,maxHeight:s}=this.props,i=this.getBox(),[o,c]=this.resolveMinDimensions(i,r,this.props.minWidth,this.props.minHeight);let u=this.makePixelCrop(i);const h=this.getPointRegion(i,e.ord,o,c),f=e.ord||h;let p=e.clientX-e.startClientX,g=e.clientY-e.startClientY;(o&&f==="nw"||f==="w"||f==="sw")&&(p=Math.min(p,-o)),(c&&f==="nw"||f==="n"||f==="ne")&&(g=Math.min(g,-c));const x={unit:"px",x:0,y:0,width:0,height:0};h==="ne"?(x.x=e.startCropX,x.width=p,r?(x.height=x.width/r,x.y=e.startCropY-x.height):(x.height=Math.abs(g),x.y=e.startCropY-x.height)):h==="se"?(x.x=e.startCropX,x.y=e.startCropY,x.width=p,r?x.height=x.width/r:x.height=g):h==="sw"?(x.x=e.startCropX+p,x.y=e.startCropY,x.width=Math.abs(p),r?x.height=x.width/r:x.height=g):h==="nw"&&(x.x=e.startCropX+p,x.width=Math.abs(p),r?(x.height=x.width/r,x.y=e.startCropY-x.height):(x.height=Math.abs(g),x.y=e.startCropY+g));const w=Mb(x,r,h,i.width,i.height,o,c,n,s);return r||Us.xyOrds.indexOf(f)>-1?u=w:Us.xOrds.indexOf(f)>-1?(u.x=w.x,u.width=w.width):Us.yOrds.indexOf(f)>-1&&(u.y=w.y,u.height=w.height),u.x=cl(u.x,0,i.width-u.width),u.y=cl(u.y,0,i.height-u.height),u}renderCropSelection(){const{ariaLabels:e=Us.defaultProps.ariaLabels,disabled:r,locked:n,renderSelectionAddon:s,ruleOfThirds:i,crop:o}=this.props,c=this.getCropStyle();if(o)return ct.createElement("div",{style:c,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!r&&!n&&ct.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},ct.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),ct.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),ct.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),ct.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),ct.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"nw"),role:"button"}),ct.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"n"),role:"button"}),ct.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"ne"),role:"button"}),ct.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"e"),role:"button"}),ct.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"se"),role:"button"}),ct.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"s"),role:"button"}),ct.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"sw"),role:"button"}),ct.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:u=>this.onHandlerKeyDown(u,"w"),role:"button"})),s&&ct.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:u=>u.stopPropagation()},s(this.state)),i&&ct.createElement(ct.Fragment,null,ct.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),ct.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const r={...ch,...this.props.crop||{}};return la(r,e.width,e.height)}render(){const{aspect:e,children:r,circularCrop:n,className:s,crop:i,disabled:o,locked:c,style:u,ruleOfThirds:h}=this.props,{cropIsActive:f,newCropIsBeingDrawn:p}=this.state,g=i?this.renderCropSelection():null,x=tP("ReactCrop",s,f&&"ReactCrop--active",o&&"ReactCrop--disabled",c&&"ReactCrop--locked",p&&"ReactCrop--new-crop",i&&e&&"ReactCrop--fixed-aspect",i&&n&&"ReactCrop--circular-crop",i&&h&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return ct.createElement("div",{ref:this.componentRef,className:x,style:u},ct.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},r),i?ct.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},ct.createElement("defs",null,ct.createElement("mask",{id:`hole-${this.instanceId}`},ct.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?ct.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):ct.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),ct.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,g)}};dr(ci,"xOrds",["e","w"]),dr(ci,"yOrds",["n","s"]),dr(ci,"xyOrds",["nw","ne","se","sw"]),dr(ci,"nudgeStep",1),dr(ci,"nudgeStepMedium",10),dr(ci,"nudgeStepLarge",100),dr(ci,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let iP=ci;const oP=()=>{const{user:t,loading:e,setUser:r}=Mt(),[n,s]=A.useState(!1),[i,o]=A.useState(null),[c,u]=A.useState(null),[h,f]=A.useState(null),[p,g]=A.useState(),[x,w]=A.useState(null),[b,v]=A.useState(!1),_=A.useRef(null),T=A.useRef(null);if(e)return a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(!t)return a.jsx($p,{to:"/login"});const C=H=>{const ie=new Date(H);return ie.toLocaleDateString()+" "+ie.toLocaleTimeString()},R=(H,ie,re)=>nP(rP({unit:"%",width:90},re,H,ie),H,ie),j=A.useCallback(H=>{const{width:ie,height:re}=H.currentTarget;g(R(ie,re,1))},[]),O=H=>{const ie=H.target.files[0];if(!ie)return;if(!ie.type.match("image.*")){o("Please select an image file");return}if(ie.size>5*1024*1024){o("Image size should be less than 5MB");return}o(null);const re=new FileReader;re.onloadend=()=>{f(re.result),v(!0)},re.readAsDataURL(ie)},S=(H,ie)=>{if(!ie||!H)return null;const re=document.createElement("canvas"),L=H.naturalWidth/H.width,ee=H.naturalHeight/H.height;return re.width=ie.width,re.height=ie.height,re.getContext("2d").drawImage(H,ie.x*L,ie.y*ee,ie.width*L,ie.height*ee,0,0,ie.width,ie.height),re.toDataURL("image/jpeg")},P=H=>{w(H)},B=()=>{if(!x||!T.current)return;const H=S(T.current,x);u(H),v(!1)},ae=async()=>{if(c)try{s(!0),o(null),console.log("Attempting to upload profile picture to:","/api/auth/profile-picture");try{const ie=await er.get("/api/auth/profile-picture-test");console.log("Test endpoint response:",ie.data)}catch(ie){console.error("Test endpoint failed:",ie)}const H=await Zt.updateProfilePicture(c);console.log("Profile picture update response:",H.data),H.data.success?(r({...t,profilePicture:c}),u(null),f(null)):o("Failed to update profile picture")}catch(H){console.error("Error uploading profile picture:",H),H.response?(console.error("Response data:",H.response.data),console.error("Response status:",H.response.status),console.error("Response headers:",H.response.headers),o(`Error ${H.response.status}: ${H.response.data.message||"Unknown error"}`)):H.request?(console.error("Request was made but no response received:",H.request),o("No response received from server. Check network connection.")):(console.error("Error setting up request:",H.message),o(`Error: ${H.message}`))}finally{s(!1)}},q=()=>{u(null),f(null),v(!1),o(null),g(void 0),w(null),_.current&&(_.current.value="")};return a.jsx(rr,{children:a.jsx("div",{className:"container mx-auto p-6",children:a.jsxs("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl overflow-hidden shadow-sm",children:[a.jsx("div",{className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white p-4",children:a.jsx("h2",{className:"text-2xl font-bold",children:"User Profile"})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8 text-center",children:[b&&h&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-lg font-medium mb-2",children:"Adjust Your Profile Picture"}),a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx(iP,{crop:p,onChange:(H,ie)=>g(ie),onComplete:P,aspect:1,circularCrop:!0,children:a.jsx("img",{ref:T,src:h,alt:"Crop Preview",onLoad:j,className:"max-w-full max-h-96"})}),a.jsxs("div",{className:"flex justify-center mt-4 space-x-3",children:[a.jsxs("button",{type:"button",onClick:B,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 flex items-center",children:[a.jsx(rE,{className:"mr-2"})," Apply Crop"]}),a.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out0 text-white rounded hover:bg-gray-600",children:"Cancel"})]})]})]}),!b&&a.jsxs("div",{className:"relative h-24 w-24 rounded-full mx-auto mb-4",children:[c?a.jsx("img",{src:c,alt:"Profile Preview",className:"h-24 w-24 rounded-full object-cover border-2 border-blue-300"}):t.profilePicture?a.jsx("img",{src:t.profilePicture,alt:t.fullName,className:"h-24 w-24 rounded-full object-cover"}):a.jsx("div",{className:"h-24 w-24 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx("span",{className:"text-3xl font-bold text-blue-600",children:t.fullName?t.fullName.charAt(0).toUpperCase():"U"})}),a.jsx("label",{htmlFor:"profile-upload",className:"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-full p-2 cursor-pointer transition-colors",children:a.jsx(Z6,{size:12})}),a.jsx("input",{type:"file",id:"profile-upload",className:"hidden",accept:"image/*",onChange:O,ref:_})]}),c&&!b&&a.jsxs("div",{className:"flex justify-center space-x-3 mb-4",children:[a.jsx("button",{onClick:ae,disabled:n,className:`p-2 rounded-full ${n?"bg-gray-300":"bg-green-500 hover:bg-green-600"} text-white`,children:a.jsx(eg,{size:12})}),a.jsx("button",{onClick:q,disabled:n,className:"p-2 rounded-full bg-red-500 hover:bg-red-600 text-white",children:a.jsx(kd,{size:12})})]}),i&&a.jsx("div",{className:"text-red-500 text-sm mb-2",children:i}),a.jsx("h3",{className:"text-xl font-bold mt-2",children:t.fullName}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:t.email}),a.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold mt-2",children:t.role})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[a.jsx("h4",{className:"text-lg font-bold mb-2",children:"Account Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:"User ID"}),a.jsx("p",{className:"font-medium",children:t._id})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Created"}),a.jsx("p",{className:"font-medium",children:C(t.createdAt)})]})]})]}),t.role==="Sales Person"&&a.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[a.jsx("h4",{className:"text-lg font-bold mb-2",children:"Sales Information"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"You have access to view and manage leads assigned to you."})]}),t.role==="Lead Person"&&a.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[a.jsx("h4",{className:"text-lg font-bold mb-2",children:"Lead Management"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"You have access to create leads and view leads assigned to you."})]}),(t.role==="Admin"||t.role==="Manager")&&a.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[a.jsx("h4",{className:"text-lg font-bold mb-2",children:"Administrative Access"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"You have access to all leads and administrative functions."})]})]})]})]})})})},lP=()=>{const{user:t}=Mt(),[e,r]=A.useState(""),[n,s]=A.useState(""),[i,o]=A.useState(!1);A.useEffect(()=>{const u=localStorage.getItem("token");r(u||"No token found")},[]);const c=async()=>{var u;o(!0);try{const p=await er.get("https://crm-backend-o36v.onrender.com/api/auth/debug",{headers:{Authorization:`Bearer ${e}`}});s(JSON.stringify(p.data,null,2))}catch(h){s(JSON.stringify(((u=h.response)==null?void 0:u.data)||h.message,null,2))}o(!1)};return a.jsx(rr,{children:a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Authentication Debug"}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-6 rounded shadow-md dark:shadow-black/25 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Current User"}),a.jsx("pre",{className:"bg-gray-100 dark:bg-slate-700 p-4 rounded overflow-auto",children:JSON.stringify(t,null,2)||"Not logged in"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-6 rounded shadow-md dark:shadow-black/25 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Stored Token"}),a.jsx("pre",{className:"bg-gray-100 dark:bg-slate-700 p-4 rounded overflow-auto mb-4",children:e}),a.jsx("button",{onClick:c,disabled:i,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200",children:i?"Testing...":"Test Token"})]}),n&&a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-6 rounded shadow-md dark:shadow-black/25",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Test Result"}),a.jsx("pre",{className:"bg-gray-100 dark:bg-slate-700 p-4 rounded overflow-auto",children:n})]})]})})},cP=()=>{var b;const{user:t}=Mt(),[e,r]=A.useState({totalLeads:0,totalSales:0,totalRevenue:0,totalUsers:0,recentLeads:[],recentSales:[],userCounts:{salesPerson:0,leadPerson:0,manager:0,admin:0},leadStages:{Introduction:0,Acknowledgement:0,Question:0,"Future Promise":0,Payment:0,Analysis:0}}),[n,s]=A.useState("Acknowledgement"),[i,o]=A.useState([]),[c,u]=A.useState(!0),[h,f]=A.useState(null);A.useEffect(()=>{p()},[]),A.useEffect(()=>{e.totalLeads>0&&g()},[n]);const p=async()=>{try{u(!0);const v=await mn.getAll(),_=v.data.success?v.data.data:[];let T=0,C=[];try{T=await K4()}catch(q){console.error("Error getting direct sales count:",q)}try{const q=await Er.getAll();q.data&&q.data.success&&(C=q.data.data)}catch(q){console.error("Error fetching sales data:",q)}const R=await Zt.getUsers(),j=R.data.success?R.data.data:[],O=C.reduce((q,H)=>q+parseFloat(H.amount||H.totalCost||0),0),S=[..._].sort((q,H)=>new Date(H.createdAt)-new Date(q.createdAt)).slice(0,5),P=[...C].sort((q,H)=>new Date(H.createdAt)-new Date(q.createdAt)).slice(0,5),B={salesPerson:j.filter(q=>q.role==="Sales Person").length,leadPerson:j.filter(q=>q.role==="Lead Person").length,manager:j.filter(q=>q.role==="Manager").length,admin:j.filter(q=>q.role==="Admin").length},ae={Introduction:_.filter(q=>q.status==="Introduction").length,Acknowledgement:_.filter(q=>q.status==="Acknowledgement").length,Question:_.filter(q=>q.status==="Question").length,"Future Promise":_.filter(q=>q.status==="Future Promise").length,Payment:_.filter(q=>q.status==="Payment").length,Analysis:_.filter(q=>q.status==="Analysis").length};r({totalLeads:_.length,totalSales:T||C.length,totalRevenue:O,totalUsers:j.length,recentLeads:S,recentSales:P,userCounts:B,leadStages:ae}),g(_,n),f(null)}catch(v){console.error("Error fetching dashboard data:",v),f("Failed to load dashboard data. Please try again.")}finally{u(!1)}},g=async(v=null,_=n)=>{try{let T=v;if(!T){const R=await mn.getAll();T=R.data.success?R.data.data:[]}const C=T.filter(R=>R.status===_);o(C)}catch(T){console.error("Error filtering leads by stage:",T),o([])}},x=v=>{s(v),g(null,v)},w=v=>new Date(v).toLocaleDateString();return a.jsx(rr,{children:a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:(t==null?void 0:t.role)==="Lead Person"?"Lead Person Dashboard":"Admin Dashboard"}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),h&&a.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:h}),c?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:`${Fc.card} rounded-lg p-6`,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`${bs.text.muted} text-sm font-medium`,children:"Total Leads"}),a.jsx("p",{className:"text-3xl font-bold mt-1",children:e.totalLeads})]}),a.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-3 rounded-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-600 dark:text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),a.jsx("div",{className:"mt-4",children:a.jsx(yt,{to:"/admin/leads",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Manage leads"})})]}),a.jsxs("div",{className:`${Fc.card} rounded-lg p-6`,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`${bs.text.muted} text-sm font-medium`,children:"Total Sales"}),a.jsx("p",{className:"text-3xl font-bold mt-1",children:e.totalSales})]}),a.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-3 rounded-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})})]}),a.jsx("div",{className:"mt-4",children:a.jsx(yt,{to:"/sales-tracking",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View all sales"})})]}),a.jsx("div",{className:`${Fc.card} rounded-lg p-6`,children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`${bs.text.muted} text-sm font-medium`,children:"Revenue"}),a.jsxs("p",{className:"text-3xl font-bold mt-1",children:["$",((b=e.totalRevenue)==null?void 0:b.toLocaleString())||"0"]})]}),a.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 p-3 rounded-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-600 dark:text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),a.jsxs("div",{className:`${Fc.card} rounded-lg p-6`,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`${bs.text.muted} text-sm font-medium`,children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold mt-1",children:e.totalUsers})]}),a.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-2.239"})})})]}),a.jsx("div",{className:"mt-4",children:a.jsx(yt,{to:"/admin/users",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Manage users"})})]})]}),((t==null?void 0:t.role)==="Admin"||(t==null?void 0:t.role)==="Manager")&&a.jsxs("div",{className:`${Fc.card} rounded-lg mb-8`,children:[a.jsx("div",{className:`px-6 py-4 ${bs.border.primary} border-b`,children:a.jsx("h2",{className:`text-lg font-medium ${bs.text.heading}`,children:"Employee Activity Monitoring"})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-indigo-100 p-3 rounded-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:`text-xl font-semibold ${bs.text.heading}`,children:"Activity Dashboard"}),a.jsx("p",{className:`${bs.text.secondary} mt-1`,children:"Monitor employee CRM usage time and productivity"}),a.jsxs("div",{className:`mt-2 text-sm ${bs.text.muted}`,children:["• View daily usage time in hours and minutes",a.jsx("br",{}),"• Track individual employee activity",a.jsx("br",{}),"• Generate activity reports and analytics"]})]})]}),a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsx(yt,{to:"/admin/activity",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition-colors duration-200 text-center",children:"🕐 Open Activity Dashboard"}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500 text-center",children:"View employee time tracking"})]})]})})]}),(t==null?void 0:t.role)==="Admin"&&a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out border border-slate-200 dark:border-slate-700 rounded-lg shadow mb-8 shadow-sm dark:shadow-black/25",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:a.jsx("h2",{className:"text-lg font-medium",children:"Team Overview"})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"border rounded-lg p-4 text-center",children:[a.jsx("h3",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Sales Team"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:e.userCounts.salesPerson})]}),a.jsxs("div",{className:"border rounded-lg p-4 text-center",children:[a.jsx("h3",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Lead Team"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:e.userCounts.leadPerson})]}),a.jsxs("div",{className:"border rounded-lg p-4 text-center",children:[a.jsx("h3",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Managers"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:e.userCounts.manager})]}),a.jsxs("div",{className:"border rounded-lg p-4 text-center",children:[a.jsx("h3",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Admins"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:e.userCounts.admin})]})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out border border-slate-200 dark:border-slate-700 rounded-lg shadow mb-8 shadow-sm dark:shadow-black/25",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:a.jsx("h2",{className:"text-lg font-medium",children:"Lead Stage Analytics"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:Object.entries(e.leadStages).map(([v,_])=>a.jsxs("div",{className:`border rounded-lg p-4 text-center cursor-pointer transition-all duration-200 ${n===v?"border-blue-500 bg-blue-50 shadow-md dark:shadow-xl dark:shadow-black/25":"border-gray-200 dark:border-slate-700 hover:border-gray-300 dark:border-slate-600 hover:shadow-sm dark:shadow-lg dark:shadow-black/25"}`,onClick:()=>x(v),children:[a.jsx("h3",{className:`text-sm font-medium ${n===v?"text-blue-700":"text-gray-500 dark:text-gray-400 dark:text-gray-400"}`,children:v}),a.jsx("p",{className:`text-2xl font-bold mt-1 ${n===v?"text-blue-900":"text-gray-900 dark:text-white"}`,children:_}),n===v&&a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:"inline-block w-2 h-2 bg-blue-500 rounded-full"})})]},v))}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2 sm:mb-0",children:(t==null?void 0:t.role)==="Lead Person"?`My leads in "${n}" Stage`:`Leads in "${n}" Stage`}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{htmlFor:"stage-select",className:"text-sm text-gray-600 dark:text-gray-500",children:"Select Stage:"}),a.jsxs("select",{id:"stage-select",value:n,onChange:v=>x(v.target.value),className:"border border-gray-300 dark:border-slate-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"Introduction",children:"Introduction"}),a.jsx("option",{value:"Acknowledgement",children:"Acknowledgement"}),a.jsx("option",{value:"Question",children:"Question"}),a.jsx("option",{value:"Future Promise",children:"Future Promise"}),a.jsx("option",{value:"Payment",children:"Payment"}),a.jsx("option",{value:"Analysis",children:"Analysis"})]})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:(t==null?void 0:t.role)==="Lead Person"?`My leads in ${n}:`:`Total leads in ${n}:`}),a.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[e.leadStages[n]," leads"]})]}),i.length>0?a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700",children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Country"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:i.slice(0,5).map(v=>a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800",children:[a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:v.name}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:v.course}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:v.country}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:v.contactNumber}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:w(v.createdAt)})]},v._id))})]}),i.length>5&&a.jsx("div",{className:"mt-3 text-center",children:a.jsxs(yt,{to:`/leads?status=${n}`,className:"text-sm text-blue-600 hover:underline",children:["View all ",i.length," leads in ",n," stage"]})})]}):a.jsx("div",{className:"text-center py-4",children:a.jsxs("p",{className:"text-gray-500 dark:text-gray-500",children:["No leads found in ",n," stage"]})})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out border border-slate-200 dark:border-slate-700 rounded-lg shadow shadow-sm dark:shadow-black/25",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:a.jsx("h2",{className:"text-lg font-medium",children:"Recent Leads"})}),a.jsxs("div",{className:"p-6",children:[e.recentLeads.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-center py-4",children:"No recent leads found"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700",children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{children:e.recentLeads.map(v=>a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.name}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.course}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:w(v.createdAt)})]},v._id))})]})}),a.jsx("div",{className:"mt-4 text-right",children:a.jsx(yt,{to:"/leads",className:"text-sm text-blue-600 hover:underline",children:"View all leads"})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out border border-slate-200 dark:border-slate-700 rounded-lg shadow shadow-sm dark:shadow-black/25",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:a.jsx("h2",{className:"text-lg font-medium",children:"Recent Sales"})}),a.jsxs("div",{className:"p-6",children:[e.recentSales.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-center py-4",children:"No recent sales found"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700",children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),a.jsx("tbody",{children:e.recentSales.map(v=>{var _;return a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:((_=v.leadId)==null?void 0:_.name)||"N/A"}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:v.product}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:sa(v.amount)})]},v._id)})})]})}),a.jsx("div",{className:"mt-4 text-right",children:a.jsx(yt,{to:"/sales-tracking",className:"text-sm text-blue-600 hover:underline",children:"View all sales"})})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out border border-slate-200 dark:border-slate-700 rounded-lg shadow shadow-sm dark:shadow-black/25",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:a.jsx("h2",{className:"text-lg font-medium",children:"Quick Actions"})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:(t==null?void 0:t.role)==="Admin"?a.jsxs(a.Fragment,{children:[a.jsx(yt,{to:"/admin/users",className:"bg-blue-50 hover:bg-blue-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),a.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"Manage Users"})]})}),a.jsx(yt,{to:"/admin/leads",className:"bg-green-50 hover:bg-green-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"Manage Leads"})]})}),a.jsx(yt,{to:"/admin/reports",className:"bg-purple-50 hover:bg-purple-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-purple-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"View Reports"})]})}),a.jsx(yt,{to:"/sales-tracking",className:"bg-yellow-50 hover:bg-yellow-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-yellow-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"Sales Tracking"})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx(yt,{to:"/leads",className:"bg-blue-50 hover:bg-blue-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"Manage Leads"})]})}),a.jsx(yt,{to:"/admin/import",className:"bg-green-50 hover:bg-green-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),a.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"Import Data"})]})}),a.jsx(yt,{to:"/lead-sales-sheet",className:"bg-purple-50 hover:bg-purple-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-purple-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"Sales Sheet"})]})}),a.jsx(yt,{to:"/tasks",className:"bg-yellow-50 hover:bg-yellow-100 transition p-4 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-yellow-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),a.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"Tasks"})]})})]})})})]})]})]})})},dP=()=>{const{user:t}=Mt(),[e,r]=A.useState([]),[n,s]=A.useState(!0),[i,o]=A.useState(null),[c,u]=A.useState(""),[h,f]=A.useState(""),[p,g]=A.useState(!1),[x,w]=A.useState(!1),[b,v]=A.useState(null),[_,T]=A.useState(null),[C,R]=A.useState({fullName:"",email:"",password:"",role:"Sales Person"});A.useEffect(()=>{j()},[]);const j=async()=>{try{s(!0);const re=await Zt.getUsers();re.data.success?r(re.data.data):o("Failed to load users")}catch(re){console.error("Error fetching users:",re),o("Failed to load users. Please try again.")}finally{s(!1)}},O=re=>{R({...C,[re.target.name]:re.target.value})},S=re=>{T({..._,[re.target.name]:re.target.value})},P=async re=>{var L,ee;re.preventDefault();try{if(C.password.length<6){o("Password must be at least 6 characters");return}const Q=await Zt.register(C);Q.success?(R({fullName:"",email:"",password:"",role:"Sales Person"}),g(!1),j()):o(Q.message||"Failed to create user")}catch(Q){console.error("Error creating user:",Q),o(((ee=(L=Q.response)==null?void 0:L.data)==null?void 0:ee.message)||"Failed to create user")}},B=async re=>{var L,ee;re.preventDefault();try{if(_.password&&_.password.length>0&&_.password.length<6){o("Password must be at least 6 characters");return}s(!0);const Q=await Zt.updateUser(_._id,_);Q.data&&Q.data.success?(w(!1),j(),o(null)):o(Q.data&&Q.data.message||"Failed to update user")}catch(Q){console.error("Error updating user:",Q),o(((ee=(L=Q.response)==null?void 0:L.data)==null?void 0:ee.message)||"Failed to update user. Please check your connection and try again.")}finally{s(!1)}},ae=async re=>{var L,ee;try{s(!0);const Q=await Zt.deleteUser(re);Q.data&&Q.data.success?(j(),v(null),o(null)):o(Q.data&&Q.data.message||"Failed to delete user")}catch(Q){console.error("Error deleting user:",Q),o(((ee=(L=Q.response)==null?void 0:L.data)==null?void 0:ee.message)||"Failed to delete user. Please check your connection and try again."),v(null)}finally{s(!1)}},q=re=>{T({_id:re._id,fullName:re.fullName,email:re.email,role:re.role,password:""}),w(!0)},H=re=>new Date(re).toLocaleDateString(),ie=e.filter(re=>{const L=re.fullName.toLowerCase().includes(c.toLowerCase())||re.email.toLowerCase().includes(c.toLowerCase()),ee=h===""||re.role===h;return L&&ee});return a.jsxs(rr,{children:[a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),a.jsx("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Add New User"})]}),i&&a.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:i}),a.jsx("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-black/25 p-6 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Search Users"}),a.jsx("input",{type:"text",id:"search",placeholder:"Search by name or email",value:c,onChange:re=>u(re.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"roleFilter",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Filter by Role"}),a.jsxs("select",{id:"roleFilter",value:h,onChange:re=>f(re.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Roles"}),a.jsx("option",{value:"Sales Person",children:"Sales Person"}),a.jsx("option",{value:"Lead Person",children:"Lead Person"}),a.jsx("option",{value:"Manager",children:"Manager"}),a.jsx("option",{value:"Admin",children:"Admin"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{u(""),f("")},className:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-400 rounded-md hover:bg-gray-50 dark:bg-slate-800 transition",children:"Clear Filters"})})]})}),n?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsx("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-black/25 overflow-hidden",children:ie.length===0?a.jsx("div",{className:"p-6 text-center text-gray-500 dark:text-gray-500",children:"No users found. Try adjusting your filters."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-gray-200 dark:divide-slate-700",children:ie.map(re=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:bg-slate-800",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 flex-shrink-0 bg-gray-200 dark:bg-slate-600 rounded-full flex items-center justify-center text-gray-500 dark:text-gray-500",children:re.fullName.charAt(0).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:re.fullName}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:["ID: ",re._id]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:re.email})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${re.role==="Admin"?"bg-purple-100 text-purple-800":re.role==="Manager"?"bg-blue-100 text-blue-800":re.role==="Lead Person"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:re.role})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:H(re.createdAt)}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[re._id!==t.id&&a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>q(re),className:"text-blue-600 hover:text-blue-900 px-2 py-1",children:"Edit"}),a.jsx("button",{onClick:()=>v(re),className:"text-red-600 hover:text-red-900 px-2 py-1",children:"Delete"})]}),re._id===t.id&&a.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:"Current User"})]})]},re._id))})]})})})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow-lg dark:shadow-black/25 max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center bg-blue-600 text-white px-6 py-4 rounded-t-lg",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Add New User"}),a.jsx("button",{onClick:()=>g(!1),className:"text-white hover:text-gray-200 focus:outline-none",children:"×"})]}),a.jsxs("form",{onSubmit:P,className:"px-6 py-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",id:"fullName",name:"fullName",value:C.fullName,onChange:O,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:C.email,onChange:O,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Password"}),a.jsx("input",{type:"password",id:"password",name:"password",value:C.password,onChange:O,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500",required:!0,minLength:6}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Role"}),a.jsxs("select",{id:"role",name:"role",value:C.role,onChange:O,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500",required:!0,children:[a.jsx("option",{value:"Sales Person",children:"Sales Person"}),a.jsx("option",{value:"Lead Person",children:"Lead Person"}),a.jsx("option",{value:"Manager",children:"Manager"}),a.jsx("option",{value:"Admin",children:"Admin"})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Note: Only admins can create admin users. New admin accounts will require approval."})]}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-400 rounded-md hover:bg-gray-50 dark:bg-slate-800 transition",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Create User"})]})]})]})}),x&&_&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow-lg dark:shadow-black/25 max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center bg-blue-600 text-white px-6 py-4 rounded-t-lg",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Edit User"}),a.jsx("button",{onClick:()=>w(!1),className:"text-white hover:text-gray-200 focus:outline-none",children:"×"})]}),a.jsxs("form",{onSubmit:B,className:"px-6 py-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"editFullName",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",id:"editFullName",name:"fullName",value:_.fullName,onChange:S,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"editEmail",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Email"}),a.jsx("input",{type:"email",id:"editEmail",name:"email",value:_.email,onChange:S,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"editPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Password"}),a.jsx("input",{type:"password",id:"editPassword",name:"password",value:_.password,onChange:S,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500",placeholder:"Leave blank to keep current password",minLength:_.password?6:0}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Leave blank to keep current password. New password must be at least 6 characters."})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"editRole",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Role"}),a.jsxs("select",{id:"editRole",name:"role",value:_.role,onChange:S,className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500",required:!0,children:[a.jsx("option",{value:"Sales Person",children:"Sales Person"}),a.jsx("option",{value:"Lead Person",children:"Lead Person"}),a.jsx("option",{value:"Manager",children:"Manager"}),a.jsx("option",{value:"Admin",children:"Admin"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-400 rounded-md hover:bg-gray-50 dark:bg-slate-800 transition",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Update User"})]})]})]})}),b&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow-lg dark:shadow-black/25 max-w-md w-full p-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Confirm Delete"}),a.jsxs("p",{className:"mb-4",children:["Are you sure you want to delete user ",a.jsx("span",{className:"font-semibold",children:b.fullName}),"? This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>v(null),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-400 rounded-md hover:bg-gray-50 dark:bg-slate-800 transition",children:"Cancel"}),a.jsx("button",{onClick:()=>ae(b._id),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:"Delete"})]})]})})]})},uP=()=>{const{user:t}=Mt(),[e,r]=A.useState([]),[n,s]=A.useState([]),[i,o]=A.useState(!0),[c,u]=A.useState(null),[h,f]=A.useState({search:"",status:"",country:"",course:"",source:"",dateFrom:"",dateTo:"",assignedTo:"",leadPerson:""}),[p,g]=A.useState({countries:[],courses:[],sources:[],salesPersons:[],leadPersons:[]}),x=["New","Contacted","Qualified","Lost","Converted","Introduction","Acknowledgement","Question","Future Promise","Payment","Analysis"];A.useEffect(()=>{w(),b()},[]),A.useEffect(()=>{e.length>0&&(C(),v())},[e,h]);const w=async()=>{try{o(!0);const j=await mn.getAll();j.data.success?(r(j.data.data),s(j.data.data),u(null)):u("Failed to load leads")}catch(j){console.error("Error fetching leads:",j),u("Failed to load leads. Please try again.")}finally{o(!1)}},b=async()=>{try{const j=await Zt.getUsers("Sales Person"),O=await Zt.getUsers("Lead Person");g(S=>({...S,salesPersons:j.data.data||[],leadPersons:O.data.data||[]}))}catch(j){console.error("Error fetching user options:",j)}},v=()=>{const j=[...new Set(e.map(P=>P.country).filter(Boolean))],O=[...new Set(e.map(P=>P.course).filter(Boolean))],S=[...new Set(e.map(P=>P.source).filter(Boolean))];g(P=>({...P,countries:j,courses:O,sources:S}))},_=j=>{const{name:O,value:S}=j.target;f(P=>({...P,[O]:S}))},T=()=>{f({search:"",status:"",country:"",course:"",source:"",dateFrom:"",dateTo:"",assignedTo:"",leadPerson:""})},C=()=>{let j=[...e];if(h.search){const O=h.search.toLowerCase();j=j.filter(S=>S.name&&S.name.toLowerCase().includes(O)||S.email&&S.email.toLowerCase().includes(O)||S.phone&&S.phone.includes(O)||S.pseudoId&&S.pseudoId.toLowerCase().includes(O))}if(h.status&&(j=j.filter(O=>O.status===h.status)),h.country&&(j=j.filter(O=>O.country===h.country)),h.course&&(j=j.filter(O=>O.course===h.course)),h.source&&(j=j.filter(O=>O.source===h.source)),h.dateFrom){const O=new Date(h.dateFrom);j=j.filter(S=>new Date(S.createdAt)>=O)}if(h.dateTo){const O=new Date(h.dateTo);O.setHours(23,59,59,999),j=j.filter(S=>new Date(S.createdAt)<=O)}h.assignedTo&&(j=j.filter(O=>O.assignedTo&&O.assignedTo._id===h.assignedTo)),h.leadPerson&&(j=j.filter(O=>O.leadPerson&&O.leadPerson._id===h.leadPerson)),s(j)},R=j=>new Date(j).toLocaleDateString();return a.jsx(rr,{children:a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Admin Leads Management"}),a.jsx(yt,{to:"/leads",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md transition",children:"Standard Leads View"})]}),c&&a.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:c}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-6 mb-6 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium",children:"Advanced Filters"}),a.jsx("button",{onClick:T,className:"text-sm text-blue-600 hover:underline",children:"Reset Filters"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Search"}),a.jsx("input",{type:"text",id:"search",name:"search",placeholder:"Search name, email, phone...",value:h.search,onChange:_,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Status"}),a.jsxs("select",{id:"status",name:"status",value:h.status,onChange:_,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Statuses"}),x.map(j=>a.jsx("option",{value:j,children:j},j))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Country"}),a.jsxs("select",{id:"country",name:"country",value:h.country,onChange:_,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Countries"}),p.countries.map(j=>a.jsx("option",{value:j,children:j},j))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"course",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Course"}),a.jsxs("select",{id:"course",name:"course",value:h.course,onChange:_,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Courses"}),p.courses.map(j=>a.jsx("option",{value:j,children:j},j))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Source"}),a.jsxs("select",{id:"source",name:"source",value:h.source,onChange:_,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Sources"}),p.sources.map(j=>a.jsx("option",{value:j,children:j},j))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dateFrom",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Date From"}),a.jsx("input",{type:"date",id:"dateFrom",name:"dateFrom",value:h.dateFrom,onChange:_,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dateTo",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Date To"}),a.jsx("input",{type:"date",id:"dateTo",name:"dateTo",value:h.dateTo,onChange:_,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"assignedTo",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Assigned To"}),a.jsxs("select",{id:"assignedTo",name:"assignedTo",value:h.assignedTo,onChange:_,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Sales Persons"}),p.salesPersons.map(j=>a.jsx("option",{value:j._id,children:j.fullName},j._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"leadPerson",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Lead Person"}),a.jsxs("select",{id:"leadPerson",name:"leadPerson",value:h.leadPerson,onChange:_,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"All Lead Persons"}),p.leadPersons.map(j=>a.jsx("option",{value:j._id,children:j.fullName},j._id))]})]})]})]}),i?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out border-b border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[a.jsxs("h3",{className:"text-lg font-medium",children:[n.length," Leads Found"]}),a.jsxs("div",{className:"text-sm text-slate-500 dark:text-gray-400",children:["Showing filtered results from a total of ",e.length," leads"]})]}),n.length===0?a.jsx("div",{className:"p-6 text-center text-slate-500 dark:text-gray-400",children:"No leads found matching your filters. Try adjusting your criteria."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Course"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Country"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Lead By"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-slate-200 dark:divide-slate-700",children:n.map(j=>{var O;return a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 dark:bg-slate-800 transition-all duration-200 ease-out",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:[j.name,j.isRepeatCustomer&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",title:`Repeat customer! Previous courses: ${((O=j.previousCourses)==null?void 0:O.join(", "))||"None"}`,children:"Repeat"})]}),a.jsx("div",{className:"text-sm text-slate-500 dark:text-gray-400",children:j.pseudoId})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:j.email}),a.jsxs("div",{className:"text-sm text-slate-500 dark:text-gray-400",children:[j.countryCode," ",j.phone]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:j.course})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                            ${j.status==="Introduction"?"bg-blue-100 text-blue-800":j.status==="Acknowledgement"?"bg-yellow-100 text-yellow-800":j.status==="Question"?"bg-purple-100 text-purple-800":j.status==="Future Promise"?"bg-red-100 text-red-800":j.status==="Payment"?"bg-green-100 text-green-800":(j.status==="Analysis","bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200")}
                          `,children:j.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:j.country}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:j.assignedTo?j.assignedTo.fullName:"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:j.leadPerson?j.leadPerson.fullName:"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:R(j.createdAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:a.jsx(yt,{to:`/leads#${j._id}`,className:"text-blue-600 hover:text-blue-900 mr-3",children:"View"})})]},j._id)})})]})})]})]})})},hP=()=>{const{user:t}=Mt(),[e,r]=A.useState("leads"),[n,s]=A.useState(!1),[i,o]=A.useState(0),[c,u]=A.useState(null),[h,f]=A.useState(null),[p,g]=A.useState(null),[x,w]=A.useState(null);if((t==null?void 0:t.role)!=="Admin")return a.jsx(rr,{children:a.jsx("div",{className:"container mx-auto p-6",children:a.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:"Access denied. Only administrators can access this page."})})});const b=O=>{const S=O.target.files[0];S&&S.type==="text/csv"?f(S):(at.error("Please upload a valid CSV file"),O.target.value=null)},v=O=>{const S=O.target.files[0];S&&S.type==="text/csv"?g(S):(at.error("Please upload a valid CSV file"),O.target.value=null)},_=O=>{const S=O.target.files[0];S&&S.type==="text/csv"?w(S):(at.error("Please upload a valid CSV file"),O.target.value=null)},T=async O=>new Promise((S,P)=>{const B=new FileReader;B.onload=ae=>{try{const H=ae.target.result.split(`
`),ie=H[0].split(",").map(L=>L.trim()),re=[];for(let L=1;L<H.length;L++){if(H[L].trim()==="")continue;const ee=[];let Q="",te=!1;for(let Z of H[L])Z==='"'?te=!te:Z===","&&!te?(ee.push(Q),Q=""):Q+=Z;ee.push(Q);const U={};ie.forEach((Z,X)=>{X<ee.length&&(U[Z]=ee[X].replace(/^"|"$/g,"").trim())}),re.push(U)}S(re)}catch(q){P(q)}},B.onerror=ae=>P(ae),B.readAsText(O)}),C=async()=>{var O,S;if(!h){at.error("Please select a CSV file to import");return}s(!0),o(10),u(null);try{const P=await T(h);if(o(50),P.length===0){at.error("No data found in the CSV file"),s(!1),o(0);return}const B=await mn.importLeads(P);o(100),u({total:P.length,imported:B.data.count,errors:P.length-B.data.count}),at.success(`Successfully imported ${B.data.count} leads`)}catch(P){console.error("Import error:",P),at.error(((S=(O=P.response)==null?void 0:O.data)==null?void 0:S.message)||"Failed to import leads")}finally{s(!1)}},R=async()=>{var O,S;if(!p){at.error("Please select a CSV file to import");return}s(!0),o(10),u(null);try{const P=await T(p);if(o(50),P.length===0){at.error("No data found in the CSV file"),s(!1),o(0);return}const B=await Er.importSales(P);o(100),u({total:P.length,imported:B.data.count,errors:B.data.errorCount||0,errorDetails:B.data.errors}),at.success(`Successfully imported ${B.data.count} sales`)}catch(P){console.error("Import error:",P),at.error(((S=(O=P.response)==null?void 0:O.data)==null?void 0:S.message)||"Failed to import sales")}finally{s(!1)}},j=async()=>{var O,S;if(!x){at.error("Please select a CSV file to import");return}s(!0),o(10),u(null);try{const P=await T(x);if(o(50),P.length===0){at.error("No data found in the CSV file"),s(!1),o(0);return}const B=P.map(q=>({name:q.Name||q["Full Name"]||q["Your name"],email:q.Email||q["Email Address"]||q["Your email"],phone:q.Phone||q["Phone Number"]||q.Mobile,countryCode:q["Country Code"]||"+1",country:q.Country||"Unknown",course:q.Course||q.Program||q.Interest||"General Inquiry",source:"Google Forms",sourceLink:q["Form URL"]||"",remarks:q.Comments||q.Message||""})),ae=await mn.importLeads(B);o(100),u({total:B.length,imported:ae.data.count,errors:B.length-ae.data.count}),at.success(`Successfully imported ${ae.data.count} leads from Google Forms`)}catch(P){console.error("Import error:",P),at.error(((S=(O=P.response)==null?void 0:O.data)==null?void 0:S.message)||"Failed to import Google Forms data")}finally{s(!1)}};return a.jsx(rr,{children:a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsx("h1",{className:"text-3xl font-bold",children:"Data Import"})}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl overflow-hidden mb-6 shadow-sm",children:[a.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:a.jsxs("nav",{className:"flex -mb-px",children:[a.jsx("button",{onClick:()=>r("leads"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${e==="leads"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 dark:text-gray-400 dark:text-gray-400 hover:text-gray-700 dark:text-gray-300 dark:text-gray-400 hover:border-gray-300 dark:border-slate-600"}`,children:"Import Leads"}),a.jsx("button",{onClick:()=>r("sales"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${e==="sales"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 dark:text-gray-400 dark:text-gray-400 hover:text-gray-700 dark:text-gray-300 dark:text-gray-400 hover:border-gray-300 dark:border-slate-600"}`,children:"Import Sales"}),a.jsx("button",{onClick:()=>r("google-forms"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${e==="google-forms"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 dark:text-gray-400 dark:text-gray-400 hover:text-gray-700 dark:text-gray-300 dark:text-gray-400 hover:border-gray-300 dark:border-slate-600"}`,children:"Import Google Forms"})]})}),a.jsxs("div",{className:"p-6",children:[e==="leads"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Leads from CSV"}),a.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-500",children:"Upload a CSV file exported from Google Sheets containing lead information. Make sure your file has headers for: Name, Email, Phone, Country, Course, and other lead properties. For dates, you can use either YYYY-MM-DD (e.g., 2025-04-15) or DD-MM-YYYY (e.g., 15-04-2025) format."}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Upload CSV File"}),a.jsx("input",{type:"file",accept:".csv",onChange:b,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",disabled:n}),h&&a.jsxs("p",{className:"mt-1 text-sm text-slate-500 dark:text-gray-400",children:["Selected file: ",h.name]})]}),a.jsx("button",{onClick:C,disabled:n||!h,className:`px-4 py-2 rounded-md text-white ${n||!h?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition`,children:n?"Importing...":"Import Leads"})]}),e==="sales"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Sales from CSV"}),a.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-500",children:"Upload a CSV file exported from Google Sheets containing sales information. Make sure your file has headers for: Email or Phone (to identify the lead), Amount, Product, Status, and other sales properties."}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Upload CSV File"}),a.jsx("input",{type:"file",accept:".csv",onChange:v,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",disabled:n}),p&&a.jsxs("p",{className:"mt-1 text-sm text-slate-500 dark:text-gray-400",children:["Selected file: ",p.name]})]}),a.jsx("button",{onClick:R,disabled:n||!p,className:`px-4 py-2 rounded-md text-white ${n||!p?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition`,children:n?"Importing...":"Import Sales"})]}),e==="google-forms"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Google Forms Responses"}),a.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-500",children:"Upload a CSV file exported from Google Forms containing lead information. The system will try to map common Google Forms fields to the appropriate lead properties. For dates, you can use either YYYY-MM-DD (e.g., 2025-04-15) or DD-MM-YYYY (e.g., 15-04-2025) format."}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Upload CSV File"}),a.jsx("input",{type:"file",accept:".csv",onChange:_,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",disabled:n}),x&&a.jsxs("p",{className:"mt-1 text-sm text-slate-500 dark:text-gray-400",children:["Selected file: ",x.name]})]}),a.jsx("button",{onClick:j,disabled:n||!x,className:`px-4 py-2 rounded-md text-white ${n||!x?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition`,children:n?"Importing...":"Import Google Forms Data"})]}),n&&a.jsx("div",{className:"mt-6",children:a.jsxs("div",{className:"relative pt-1",children:[a.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[a.jsx("div",{children:a.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200",children:"Progress"})}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-xs font-semibold inline-block text-blue-600",children:[i,"%"]})})]}),a.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200",children:a.jsx("div",{style:{width:`${i}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 transition-all duration-500"})})]})}),c&&a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Import Summary"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Total Records"}),a.jsx("p",{className:"text-xl font-bold",children:c.total})]}),a.jsxs("div",{className:"bg-green-50 p-3 rounded-md",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Successfully Imported"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:c.imported})]}),a.jsxs("div",{className:"bg-red-50 p-3 rounded-md",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Failed Records"}),a.jsx("p",{className:"text-xl font-bold text-red-600",children:c.errors})]})]}),c.errorDetails&&c.errorDetails.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-md font-medium mb-2",children:"Error Details"}),a.jsx("div",{className:"max-h-40 overflow-y-auto bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-2 rounded border border-slate-300 dark:border-slate-600",children:a.jsxs("ul",{className:"text-sm text-slate-700 dark:text-slate-300",children:[c.errorDetails.slice(0,10).map((O,S)=>a.jsx("li",{className:"mb-1 pb-1 border-b border-slate-200 dark:border-slate-700",children:O.message},S)),c.errorDetails.length>10&&a.jsxs("li",{className:"text-slate-500 dark:text-gray-400 italic",children:["...and ",c.errorDetails.length-10," more errors"]})]})})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl overflow-hidden p-6 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Instructions"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-md font-semibold mb-2",children:"Required Fields"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium text-blue-600",children:"Leads Sheet:"}),a.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-600 dark:text-gray-500",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Name"})," - Lead's full name"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Email"})," - Lead's email address"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Phone"})," - Lead's phone number"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"CountryCode"})," - Phone country code (e.g., +1, +91)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Country"})," - Lead's country"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Course"})," - Course/product of interest"]}),a.jsx("li",{children:"Optional: PseudoId, Company, Client, Status, Source, SourceLink, Remarks, Feedback"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium text-blue-600",children:"Sales Sheet:"}),a.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-600 dark:text-gray-500",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Email"})," or ",a.jsx("strong",{children:"Phone"})," - To identify the associated lead"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Amount"})," - Sale amount"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Product"})," - Product/service sold"]}),a.jsx("li",{children:"Optional: Token, Status (Pending/Closed), Notes"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-600",children:"Google Forms:"}),a.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-600 dark:text-gray-500",children:[a.jsx("li",{children:"The system automatically maps common Google Forms field names"}),a.jsx("li",{children:"Ensure your form includes name, email, phone, and course interest fields"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-md font-semibold mb-2",children:"Export Instructions"}),a.jsxs("ol",{className:"list-decimal ml-5 text-sm text-gray-600 dark:text-gray-500",children:[a.jsx("li",{children:"Open your Google Sheet"}),a.jsxs("li",{children:["Go to ",a.jsx("strong",{children:"File"})," > ",a.jsx("strong",{children:"Download"})," > ",a.jsx("strong",{children:"Comma-separated values (.csv)"})]}),a.jsx("li",{children:"Save the file to your computer"}),a.jsx("li",{children:"Upload the CSV file using the form above"})]})]})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var dh={};dh.version="0.18.5";var SN=1252,fP=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],_N=function(t){fP.indexOf(t)!=-1&&(SN=t)};function mP(){_N(1252)}var Sd=function(t){_N(t)};function pP(){Sd(1200),mP()}var f0=function(e){return String.fromCharCode(e)},Lb=function(e){return String.fromCharCode(e)},Ib,gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function _d(t){for(var e="",r=0,n=0,s=0,i=0,o=0,c=0,u=0,h=0;h<t.length;)r=t.charCodeAt(h++),i=r>>2,n=t.charCodeAt(h++),o=(r&3)<<4|n>>4,s=t.charCodeAt(h++),c=(n&15)<<2|s>>6,u=s&63,isNaN(n)?c=u=64:isNaN(s)&&(u=64),e+=gi.charAt(i)+gi.charAt(o)+gi.charAt(c)+gi.charAt(u);return e}function Ma(t){var e="",r=0,n=0,s=0,i=0,o=0,c=0,u=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)i=gi.indexOf(t.charAt(h++)),o=gi.indexOf(t.charAt(h++)),r=i<<2|o>>4,e+=String.fromCharCode(r),c=gi.indexOf(t.charAt(h++)),n=(o&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(n)),u=gi.indexOf(t.charAt(h++)),s=(c&3)<<6|u,u!==64&&(e+=String.fromCharCode(s));return e}var zt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ua=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function jo(t){return zt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Bb(t){return zt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var $s=function(e){return zt?Ua(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function rf(t){if(typeof ArrayBuffer>"u")return $s(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Jd(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function gP(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Qr=zt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ua(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),s=0;for(e=0,r=0;e<t.length;r+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function xP(t){for(var e=[],r=0,n=t.length+250,s=jo(t.length+255),i=0;i<t.length;++i){var o=t.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=t.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|c>>6&15|(o&3)<<4,s[r++]=128|c&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>n&&(e.push(s.slice(0,r)),r=0,s=jo(65535),n=65530)}return e.push(s.slice(0,r)),Qr(e)}var nd=/\u0000/g,m0=/[\u0001-\u0006]/g;function Tl(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Hs(t,e){var r=""+t;return r.length>=e?r:br("0",e-r.length)+r}function dx(t,e){var r=""+t;return r.length>=e?r:br(" ",e-r.length)+r}function uh(t,e){var r=""+t;return r.length>=e?r:r+br(" ",e-r.length)}function yP(t,e){var r=""+Math.round(t);return r.length>=e?r:br("0",e-r.length)+r}function vP(t,e){var r=""+t;return r.length>=e?r:br("0",e-r.length)+r}var Ub=Math.pow(2,32);function ul(t,e){if(t>Ub||t<-Ub)return yP(t,e);var r=Math.round(t);return vP(r,e)}function hh(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var zb=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],op=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function bP(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var wr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},Vb={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},wP={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function fh(t,e,r){for(var n=t<0?-1:1,s=t*n,i=0,o=1,c=0,u=1,h=0,f=0,p=Math.floor(s);h<e&&(p=Math.floor(s),c=p*o+i,f=p*h+u,!(s-p<5e-8));)s=1/(s-p),i=o,o=c,u=h,h=f;if(f>e&&(h>e?(f=u,c=i):(f=h,c=o)),!r)return[0,n*c,f];var g=Math.floor(n*c/f);return[g,n*c-g*f,f]}function p0(t,e,r){if(t>2958465||t<0)return null;var n=t|0,s=Math.floor(86400*(t-n)),i=0,o=[],c={D:n,T:s,u:86400*(t-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++n,++c.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var u=new Date(1900,0,1);u.setDate(u.getDate()+n-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),n<60&&(i=(i+6)%7),r&&(i=TP(u,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=i,c}var jN=new Date(1899,11,31,0,0,0),kP=jN.getTime(),NP=new Date(1900,2,1,0,0,0);function CN(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=NP&&(r+=24*60*60*1e3),(r-(kP+(t.getTimezoneOffset()-jN.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function ux(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function SP(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function _P(t){var e=t<0?12:11,r=ux(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function jP(t){var e=ux(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function CP(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=_P(t):e===10?r=t.toFixed(10).substr(0,12):r=jP(t),ux(SP(r.toUpperCase()))}function fg(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):CP(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return _i(14,CN(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function TP(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function EP(t,e,r,n){var s="",i=0,o=0,c=r.y,u,h=0;switch(t){case 98:c=r.y+543;case 121:switch(e.length){case 1:case 2:u=c%100,h=2;break;default:u=c%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:u=r.m,h=e.length;break;case 3:return op[r.m-1][1];case 5:return op[r.m-1][0];default:return op[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:u=r.d,h=e.length;break;case 3:return zb[r.q][0];default:return zb[r.q][1]}break;case 104:switch(e.length){case 1:case 2:u=1+(r.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:u=r.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:u=r.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Hs(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),e==="s"?i===0?"0":""+i/o:(s=Hs(i,2+n),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:u=c,h=1;break}var f=h>0?Hs(u,h):"";return f}function xi(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var TN=/%/g;function AP(t,e,r){var n=e.replace(TN,""),s=e.length-n.length;return Pa(t,n,r*Math.pow(10,2*s))+br("%",s)}function PP(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Pa(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function EN(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+EN(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(e/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,h,f){return u+h+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var AN=/# (\?+)( ?)\/( ?)(\d+)/;function DP(t,e,r){var n=parseInt(t[4],10),s=Math.round(e*n),i=Math.floor(s/n),o=s-i*n,c=n;return r+(i===0?"":""+i)+" "+(o===0?br(" ",t[1].length+1+t[4].length):dx(o,t[1].length)+t[2]+"/"+t[3]+Hs(c,t[4].length))}function RP(t,e,r){return r+(e===0?"":""+e)+br(" ",t[1].length+2+t[4].length)}var PN=/^#*0*\.([0#]+)/,DN=/\).*[0#]/,RN=/\(###\) ###\\?-####/;function wn(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function $b(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function Hb(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function FP(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function OP(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function ys(t,e,r){if(t.charCodeAt(0)===40&&!e.match(DN)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ys("n",n,r):"("+ys("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return PP(t,e,r);if(e.indexOf("%")!==-1)return AP(t,e,r);if(e.indexOf("E")!==-1)return EN(e,r);if(e.charCodeAt(0)===36)return"$"+ys(t,e.substr(e.charAt(1)==" "?2:1),r);var s,i,o,c,u=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+ul(u,e.length);if(e.match(/^[#?]+$/))return s=ul(r,0),s==="0"&&(s=""),s.length>e.length?s:wn(e.substr(0,e.length-s.length))+s;if(i=e.match(AN))return DP(i,u,h);if(e.match(/^#+0+$/))return h+ul(u,e.length-e.indexOf("0"));if(i=e.match(PN))return s=$b(r,i[1].length).replace(/^([^\.]+)$/,"$1."+wn(i[1])).replace(/\.$/,"."+wn(i[1])).replace(/\.(\d*)$/,function(w,b){return"."+b+br("0",wn(i[1]).length-b.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return h+$b(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return h+xi(ul(u,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ys(t,e,-r):xi(""+(Math.floor(r)+FP(r,i[1].length)))+"."+Hs(Hb(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return ys(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Tl(ys(t,e.replace(/[\\-]/g,""),r)),o=0,Tl(Tl(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(e.match(RN))return s=ys(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=fh(u,Math.pow(10,o)-1,!1),s=""+h,f=Pa("n",i[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=uh(c[2],o),f.length<i[4].length&&(f=wn(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=fh(u,Math.pow(10,o)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?dx(c[1],o)+i[2]+"/"+i[3]+uh(c[2],o):br(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=ul(r,0),e.length<=s.length?s:wn(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var p=e.indexOf(".")-o,g=e.length-s.length-p;return wn(e.substr(0,p)+s+e.substr(e.length-g))}if(i=e.match(/^00,000\.([#0]*0)$/))return o=Hb(r,i[1].length),r<0?"-"+ys(t,e,-r):xi(OP(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Hs(0,3-w.length):"")+w})+"."+Hs(o,i[1].length);switch(e){case"###,##0.00":return ys(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=xi(ul(u,0));return x!=="0"?h+x:"";case"###,###.00":return ys(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ys(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function MP(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Pa(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function LP(t,e,r){var n=e.replace(TN,""),s=e.length-n.length;return Pa(t,n,r*Math.pow(10,2*s))+br("%",s)}function FN(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+FN(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(e/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,h,f){return u+h+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function aa(t,e,r){if(t.charCodeAt(0)===40&&!e.match(DN)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?aa("n",n,r):"("+aa("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return MP(t,e,r);if(e.indexOf("%")!==-1)return LP(t,e,r);if(e.indexOf("E")!==-1)return FN(e,r);if(e.charCodeAt(0)===36)return"$"+aa(t,e.substr(e.charAt(1)==" "?2:1),r);var s,i,o,c,u=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+Hs(u,e.length);if(e.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>e.length?s:wn(e.substr(0,e.length-s.length))+s;if(i=e.match(AN))return RP(i,u,h);if(e.match(/^#+0+$/))return h+Hs(u,e.length-e.indexOf("0"));if(i=e.match(PN))return s=(""+r).replace(/^([^\.]+)$/,"$1."+wn(i[1])).replace(/\.$/,"."+wn(i[1])),s=s.replace(/\.(\d*)$/,function(w,b){return"."+b+br("0",wn(i[1]).length-b.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return h+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return h+xi(""+u);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+aa(t,e,-r):xi(""+r)+"."+br("0",i[1].length);if(i=e.match(/^#,#*,#0/))return aa(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Tl(aa(t,e.replace(/[\\-]/g,""),r)),o=0,Tl(Tl(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(e.match(RN))return s=aa(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=fh(u,Math.pow(10,o)-1,!1),s=""+h,f=Pa("n",i[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=uh(c[2],o),f.length<i[4].length&&(f=wn(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=fh(u,Math.pow(10,o)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?dx(c[1],o)+i[2]+"/"+i[3]+uh(c[2],o):br(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=""+r,e.length<=s.length?s:wn(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var p=e.indexOf(".")-o,g=e.length-s.length-p;return wn(e.substr(0,p)+s+e.substr(e.length-g))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+aa(t,e,-r):xi(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Hs(0,3-w.length):"")+w})+"."+Hs(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var x=xi(""+u);return x!=="0"?h+x:"";default:if(e.match(/\.[0#?]*$/))return aa(t,e.slice(0,e.lastIndexOf(".")),r)+wn(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Pa(t,e,r){return(r|0)===r?aa(t,e,r):ys(t,e,r)}function IP(t){for(var e=[],r=!1,n=0,s=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(s,n-s),s=n+1}if(e[e.length]=t.substr(s),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var ON=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function MN(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":hh(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(ON))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function BP(t,e,r,n){for(var s=[],i="",o=0,c="",u="t",h,f,p,g="H";o<t.length;)switch(c=t.charAt(o)){case"G":if(!hh(t,o))throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(p=t.charCodeAt(++o))!==34&&o<t.length;)i+=String.fromCharCode(p);s[s.length]={t:"t",v:i},++o;break;case"\\":var x=t.charAt(++o),w=x==="("||x===")"?x:"t";s[s.length]={t:w,v:x},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(h==null&&(h=p0(e,r,t.charAt(o+1)==="2"),h==null))return"";s[s.length]={t:"X",v:t.substr(o,2)},u=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=p0(e,r),h==null))return"";for(i=c;++o<t.length&&t.charAt(o).toLowerCase()===c;)i+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=g),s[s.length]={t:c,v:i},u=c;break;case"A":case"a":case"上":var b={t:c,v:c};if(h==null&&(h=p0(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(h!=null&&(b.v=h.H>=12?"P":"A"),b.t="T",g="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(h!=null&&(b.v=h.H>=12?"PM":"AM"),b.t="T",o+=5,g="h"):t.substr(o,5).toUpperCase()==="上午/下午"?(h!=null&&(b.v=h.H>=12?"下午":"上午"),b.t="T",o+=5,g="h"):(b.t="t",++o),h==null&&b.t==="T")return"";s[s.length]=b,u=c;break;case"[":for(i=c;t.charAt(o++)!=="]"&&o<t.length;)i+=t.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(ON)){if(h==null&&(h=p0(e,r),h==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",MN(t)||(s[s.length]={t:"t",v:i}));break;case".":if(h!=null){for(i=c;++o<t.length&&(c=t.charAt(o))==="0";)i+=c;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=c;++o<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(o))>-1;)i+=c;s[s.length]={t:"n",v:i};break;case"?":for(i=c;t.charAt(++o)===c;)i+=c;s[s.length]={t:c,v:i},u=c;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:n===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=c;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)i+=t.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:c,v:c},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"t",v:c},++o;break}var v=0,_=0,T;for(o=s.length-1,u="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=g,u="h",v<1&&(v=1);break;case"s":(T=s[o].v.match(/\.0+$/))&&(_=Math.max(_,T[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":u=s[o].t;break;case"m":u==="s"&&(s[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[o].v.match(/[Hh]/)&&(v=1),v<2&&s[o].v.match(/[Mm]/)&&(v=2),v<3&&s[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var C="",R;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=EP(s[o].t.charCodeAt(0),s[o].v,h,_),s[o].t="t";break;case"n":case"?":for(R=o+1;s[R]!=null&&((c=s[R].t)==="?"||c==="D"||(c===" "||c==="t")&&s[R+1]!=null&&(s[R+1].t==="?"||s[R+1].t==="t"&&s[R+1].v==="/")||s[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[R].v==="/"||s[R].v===" "&&s[R+1]!=null&&s[R+1].t=="?"));)s[o].v+=s[R].v,s[R]={v:"",t:";"},++R;C+=s[o].v,o=R-1;break;case"G":s[o].t="t",s[o].v=fg(e,r);break}var j="",O,S;if(C.length>0){C.charCodeAt(0)==40?(O=e<0&&C.charCodeAt(0)===45?-e:e,S=Pa("n",C,O)):(O=e<0&&n>1?-e:e,S=Pa("n",C,O),O<0&&s[0]&&s[0].t=="t"&&(S=S.substr(1),s[0].v="-"+s[0].v)),R=S.length-1;var P=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){P=o;break}var B=s.length;if(P===s.length&&S.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(R>=s[o].v.length-1?(R-=s[o].v.length,s[o].v=S.substr(R+1,s[o].v.length)):R<0?s[o].v="":(s[o].v=S.substr(0,R+1),R=-1),s[o].t="t",B=o);R>=0&&B<s.length&&(s[B].v=S.substr(0,R+1)+s[B].v)}else if(P!==s.length&&S.indexOf("E")===-1){for(R=S.indexOf(".")-1,o=P;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(f=s[o].v.indexOf(".")>-1&&o===P?s[o].v.indexOf(".")-1:s[o].v.length-1,j=s[o].v.substr(f+1);f>=0;--f)R>=0&&(s[o].v.charAt(f)==="0"||s[o].v.charAt(f)==="#")&&(j=S.charAt(R--)+j);s[o].v=j,s[o].t="t",B=o}for(R>=0&&B<s.length&&(s[B].v=S.substr(0,R+1)+s[B].v),R=S.indexOf(".")+1,o=P;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==P)){for(f=s[o].v.indexOf(".")>-1&&o===P?s[o].v.indexOf(".")+1:0,j=s[o].v.substr(0,f);f<s[o].v.length;++f)R<S.length&&(j+=S.charAt(R++));s[o].v=j,s[o].t="t",B=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(O=n>1&&e<0&&o>0&&s[o-1].v==="-"?-e:e,s[o].v=Pa(s[o].t,s[o].v,O),s[o].t="t");var ae="";for(o=0;o!==s.length;++o)s[o]!=null&&(ae+=s[o].v);return ae}var Wb=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Yb(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function UP(t,e){var r=IP(t),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(Wb),c=r[1].match(Wb);return Yb(e,o)?[n,r[0]]:Yb(e,c)?[n,r[1]]:[n,r[o!=null&&c!=null?2:1]]}return[n,i]}function _i(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:wr)[t],n==null&&(n=r.table&&r.table[Vb[t]]||wr[Vb[t]]),n==null&&(n=wP[t]||"General");break}if(hh(n,0))return fg(e,r);e instanceof Date&&(e=CN(e,r.date1904));var s=UP(n,e);if(hh(s[1]))return fg(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return BP(s[1],e,r,s[0])}function LN(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(wr[r]==null){e<0&&(e=r);continue}if(wr[r]==t){e=r;break}}e<0&&(e=391)}return wr[e]=t,e}function nf(t){for(var e=0;e!=392;++e)t[e]!==void 0&&LN(t[e],e)}function sf(){wr=bP()}var IN=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function zP(t){var e=typeof t=="number"?wr[t]:t;return e=e.replace(IN,"(\\d+)"),new RegExp("^"+e+"$")}function VP(t,e,r){var n=-1,s=-1,i=-1,o=-1,c=-1,u=-1;(e.match(IN)||[]).forEach(function(p,g){var x=parseInt(r[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=x;break;case"d":i=x;break;case"h":o=x;break;case"s":u=x;break;case"m":o>=0?c=x:s=x;break}}),u>=0&&c==-1&&s>=0&&(c=s,s=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&c==-1&&u==-1?h:n==-1&&s==-1&&i==-1?f:h+"T"+f}var $P=function(){var t={};t.version="1.2.0";function e(){for(var S=0,P=new Array(256),B=0;B!=256;++B)S=B,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,P[B]=S;return typeof Int32Array<"u"?new Int32Array(P):P}var r=e();function n(S){var P=0,B=0,ae=0,q=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ae=0;ae!=256;++ae)q[ae]=S[ae];for(ae=0;ae!=256;++ae)for(B=S[ae],P=256+ae;P<4096;P+=256)B=q[P]=B>>>8^S[B&255];var H=[];for(ae=1;ae!=16;++ae)H[ae-1]=typeof Int32Array<"u"?q.subarray(ae*256,ae*256+256):q.slice(ae*256,ae*256+256);return H}var s=n(r),i=s[0],o=s[1],c=s[2],u=s[3],h=s[4],f=s[5],p=s[6],g=s[7],x=s[8],w=s[9],b=s[10],v=s[11],_=s[12],T=s[13],C=s[14];function R(S,P){for(var B=P^-1,ae=0,q=S.length;ae<q;)B=B>>>8^r[(B^S.charCodeAt(ae++))&255];return~B}function j(S,P){for(var B=P^-1,ae=S.length-15,q=0;q<ae;)B=C[S[q++]^B&255]^T[S[q++]^B>>8&255]^_[S[q++]^B>>16&255]^v[S[q++]^B>>>24]^b[S[q++]]^w[S[q++]]^x[S[q++]]^g[S[q++]]^p[S[q++]]^f[S[q++]]^h[S[q++]]^u[S[q++]]^c[S[q++]]^o[S[q++]]^i[S[q++]]^r[S[q++]];for(ae+=15;q<ae;)B=B>>>8^r[(B^S[q++])&255];return~B}function O(S,P){for(var B=P^-1,ae=0,q=S.length,H=0,ie=0;ae<q;)H=S.charCodeAt(ae++),H<128?B=B>>>8^r[(B^H)&255]:H<2048?(B=B>>>8^r[(B^(192|H>>6&31))&255],B=B>>>8^r[(B^(128|H&63))&255]):H>=55296&&H<57344?(H=(H&1023)+64,ie=S.charCodeAt(ae++)&1023,B=B>>>8^r[(B^(240|H>>8&7))&255],B=B>>>8^r[(B^(128|H>>2&63))&255],B=B>>>8^r[(B^(128|ie>>6&15|(H&3)<<4))&255],B=B>>>8^r[(B^(128|ie&63))&255]):(B=B>>>8^r[(B^(224|H>>12&15))&255],B=B>>>8^r[(B^(128|H>>6&63))&255],B=B>>>8^r[(B^(128|H&63))&255]);return~B}return t.table=r,t.bstr=R,t.buf=j,t.str=O,t}(),Jt=function(){var e={};e.version="1.2.1";function r(D,J){for(var V=D.split("/"),G=J.split("/"),Y=0,se=0,ye=Math.min(V.length,G.length);Y<ye;++Y){if(se=V[Y].length-G[Y].length)return se;if(V[Y]!=G[Y])return V[Y]<G[Y]?-1:1}return V.length-G.length}function n(D){if(D.charAt(D.length-1)=="/")return D.slice(0,-1).indexOf("/")===-1?D:n(D.slice(0,-1));var J=D.lastIndexOf("/");return J===-1?D:D.slice(0,J+1)}function s(D){if(D.charAt(D.length-1)=="/")return s(D.slice(0,-1));var J=D.lastIndexOf("/");return J===-1?D:D.slice(J+1)}function i(D,J){typeof J=="string"&&(J=new Date(J));var V=J.getHours();V=V<<6|J.getMinutes(),V=V<<5|J.getSeconds()>>>1,D.write_shift(2,V);var G=J.getFullYear()-1980;G=G<<4|J.getMonth()+1,G=G<<5|J.getDate(),D.write_shift(2,G)}function o(D){var J=D.read_shift(2)&65535,V=D.read_shift(2)&65535,G=new Date,Y=V&31;V>>>=5;var se=V&15;V>>>=4,G.setMilliseconds(0),G.setFullYear(V+1980),G.setMonth(se-1),G.setDate(Y);var ye=J&31;J>>>=5;var Ce=J&63;return J>>>=6,G.setHours(J),G.setMinutes(Ce),G.setSeconds(ye<<1),G}function c(D){ts(D,0);for(var J={},V=0;D.l<=D.length-4;){var G=D.read_shift(2),Y=D.read_shift(2),se=D.l+Y,ye={};switch(G){case 21589:V=D.read_shift(1),V&1&&(ye.mtime=D.read_shift(4)),Y>5&&(V&2&&(ye.atime=D.read_shift(4)),V&4&&(ye.ctime=D.read_shift(4))),ye.mtime&&(ye.mt=new Date(ye.mtime*1e3));break}D.l=se,J[G]=ye}return J}var u;function h(){return u||(u={})}function f(D,J){if(D[0]==80&&D[1]==75)return Gs(D,J);if((D[0]|32)==109&&(D[1]|32)==105)return Es(D,J);if(D.length<512)throw new Error("CFB file size "+D.length+" < 512");var V=3,G=512,Y=0,se=0,ye=0,Ce=0,we=0,ge=[],ke=D.slice(0,512);ts(ke,0);var z=p(ke);switch(V=z[0],V){case 3:G=512;break;case 4:G=4096;break;case 0:if(z[1]==0)return Gs(D,J);default:throw new Error("Major Version: Expected 3 or 4 saw "+V)}G!==512&&(ke=D.slice(0,G),ts(ke,28));var le=D.slice(0,G);g(ke,V);var pe=ke.read_shift(4,"i");if(V===3&&pe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+pe);ke.l+=4,ye=ke.read_shift(4,"i"),ke.l+=4,ke.chk("00100000","Mini Stream Cutoff Size: "),Ce=ke.read_shift(4,"i"),Y=ke.read_shift(4,"i"),we=ke.read_shift(4,"i"),se=ke.read_shift(4,"i");for(var me=-1,_e=0;_e<109&&(me=ke.read_shift(4,"i"),!(me<0));++_e)ge[_e]=me;var Oe=x(D,G);v(we,se,Oe,G,ge);var Qe=T(Oe,ye,ge,G);Qe[ye].name="!Directory",Y>0&&Ce!==ie&&(Qe[Ce].name="!MiniFAT"),Qe[ge[0]].name="!FAT",Qe.fat_addrs=ge,Qe.ssz=G;var ht={},gt=[],Et=[],St=[];C(ye,Qe,Oe,gt,Y,ht,Et,Ce),w(Et,St,gt),gt.shift();var ur={FileIndex:Et,FullPaths:St};return J&&J.raw&&(ur.raw={header:le,sectors:Oe}),ur}function p(D){if(D[D.l]==80&&D[D.l+1]==75)return[0,0];D.chk(re,"Header Signature: "),D.l+=16;var J=D.read_shift(2,"u");return[D.read_shift(2,"u"),J]}function g(D,J){var V=9;switch(D.l+=2,V=D.read_shift(2)){case 9:if(J!=3)throw new Error("Sector Shift: Expected 9 saw "+V);break;case 12:if(J!=4)throw new Error("Sector Shift: Expected 12 saw "+V);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+V)}D.chk("0600","Mini Sector Shift: "),D.chk("000000000000","Reserved: ")}function x(D,J){for(var V=Math.ceil(D.length/J)-1,G=[],Y=1;Y<V;++Y)G[Y-1]=D.slice(Y*J,(Y+1)*J);return G[V-1]=D.slice(V*J),G}function w(D,J,V){for(var G=0,Y=0,se=0,ye=0,Ce=0,we=V.length,ge=[],ke=[];G<we;++G)ge[G]=ke[G]=G,J[G]=V[G];for(;Ce<ke.length;++Ce)G=ke[Ce],Y=D[G].L,se=D[G].R,ye=D[G].C,ge[G]===G&&(Y!==-1&&ge[Y]!==Y&&(ge[G]=ge[Y]),se!==-1&&ge[se]!==se&&(ge[G]=ge[se])),ye!==-1&&(ge[ye]=G),Y!==-1&&G!=ge[G]&&(ge[Y]=ge[G],ke.lastIndexOf(Y)<Ce&&ke.push(Y)),se!==-1&&G!=ge[G]&&(ge[se]=ge[G],ke.lastIndexOf(se)<Ce&&ke.push(se));for(G=1;G<we;++G)ge[G]===G&&(se!==-1&&ge[se]!==se?ge[G]=ge[se]:Y!==-1&&ge[Y]!==Y&&(ge[G]=ge[Y]));for(G=1;G<we;++G)if(D[G].type!==0){if(Ce=G,Ce!=ge[Ce])do Ce=ge[Ce],J[G]=J[Ce]+"/"+J[G];while(Ce!==0&&ge[Ce]!==-1&&Ce!=ge[Ce]);ge[G]=-1}for(J[0]+="/",G=1;G<we;++G)D[G].type!==2&&(J[G]+="/")}function b(D,J,V){for(var G=D.start,Y=D.size,se=[],ye=G;V&&Y>0&&ye>=0;)se.push(J.slice(ye*H,ye*H+H)),Y-=H,ye=uo(V,ye*4);return se.length===0?De(0):Qr(se).slice(0,D.size)}function v(D,J,V,G,Y){var se=ie;if(D===ie){if(J!==0)throw new Error("DIFAT chain shorter than expected")}else if(D!==-1){var ye=V[D],Ce=(G>>>2)-1;if(!ye)return;for(var we=0;we<Ce&&(se=uo(ye,we*4))!==ie;++we)Y.push(se);v(uo(ye,G-4),J-1,V,G,Y)}}function _(D,J,V,G,Y){var se=[],ye=[];Y||(Y=[]);var Ce=G-1,we=0,ge=0;for(we=J;we>=0;){Y[we]=!0,se[se.length]=we,ye.push(D[we]);var ke=V[Math.floor(we*4/G)];if(ge=we*4&Ce,G<4+ge)throw new Error("FAT boundary crossed: "+we+" 4 "+G);if(!D[ke])break;we=uo(D[ke],ge)}return{nodes:se,data:e2([ye])}}function T(D,J,V,G){var Y=D.length,se=[],ye=[],Ce=[],we=[],ge=G-1,ke=0,z=0,le=0,pe=0;for(ke=0;ke<Y;++ke)if(Ce=[],le=ke+J,le>=Y&&(le-=Y),!ye[le]){we=[];var me=[];for(z=le;z>=0;){me[z]=!0,ye[z]=!0,Ce[Ce.length]=z,we.push(D[z]);var _e=V[Math.floor(z*4/G)];if(pe=z*4&ge,G<4+pe)throw new Error("FAT boundary crossed: "+z+" 4 "+G);if(!D[_e]||(z=uo(D[_e],pe),me[z]))break}se[le]={nodes:Ce,data:e2([we])}}return se}function C(D,J,V,G,Y,se,ye,Ce){for(var we=0,ge=G.length?2:0,ke=J[D].data,z=0,le=0,pe;z<ke.length;z+=128){var me=ke.slice(z,z+128);ts(me,64),le=me.read_shift(2),pe=gx(me,0,le-ge),G.push(pe);var _e={name:pe,type:me.read_shift(1),color:me.read_shift(1),L:me.read_shift(4,"i"),R:me.read_shift(4,"i"),C:me.read_shift(4,"i"),clsid:me.read_shift(16),state:me.read_shift(4,"i"),start:0,size:0},Oe=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);Oe!==0&&(_e.ct=R(me,me.l-8));var Qe=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);Qe!==0&&(_e.mt=R(me,me.l-8)),_e.start=me.read_shift(4,"i"),_e.size=me.read_shift(4,"i"),_e.size<0&&_e.start<0&&(_e.size=_e.type=0,_e.start=ie,_e.name=""),_e.type===5?(we=_e.start,Y>0&&we!==ie&&(J[we].name="!StreamData")):_e.size>=4096?(_e.storage="fat",J[_e.start]===void 0&&(J[_e.start]=_(V,_e.start,J.fat_addrs,J.ssz)),J[_e.start].name=_e.name,_e.content=J[_e.start].data.slice(0,_e.size)):(_e.storage="minifat",_e.size<0?_e.size=0:we!==ie&&_e.start!==ie&&J[we]&&(_e.content=b(_e,J[we].data,(J[Ce]||{}).data))),_e.content&&ts(_e.content,0),se[pe]=_e,ye.push(_e)}}function R(D,J){return new Date((ns(D,J+4)/1e7*Math.pow(2,32)+ns(D,J)/1e7-11644473600)*1e3)}function j(D,J){return h(),f(u.readFileSync(D),J)}function O(D,J){var V=J&&J.type;switch(V||zt&&Buffer.isBuffer(D)&&(V="buffer"),V||"base64"){case"file":return j(D,J);case"base64":return f($s(Ma(D)),J);case"binary":return f($s(D),J)}return f(D,J)}function S(D,J){var V=J||{},G=V.root||"Root Entry";if(D.FullPaths||(D.FullPaths=[]),D.FileIndex||(D.FileIndex=[]),D.FullPaths.length!==D.FileIndex.length)throw new Error("inconsistent CFB structure");D.FullPaths.length===0&&(D.FullPaths[0]=G+"/",D.FileIndex[0]={name:G,type:5}),V.CLSID&&(D.FileIndex[0].clsid=V.CLSID),P(D)}function P(D){var J="Sh33tJ5";if(!Jt.find(D,"/"+J)){var V=De(4);V[0]=55,V[1]=V[3]=50,V[2]=54,D.FileIndex.push({name:J,type:2,content:V,size:4,L:69,R:69,C:69}),D.FullPaths.push(D.FullPaths[0]+J),B(D)}}function B(D,J){S(D);for(var V=!1,G=!1,Y=D.FullPaths.length-1;Y>=0;--Y){var se=D.FileIndex[Y];switch(se.type){case 0:G?V=!0:(D.FileIndex.pop(),D.FullPaths.pop());break;case 1:case 2:case 5:G=!0,isNaN(se.R*se.L*se.C)&&(V=!0),se.R>-1&&se.L>-1&&se.R==se.L&&(V=!0);break;default:V=!0;break}}if(!(!V&&!J)){var ye=new Date(1987,1,19),Ce=0,we=Object.create?Object.create(null):{},ge=[];for(Y=0;Y<D.FullPaths.length;++Y)we[D.FullPaths[Y]]=!0,D.FileIndex[Y].type!==0&&ge.push([D.FullPaths[Y],D.FileIndex[Y]]);for(Y=0;Y<ge.length;++Y){var ke=n(ge[Y][0]);G=we[ke],G||(ge.push([ke,{name:s(ke).replace("/",""),type:1,clsid:ee,ct:ye,mt:ye,content:null}]),we[ke]=!0)}for(ge.sort(function(pe,me){return r(pe[0],me[0])}),D.FullPaths=[],D.FileIndex=[],Y=0;Y<ge.length;++Y)D.FullPaths[Y]=ge[Y][0],D.FileIndex[Y]=ge[Y][1];for(Y=0;Y<ge.length;++Y){var z=D.FileIndex[Y],le=D.FullPaths[Y];if(z.name=s(le).replace("/",""),z.L=z.R=z.C=-(z.color=1),z.size=z.content?z.content.length:0,z.start=0,z.clsid=z.clsid||ee,Y===0)z.C=ge.length>1?1:-1,z.size=0,z.type=5;else if(le.slice(-1)=="/"){for(Ce=Y+1;Ce<ge.length&&n(D.FullPaths[Ce])!=le;++Ce);for(z.C=Ce>=ge.length?-1:Ce,Ce=Y+1;Ce<ge.length&&n(D.FullPaths[Ce])!=n(le);++Ce);z.R=Ce>=ge.length?-1:Ce,z.type=1}else n(D.FullPaths[Y+1]||"")==n(le)&&(z.R=Y+1),z.type=2}}}function ae(D,J){var V=J||{};if(V.fileType=="mad")return jr(D,V);switch(B(D),V.fileType){case"zip":return Wn(D,V)}var G=function(pe){for(var me=0,_e=0,Oe=0;Oe<pe.FileIndex.length;++Oe){var Qe=pe.FileIndex[Oe];if(Qe.content){var ht=Qe.content.length;ht>0&&(ht<4096?me+=ht+63>>6:_e+=ht+511>>9)}}for(var gt=pe.FullPaths.length+3>>2,Et=me+7>>3,St=me+127>>7,ur=Et+_e+gt+St,At=ur+127>>7,nr=At<=109?0:Math.ceil((At-109)/127);ur+At+nr+127>>7>At;)nr=++At<=109?0:Math.ceil((At-109)/127);var _t=[1,nr,At,St,gt,_e,me,0];return pe.FileIndex[0].size=me<<6,_t[7]=(pe.FileIndex[0].start=_t[0]+_t[1]+_t[2]+_t[3]+_t[4]+_t[5])+(_t[6]+7>>3),_t}(D),Y=De(G[7]<<9),se=0,ye=0;{for(se=0;se<8;++se)Y.write_shift(1,L[se]);for(se=0;se<8;++se)Y.write_shift(2,0);for(Y.write_shift(2,62),Y.write_shift(2,3),Y.write_shift(2,65534),Y.write_shift(2,9),Y.write_shift(2,6),se=0;se<3;++se)Y.write_shift(2,0);for(Y.write_shift(4,0),Y.write_shift(4,G[2]),Y.write_shift(4,G[0]+G[1]+G[2]+G[3]-1),Y.write_shift(4,0),Y.write_shift(4,4096),Y.write_shift(4,G[3]?G[0]+G[1]+G[2]-1:ie),Y.write_shift(4,G[3]),Y.write_shift(-4,G[1]?G[0]-1:ie),Y.write_shift(4,G[1]),se=0;se<109;++se)Y.write_shift(-4,se<G[2]?G[1]+se:-1)}if(G[1])for(ye=0;ye<G[1];++ye){for(;se<236+ye*127;++se)Y.write_shift(-4,se<G[2]?G[1]+se:-1);Y.write_shift(-4,ye===G[1]-1?ie:ye+1)}var Ce=function(pe){for(ye+=pe;se<ye-1;++se)Y.write_shift(-4,se+1);pe&&(++se,Y.write_shift(-4,ie))};for(ye=se=0,ye+=G[1];se<ye;++se)Y.write_shift(-4,Q.DIFSECT);for(ye+=G[2];se<ye;++se)Y.write_shift(-4,Q.FATSECT);Ce(G[3]),Ce(G[4]);for(var we=0,ge=0,ke=D.FileIndex[0];we<D.FileIndex.length;++we)ke=D.FileIndex[we],ke.content&&(ge=ke.content.length,!(ge<4096)&&(ke.start=ye,Ce(ge+511>>9)));for(Ce(G[6]+7>>3);Y.l&511;)Y.write_shift(-4,Q.ENDOFCHAIN);for(ye=se=0,we=0;we<D.FileIndex.length;++we)ke=D.FileIndex[we],ke.content&&(ge=ke.content.length,!(!ge||ge>=4096)&&(ke.start=ye,Ce(ge+63>>6)));for(;Y.l&511;)Y.write_shift(-4,Q.ENDOFCHAIN);for(se=0;se<G[4]<<2;++se){var z=D.FullPaths[se];if(!z||z.length===0){for(we=0;we<17;++we)Y.write_shift(4,0);for(we=0;we<3;++we)Y.write_shift(4,-1);for(we=0;we<12;++we)Y.write_shift(4,0);continue}ke=D.FileIndex[se],se===0&&(ke.start=ke.size?ke.start-1:ie);var le=se===0&&V.root||ke.name;if(ge=2*(le.length+1),Y.write_shift(64,le,"utf16le"),Y.write_shift(2,ge),Y.write_shift(1,ke.type),Y.write_shift(1,ke.color),Y.write_shift(-4,ke.L),Y.write_shift(-4,ke.R),Y.write_shift(-4,ke.C),ke.clsid)Y.write_shift(16,ke.clsid,"hex");else for(we=0;we<4;++we)Y.write_shift(4,0);Y.write_shift(4,ke.state||0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,ke.start),Y.write_shift(4,ke.size),Y.write_shift(4,0)}for(se=1;se<D.FileIndex.length;++se)if(ke=D.FileIndex[se],ke.size>=4096)if(Y.l=ke.start+1<<9,zt&&Buffer.isBuffer(ke.content))ke.content.copy(Y,Y.l,0,ke.size),Y.l+=ke.size+511&-512;else{for(we=0;we<ke.size;++we)Y.write_shift(1,ke.content[we]);for(;we&511;++we)Y.write_shift(1,0)}for(se=1;se<D.FileIndex.length;++se)if(ke=D.FileIndex[se],ke.size>0&&ke.size<4096)if(zt&&Buffer.isBuffer(ke.content))ke.content.copy(Y,Y.l,0,ke.size),Y.l+=ke.size+63&-64;else{for(we=0;we<ke.size;++we)Y.write_shift(1,ke.content[we]);for(;we&63;++we)Y.write_shift(1,0)}if(zt)Y.l=Y.length;else for(;Y.l<Y.length;)Y.write_shift(1,0);return Y}function q(D,J){var V=D.FullPaths.map(function(we){return we.toUpperCase()}),G=V.map(function(we){var ge=we.split("/");return ge[ge.length-(we.slice(-1)=="/"?2:1)]}),Y=!1;J.charCodeAt(0)===47?(Y=!0,J=V[0].slice(0,-1)+J):Y=J.indexOf("/")!==-1;var se=J.toUpperCase(),ye=Y===!0?V.indexOf(se):G.indexOf(se);if(ye!==-1)return D.FileIndex[ye];var Ce=!se.match(m0);for(se=se.replace(nd,""),Ce&&(se=se.replace(m0,"!")),ye=0;ye<V.length;++ye)if((Ce?V[ye].replace(m0,"!"):V[ye]).replace(nd,"")==se||(Ce?G[ye].replace(m0,"!"):G[ye]).replace(nd,"")==se)return D.FileIndex[ye];return null}var H=64,ie=-2,re="d0cf11e0a1b11ae1",L=[208,207,17,224,161,177,26,225],ee="00000000000000000000000000000000",Q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ie,FREESECT:-1,HEADER_SIGNATURE:re,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ee,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function te(D,J,V){h();var G=ae(D,V);u.writeFileSync(J,G)}function U(D){for(var J=new Array(D.length),V=0;V<D.length;++V)J[V]=String.fromCharCode(D[V]);return J.join("")}function Z(D,J){var V=ae(D,J);switch(J&&J.type||"buffer"){case"file":return h(),u.writeFileSync(J.filename,V),V;case"binary":return typeof V=="string"?V:U(V);case"base64":return _d(typeof V=="string"?V:U(V));case"buffer":if(zt)return Buffer.isBuffer(V)?V:Ua(V);case"array":return typeof V=="string"?$s(V):V}return V}var X;function M(D){try{var J=D.InflateRaw,V=new J;if(V._processChunk(new Uint8Array([3,0]),V._finishFlushFlag),V.bytesRead)X=D;else throw new Error("zlib does not expose bytesRead")}catch(G){console.error("cannot use native zlib: "+(G.message||G))}}function W(D,J){if(!X)return jn(D,J);var V=X.InflateRaw,G=new V,Y=G._processChunk(D.slice(D.l),G._finishFlushFlag);return D.l+=G.bytesRead,Y}function K(D){return X?X.deflateRawSync(D):kt(D)}var E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ne=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ue(D){var J=(D<<1|D<<11)&139536|(D<<5|D<<15)&558144;return(J>>16|J>>8|J)&255}for(var be=typeof Uint8Array<"u",Ee=be?new Uint8Array(256):[],Ke=0;Ke<256;++Ke)Ee[Ke]=ue(Ke);function We(D,J){var V=Ee[D&255];return J<=8?V>>>8-J:(V=V<<8|Ee[D>>8&255],J<=16?V>>>16-J:(V=V<<8|Ee[D>>16&255],V>>>24-J))}function Xe(D,J){var V=J&7,G=J>>>3;return(D[G]|(V<=6?0:D[G+1]<<8))>>>V&3}function He(D,J){var V=J&7,G=J>>>3;return(D[G]|(V<=5?0:D[G+1]<<8))>>>V&7}function xe(D,J){var V=J&7,G=J>>>3;return(D[G]|(V<=4?0:D[G+1]<<8))>>>V&15}function Ae(D,J){var V=J&7,G=J>>>3;return(D[G]|(V<=3?0:D[G+1]<<8))>>>V&31}function Te(D,J){var V=J&7,G=J>>>3;return(D[G]|(V<=1?0:D[G+1]<<8))>>>V&127}function Je(D,J,V){var G=J&7,Y=J>>>3,se=(1<<V)-1,ye=D[Y]>>>G;return V<8-G||(ye|=D[Y+1]<<8-G,V<16-G)||(ye|=D[Y+2]<<16-G,V<24-G)||(ye|=D[Y+3]<<24-G),ye&se}function rt(D,J,V){var G=J&7,Y=J>>>3;return G<=5?D[Y]|=(V&7)<<G:(D[Y]|=V<<G&255,D[Y+1]=(V&7)>>8-G),J+3}function ot(D,J,V){var G=J&7,Y=J>>>3;return V=(V&1)<<G,D[Y]|=V,J+1}function dt(D,J,V){var G=J&7,Y=J>>>3;return V<<=G,D[Y]|=V&255,V>>>=8,D[Y+1]=V,J+8}function wt(D,J,V){var G=J&7,Y=J>>>3;return V<<=G,D[Y]|=V&255,V>>>=8,D[Y+1]=V&255,D[Y+2]=V>>>8,J+16}function Se(D,J){var V=D.length,G=2*V>J?2*V:J+5,Y=0;if(V>=J)return D;if(zt){var se=Bb(G);if(D.copy)D.copy(se);else for(;Y<D.length;++Y)se[Y]=D[Y];return se}else if(be){var ye=new Uint8Array(G);if(ye.set)ye.set(D);else for(;Y<V;++Y)ye[Y]=D[Y];return ye}return D.length=G,D}function ze(D){for(var J=new Array(D),V=0;V<D;++V)J[V]=0;return J}function Be(D,J,V){var G=1,Y=0,se=0,ye=0,Ce=0,we=D.length,ge=be?new Uint16Array(32):ze(32);for(se=0;se<32;++se)ge[se]=0;for(se=we;se<V;++se)D[se]=0;we=D.length;var ke=be?new Uint16Array(we):ze(we);for(se=0;se<we;++se)ge[Y=D[se]]++,G<Y&&(G=Y),ke[se]=0;for(ge[0]=0,se=1;se<=G;++se)ge[se+16]=Ce=Ce+ge[se-1]<<1;for(se=0;se<we;++se)Ce=D[se],Ce!=0&&(ke[se]=ge[Ce+16]++);var z=0;for(se=0;se<we;++se)if(z=D[se],z!=0)for(Ce=We(ke[se],G)>>G-z,ye=(1<<G+4-z)-1;ye>=0;--ye)J[Ce|ye<<z]=z&15|se<<4;return G}var Re=be?new Uint16Array(512):ze(512),Ve=be?new Uint16Array(32):ze(32);if(!be){for(var Ze=0;Ze<512;++Ze)Re[Ze]=0;for(Ze=0;Ze<32;++Ze)Ve[Ze]=0}(function(){for(var D=[],J=0;J<32;J++)D.push(5);Be(D,Ve,32);var V=[];for(J=0;J<=143;J++)V.push(8);for(;J<=255;J++)V.push(9);for(;J<=279;J++)V.push(7);for(;J<=287;J++)V.push(8);Be(V,Re,288)})();var it=function(){for(var J=be?new Uint8Array(32768):[],V=0,G=0;V<ne.length-1;++V)for(;G<ne[V+1];++G)J[G]=V;for(;G<32768;++G)J[G]=29;var Y=be?new Uint8Array(259):[];for(V=0,G=0;V<ce.length-1;++V)for(;G<ce[V+1];++G)Y[G]=V;function se(Ce,we){for(var ge=0;ge<Ce.length;){var ke=Math.min(65535,Ce.length-ge),z=ge+ke==Ce.length;for(we.write_shift(1,+z),we.write_shift(2,ke),we.write_shift(2,~ke&65535);ke-- >0;)we[we.l++]=Ce[ge++]}return we.l}function ye(Ce,we){for(var ge=0,ke=0,z=be?new Uint16Array(32768):[];ke<Ce.length;){var le=Math.min(65535,Ce.length-ke);if(le<10){for(ge=rt(we,ge,+(ke+le==Ce.length)),ge&7&&(ge+=8-(ge&7)),we.l=ge/8|0,we.write_shift(2,le),we.write_shift(2,~le&65535);le-- >0;)we[we.l++]=Ce[ke++];ge=we.l*8;continue}ge=rt(we,ge,+(ke+le==Ce.length)+2);for(var pe=0;le-- >0;){var me=Ce[ke];pe=(pe<<5^me)&32767;var _e=-1,Oe=0;if((_e=z[pe])&&(_e|=ke&-32768,_e>ke&&(_e-=32768),_e<ke))for(;Ce[_e+Oe]==Ce[ke+Oe]&&Oe<250;)++Oe;if(Oe>2){me=Y[Oe],me<=22?ge=dt(we,ge,Ee[me+1]>>1)-1:(dt(we,ge,3),ge+=5,dt(we,ge,Ee[me-23]>>5),ge+=3);var Qe=me<8?0:me-4>>2;Qe>0&&(wt(we,ge,Oe-ce[me]),ge+=Qe),me=J[ke-_e],ge=dt(we,ge,Ee[me]>>3),ge-=3;var ht=me<4?0:me-2>>1;ht>0&&(wt(we,ge,ke-_e-ne[me]),ge+=ht);for(var gt=0;gt<Oe;++gt)z[pe]=ke&32767,pe=(pe<<5^Ce[ke])&32767,++ke;le-=Oe-1}else me<=143?me=me+48:ge=ot(we,ge,1),ge=dt(we,ge,Ee[me]),z[pe]=ke&32767,++ke}ge=dt(we,ge,0)-1}return we.l=(ge+7)/8|0,we.l}return function(we,ge){return we.length<8?se(we,ge):ye(we,ge)}}();function kt(D){var J=De(50+Math.floor(D.length*1.1)),V=it(D,J);return J.slice(0,V)}var Tt=be?new Uint16Array(32768):ze(32768),Ft=be?new Uint16Array(32768):ze(32768),xn=be?new Uint16Array(128):ze(128),Xt=1,$n=1;function Hn(D,J){var V=Ae(D,J)+257;J+=5;var G=Ae(D,J)+1;J+=5;var Y=xe(D,J)+4;J+=4;for(var se=0,ye=be?new Uint8Array(19):ze(19),Ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],we=1,ge=be?new Uint8Array(8):ze(8),ke=be?new Uint8Array(8):ze(8),z=ye.length,le=0;le<Y;++le)ye[E[le]]=se=He(D,J),we<se&&(we=se),ge[se]++,J+=3;var pe=0;for(ge[0]=0,le=1;le<=we;++le)ke[le]=pe=pe+ge[le-1]<<1;for(le=0;le<z;++le)(pe=ye[le])!=0&&(Ce[le]=ke[pe]++);var me=0;for(le=0;le<z;++le)if(me=ye[le],me!=0){pe=Ee[Ce[le]]>>8-me;for(var _e=(1<<7-me)-1;_e>=0;--_e)xn[pe|_e<<me]=me&7|le<<3}var Oe=[];for(we=1;Oe.length<V+G;)switch(pe=xn[Te(D,J)],J+=pe&7,pe>>>=3){case 16:for(se=3+Xe(D,J),J+=2,pe=Oe[Oe.length-1];se-- >0;)Oe.push(pe);break;case 17:for(se=3+He(D,J),J+=3;se-- >0;)Oe.push(0);break;case 18:for(se=11+Te(D,J),J+=7;se-- >0;)Oe.push(0);break;default:Oe.push(pe),we<pe&&(we=pe);break}var Qe=Oe.slice(0,V),ht=Oe.slice(V);for(le=V;le<286;++le)Qe[le]=0;for(le=G;le<30;++le)ht[le]=0;return Xt=Be(Qe,Tt,286),$n=Be(ht,Ft,30),J}function Ts(D,J){if(D[0]==3&&!(D[1]&3))return[jo(J),2];for(var V=0,G=0,Y=Bb(J||1<<18),se=0,ye=Y.length>>>0,Ce=0,we=0;(G&1)==0;){if(G=He(D,V),V+=3,G>>>1)G>>1==1?(Ce=9,we=5):(V=Hn(D,V),Ce=Xt,we=$n);else{V&7&&(V+=8-(V&7));var ge=D[V>>>3]|D[(V>>>3)+1]<<8;if(V+=32,ge>0)for(!J&&ye<se+ge&&(Y=Se(Y,se+ge),ye=Y.length);ge-- >0;)Y[se++]=D[V>>>3],V+=8;continue}for(;;){!J&&ye<se+32767&&(Y=Se(Y,se+32767),ye=Y.length);var ke=Je(D,V,Ce),z=G>>>1==1?Re[ke]:Tt[ke];if(V+=z&15,z>>>=4,(z>>>8&255)===0)Y[se++]=z;else{if(z==256)break;z-=257;var le=z<8?0:z-4>>2;le>5&&(le=0);var pe=se+ce[z];le>0&&(pe+=Je(D,V,le),V+=le),ke=Je(D,V,we),z=G>>>1==1?Ve[ke]:Ft[ke],V+=z&15,z>>>=4;var me=z<4?0:z-2>>1,_e=ne[z];for(me>0&&(_e+=Je(D,V,me),V+=me),!J&&ye<pe&&(Y=Se(Y,pe+100),ye=Y.length);se<pe;)Y[se]=Y[se-_e],++se}}}return J?[Y,V+7>>>3]:[Y.slice(0,se),V+7>>>3]}function jn(D,J){var V=D.slice(D.l||0),G=Ts(V,J);return D.l+=G[1],G[0]}function Cn(D,J){if(D)typeof console<"u"&&console.error(J);else throw new Error(J)}function Gs(D,J){var V=D;ts(V,0);var G=[],Y=[],se={FileIndex:G,FullPaths:Y};S(se,{root:J.root});for(var ye=V.length-4;(V[ye]!=80||V[ye+1]!=75||V[ye+2]!=5||V[ye+3]!=6)&&ye>=0;)--ye;V.l=ye+4,V.l+=4;var Ce=V.read_shift(2);V.l+=6;var we=V.read_shift(4);for(V.l=we,ye=0;ye<Ce;++ye){V.l+=20;var ge=V.read_shift(4),ke=V.read_shift(4),z=V.read_shift(2),le=V.read_shift(2),pe=V.read_shift(2);V.l+=8;var me=V.read_shift(4),_e=c(V.slice(V.l+z,V.l+z+le));V.l+=z+le+pe;var Oe=V.l;V.l=me+4,as(V,ge,ke,se,_e),V.l=Oe}return se}function as(D,J,V,G,Y){D.l+=2;var se=D.read_shift(2),ye=D.read_shift(2),Ce=o(D);if(se&8257)throw new Error("Unsupported ZIP encryption");for(var we=D.read_shift(4),ge=D.read_shift(4),ke=D.read_shift(4),z=D.read_shift(2),le=D.read_shift(2),pe="",me=0;me<z;++me)pe+=String.fromCharCode(D[D.l++]);if(le){var _e=c(D.slice(D.l,D.l+le));(_e[21589]||{}).mt&&(Ce=_e[21589].mt),((Y||{})[21589]||{}).mt&&(Ce=Y[21589].mt)}D.l+=le;var Oe=D.slice(D.l,D.l+ge);switch(ye){case 8:Oe=W(D,ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ye)}var Qe=!1;se&8&&(we=D.read_shift(4),we==134695760&&(we=D.read_shift(4),Qe=!0),ge=D.read_shift(4),ke=D.read_shift(4)),ge!=J&&Cn(Qe,"Bad compressed size: "+J+" != "+ge),ke!=V&&Cn(Qe,"Bad uncompressed size: "+V+" != "+ke),Yr(G,pe,Oe,{unsafe:!0,mt:Ce})}function Wn(D,J){var V=J||{},G=[],Y=[],se=De(1),ye=V.compression?8:0,Ce=0,we=0,ge=0,ke=0,z=0,le=D.FullPaths[0],pe=le,me=D.FileIndex[0],_e=[],Oe=0;for(we=1;we<D.FullPaths.length;++we)if(pe=D.FullPaths[we].slice(le.length),me=D.FileIndex[we],!(!me.size||!me.content||pe=="Sh33tJ5")){var Qe=ke,ht=De(pe.length);for(ge=0;ge<pe.length;++ge)ht.write_shift(1,pe.charCodeAt(ge)&127);ht=ht.slice(0,ht.l),_e[z]=$P.buf(me.content,0);var gt=me.content;ye==8&&(gt=K(gt)),se=De(30),se.write_shift(4,67324752),se.write_shift(2,20),se.write_shift(2,Ce),se.write_shift(2,ye),me.mt?i(se,me.mt):se.write_shift(4,0),se.write_shift(-4,_e[z]),se.write_shift(4,gt.length),se.write_shift(4,me.content.length),se.write_shift(2,ht.length),se.write_shift(2,0),ke+=se.length,G.push(se),ke+=ht.length,G.push(ht),ke+=gt.length,G.push(gt),se=De(46),se.write_shift(4,33639248),se.write_shift(2,0),se.write_shift(2,20),se.write_shift(2,Ce),se.write_shift(2,ye),se.write_shift(4,0),se.write_shift(-4,_e[z]),se.write_shift(4,gt.length),se.write_shift(4,me.content.length),se.write_shift(2,ht.length),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(4,0),se.write_shift(4,Qe),Oe+=se.l,Y.push(se),Oe+=ht.length,Y.push(ht),++z}return se=De(22),se.write_shift(4,101010256),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,z),se.write_shift(2,z),se.write_shift(4,Oe),se.write_shift(4,ke),se.write_shift(2,0),Qr([Qr(G),Qr(Y),se])}var is={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function xr(D,J){if(D.ctype)return D.ctype;var V=D.name||"",G=V.match(/\.([^\.]+)$/);return G&&is[G[1]]||J&&(G=(V=J).match(/[\.\\]([^\.\\])+$/),G&&is[G[1]])?is[G[1]]:"application/octet-stream"}function Yn(D){for(var J=_d(D),V=[],G=0;G<J.length;G+=76)V.push(J.slice(G,G+76));return V.join(`\r
`)+`\r
`}function yn(D){var J=D.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ge){var ke=ge.charCodeAt(0).toString(16).toUpperCase();return"="+(ke.length==1?"0"+ke:ke)});J=J.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),J.charAt(0)==`
`&&(J="=0D"+J.slice(1)),J=J.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var V=[],G=J.split(`\r
`),Y=0;Y<G.length;++Y){var se=G[Y];if(se.length==0){V.push("");continue}for(var ye=0;ye<se.length;){var Ce=76,we=se.slice(ye,ye+Ce);we.charAt(Ce-1)=="="?Ce--:we.charAt(Ce-2)=="="?Ce-=2:we.charAt(Ce-3)=="="&&(Ce-=3),we=se.slice(ye,ye+Ce),ye+=Ce,ye<se.length&&(we+="="),V.push(we)}}return V.join(`\r
`)}function pa(D){for(var J=[],V=0;V<D.length;++V){for(var G=D[V];V<=D.length&&G.charAt(G.length-1)=="=";)G=G.slice(0,G.length-1)+D[++V];J.push(G)}for(var Y=0;Y<J.length;++Y)J[Y]=J[Y].replace(/[=][0-9A-Fa-f]{2}/g,function(se){return String.fromCharCode(parseInt(se.slice(1),16))});return $s(J.join(`\r
`))}function os(D,J,V){for(var G="",Y="",se="",ye,Ce=0;Ce<10;++Ce){var we=J[Ce];if(!we||we.match(/^\s*$/))break;var ge=we.match(/^(.*?):\s*([^\s].*)$/);if(ge)switch(ge[1].toLowerCase()){case"content-location":G=ge[2].trim();break;case"content-type":se=ge[2].trim();break;case"content-transfer-encoding":Y=ge[2].trim();break}}switch(++Ce,Y.toLowerCase()){case"base64":ye=$s(Ma(J.slice(Ce).join("")));break;case"quoted-printable":ye=pa(J.slice(Ce));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Y)}var ke=Yr(D,G.slice(V.length),ye,{unsafe:!0});se&&(ke.ctype=se)}function Es(D,J){if(U(D.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var V=J&&J.root||"",G=(zt&&Buffer.isBuffer(D)?D.toString("binary"):U(D)).split(`\r
`),Y=0,se="";for(Y=0;Y<G.length;++Y)if(se=G[Y],!!/^Content-Location:/i.test(se)&&(se=se.slice(se.indexOf("file")),V||(V=se.slice(0,se.lastIndexOf("/")+1)),se.slice(0,V.length)!=V))for(;V.length>0&&(V=V.slice(0,V.length-1),V=V.slice(0,V.lastIndexOf("/")+1),se.slice(0,V.length)!=V););var ye=(G[1]||"").match(/boundary="(.*?)"/);if(!ye)throw new Error("MAD cannot find boundary");var Ce="--"+(ye[1]||""),we=[],ge=[],ke={FileIndex:we,FullPaths:ge};S(ke);var z,le=0;for(Y=0;Y<G.length;++Y){var pe=G[Y];pe!==Ce&&pe!==Ce+"--"||(le++&&os(ke,G.slice(z,Y),V),z=Y)}return ke}function jr(D,J){var V=J||{},G=V.boundary||"SheetJS";G="------="+G;for(var Y=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+G.slice(2)+'"',"","",""],se=D.FullPaths[0],ye=se,Ce=D.FileIndex[0],we=1;we<D.FullPaths.length;++we)if(ye=D.FullPaths[we].slice(se.length),Ce=D.FileIndex[we],!(!Ce.size||!Ce.content||ye=="Sh33tJ5")){ye=ye.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Oe){return"_x"+Oe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Oe){return"_u"+Oe.charCodeAt(0).toString(16)+"_"});for(var ge=Ce.content,ke=zt&&Buffer.isBuffer(ge)?ge.toString("binary"):U(ge),z=0,le=Math.min(1024,ke.length),pe=0,me=0;me<=le;++me)(pe=ke.charCodeAt(me))>=32&&pe<128&&++z;var _e=z>=le*4/5;Y.push(G),Y.push("Content-Location: "+(V.root||"file:///C:/SheetJS/")+ye),Y.push("Content-Transfer-Encoding: "+(_e?"quoted-printable":"base64")),Y.push("Content-Type: "+xr(Ce,ye)),Y.push(""),Y.push(_e?yn(ke):Yn(ke))}return Y.push(G+`--\r
`),Y.join(`\r
`)}function qs(D){var J={};return S(J,D),J}function Yr(D,J,V,G){var Y=G&&G.unsafe;Y||S(D);var se=!Y&&Jt.find(D,J);if(!se){var ye=D.FullPaths[0];J.slice(0,ye.length)==ye?ye=J:(ye.slice(-1)!="/"&&(ye+="/"),ye=(ye+J).replace("//","/")),se={name:s(J),type:2},D.FileIndex.push(se),D.FullPaths.push(ye),Y||Jt.utils.cfb_gc(D)}return se.content=V,se.size=V?V.length:0,G&&(G.CLSID&&(se.clsid=G.CLSID),G.mt&&(se.mt=G.mt),G.ct&&(se.ct=G.ct)),se}function F(D,J){S(D);var V=Jt.find(D,J);if(V){for(var G=0;G<D.FileIndex.length;++G)if(D.FileIndex[G]==V)return D.FileIndex.splice(G,1),D.FullPaths.splice(G,1),!0}return!1}function fe(D,J,V){S(D);var G=Jt.find(D,J);if(G){for(var Y=0;Y<D.FileIndex.length;++Y)if(D.FileIndex[Y]==G)return D.FileIndex[Y].name=s(V),D.FullPaths[Y]=V,!0}return!1}function Fe(D){B(D,!0)}return e.find=q,e.read=O,e.parse=f,e.write=Z,e.writeFile=te,e.utils={cfb_new:qs,cfb_add:Yr,cfb_del:F,cfb_mov:fe,cfb_gc:Fe,ReadShift:ad,CheckField:rS,prep_blob:ts,bconcat:Qr,use_zlib:M,_deflateRaw:kt,_inflateRaw:jn,consts:Q},e}();function HP(t){return typeof t=="string"?rf(t):Array.isArray(t)?gP(t):t}function Qd(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=rf(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Cd(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var s=new Blob([HP(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=Jd(e)),c.write(e),c.close(),e}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+t)}function nn(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function Kb(t,e){for(var r=[],n=nn(t),s=0;s!==n.length;++s)r[t[n[s]][e]]==null&&(r[t[n[s]][e]]=n[s]);return r}function hx(t){for(var e=[],r=nn(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function af(t){for(var e=[],r=nn(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function WP(t){for(var e=[],r=nn(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var mh=new Date(1899,11,30,0,0,0);function zn(t,e){var r=t.getTime(),n=mh.getTime()+(t.getTimezoneOffset()-mh.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var BN=new Date,YP=mh.getTime()+(BN.getTimezoneOffset()-mh.getTimezoneOffset())*6e4,Gb=BN.getTimezoneOffset();function UN(t){var e=new Date;return e.setTime(t*24*60*60*1e3+YP),e.getTimezoneOffset()!==Gb&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Gb)*6e4),e}var qb=new Date("2017-02-19T19:06:09.000Z"),zN=isNaN(qb.getFullYear())?new Date("2/19/17"):qb,KP=zN.getFullYear()==2017;function _n(t,e){var r=new Date(t);if(KP)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(zN.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function of(t,e){if(zt&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],s=0;s!=t.length;++s)n.push(String.fromCharCode(t[s]));return n.join("")}function Vn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Vn(t[r]));return e}function br(t,e){for(var r="";r.length<e;)r+=t;return r}function Da(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(e=Number(n)))?e/r:e}var GP=["january","february","march","april","may","june","july","august","september","october","november","december"];function jd(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),s=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&GP.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||i>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function jt(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return zt?n=Ua(r):n=xP(r),Jt.utils.cfb_add(t,e,n)}Jt.utils.cfb_add(t,e,r)}else t.file(e,r)}function fx(){return Jt.utils.cfb_new()}var Rr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,qP={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},mx=hx(qP),px=/[&<>'"]/g,XP=/[\u0000-\u0008\u000b-\u001f]/g;function Gt(t){var e=t+"";return e.replace(px,function(r){return mx[r]}).replace(XP,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Xb(t){return Gt(t).replace(/ /g,"_x0020_")}var VN=/[\u0000-\u001f]/g;function JP(t){var e=t+"";return e.replace(px,function(r){return mx[r]}).replace(/\n/g,"<br/>").replace(VN,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function QP(t){var e=t+"";return e.replace(px,function(r){return mx[r]}).replace(VN,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function ZP(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function eD(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function lp(t){for(var e="",r=0,n=0,s=0,i=0,o=0,c=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(s=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=s&63,e+=String.fromCharCode(o);continue}if(i=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}o=t.charCodeAt(r++),c=((n&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function Jb(t){var e=jo(2*t.length),r,n,s=1,i=0,o=0,c;for(n=0;n<t.length;n+=s)s=1,(c=t.charCodeAt(n))<128?r=c:c<224?(r=(c&31)*64+(t.charCodeAt(n+1)&63),s=2):c<240?(r=(c&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),s=3):(s=4,r=(c&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[i++]=o&255,e[i++]=o>>>8,o=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function Qb(t){return Ua(t,"binary").toString("utf8")}var g0="foo bar bazâð£",sd=zt&&(Qb(g0)==lp(g0)&&Qb||Jb(g0)==lp(g0)&&Jb)||lp,Cd=zt?function(t){return Ua(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,s=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},tD=function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)n=n.replace(t[s][0],t[s][1]);return n}}(),$N=/(^\s|\s$|\n)/;function Zr(t,e){return"<"+t+(e.match($N)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Td(t){return nn(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Ge(t,e,r){return"<"+t+(r!=null?Td(r):"")+(e!=null?(e.match($N)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function mg(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function rD(t,e){switch(typeof t){case"string":var r=Ge("vt:lpwstr",Gt(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ge((t|0)==t?"vt:i4":"vt:r8",Gt(String(t)));case"boolean":return Ge("vt:bool",t?"true":"false")}if(t instanceof Date)return Ge("vt:filetime",mg(t));throw new Error("Unable to serialize "+t)}var Vr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Wl=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],rs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function nD(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,i=5;i>=0;--i)s=s*256+t[e+i];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function sD(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,s=0,i=0,o=n?-e:e;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(e)?26985:0);for(var c=0;c<=5;++c,i/=256)t[r+c]=i&255;t[r+6]=(s&15)<<4|i&15,t[r+7]=s>>4|n}var Zb=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var s=0,i=t[0][n].length;s<i;s+=r)e.push.apply(e,t[0][n].slice(s,s+r));return e},e2=zt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ua(e)})):Zb(t)}:Zb,t2=function(t,e,r){for(var n=[],s=e;s<r;s+=2)n.push(String.fromCharCode(Yc(t,s)));return n.join("").replace(nd,"")},gx=zt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(nd,""):t2(t,e,r)}:t2,r2=function(t,e,r){for(var n=[],s=e;s<e+r;++s)n.push(("0"+t[s].toString(16)).slice(-2));return n.join("")},HN=zt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):r2(t,e,r)}:r2,n2=function(t,e,r){for(var n=[],s=e;s<r;s++)n.push(String.fromCharCode(yl(t,s)));return n.join("")},Zd=zt?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):n2(e,r,n)}:n2,WN=function(t,e){var r=ns(t,e);return r>0?Zd(t,e+4,e+4+r-1):""},YN=WN,KN=function(t,e){var r=ns(t,e);return r>0?Zd(t,e+4,e+4+r-1):""},GN=KN,qN=function(t,e){var r=2*ns(t,e);return r>0?Zd(t,e+4,e+4+r-1):""},XN=qN,JN=function(e,r){var n=ns(e,r);return n>0?gx(e,r+4,r+4+n):""},QN=JN,ZN=function(t,e){var r=ns(t,e);return r>0?Zd(t,e+4,e+4+r):""},eS=ZN,tS=function(t,e){return nD(t,e)},ph=tS,xx=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};zt&&(YN=function(e,r){if(!Buffer.isBuffer(e))return WN(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},GN=function(e,r){if(!Buffer.isBuffer(e))return KN(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},XN=function(e,r){if(!Buffer.isBuffer(e))return qN(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},QN=function(e,r){if(!Buffer.isBuffer(e))return JN(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},eS=function(e,r){if(!Buffer.isBuffer(e))return ZN(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},ph=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):tS(e,r)},xx=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var yl=function(t,e){return t[e]},Yc=function(t,e){return t[e+1]*256+t[e]},aD=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},ns=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},uo=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},iD=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function ad(t,e){var r="",n,s,i=[],o,c,u,h;switch(e){case"dbcs":if(h=this.l,zt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(u=0;u<t;++u)r+=String.fromCharCode(Yc(this,h)),h+=2;t*=2;break;case"utf8":r=Zd(this,this.l,this.l+t);break;case"utf16le":t*=2,r=gx(this,this.l,this.l+t);break;case"wstr":return ad.call(this,t,"dbcs");case"lpstr-ansi":r=YN(this,this.l),t=4+ns(this,this.l);break;case"lpstr-cp":r=GN(this,this.l),t=4+ns(this,this.l);break;case"lpwstr":r=XN(this,this.l),t=4+2*ns(this,this.l);break;case"lpp4":t=4+ns(this,this.l),r=QN(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+ns(this,this.l),r=eS(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=yl(this,this.l+t++))!==0;)i.push(f0(o));r=i.join("");break;case"_wstr":for(t=0,r="";(o=Yc(this,this.l+t))!==0;)i.push(f0(o)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",h=this.l,u=0;u<t;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return o=yl(this,h),this.l=h+1,c=ad.call(this,t-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(f0(Yc(this,h))),h+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,u=0;u!=t;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return o=yl(this,h),this.l=h+1,c=ad.call(this,t-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(f0(yl(this,h))),h+=1}r=i.join("");break;default:switch(t){case 1:return n=yl(this,this.l),this.l++,n;case 2:return n=(e==="i"?aD:Yc)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?uo:iD)(this,this.l),this.l+=4,n):(s=ns(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=ph(this,this.l):s=ph([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:r=HN(this,this.l,t);break}}return this.l+=t,r}var oD=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},lD=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},cD=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function dD(t,e,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=e.length;++s)cD(this,e.charCodeAt(s),this.l+2*s);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;n=e.length}else if(r==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var o=e.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,oD(this,e,this.l);break;case 8:if(n=8,r==="f"){sD(this,e,this.l);break}case 16:break;case-4:n=4,lD(this,e,this.l);break}return this.l+=n,this}function rS(t,e){var r=HN(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function ts(t,e){t.l=e,t.read_shift=ad,t.chk=rS,t.write_shift=dD}function ma(t,e){t.l+=e}function De(t){var e=jo(t);return ts(e,0),e}function Un(){var t=[],e=zt?256:2048,r=function(h){var f=De(h);return ts(f,0),f},n=r(e),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(h){return n&&h<n.length-n.l?n:(s(),n=r(Math.max(h+1,e)))},o=function(){return s(),Qr(t)},c=function(h){s(),n=h,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:c,end:o,_bufs:t}}function Me(t,e,r,n){var s=+e,i;if(!isNaN(s)){n||(n=nL[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=t.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var c=0;c!=4;++c)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&xx(r)&&t.push(r)}}function id(t,e,r){var n=Vn(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function s2(t,e,r){var n=Vn(t);return n.s=id(n.s,e.s,r),n.e=id(n.e,e.s,r),n}function od(t,e){if(t.cRel&&t.c<0)for(t=Vn(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Vn(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=qt(t);return!t.cRel&&t.cRel!=null&&(r=fD(r)),!t.rRel&&t.rRel!=null&&(r=uD(r)),r}function cp(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+pn(t.s.c)+":"+(t.e.cRel?"":"$")+pn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+tn(t.s.r)+":"+(t.e.rRel?"":"$")+tn(t.e.r):od(t.s,e.biff)+":"+od(t.e,e.biff)}function yx(t){return parseInt(hD(t),10)-1}function tn(t){return""+(t+1)}function uD(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function hD(t){return t.replace(/\$(\d+)$/,"$1")}function vx(t){for(var e=mD(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function pn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function fD(t){return t.replace(/^([A-Z])/,"$$$1")}function mD(t){return t.replace(/^\$([A-Z])/,"$1")}function pD(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Hr(t){for(var e=0,r=0,n=0;n<t.length;++n){var s=t.charCodeAt(n);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:e-1}}function qt(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function ss(t){var e=t.indexOf(":");return e==-1?{s:Hr(t),e:Hr(t)}:{s:Hr(t.slice(0,e)),e:Hr(t.slice(e+1))}}function Pr(t,e){return typeof e>"u"||typeof e=="number"?Pr(t.s,t.e):(typeof t!="string"&&(t=qt(t)),typeof e!="string"&&(e=qt(e)),t==e?t:t+":"+e)}function or(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,i=t.length;for(r=0;n<i&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.s.c=--r,r=0;n<i&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(e.s.r=--r,n===i||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=i&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.e.c=--r,r=0;n!=i&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return e.e.r=--r,e}function a2(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=_i(t.z,r?zn(e):e)}catch{}try{return t.w=_i((t.XF||{}).numFmtId||(r?14:0),r?zn(e):e)}catch{return""+e}}function La(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?eu[t.v]||t.v:e==null?a2(t,t.v):a2(t,e))}function Do(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function nS(t,e,r){var n=r||{},s=t?Array.isArray(t):n.dense,i=t||(s?[]:{}),o=0,c=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var u=typeof n.origin=="string"?Hr(n.origin):n.origin;o=u.r,c=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=or(i["!ref"]);h.s.c=f.s.c,h.s.r=f.s.r,h.e.c=Math.max(h.e.c,f.e.c),h.e.r=Math.max(h.e.r,f.e.r),o==-1&&(h.e.r=o=f.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[p].length;++g)if(!(typeof e[p][g]>"u")){var x={v:e[p][g]},w=o+p,b=c+g;if(h.s.r>w&&(h.s.r=w),h.s.c>b&&(h.s.c=b),h.e.r<w&&(h.e.r=w),h.e.c<b&&(h.e.c=b),e[p][g]&&typeof e[p][g]=="object"&&!Array.isArray(e[p][g])&&!(e[p][g]instanceof Date))x=e[p][g];else if(Array.isArray(x.v)&&(x.f=e[p][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(n.nullError)x.t="e",x.v=0;else if(n.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=n.dateNF||wr[14],n.cellDates?(x.t="d",x.w=_i(x.z,zn(x.v))):(x.t="n",x.v=zn(x.v),x.w=_i(x.z,x.v))):x.t="s";if(s)i[w]||(i[w]=[]),i[w][b]&&i[w][b].z&&(x.z=i[w][b].z),i[w][b]=x;else{var v=qt({c:b,r:w});i[v]&&i[v].z&&(x.z=i[v].z),i[v]=x}}}return h.s.c<1e7&&(i["!ref"]=Pr(h)),i}function Yl(t,e){return nS(null,t,e)}function gD(t){return t.read_shift(4,"i")}function Ws(t,e){return e||(e=De(4)),e.write_shift(4,t),e}function gn(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Wr(t,e){var r=!1;return e==null&&(r=!0,e=De(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function xD(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function yD(t,e){return e||(e=De(4)),e.write_shift(2,0),e.write_shift(2,0),e}function bx(t,e){var r=t.l,n=t.read_shift(1),s=gn(t),i=[],o={t:s,h:s};if((n&1)!==0){for(var c=t.read_shift(4),u=0;u!=c;++u)i.push(xD(t));o.r=i}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}function vD(t,e){var r=!1;return e==null&&(r=!0,e=De(15+4*t.t.length)),e.write_shift(1,0),Wr(t.t,e),r?e.slice(0,e.l):e}var bD=bx;function wD(t,e){var r=!1;return e==null&&(r=!0,e=De(23+4*t.t.length)),e.write_shift(1,1),Wr(t.t,e),e.write_shift(4,1),yD({},e),r?e.slice(0,e.l):e}function Cs(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Ro(t,e){return e==null&&(e=De(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Fo(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Oo(t,e){return e==null&&(e=De(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var kD=gn,sS=Wr;function wx(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function gh(t,e){var r=!1;return e==null&&(r=!0,e=De(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var ND=gn,pg=wx,kx=gh;function aS(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var s=n===0?ph([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):uo(e,0)>>2;return r?s/100:s}function iS(t,e){e==null&&(e=De(4));var r=0,n=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?s:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function oS(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function SD(t,e){return e||(e=De(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Mo=oS,Kl=SD;function Gl(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Co(t,e){return(e||De(8)).write_shift(8,t,"f")}function _D(t){var e={},r=t.read_shift(1),n=r>>>1,s=t.read_shift(1),i=t.read_shift(2,"i"),o=t.read_shift(1),c=t.read_shift(1),u=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=s;var h=FD[s];h&&(e.rgb=g2(h));break;case 2:e.rgb=g2([o,c,u]);break;case 3:e.theme=s;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function xh(t,e){if(e||(e=De(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function jD(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function CD(t,e){e||(e=De(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var lS=2,es=3,x0=11,yh=19,y0=64,TD=65,ED=71,AD=4108,PD=4126,Jr=80,i2={1:{n:"CodePage",t:lS},2:{n:"Category",t:Jr},3:{n:"PresentationFormat",t:Jr},4:{n:"ByteCount",t:es},5:{n:"LineCount",t:es},6:{n:"ParagraphCount",t:es},7:{n:"SlideCount",t:es},8:{n:"NoteCount",t:es},9:{n:"HiddenCount",t:es},10:{n:"MultimediaClipCount",t:es},11:{n:"ScaleCrop",t:x0},12:{n:"HeadingPairs",t:AD},13:{n:"TitlesOfParts",t:PD},14:{n:"Manager",t:Jr},15:{n:"Company",t:Jr},16:{n:"LinksUpToDate",t:x0},17:{n:"CharacterCount",t:es},19:{n:"SharedDoc",t:x0},22:{n:"HyperlinksChanged",t:x0},23:{n:"AppVersion",t:es,p:"version"},24:{n:"DigSig",t:TD},26:{n:"ContentType",t:Jr},27:{n:"ContentStatus",t:Jr},28:{n:"Language",t:Jr},29:{n:"Version",t:Jr},255:{},2147483648:{n:"Locale",t:yh},2147483651:{n:"Behavior",t:yh},1919054434:{}},o2={1:{n:"CodePage",t:lS},2:{n:"Title",t:Jr},3:{n:"Subject",t:Jr},4:{n:"Author",t:Jr},5:{n:"Keywords",t:Jr},6:{n:"Comments",t:Jr},7:{n:"Template",t:Jr},8:{n:"LastAuthor",t:Jr},9:{n:"RevNumber",t:Jr},10:{n:"EditTime",t:y0},11:{n:"LastPrinted",t:y0},12:{n:"CreatedDate",t:y0},13:{n:"ModifiedDate",t:y0},14:{n:"PageCount",t:es},15:{n:"WordCount",t:es},16:{n:"CharCount",t:es},17:{n:"Thumbnail",t:ED},18:{n:"Application",t:Jr},19:{n:"DocSecurity",t:es},255:{},2147483648:{n:"Locale",t:yh},2147483651:{n:"Behavior",t:yh},1919054434:{}};function DD(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var RD=DD([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),FD=Vn(RD),eu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},OD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},v0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function cS(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function dS(t,e){var r=WP(OD),n=[],s;n[n.length]=Rr,n[n.length]=Ge("Types",null,{xmlns:Vr.CT,"xmlns:xsd":Vr.xsd,"xmlns:xsi":Vr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return Ge("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){t[u]&&t[u].length>0&&(s=t[u][0],n[n.length]=Ge("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:v0[u][e.bookType]||v0[u].xlsx}))},o=function(u){(t[u]||[]).forEach(function(h){n[n.length]=Ge("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:v0[u][e.bookType]||v0[u].xlsx})})},c=function(u){(t[u]||[]).forEach(function(h){n[n.length]=Ge("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:r[u][0]})})};return i("workbooks"),o("sheets"),o("charts"),c("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),o("metadata"),c("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var It={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function uS(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function El(t){var e=[Rr,Ge("Relationships",null,{xmlns:Vr.RELS})];return nn(t["!id"]).forEach(function(r){e[e.length]=Ge("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Yt(t,e,r,n,s,i){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=n,s.Target=r,[It.HLINK,It.XPATH,It.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function MD(t){var e=[Rr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function l2(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function LD(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function ID(t){var e=[Rr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(l2(t[r][0],t[r][1])),e.push(LD("",t[r][0]));return e.push(l2("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function hS(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+dh.version+"</meta:generator></office:meta></office:document-meta>"}var bo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function dp(t,e,r,n,s){s[t]!=null||e==null||e===""||(s[t]=e,e=Gt(e),n[n.length]=r?Ge(t,e,r):Zr(t,e))}function fS(t,e){var r=e||{},n=[Rr,Ge("cp:coreProperties",null,{"xmlns:cp":Vr.CORE_PROPS,"xmlns:dc":Vr.dc,"xmlns:dcterms":Vr.dcterms,"xmlns:dcmitype":Vr.dcmitype,"xmlns:xsi":Vr.xsi})],s={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&dp("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:mg(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),t.ModifiedDate!=null&&dp("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:mg(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var i=0;i!=bo.length;++i){var o=bo[i],c=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:t?t[o[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&dp(o[0],c,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Al=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],mS=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function pS(t){var e=[],r=Ge;return t||(t={}),t.Application="SheetJS",e[e.length]=Rr,e[e.length]=Ge("Properties",null,{xmlns:Vr.EXT_PROPS,"xmlns:vt":Vr.vt}),Al.forEach(function(n){if(t[n[1]]!==void 0){var s;switch(n[2]){case"string":s=Gt(String(t[n[1]]));break;case"bool":s=t[n[1]]?"true":"false";break}s!==void 0&&(e[e.length]=r(n[0],s))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Gt(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function gS(t){var e=[Rr,Ge("Properties",null,{xmlns:Vr.CUST_PROPS,"xmlns:vt":Vr.vt})];if(!t)return e.join("");var r=1;return nn(t).forEach(function(s){++r,e[e.length]=Ge("property",rD(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Gt(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var c2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function BD(t,e){var r=[];return nn(c2).map(function(n){for(var s=0;s<bo.length;++s)if(bo[s][1]==n)return bo[s];for(s=0;s<Al.length;++s)if(Al[s][1]==n)return Al[s];throw n}).forEach(function(n){if(t[n[1]]!=null){var s=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(Zr(c2[n[1]]||n[1],s))}}),Ge("DocumentProperties",r.join(""),{xmlns:rs.o})}function UD(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return t&&nn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var o=0;o<bo.length;++o)if(i==bo[o][1])return;for(o=0;o<Al.length;++o)if(i==Al[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var c=t[i],u="string";typeof c=="number"?(u="float",c=String(c)):c===!0||c===!1?(u="boolean",c=c?"1":"0"):c=String(c),s.push(Ge(Xb(i),c,{"dt:dt":u}))}}),e&&nn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o instanceof Date?(c="dateTime.tz",o=o.toISOString()):o=String(o),s.push(Ge(Xb(i),o,{"dt:dt":c}))}}),"<"+n+' xmlns="'+rs.o+'">'+s.join("")+"</"+n+">"}function zD(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),s+=i);var o=De(8);return o.write_shift(4,n),o.write_shift(4,s),o}function d2(t,e){var r=De(4),n=De(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=De(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=zD(e);break;case 31:case 80:for(n=De(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Qr([r,n])}var xS=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function VD(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function u2(t,e,r){var n=De(8),s=[],i=[],o=8,c=0,u=De(8),h=De(8);if(u.write_shift(4,2),u.write_shift(4,1200),h.write_shift(4,1),i.push(u),s.push(h),o+=8+u.length,!e){h=De(8),h.write_shift(4,0),s.unshift(h);var f=[De(4)];for(f[0].write_shift(4,t.length),c=0;c<t.length;++c){var p=t[c][0];for(u=De(8+2*(p.length+1)+(p.length%2?0:2)),u.write_shift(4,c+2),u.write_shift(4,p.length+1),u.write_shift(0,p,"dbcs");u.l!=u.length;)u.write_shift(1,0);f.push(u)}u=Qr(f),i.unshift(u),o+=8+u.length}for(c=0;c<t.length;++c)if(!(e&&!e[t[c][0]])&&!(xS.indexOf(t[c][0])>-1||mS.indexOf(t[c][0])>-1)&&t[c][1]!=null){var g=t[c][1],x=0;if(e){x=+e[t[c][0]];var w=r[x];if(w.p=="version"&&typeof g=="string"){var b=g.split(".");g=(+b[0]<<16)+(+b[1]||0)}u=d2(w.t,g)}else{var v=VD(g);v==-1&&(v=31,g=String(g)),u=d2(v,g)}i.push(u),h=De(8),h.write_shift(4,e?x:2+c),s.push(h),o+=8+u.length}var _=8*(i.length+1);for(c=0;c<i.length;++c)s[c].write_shift(4,_),_+=i[c].length;return n.write_shift(4,o),n.write_shift(4,i.length),Qr([n].concat(s).concat(i))}function h2(t,e,r,n,s,i){var o=De(s?68:48),c=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Jt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,s?68:48);var u=u2(t,r,n);if(c.push(u),s){var h=u2(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+u.length),c.push(h)}return Qr(c)}function $D(t,e){e||(e=De(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function HD(t,e){return t.read_shift(e)===1}function kn(t,e){return e||(e=De(2)),e.write_shift(2,+!!t),e}function yS(t){return t.read_shift(2,"u")}function ws(t,e){return e||(e=De(2)),e.write_shift(2,t),e}function vS(t,e,r){return r||(r=De(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function bS(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=n?t.read_shift(n,s):"";return o}function WD(t){var e=t.t||"",r=De(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=De(2*e.length);n.write_shift(2*e.length,e,"utf16le");var s=[r,n];return Qr(s)}function YD(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function KD(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):YD(t,n,r)}function GD(t,e,r){if(r.biff>5)return KD(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function wS(t,e,r){return r||(r=De(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function f2(t,e){e||(e=De(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function qD(t){var e=De(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),i=s>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)e.write_shift(4,o[r]);if(i==28)n=n.slice(1),f2(n,e);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));var c=s>-1?n.slice(0,s):n;for(e.write_shift(4,2*(c.length+1)),r=0;r<c.length;++r)e.write_shift(2,c.charCodeAt(r));e.write_shift(2,0),i&8&&f2(s>-1?n.slice(s+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));for(var u=0;n.slice(u*3,u*3+3)=="../"||n.slice(u*3,u*3+3)=="..\\";)++u;for(e.write_shift(2,u),e.write_shift(4,n.length-3*u+1),r=0;r<n.length-3*u;++r)e.write_shift(1,n.charCodeAt(r+3*u)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function To(t,e,r,n){return n||(n=De(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function XD(t,e,r){var n=r.biff>8?4:2,s=t.read_shift(n),i=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[s,i,o]}function JD(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(2);return{s:{c:n,r:e},e:{c:s,r}}}function kS(t,e){return e||(e=De(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function Nx(t,e,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=De(s);return i.write_shift(2,n),i.write_shift(2,e),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function QD(t,e){var r=!e||e.biff==8,n=De(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function ZD(t,e){var r=!e||e.biff>=8?2:1,n=De(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function eR(t,e){var r=De(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],s=0;s<t.length;++s)n[s]=WD(t[s]);var i=Qr([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function tR(){var t=De(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function rR(t){var e=De(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function nR(t,e){var r=t.name||"Arial",n=e&&e.biff==5,s=n?15+r.length:16+2*r.length,i=De(s);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function sR(t,e,r,n){var s=De(10);return To(t,e,n,s),s.write_shift(4,r),s}function aR(t,e,r,n,s){var i=!s||s.biff==8,o=De(8+ +i+(1+i)*r.length);return To(t,e,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function iR(t,e,r,n){var s=r&&r.biff==5;n||(n=De(s?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(s?1:2,e.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function oR(t,e){var r=e.biff==8||!e.biff?4:2,n=De(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function m2(t,e,r,n){var s=r&&r.biff==5;n||(n=De(s?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&s&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function lR(t){var e=De(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function cR(t,e,r,n,s,i){var o=De(8);return To(t,e,n,o),vS(r,i,o),o}function dR(t,e,r,n){var s=De(14);return To(t,e,n,s),Co(r,s),s}function uR(t,e,r){if(r.biff<8)return hR(t,e,r);for(var n=[],s=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)n.push(XD(t,r.biff>8?12:6,r));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return n}function hR(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=bS(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function fR(t){var e=De(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)kS(t[r],e);return e}function mR(t){var e=De(24),r=Hr(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(n[s],16));return Qr([e,qD(t[1])])}function pR(t){var e=t[1].Tooltip,r=De(10+2*(e.length+1));r.write_shift(2,2048);var n=Hr(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<e.length;++s)r.write_shift(2,e.charCodeAt(s));return r.write_shift(2,0),r}function gR(t){return t||(t=De(4)),t.write_shift(2,1),t.write_shift(2,1),t}function xR(t,e,r){if(!r.cellStyles)return ma(t,e);var n=r&&r.biff>=12?4:2,s=t.read_shift(n),i=t.read_shift(n),o=t.read_shift(n),c=t.read_shift(n),u=t.read_shift(2);n==2&&(t.l+=2);var h={s,e:i,w:o,ixfe:c,flags:u};return(r.biff>=5||!r.biff)&&(h.level=u>>8&7),h}function yR(t,e){var r=De(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function vR(t){for(var e=De(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function bR(t,e,r){var n=De(15);return ru(n,t,e),n.write_shift(8,r,"f"),n}function wR(t,e,r){var n=De(9);return ru(n,t,e),n.write_shift(2,r),n}var kR=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=hx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,u){var h=[],f=jo(1);switch(u.type){case"base64":f=$s(Ma(c));break;case"binary":f=$s(c);break;case"buffer":case"array":f=c;break}ts(f,0);var p=f.read_shift(1),g=!!(p&136),x=!1,w=!1;switch(p){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var b=0,v=521;p==2&&(b=f.read_shift(2)),f.l+=3,p!=2&&(b=f.read_shift(4)),b>1048576&&(b=1e6),p!=2&&(v=f.read_shift(2));var _=f.read_shift(2),T=u.codepage||1252;p!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(T=t[f[f.l]]),f.l+=1,f.l+=2),w&&(f.l+=36);for(var C=[],R={},j=Math.min(f.length,p==2?521:v-10-(x?264:0)),O=w?32:11;f.l<j&&f[f.l]!=13;)switch(R={},R.name=Ib.utils.decode(T,f.slice(f.l,f.l+O)).replace(/[\u0000\r\n].*$/g,""),f.l+=O,R.type=String.fromCharCode(f.read_shift(1)),p!=2&&!w&&(R.offset=f.read_shift(4)),R.len=f.read_shift(1),p==2&&(R.offset=f.read_shift(2)),R.dec=f.read_shift(1),R.name.length&&C.push(R),p!=2&&(f.l+=w?13:14),R.type){case"B":(!x||R.len!=8)&&u.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+R.type)}if(f[f.l]!==13&&(f.l=v-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=v;var S=0,P=0;for(h[0]=[],P=0;P!=C.length;++P)h[0][P]=C[P].name;for(;b-- >0;){if(f[f.l]===42){f.l+=_;continue}for(++f.l,h[++S]=[],P=0,P=0;P!=C.length;++P){var B=f.slice(f.l,f.l+C[P].len);f.l+=C[P].len,ts(B,0);var ae=Ib.utils.decode(T,B);switch(C[P].type){case"C":ae.trim().length&&(h[S][P]=ae.replace(/\s+$/,""));break;case"D":ae.length===8?h[S][P]=new Date(+ae.slice(0,4),+ae.slice(4,6)-1,+ae.slice(6,8)):h[S][P]=ae;break;case"F":h[S][P]=parseFloat(ae.trim());break;case"+":case"I":h[S][P]=w?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(ae.trim().toUpperCase()){case"Y":case"T":h[S][P]=!0;break;case"N":case"F":h[S][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ae+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));h[S][P]="##MEMO##"+(w?parseInt(ae.trim(),10):B.read_shift(4));break;case"N":ae=ae.replace(/\u0000/g,"").trim(),ae&&ae!="."&&(h[S][P]=+ae||0);break;case"@":h[S][P]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":h[S][P]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":h[S][P]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[S][P]=-B.read_shift(-8,"f");break;case"B":if(x&&C[P].len==8){h[S][P]=B.read_shift(8,"f");break}case"G":case"P":B.l+=C[P].len;break;case"0":if(C[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[P].type)}}}if(p!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return u&&u.sheetRows&&(h=h.slice(0,u.sheetRows)),u.DBF=C,h}function n(c,u){var h=u||{};h.dateNF||(h.dateNF="yyyymmdd");var f=Yl(r(c,h),h);return f["!cols"]=h.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete h.DBF,f}function s(c,u){try{return Do(n(c,u),u)}catch(h){if(u&&u.WTF)throw h}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,u){var h=u||{};if(+h.codepage>=0&&Sd(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var f=Un(),p=Nh(c,{header:1,raw:!0,cellDates:!0}),g=p[0],x=p.slice(1),w=c["!cols"]||[],b=0,v=0,_=0,T=1;for(b=0;b<g.length;++b){if(((w[b]||{}).DBF||{}).name){g[b]=w[b].DBF.name,++_;continue}if(g[b]!=null){if(++_,typeof g[b]=="number"&&(g[b]=g[b].toString(10)),typeof g[b]!="string")throw new Error("DBF Invalid column name "+g[b]+" |"+typeof g[b]+"|");if(g.indexOf(g[b])!==b){for(v=0;v<1024;++v)if(g.indexOf(g[b]+"_"+v)==-1){g[b]+="_"+v;break}}}}var C=or(c["!ref"]),R=[],j=[],O=[];for(b=0;b<=C.e.c-C.s.c;++b){var S="",P="",B=0,ae=[];for(v=0;v<x.length;++v)x[v][b]!=null&&ae.push(x[v][b]);if(ae.length==0||g[b]==null){R[b]="?";continue}for(v=0;v<ae.length;++v){switch(typeof ae[v]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=ae[v]instanceof Date?"D":"C";break;default:P="C"}B=Math.max(B,String(ae[v]).length),S=S&&S!=P?"C":P}B>250&&(B=250),P=((w[b]||{}).DBF||{}).type,P=="C"&&w[b].DBF.len>B&&(B=w[b].DBF.len),S=="B"&&P=="N"&&(S="N",O[b]=w[b].DBF.dec,B=w[b].DBF.len),j[b]=S=="C"||P=="N"?B:i[S]||0,T+=j[b],R[b]=S}var q=f.next(32);for(q.write_shift(4,318902576),q.write_shift(4,x.length),q.write_shift(2,296+32*_),q.write_shift(2,T),b=0;b<4;++b)q.write_shift(4,0);for(q.write_shift(4,0|(+e[SN]||3)<<8),b=0,v=0;b<g.length;++b)if(g[b]!=null){var H=f.next(32),ie=(g[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);H.write_shift(1,ie,"sbcs"),H.write_shift(1,R[b]=="?"?"C":R[b],"sbcs"),H.write_shift(4,v),H.write_shift(1,j[b]||i[R[b]]||0),H.write_shift(1,O[b]||0),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(1,0),H.write_shift(4,0),H.write_shift(4,0),v+=j[b]||i[R[b]]||0}var re=f.next(264);for(re.write_shift(4,13),b=0;b<65;++b)re.write_shift(4,0);for(b=0;b<x.length;++b){var L=f.next(T);for(L.write_shift(1,0),v=0;v<g.length;++v)if(g[v]!=null)switch(R[v]){case"L":L.write_shift(1,x[b][v]==null?63:x[b][v]?84:70);break;case"B":L.write_shift(8,x[b][v]||0,"f");break;case"N":var ee="0";for(typeof x[b][v]=="number"&&(ee=x[b][v].toFixed(O[v]||0)),_=0;_<j[v]-ee.length;++_)L.write_shift(1,32);L.write_shift(1,ee,"sbcs");break;case"D":x[b][v]?(L.write_shift(4,("0000"+x[b][v].getFullYear()).slice(-4),"sbcs"),L.write_shift(2,("00"+(x[b][v].getMonth()+1)).slice(-2),"sbcs"),L.write_shift(2,("00"+x[b][v].getDate()).slice(-2),"sbcs")):L.write_shift(8,"00000000","sbcs");break;case"C":var Q=String(x[b][v]!=null?x[b][v]:"").slice(0,j[v]);for(L.write_shift(1,Q,"sbcs"),_=0;_<j[v]-Q.length;++_)L.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:s,to_sheet:n,from_sheet:o}}(),NR=function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+nn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,x){var w=t[x];return typeof w=="number"?Lb(w):w},n=function(g,x,w){var b=x.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return b==59?g:Lb(b)};t["|"]=254;function s(g,x){switch(x.type){case"base64":return i(Ma(g),x);case"binary":return i(g,x);case"buffer":return i(zt&&Buffer.isBuffer(g)?g.toString("binary"):Jd(g),x);case"array":return i(of(g),x)}throw new Error("Unrecognized type "+x.type)}function i(g,x){var w=g.split(/[\n\r]+/),b=-1,v=-1,_=0,T=0,C=[],R=[],j=null,O={},S=[],P=[],B=[],ae=0,q;for(+x.codepage>=0&&Sd(+x.codepage);_!==w.length;++_){ae=0;var H=w[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),ie=H.replace(/;;/g,"\0").split(";").map(function(E){return E.replace(/\u0000/g,";")}),re=ie[0],L;if(H.length>0)switch(re){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ie[1].charAt(0)=="P"&&R.push(H.slice(3).replace(/;;/g,";"));break;case"C":var ee=!1,Q=!1,te=!1,U=!1,Z=-1,X=-1;for(T=1;T<ie.length;++T)switch(ie[T].charAt(0)){case"A":break;case"X":v=parseInt(ie[T].slice(1))-1,Q=!0;break;case"Y":for(b=parseInt(ie[T].slice(1))-1,Q||(v=0),q=C.length;q<=b;++q)C[q]=[];break;case"K":L=ie[T].slice(1),L.charAt(0)==='"'?L=L.slice(1,L.length-1):L==="TRUE"?L=!0:L==="FALSE"?L=!1:isNaN(Da(L))?isNaN(jd(L).getDate())||(L=_n(L)):(L=Da(L),j!==null&&MN(j)&&(L=UN(L))),ee=!0;break;case"E":U=!0;var M=wF(ie[T].slice(1),{r:b,c:v});C[b][v]=[C[b][v],M];break;case"S":te=!0,C[b][v]=[C[b][v],"S5S"];break;case"G":break;case"R":Z=parseInt(ie[T].slice(1))-1;break;case"C":X=parseInt(ie[T].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+H)}if(ee&&(C[b][v]&&C[b][v].length==2?C[b][v][0]=L:C[b][v]=L,j=null),te){if(U)throw new Error("SYLK shared formula cannot have own formula");var W=Z>-1&&C[Z][X];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");C[b][v][1]=kF(W[1],{r:b-Z,c:v-X})}break;case"F":var K=0;for(T=1;T<ie.length;++T)switch(ie[T].charAt(0)){case"X":v=parseInt(ie[T].slice(1))-1,++K;break;case"Y":for(b=parseInt(ie[T].slice(1))-1,q=C.length;q<=b;++q)C[q]=[];break;case"M":ae=parseInt(ie[T].slice(1))/20;break;case"F":break;case"G":break;case"P":j=R[parseInt(ie[T].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=ie[T].slice(1).split(" "),q=parseInt(B[0],10);q<=parseInt(B[1],10);++q)ae=parseInt(B[2],10),P[q-1]=ae===0?{hidden:!0}:{wch:ae},Sx(P[q-1]);break;case"C":v=parseInt(ie[T].slice(1))-1,P[v]||(P[v]={});break;case"R":b=parseInt(ie[T].slice(1))-1,S[b]||(S[b]={}),ae>0?(S[b].hpt=ae,S[b].hpx=CS(ae)):ae===0&&(S[b].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+H)}K<1&&(j=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+H)}}return S.length>0&&(O["!rows"]=S),P.length>0&&(O["!cols"]=P),x&&x.sheetRows&&(C=C.slice(0,x.sheetRows)),[C,O]}function o(g,x){var w=s(g,x),b=w[0],v=w[1],_=Yl(b,x);return nn(v).forEach(function(T){_[T]=v[T]}),_}function c(g,x){return Do(o(g,x),x)}function u(g,x,w,b){var v="C;Y"+(w+1)+";X"+(b+1)+";K";switch(g.t){case"n":v+=g.v||0,g.f&&!g.F&&(v+=";E"+jx(g.f,{r:w,c:b}));break;case"b":v+=g.v?"TRUE":"FALSE";break;case"e":v+=g.w||g.v;break;case"d":v+='"'+(g.w||g.v)+'"';break;case"s":v+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function h(g,x){x.forEach(function(w,b){var v="F;W"+(b+1)+" "+(b+1)+" ";w.hidden?v+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=vh(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=bh(w.wpx)),typeof w.wch=="number"&&(v+=Math.round(w.wch))),v.charAt(v.length-1)!=" "&&g.push(v)})}function f(g,x){x.forEach(function(w,b){var v="F;";w.hidden?v+="M0;":w.hpt?v+="M"+20*w.hpt+";":w.hpx&&(v+="M"+20*wh(w.hpx)+";"),v.length>2&&g.push(v+"R"+(b+1))})}function p(g,x){var w=["ID;PWXL;N;E"],b=[],v=or(g["!ref"]),_,T=Array.isArray(g),C=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),g["!cols"]&&h(w,g["!cols"]),g["!rows"]&&f(w,g["!rows"]),w.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var R=v.s.r;R<=v.e.r;++R)for(var j=v.s.c;j<=v.e.c;++j){var O=qt({r:R,c:j});_=T?(g[R]||[])[j]:g[O],!(!_||_.v==null&&(!_.f||_.F))&&b.push(u(_,g,R,j))}return w.join(C)+C+b.join(C)+C+"E"+C}return{to_workbook:c,to_sheet:o,from_sheet:p}}(),SR=function(){function t(i,o){switch(o.type){case"base64":return e(Ma(i),o);case"binary":return e(i,o);case"buffer":return e(zt&&Buffer.isBuffer(i)?i.toString("binary"):Jd(i),o);case"array":return e(of(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){for(var c=i.split(`
`),u=-1,h=-1,f=0,p=[];f!==c.length;++f){if(c[f].trim()==="BOT"){p[++u]=[],h=0;continue}if(!(u<0)){var g=c[f].trim().split(","),x=g[0],w=g[1];++f;for(var b=c[f]||"";(b.match(/["]/g)||[]).length&1&&f<c.length-1;)b+=`
`+c[++f];switch(b=b.trim(),+x){case-1:if(b==="BOT"){p[++u]=[],h=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?p[u][h]=!0:b==="FALSE"?p[u][h]=!1:isNaN(Da(w))?isNaN(jd(w).getDate())?p[u][h]=w:p[u][h]=_n(w):p[u][h]=Da(w),++h;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),p[u][h++]=b!==""?b:null;break}if(b==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function r(i,o){return Yl(t(i,o),o)}function n(i,o){return Do(r(i,o),o)}var s=function(){var i=function(u,h,f,p,g){u.push(h),u.push(f+","+p),u.push('"'+g.replace(/"/g,'""')+'"')},o=function(u,h,f,p){u.push(h+","+f),u.push(h==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(u){var h=[],f=or(u["!ref"]),p,g=Array.isArray(u);i(h,"TABLE",0,1,"sheetjs"),i(h,"VECTORS",0,f.e.r-f.s.r+1,""),i(h,"TUPLES",0,f.e.c-f.s.c+1,""),i(h,"DATA",0,0,"");for(var x=f.s.r;x<=f.e.r;++x){o(h,-1,0,"BOT");for(var w=f.s.c;w<=f.e.c;++w){var b=qt({r:x,c:w});if(p=g?(u[x]||[])[w]:u[b],!p){o(h,1,0,"");continue}switch(p.t){case"n":var v=p.w;!v&&p.v!=null&&(v=p.v),v==null?p.f&&!p.F?o(h,1,0,"="+p.f):o(h,1,0,""):o(h,0,v,"V");break;case"b":o(h,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(h,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=_i(p.z||wr[14],zn(_n(p.v)))),o(h,0,p.w,"V");break;default:o(h,1,0,"")}}}o(h,-1,0,"EOD");var _=`\r
`,T=h.join(_);return T}}();return{to_workbook:n,to_sheet:r,from_sheet:s}}(),NS=function(){function t(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,g){for(var x=p.split(`
`),w=-1,b=-1,v=0,_=[];v!==x.length;++v){var T=x[v].trim().split(":");if(T[0]==="cell"){var C=Hr(T[1]);if(_.length<=C.r)for(w=_.length;w<=C.r;++w)_[w]||(_[w]=[]);switch(w=C.r,b=C.c,T[2]){case"t":_[w][b]=t(T[3]);break;case"v":_[w][b]=+T[3];break;case"vtf":var R=T[T.length-1];case"vtc":switch(T[3]){case"nl":_[w][b]=!!+T[4];break;default:_[w][b]=+T[4];break}T[2]=="vtf"&&(_[w][b]=[_[w][b],R])}}}return g&&g.sheetRows&&(_=_.slice(0,g.sheetRows)),_}function n(p,g){return Yl(r(p,g),g)}function s(p,g){return Do(n(p,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function h(p){if(!p||!p["!ref"])return"";for(var g=[],x=[],w,b="",v=ss(p["!ref"]),_=Array.isArray(p),T=v.s.r;T<=v.e.r;++T)for(var C=v.s.c;C<=v.e.c;++C)if(b=qt({r:T,c:C}),w=_?(p[T]||[])[C]:p[b],!(!w||w.v==null||w.t==="z")){switch(x=["cell",b,"t"],w.t){case"s":case"str":x.push(e(w.v));break;case"n":w.f?(x[2]="vtf",x[3]="n",x[4]=w.v,x[5]=e(w.f)):(x[2]="v",x[3]=w.v);break;case"b":x[2]="vt"+(w.f?"f":"c"),x[3]="nl",x[4]=w.v?"1":"0",x[5]=e(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var R=zn(_n(w.v));x[2]="vtc",x[3]="nd",x[4]=""+R,x[5]=w.w||_i(w.z||wr[14],R);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function f(p){return[i,o,c,o,h(p),u].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:f}}(),_R=function(){function t(f,p,g,x,w){w.raw?p[g][x]=f:f===""||(f==="TRUE"?p[g][x]=!0:f==="FALSE"?p[g][x]=!1:isNaN(Da(f))?isNaN(jd(f).getDate())?p[g][x]=f:p[g][x]=_n(f):p[g][x]=Da(f))}function e(f,p){var g=p||{},x=[];if(!f||f.length===0)return x;for(var w=f.split(/[\r\n]/),b=w.length-1;b>=0&&w[b].length===0;)--b;for(var v=10,_=0,T=0;T<=b;++T)_=w[T].indexOf(" "),_==-1?_=w[T].length:_++,v=Math.max(v,_);for(T=0;T<=b;++T){x[T]=[];var C=0;for(t(w[T].slice(0,v).trim(),x,T,C,g),C=1;C<=(w[T].length-v)/10+1;++C)t(w[T].slice(v+(C-1)*10,v+C*10).trim(),x,T,C,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(f){for(var p={},g=!1,x=0,w=0;x<f.length;++x)(w=f.charCodeAt(x))==34?g=!g:!g&&w in r&&(p[w]=(p[w]||0)+1);w=[];for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&w.push([p[x],x]);if(!w.length){p=n;for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&w.push([p[x],x])}return w.sort(function(b,v){return b[0]-v[0]||n[b[1]]-n[v[1]]}),r[w.pop()[1]]||44}function i(f,p){var g=p||{},x="",w=g.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(x=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(x=f.charAt(4),f=f.slice(6)):x=s(f.slice(0,1024)):g&&g.FS?x=g.FS:x=s(f.slice(0,1024));var v=0,_=0,T=0,C=0,R=0,j=x.charCodeAt(0),O=!1,S=0,P=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var B=g.dateNF!=null?zP(g.dateNF):null;function ae(){var q=f.slice(C,R),H={};if(q.charAt(0)=='"'&&q.charAt(q.length-1)=='"'&&(q=q.slice(1,-1).replace(/""/g,'"')),q.length===0)H.t="z";else if(g.raw)H.t="s",H.v=q;else if(q.trim().length===0)H.t="s",H.v=q;else if(q.charCodeAt(0)==61)q.charCodeAt(1)==34&&q.charCodeAt(q.length-1)==34?(H.t="s",H.v=q.slice(2,-1).replace(/""/g,'"')):NF(q)?(H.t="n",H.f=q.slice(1)):(H.t="s",H.v=q);else if(q=="TRUE")H.t="b",H.v=!0;else if(q=="FALSE")H.t="b",H.v=!1;else if(!isNaN(T=Da(q)))H.t="n",g.cellText!==!1&&(H.w=q),H.v=T;else if(!isNaN(jd(q).getDate())||B&&q.match(B)){H.z=g.dateNF||wr[14];var ie=0;B&&q.match(B)&&(q=VP(q,g.dateNF,q.match(B)||[]),ie=1),g.cellDates?(H.t="d",H.v=_n(q,ie)):(H.t="n",H.v=zn(_n(q,ie))),g.cellText!==!1&&(H.w=_i(H.z,H.v instanceof Date?zn(H.v):H.v)),g.cellNF||delete H.z}else H.t="s",H.v=q;if(H.t=="z"||(g.dense?(w[v]||(w[v]=[]),w[v][_]=H):w[qt({c:_,r:v})]=H),C=R+1,P=f.charCodeAt(C),b.e.c<_&&(b.e.c=_),b.e.r<v&&(b.e.r=v),S==j)++_;else if(_=0,++v,g.sheetRows&&g.sheetRows<=v)return!0}e:for(;R<f.length;++R)switch(S=f.charCodeAt(R)){case 34:P===34&&(O=!O);break;case j:case 10:case 13:if(!O&&ae())break e;break}return R-C>0&&ae(),w["!ref"]=Pr(b),w}function o(f,p){return!(p&&p.PRN)||p.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,p):Yl(e(f,p),p)}function c(f,p){var g="",x=p.type=="string"?[0,0,0,0]:LL(f,p);switch(p.type){case"base64":g=Ma(f);break;case"binary":g=f;break;case"buffer":p.codepage==65001?g=f.toString("utf8"):(p.codepage,g=zt&&Buffer.isBuffer(f)?f.toString("binary"):Jd(f));break;case"array":g=of(f);break;case"string":g=f;break;default:throw new Error("Unrecognized type "+p.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=sd(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=sd(g):p.type=="binary",g.slice(0,19)=="socialcalc:version:"?NS.to_sheet(p.type=="string"?g:sd(g),p):o(g,p)}function u(f,p){return Do(c(f,p),p)}function h(f){for(var p=[],g=or(f["!ref"]),x,w=Array.isArray(f),b=g.s.r;b<=g.e.r;++b){for(var v=[],_=g.s.c;_<=g.e.c;++_){var T=qt({r:b,c:_});if(x=w?(f[b]||[])[_]:f[T],!x||x.v==null){v.push("          ");continue}for(var C=(x.w||(La(x),x.w)||"").slice(0,10);C.length<10;)C+=" ";v.push(C+(_===0?" ":""))}p.push(v.join(""))}return p.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:h}}(),p2=function(){function t(M,W,K){if(M){ts(M,M.l||0);for(var E=K.Enum||Z;M.l<M.length;){var ce=M.read_shift(2),ne=E[ce]||E[65535],ue=M.read_shift(2),be=M.l+ue,Ee=ne.f&&ne.f(M,ue,K);if(M.l=be,W(Ee,ne,ce))return}}}function e(M,W){switch(W.type){case"base64":return r($s(Ma(M)),W);case"binary":return r($s(M),W);case"buffer":case"array":return r(M,W)}throw"Unsupported type "+W.type}function r(M,W){if(!M)return M;var K=W||{},E=K.dense?[]:{},ce="Sheet1",ne="",ue=0,be={},Ee=[],Ke=[],We={s:{r:0,c:0},e:{r:0,c:0}},Xe=K.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)K.Enum=Z,t(M,function(Te,Je,rt){switch(rt){case 0:K.vers=Te,Te>=4096&&(K.qpro=!0);break;case 6:We=Te;break;case 204:Te&&(ne=Te);break;case 222:ne=Te;break;case 15:case 51:K.qpro||(Te[1].v=Te[1].v.slice(1));case 13:case 14:case 16:rt==14&&(Te[2]&112)==112&&(Te[2]&15)>1&&(Te[2]&15)<15&&(Te[1].z=K.dateNF||wr[14],K.cellDates&&(Te[1].t="d",Te[1].v=UN(Te[1].v))),K.qpro&&Te[3]>ue&&(E["!ref"]=Pr(We),be[ce]=E,Ee.push(ce),E=K.dense?[]:{},We={s:{r:0,c:0},e:{r:0,c:0}},ue=Te[3],ce=ne||"Sheet"+(ue+1),ne="");var ot=K.dense?(E[Te[0].r]||[])[Te[0].c]:E[qt(Te[0])];if(ot){ot.t=Te[1].t,ot.v=Te[1].v,Te[1].z!=null&&(ot.z=Te[1].z),Te[1].f!=null&&(ot.f=Te[1].f);break}K.dense?(E[Te[0].r]||(E[Te[0].r]=[]),E[Te[0].r][Te[0].c]=Te[1]):E[qt(Te[0])]=Te[1];break}},K);else if(M[2]==26||M[2]==14)K.Enum=X,M[2]==14&&(K.qpro=!0,M.l=0),t(M,function(Te,Je,rt){switch(rt){case 204:ce=Te;break;case 22:Te[1].v=Te[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Te[3]>ue&&(E["!ref"]=Pr(We),be[ce]=E,Ee.push(ce),E=K.dense?[]:{},We={s:{r:0,c:0},e:{r:0,c:0}},ue=Te[3],ce="Sheet"+(ue+1)),Xe>0&&Te[0].r>=Xe)break;K.dense?(E[Te[0].r]||(E[Te[0].r]=[]),E[Te[0].r][Te[0].c]=Te[1]):E[qt(Te[0])]=Te[1],We.e.c<Te[0].c&&(We.e.c=Te[0].c),We.e.r<Te[0].r&&(We.e.r=Te[0].r);break;case 27:Te[14e3]&&(Ke[Te[14e3][0]]=Te[14e3][1]);break;case 1537:Ke[Te[0]]=Te[1],Te[0]==ue&&(ce=Te[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(E["!ref"]=Pr(We),be[ne||ce]=E,Ee.push(ne||ce),!Ke.length)return{SheetNames:Ee,Sheets:be};for(var He={},xe=[],Ae=0;Ae<Ke.length;++Ae)be[Ee[Ae]]?(xe.push(Ke[Ae]||Ee[Ae]),He[Ke[Ae]]=be[Ke[Ae]]||be[Ee[Ae]]):(xe.push(Ke[Ae]),He[Ke[Ae]]={"!ref":"A1"});return{SheetNames:xe,Sheets:He}}function n(M,W){var K=W||{};if(+K.codepage>=0&&Sd(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var E=Un(),ce=or(M["!ref"]),ne=Array.isArray(M),ue=[];qe(E,0,i(1030)),qe(E,6,u(ce));for(var be=Math.min(ce.e.r,8191),Ee=ce.s.r;Ee<=be;++Ee)for(var Ke=tn(Ee),We=ce.s.c;We<=ce.e.c;++We){Ee===ce.s.r&&(ue[We]=pn(We));var Xe=ue[We]+Ke,He=ne?(M[Ee]||[])[We]:M[Xe];if(!(!He||He.t=="z"))if(He.t=="n")(He.v|0)==He.v&&He.v>=-32768&&He.v<=32767?qe(E,13,x(Ee,We,He.v)):qe(E,14,b(Ee,We,He.v));else{var xe=La(He);qe(E,15,p(Ee,We,xe.slice(0,239)))}}return qe(E,1),E.end()}function s(M,W){var K=W||{};if(+K.codepage>=0&&Sd(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var E=Un();qe(E,0,o(M));for(var ce=0,ne=0;ce<M.SheetNames.length;++ce)(M.Sheets[M.SheetNames[ce]]||{})["!ref"]&&qe(E,27,U(M.SheetNames[ce],ne++));var ue=0;for(ce=0;ce<M.SheetNames.length;++ce){var be=M.Sheets[M.SheetNames[ce]];if(!(!be||!be["!ref"])){for(var Ee=or(be["!ref"]),Ke=Array.isArray(be),We=[],Xe=Math.min(Ee.e.r,8191),He=Ee.s.r;He<=Xe;++He)for(var xe=tn(He),Ae=Ee.s.c;Ae<=Ee.e.c;++Ae){He===Ee.s.r&&(We[Ae]=pn(Ae));var Te=We[Ae]+xe,Je=Ke?(be[He]||[])[Ae]:be[Te];if(!(!Je||Je.t=="z"))if(Je.t=="n")qe(E,23,ae(He,Ae,ue,Je.v));else{var rt=La(Je);qe(E,22,S(He,Ae,ue,rt.slice(0,239)))}}++ue}}return qe(E,1),E.end()}function i(M){var W=De(2);return W.write_shift(2,M),W}function o(M){var W=De(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var K=0,E=0,ce=0,ne=0;ne<M.SheetNames.length;++ne){var ue=M.SheetNames[ne],be=M.Sheets[ue];if(!(!be||!be["!ref"])){++ce;var Ee=ss(be["!ref"]);K<Ee.e.r&&(K=Ee.e.r),E<Ee.e.c&&(E=Ee.e.c)}}return K>8191&&(K=8191),W.write_shift(2,K),W.write_shift(1,ce),W.write_shift(1,E),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function c(M,W,K){var E={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&K.qpro?(E.s.c=M.read_shift(1),M.l++,E.s.r=M.read_shift(2),E.e.c=M.read_shift(1),M.l++,E.e.r=M.read_shift(2),E):(E.s.c=M.read_shift(2),E.s.r=M.read_shift(2),W==12&&K.qpro&&(M.l+=2),E.e.c=M.read_shift(2),E.e.r=M.read_shift(2),W==12&&K.qpro&&(M.l+=2),E.s.c==65535&&(E.s.c=E.e.c=E.s.r=E.e.r=0),E)}function u(M){var W=De(8);return W.write_shift(2,M.s.c),W.write_shift(2,M.s.r),W.write_shift(2,M.e.c),W.write_shift(2,M.e.r),W}function h(M,W,K){var E=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(E[0].c=M.read_shift(1),E[3]=M.read_shift(1),E[0].r=M.read_shift(2),M.l+=2):(E[2]=M.read_shift(1),E[0].c=M.read_shift(2),E[0].r=M.read_shift(2)),E}function f(M,W,K){var E=M.l+W,ce=h(M,W,K);if(ce[1].t="s",K.vers==20768){M.l++;var ne=M.read_shift(1);return ce[1].v=M.read_shift(ne,"utf8"),ce}return K.qpro&&M.l++,ce[1].v=M.read_shift(E-M.l,"cstr"),ce}function p(M,W,K){var E=De(7+K.length);E.write_shift(1,255),E.write_shift(2,W),E.write_shift(2,M),E.write_shift(1,39);for(var ce=0;ce<E.length;++ce){var ne=K.charCodeAt(ce);E.write_shift(1,ne>=128?95:ne)}return E.write_shift(1,0),E}function g(M,W,K){var E=h(M,W,K);return E[1].v=M.read_shift(2,"i"),E}function x(M,W,K){var E=De(7);return E.write_shift(1,255),E.write_shift(2,W),E.write_shift(2,M),E.write_shift(2,K,"i"),E}function w(M,W,K){var E=h(M,W,K);return E[1].v=M.read_shift(8,"f"),E}function b(M,W,K){var E=De(13);return E.write_shift(1,255),E.write_shift(2,W),E.write_shift(2,M),E.write_shift(8,K,"f"),E}function v(M,W,K){var E=M.l+W,ce=h(M,W,K);if(ce[1].v=M.read_shift(8,"f"),K.qpro)M.l=E;else{var ne=M.read_shift(2);R(M.slice(M.l,M.l+ne),ce),M.l+=ne}return ce}function _(M,W,K){var E=W&32768;return W&=-32769,W=(E?M:0)+(W>=8192?W-16384:W),(E?"":"$")+(K?pn(W):tn(W))}var T={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(M,W){ts(M,0);for(var K=[],E=0,ce="",ne="",ue="",be="";M.l<M.length;){var Ee=M[M.l++];switch(Ee){case 0:K.push(M.read_shift(8,"f"));break;case 1:ne=_(W[0].c,M.read_shift(2),!0),ce=_(W[0].r,M.read_shift(2),!1),K.push(ne+ce);break;case 2:{var Ke=_(W[0].c,M.read_shift(2),!0),We=_(W[0].r,M.read_shift(2),!1);ne=_(W[0].c,M.read_shift(2),!0),ce=_(W[0].r,M.read_shift(2),!1),K.push(Ke+We+":"+ne+ce)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(M.read_shift(2));break;case 6:{for(var Xe="";Ee=M[M.l++];)Xe+=String.fromCharCode(Ee);K.push('"'+Xe.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:be=K.pop(),ue=K.pop(),K.push(["AND","OR"][Ee-20]+"("+ue+","+be+")");break;default:if(Ee<32&&C[Ee])be=K.pop(),ue=K.pop(),K.push(ue+C[Ee]+be);else if(T[Ee]){if(E=T[Ee][1],E==69&&(E=M[M.l++]),E>K.length){console.error("WK1 bad formula parse 0x"+Ee.toString(16)+":|"+K.join("|")+"|");return}var He=K.slice(-E);K.length-=E,K.push(T[Ee][0]+"("+He.join(",")+")")}else return Ee<=7?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=24?console.error("WK1 unsupported op "+Ee.toString(16)):Ee<=30?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=115?console.error("WK1 unsupported function opcode "+Ee.toString(16)):console.error("WK1 unrecognized opcode "+Ee.toString(16))}}K.length==1?W[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function j(M){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=M.read_shift(2),W[3]=M[M.l++],W[0].c=M[M.l++],W}function O(M,W){var K=j(M);return K[1].t="s",K[1].v=M.read_shift(W-4,"cstr"),K}function S(M,W,K,E){var ce=De(6+E.length);ce.write_shift(2,M),ce.write_shift(1,K),ce.write_shift(1,W),ce.write_shift(1,39);for(var ne=0;ne<E.length;++ne){var ue=E.charCodeAt(ne);ce.write_shift(1,ue>=128?95:ue)}return ce.write_shift(1,0),ce}function P(M,W){var K=j(M);K[1].v=M.read_shift(2);var E=K[1].v>>1;if(K[1].v&1)switch(E&7){case 0:E=(E>>3)*5e3;break;case 1:E=(E>>3)*500;break;case 2:E=(E>>3)/20;break;case 3:E=(E>>3)/200;break;case 4:E=(E>>3)/2e3;break;case 5:E=(E>>3)/2e4;break;case 6:E=(E>>3)/16;break;case 7:E=(E>>3)/64;break}return K[1].v=E,K}function B(M,W){var K=j(M),E=M.read_shift(4),ce=M.read_shift(4),ne=M.read_shift(2);if(ne==65535)return E===0&&ce===3221225472?(K[1].t="e",K[1].v=15):E===0&&ce===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var ue=ne&32768;return ne=(ne&32767)-16446,K[1].v=(1-ue*2)*(ce*Math.pow(2,ne+32)+E*Math.pow(2,ne)),K}function ae(M,W,K,E){var ce=De(14);if(ce.write_shift(2,M),ce.write_shift(1,K),ce.write_shift(1,W),E==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var ne=0,ue=0,be=0,Ee=0;return E<0&&(ne=1,E=-E),ue=Math.log2(E)|0,E/=Math.pow(2,ue-31),Ee=E>>>0,(Ee&2147483648)==0&&(E/=2,++ue,Ee=E>>>0),E-=Ee,Ee|=2147483648,Ee>>>=0,E*=Math.pow(2,32),be=E>>>0,ce.write_shift(4,be),ce.write_shift(4,Ee),ue+=16383+(ne?32768:0),ce.write_shift(2,ue),ce}function q(M,W){var K=B(M);return M.l+=W-14,K}function H(M,W){var K=j(M),E=M.read_shift(4);return K[1].v=E>>6,K}function ie(M,W){var K=j(M),E=M.read_shift(8,"f");return K[1].v=E,K}function re(M,W){var K=ie(M);return M.l+=W-10,K}function L(M,W){return M[M.l+W-1]==0?M.read_shift(W,"cstr"):""}function ee(M,W){var K=M[M.l++];K>W-1&&(K=W-1);for(var E="";E.length<K;)E+=String.fromCharCode(M[M.l++]);return E}function Q(M,W,K){if(!(!K.qpro||W<21)){var E=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var ce=M.read_shift(W-21,"cstr");return[E,ce]}}function te(M,W){for(var K={},E=M.l+W;M.l<E;){var ce=M.read_shift(2);if(ce==14e3){for(K[ce]=[0,""],K[ce][0]=M.read_shift(2);M[M.l];)K[ce][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return K}function U(M,W){var K=De(5+M.length);K.write_shift(2,14e3),K.write_shift(2,W);for(var E=0;E<M.length;++E){var ce=M.charCodeAt(E);K[K.l++]=ce>127?95:ce}return K[K.l++]=0,K}var Z={0:{n:"BOF",f:yS},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:w},15:{n:"LABEL",f},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:L},222:{n:"SHEETNAMELP",f:ee},65535:{n:""}},X={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:q},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:H},38:{n:"??"},39:{n:"NUMBER27",f:ie},40:{n:"FORMULA28",f:re},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:L},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:e}}(),jR=/^\s|\s$|[\t\n\r]/;function SS(t,e){if(!e.bookSST)return"";var r=[Rr];r[r.length]=Ge("sst",null,{xmlns:Wl[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var s=t[n],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(jR)&&(i+=' xml:space="preserve"'),i+=">"+Gt(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function CR(t){return[t.read_shift(4),t.read_shift(4)]}function TR(t,e){return e||(e=De(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var ER=vD;function AR(t){var e=Un();Me(e,159,TR(t));for(var r=0;r<t.length;++r)Me(e,19,ER(t[r]));return Me(e,160),e.end()}function PR(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function _S(t){var e=0,r,n=PR(t),s=n.length+1,i,o,c,u,h;for(r=jo(s),r[0]=n.length,i=1;i!=s;++i)r[i]=n[i-1];for(i=s-1;i>=0;--i)o=r[i],c=(e&16384)===0?0:1,u=e<<1&32767,h=c|u,e=h^o;return e^52811}var DR=function(){function t(s,i){switch(i.type){case"base64":return e(Ma(s),i);case"binary":return e(s,i);case"buffer":return e(zt&&Buffer.isBuffer(s)?s.toString("binary"):Jd(s),i);case"array":return e(of(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){var o=i||{},c=o.dense?[]:{},u=s.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(f,p){Array.isArray(c)&&(c[p]=[]);for(var g=/\\\w+\b/g,x=0,w,b=-1;w=g.exec(f);){switch(w[0]){case"\\cell":var v=f.slice(x,g.lastIndex-w[0].length);if(v[0]==" "&&(v=v.slice(1)),++b,v.length){var _={v,t:"s"};Array.isArray(c)?c[p][b]=_:c[qt({r:p,c:b})]=_}break}x=g.lastIndex}b>h.e.c&&(h.e.c=b)}),c["!ref"]=Pr(h),c}function r(s,i){return Do(t(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],o=or(s["!ref"]),c,u=Array.isArray(s),h=o.s.r;h<=o.e.r;++h){i.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var p=qt({r:h,c:f});c=u?(s[h]||[])[f]:s[p],!(!c||c.v==null&&(!c.f||c.F))&&(i.push(" "+(c.w||(La(c),c.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function g2(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var RR=6,Ra=RR;function vh(t){return Math.floor((t+Math.round(128/Ra)/256)*Ra)}function bh(t){return Math.floor((t-5)/Ra*100+.5)/100}function gg(t){return Math.round((t*Ra+5)/Ra*256)/256}function Sx(t){t.width?(t.wpx=vh(t.width),t.wch=bh(t.wpx),t.MDW=Ra):t.wpx?(t.wch=bh(t.wpx),t.width=gg(t.wch),t.MDW=Ra):typeof t.wch=="number"&&(t.width=gg(t.wch),t.wpx=vh(t.width),t.MDW=Ra),t.customWidth&&delete t.customWidth}var FR=96,jS=FR;function wh(t){return t*96/jS}function CS(t){return t*jS/96}function OR(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Ge("numFmt",null,{numFmtId:n,formatCode:Gt(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ge("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function MR(t){var e=[];return e[e.length]=Ge("cellXfs",null),t.forEach(function(r){e[e.length]=Ge("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ge("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function TS(t,e){var r=[Rr,Ge("styleSheet",null,{xmlns:Wl[0],"xmlns:vt":Vr.vt})],n;return t.SSF&&(n=OR(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=MR(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function LR(t,e){var r=t.read_shift(2),n=gn(t);return[r,n]}function IR(t,e,r){r||(r=De(6+4*e.length)),r.write_shift(2,t),Wr(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function BR(t,e,r){var n={};n.sz=t.read_shift(2)/20;var s=jD(t);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var c=t.read_shift(1);c>0&&(n.family=c);var u=t.read_shift(1);switch(u>0&&(n.charset=u),t.l++,n.color=_D(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=gn(t),n}function UR(t,e){e||(e=De(25+4*32)),e.write_shift(2,t.sz*20),CD(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),xh(t.color,e);var n=0;return n=2,e.write_shift(1,n),Wr(t.name,e),e.length>e.l?e.slice(0,e.l):e}var zR=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],up,VR=ma;function x2(t,e){e||(e=De(4*3+8*7+16*1)),up||(up=hx(zR));var r=up[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(xh({auto:1},e),xh({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function $R(t,e){var r=t.l+e,n=t.read_shift(2),s=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:s}}function ES(t,e,r){r||(r=De(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Mc(t,e){return e||(e=De(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var HR=ma;function WR(t,e){return e||(e=De(51)),e.write_shift(1,0),Mc(null,e),Mc(null,e),Mc(null,e),Mc(null,e),Mc(null,e),e.length>e.l?e.slice(0,e.l):e}function YR(t,e){return e||(e=De(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),gh(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function KR(t,e,r){var n=De(2052);return n.write_shift(4,t),gh(e,n),gh(r,n),n.length>n.l?n.slice(0,n.l):n}function GR(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&++r}),r!=0&&(Me(t,615,Ws(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&Me(t,44,IR(s,e[s]))}),Me(t,616))}}function qR(t){var e=1;Me(t,611,Ws(e)),Me(t,43,UR({sz:12,color:{theme:1},name:"Calibri",family:2})),Me(t,612)}function XR(t){var e=2;Me(t,603,Ws(e)),Me(t,45,x2({patternType:"none"})),Me(t,45,x2({patternType:"gray125"})),Me(t,604)}function JR(t){var e=1;Me(t,613,Ws(e)),Me(t,46,WR()),Me(t,614)}function QR(t){var e=1;Me(t,626,Ws(e)),Me(t,47,ES({numFmtId:0},65535)),Me(t,627)}function ZR(t,e){Me(t,617,Ws(e.length)),e.forEach(function(r){Me(t,47,ES(r,0))}),Me(t,618)}function eF(t){var e=1;Me(t,619,Ws(e)),Me(t,48,YR({xfId:0,name:"Normal"})),Me(t,620)}function tF(t){var e=0;Me(t,505,Ws(e)),Me(t,506)}function rF(t){var e=0;Me(t,508,KR(e,"TableStyleMedium9","PivotStyleMedium4")),Me(t,509)}function nF(t,e){var r=Un();return Me(r,278),GR(r,t.SSF),qR(r),XR(r),JR(r),QR(r),ZR(r,e.cellXfs),eF(r),tF(r),rF(r),Me(r,279),r.end()}function AS(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Rr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function sF(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:gn(t)}}function aF(t){var e=De(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Wr(t.name,e),e.slice(0,e.l)}function iF(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function oF(t){var e=De(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function lF(t,e){var r=De(8+2*e.length);return r.write_shift(4,t),Wr(e,r),r.slice(0,r.l)}function cF(t){return t.l+=4,t.read_shift(4)!=0}function dF(t,e){var r=De(8);return r.write_shift(4,t),r.write_shift(4,1),r}function uF(){var t=Un();return Me(t,332),Me(t,334,Ws(1)),Me(t,335,aF({name:"XLDAPR",version:12e4,flags:3496657072})),Me(t,336),Me(t,339,lF(1,"XLDAPR")),Me(t,52),Me(t,35,Ws(514)),Me(t,4096,Ws(0)),Me(t,4097,ws(1)),Me(t,36),Me(t,53),Me(t,340),Me(t,337,dF(1)),Me(t,51,oF([[1,0]])),Me(t,338),Me(t,333),t.end()}function PS(){var t=[Rr];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function hF(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=qt(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var bl=1024;function DS(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[Ge("xml",null,{"xmlns:v":rs.v,"xmlns:o":rs.o,"xmlns:x":rs.x,"xmlns:mv":rs.mv}).replace(/\/>/,">"),Ge("o:shapelayout",Ge("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Ge("v:shapetype",[Ge("v:stroke",null,{joinstyle:"miter"}),Ge("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];bl<t*1e3;)bl+=1e3;return e.forEach(function(i){var o=Hr(i[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var u=c.type=="gradient"?Ge("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=Ge("v:fill",u,c),f={on:"t",obscured:"t"};++bl,s=s.concat(["<v:shape"+Td({id:"_x0000_s"+bl,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,Ge("v:shadow",null,f),Ge("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Zr("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Zr("x:AutoFill","False"),Zr("x:Row",String(o.r)),Zr("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function RS(t){var e=[Rr,Ge("comments",null,{xmlns:Wl[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(s){var i=Gt(s.a);r.indexOf(i)==-1&&(r.push(i),e.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var s=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(u){u.a&&(s=r.indexOf(Gt(u.a))),i.push(u.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),i.length<=1)e.push(Zr("t",Gt(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,c=1;c<i.length;++c)o+=`Reply:
    `+i[c]+`
`;e.push(Zr("t",Gt(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function fF(t,e,r){var n=[Rr,Ge("ThreadedComments",null,{xmlns:Vr.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,c){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var u={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};c==0?i=u.id:u.parentId=i,o.ID=u.id,o.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),n.push(Ge("threadedComment",Zr("text",o.t||""),u))})}),n.push("</ThreadedComments>"),n.join("")}function mF(t){var e=[Rr,Ge("personList",null,{xmlns:Vr.TCMNT,"xmlns:x":Wl[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Ge("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function pF(t){var e={};e.iauthor=t.read_shift(4);var r=Mo(t);return e.rfx=r.s,e.ref=qt(r.s),t.l+=16,e}function gF(t,e){return e==null&&(e=De(36)),e.write_shift(4,t[1].iauthor),Kl(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var xF=gn;function yF(t){return Wr(t.slice(0,54))}function vF(t){var e=Un(),r=[];return Me(e,628),Me(e,630),t.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Me(e,632,yF(s.a)))})}),Me(e,631),Me(e,633),t.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:Hr(n[0]),e:Hr(n[0])};Me(e,635,gF([i,s])),s.t&&s.t.length>0&&Me(e,637,wD(s)),Me(e,636),delete s.iauthor})}),Me(e,634),Me(e,629),e.end()}function bF(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Jt.utils.cfb_add(t,s,e.FileIndex[n].content)}})}var FS=["xlsb","xlsm","xlam","biff8","xla"],wF=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,s,i,o){var c=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var h=i.length>0?parseInt(i,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return c?f+=e.c:--f,u?h+=e.r:--h,s+(c?"":"$")+pn(f)+(u?"":"$")+tn(h)}return function(s,i){return e=i,s.replace(t,r)}}(),_x=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,jx=function(){return function(e,r){return e.replace(_x,function(n,s,i,o,c,u){var h=vx(o)-(i?0:r.c),f=yx(u)-(c?0:r.r),p=f==0?"":c?f+1:"["+f+"]",g=h==0?"":i?h+1:"["+h+"]";return s+"R"+p+"C"+g})}}();function kF(t,e){return t.replace(_x,function(r,n,s,i,o,c){return n+(s=="$"?s+i:pn(vx(i)+e.c))+(o=="$"?o+c:tn(yx(c)+e.r))})}function NF(t){return t.length!=1}function Tr(t){t.l+=1}function ji(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function OS(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return MS(t);r.biff==12&&(n=4)}var s=t.read_shift(n),i=t.read_shift(n),o=ji(t),c=ji(t);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function MS(t){var e=ji(t),r=ji(t),n=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function SF(t,e,r){if(r.biff<8)return MS(t);var n=t.read_shift(r.biff==12?4:2),s=t.read_shift(r.biff==12?4:2),i=ji(t),o=ji(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function LS(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return _F(t);var n=t.read_shift(r&&r.biff==12?4:2),s=ji(t);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function _F(t){var e=ji(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function jF(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function CF(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return TF(t);var s=t.read_shift(n>=12?4:2),i=t.read_shift(2),o=(i&16384)>>14,c=(i&32768)>>15;if(i&=16383,c==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:c}}function TF(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),s==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:s,rRel:n}}function EF(t,e,r){var n=(t[t.l++]&96)>>5,s=OS(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function AF(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var o=OS(t,i,r);return[n,s,o]}function PF(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function DF(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,s]}function RF(t,e,r){var n=(t[t.l++]&96)>>5,s=SF(t,e-1,r);return[n,s]}function FF(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function y2(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function OF(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(t.read_shift(r&&r.biff==2?1:2));return s}function MF(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function LF(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function IF(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function BF(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function IS(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function UF(t){return t.read_shift(2),IS(t)}function zF(t){return t.read_shift(2),IS(t)}function VF(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=LS(t,0,r);return[n,s]}function $F(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=CF(t,0,r);return[n,s]}function HF(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=LS(t,0,r);return[n,s,i]}function WF(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(r&&r.biff<=3?1:2);return[WO[s],zS[s],n]}function YF(t,e,r){var n=t[t.l++],s=t.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:KF(t);return[s,(i[0]===0?zS:HO)[i[1]]]}function KF(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function GF(t,e,r){t.l+=r&&r.biff==2?3:4}function qF(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function XF(t){return t.l++,eu[t.read_shift(1)]}function JF(t){return t.l++,t.read_shift(2)}function QF(t){return t.l++,t.read_shift(1)!==0}function ZF(t){return t.l++,Gl(t)}function eO(t,e,r){return t.l++,bS(t,e-1,r)}function tO(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=HD(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=eu[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Gl(t);break;case 2:r[1]=GD(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function rO(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((r.biff==12?Mo:JD)(t));return s}function nO(t,e,r){var n=0,s=0;r.biff==12?(n=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var c=0;c!=s;++c)o[i][c]=tO(t,r.biff);return o}function sO(t,e,r){var n=t.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=t.read_shift(s);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function aO(t,e,r){if(r.biff==5)return iO(t);var n=t.read_shift(1)>>>5&3,s=t.read_shift(2),i=t.read_shift(4);return[n,s,i]}function iO(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function oO(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function lO(t,e,r){var n=t.read_shift(1)>>>5&3,s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function cO(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function dO(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,s]}var uO=ma,hO=ma,fO=ma;function tu(t,e,r){return t.l+=2,[jF(t)]}function Cx(t){return t.l+=6,[]}var mO=tu,pO=Cx,gO=Cx,xO=tu;function BS(t){return t.l+=2,[yS(t),t.read_shift(2)&1]}var yO=tu,vO=BS,bO=Cx,wO=tu,kO=tu,NO=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function SO(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),s=t.read_shift(2),i=t.read_shift(2),o=NO[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:s,C:i}}function _O(t){return t.l+=2,[t.read_shift(4)]}function jO(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function CO(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function TO(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function EO(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function AO(t){return t.l+=4,[0,0]}var v2={1:{n:"PtgExp",f:qF},2:{n:"PtgTbl",f:fO},3:{n:"PtgAdd",f:Tr},4:{n:"PtgSub",f:Tr},5:{n:"PtgMul",f:Tr},6:{n:"PtgDiv",f:Tr},7:{n:"PtgPower",f:Tr},8:{n:"PtgConcat",f:Tr},9:{n:"PtgLt",f:Tr},10:{n:"PtgLe",f:Tr},11:{n:"PtgEq",f:Tr},12:{n:"PtgGe",f:Tr},13:{n:"PtgGt",f:Tr},14:{n:"PtgNe",f:Tr},15:{n:"PtgIsect",f:Tr},16:{n:"PtgUnion",f:Tr},17:{n:"PtgRange",f:Tr},18:{n:"PtgUplus",f:Tr},19:{n:"PtgUminus",f:Tr},20:{n:"PtgPercent",f:Tr},21:{n:"PtgParen",f:Tr},22:{n:"PtgMissArg",f:Tr},23:{n:"PtgStr",f:eO},26:{n:"PtgSheet",f:jO},27:{n:"PtgEndSheet",f:CO},28:{n:"PtgErr",f:XF},29:{n:"PtgBool",f:QF},30:{n:"PtgInt",f:JF},31:{n:"PtgNum",f:ZF},32:{n:"PtgArray",f:FF},33:{n:"PtgFunc",f:WF},34:{n:"PtgFuncVar",f:YF},35:{n:"PtgName",f:sO},36:{n:"PtgRef",f:VF},37:{n:"PtgArea",f:EF},38:{n:"PtgMemArea",f:oO},39:{n:"PtgMemErr",f:uO},40:{n:"PtgMemNoMem",f:hO},41:{n:"PtgMemFunc",f:lO},42:{n:"PtgRefErr",f:cO},43:{n:"PtgAreaErr",f:PF},44:{n:"PtgRefN",f:$F},45:{n:"PtgAreaN",f:RF},46:{n:"PtgMemAreaN",f:TO},47:{n:"PtgMemNoMemN",f:EO},57:{n:"PtgNameX",f:aO},58:{n:"PtgRef3d",f:HF},59:{n:"PtgArea3d",f:AF},60:{n:"PtgRefErr3d",f:dO},61:{n:"PtgAreaErr3d",f:DF},255:{}},PO={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},DO={1:{n:"PtgElfLel",f:BS},2:{n:"PtgElfRw",f:wO},3:{n:"PtgElfCol",f:mO},6:{n:"PtgElfRwV",f:kO},7:{n:"PtgElfColV",f:xO},10:{n:"PtgElfRadical",f:yO},11:{n:"PtgElfRadicalS",f:bO},13:{n:"PtgElfColS",f:pO},15:{n:"PtgElfColSV",f:gO},16:{n:"PtgElfRadicalLel",f:vO},25:{n:"PtgList",f:SO},29:{n:"PtgSxName",f:_O},255:{}},RO={0:{n:"PtgAttrNoop",f:AO},1:{n:"PtgAttrSemi",f:BF},2:{n:"PtgAttrIf",f:LF},4:{n:"PtgAttrChoose",f:OF},8:{n:"PtgAttrGoto",f:MF},16:{n:"PtgAttrSum",f:GF},32:{n:"PtgAttrBaxcel",f:y2},33:{n:"PtgAttrBaxcel",f:y2},64:{n:"PtgAttrSpace",f:UF},65:{n:"PtgAttrSpaceSemi",f:zF},128:{n:"PtgAttrIfError",f:IF},255:{}};function FO(t,e,r,n){if(n.biff<8)return ma(t,e);for(var s=t.l+e,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=nO(t,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=rO(t,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=s-t.l,e!==0&&i.push(ma(t,e)),i}function OO(t,e,r){for(var n=t.l+e,s,i,o=[];n!=t.l;)e=n-t.l,i=t[t.l],s=v2[i]||v2[PO[i]],(i===24||i===25)&&(s=(i===24?DO:RO)[t[t.l+1]]),!s||!s.f?ma(t,e):o.push([s.n,s.f(t,e,r)]);return o}function MO(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],s=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var LO={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function IO(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function US(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(t[n[0]][0]){case 357:return s=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(s=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function b2(t,e,r){var n=US(t,e,r);return n=="#REF"?n:IO(n,r)}function Fl(t,e,r,n,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},c=[],u,h,f,p=0,g=0,x,w="";if(!t[0]||!t[0][0])return"";for(var b=-1,v="",_=0,T=t[0].length;_<T;++_){var C=t[0][_];switch(C[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),h=c.pop(),b>=0){switch(t[0][b][1][0]){case 0:v=br(" ",t[0][b][1][1]);break;case 1:v=br("\r",t[0][b][1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}h=h+v,b=-1}c.push(h+LO[C[0]]+u);break;case"PtgIsect":u=c.pop(),h=c.pop(),c.push(h+" "+u);break;case"PtgUnion":u=c.pop(),h=c.pop(),c.push(h+","+u);break;case"PtgRange":u=c.pop(),h=c.pop(),c.push(h+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=id(C[1][1],o,s),c.push(od(f,i));break;case"PtgRefN":f=r?id(C[1][1],r,s):C[1][1],c.push(od(f,i));break;case"PtgRef3d":p=C[1][1],f=id(C[1][2],o,s),w=b2(n,p,s),c.push(w+"!"+od(f,i));break;case"PtgFunc":case"PtgFuncVar":var R=C[1][0],j=C[1][1];R||(R=0),R&=127;var O=R==0?[]:c.slice(-R);c.length-=R,j==="User"&&(j=O.shift()),c.push(j+"("+O.join(",")+")");break;case"PtgBool":c.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(C[1]);break;case"PtgNum":c.push(String(C[1]));break;case"PtgStr":c.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(C[1]);break;case"PtgAreaN":x=s2(C[1][1],r?{s:r}:o,s),c.push(cp(x,s));break;case"PtgArea":x=s2(C[1][1],o,s),c.push(cp(x,s));break;case"PtgArea3d":p=C[1][1],x=C[1][2],w=b2(n,p,s),c.push(w+"!"+cp(x,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=C[1][2];var S=(n.names||[])[g-1]||(n[0]||[])[g],P=S?S.Name:"SH33TJSNAME"+String(g);P&&P.slice(0,6)=="_xlfn."&&!s.xlfn&&(P=P.slice(6)),c.push(P);break;case"PtgNameX":var B=C[1][1];g=C[1][2];var ae;if(s.biff<=5)B<0&&(B=-B),n[B]&&(ae=n[B][g]);else{var q="";if(((n[B]||[])[0]||[])[0]==14849||(((n[B]||[])[0]||[])[0]==1025?n[B][g]&&n[B][g].itab>0&&(q=n.SheetNames[n[B][g].itab-1]+"!"):q=n.SheetNames[g-1]+"!"),n[B]&&n[B][g])q+=n[B][g].Name;else if(n[0]&&n[0][g])q+=n[0][g].Name;else{var H=(US(n,B,s)||"").split(";;");H[g-1]?q=H[g-1]:q+="SH33TJSERRX"}c.push(q);break}ae||(ae={Name:"SH33TJSERRY"}),c.push(ae.Name);break;case"PtgParen":var ie="(",re=")";if(b>=0){switch(v="",t[0][b][1][0]){case 2:ie=br(" ",t[0][b][1][1])+ie;break;case 3:ie=br("\r",t[0][b][1][1])+ie;break;case 4:re=br(" ",t[0][b][1][1])+re;break;case 5:re=br("\r",t[0][b][1][1])+re;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}b=-1}c.push(ie+c.pop()+re);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":f={c:C[1][1],r:C[1][0]};var L={c:r.c,r:r.r};if(n.sharedf[qt(f)]){var ee=n.sharedf[qt(f)];c.push(Fl(ee,o,L,n,s))}else{var Q=!1;for(u=0;u!=n.arrayf.length;++u)if(h=n.arrayf[u],!(f.c<h[0].s.c||f.c>h[0].e.c)&&!(f.r<h[0].s.r||f.r>h[0].e.r)){c.push(Fl(h[1],o,L,n,s)),Q=!0;break}Q||c.push(C[1])}break;case"PtgArray":c.push("{"+MO(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&b>=0&&te.indexOf(t[0][_][0])==-1){C=t[0][b];var U=!0;switch(C[1][0]){case 4:U=!1;case 0:v=br(" ",C[1][1]);break;case 5:U=!1;case 1:v=br("\r",C[1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}c.push((U?v:"")+c.pop()+(U?"":v)),b=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function BO(t){if(t==null){var e=De(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Co(t);return Co(0)}function UO(t,e,r,n,s){var i=To(e,r,s),o=BO(t.v),c=De(6),u=33;c.write_shift(2,u),c.write_shift(4,0);for(var h=De(t.bf.length),f=0;f<t.bf.length;++f)h[f]=t.bf[f];var p=Qr([i,o,c,h]);return p}function lf(t,e,r){var n=t.read_shift(4),s=OO(t,n,r),i=t.read_shift(4),o=i>0?FO(t,i,s,r):null;return[s,o]}var zO=lf,cf=lf,VO=lf,$O=lf,HO={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},zS={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},WO={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function YO(t){var e="of:="+t.replace(_x,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function KO(t){return t.replace(/\./,"!")}var ld=typeof Map<"u";function Tx(t,e,r){var n=0,s=t.length;if(r){if(ld?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var i=ld?r.get(e):r[e];n<i.length;++n)if(t[i[n]].t===e)return t.Count++,i[n]}}else for(;n<s;++n)if(t[n].t===e)return t.Count++,n;return t[s]={t:e},t.Count++,t.Unique++,r&&(ld?(r.has(e)||r.set(e,[]),r.get(e).push(s)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(s))),s}function df(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Ra=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=bh(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=gg(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function VS(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Mi(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],s=60,i=t.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){LN(e.z,s),r.ssf[s]=e.z,r.revssf[e.z]=n=s;break}}for(s=0;s!=i;++s)if(t[s].numFmtId===n)return s;return t[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function GO(t,e,r){if(t&&t["!ref"]){var n=or(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function qO(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Pr(t[r])+'"/>';return e+"</mergeCells>"}function XO(t,e,r,n,s){var i=!1,o={},c=null;if(n.bookType!=="xlsx"&&e.vbaraw){var u=e.SheetNames[r];try{e.Workbook&&(u=e.Workbook.Sheets[r].CodeName||u)}catch{}i=!0,o.codeName=Cd(Gt(u))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),c=(c||"")+Ge("outlinePr",null,h)}!i&&!c||(s[s.length]=Ge("sheetPr",c,o))}var JO=["objects","scenarios","selectLockedCells","selectUnlockedCells"],QO=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ZO(t){var e={sheet:1};return JO.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),QO.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=_S(t.password).toString(16).toUpperCase()),Ge("sheetProtection",null,e)}function e7(t){return VS(t),Ge("pageMargins",null,t)}function t7(t,e){for(var r=["<cols>"],n,s=0;s!=e.length;++s)(n=e[s])&&(r[r.length]=Ge("col",null,df(s,n)));return r[r.length]="</cols>",r.join("")}function r7(t,e,r,n){var s=typeof t.ref=="string"?t.ref:Pr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=ss(s);o.s.r==o.e.r&&(o.e.r=ss(e["!ref"]).e.r,s=Pr(o));for(var c=0;c<i.length;++c){var u=i[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Ge("autoFilter",null,{ref:s})}function n7(t,e,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ge("sheetViews",Ge("sheetView",null,s),{})}function s7(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",i=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=eu[t.v];break;case"d":n&&n.cellDates?s=_n(t.v,-1).toISOString():(t=Vn(t),t.t="n",s=""+(t.v=zn(_n(t.v)))),typeof t.z>"u"&&(t.z=wr[14]);break;default:s=t.v;break}var c=Zr("v",Gt(s)),u={r:e},h=Mi(n.cellXfs,t,n);switch(h!==0&&(u.s=h),t.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){c=Zr("v",""+Tx(n.Strings,t.v,n.revStrings)),u.t="s";break}u.t="str";break}if(t.t!=i&&(t.t=i,t.v=o),typeof t.f=="string"&&t.f){var f=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;c=Ge("f",Gt(t.f),f)+(t.v!=null?c:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(u.cm=1),Ge("c",c,u)}function a7(t,e,r,n){var s=[],i=[],o=or(t["!ref"]),c="",u,h="",f=[],p=0,g=0,x=t["!rows"],w=Array.isArray(t),b={r:h},v,_=-1;for(g=o.s.c;g<=o.e.c;++g)f[g]=pn(g);for(p=o.s.r;p<=o.e.r;++p){for(i=[],h=tn(p),g=o.s.c;g<=o.e.c;++g){u=f[g]+h;var T=w?(t[p]||[])[g]:t[u];T!==void 0&&(c=s7(T,u,t,e))!=null&&i.push(c)}(i.length>0||x&&x[p])&&(b={r:h},x&&x[p]&&(v=x[p],v.hidden&&(b.hidden=1),_=-1,v.hpx?_=wh(v.hpx):v.hpt&&(_=v.hpt),_>-1&&(b.ht=_,b.customHeight=1),v.level&&(b.outlineLevel=v.level)),s[s.length]=Ge("row",i.join(""),b))}if(x)for(;p<x.length;++p)x&&x[p]&&(b={r:p+1},v=x[p],v.hidden&&(b.hidden=1),_=-1,v.hpx?_=wh(v.hpx):v.hpt&&(_=v.hpt),_>-1&&(b.ht=_,b.customHeight=1),v.level&&(b.outlineLevel=v.level),s[s.length]=Ge("row","",b));return s.join("")}function $S(t,e,r,n){var s=[Rr,Ge("worksheet",null,{xmlns:Wl[0],"xmlns:r":Vr.r})],i=r.SheetNames[t],o=0,c="",u=r.Sheets[i];u==null&&(u={});var h=u["!ref"]||"A1",f=or(h);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),h=Pr(f)}n||(n={}),u["!comments"]=[];var p=[];XO(u,r,t,e,s),s[s.length]=Ge("dimension",null,{ref:h}),s[s.length]=n7(u,e,t,r),e.sheetFormat&&(s[s.length]=Ge("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(s[s.length]=t7(u,u["!cols"])),s[o=s.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(c=a7(u,e),c.length>0&&(s[s.length]=c)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),u["!protect"]&&(s[s.length]=ZO(u["!protect"])),u["!autofilter"]!=null&&(s[s.length]=r7(u["!autofilter"],u,r,t)),u["!merges"]!=null&&u["!merges"].length>0&&(s[s.length]=qO(u["!merges"]));var g=-1,x,w=-1;return u["!links"].length>0&&(s[s.length]="<hyperlinks>",u["!links"].forEach(function(b){b[1].Target&&(x={ref:b[0]},b[1].Target.charAt(0)!="#"&&(w=Yt(n,-1,Gt(b[1].Target).replace(/#.*$/,""),It.HLINK),x["r:id"]="rId"+w),(g=b[1].Target.indexOf("#"))>-1&&(x.location=Gt(b[1].Target.slice(g+1))),b[1].Tooltip&&(x.tooltip=Gt(b[1].Tooltip)),s[s.length]=Ge("hyperlink",null,x))}),s[s.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(s[s.length]=e7(u["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=Zr("ignoredErrors",Ge("ignoredError",null,{numberStoredAsText:1,sqref:h}))),p.length>0&&(w=Yt(n,-1,"../drawings/drawing"+(t+1)+".xml",It.DRAW),s[s.length]=Ge("drawing",null,{"r:id":"rId"+w}),u["!drawing"]=p),u["!comments"].length>0&&(w=Yt(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",It.VML),s[s.length]=Ge("legacyDrawing",null,{"r:id":"rId"+w}),u["!legacy"]=w),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function i7(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function o7(t,e,r){var n=De(145),s=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var i=320;s.hpx?i=wh(s.hpx)*20:s.hpt&&(i=s.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var c=0,u=n.l;n.l+=4;for(var h={r:t,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var p=-1,g=-1,x=f<<10;x<f+1<<10;++x){h.c=x;var w=Array.isArray(r)?(r[h.r]||[])[h.c]:r[qt(h)];w&&(p<0&&(p=x),g=x)}p<0||(++c,n.write_shift(4,p),n.write_shift(4,g))}var b=n.l;return n.l=u,n.write_shift(4,c),n.l=b,n.length>n.l?n.slice(0,n.l):n}function l7(t,e,r,n){var s=o7(n,r,e);(s.length>17||(e["!rows"]||[])[n])&&Me(t,0,s)}var c7=Mo,d7=Kl;function u7(){}function h7(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=kD(t),r}function f7(t,e,r){r==null&&(r=De(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return xh({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),sS(t,r),r.slice(0,r.l)}function m7(t){var e=Cs(t);return[e]}function p7(t,e,r){return r==null&&(r=De(8)),Ro(e,r)}function g7(t){var e=Fo(t);return[e]}function x7(t,e,r){return r==null&&(r=De(4)),Oo(e,r)}function y7(t){var e=Cs(t),r=t.read_shift(1);return[e,r,"b"]}function v7(t,e,r){return r==null&&(r=De(9)),Ro(e,r),r.write_shift(1,t.v?1:0),r}function b7(t){var e=Fo(t),r=t.read_shift(1);return[e,r,"b"]}function w7(t,e,r){return r==null&&(r=De(5)),Oo(e,r),r.write_shift(1,t.v?1:0),r}function k7(t){var e=Cs(t),r=t.read_shift(1);return[e,r,"e"]}function N7(t,e,r){return r==null&&(r=De(9)),Ro(e,r),r.write_shift(1,t.v),r}function S7(t){var e=Fo(t),r=t.read_shift(1);return[e,r,"e"]}function _7(t,e,r){return r==null&&(r=De(8)),Oo(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function j7(t){var e=Cs(t),r=t.read_shift(4);return[e,r,"s"]}function C7(t,e,r){return r==null&&(r=De(12)),Ro(e,r),r.write_shift(4,e.v),r}function T7(t){var e=Fo(t),r=t.read_shift(4);return[e,r,"s"]}function E7(t,e,r){return r==null&&(r=De(8)),Oo(e,r),r.write_shift(4,e.v),r}function A7(t){var e=Cs(t),r=Gl(t);return[e,r,"n"]}function P7(t,e,r){return r==null&&(r=De(16)),Ro(e,r),Co(t.v,r),r}function D7(t){var e=Fo(t),r=Gl(t);return[e,r,"n"]}function R7(t,e,r){return r==null&&(r=De(12)),Oo(e,r),Co(t.v,r),r}function F7(t){var e=Cs(t),r=aS(t);return[e,r,"n"]}function O7(t,e,r){return r==null&&(r=De(12)),Ro(e,r),iS(t.v,r),r}function M7(t){var e=Fo(t),r=aS(t);return[e,r,"n"]}function L7(t,e,r){return r==null&&(r=De(8)),Oo(e,r),iS(t.v,r),r}function I7(t){var e=Cs(t),r=bx(t);return[e,r,"is"]}function B7(t){var e=Cs(t),r=gn(t);return[e,r,"str"]}function U7(t,e,r){return r==null&&(r=De(12+4*t.v.length)),Ro(e,r),Wr(t.v,r),r.length>r.l?r.slice(0,r.l):r}function z7(t){var e=Fo(t),r=gn(t);return[e,r,"str"]}function V7(t,e,r){return r==null&&(r=De(8+4*t.v.length)),Oo(e,r),Wr(t.v,r),r.length>r.l?r.slice(0,r.l):r}function $7(t,e,r){var n=t.l+e,s=Cs(t);s.r=r["!row"];var i=t.read_shift(1),o=[s,i,"b"];if(r.cellFormula){t.l+=2;var c=cf(t,n-t.l,r);o[3]=Fl(c,null,s,r.supbooks,r)}else t.l=n;return o}function H7(t,e,r){var n=t.l+e,s=Cs(t);s.r=r["!row"];var i=t.read_shift(1),o=[s,i,"e"];if(r.cellFormula){t.l+=2;var c=cf(t,n-t.l,r);o[3]=Fl(c,null,s,r.supbooks,r)}else t.l=n;return o}function W7(t,e,r){var n=t.l+e,s=Cs(t);s.r=r["!row"];var i=Gl(t),o=[s,i,"n"];if(r.cellFormula){t.l+=2;var c=cf(t,n-t.l,r);o[3]=Fl(c,null,s,r.supbooks,r)}else t.l=n;return o}function Y7(t,e,r){var n=t.l+e,s=Cs(t);s.r=r["!row"];var i=gn(t),o=[s,i,"str"];if(r.cellFormula){t.l+=2;var c=cf(t,n-t.l,r);o[3]=Fl(c,null,s,r.supbooks,r)}else t.l=n;return o}var K7=Mo,G7=Kl;function q7(t,e){return e==null&&(e=De(4)),e.write_shift(4,t),e}function X7(t,e){var r=t.l+e,n=Mo(t),s=wx(t),i=gn(t),o=gn(t),c=gn(t);t.l=r;var u={rfx:n,relId:s,loc:i,display:c};return o&&(u.Tooltip=o),u}function J7(t,e){var r=De(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Kl({s:Hr(t[0]),e:Hr(t[0])},r),kx("rId"+e,r);var n=t[1].Target.indexOf("#"),s=n==-1?"":t[1].Target.slice(n+1);return Wr(s||"",r),Wr(t[1].Tooltip||"",r),Wr("",r),r.slice(0,r.l)}function Q7(){}function Z7(t,e,r){var n=t.l+e,s=oS(t),i=t.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var c=zO(t,n-t.l,r);o[1]=c}else t.l=n;return o}function eM(t,e,r){var n=t.l+e,s=Mo(t),i=[s];if(r.cellFormula){var o=$O(t,n-t.l,r);i[1]=o,t.l=n}else t.l=n;return i}function tM(t,e,r){r==null&&(r=De(18));var n=df(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),r.write_shift(2,s),r}var HS=["left","right","top","bottom","header","footer"];function rM(t){var e={};return HS.forEach(function(r){e[r]=Gl(t)}),e}function nM(t,e){return e==null&&(e=De(6*8)),VS(t),HS.forEach(function(r){Co(t[r],e)}),e}function sM(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function aM(t,e,r){r==null&&(r=De(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function iM(t){var e=De(24);return e.write_shift(4,4),e.write_shift(4,1),Kl(t,e),e}function oM(t,e){return e==null&&(e=De(16*4+2)),e.write_shift(2,t.password?_S(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function lM(){}function cM(){}function dM(t,e,r,n,s,i,o){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=Vn(e),e.z=e.z||wr[14],e.v=zn(_n(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var u={r,c:n};switch(u.s=Mi(s.cellXfs,e,s),e.l&&i["!links"].push([qt(u),e.l]),e.c&&i["!comments"].push([qt(u),e.c]),e.t){case"s":case"str":return s.bookSST?(c=Tx(s.Strings,e.v,s.revStrings),u.t="s",u.v=c,o?Me(t,18,E7(e,u)):Me(t,7,C7(e,u))):(u.t="str",o?Me(t,17,V7(e,u)):Me(t,6,U7(e,u))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Me(t,13,L7(e,u)):Me(t,2,O7(e,u)):o?Me(t,16,R7(e,u)):Me(t,5,P7(e,u)),!0;case"b":return u.t="b",o?Me(t,15,w7(e,u)):Me(t,4,v7(e,u)),!0;case"e":return u.t="e",o?Me(t,14,_7(e,u)):Me(t,3,N7(e,u)),!0}return o?Me(t,12,x7(e,u)):Me(t,1,p7(e,u)),!0}function uM(t,e,r,n){var s=or(e["!ref"]||"A1"),i,o="",c=[];Me(t,145);var u=Array.isArray(e),h=s.e.r;e["!rows"]&&(h=Math.max(s.e.r,e["!rows"].length-1));for(var f=s.s.r;f<=h;++f){o=tn(f),l7(t,e,s,f);var p=!1;if(f<=s.e.r)for(var g=s.s.c;g<=s.e.c;++g){f===s.s.r&&(c[g]=pn(g)),i=c[g]+o;var x=u?(e[f]||[])[g]:e[i];if(!x){p=!1;continue}p=dM(t,x,f,g,n,e,p)}}Me(t,146)}function hM(t,e){!e||!e["!merges"]||(Me(t,177,q7(e["!merges"].length)),e["!merges"].forEach(function(r){Me(t,176,G7(r))}),Me(t,178))}function fM(t,e){!e||!e["!cols"]||(Me(t,390),e["!cols"].forEach(function(r,n){r&&Me(t,60,tM(n,r))}),Me(t,391))}function mM(t,e){!e||!e["!ref"]||(Me(t,648),Me(t,649,iM(or(e["!ref"]))),Me(t,650))}function pM(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var s=Yt(r,-1,n[1].Target.replace(/#.*$/,""),It.HLINK);Me(t,494,J7(n,s))}}),delete e["!links"]}function gM(t,e,r,n){if(e["!comments"].length>0){var s=Yt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",It.VML);Me(t,551,kx("rId"+s)),e["!legacy"]=s}}function xM(t,e,r,n){if(e["!autofilter"]){var s=e["!autofilter"],i=typeof s.ref=="string"?s.ref:Pr(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,c=ss(i);c.s.r==c.e.r&&(c.e.r=ss(e["!ref"]).e.r,i=Pr(c));for(var u=0;u<o.length;++u){var h=o[u];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+r.SheetNames[n]+"'!"+i;break}}u==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Me(t,161,Kl(or(i))),Me(t,162)}}function yM(t,e,r){Me(t,133),Me(t,137,aM(e,r)),Me(t,138),Me(t,134)}function vM(t,e){e["!protect"]&&Me(t,535,oM(e["!protect"]))}function bM(t,e,r,n){var s=Un(),i=r.SheetNames[t],o=r.Sheets[i]||{},c=i;try{r&&r.Workbook&&(c=r.Workbook.Sheets[t].CodeName||c)}catch{}var u=or(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Me(s,129),(r.vbaraw||o["!outline"])&&Me(s,147,f7(c,o["!outline"])),Me(s,148,d7(u)),yM(s,o,r.Workbook),fM(s,o),uM(s,o,t,e),vM(s,o),xM(s,o,r,t),hM(s,o),pM(s,o,n),o["!margins"]&&Me(s,476,nM(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&mM(s,o),gM(s,o,t,n),Me(s,130),s.end()}function wM(t,e){t.l+=10;var r=gn(t);return{name:r}}var kM=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function NM(t){return!t.Workbook||!t.Workbook.WBProps?"false":eD(t.Workbook.WBProps.date1904)?"true":"false"}var SM="][*?/\\".split("");function WS(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return SM.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function _M(t,e,r){t.forEach(function(n,s){WS(n);for(var i=0;i<s;++i)if(n==t[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=e&&e[s]&&e[s].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function jM(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];_M(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)GO(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function YS(t){var e=[Rr];e[e.length]=Ge("workbook",null,{xmlns:Wl[0],"xmlns:r":Vr.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(kM.forEach(function(c){t.Workbook.WBProps[c[0]]!=null&&t.Workbook.WBProps[c[0]]!=c[1]&&(n[c[0]]=t.Workbook.WBProps[c[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Ge("workbookPr",null,n);var s=t.Workbook&&t.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var o={name:Gt(t.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Ge("sheet",null,o)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(c){var u={name:c.Name};c.Comment&&(u.comment=c.Comment),c.Sheet!=null&&(u.localSheetId=""+c.Sheet),c.Hidden&&(u.hidden="1"),c.Ref&&(e[e.length]=Ge("definedName",Gt(c.Ref),u))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function CM(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=pg(t),r.name=gn(t),r}function TM(t,e){return e||(e=De(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),kx(t.strRelID,e),Wr(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function EM(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var s=e>8?gn(t):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function AM(t,e){e||(e=De(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),sS(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function PM(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),i=ND(t),o=VO(t,0,r),c=wx(t);t.l=n;var u={Name:i,Ptg:o};return s<268435455&&(u.Sheet=s),c&&(u.Comment=c),u}function DM(t,e){Me(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Me(t,156,TM(s))}Me(t,144)}function RM(t,e){e||(e=De(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Wr("SheetJS",e),Wr(dh.version,e),Wr(dh.version,e),Wr("7262",e),e.length>e.l?e.slice(0,e.l):e}function FM(t,e){e||(e=De(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function OM(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,s=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&i==-1&&(i=n);i>s||(Me(t,135),Me(t,158,FM(s)),Me(t,136))}}function MM(t,e){var r=Un();return Me(r,131),Me(r,128,RM()),Me(r,153,AM(t.Workbook&&t.Workbook.WBProps||null)),OM(r,t),DM(r,t),Me(r,132),r.end()}function LM(t,e,r){return(e.slice(-4)===".bin"?MM:YS)(t)}function IM(t,e,r,n,s){return(e.slice(-4)===".bin"?bM:$S)(t,r,n,s)}function BM(t,e,r){return(e.slice(-4)===".bin"?nF:TS)(t,r)}function UM(t,e,r){return(e.slice(-4)===".bin"?AR:SS)(t,r)}function zM(t,e,r){return(e.slice(-4)===".bin"?vF:RS)(t)}function VM(t){return(t.slice(-4)===".bin"?uF:PS)()}function $M(t,e){var r=[];return t.Props&&r.push(BD(t.Props,e)),t.Custprops&&r.push(UD(t.Props,t.Custprops)),r.join("")}function HM(){return""}function WM(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,s){var i=[];i.push(Ge("NumberFormat",null,{"ss:Format":Gt(wr[n.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(Ge("Style",i.join(""),o))}),Ge("Styles",r.join(""))}function KS(t){return Ge("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+jx(t.Ref,{r:0,c:0})})}function YM(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var s=e[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(KS(s)))}return Ge("Names",r.join(""))}function KM(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,i=[],o=0;o<s.length;++o){var c=s[o];c.Sheet==r&&(c.Name.match(/^_xlfn\./)||i.push(KS(c)))}return i.join("")}function GM(t,e,r,n){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(Ge("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(Ge("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(Ge("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(Ge("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(Zr("ProtectContents","True")),t["!protect"].objects&&s.push(Zr("ProtectObjects","True")),t["!protect"].scenarios&&s.push(Zr("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(Zr("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(Zr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":Ge("WorksheetOptions",s.join(""),{xmlns:rs.x})}function qM(t){return t.map(function(e){var r=ZP(e.t||""),n=Ge("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ge("Comment",n,{"ss:Author":e.a})}).join("")}function XM(t,e,r,n,s,i,o){if(!t||t.v==null&&t.f==null)return"";var c={};if(t.f&&(c["ss:Formula"]="="+Gt(jx(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var u=Hr(t.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(u.r==o.r?"":"["+(u.r-o.r)+"]")+"C"+(u.c==o.c?"":"["+(u.c-o.c)+"]")}if(t.l&&t.l.Target&&(c["ss:HRef"]=Gt(t.l.Target),t.l.Tooltip&&(c["x:HRefScreenTip"]=Gt(t.l.Tooltip))),r["!merges"])for(var h=r["!merges"],f=0;f!=h.length;++f)h[f].s.c!=o.c||h[f].s.r!=o.r||(h[f].e.c>h[f].s.c&&(c["ss:MergeAcross"]=h[f].e.c-h[f].s.c),h[f].e.r>h[f].s.r&&(c["ss:MergeDown"]=h[f].e.r-h[f].s.r));var p="",g="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(t.v);break;case"b":p="Boolean",g=t.v?"1":"0";break;case"e":p="Error",g=eu[t.v];break;case"d":p="DateTime",g=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||wr[14]);break;case"s":p="String",g=QP(t.v||"");break}var x=Mi(n.cellXfs,t,n);c["ss:StyleID"]="s"+(21+x),c["ss:Index"]=o.c+1;var w=t.v!=null?g:"",b=t.t=="z"?"":'<Data ss:Type="'+p+'">'+w+"</Data>";return(t.c||[]).length>0&&(b+=qM(t.c)),Ge("Cell",b,c)}function JM(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=CS(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function QM(t,e,r,n){if(!t["!ref"])return"";var s=or(t["!ref"]),i=t["!merges"]||[],o=0,c=[];t["!cols"]&&t["!cols"].forEach(function(v,_){Sx(v);var T=!!v.width,C=df(_,v),R={"ss:Index":_+1};T&&(R["ss:Width"]=vh(C.width)),v.hidden&&(R["ss:Hidden"]="1"),c.push(Ge("Column",null,R))});for(var u=Array.isArray(t),h=s.s.r;h<=s.e.r;++h){for(var f=[JM(h,(t["!rows"]||[])[h])],p=s.s.c;p<=s.e.c;++p){var g=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>p)&&!(i[o].s.r>h)&&!(i[o].e.c<p)&&!(i[o].e.r<h)){(i[o].s.c!=p||i[o].s.r!=h)&&(g=!0);break}if(!g){var x={r:h,c:p},w=qt(x),b=u?(t[h]||[])[p]:t[w];f.push(XM(b,w,t,e,r,n,x))}}f.push("</Row>"),f.length>2&&c.push(f.join(""))}return c.join("")}function ZM(t,e,r){var n=[],s=r.SheetNames[t],i=r.Sheets[s],o=i?KM(i,e,t,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?QM(i,e,t,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(GM(i,e,t,r)),n.join("")}function eL(t,e){e||(e={}),t.SSF||(t.SSF=Vn(wr)),t.SSF&&(sf(),nf(t.SSF),e.revssf=af(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Mi(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push($M(t,e)),r.push(HM()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Ge("Worksheet",ZM(n,e,t),{"ss:Name":Gt(t.SheetNames[n])}));return r[2]=WM(t,e),r[3]=YM(t),Rr+Ge("Workbook",r.join(""),{xmlns:rs.ss,"xmlns:o":rs.o,"xmlns:x":rs.x,"xmlns:ss":rs.ss,"xmlns:dt":rs.dt,"xmlns:html":rs.html})}var hp={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function tL(t,e){var r=[],n=[],s=[],i=0,o,c=Kb(i2,"n"),u=Kb(o2,"n");if(t.Props)for(o=nn(t.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(c,o[i])?r:Object.prototype.hasOwnProperty.call(u,o[i])?n:s).push([o[i],t.Props[o[i]]]);if(t.Custprops)for(o=nn(t.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(c,o[i])?r:Object.prototype.hasOwnProperty.call(u,o[i])?n:s).push([o[i],t.Custprops[o[i]]]);var h=[];for(i=0;i<s.length;++i)xS.indexOf(s[i][0])>-1||mS.indexOf(s[i][0])>-1||s[i][1]!=null&&h.push(s[i]);n.length&&Jt.utils.cfb_add(e,"/SummaryInformation",h2(n,hp.SI,u,o2)),(r.length||h.length)&&Jt.utils.cfb_add(e,"/DocumentSummaryInformation",h2(r,hp.DSI,c,i2,h.length?h:null,hp.UDI))}function rL(t,e){var r=e||{},n=Jt.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Jt.utils.cfb_add(n,s,GS(t,r)),r.biff==8&&(t.Props||t.Custprops)&&tL(t,n),r.biff==8&&t.vbaraw&&bF(n,Jt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var nL={0:{f:i7},1:{f:m7},2:{f:F7},3:{f:k7},4:{f:y7},5:{f:A7},6:{f:B7},7:{f:j7},8:{f:Y7},9:{f:W7},10:{f:$7},11:{f:H7},12:{f:g7},13:{f:M7},14:{f:S7},15:{f:b7},16:{f:D7},17:{f:z7},18:{f:T7},19:{f:bx},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:PM},40:{},42:{},43:{f:BR},44:{f:LR},45:{f:VR},46:{f:HR},47:{f:$R},48:{},49:{f:gD},50:{},51:{f:iF},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:xR},62:{f:I7},63:{f:hF},64:{f:lM},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ma,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:sM},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:h7},148:{f:c7,p:16},151:{f:Q7},152:{},153:{f:EM},154:{},155:{},156:{f:CM},157:{},158:{},159:{T:1,f:CR},160:{T:-1},161:{T:1,f:Mo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:K7},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:sF},336:{T:-1},337:{f:cF,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:pg},357:{},358:{},359:{},360:{T:1},361:{},362:{f:uR},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Z7},427:{f:eM},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:rM},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:u7},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:X7},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:pg},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:xF},633:{T:1},634:{T:-1},635:{T:1,f:pF},636:{T:-1},637:{f:bD},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:wM},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:cM},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function qe(t,e,r,n){var s=e;if(!isNaN(s)){var i=n||(r||[]).length||0,o=t.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&xx(r)&&t.push(r)}}function sL(t,e,r,n){var s=(r||[]).length||0;if(s<=8224)return qe(t,e,r,s);var i=e;if(!isNaN(i)){for(var o=r.parts||[],c=0,u=0,h=0;h+(o[c]||8224)<=8224;)h+=o[c]||8224,c++;var f=t.next(4);for(f.write_shift(2,i),f.write_shift(2,h),t.push(r.slice(u,u+h)),u+=h;u<s;){for(f=t.next(4),f.write_shift(2,60),h=0;h+(o[c]||8224)<=8224;)h+=o[c]||8224,c++;f.write_shift(2,h),t.push(r.slice(u,u+h)),u+=h}}}function ru(t,e,r){return t||(t=De(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function aL(t,e,r,n){var s=De(9);return ru(s,t,e),vS(r,n||"b",s),s}function iL(t,e,r){var n=De(8+2*r.length);return ru(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function oL(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?zn(_n(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?qe(t,2,wR(r,n,s)):qe(t,3,bR(r,n,s));return;case"b":case"e":qe(t,5,aL(r,n,e.v,e.t));return;case"s":case"str":qe(t,4,iL(r,n,(e.v||"").slice(0,255)));return}qe(t,1,ru(null,r,n))}function lL(t,e,r,n){var s=Array.isArray(e),i=or(e["!ref"]||"A1"),o,c="",u=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Pr(i)}for(var h=i.s.r;h<=i.e.r;++h){c=tn(h);for(var f=i.s.c;f<=i.e.c;++f){h===i.s.r&&(u[f]=pn(f)),o=u[f]+c;var p=s?(e[h]||[])[f]:e[o];p&&oL(t,p,h,f)}}}function cL(t,e){for(var r=e||{},n=Un(),s=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return qe(n,r.biff==4?1033:r.biff==3?521:9,Nx(t,16,r)),lL(n,t.Sheets[t.SheetNames[s]],s,r),qe(n,10),n.end()}function dL(t,e,r){qe(t,49,nR({sz:12,name:"Arial"},r))}function uL(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&qe(t,1054,iR(s,e[s],r))})}function hL(t,e){var r=De(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),qe(t,2151,r),r=De(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),kS(or(e["!ref"]||"A1"),r),r.write_shift(4,4),qe(t,2152,r)}function fL(t,e){for(var r=0;r<16;++r)qe(t,224,m2({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){qe(t,224,m2(n,0,e))})}function mL(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];qe(t,440,mR(n)),n[1].Tooltip&&qe(t,2048,pR(n))}delete e["!links"]}function pL(t,e){if(e){var r=0;e.forEach(function(n,s){++r<=256&&n&&qe(t,125,yR(df(s,n),s))})}}function gL(t,e,r,n,s){var i=16+Mi(s.cellXfs,e,s);if(e.v==null&&!e.bf){qe(t,513,To(r,n,i));return}if(e.bf)qe(t,6,UO(e,r,n,s,i));else switch(e.t){case"d":case"n":var o=e.t=="d"?zn(_n(e.v)):e.v;qe(t,515,dR(r,n,o,i));break;case"b":case"e":qe(t,517,cR(r,n,e.v,i,s,e.t));break;case"s":case"str":if(s.bookSST){var c=Tx(s.Strings,e.v,s.revStrings);qe(t,253,sR(r,n,c,i))}else qe(t,516,aR(r,n,(e.v||"").slice(0,255),i,s));break;default:qe(t,513,To(r,n,i))}}function xL(t,e,r){var n=Un(),s=r.SheetNames[t],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},c=(o.Sheets||[])[t]||{},u=Array.isArray(i),h=e.biff==8,f,p="",g=[],x=or(i["!ref"]||"A1"),w=h?65536:16384;if(x.e.c>255||x.e.r>=w){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,w-1)}qe(n,2057,Nx(r,16,e)),qe(n,13,ws(1)),qe(n,12,ws(100)),qe(n,15,kn(!0)),qe(n,17,kn(!1)),qe(n,16,Co(.001)),qe(n,95,kn(!0)),qe(n,42,kn(!1)),qe(n,43,kn(!1)),qe(n,130,ws(1)),qe(n,128,lR()),qe(n,131,kn(!1)),qe(n,132,kn(!1)),h&&pL(n,i["!cols"]),qe(n,512,oR(x,e)),h&&(i["!links"]=[]);for(var b=x.s.r;b<=x.e.r;++b){p=tn(b);for(var v=x.s.c;v<=x.e.c;++v){b===x.s.r&&(g[v]=pn(v)),f=g[v]+p;var _=u?(i[b]||[])[v]:i[f];_&&(gL(n,_,b,v,e),h&&_.l&&i["!links"].push([f,_.l]))}}var T=c.CodeName||c.name||s;return h&&qe(n,574,rR((o.Views||[])[0])),h&&(i["!merges"]||[]).length&&qe(n,229,fR(i["!merges"])),h&&mL(n,i),qe(n,442,wS(T)),h&&hL(n,i),qe(n,10),n.end()}function yL(t,e,r){var n=Un(),s=(t||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},c=r.biff==8,u=r.biff==5;if(qe(n,2057,Nx(t,5,r)),r.bookType=="xla"&&qe(n,135),qe(n,225,c?ws(1200):null),qe(n,193,$D(2)),u&&qe(n,191),u&&qe(n,192),qe(n,226),qe(n,92,QD("SheetJS",r)),qe(n,66,ws(c?1200:1252)),c&&qe(n,353,ws(0)),c&&qe(n,448),qe(n,317,vR(t.SheetNames.length)),c&&t.vbaraw&&qe(n,211),c&&t.vbaraw){var h=o.CodeName||"ThisWorkbook";qe(n,442,wS(h))}qe(n,156,ws(17)),qe(n,25,kn(!1)),qe(n,18,kn(!1)),qe(n,19,ws(0)),c&&qe(n,431,kn(!1)),c&&qe(n,444,ws(0)),qe(n,61,tR()),qe(n,64,kn(!1)),qe(n,141,ws(0)),qe(n,34,kn(NM(t)=="true")),qe(n,14,kn(!0)),c&&qe(n,439,kn(!1)),qe(n,218,ws(0)),dL(n,t,r),uL(n,t.SSF,r),fL(n,r),c&&qe(n,352,kn(!1));var f=n.end(),p=Un();c&&qe(p,140,gR()),c&&r.Strings&&sL(p,252,eR(r.Strings)),qe(p,10);var g=p.end(),x=Un(),w=0,b=0;for(b=0;b<t.SheetNames.length;++b)w+=(c?12:11)+(c?2:1)*t.SheetNames[b].length;var v=f.length+w+g.length;for(b=0;b<t.SheetNames.length;++b){var _=i[b]||{};qe(x,133,ZD({pos:v,hs:_.Hidden||0,dt:0,name:t.SheetNames[b]},r)),v+=e[b].length}var T=x.end();if(w!=T.length)throw new Error("BS8 "+w+" != "+T.length);var C=[];return f.length&&C.push(f),T.length&&C.push(T),g.length&&C.push(g),Qr(C)}function vL(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Vn(wr)),t&&t.SSF&&(sf(),nf(t.SSF),r.revssf=af(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Ex(r),r.cellXfs=[],Mi(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)n[n.length]=xL(s,r,t);return n.unshift(yL(t,n,r)),Qr(n)}function GS(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var s=ss(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return vL(t,e);case 4:case 3:case 2:return cL(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function bL(t,e,r,n){for(var s=t["!merges"]||[],i=[],o=e.s.c;o<=e.e.c;++o){for(var c=0,u=0,h=0;h<s.length;++h)if(!(s[h].s.r>r||s[h].s.c>o)&&!(s[h].e.r<r||s[h].e.c<o)){if(s[h].s.r<r||s[h].s.c<o){c=-1;break}c=s[h].e.r-s[h].s.r+1,u=s[h].e.c-s[h].s.c+1;break}if(!(c<0)){var f=qt({r,c:o}),p=n.dense?(t[r]||[])[o]:t[f],g=p&&p.v!=null&&(p.h||JP(p.w||(La(p),p.w)||""))||"",x={};c>1&&(x.rowspan=c),u>1&&(x.colspan=u),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(x["data-t"]=p&&p.t||"z",p.v!=null&&(x["data-v"]=p.v),p.z!=null&&(x["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),x.id=(n.id||"sjs")+"-"+f,i.push(Ge("td",g,x))}}var w="<tr>";return w+i.join("")+"</tr>"}var wL='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',kL="</body></html>";function NL(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function qS(t,e){var r=e||{},n=r.header!=null?r.header:wL,s=r.footer!=null?r.footer:kL,i=[n],o=ss(t["!ref"]);r.dense=Array.isArray(t),i.push(NL(t,o,r));for(var c=o.s.r;c<=o.e.r;++c)i.push(bL(t,o,c,r));return i.push("</table>"+s),i.join("")}function XS(t,e,r){var n=r||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var o=typeof n.origin=="string"?Hr(n.origin):n.origin;s=o.r,i=o.c}var c=e.getElementsByTagName("tr"),u=Math.min(n.sheetRows||1e7,c.length),h={s:{r:0,c:0},e:{r:s,c:i}};if(t["!ref"]){var f=ss(t["!ref"]);h.s.r=Math.min(h.s.r,f.s.r),h.s.c=Math.min(h.s.c,f.s.c),h.e.r=Math.max(h.e.r,f.e.r),h.e.c=Math.max(h.e.c,f.e.c),s==-1&&(h.e.r=s=f.e.r+1)}var p=[],g=0,x=t["!rows"]||(t["!rows"]=[]),w=0,b=0,v=0,_=0,T=0,C=0;for(t["!cols"]||(t["!cols"]=[]);w<c.length&&b<u;++w){var R=c[w];if(w2(R)){if(n.display)continue;x[b]={hidden:!0}}var j=R.children;for(v=_=0;v<j.length;++v){var O=j[v];if(!(n.display&&w2(O))){var S=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):tD(O.innerHTML),P=O.getAttribute("data-z")||O.getAttribute("z");for(g=0;g<p.length;++g){var B=p[g];B.s.c==_+i&&B.s.r<b+s&&b+s<=B.e.r&&(_=B.e.c+1-i,g=-1)}C=+O.getAttribute("colspan")||1,((T=+O.getAttribute("rowspan")||1)>1||C>1)&&p.push({s:{r:b+s,c:_+i},e:{r:b+s+(T||1)-1,c:_+i+(C||1)-1}});var ae={t:"s",v:S},q=O.getAttribute("data-t")||O.getAttribute("t")||"";S!=null&&(S.length==0?ae.t=q||"z":n.raw||S.trim().length==0||q=="s"||(S==="TRUE"?ae={t:"b",v:!0}:S==="FALSE"?ae={t:"b",v:!1}:isNaN(Da(S))?isNaN(jd(S).getDate())||(ae={t:"d",v:_n(S)},n.cellDates||(ae={t:"n",v:zn(ae.v)}),ae.z=n.dateNF||wr[14]):ae={t:"n",v:Da(S)})),ae.z===void 0&&P!=null&&(ae.z=P);var H="",ie=O.getElementsByTagName("A");if(ie&&ie.length)for(var re=0;re<ie.length&&!(ie[re].hasAttribute("href")&&(H=ie[re].getAttribute("href"),H.charAt(0)!="#"));++re);H&&H.charAt(0)!="#"&&(ae.l={Target:H}),n.dense?(t[b+s]||(t[b+s]=[]),t[b+s][_+i]=ae):t[qt({c:_+i,r:b+s})]=ae,h.e.c<_+i&&(h.e.c=_+i),_+=C}}++b}return p.length&&(t["!merges"]=(t["!merges"]||[]).concat(p)),h.e.r=Math.max(h.e.r,b-1+s),t["!ref"]=Pr(h),b>=u&&(t["!fullref"]=Pr((h.e.r=c.length-w+b-1+s,h))),t}function JS(t,e){var r=e||{},n=r.dense?[]:{};return XS(n,t,e)}function SL(t,e){return Do(JS(t,e),e)}function w2(t){var e="",r=_L(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function _L(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var jL=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Td({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Rr+e}}(),k2=function(){var t=function(i){return Gt(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,c){var u=[];u.push('      <table:table table:name="'+Gt(o.SheetNames[c])+`" table:style-name="ta1">
`);var h=0,f=0,p=ss(i["!ref"]||"A1"),g=i["!merges"]||[],x=0,w=Array.isArray(i);if(i["!cols"])for(f=0;f<=p.e.c;++f)u.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var b="",v=i["!rows"]||[];for(h=0;h<p.s.r;++h)b=v[h]?' table:style-name="ro'+v[h].ods+'"':"",u.push("        <table:table-row"+b+`></table:table-row>
`);for(;h<=p.e.r;++h){for(b=v[h]?' table:style-name="ro'+v[h].ods+'"':"",u.push("        <table:table-row"+b+`>
`),f=0;f<p.s.c;++f)u.push(e);for(;f<=p.e.c;++f){var _=!1,T={},C="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>f)&&!(g[x].s.r>h)&&!(g[x].e.c<f)&&!(g[x].e.r<h)){(g[x].s.c!=f||g[x].s.r!=h)&&(_=!0),T["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,T["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(_){u.push(r);continue}var R=qt({r:h,c:f}),j=w?(i[h]||[])[f]:i[R];if(j&&j.f&&(T["table:formula"]=Gt(YO(j.f)),j.F&&j.F.slice(0,R.length)==R)){var O=ss(j.F);T["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,T["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!j){u.push(e);continue}switch(j.t){case"b":C=j.v?"TRUE":"FALSE",T["office:value-type"]="boolean",T["office:boolean-value"]=j.v?"true":"false";break;case"n":C=j.w||String(j.v||0),T["office:value-type"]="float",T["office:value"]=j.v||0;break;case"s":case"str":C=j.v==null?"":j.v,T["office:value-type"]="string";break;case"d":C=j.w||_n(j.v).toISOString(),T["office:value-type"]="date",T["office:date-value"]=_n(j.v).toISOString(),T["table:style-name"]="ce1";break;default:u.push(e);continue}var S=t(C);if(j.l&&j.l.Target){var P=j.l.Target;P=P.charAt(0)=="#"?"#"+KO(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),S=Ge("text:a",S,{"xlink:href":P.replace(/&/g,"&amp;")})}u.push("          "+Ge("table:table-cell",Ge("text:p",S,{}),T)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var c=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var f=0;f<h["!cols"].length;++f)if(h["!cols"][f]){var p=h["!cols"][f];if(p.width==null&&p.wpx==null&&p.wch==null)continue;Sx(p),p.ods=c;var g=h["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++c}}});var u=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var f=0;f<h["!rows"].length;++f)if(h["!rows"][f]){h["!rows"][f].ods=u;var p=h["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,c){var u=[Rr],h=Td({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Td({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(u.push("<office:document"+h+f+`>
`),u.push(hS().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+h+`>
`),s(u,o),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var p=0;p!=o.SheetNames.length;++p)u.push(n(o.Sheets[o.SheetNames[p]],o,p));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),c.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function QS(t,e){if(e.bookType=="fods")return k2(t,e);var r=fx(),n="",s=[],i=[];return n="mimetype",jt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",jt(r,n,k2(t,e)),s.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",jt(r,n,jL(t,e)),s.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",jt(r,n,Rr+hS()),s.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",jt(r,n,ID(i)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",jt(r,n,MD(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function kh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function CL(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):$s(Cd(t))}function TL(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Ci(t){var e=t.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(s){r.set(s,n),n+=s.length}),r}function EL(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var i=0;s>=1;++i,s/=256)t[e+i]=s&255;t[e+15]|=r>=0?0:128}function Ed(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Ht(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function Pl(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Ir(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],s=Ed(t,r),i=s&7;s=Math.floor(s/8);var o=0,c;if(s==0)break;switch(i){case 0:{for(var u=r[0];t[r[0]++]>=128;);c=t.slice(u,r[0])}break;case 5:o=4,c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Ed(t,r),c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var h={data:c,type:i};e[s]==null?e[s]=[h]:e[s].push(h)}return e}function qr(t){var e=[];return t.forEach(function(r,n){r.forEach(function(s){s.data&&(e.push(Ht(n*8+s.type)),s.type==2&&e.push(Ht(s.data.length)),e.push(s.data))})}),Ci(e)}function Is(t){for(var e,r=[],n=[0];n[0]<t.length;){var s=Ed(t,n),i=Ir(t.slice(n[0],n[0]+s));n[0]+=s;var o={id:Pl(i[1][0].data),messages:[]};i[2].forEach(function(c){var u=Ir(c.data),h=Pl(u[3][0].data);o.messages.push({meta:u,data:t.slice(n[0],n[0]+h)}),n[0]+=h}),(e=i[3])!=null&&e[0]&&(o.merge=Pl(i[3][0].data)>>>0>0),r.push(o)}return r}function hl(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Ht(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ht(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:Ht(o.data.length)}],n[2].push({data:qr(o.meta),type:2})});var i=qr(n);e.push(Ht(i.length)),e.push(i),s.forEach(function(o){return e.push(o)})}),Ci(e)}function AL(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Ed(e,r),s=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var c=o-59;o=e[r[0]],c>1&&(o|=e[r[0]+1]<<8),c>2&&(o|=e[r[0]+2]<<16),c>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=c}s.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var u=0,h=0;if(i==1?(h=(e[r[0]]>>2&7)+4,u=(e[r[0]++]&224)<<3,u|=e[r[0]++]):(h=(e[r[0]++]>>2)+1,i==2?(u=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(u=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Ci(s)],u==0)throw new Error("Invalid offset 0");if(u>s[0].length)throw new Error("Invalid offset beyond length");if(h>=u)for(s.push(s[0].slice(-u)),h-=u;h>=s[s.length-1].length;)s.push(s[s.length-1]),h-=s[s.length-1].length;s.push(s[0].slice(-u,-u+h))}}var f=Ci(s);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function Bs(t){for(var e=[],r=0;r<t.length;){var n=t[r++],s=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(AL(n,t.slice(r,r+s))),r+=s}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Ci(e)}function fl(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),s=new Uint8Array(4);e.push(s);var i=Ht(n),o=i.length;e.push(i),n<=60?(o++,e.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),o+=n,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=n}return Ci(e)}function fp(t,e){var r=new Uint8Array(32),n=kh(r),s=12,i=0;switch(r[0]=5,t.t){case"n":r[1]=2,EL(r,s,t.v),i|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,t.v?1:0,!0),i|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(s,e.indexOf(t.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,i,!0),r.slice(0,s)}function mp(t,e){var r=new Uint8Array(32),n=kh(r),s=12,i=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(s,t.v,!0),i|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,t.v?1:0,!0),i|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(s,e.indexOf(t.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,i,!0),r.slice(0,s)}function oi(t){var e=Ir(t);return Ed(e[1][0].data)}function PL(t,e,r){var n,s,i,o;if(!((n=t[6])!=null&&n[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var c=((o=(i=t[8])==null?void 0:i[0])==null?void 0:o.data)&&Pl(t[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var u=0,h=kh(t[7][0].data),f=0,p=[],g=kh(t[4][0].data),x=0,w=[],b=0;b<e.length;++b){if(e[b]==null){h.setUint16(b*2,65535,!0),g.setUint16(b*2,65535);continue}h.setUint16(b*2,f,!0),g.setUint16(b*2,x,!0);var v,_;switch(typeof e[b]){case"string":v=fp({t:"s",v:e[b]},r),_=mp({t:"s",v:e[b]},r);break;case"number":v=fp({t:"n",v:e[b]},r),_=mp({t:"n",v:e[b]},r);break;case"boolean":v=fp({t:"b",v:e[b]},r),_=mp({t:"b",v:e[b]},r);break;default:throw new Error("Unsupported value "+e[b])}p.push(v),f+=v.length,w.push(_),x+=_.length,++u}for(t[2][0].data=Ht(u);b<t[7][0].data.length/2;++b)h.setUint16(b*2,65535,!0),g.setUint16(b*2,65535,!0);return t[6][0].data=Ci(p),t[3][0].data=Ci(w),u}function DL(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ss(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Pr(n)));var i=Nh(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(W){return W.forEach(function(K){typeof K=="string"&&o.push(K)})});var c={},u=[],h=Jt.read(e.numbers,{type:"base64"});h.FileIndex.map(function(W,K){return[W,h.FullPaths[K]]}).forEach(function(W){var K=W[0],E=W[1];if(K.type==2&&K.name.match(/\.iwa/)){var ce=K.content,ne=Bs(ce),ue=Is(ne);ue.forEach(function(be){u.push(be.id),c[be.id]={deps:[],location:E,type:Pl(be.messages[0].meta[1][0].data)}})}}),u.sort(function(W,K){return W-K});var f=u.filter(function(W){return W>1}).map(function(W){return[W,Ht(W)]});h.FileIndex.map(function(W,K){return[W,h.FullPaths[K]]}).forEach(function(W){var K=W[0];if(W[1],!!K.name.match(/\.iwa/)){var E=Is(Bs(K.content));E.forEach(function(ce){ce.messages.forEach(function(ne){f.forEach(function(ue){ce.messages.some(function(be){return Pl(be.meta[1][0].data)!=11006&&TL(be.data,ue[1])})&&c[ue[0]].deps.push(ce.id)})})})}});for(var p=Jt.find(h,c[1].location),g=Is(Bs(p.content)),x,w=0;w<g.length;++w){var b=g[w];b.id==1&&(x=b)}var v=oi(Ir(x.messages[0].data)[1][0].data);for(p=Jt.find(h,c[v].location),g=Is(Bs(p.content)),w=0;w<g.length;++w)b=g[w],b.id==v&&(x=b);for(v=oi(Ir(x.messages[0].data)[2][0].data),p=Jt.find(h,c[v].location),g=Is(Bs(p.content)),w=0;w<g.length;++w)b=g[w],b.id==v&&(x=b);for(v=oi(Ir(x.messages[0].data)[2][0].data),p=Jt.find(h,c[v].location),g=Is(Bs(p.content)),w=0;w<g.length;++w)b=g[w],b.id==v&&(x=b);var _=Ir(x.messages[0].data);{_[6][0].data=Ht(n.e.r+1),_[7][0].data=Ht(n.e.c+1);var T=oi(_[46][0].data),C=Jt.find(h,c[T].location),R=Is(Bs(C.content));{for(var j=0;j<R.length&&R[j].id!=T;++j);if(R[j].id!=T)throw"Bad ColumnRowUIDMapArchive";var O=Ir(R[j].messages[0].data);O[1]=[],O[2]=[],O[3]=[];for(var S=0;S<=n.e.c;++S){var P=[];P[1]=P[2]=[{type:0,data:Ht(S+420690)}],O[1].push({type:2,data:qr(P)}),O[2].push({type:0,data:Ht(S)}),O[3].push({type:0,data:Ht(S)})}O[4]=[],O[5]=[],O[6]=[];for(var B=0;B<=n.e.r;++B)P=[],P[1]=P[2]=[{type:0,data:Ht(B+726270)}],O[4].push({type:2,data:qr(P)}),O[5].push({type:0,data:Ht(B)}),O[6].push({type:0,data:Ht(B)});R[j].messages[0].data=qr(O)}C.content=fl(hl(R)),C.size=C.content.length,delete _[46];var ae=Ir(_[4][0].data);{ae[7][0].data=Ht(n.e.r+1);var q=Ir(ae[1][0].data),H=oi(q[2][0].data);C=Jt.find(h,c[H].location),R=Is(Bs(C.content));{if(R[0].id!=H)throw"Bad HeaderStorageBucket";var ie=Ir(R[0].messages[0].data);for(B=0;B<i.length;++B){var re=Ir(ie[2][0].data);re[1][0].data=Ht(B),re[4][0].data=Ht(i[B].length),ie[2][B]={type:ie[2][0].type,data:qr(re)}}R[0].messages[0].data=qr(ie)}C.content=fl(hl(R)),C.size=C.content.length;var L=oi(ae[2][0].data);C=Jt.find(h,c[L].location),R=Is(Bs(C.content));{if(R[0].id!=L)throw"Bad HeaderStorageBucket";for(ie=Ir(R[0].messages[0].data),S=0;S<=n.e.c;++S)re=Ir(ie[2][0].data),re[1][0].data=Ht(S),re[4][0].data=Ht(n.e.r+1),ie[2][S]={type:ie[2][0].type,data:qr(re)};R[0].messages[0].data=qr(ie)}C.content=fl(hl(R)),C.size=C.content.length;var ee=oi(ae[4][0].data);(function(){for(var W=Jt.find(h,c[ee].location),K=Is(Bs(W.content)),E,ce=0;ce<K.length;++ce){var ne=K[ce];ne.id==ee&&(E=ne)}var ue=Ir(E.messages[0].data);{ue[3]=[];var be=[];o.forEach(function(We,Xe){be[1]=[{type:0,data:Ht(Xe)}],be[2]=[{type:0,data:Ht(1)}],be[3]=[{type:2,data:CL(We)}],ue[3].push({type:2,data:qr(be)})})}E.messages[0].data=qr(ue);var Ee=hl(K),Ke=fl(Ee);W.content=Ke,W.size=W.content.length})();var Q=Ir(ae[3][0].data);{var te=Q[1][0];delete Q[2];var U=Ir(te.data);{var Z=oi(U[2][0].data);(function(){for(var W=Jt.find(h,c[Z].location),K=Is(Bs(W.content)),E,ce=0;ce<K.length;++ce){var ne=K[ce];ne.id==Z&&(E=ne)}var ue=Ir(E.messages[0].data);{delete ue[6],delete Q[7];var be=new Uint8Array(ue[5][0].data);ue[5]=[];for(var Ee=0,Ke=0;Ke<=n.e.r;++Ke){var We=Ir(be);Ee+=PL(We,i[Ke],o),We[1][0].data=Ht(Ke),ue[5].push({data:qr(We),type:2})}ue[1]=[{type:0,data:Ht(n.e.c+1)}],ue[2]=[{type:0,data:Ht(n.e.r+1)}],ue[3]=[{type:0,data:Ht(Ee)}],ue[4]=[{type:0,data:Ht(n.e.r+1)}]}E.messages[0].data=qr(ue);var Xe=hl(K),He=fl(Xe);W.content=He,W.size=W.content.length})()}te.data=qr(U)}ae[3][0].data=qr(Q)}_[4][0].data=qr(ae)}x.messages[0].data=qr(_);var X=hl(g),M=fl(X);return p.content=M,p.size=p.content.length,h}function RL(t){return function(r){for(var n=0;n!=t.length;++n){var s=t[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function Ex(t){RL([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function FL(t,e){return e.bookType=="ods"?QS(t,e):e.bookType=="numbers"?DL(t,e):e.bookType=="xlsb"?OL(t,e):ML(t,e)}function OL(t,e){bl=1024,t&&!t.SSF&&(t.SSF=Vn(wr)),t&&t.SSF&&(sf(),nf(t.SSF),e.revssf=af(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ld?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=FS.indexOf(e.bookType)>-1,s=cS();Ex(e=e||{});var i=fx(),o="",c=0;if(e.cellXfs=[],Mi(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",jt(i,o,fS(t.Props,e)),s.coreprops.push(o),Yt(e.rels,2,o,It.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&u.push(t.SheetNames[h]);t.Props.SheetNames=u}for(t.Props.Worksheets=t.Props.SheetNames.length,jt(i,o,pS(t.Props)),s.extprops.push(o),Yt(e.rels,3,o,It.EXT_PROPS),t.Custprops!==t.Props&&nn(t.Custprops||{}).length>0&&(o="docProps/custom.xml",jt(i,o,gS(t.Custprops)),s.custprops.push(o),Yt(e.rels,4,o,It.CUST_PROPS)),c=1;c<=t.SheetNames.length;++c){var f={"!id":{}},p=t.Sheets[t.SheetNames[c-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+c+"."+r,jt(i,o,IM(c-1,o,e,t,f)),s.sheets.push(o),Yt(e.wbrels,-1,"worksheets/sheet"+c+"."+r,It.WS[0])}if(p){var x=p["!comments"],w=!1,b="";x&&x.length>0&&(b="xl/comments"+c+"."+r,jt(i,b,zM(x,b)),s.comments.push(b),Yt(f,-1,"../comments"+c+"."+r,It.CMNT),w=!0),p["!legacy"]&&w&&jt(i,"xl/drawings/vmlDrawing"+c+".vml",DS(c,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&jt(i,uS(o),El(f))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,jt(i,o,UM(e.Strings,o,e)),s.strs.push(o),Yt(e.wbrels,-1,"sharedStrings."+r,It.SST)),o="xl/workbook."+r,jt(i,o,LM(t,o)),s.workbooks.push(o),Yt(e.rels,1,o,It.WB),o="xl/theme/theme1.xml",jt(i,o,AS(t.Themes,e)),s.themes.push(o),Yt(e.wbrels,-1,"theme/theme1.xml",It.THEME),o="xl/styles."+r,jt(i,o,BM(t,o,e)),s.styles.push(o),Yt(e.wbrels,-1,"styles."+r,It.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",jt(i,o,t.vbaraw),s.vba.push(o),Yt(e.wbrels,-1,"vbaProject.bin",It.VBA)),o="xl/metadata."+r,jt(i,o,VM(o)),s.metadata.push(o),Yt(e.wbrels,-1,"metadata."+r,It.XLMETA),jt(i,"[Content_Types].xml",dS(s,e)),jt(i,"_rels/.rels",El(e.rels)),jt(i,"xl/_rels/workbook."+r+".rels",El(e.wbrels)),delete e.revssf,delete e.ssf,i}function ML(t,e){bl=1024,t&&!t.SSF&&(t.SSF=Vn(wr)),t&&t.SSF&&(sf(),nf(t.SSF),e.revssf=af(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ld?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=FS.indexOf(e.bookType)>-1,s=cS();Ex(e=e||{});var i=fx(),o="",c=0;if(e.cellXfs=[],Mi(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",jt(i,o,fS(t.Props,e)),s.coreprops.push(o),Yt(e.rels,2,o,It.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&u.push(t.SheetNames[h]);t.Props.SheetNames=u}t.Props.Worksheets=t.Props.SheetNames.length,jt(i,o,pS(t.Props)),s.extprops.push(o),Yt(e.rels,3,o,It.EXT_PROPS),t.Custprops!==t.Props&&nn(t.Custprops||{}).length>0&&(o="docProps/custom.xml",jt(i,o,gS(t.Custprops)),s.custprops.push(o),Yt(e.rels,4,o,It.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,c=1;c<=t.SheetNames.length;++c){var p={"!id":{}},g=t.Sheets[t.SheetNames[c-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:o="xl/worksheets/sheet"+c+"."+r,jt(i,o,$S(c-1,e,t,p)),s.sheets.push(o),Yt(e.wbrels,-1,"worksheets/sheet"+c+"."+r,It.WS[0])}if(g){var w=g["!comments"],b=!1,v="";if(w&&w.length>0){var _=!1;w.forEach(function(T){T[1].forEach(function(C){C.T==!0&&(_=!0)})}),_&&(v="xl/threadedComments/threadedComment"+c+"."+r,jt(i,v,fF(w,f,e)),s.threadedcomments.push(v),Yt(p,-1,"../threadedComments/threadedComment"+c+"."+r,It.TCMNT)),v="xl/comments"+c+"."+r,jt(i,v,RS(w)),s.comments.push(v),Yt(p,-1,"../comments"+c+"."+r,It.CMNT),b=!0}g["!legacy"]&&b&&jt(i,"xl/drawings/vmlDrawing"+c+".vml",DS(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&jt(i,uS(o),El(p))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,jt(i,o,SS(e.Strings,e)),s.strs.push(o),Yt(e.wbrels,-1,"sharedStrings."+r,It.SST)),o="xl/workbook."+r,jt(i,o,YS(t)),s.workbooks.push(o),Yt(e.rels,1,o,It.WB),o="xl/theme/theme1.xml",jt(i,o,AS(t.Themes,e)),s.themes.push(o),Yt(e.wbrels,-1,"theme/theme1.xml",It.THEME),o="xl/styles."+r,jt(i,o,TS(t,e)),s.styles.push(o),Yt(e.wbrels,-1,"styles."+r,It.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",jt(i,o,t.vbaraw),s.vba.push(o),Yt(e.wbrels,-1,"vbaProject.bin",It.VBA)),o="xl/metadata."+r,jt(i,o,PS()),s.metadata.push(o),Yt(e.wbrels,-1,"metadata."+r,It.XLMETA),f.length>1&&(o="xl/persons/person.xml",jt(i,o,mF(f)),s.people.push(o),Yt(e.wbrels,-1,"persons/person.xml",It.PEOPLE)),jt(i,"[Content_Types].xml",dS(s,e)),jt(i,"_rels/.rels",El(e.rels)),jt(i,"xl/_rels/workbook."+r+".rels",El(e.wbrels)),delete e.revssf,delete e.ssf,i}function LL(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Ma(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function ZS(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Qd(e.file,Jt.write(t,{type:zt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Jt.write(t,e)}function IL(t,e){var r=Vn(e||{}),n=FL(t,r);return BL(n,r)}function BL(t,e){var r={},n=zt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?Jt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(rf(s))}return e.password&&typeof encrypt_agile<"u"?ZS(encrypt_agile(s,e.password),e):e.type==="file"?Qd(e.file,s):e.type=="string"?sd(s):s}function UL(t,e){var r=e||{},n=rL(t,r);return ZS(n,r)}function ia(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return _d(Cd(n));case"binary":return Cd(n);case"string":return t;case"file":return Qd(e.file,n,"utf8");case"buffer":return zt?Ua(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):ia(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function zL(t,e){switch(e.type){case"base64":return _d(t);case"binary":return t;case"string":return t;case"file":return Qd(e.file,t,"binary");case"buffer":return zt?Ua(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function b0(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?_d(r):e.type=="string"?sd(r):r;case"file":return Qd(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function e_(t,e){pP(),jM(t);var r=Vn(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=e_(t,r);return r.type="array",rf(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=t.SheetNames.indexOf(r.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ia(eL(t,r),r);case"slk":case"sylk":return ia(NR.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"htm":case"html":return ia(qS(t.Sheets[t.SheetNames[s]],r),r);case"txt":return zL(t_(t.Sheets[t.SheetNames[s]],r),r);case"csv":return ia(Ax(t.Sheets[t.SheetNames[s]],r),r,"\uFEFF");case"dif":return ia(SR.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"dbf":return b0(kR.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"prn":return ia(_R.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"rtf":return ia(DR.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"eth":return ia(NS.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"fods":return ia(QS(t,r),r);case"wk1":return b0(p2.sheet_to_wk1(t.Sheets[t.SheetNames[s]],r),r);case"wk3":return b0(p2.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),b0(GS(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),UL(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return IL(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function VL(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function $L(t,e,r){var n={};return n.type="file",n.file=e,VL(n),e_(t,n)}function HL(t,e,r,n,s,i,o,c){var u=tn(r),h=c.defval,f=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),p=!0,g=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!o||t[r])for(var x=e.s.c;x<=e.e.c;++x){var w=o?t[r][x]:t[n[x]+u];if(w===void 0||w.t===void 0){if(h===void 0)continue;i[x]!=null&&(g[i[x]]=h);continue}var b=w.v;switch(w.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(i[x]!=null){if(b==null)if(w.t=="e"&&b===null)g[i[x]]=null;else if(h!==void 0)g[i[x]]=h;else if(f&&b===null)g[i[x]]=null;else continue;else g[i[x]]=f&&(w.t!=="n"||w.t==="n"&&c.rawNumbers!==!1)?b:La(w,b,c);b!=null&&(p=!1)}}return{row:g,isempty:p}}function Nh(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,i=[],o=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},f=h.range!=null?h.range:t["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof f){case"string":u=or(f);break;case"number":u=or(t["!ref"]),u.s.r=f;break;default:u=f}n>0&&(s=0);var p=tn(u.s.r),g=[],x=[],w=0,b=0,v=Array.isArray(t),_=u.s.r,T=0,C={};v&&!t[_]&&(t[_]=[]);var R=h.skipHidden&&t["!cols"]||[],j=h.skipHidden&&t["!rows"]||[];for(T=u.s.c;T<=u.e.c;++T)if(!(R[T]||{}).hidden)switch(g[T]=pn(T),r=v?t[_][T]:t[g[T]+p],n){case 1:i[T]=T-u.s.c;break;case 2:i[T]=g[T];break;case 3:i[T]=h.header[T-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=o=La(r,null,h),b=C[o]||0,!b)C[o]=1;else{do c=o+"_"+b++;while(C[c]);C[o]=b,C[c]=1}i[T]=c}for(_=u.s.r+s;_<=u.e.r;++_)if(!(j[_]||{}).hidden){var O=HL(t,u,_,g,n,i,v,h);(O.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(x[w++]=O.row)}return x.length=w,x}var N2=/"/g;function WL(t,e,r,n,s,i,o,c){for(var u=!0,h=[],f="",p=tn(r),g=e.s.c;g<=e.e.c;++g)if(n[g]){var x=c.dense?(t[r]||[])[g]:t[n[g]+p];if(x==null)f="";else if(x.v!=null){u=!1,f=""+(c.rawNumbers&&x.t=="n"?x.v:La(x,null,c));for(var w=0,b=0;w!==f.length;++w)if((b=f.charCodeAt(w))===s||b===i||b===34||c.forceQuotes){f='"'+f.replace(N2,'""')+'"';break}f=="ID"&&(f='"ID"')}else x.f!=null&&!x.F?(u=!1,f="="+x.f,f.indexOf(",")>=0&&(f='"'+f.replace(N2,'""')+'"')):f="";h.push(f)}return c.blankrows===!1&&u?null:h.join(o)}function Ax(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var s=or(t["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,u=c.charCodeAt(0),h=new RegExp((i=="|"?"\\|":i)+"+$"),f="",p=[];n.dense=Array.isArray(t);for(var g=n.skipHidden&&t["!cols"]||[],x=n.skipHidden&&t["!rows"]||[],w=s.s.c;w<=s.e.c;++w)(g[w]||{}).hidden||(p[w]=pn(w));for(var b=0,v=s.s.r;v<=s.e.r;++v)(x[v]||{}).hidden||(f=WL(t,s,v,p,o,u,i,n),f!=null&&(n.strip&&(f=f.replace(h,"")),(f||n.blankrows!==!1)&&r.push((b++?c:"")+f)));return delete n.dense,r.join("")}function t_(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Ax(t,e);return r}function YL(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var s=or(t["!ref"]),i="",o=[],c,u=[],h=Array.isArray(t);for(c=s.s.c;c<=s.e.c;++c)o[c]=pn(c);for(var f=s.s.r;f<=s.e.r;++f)for(i=tn(f),c=s.s.c;c<=s.e.c;++c)if(e=o[c]+i,r=h?(t[f]||[])[c]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}u[u.length]=e+"="+n}return u}function r_(t,e,r){var n=r||{},s=+!n.skipHeader,i=t||{},o=0,c=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var u=typeof n.origin=="string"?Hr(n.origin):n.origin;o=u.r,c=u.c}var h,f={s:{c:0,r:0},e:{c,r:o+e.length-1+s}};if(i["!ref"]){var p=or(i["!ref"]);f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),o==-1&&(o=p.e.r+1,f.e.r=o+e.length-1+s)}else o==-1&&(o=0,f.e.r=e.length-1+s);var g=n.header||[],x=0;e.forEach(function(b,v){nn(b).forEach(function(_){(x=g.indexOf(_))==-1&&(g[x=g.length]=_);var T=b[_],C="z",R="",j=qt({c:c+x,r:o+v+s});h=Ad(i,j),T&&typeof T=="object"&&!(T instanceof Date)?i[j]=T:(typeof T=="number"?C="n":typeof T=="boolean"?C="b":typeof T=="string"?C="s":T instanceof Date?(C="d",n.cellDates||(C="n",T=zn(T)),R=n.dateNF||wr[14]):T===null&&n.nullError&&(C="e",T=0),h?(h.t=C,h.v=T,delete h.w,delete h.R,R&&(h.z=R)):i[j]=h={t:C,v:T},R&&(h.z=R))})}),f.e.c=Math.max(f.e.c,c+g.length-1);var w=tn(o);if(s)for(x=0;x<g.length;++x)i[pn(x+c)+w]={t:"s",v:g[x]};return i["!ref"]=Pr(f),i}function KL(t,e){return r_(null,t,e)}function Ad(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Hr(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Ad(t,qt(e)):Ad(t,qt({r:e,c:r||0}))}function GL(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function qL(){return{SheetNames:[],Sheets:{}}}function XL(t,e,r,n){var s=1;if(!r)for(;s<=65535&&t.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&t.SheetNames.indexOf(r=o+s)!=-1;++s);}if(WS(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function JL(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=GL(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function QL(t,e){return t.z=e,t}function n_(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function ZL(t,e,r){return n_(t,"#"+e,r)}function e9(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function t9(t,e,r,n){for(var s=typeof e!="string"?e:or(e),i=typeof e=="string"?e:Pr(e),o=s.s.r;o<=s.e.r;++o)for(var c=s.s.c;c<=s.e.c;++c){var u=Ad(t,o,c);u.t="n",u.F=i,delete u.v,o==s.s.r&&c==s.s.c&&(u.f=r,n&&(u.D=!0))}return t}var pp={encode_col:pn,encode_row:tn,encode_cell:qt,encode_range:Pr,decode_col:vx,decode_row:yx,split_cell:pD,decode_cell:Hr,decode_range:ss,format_cell:La,sheet_add_aoa:nS,sheet_add_json:r_,sheet_add_dom:XS,aoa_to_sheet:Yl,json_to_sheet:KL,table_to_sheet:JS,table_to_book:SL,sheet_to_csv:Ax,sheet_to_txt:t_,sheet_to_json:Nh,sheet_to_html:qS,sheet_to_formulae:YL,sheet_to_row_object_array:Nh,sheet_get_cell:Ad,book_new:qL,book_append_sheet:XL,book_set_sheet_visibility:JL,cell_set_number_format:QL,cell_set_hyperlink:n_,cell_set_internal_link:ZL,cell_add_comment:e9,sheet_set_array_formula:t9,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function nu(t){return t+.5|0}const yi=(t,e,r)=>Math.max(Math.min(t,r),e);function Kc(t){return yi(nu(t*2.55),0,255)}function Si(t){return yi(nu(t*255),0,255)}function Aa(t){return yi(nu(t/2.55)/100,0,1)}function S2(t){return yi(nu(t*100),0,100)}const gs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xg=[..."0123456789ABCDEF"],r9=t=>xg[t&15],n9=t=>xg[(t&240)>>4]+xg[t&15],w0=t=>(t&240)>>4===(t&15),s9=t=>w0(t.r)&&w0(t.g)&&w0(t.b)&&w0(t.a);function a9(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&gs[t[1]]*17,g:255&gs[t[2]]*17,b:255&gs[t[3]]*17,a:e===5?gs[t[4]]*17:255}:(e===7||e===9)&&(r={r:gs[t[1]]<<4|gs[t[2]],g:gs[t[3]]<<4|gs[t[4]],b:gs[t[5]]<<4|gs[t[6]],a:e===9?gs[t[7]]<<4|gs[t[8]]:255})),r}const i9=(t,e)=>t<255?e(t):"";function o9(t){var e=s9(t)?r9:n9;return t?"#"+e(t.r)+e(t.g)+e(t.b)+i9(t.a,e):void 0}const l9=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function s_(t,e,r){const n=e*Math.min(r,1-r),s=(i,o=(i+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function c9(t,e,r){const n=(s,i=(s+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function d9(t,e,r){const n=s_(t,1,.5);let s;for(e+r>1&&(s=1/(e+r),e*=s,r*=s),s=0;s<3;s++)n[s]*=1-e-r,n[s]+=e;return n}function u9(t,e,r,n,s){return t===s?(e-r)/n+(e<r?6:0):e===s?(r-t)/n+2:(t-e)/n+4}function Px(t){const r=t.r/255,n=t.g/255,s=t.b/255,i=Math.max(r,n,s),o=Math.min(r,n,s),c=(i+o)/2;let u,h,f;return i!==o&&(f=i-o,h=c>.5?f/(2-i-o):f/(i+o),u=u9(r,n,s,f,i),u=u*60+.5),[u|0,h||0,c]}function Dx(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Si)}function Rx(t,e,r){return Dx(s_,t,e,r)}function h9(t,e,r){return Dx(d9,t,e,r)}function f9(t,e,r){return Dx(c9,t,e,r)}function a_(t){return(t%360+360)%360}function m9(t){const e=l9.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Kc(+e[5]):Si(+e[5]));const s=a_(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=h9(s,i,o):e[1]==="hsv"?n=f9(s,i,o):n=Rx(s,i,o),{r:n[0],g:n[1],b:n[2],a:r}}function p9(t,e){var r=Px(t);r[0]=a_(r[0]+e),r=Rx(r),t.r=r[0],t.g=r[1],t.b=r[2]}function g9(t){if(!t)return;const e=Px(t),r=e[0],n=S2(e[1]),s=S2(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${s}%, ${Aa(t.a)})`:`hsl(${r}, ${n}%, ${s}%)`}const _2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},j2={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function x9(){const t={},e=Object.keys(j2),r=Object.keys(_2);let n,s,i,o,c;for(n=0;n<e.length;n++){for(o=c=e[n],s=0;s<r.length;s++)i=r[s],c=c.replace(i,_2[i]);i=parseInt(j2[o],16),t[c]=[i>>16&255,i>>8&255,i&255]}return t}let k0;function y9(t){k0||(k0=x9(),k0.transparent=[0,0,0,0]);const e=k0[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const v9=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function b9(t){const e=v9.exec(t);let r=255,n,s,i;if(e){if(e[7]!==n){const o=+e[7];r=e[8]?Kc(o):yi(o*255,0,255)}return n=+e[1],s=+e[3],i=+e[5],n=255&(e[2]?Kc(n):yi(n,0,255)),s=255&(e[4]?Kc(s):yi(s,0,255)),i=255&(e[6]?Kc(i):yi(i,0,255)),{r:n,g:s,b:i,a:r}}}function w9(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Aa(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const gp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ml=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function k9(t,e,r){const n=ml(Aa(t.r)),s=ml(Aa(t.g)),i=ml(Aa(t.b));return{r:Si(gp(n+r*(ml(Aa(e.r))-n))),g:Si(gp(s+r*(ml(Aa(e.g))-s))),b:Si(gp(i+r*(ml(Aa(e.b))-i))),a:t.a+r*(e.a-t.a)}}function N0(t,e,r){if(t){let n=Px(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=Rx(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function i_(t,e){return t&&Object.assign(e||{},t)}function C2(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Si(t[3]))):(e=i_(t,{r:0,g:0,b:0,a:1}),e.a=Si(e.a)),e}function N9(t){return t.charAt(0)==="r"?b9(t):m9(t)}class Pd{constructor(e){if(e instanceof Pd)return e;const r=typeof e;let n;r==="object"?n=C2(e):r==="string"&&(n=a9(e)||y9(e)||N9(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=i_(this._rgb);return e&&(e.a=Aa(e.a)),e}set rgb(e){this._rgb=C2(e)}rgbString(){return this._valid?w9(this._rgb):void 0}hexString(){return this._valid?o9(this._rgb):void 0}hslString(){return this._valid?g9(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,s=e.rgb;let i;const o=r===i?.5:r,c=2*o-1,u=n.a-s.a,h=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;i=1-h,n.r=255&h*n.r+i*s.r+.5,n.g=255&h*n.g+i*s.g+.5,n.b=255&h*n.b+i*s.b+.5,n.a=o*n.a+(1-o)*s.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=k9(this._rgb,e._rgb,r)),this}clone(){return new Pd(this.rgb)}alpha(e){return this._rgb.a=Si(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=nu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return N0(this._rgb,2,e),this}darken(e){return N0(this._rgb,2,-e),this}saturate(e){return N0(this._rgb,1,e),this}desaturate(e){return N0(this._rgb,1,-e),this}rotate(e){return p9(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ca(){}const S9=(()=>{let t=0;return()=>t++})();function mr(t){return t==null}function $r(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Bt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function _s(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function na(t,e){return _s(t)?t:e}function Rt(t,e){return typeof t>"u"?e:t}const _9=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ir(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Kt(t,e,r,n){let s,i,o;if($r(t))for(i=t.length,s=0;s<i;s++)e.call(r,t[s],s);else if(Bt(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(r,t[o[s]],o[s])}function Sh(t,e){let r,n,s,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(s=t[r],i=e[r],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function _h(t){if($r(t))return t.map(_h);if(Bt(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let s=0;for(;s<n;++s)e[r[s]]=_h(t[r[s]]);return e}return t}function o_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function j9(t,e,r,n){if(!o_(t))return;const s=e[t],i=r[t];Bt(s)&&Bt(i)?Dd(s,i,n):e[t]=_h(i)}function Dd(t,e,r){const n=$r(e)?e:[e],s=n.length;if(!Bt(t))return t;r=r||{};const i=r.merger||j9;let o;for(let c=0;c<s;++c){if(o=n[c],!Bt(o))continue;const u=Object.keys(o);for(let h=0,f=u.length;h<f;++h)i(u[h],t,o,r)}return t}function cd(t,e){return Dd(t,e,{merger:C9})}function C9(t,e,r){if(!o_(t))return;const n=e[t],s=r[t];Bt(n)&&Bt(s)?cd(n,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=_h(s))}const T2={"":t=>t,x:t=>t.x,y:t=>t.y};function T9(t){const e=t.split("."),r=[];let n="";for(const s of e)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function E9(t){const e=T9(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function jh(t,e){return(T2[e]||(T2[e]=E9(e)))(t)}function Fx(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ch=t=>typeof t<"u",Ti=t=>typeof t=="function",E2=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function A9(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Dr=Math.PI,rn=2*Dr,P9=rn+Dr,Th=Number.POSITIVE_INFINITY,D9=Dr/180,en=Dr/2,ro=Dr/4,A2=Dr*2/3,l_=Math.log10,Ol=Math.sign;function dd(t,e,r){return Math.abs(t-e)<r}function P2(t){const e=Math.round(t);t=dd(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(l_(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function R9(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((s,i)=>s-i).pop(),e}function F9(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Eh(t){return!F9(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function O9(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function M9(t,e,r){let n,s,i;for(n=0,s=t.length;n<s;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function mo(t){return t*(Dr/180)}function L9(t){return t*(180/Dr)}function D2(t){if(!_s(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function c_(t,e){const r=e.x-t.x,n=e.y-t.y,s=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*Dr&&(i+=rn),{angle:i,distance:s}}function yg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function I9(t,e){return(t-e+P9)%rn-Dr}function di(t){return(t%rn+rn)%rn}function Ox(t,e,r,n){const s=di(t),i=di(e),o=di(r),c=di(i-s),u=di(o-s),h=di(s-i),f=di(s-o);return s===i||s===o||n&&i===o||c>u&&h<f}function Mn(t,e,r){return Math.max(e,Math.min(r,t))}function B9(t){return Mn(t,-32768,32767)}function vi(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function Mx(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,s=0,i;for(;n-s>1;)i=s+n>>1,r(i)?s=i:n=i;return{lo:s,hi:n}}const vg=(t,e,r,n)=>Mx(t,r,n?s=>{const i=t[s][e];return i<r||i===r&&t[s+1][e]===r}:s=>t[s][e]<r),U9=(t,e,r)=>Mx(t,r,n=>t[n][e]>=r);function z9(t,e,r){let n=0,s=t.length;for(;n<s&&t[n]<e;)n++;for(;s>n&&t[s-1]>r;)s--;return n>0||s<t.length?t.slice(n,s):t}const d_=["push","pop","shift","splice","unshift"];function V9(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),d_.forEach(r=>{const n="_onData"+Fx(r),s=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...i)}),o}})})}function R2(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,s=n.indexOf(e);s!==-1&&n.splice(s,1),!(n.length>0)&&(d_.forEach(i=>{delete t[i]}),delete t._chartjs)}function $9(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const u_=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function h_(t,e){let r=[],n=!1;return function(...s){r=s,n||(n=!0,u_.call(window,()=>{n=!1,t.apply(e,r)}))}}function H9(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const Lx=t=>t==="start"?"left":t==="end"?"right":"center",cn=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,W9=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e,S0=t=>t===0||t===1,F2=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*rn/r)),O2=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*rn/r)+1,ud={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*en)+1,easeOutSine:t=>Math.sin(t*en),easeInOutSine:t=>-.5*(Math.cos(Dr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>S0(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>S0(t)?t:F2(t,.075,.3),easeOutElastic:t=>S0(t)?t:O2(t,.075,.3),easeInOutElastic(t){return S0(t)?t:t<.5?.5*F2(t*2,.1125,.45):.5+.5*O2(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ud.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ud.easeInBounce(t*2)*.5:ud.easeOutBounce(t*2-1)*.5+.5};function Ix(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function M2(t){return Ix(t)?t:new Pd(t)}function xp(t){return Ix(t)?t:new Pd(t).saturate(.5).darken(.1).hexString()}const Y9=["x","y","borderWidth","radius","tension"],K9=["color","borderColor","backgroundColor"];function G9(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:K9},numbers:{type:"number",properties:Y9}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function q9(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const L2=new Map;function X9(t,e){e=e||{};const r=t+JSON.stringify(e);let n=L2.get(r);return n||(n=new Intl.NumberFormat(t,e),L2.set(r,n)),n}function f_(t,e,r){return X9(e,r).format(t)}const J9={values(t){return $r(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let s,i=t;if(r.length>1){const h=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),i=Q9(t,r)}const o=l_(Math.abs(i)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),f_(t,n,u)}};function Q9(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var m_={formatters:J9};function Z9(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:m_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Eo=Object.create(null),bg=Object.create(null);function hd(t,e){if(!e)return t;const r=e.split(".");for(let n=0,s=r.length;n<s;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function yp(t,e,r){return typeof e=="string"?Dd(hd(t,e),r):Dd(hd(t,""),e)}class eI{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>xp(s.backgroundColor),this.hoverBorderColor=(n,s)=>xp(s.borderColor),this.hoverColor=(n,s)=>xp(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return yp(this,e,r)}get(e){return hd(this,e)}describe(e,r){return yp(bg,e,r)}override(e,r){return yp(Eo,e,r)}route(e,r,n,s){const i=hd(this,e),o=hd(this,n),c="_"+r;Object.defineProperties(i,{[c]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const u=this[c],h=o[s];return Bt(u)?Object.assign({},h,u):Rt(u,h)},set(u){this[c]=u}}})}apply(e){e.forEach(r=>r(this))}}var Sr=new eI({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[G9,q9,Z9]);function tI(t){return!t||mr(t.size)||mr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function I2(t,e,r,n,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,r.push(s)),i>n&&(n=i),n}function no(t,e,r){const n=t.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((e-s)*n)/n+s}function B2(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function wg(t,e,r,n){p_(t,e,r,n,null)}function p_(t,e,r,n,s){let i,o,c,u,h,f,p,g;const x=e.pointStyle,w=e.rotation,b=e.radius;let v=(w||0)*D9;if(x&&typeof x=="object"&&(i=x.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(v),t.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),x){default:s?t.ellipse(r,n,s/2,b,0,0,rn):t.arc(r,n,b,0,rn),t.closePath();break;case"triangle":f=s?s/2:b,t.moveTo(r+Math.sin(v)*f,n-Math.cos(v)*b),v+=A2,t.lineTo(r+Math.sin(v)*f,n-Math.cos(v)*b),v+=A2,t.lineTo(r+Math.sin(v)*f,n-Math.cos(v)*b),t.closePath();break;case"rectRounded":h=b*.516,u=b-h,o=Math.cos(v+ro)*u,p=Math.cos(v+ro)*(s?s/2-h:u),c=Math.sin(v+ro)*u,g=Math.sin(v+ro)*(s?s/2-h:u),t.arc(r-p,n-c,h,v-Dr,v-en),t.arc(r+g,n-o,h,v-en,v),t.arc(r+p,n+c,h,v,v+en),t.arc(r-g,n+o,h,v+en,v+Dr),t.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*b,f=s?s/2:u,t.rect(r-f,n-u,2*f,2*u);break}v+=ro;case"rectRot":p=Math.cos(v)*(s?s/2:b),o=Math.cos(v)*b,c=Math.sin(v)*b,g=Math.sin(v)*(s?s/2:b),t.moveTo(r-p,n-c),t.lineTo(r+g,n-o),t.lineTo(r+p,n+c),t.lineTo(r-g,n+o),t.closePath();break;case"crossRot":v+=ro;case"cross":p=Math.cos(v)*(s?s/2:b),o=Math.cos(v)*b,c=Math.sin(v)*b,g=Math.sin(v)*(s?s/2:b),t.moveTo(r-p,n-c),t.lineTo(r+p,n+c),t.moveTo(r+g,n-o),t.lineTo(r-g,n+o);break;case"star":p=Math.cos(v)*(s?s/2:b),o=Math.cos(v)*b,c=Math.sin(v)*b,g=Math.sin(v)*(s?s/2:b),t.moveTo(r-p,n-c),t.lineTo(r+p,n+c),t.moveTo(r+g,n-o),t.lineTo(r-g,n+o),v+=ro,p=Math.cos(v)*(s?s/2:b),o=Math.cos(v)*b,c=Math.sin(v)*b,g=Math.sin(v)*(s?s/2:b),t.moveTo(r-p,n-c),t.lineTo(r+p,n+c),t.moveTo(r+g,n-o),t.lineTo(r-g,n+o);break;case"line":o=s?s/2:Math.cos(v)*b,c=Math.sin(v)*b,t.moveTo(r-o,n-c),t.lineTo(r+o,n+c);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(v)*(s?s/2:b),n+Math.sin(v)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Rd(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function Bx(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ux(t){t.restore()}function rI(t,e,r,n,s){if(!e)return t.lineTo(r.x,r.y);if(s==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else s==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function nI(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function sI(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),mr(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function aI(t,e,r,n,s){if(s.strikethrough||s.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,c=e+i.actualBoundingBoxRight,u=r-i.actualBoundingBoxAscent,h=r+i.actualBoundingBoxDescent,f=s.strikethrough?(u+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,f),t.lineTo(c,f),t.stroke()}}function iI(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Fd(t,e,r,n,s,i={}){const o=$r(e)?e:[e],c=i.strokeWidth>0&&i.strokeColor!=="";let u,h;for(t.save(),t.font=s.string,sI(t,i),u=0;u<o.length;++u)h=o[u],i.backdrop&&iI(t,i.backdrop),c&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),mr(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(h,r,n,i.maxWidth)),t.fillText(h,r,n,i.maxWidth),aI(t,r,n,h,i),n+=Number(s.lineHeight);t.restore()}function Ah(t,e){const{x:r,y:n,w:s,h:i,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*Dr,Dr,!0),t.lineTo(r,n+i-o.bottomLeft),t.arc(r+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,Dr,en,!0),t.lineTo(r+s-o.bottomRight,n+i),t.arc(r+s-o.bottomRight,n+i-o.bottomRight,o.bottomRight,en,0,!0),t.lineTo(r+s,n+o.topRight),t.arc(r+s-o.topRight,n+o.topRight,o.topRight,0,-en,!0),t.lineTo(r+o.topLeft,n)}const oI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lI=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function cI(t,e){const r=(""+t).match(oI);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const dI=t=>+t||0;function zx(t,e){const r={},n=Bt(e),s=n?Object.keys(e):e,i=Bt(t)?n?o=>Rt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)r[o]=dI(i(o));return r}function g_(t){return zx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Dl(t){return zx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function js(t){const e=g_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function hn(t,e){t=t||{},e=e||Sr.font;let r=Rt(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Rt(t.style,e.style);n&&!(""+n).match(lI)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:Rt(t.family,e.family),lineHeight:cI(Rt(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Rt(t.weight,e.weight),string:""};return s.string=tI(s),s}function _0(t,e,r,n){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function uI(t,e,r){const{min:n,max:s}=t,i=_9(e,(s-n)/2),o=(c,u)=>r&&c===0?0:c+u;return{min:o(n,-Math.abs(i)),max:o(s,i)}}function Lo(t,e){return Object.assign(Object.create(t),e)}function Vx(t,e=[""],r,n,s=()=>t[0]){const i=r||t;typeof n>"u"&&(n=b_("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:s,override:c=>Vx([c,...t],e,i,n)};return new Proxy(o,{deleteProperty(c,u){return delete c[u],delete c._keys,delete t[0][u],!0},get(c,u){return y_(c,u,()=>vI(u,e,t,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,u){return z2(c).includes(u)},ownKeys(c){return z2(c)},set(c,u,h){const f=c._storage||(c._storage=s());return c[u]=f[u]=h,delete c._keys,!0}})}function Ml(t,e,r,n){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:x_(t,n),setContext:i=>Ml(t,i,r,n),override:i=>Ml(t.override(i),e,r,n)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,c){return y_(i,o,()=>fI(i,o,c))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,c){return t[o]=c,delete i[o],!0}})}function x_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:r,indexable:n,isScriptable:Ti(r)?r:()=>r,isIndexable:Ti(n)?n:()=>n}}const hI=(t,e)=>t?t+Fx(e):e,$x=(t,e)=>Bt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function y_(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function fI(t,e,r){const{_proxy:n,_context:s,_subProxy:i,_descriptors:o}=t;let c=n[e];return Ti(c)&&o.isScriptable(e)&&(c=mI(e,c,t,r)),$r(c)&&c.length&&(c=pI(e,c,t,o.isIndexable)),$x(e,c)&&(c=Ml(c,s,i&&i[e],o)),c}function mI(t,e,r,n){const{_proxy:s,_context:i,_subProxy:o,_stack:c}=r;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let u=e(i,o||n);return c.delete(t),$x(t,u)&&(u=Hx(s._scopes,s,t,u)),u}function pI(t,e,r,n){const{_proxy:s,_context:i,_subProxy:o,_descriptors:c}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(Bt(e[0])){const u=e,h=s._scopes.filter(f=>f!==u);e=[];for(const f of u){const p=Hx(h,s,t,f);e.push(Ml(p,i,o&&o[t],c))}}return e}function v_(t,e,r){return Ti(t)?t(e,r):t}const gI=(t,e)=>t===!0?e:typeof t=="string"?jh(e,t):void 0;function xI(t,e,r,n,s){for(const i of e){const o=gI(r,i);if(o){t.add(o);const c=v_(o._fallback,r,s);if(typeof c<"u"&&c!==r&&c!==n)return c}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function Hx(t,e,r,n){const s=e._rootScopes,i=v_(e._fallback,r,n),o=[...t,...s],c=new Set;c.add(n);let u=U2(c,o,r,i||r,n);return u===null||typeof i<"u"&&i!==r&&(u=U2(c,o,i,u,n),u===null)?!1:Vx(Array.from(c),[""],s,i,()=>yI(e,r,n))}function U2(t,e,r,n,s){for(;r;)r=xI(t,e,r,n,s);return r}function yI(t,e,r){const n=t._getTarget();e in n||(n[e]={});const s=n[e];return $r(s)&&Bt(r)?r:s||{}}function vI(t,e,r,n){let s;for(const i of e)if(s=b_(hI(i,t),r),typeof s<"u")return $x(t,s)?Hx(r,n,t,s):s}function b_(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function z2(t){let e=t._keys;return e||(e=t._keys=bI(t._scopes)),e}function bI(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(s=>!s.startsWith("_")))e.add(n);return Array.from(e)}const wI=Number.EPSILON||1e-14,Ll=(t,e)=>e<t.length&&!t[e].skip&&t[e],w_=t=>t==="x"?"y":"x";function kI(t,e,r,n){const s=t.skip?e:t,i=e,o=r.skip?e:r,c=yg(i,s),u=yg(o,i);let h=c/(c+u),f=u/(c+u);h=isNaN(h)?0:h,f=isNaN(f)?0:f;const p=n*h,g=n*f;return{previous:{x:i.x-p*(o.x-s.x),y:i.y-p*(o.y-s.y)},next:{x:i.x+g*(o.x-s.x),y:i.y+g*(o.y-s.y)}}}function NI(t,e,r){const n=t.length;let s,i,o,c,u,h=Ll(t,0);for(let f=0;f<n-1;++f)if(u=h,h=Ll(t,f+1),!(!u||!h)){if(dd(e[f],0,wI)){r[f]=r[f+1]=0;continue}s=r[f]/e[f],i=r[f+1]/e[f],c=Math.pow(s,2)+Math.pow(i,2),!(c<=9)&&(o=3/Math.sqrt(c),r[f]=s*o*e[f],r[f+1]=i*o*e[f])}}function SI(t,e,r="x"){const n=w_(r),s=t.length;let i,o,c,u=Ll(t,0);for(let h=0;h<s;++h){if(o=c,c=u,u=Ll(t,h+1),!c)continue;const f=c[r],p=c[n];o&&(i=(f-o[r])/3,c[`cp1${r}`]=f-i,c[`cp1${n}`]=p-i*e[h]),u&&(i=(u[r]-f)/3,c[`cp2${r}`]=f+i,c[`cp2${n}`]=p+i*e[h])}}function _I(t,e="x"){const r=w_(e),n=t.length,s=Array(n).fill(0),i=Array(n);let o,c,u,h=Ll(t,0);for(o=0;o<n;++o)if(c=u,u=h,h=Ll(t,o+1),!!u){if(h){const f=h[e]-u[e];s[o]=f!==0?(h[r]-u[r])/f:0}i[o]=c?h?Ol(s[o-1])!==Ol(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}NI(t,s,i),SI(t,i,e)}function j0(t,e,r){return Math.max(Math.min(t,r),e)}function jI(t,e){let r,n,s,i,o,c=Rd(t[0],e);for(r=0,n=t.length;r<n;++r)o=i,i=c,c=r<n-1&&Rd(t[r+1],e),i&&(s=t[r],o&&(s.cp1x=j0(s.cp1x,e.left,e.right),s.cp1y=j0(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=j0(s.cp2x,e.left,e.right),s.cp2y=j0(s.cp2y,e.top,e.bottom)))}function CI(t,e,r,n,s){let i,o,c,u;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")_I(t,s);else{let h=n?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)c=t[i],u=kI(h,c,t[Math.min(i+1,o-(n?0:1))%o],e.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,h=c}e.capBezierPoints&&jI(t,r)}function Wx(){return typeof window<"u"&&typeof document<"u"}function Yx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ph(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const uf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function TI(t,e){return uf(t).getPropertyValue(e)}const EI=["top","right","bottom","left"];function wo(t,e,r){const n={};r=r?"-"+r:"";for(let s=0;s<4;s++){const i=EI[s];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const AI=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function PI(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:s,offsetY:i}=n;let o=!1,c,u;if(AI(s,i,t.target))c=s,u=i;else{const h=e.getBoundingClientRect();c=n.clientX-h.left,u=n.clientY-h.top,o=!0}return{x:c,y:u,box:o}}function io(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,s=uf(r),i=s.boxSizing==="border-box",o=wo(s,"padding"),c=wo(s,"border","width"),{x:u,y:h,box:f}=PI(t,r),p=o.left+(f&&c.left),g=o.top+(f&&c.top);let{width:x,height:w}=e;return i&&(x-=o.width+c.width,w-=o.height+c.height),{x:Math.round((u-p)/x*r.width/n),y:Math.round((h-g)/w*r.height/n)}}function DI(t,e,r){let n,s;if(e===void 0||r===void 0){const i=t&&Yx(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const o=i.getBoundingClientRect(),c=uf(i),u=wo(c,"border","width"),h=wo(c,"padding");e=o.width-h.width-u.width,r=o.height-h.height-u.height,n=Ph(c.maxWidth,i,"clientWidth"),s=Ph(c.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||Th,maxHeight:s||Th}}const C0=t=>Math.round(t*10)/10;function RI(t,e,r,n){const s=uf(t),i=wo(s,"margin"),o=Ph(s.maxWidth,t,"clientWidth")||Th,c=Ph(s.maxHeight,t,"clientHeight")||Th,u=DI(t,e,r);let{width:h,height:f}=u;if(s.boxSizing==="content-box"){const g=wo(s,"border","width"),x=wo(s,"padding");h-=x.width+g.width,f-=x.height+g.height}return h=Math.max(0,h-i.width),f=Math.max(0,n?h/n:f-i.height),h=C0(Math.min(h,o,u.maxWidth)),f=C0(Math.min(f,c,u.maxHeight)),h&&!f&&(f=C0(h/2)),(e!==void 0||r!==void 0)&&n&&u.height&&f>u.height&&(f=u.height,h=C0(Math.floor(f*n))),{width:h,height:f}}function V2(t,e,r){const n=e||1,s=Math.floor(t.height*n),i=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=n,o.height=s,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const FI=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Wx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function $2(t,e){const r=TI(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function oo(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function OI(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function MI(t,e,r,n){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=oo(t,s,r),c=oo(s,i,r),u=oo(i,e,r),h=oo(o,c,r),f=oo(c,u,r);return oo(h,f,r)}const LI=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},II=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Rl(t,e,r){return t?LI(e,r):II()}function k_(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function N_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function S_(t){return t==="angle"?{between:Ox,compare:I9,normalize:di}:{between:vi,compare:(e,r)=>e-r,normalize:e=>e}}function H2({start:t,end:e,count:r,loop:n,style:s}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:s}}function BI(t,e,r){const{property:n,start:s,end:i}=r,{between:o,normalize:c}=S_(n),u=e.length;let{start:h,end:f,loop:p}=t,g,x;if(p){for(h+=u,f+=u,g=0,x=u;g<x&&o(c(e[h%u][n]),s,i);++g)h--,f--;h%=u,f%=u}return f<h&&(f+=u),{start:h,end:f,loop:p,style:t.style}}function UI(t,e,r){if(!r)return[t];const{property:n,start:s,end:i}=r,o=e.length,{compare:c,between:u,normalize:h}=S_(n),{start:f,end:p,loop:g,style:x}=BI(t,e,r),w=[];let b=!1,v=null,_,T,C;const R=()=>u(s,C,_)&&c(s,C)!==0,j=()=>c(i,_)===0||u(i,C,_),O=()=>b||R(),S=()=>!b||j();for(let P=f,B=f;P<=p;++P)T=e[P%o],!T.skip&&(_=h(T[n]),_!==C&&(b=u(_,s,i),v===null&&O()&&(v=c(_,s)===0?P:B),v!==null&&S()&&(w.push(H2({start:v,end:P,loop:g,count:o,style:x})),v=null),B=P,C=_));return v!==null&&w.push(H2({start:v,end:p,loop:g,count:o,style:x})),w}function zI(t,e){const r=[],n=t.segments;for(let s=0;s<n.length;s++){const i=UI(n[s],t.points,e);i.length&&r.push(...i)}return r}function VI(t,e,r,n){let s=0,i=e-1;if(r&&!n)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,r&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function $I(t,e,r,n){const s=t.length,i=[];let o=e,c=t[e],u;for(u=e+1;u<=r;++u){const h=t[u%s];h.skip||h.stop?c.skip||(n=!1,i.push({start:e%s,end:(u-1)%s,loop:n}),e=o=h.stop?u:null):(o=u,c.skip&&(e=u)),c=h}return o!==null&&i.push({start:e%s,end:o%s,loop:n}),i}function HI(t,e){const r=t.points,n=t.options.spanGaps,s=r.length;if(!s)return[];const i=!!t._loop,{start:o,end:c}=VI(r,s,i,n);if(n===!0)return W2(t,[{start:o,end:c,loop:i}],r,e);const u=c<o?c+s:c,h=!!t._fullLoop&&o===0&&c===s-1;return W2(t,$I(r,o,u,h),r,e)}function W2(t,e,r,n){return!n||!n.setContext||!r?e:WI(t,e,r,n)}function WI(t,e,r,n){const s=t._chart.getContext(),i=Y2(t.options),{_datasetIndex:o,options:{spanGaps:c}}=t,u=r.length,h=[];let f=i,p=e[0].start,g=p;function x(w,b,v,_){const T=c?-1:1;if(w!==b){for(w+=u;r[w%u].skip;)w-=T;for(;r[b%u].skip;)b+=T;w%u!==b%u&&(h.push({start:w%u,end:b%u,loop:v,style:_}),f=_,p=b%u)}}for(const w of e){p=c?p:w.start;let b=r[p%u],v;for(g=p+1;g<=w.end;g++){const _=r[g%u];v=Y2(n.setContext(Lo(s,{type:"segment",p0:b,p1:_,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:o}))),YI(v,f)&&x(p,g-1,w.loop,f),b=_,f=v}p<g-1&&x(p,g-1,w.loop,f)}return h}function Y2(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function YI(t,e){if(!e)return!1;const r=[],n=function(s,i){return Ix(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function T0(t,e,r){return t.options.clip?t[r]:e[r]}function KI(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:T0(r,e,"left"),right:T0(r,e,"right"),top:T0(n,e,"top"),bottom:T0(n,e,"bottom")}:e}function GI(t,e){const r=e._clip;if(r.disabled)return!1;const n=KI(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class qI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,s){const i=r.listeners[s],o=r.duration;i.forEach(c=>c({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=u_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,c=!1,u;for(;o>=0;--o)u=i[o],u._active?(u._total>n.duration&&(n.duration=u._total),u.tick(e),c=!0):(i[o]=i[i.length-1],i.pop());c&&(s.draw(),this._notify(s,n,e,"progress")),i.length||(n.running=!1,this._notify(s,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ta=new qI;const K2="transparent",XI={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=M2(t||K2),s=n.valid&&M2(e||K2);return s&&s.valid?s.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class JI{constructor(e,r,n,s){const i=r[n];s=_0([e.to,s,i,e.from]);const o=_0([e.from,i,s]);this._active=!0,this._fn=e.fn||XI[e.type||typeof o],this._easing=ud[e.easing]||ud.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const s=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=_0([e.to,r,s,e.from]),this._from=_0([e.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,s=this._prop,i=this._from,o=this._loop,c=this._to;let u;if(this._active=i!==c&&(o||r<n),!this._active){this._target[s]=c,this._notify(!0);return}if(r<0){this._target[s]=i;return}u=r/n%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(i,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][r]()}}class __{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Bt(e))return;const r=Object.keys(Sr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Bt(i))return;const o={};for(const c of r)o[c]=i[c];($r(i.properties)&&i.properties||[s]).forEach(c=>{(c===s||!n.has(c))&&n.set(c,o)})})}_animateOptions(e,r){const n=r.options,s=ZI(e,n);if(!s)return[];const i=this._createAnimations(s,n);return n.$shared&&QI(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(r),c=Date.now();let u;for(u=o.length-1;u>=0;--u){const h=o[u];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(e,r));continue}const f=r[h];let p=i[h];const g=n.get(h);if(p)if(g&&p.active()){p.update(g,f,c);continue}else p.cancel();if(!g||!g.duration){e[h]=f;continue}i[h]=p=new JI(g,e,h,f),s.push(p)}return s}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Ta.add(this._chart,n),!0}}function QI(t,e){const r=[],n=Object.keys(e);for(let s=0;s<n.length;s++){const i=t[n[s]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function ZI(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function G2(t,e){const r=t&&t.options||{},n=r.reverse,s=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:s,end:n?s:i}}function eB(t,e,r){if(r===!1)return!1;const n=G2(t,r),s=G2(e,r);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function tB(t){let e,r,n,s;return Bt(t)?(e=t.top,r=t.right,n=t.bottom,s=t.left):e=r=n=s=t,{top:e,right:r,bottom:n,left:s,disabled:t===!1}}function j_(t,e){const r=[],n=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=n.length;s<i;++s)r.push(n[s].index);return r}function q2(t,e,r,n={}){const s=t.keys,i=n.mode==="single";let o,c,u,h;if(e===null)return;let f=!1;for(o=0,c=s.length;o<c;++o){if(u=+s[o],u===r){if(f=!0,n.all)continue;break}h=t.values[u],_s(h)&&(i||e===0||Ol(e)===Ol(h))&&(e+=h)}return!f&&!n.all?0:e}function rB(t,e){const{iScale:r,vScale:n}=e,s=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),c=new Array(o.length);let u,h,f;for(u=0,h=o.length;u<h;++u)f=o[u],c[u]={[s]:f,[i]:t[f]};return c}function vp(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function nB(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function sB(t){const{min:e,max:r,minDefined:n,maxDefined:s}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function aB(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function X2(t,e,r,n){for(const s of e.getMatchingVisibleMetas(n).reverse()){const i=t[s.index];if(r&&i>0||!r&&i<0)return s.index}return null}function J2(t,e){const{chart:r,_cachedMeta:n}=t,s=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:c}=n,u=i.axis,h=o.axis,f=nB(i,o,n),p=e.length;let g;for(let x=0;x<p;++x){const w=e[x],{[u]:b,[h]:v}=w,_=w._stacks||(w._stacks={});g=_[h]=aB(s,f,b),g[c]=v,g._top=X2(g,o,!0,n.type),g._bottom=X2(g,o,!1,n.type);const T=g._visualValues||(g._visualValues={});T[c]=v}}function bp(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function iB(t,e){return Lo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function oB(t,e,r){return Lo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Lc(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const wp=t=>t==="reset"||t==="none",Q2=(t,e)=>e?t:Object.assign({},t),lB=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:j_(r,!0),values:null};class q0{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Lc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),s=(p,g,x,w)=>p==="x"?g:p==="r"?w:x,i=r.xAxisID=Rt(n.xAxisID,bp(e,"x")),o=r.yAxisID=Rt(n.yAxisID,bp(e,"y")),c=r.rAxisID=Rt(n.rAxisID,bp(e,"r")),u=r.indexAxis,h=r.iAxisID=s(u,i,o,c),f=r.vAxisID=s(u,o,i,c);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(h),r.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&R2(this._data,this),e._stacked&&Lc(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Bt(r)){const s=this._cachedMeta;this._data=rB(r,s)}else if(n!==r){if(n){R2(n,this);const s=this._cachedMeta;Lc(s),s._parsed=[]}r&&Object.isExtensible(r)&&V9(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const i=r._stacked;r._stacked=vp(r.vScale,r),r.stack!==n.stack&&(s=!0,Lc(r),r.stack=n.stack),this._resyncElements(e),(s||i!==r._stacked)&&(J2(this,r._parsed),r._stacked=vp(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:s}=this,{iScale:i,_stacked:o}=n,c=i.axis;let u=e===0&&r===s.length?!0:n._sorted,h=e>0&&n._parsed[e-1],f,p,g;if(this._parsing===!1)n._parsed=s,n._sorted=!0,g=s;else{$r(s[e])?g=this.parseArrayData(n,s,e,r):Bt(s[e])?g=this.parseObjectData(n,s,e,r):g=this.parsePrimitiveData(n,s,e,r);const x=()=>p[c]===null||h&&p[c]<h[c];for(f=0;f<r;++f)n._parsed[f+e]=p=g[f],u&&(x()&&(u=!1),h=p);n._sorted=u}o&&J2(this,g)}parsePrimitiveData(e,r,n,s){const{iScale:i,vScale:o}=e,c=i.axis,u=o.axis,h=i.getLabels(),f=i===o,p=new Array(s);let g,x,w;for(g=0,x=s;g<x;++g)w=g+n,p[g]={[c]:f||i.parse(h[w],w),[u]:o.parse(r[w],w)};return p}parseArrayData(e,r,n,s){const{xScale:i,yScale:o}=e,c=new Array(s);let u,h,f,p;for(u=0,h=s;u<h;++u)f=u+n,p=r[f],c[u]={x:i.parse(p[0],f),y:o.parse(p[1],f)};return c}parseObjectData(e,r,n,s){const{xScale:i,yScale:o}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=new Array(s);let f,p,g,x;for(f=0,p=s;f<p;++f)g=f+n,x=r[g],h[f]={x:i.parse(jh(x,c),g),y:o.parse(jh(x,u),g)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const s=this.chart,i=this._cachedMeta,o=r[e.axis],c={keys:j_(s,!0),values:r._stacks[e.axis]._visualValues};return q2(c,o,i.index,{mode:n})}updateRangeFromParsed(e,r,n,s){const i=n[r.axis];let o=i===null?NaN:i;const c=s&&n._stacks[r.axis];s&&c&&(s.values=c,o=q2(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const n=this._cachedMeta,s=n._parsed,i=n._sorted&&e===n.iScale,o=s.length,c=this._getOtherScale(e),u=lB(r,n,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=sB(c);let g,x;function w(){x=s[g];const b=x[c.axis];return!_s(x[e.axis])||f>b||p<b}for(g=0;g<o&&!(!w()&&(this.updateRangeFromParsed(h,e,x,u),i));++g);if(i){for(g=o-1;g>=0;--g)if(!w()){this.updateRangeFromParsed(h,e,x,u);break}}return h}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let s,i,o;for(s=0,i=r.length;s<i;++s)o=r[s][e.axis],_s(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,s=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=tB(Rt(this.options.clip,eB(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,s=n.data||[],i=r.chartArea,o=[],c=this._drawStart||0,u=this._drawCount||s.length-c,h=this.options.drawActiveElementsOnTop;let f;for(n.dataset&&n.dataset.draw(e,i,c,u),f=c;f<c+u;++f){const p=s[f];p.hidden||(p.active&&h?o.push(p):p.draw(e,i))}for(f=0;f<o.length;++f)o[f].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=oB(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=iB(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const s=r==="active",i=this._cachedDataOpts,o=e+"-"+r,c=i[o],u=this.enableOptionSharing&&Ch(n);if(c)return Q2(c,u);const h=this.chart.config,f=h.datasetElementScopeKeys(this._type,e),p=s?[`${e}Hover`,"hover",e,""]:[e,""],g=h.getOptionScopes(this.getDataset(),f),x=Object.keys(Sr.elements[e]),w=()=>this.getContext(n,s,r),b=h.resolveNamedOptions(g,x,w,p);return b.$shared&&(b.$shared=u,i[o]=Object.freeze(Q2(b,u))),b}_resolveAnimations(e,r,n){const s=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,c=i[o];if(c)return c;let u;if(s.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,r),g=f.getOptionScopes(this.getDataset(),p);u=f.createResolver(g,this.getContext(e,n,r))}const h=new __(s,u&&u.animations);return u&&u._cacheable&&(i[o]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||wp(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),s=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(r,i)||i!==s;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:o}}updateElement(e,r,n,s){wp(s)?Object.assign(e,n):this._resolveAnimations(r,s).update(e,n)}updateSharedOptions(e,r,n){e&&!wp(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,s){e.active=s;const i=this.getStyle(r,s);this._resolveAnimations(r,n,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[c,u,h]of this._syncList)this[c](u,h);this._syncList=[];const s=n.length,i=r.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,r,n=!0){const s=this._cachedMeta,i=s.data,o=e+r;let c;const u=h=>{for(h.length+=r,c=h.length-1;c>=o;c--)h[c]=h[c-r]};for(u(i),c=e;c<o;++c)i[c]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,s){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,r);n._stacked&&Lc(n,s)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,s]=e;this[r](n,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}pt(q0,"defaults",{}),pt(q0,"datasetElementType",null),pt(q0,"dataElementType",null);function so(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Kx{constructor(e){pt(this,"options");this.options=e||{}}static override(e){Object.assign(Kx.prototype,e)}init(){}formats(){return so()}parse(){return so()}format(){return so()}add(){return so()}diff(){return so()}startOf(){return so()}endOf(){return so()}}var cB={_date:Kx};function dB(t,e,r,n){const{controller:s,data:i,_sorted:o}=t,c=s._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&i.length){const h=c._reversePixels?U9:vg;if(n){if(s._sharedOptions){const f=i[0],p=typeof f.getRange=="function"&&f.getRange(e);if(p){const g=h(i,e,r-p),x=h(i,e,r+p);return{lo:g.lo,hi:x.hi}}}}else{const f=h(i,e,r);if(u){const{vScale:p}=s._cachedMeta,{_parsed:g}=t,x=g.slice(0,f.lo+1).reverse().findIndex(b=>!mr(b[p.axis]));f.lo-=Math.max(0,x);const w=g.slice(f.hi).findIndex(b=>!mr(b[p.axis]));f.hi+=Math.max(0,w)}return f}}return{lo:0,hi:i.length-1}}function hf(t,e,r,n,s){const i=t.getSortedVisibleDatasetMetas(),o=r[e];for(let c=0,u=i.length;c<u;++c){const{index:h,data:f}=i[c],{lo:p,hi:g}=dB(i[c],e,o,s);for(let x=p;x<=g;++x){const w=f[x];w.skip||n(w,h,x)}}}function uB(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,s){const i=e?Math.abs(n.x-s.x):0,o=r?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function kp(t,e,r,n,s){const i=[];return!s&&!t.isPointInArea(e)||hf(t,r,e,function(c,u,h){!s&&!Rd(c,t.chartArea,0)||c.inRange(e.x,e.y,n)&&i.push({element:c,datasetIndex:u,index:h})},!0),i}function hB(t,e,r,n){let s=[];function i(o,c,u){const{startAngle:h,endAngle:f}=o.getProps(["startAngle","endAngle"],n),{angle:p}=c_(o,{x:e.x,y:e.y});Ox(p,h,f)&&s.push({element:o,datasetIndex:c,index:u})}return hf(t,r,e,i),s}function fB(t,e,r,n,s,i){let o=[];const c=uB(r);let u=Number.POSITIVE_INFINITY;function h(f,p,g){const x=f.inRange(e.x,e.y,s);if(n&&!x)return;const w=f.getCenterPoint(s);if(!(!!i||t.isPointInArea(w))&&!x)return;const v=c(e,w);v<u?(o=[{element:f,datasetIndex:p,index:g}],u=v):v===u&&o.push({element:f,datasetIndex:p,index:g})}return hf(t,r,e,h),o}function Np(t,e,r,n,s,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?hB(t,e,r,s):fB(t,e,r,n,s,i)}function Z2(t,e,r,n,s){const i=[],o=r==="x"?"inXRange":"inYRange";let c=!1;return hf(t,r,e,(u,h,f)=>{u[o]&&u[o](e[r],s)&&(i.push({element:u,datasetIndex:h,index:f}),c=c||u.inRange(e.x,e.y,s))}),n&&!c?[]:i}var mB={modes:{index(t,e,r,n){const s=io(e,t),i=r.axis||"x",o=r.includeInvisible||!1,c=r.intersect?kp(t,s,i,n,o):Np(t,s,i,!1,n,o),u=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const f=c[0].index,p=h.data[f];p&&!p.skip&&u.push({element:p,datasetIndex:h.index,index:f})}),u):[]},dataset(t,e,r,n){const s=io(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;let c=r.intersect?kp(t,s,i,n,o):Np(t,s,i,!1,n,o);if(c.length>0){const u=c[0].datasetIndex,h=t.getDatasetMeta(u).data;c=[];for(let f=0;f<h.length;++f)c.push({element:h[f],datasetIndex:u,index:f})}return c},point(t,e,r,n){const s=io(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return kp(t,s,i,n,o)},nearest(t,e,r,n){const s=io(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return Np(t,s,i,r.intersect,n,o)},x(t,e,r,n){const s=io(e,t);return Z2(t,s,"x",r.intersect,n)},y(t,e,r,n){const s=io(e,t);return Z2(t,s,"y",r.intersect,n)}}};const C_=["left","top","right","bottom"];function Ic(t,e){return t.filter(r=>r.pos===e)}function ew(t,e){return t.filter(r=>C_.indexOf(r.pos)===-1&&r.box.axis===e)}function Bc(t,e){return t.sort((r,n)=>{const s=e?n:r,i=e?r:n;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function pB(t){const e=[];let r,n,s,i,o,c;for(r=0,n=(t||[]).length;r<n;++r)s=t[r],{position:i,options:{stack:o,stackWeight:c=1}}=s,e.push({index:r,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:c});return e}function gB(t){const e={};for(const r of t){const{stack:n,pos:s,stackWeight:i}=r;if(!n||!C_.includes(s))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function xB(t,e){const r=gB(t),{vBoxMaxWidth:n,hBoxMaxHeight:s}=e;let i,o,c;for(i=0,o=t.length;i<o;++i){c=t[i];const{fullSize:u}=c.box,h=r[c.stack],f=h&&c.stackWeight/h.weight;c.horizontal?(c.width=f?f*n:u&&e.availableWidth,c.height=s):(c.width=n,c.height=f?f*s:u&&e.availableHeight)}return r}function yB(t){const e=pB(t),r=Bc(e.filter(h=>h.box.fullSize),!0),n=Bc(Ic(e,"left"),!0),s=Bc(Ic(e,"right")),i=Bc(Ic(e,"top"),!0),o=Bc(Ic(e,"bottom")),c=ew(e,"x"),u=ew(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:s.concat(u).concat(o).concat(c),chartArea:Ic(e,"chartArea"),vertical:n.concat(s).concat(u),horizontal:i.concat(o).concat(c)}}function tw(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function T_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function vB(t,e,r,n){const{pos:s,box:i}=r,o=t.maxPadding;if(!Bt(s)){r.size&&(t[s]-=r.size);const p=n[r.stack]||{size:0,count:1};p.size=Math.max(p.size,r.horizontal?i.height:i.width),r.size=p.size/p.count,t[s]+=r.size}i.getPadding&&T_(o,i.getPadding());const c=Math.max(0,e.outerWidth-tw(o,t,"left","right")),u=Math.max(0,e.outerHeight-tw(o,t,"top","bottom")),h=c!==t.w,f=u!==t.h;return t.w=c,t.h=u,r.horizontal?{same:h,other:f}:{same:f,other:h}}function bB(t){const e=t.maxPadding;function r(n){const s=Math.max(e[n]-t[n],0);return t[n]+=s,s}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function wB(t,e){const r=e.maxPadding;function n(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],r[o])}),i}return n(t?["left","right"]:["top","bottom"])}function Gc(t,e,r,n){const s=[];let i,o,c,u,h,f;for(i=0,o=t.length,h=0;i<o;++i){c=t[i],u=c.box,u.update(c.width||e.w,c.height||e.h,wB(c.horizontal,e));const{same:p,other:g}=vB(e,r,c,n);h|=p&&s.length,f=f||g,u.fullSize||s.push(c)}return h&&Gc(s,e,r,n)||f}function E0(t,e,r,n,s){t.top=r,t.left=e,t.right=e+n,t.bottom=r+s,t.width=n,t.height=s}function rw(t,e,r,n){const s=r.padding;let{x:i,y:o}=e;for(const c of t){const u=c.box,h=n[c.stack]||{placed:0,weight:1},f=c.stackWeight/h.weight||1;if(c.horizontal){const p=e.w*f,g=h.size||u.height;Ch(h.start)&&(o=h.start),u.fullSize?E0(u,s.left,o,r.outerWidth-s.right-s.left,g):E0(u,e.left+h.placed,o,p,g),h.start=o,h.placed+=p,o=u.bottom}else{const p=e.h*f,g=h.size||u.width;Ch(h.start)&&(i=h.start),u.fullSize?E0(u,i,s.top,g,r.outerHeight-s.bottom-s.top):E0(u,i,e.top+h.placed,g,p),h.start=i,h.placed+=p,i=u.right}}e.x=i,e.y=o}var Ns={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const s=js(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(r-s.height,0),c=yB(t.boxes),u=c.vertical,h=c.horizontal;Kt(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const f=u.reduce((b,v)=>v.box.options&&v.box.options.display===!1?b:b+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:r,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/f,hBoxMaxHeight:o/2}),g=Object.assign({},s);T_(g,js(n));const x=Object.assign({maxPadding:g,w:i,h:o,x:s.left,y:s.top},s),w=xB(u.concat(h),p);Gc(c.fullSize,x,p,w),Gc(u,x,p,w),Gc(h,x,p,w)&&Gc(u,x,p,w),bB(x),rw(c.leftAndTop,x,p,w),x.x+=x.w,x.y+=x.h,rw(c.rightAndBottom,x,p,w),t.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Kt(c.chartArea,b=>{const v=b.box;Object.assign(v,t.chartArea),v.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class E_{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,s){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,s?Math.floor(r/s):n)}}isAttached(e){return!0}updateConfig(e){}}class kB extends E_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const X0="$chartjs",NB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nw=t=>t===null||t==="";function SB(t,e){const r=t.style,n=t.getAttribute("height"),s=t.getAttribute("width");if(t[X0]={initial:{height:n,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",nw(s)){const i=$2(t,"width");i!==void 0&&(t.width=i)}if(nw(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=$2(t,"height");i!==void 0&&(t.height=i)}return t}const A_=FI?{passive:!0}:!1;function _B(t,e,r){t&&t.addEventListener(e,r,A_)}function jB(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,A_)}function CB(t,e){const r=NB[t.type]||t.type,{x:n,y:s}=io(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:s!==void 0?s:null}}function Dh(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function TB(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||Dh(c.addedNodes,n),o=o&&!Dh(c.removedNodes,n);o&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function EB(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||Dh(c.removedNodes,n),o=o&&!Dh(c.addedNodes,n);o&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const Od=new Map;let sw=0;function P_(){const t=window.devicePixelRatio;t!==sw&&(sw=t,Od.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function AB(t,e){Od.size||window.addEventListener("resize",P_),Od.set(t,e)}function PB(t){Od.delete(t),Od.size||window.removeEventListener("resize",P_)}function DB(t,e,r){const n=t.canvas,s=n&&Yx(n);if(!s)return;const i=h_((c,u)=>{const h=s.clientWidth;r(c,u),h<s.clientWidth&&r()},window),o=new ResizeObserver(c=>{const u=c[0],h=u.contentRect.width,f=u.contentRect.height;h===0&&f===0||i(h,f)});return o.observe(s),AB(t,i),o}function Sp(t,e,r){r&&r.disconnect(),e==="resize"&&PB(t)}function RB(t,e,r){const n=t.canvas,s=h_(i=>{t.ctx!==null&&r(CB(i,t))},t);return _B(n,e,s),s}class FB extends E_{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(SB(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[X0])return!1;const n=r[X0].initial;["height","width"].forEach(i=>{const o=n[i];mr(o)?r.removeAttribute(i):r.setAttribute(i,o)});const s=n.style||{};return Object.keys(s).forEach(i=>{r.style[i]=s[i]}),r.width=r.width,delete r[X0],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const s=e.$proxies||(e.$proxies={}),o={attach:TB,detach:EB,resize:DB}[r]||RB;s[r]=o(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),s=n[r];if(!s)return;({attach:Sp,detach:Sp,resize:Sp}[r]||jB)(e,r,s),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,s){return RI(e,r,n,s)}isAttached(e){const r=e&&Yx(e);return!!(r&&r.isConnected)}}function OB(t){return!Wx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?kB:FB}var B0;let za=(B0=class{constructor(){pt(this,"x");pt(this,"y");pt(this,"active",!1);pt(this,"options");pt(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Eh(this.x)&&Eh(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const s={};return e.forEach(i=>{s[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),s}},pt(B0,"defaults",{}),pt(B0,"defaultRoutes"),B0);function MB(t,e){const r=t.options.ticks,n=LB(t),s=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?BB(e):[],o=i.length,c=i[0],u=i[o-1],h=[];if(o>s)return UB(e,h,i,o/s),h;const f=IB(i,e,s);if(o>0){let p,g;const x=o>1?Math.round((u-c)/(o-1)):null;for(A0(e,h,f,mr(x)?0:c-x,c),p=0,g=o-1;p<g;p++)A0(e,h,f,i[p],i[p+1]);return A0(e,h,f,u,mr(x)?e.length:u+x),h}return A0(e,h,f),h}function LB(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),s=t._maxLength/r;return Math.floor(Math.min(n,s))}function IB(t,e,r){const n=zB(t),s=e.length/r;if(!n)return Math.max(s,1);const i=R9(n);for(let o=0,c=i.length-1;o<c;o++){const u=i[o];if(u>s)return u}return Math.max(s,1)}function BB(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function UB(t,e,r,n){let s=0,i=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=r[s*n])}function A0(t,e,r,n,s){const i=Rt(n,0),o=Math.min(Rt(s,t.length),t.length);let c=0,u,h,f;for(r=Math.ceil(r),s&&(u=s-n,r=u/Math.floor(u/r)),f=i;f<0;)c++,f=Math.round(i+c*r);for(h=Math.max(i,0);h<o;h++)h===f&&(e.push(t[h]),c++,f=Math.round(i+c*r))}function zB(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const VB=t=>t==="left"?"right":t==="right"?"left":t,aw=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,iw=(t,e)=>Math.min(e||t,t);function ow(t,e){const r=[],n=t.length/e,s=t.length;let i=0;for(;i<s;i+=n)r.push(t[Math.floor(i)]);return r}function $B(t,e,r){const n=t.ticks.length,s=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,c=1e-6;let u=t.getPixelForTick(s),h;if(!(r&&(n===1?h=Math.max(u-i,o-u):e===0?h=(t.getPixelForTick(1)-u)/2:h=(u-t.getPixelForTick(s-1))/2,u+=s<e?h:-h,u<i-c||u>o+c)))return u}function HB(t,e){Kt(t,r=>{const n=r.gc,s=n.length/2;let i;if(s>e){for(i=0;i<s;++i)delete r.data[n[i]];n.splice(0,s)}})}function Uc(t){return t.drawTicks?t.tickLength:0}function lw(t,e){if(!t.display)return 0;const r=hn(t.font,e),n=js(t.padding);return($r(t.text)?t.text.length:1)*r.lineHeight+n.height}function WB(t,e){return Lo(t,{scale:e,type:"scale"})}function YB(t,e,r){return Lo(t,{tick:r,index:e,type:"tick"})}function KB(t,e,r){let n=Lx(t);return(r&&e!=="right"||!r&&e==="right")&&(n=VB(n)),n}function GB(t,e,r,n){const{top:s,left:i,bottom:o,right:c,chart:u}=t,{chartArea:h,scales:f}=u;let p=0,g,x,w;const b=o-s,v=c-i;if(t.isHorizontal()){if(x=cn(n,i,c),Bt(r)){const _=Object.keys(r)[0],T=r[_];w=f[_].getPixelForValue(T)+b-e}else r==="center"?w=(h.bottom+h.top)/2+b-e:w=aw(t,r,e);g=c-i}else{if(Bt(r)){const _=Object.keys(r)[0],T=r[_];x=f[_].getPixelForValue(T)-v+e}else r==="center"?x=(h.left+h.right)/2-v+e:x=aw(t,r,e);w=cn(n,o,s),p=r==="left"?-en:en}return{titleX:x,titleY:w,maxWidth:g,rotation:p}}class ql extends za{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:s}=this;return e=na(e,Number.POSITIVE_INFINITY),r=na(r,Number.NEGATIVE_INFINITY),n=na(n,Number.POSITIVE_INFINITY),s=na(s,Number.NEGATIVE_INFINITY),{min:na(e,n),max:na(r,s),minDefined:_s(e),maxDefined:_s(r)}}getMinMax(e){let{min:r,max:n,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:r,max:n};const c=this.getMatchingVisibleMetas();for(let u=0,h=c.length;u<h;++u)o=c[u].controller.getMinMax(this,e),s||(r=Math.min(r,o.min)),i||(n=Math.max(n,o.max));return r=i&&r>n?n:r,n=s&&r>n?r:n,{min:na(r,na(n,r)),max:na(n,na(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ir(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:s,grace:i,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=uI(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?ow(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=MB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ir(this.options.afterUpdate,[this])}beforeSetDimensions(){ir(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ir(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ir(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ir(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,s,i;for(n=0,s=e.length;n<s;n++)i=e[n],i.label=ir(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){ir(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ir(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=iw(this.ticks.length,e.ticks.maxTicksLimit),s=r.minRotation||0,i=r.maxRotation;let o=s,c,u,h;if(!this._isVisible()||!r.display||s>=i||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),p=f.widest.width,g=f.highest.height,x=Mn(this.chart.width-p,0,this.maxWidth);c=e.offset?this.maxWidth/n:x/(n-1),p+6>c&&(c=x/(n-(e.offset?.5:1)),u=this.maxHeight-Uc(e.grid)-r.padding-lw(e.title,this.chart.options.font),h=Math.sqrt(p*p+g*g),o=L9(Math.min(Math.asin(Mn((f.highest.height+6)/c,-1,1)),Math.asin(Mn(u/h,-1,1))-Math.asin(Mn(g/h,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){ir(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ir(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:s,grid:i}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const u=lw(s,r.options.font);if(c?(e.width=this.maxWidth,e.height=Uc(i)+u):(e.height=this.maxHeight,e.width=Uc(i)+u),n.display&&this.ticks.length){const{first:h,last:f,widest:p,highest:g}=this._getLabelSizes(),x=n.padding*2,w=mo(this.labelRotation),b=Math.cos(w),v=Math.sin(w);if(c){const _=n.mirror?0:v*p.width+b*g.height;e.height=Math.min(this.maxHeight,e.height+_+x)}else{const _=n.mirror?0:b*p.width+v*g.height;e.width=Math.min(this.maxWidth,e.width+_+x)}this._calculatePadding(h,f,v,b)}}this._handleMargins(),c?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,s){const{ticks:{align:i,padding:o},position:c}=this.options,u=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,x=0;u?h?(g=s*e.width,x=n*r.height):(g=n*e.height,x=s*r.width):i==="start"?x=r.width:i==="end"?g=e.width:i!=="inner"&&(g=e.width/2,x=r.width/2),this.paddingLeft=Math.max((g-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((x-p+o)*this.width/(this.width-p),0)}else{let f=r.height/2,p=e.height/2;i==="start"?(f=0,p=e.height):i==="end"&&(f=r.height,p=0),this.paddingTop=f+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ir(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)mr(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=ow(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:s,_longestTextCache:i}=this,o=[],c=[],u=Math.floor(r/iw(r,n));let h=0,f=0,p,g,x,w,b,v,_,T,C,R,j;for(p=0;p<r;p+=u){if(w=e[p].label,b=this._resolveTickFontOptions(p),s.font=v=b.string,_=i[v]=i[v]||{data:{},gc:[]},T=b.lineHeight,C=R=0,!mr(w)&&!$r(w))C=I2(s,_.data,_.gc,C,w),R=T;else if($r(w))for(g=0,x=w.length;g<x;++g)j=w[g],!mr(j)&&!$r(j)&&(C=I2(s,_.data,_.gc,C,j),R+=T);o.push(C),c.push(R),h=Math.max(C,h),f=Math.max(R,f)}HB(i,r);const O=o.indexOf(h),S=c.indexOf(f),P=B=>({width:o[B]||0,height:c[B]||0});return{first:P(0),last:P(r-1),widest:P(O),highest:P(S),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return B9(this._alignToPixels?no(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=YB(this.getContext(),e,n))}return this.$context||(this.$context=WB(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=mo(this.labelRotation),n=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,c=i?i.widest.width+o:0,u=i?i.highest.height+o:0;return this.isHorizontal()?u*n>c*s?c/n:u/s:u*s<c*n?u/n:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,s=this.options,{grid:i,position:o,border:c}=s,u=i.offset,h=this.isHorizontal(),p=this.ticks.length+(u?1:0),g=Uc(i),x=[],w=c.setContext(this.getContext()),b=w.display?w.width:0,v=b/2,_=function(ee){return no(n,ee,b)};let T,C,R,j,O,S,P,B,ae,q,H,ie;if(o==="top")T=_(this.bottom),S=this.bottom-g,B=T-v,q=_(e.top)+v,ie=e.bottom;else if(o==="bottom")T=_(this.top),q=e.top,ie=_(e.bottom)-v,S=T+v,B=this.top+g;else if(o==="left")T=_(this.right),O=this.right-g,P=T-v,ae=_(e.left)+v,H=e.right;else if(o==="right")T=_(this.left),ae=e.left,H=_(e.right)-v,O=T+v,P=this.left+g;else if(r==="x"){if(o==="center")T=_((e.top+e.bottom)/2+.5);else if(Bt(o)){const ee=Object.keys(o)[0],Q=o[ee];T=_(this.chart.scales[ee].getPixelForValue(Q))}q=e.top,ie=e.bottom,S=T+v,B=S+g}else if(r==="y"){if(o==="center")T=_((e.left+e.right)/2);else if(Bt(o)){const ee=Object.keys(o)[0],Q=o[ee];T=_(this.chart.scales[ee].getPixelForValue(Q))}O=T-v,P=O-g,ae=e.left,H=e.right}const re=Rt(s.ticks.maxTicksLimit,p),L=Math.max(1,Math.ceil(p/re));for(C=0;C<p;C+=L){const ee=this.getContext(C),Q=i.setContext(ee),te=c.setContext(ee),U=Q.lineWidth,Z=Q.color,X=te.dash||[],M=te.dashOffset,W=Q.tickWidth,K=Q.tickColor,E=Q.tickBorderDash||[],ce=Q.tickBorderDashOffset;R=$B(this,C,u),R!==void 0&&(j=no(n,R,U),h?O=P=ae=H=j:S=B=q=ie=j,x.push({tx1:O,ty1:S,tx2:P,ty2:B,x1:ae,y1:q,x2:H,y2:ie,width:U,color:Z,borderDash:X,borderDashOffset:M,tickWidth:W,tickColor:K,tickBorderDash:E,tickBorderDashOffset:ce}))}return this._ticksLength=p,this._borderValue=T,x}_computeLabelItems(e){const r=this.axis,n=this.options,{position:s,ticks:i}=n,o=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:h,padding:f,mirror:p}=i,g=Uc(n.grid),x=g+f,w=p?-f:x,b=-mo(this.labelRotation),v=[];let _,T,C,R,j,O,S,P,B,ae,q,H,ie="middle";if(s==="top")O=this.bottom-w,S=this._getXAxisLabelAlignment();else if(s==="bottom")O=this.top+w,S=this._getXAxisLabelAlignment();else if(s==="left"){const L=this._getYAxisLabelAlignment(g);S=L.textAlign,j=L.x}else if(s==="right"){const L=this._getYAxisLabelAlignment(g);S=L.textAlign,j=L.x}else if(r==="x"){if(s==="center")O=(e.top+e.bottom)/2+x;else if(Bt(s)){const L=Object.keys(s)[0],ee=s[L];O=this.chart.scales[L].getPixelForValue(ee)+x}S=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")j=(e.left+e.right)/2-x;else if(Bt(s)){const L=Object.keys(s)[0],ee=s[L];j=this.chart.scales[L].getPixelForValue(ee)}S=this._getYAxisLabelAlignment(g).textAlign}r==="y"&&(u==="start"?ie="top":u==="end"&&(ie="bottom"));const re=this._getLabelSizes();for(_=0,T=c.length;_<T;++_){C=c[_],R=C.label;const L=i.setContext(this.getContext(_));P=this.getPixelForTick(_)+i.labelOffset,B=this._resolveTickFontOptions(_),ae=B.lineHeight,q=$r(R)?R.length:1;const ee=q/2,Q=L.color,te=L.textStrokeColor,U=L.textStrokeWidth;let Z=S;o?(j=P,S==="inner"&&(_===T-1?Z=this.options.reverse?"left":"right":_===0?Z=this.options.reverse?"right":"left":Z="center"),s==="top"?h==="near"||b!==0?H=-q*ae+ae/2:h==="center"?H=-re.highest.height/2-ee*ae+ae:H=-re.highest.height+ae/2:h==="near"||b!==0?H=ae/2:h==="center"?H=re.highest.height/2-ee*ae:H=re.highest.height-q*ae,p&&(H*=-1),b!==0&&!L.showLabelBackdrop&&(j+=ae/2*Math.sin(b))):(O=P,H=(1-q)*ae/2);let X;if(L.showLabelBackdrop){const M=js(L.backdropPadding),W=re.heights[_],K=re.widths[_];let E=H-M.top,ce=0-M.left;switch(ie){case"middle":E-=W/2;break;case"bottom":E-=W;break}switch(S){case"center":ce-=K/2;break;case"right":ce-=K;break;case"inner":_===T-1?ce-=K:_>0&&(ce-=K/2);break}X={left:ce,top:E,width:K+M.width,height:W+M.height,color:L.backdropColor}}v.push({label:R,font:B,textOffset:H,options:{rotation:b,color:Q,strokeColor:te,strokeWidth:U,textAlign:Z,textBaseline:ie,translation:[j,O],backdrop:X}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-mo(this.labelRotation))return e==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),c=e+i,u=o.widest.width;let h,f;return r==="left"?s?(f=this.right+i,n==="near"?h="left":n==="center"?(h="center",f+=u/2):(h="right",f+=u)):(f=this.right-c,n==="near"?h="right":n==="center"?(h="center",f-=u/2):(h="left",f=this.left)):r==="right"?s?(f=this.left+i,n==="near"?h="right":n==="center"?(h="center",f-=u/2):(h="left",f-=u)):(f=this.left+c,n==="near"?h="left":n==="center"?(h="center",f+=u/2):(h="right",f=this.right)):h="right",{textAlign:h,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:s,width:i,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,s,i,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const c=(u,h,f)=>{!f.width||!f.color||(n.save(),n.lineWidth=f.width,n.strokeStyle=f.color,n.setLineDash(f.borderDash||[]),n.lineDashOffset=f.borderDashOffset,n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(h.x,h.y),n.stroke(),n.restore())};if(r.display)for(i=0,o=s.length;i<o;++i){const u=s[i];r.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),r.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:s}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const c=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,f,p,g;this.isHorizontal()?(h=no(e,this.left,o)-o/2,f=no(e,this.right,c)+c/2,p=g=u):(p=no(e,this.top,o)-o/2,g=no(e,this.bottom,c)+c/2,h=f=u),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(h,p),r.lineTo(f,g),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&Bx(n,s);const i=this.getLabelItems(e);for(const o of i){const c=o.options,u=o.font,h=o.label,f=o.textOffset;Fd(n,h,0,f,u,c)}s&&Ux(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:s}}=this;if(!n.display)return;const i=hn(n.font),o=js(n.padding),c=n.align;let u=i.lineHeight/2;r==="bottom"||r==="center"||Bt(r)?(u+=o.bottom,$r(n.text)&&(u+=i.lineHeight*(n.text.length-1))):u+=o.top;const{titleX:h,titleY:f,maxWidth:p,rotation:g}=GB(this,u,r,c);Fd(e,n.text,0,0,i,{color:n.color,maxWidth:p,rotation:g,textAlign:KB(c,r,s),textBaseline:"middle",translation:[h,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Rt(e.grid&&e.grid.z,-1),s=Rt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ql.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let i,o;for(i=0,o=r.length;i<o;++i){const c=r[i];c[n]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return hn(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class P0{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;JB(r)&&(n=this.register(r));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,qB(e,o,n),this.override&&Sr.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,s=this.scope;n in r&&delete r[n],s&&n in Sr[s]&&(delete Sr[s][n],this.override&&delete Eo[n])}}function qB(t,e,r){const n=Dd(Object.create(null),[r?Sr.get(r):{},Sr.get(e),t.defaults]);Sr.set(e,n),t.defaultRoutes&&XB(e,t.defaultRoutes),t.descriptors&&Sr.describe(e,t.descriptors)}function XB(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),s=n.pop(),i=[t].concat(n).join("."),o=e[r].split("."),c=o.pop(),u=o.join(".");Sr.route(i,s,u,c)})}function JB(t){return"id"in t&&"defaults"in t}class QB{constructor(){this.controllers=new P0(q0,"datasets",!0),this.elements=new P0(za,"elements"),this.plugins=new P0(Object,"plugins"),this.scales=new P0(ql,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(s=>{const i=n||this._getRegistryForType(s);n||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Kt(s,o=>{const c=n||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,r,n){const s=Fx(e);ir(n["before"+s],[],n),r[e](n),ir(n["after"+s],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const s=r.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return s}}var ca=new QB;class ZB{constructor(){this._init=[]}notify(e,r,n,s){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,r,n,s){s=s||{};for(const i of e){const o=i.plugin,c=o[n],u=[r,s,i.options];if(ir(c,u,o)===!1&&s.cancelable)return!1}return!0}invalidate(){mr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,s=Rt(n.options&&n.options.plugins,{}),i=eU(n);return s===!1&&!r?[]:rU(e,i,s,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,s=(i,o)=>i.filter(c=>!o.some(u=>c.plugin.id===u.plugin.id));this._notify(s(r,n),e,"stop"),this._notify(s(n,r),e,"start")}}function eU(t){const e={},r=[],n=Object.keys(ca.plugins.items);for(let i=0;i<n.length;i++)r.push(ca.getPlugin(n[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function tU(t,e){return!e&&t===!1?null:t===!0?{}:t}function rU(t,{plugins:e,localIds:r},n,s){const i=[],o=t.getContext();for(const c of e){const u=c.id,h=tU(n[u],s);h!==null&&i.push({plugin:c,options:nU(t.config,{plugin:c,local:r[u]},h,o)})}return i}function nU(t,{plugin:e,local:r},n,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function kg(t,e){const r=Sr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function sU(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function aU(t,e){return t===e?"_index_":"_value_"}function cw(t){if(t==="x"||t==="y"||t==="r")return t}function iU(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ng(t,...e){if(cw(t))return t;for(const r of e){const n=r.axis||iU(r.position)||t.length>1&&cw(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function dw(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function oU(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return dw(t,"x",r[0])||dw(t,"y",r[0])}return{}}function lU(t,e){const r=Eo[t.type]||{scales:{}},n=e.scales||{},s=kg(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const c=n[o];if(!Bt(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=Ng(o,c,oU(o,t),Sr.scales[c.type]),h=aU(u,s),f=r.scales||{};i[o]=cd(Object.create(null),[{axis:u},c,f[u],f[h]])}),t.data.datasets.forEach(o=>{const c=o.type||t.type,u=o.indexAxis||kg(c,e),f=(Eo[c]||{}).scales||{};Object.keys(f).forEach(p=>{const g=sU(p,u),x=o[g+"AxisID"]||g;i[x]=i[x]||Object.create(null),cd(i[x],[{axis:g},n[x],f[p]])})}),Object.keys(i).forEach(o=>{const c=i[o];cd(c,[Sr.scales[c.type],Sr.scale])}),i}function D_(t){const e=t.options||(t.options={});e.plugins=Rt(e.plugins,{}),e.scales=lU(t,e)}function R_(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function cU(t){return t=t||{},t.data=R_(t.data),D_(t),t}const uw=new Map,F_=new Set;function D0(t,e){let r=uw.get(t);return r||(r=e(),uw.set(t,r),F_.add(r)),r}const zc=(t,e,r)=>{const n=jh(e,r);n!==void 0&&t.add(n)};class dU{constructor(e){this._config=cU(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=R_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),D_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return D0(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return D0(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return D0(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return D0(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let s=n.get(e);return(!s||r)&&(s=new Map,n.set(e,s)),s}getOptionScopes(e,r,n){const{options:s,type:i}=this,o=this._cachedScopes(e,n),c=o.get(r);if(c)return c;const u=new Set;r.forEach(f=>{e&&(u.add(e),f.forEach(p=>zc(u,e,p))),f.forEach(p=>zc(u,s,p)),f.forEach(p=>zc(u,Eo[i]||{},p)),f.forEach(p=>zc(u,Sr,p)),f.forEach(p=>zc(u,bg,p))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),F_.has(r)&&o.set(r,h),h}chartOptionScopes(){const{options:e,type:r}=this;return[e,Eo[r]||{},Sr.datasets[r]||{},{type:r},Sr,bg]}resolveNamedOptions(e,r,n,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:c}=hw(this._resolverCache,e,s);let u=o;if(hU(o,r)){i.$shared=!1,n=Ti(n)?n():n;const h=this.createResolver(e,n,c);u=Ml(o,n,h)}for(const h of r)i[h]=u[h];return i}createResolver(e,r,n=[""],s){const{resolver:i}=hw(this._resolverCache,e,n);return Bt(r)?Ml(i,r,void 0,s):i}}function hw(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const s=r.join();let i=n.get(s);return i||(i={resolver:Vx(e,r),subPrefixes:r.filter(c=>!c.toLowerCase().includes("hover"))},n.set(s,i)),i}const uU=t=>Bt(t)&&Object.getOwnPropertyNames(t).some(e=>Ti(t[e]));function hU(t,e){const{isScriptable:r,isIndexable:n}=x_(t);for(const s of e){const i=r(s),o=n(s),c=(o||i)&&t[s];if(i&&(Ti(c)||uU(c))||o&&$r(c))return!0}return!1}var fU="4.4.9";const mU=["top","bottom","left","right","chartArea"];function fw(t,e){return t==="top"||t==="bottom"||mU.indexOf(t)===-1&&e==="x"}function mw(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function pw(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),ir(r&&r.onComplete,[t],e)}function pU(t){const e=t.chart,r=e.options.animation;ir(r&&r.onProgress,[t],e)}function O_(t){return Wx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const J0={},gw=t=>{const e=O_(t);return Object.values(J0).filter(r=>r.canvas===e).pop()};function gU(t,e,r){const n=Object.keys(t);for(const s of n){const i=+s;if(i>=e){const o=t[s];delete t[s],(r>0||i>e)&&(t[i+r]=o)}}}function xU(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class fi{static register(...e){ca.add(...e),xw()}static unregister(...e){ca.remove(...e),xw()}constructor(e,r){const n=this.config=new dU(r),s=O_(e),i=gw(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||OB(s)),this.platform.updateConfig(n);const c=this.platform.acquireContext(s,o.aspectRatio),u=c&&c.canvas,h=u&&u.height,f=u&&u.width;if(this.id=S9(),this.ctx=c,this.canvas=u,this.width=f,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ZB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=H9(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],J0[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Ta.listen(this,"complete",pw),Ta.listen(this,"progress",pU),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:s,_aspectRatio:i}=this;return mr(e)?r&&i?i:s?n/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ca}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():V2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return B2(this.canvas,this.ctx),this}stop(){return Ta.stop(this),this}resize(e,r){Ta.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,s=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,r,i),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,V2(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),ir(n.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Kt(r,(n,s)=>{n.id=s})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,s=Object.keys(n).reduce((o,c)=>(o[c]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const c=r[o],u=Ng(o,c),h=u==="r",f=u==="x";return{options:c,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),Kt(i,o=>{const c=o.options,u=c.id,h=Ng(u,c),f=Rt(c.type,o.dtype);(c.position===void 0||fw(c.position,h)!==fw(o.dposition))&&(c.position=o.dposition),s[u]=!0;let p=null;if(u in n&&n[u].type===f)p=n[u];else{const g=ca.getScale(f);p=new g({id:u,type:f,ctx:this.ctx,chart:this}),n[p.id]=p}p.init(c,e)}),Kt(s,(o,c)=>{o||delete n[c]}),Kt(n,o=>{Ns.configure(this,o,o.options),Ns.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((s,i)=>s.index-i.index),n>r){for(let s=r;s<n;++s)this._destroyDatasetMeta(s);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(mw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,s)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=r.length;n<s;n++){const i=r[n];let o=this.getDatasetMeta(n);const c=i.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=c,o.indexAxis=i.indexAxis||kg(c,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const u=ca.getController(c),{datasetElementType:h,dataElementType:f}=Sr.datasets[c];Object.assign(u,{dataElementType:ca.getElement(f),datasetElementType:h&&ca.getElement(h)}),o.controller=new u(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Kt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,f=this.data.datasets.length;h<f;h++){const{controller:p}=this.getDatasetMeta(h),g=!s&&i.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),s||Kt(i,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(mw("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Kt(this.scales,e=>{Ns.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!E2(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:i}of r){const o=n==="_removeElements"?-i:i;gU(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,c)=>c+","+o.splice(1).join(","))),s=n(0);for(let i=1;i<r;i++)if(!E2(s,n(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ns.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Kt(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Ti(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),s={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ta.has(this)?this.attached&&!Ta.running(this)&&Ta.start(this):(this.draw(),pw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let s,i;for(s=0,i=r.length;s<i;++s){const o=r[s];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},s=GI(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(s&&Bx(r,s),e.controller.draw(),s&&Ux(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Rd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,s){const i=mB.modes[r];return typeof i=="function"?i(this,e,n,s):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let s=n.filter(i=>i&&i._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=Lo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const s=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);Ch(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Ta.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),B2(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete J0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,o)=>{r.addEventListener(this,i,o),e[i]=o},s=(i,o,c)=>{i.offsetX=o,i.offsetY=c,this._eventHandler(i)};Kt(this.options.events,i=>n(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(u,h)=>{r.addEventListener(this,u,h),e[u]=h},s=(u,h)=>{e[u]&&(r.removeEventListener(this,u,h),delete e[u])},i=(u,h)=>{this.canvas&&this.resize(u,h)};let o;const c=()=>{s("attach",c),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),n("attach",c)},r.isAttached(this.canvas)?c():o()}unbindEvents(){Kt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Kt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const s=n?"set":"remove";let i,o,c,u;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){o=e[c];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[o],index:o}});!Sh(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const s=this.options.hover,i=(u,h)=>u.filter(f=>!h.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),o=i(r,e),c=n?e:i(e,r);o.length&&this.updateHoverStyle(o,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:s=[],options:i}=this,o=r,c=this._getActiveElements(e,s,n,o),u=A9(e),h=xU(e,this._lastEvent,n,u);n&&(this._lastEvent=null,ir(i.onHover,[e,c,this],this),u&&ir(i.onClick,[e,c,this],this));const f=!Sh(c,s);return(f||r)&&(this._active=c,this._updateHoverStyles(c,s,r)),this._lastEvent=h,f}_getActiveElements(e,r,n,s){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}}pt(fi,"defaults",Sr),pt(fi,"instances",J0),pt(fi,"overrides",Eo),pt(fi,"registry",ca),pt(fi,"version",fU),pt(fi,"getChart",gw);function xw(){return Kt(fi.instances,t=>t._plugins.invalidate())}function yU(t,e,r){const{startAngle:n,pixelMargin:s,x:i,y:o,outerRadius:c,innerRadius:u}=e;let h=s/c;t.beginPath(),t.arc(i,o,c,n-h,r+h),u>s?(h=s/u,t.arc(i,o,u,r+h,n-h,!0)):t.arc(i,o,s,r+en,n-en),t.closePath(),t.clip()}function vU(t){return zx(t,["outerStart","outerEnd","innerStart","innerEnd"])}function bU(t,e,r,n){const s=vU(t.options.borderRadius),i=(r-e)/2,o=Math.min(i,n*e/2),c=u=>{const h=(r-Math.min(i,u))*n/2;return Mn(u,0,Math.min(i,h))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Mn(s.innerStart,0,o),innerEnd:Mn(s.innerEnd,0,o)}}function pl(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function Rh(t,e,r,n,s,i){const{x:o,y:c,startAngle:u,pixelMargin:h,innerRadius:f}=e,p=Math.max(e.outerRadius+n+r-h,0),g=f>0?f+n+r+h:0;let x=0;const w=s-u;if(n){const L=f>0?f-n:0,ee=p>0?p-n:0,Q=(L+ee)/2,te=Q!==0?w*Q/(Q+n):w;x=(w-te)/2}const b=Math.max(.001,w*p-r/Dr)/p,v=(w-b)/2,_=u+v+x,T=s-v-x,{outerStart:C,outerEnd:R,innerStart:j,innerEnd:O}=bU(e,g,p,T-_),S=p-C,P=p-R,B=_+C/S,ae=T-R/P,q=g+j,H=g+O,ie=_+j/q,re=T-O/H;if(t.beginPath(),i){const L=(B+ae)/2;if(t.arc(o,c,p,B,L),t.arc(o,c,p,L,ae),R>0){const U=pl(P,ae,o,c);t.arc(U.x,U.y,R,ae,T+en)}const ee=pl(H,T,o,c);if(t.lineTo(ee.x,ee.y),O>0){const U=pl(H,re,o,c);t.arc(U.x,U.y,O,T+en,re+Math.PI)}const Q=(T-O/g+(_+j/g))/2;if(t.arc(o,c,g,T-O/g,Q,!0),t.arc(o,c,g,Q,_+j/g,!0),j>0){const U=pl(q,ie,o,c);t.arc(U.x,U.y,j,ie+Math.PI,_-en)}const te=pl(S,_,o,c);if(t.lineTo(te.x,te.y),C>0){const U=pl(S,B,o,c);t.arc(U.x,U.y,C,_-en,B)}}else{t.moveTo(o,c);const L=Math.cos(B)*p+o,ee=Math.sin(B)*p+c;t.lineTo(L,ee);const Q=Math.cos(ae)*p+o,te=Math.sin(ae)*p+c;t.lineTo(Q,te)}t.closePath()}function wU(t,e,r,n,s){const{fullCircles:i,startAngle:o,circumference:c}=e;let u=e.endAngle;if(i){Rh(t,e,r,n,u,s);for(let h=0;h<i;++h)t.fill();isNaN(c)||(u=o+(c%rn||rn))}return Rh(t,e,r,n,u,s),t.fill(),u}function kU(t,e,r,n,s){const{fullCircles:i,startAngle:o,circumference:c,options:u}=e,{borderWidth:h,borderJoinStyle:f,borderDash:p,borderDashOffset:g}=u,x=u.borderAlign==="inner";if(!h)return;t.setLineDash(p||[]),t.lineDashOffset=g,x?(t.lineWidth=h*2,t.lineJoin=f||"round"):(t.lineWidth=h,t.lineJoin=f||"bevel");let w=e.endAngle;if(i){Rh(t,e,r,n,w,s);for(let b=0;b<i;++b)t.stroke();isNaN(c)||(w=o+(c%rn||rn))}x&&yU(t,e,w),i||(Rh(t,e,r,n,w,s),t.stroke())}class qc extends za{constructor(r){super();pt(this,"circumference");pt(this,"endAngle");pt(this,"fullCircles");pt(this,"innerRadius");pt(this,"outerRadius");pt(this,"pixelMargin");pt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.getProps(["x","y"],s),{angle:o,distance:c}=c_(i,{x:r,y:n}),{startAngle:u,endAngle:h,innerRadius:f,outerRadius:p,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),x=(this.options.spacing+this.options.borderWidth)/2,w=Rt(g,h-u),b=Ox(o,u,h)&&u!==h,v=w>=rn||b,_=vi(c,f+x,p+x);return v&&_}getCenterPoint(r){const{x:n,y:s,startAngle:i,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:h,spacing:f}=this.options,p=(i+o)/2,g=(c+u+f+h)/2;return{x:n+Math.cos(p)*g,y:s+Math.sin(p)*g}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:s}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>rn?Math.floor(s/rn):0,s===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const u=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(u)*i,Math.sin(u)*i);const h=1-Math.sin(Math.min(Dr,s||0)),f=i*h;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,wU(r,this,f,o,c),kU(r,this,f,o,c),r.restore()}}pt(qc,"id","arc"),pt(qc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),pt(qc,"defaultRoutes",{backgroundColor:"backgroundColor"}),pt(qc,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function M_(t,e,r=e){t.lineCap=Rt(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Rt(r.borderDash,e.borderDash)),t.lineDashOffset=Rt(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Rt(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Rt(r.borderWidth,e.borderWidth),t.strokeStyle=Rt(r.borderColor,e.borderColor)}function NU(t,e,r){t.lineTo(r.x,r.y)}function SU(t){return t.stepped?rI:t.tension||t.cubicInterpolationMode==="monotone"?nI:NU}function L_(t,e,r={}){const n=t.length,{start:s=0,end:i=n-1}=r,{start:o,end:c}=e,u=Math.max(s,o),h=Math.min(i,c),f=s<o&&i<o||s>c&&i>c;return{count:n,start:u,loop:e.loop,ilen:h<u&&!f?n+h-u:h-u}}function _U(t,e,r,n){const{points:s,options:i}=e,{count:o,start:c,loop:u,ilen:h}=L_(s,r,n),f=SU(i);let{move:p=!0,reverse:g}=n||{},x,w,b;for(x=0;x<=h;++x)w=s[(c+(g?h-x:x))%o],!w.skip&&(p?(t.moveTo(w.x,w.y),p=!1):f(t,b,w,g,i.stepped),b=w);return u&&(w=s[(c+(g?h:0))%o],f(t,b,w,g,i.stepped)),!!u}function jU(t,e,r,n){const s=e.points,{count:i,start:o,ilen:c}=L_(s,r,n),{move:u=!0,reverse:h}=n||{};let f=0,p=0,g,x,w,b,v,_;const T=R=>(o+(h?c-R:R))%i,C=()=>{b!==v&&(t.lineTo(f,v),t.lineTo(f,b),t.lineTo(f,_))};for(u&&(x=s[T(0)],t.moveTo(x.x,x.y)),g=0;g<=c;++g){if(x=s[T(g)],x.skip)continue;const R=x.x,j=x.y,O=R|0;O===w?(j<b?b=j:j>v&&(v=j),f=(p*f+R)/++p):(C(),t.lineTo(R,j),w=O,p=0,b=v=j),_=j}C()}function Sg(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?jU:_U}function CU(t){return t.stepped?OI:t.tension||t.cubicInterpolationMode==="monotone"?MI:oo}function TU(t,e,r,n){let s=e._path;s||(s=e._path=new Path2D,e.path(s,r,n)&&s.closePath()),M_(t,e.options),t.stroke(s)}function EU(t,e,r,n){const{segments:s,options:i}=e,o=Sg(e);for(const c of s)M_(t,i,c.style),t.beginPath(),o(t,e,c,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const AU=typeof Path2D=="function";function PU(t,e,r,n){AU&&!e.options.segment?TU(t,e,r,n):EU(t,e,r,n)}class Xc extends za{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;CI(this._points,n,e,s,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=HI(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,s=e[r],i=this.points,o=zI(this,{property:r,start:s,end:s});if(!o.length)return;const c=[],u=CU(n);let h,f;for(h=0,f=o.length;h<f;++h){const{start:p,end:g}=o[h],x=i[p],w=i[g];if(x===w){c.push(x);continue}const b=Math.abs((s-x[r])/(w[r]-x[r])),v=u(x,w,b,n.stepped);v[r]=e[r],c.push(v)}return c.length===1?c[0]:c}pathSegment(e,r,n){return Sg(this)(e,this,r,n)}path(e,r,n){const s=this.segments,i=Sg(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const c of s)o&=i(e,this,c,{start:r,end:r+n-1});return!!o}draw(e,r,n,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),PU(e,this,n,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}pt(Xc,"id","line"),pt(Xc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),pt(Xc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),pt(Xc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function yw(t,e,r,n){const s=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<s.radius+s.hitRadius}class Q0 extends za{constructor(r){super();pt(this,"parsed");pt(this,"skip");pt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.options,{x:o,y:c}=this.getProps(["x","y"],s);return Math.pow(r-o,2)+Math.pow(n-c,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return yw(this,r,"x",n)}inYRange(r,n){return yw(this,r,"y",n)}getCenterPoint(r){const{x:n,y:s}=this.getProps(["x","y"],r);return{x:n,y:s}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const s=n&&r.borderWidth||0;return(n+s)*2}draw(r,n){const s=this.options;this.skip||s.radius<.1||!Rd(this,n,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,wg(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}pt(Q0,"id","point"),pt(Q0,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),pt(Q0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function I_(t,e){const{x:r,y:n,base:s,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let c,u,h,f,p;return t.horizontal?(p=o/2,c=Math.min(r,s),u=Math.max(r,s),h=n-p,f=n+p):(p=i/2,c=r-p,u=r+p,h=Math.min(n,s),f=Math.max(n,s)),{left:c,top:h,right:u,bottom:f}}function bi(t,e,r,n){return t?0:Mn(e,r,n)}function DU(t,e,r){const n=t.options.borderWidth,s=t.borderSkipped,i=g_(n);return{t:bi(s.top,i.top,0,r),r:bi(s.right,i.right,0,e),b:bi(s.bottom,i.bottom,0,r),l:bi(s.left,i.left,0,e)}}function RU(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=Dl(s),o=Math.min(e,r),c=t.borderSkipped,u=n||Bt(s);return{topLeft:bi(!u||c.top||c.left,i.topLeft,0,o),topRight:bi(!u||c.top||c.right,i.topRight,0,o),bottomLeft:bi(!u||c.bottom||c.left,i.bottomLeft,0,o),bottomRight:bi(!u||c.bottom||c.right,i.bottomRight,0,o)}}function FU(t){const e=I_(t),r=e.right-e.left,n=e.bottom-e.top,s=DU(t,r/2,n/2),i=RU(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:r-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function _p(t,e,r,n){const s=e===null,i=r===null,c=t&&!(s&&i)&&I_(t,n);return c&&(s||vi(e,c.left,c.right))&&(i||vi(r,c.top,c.bottom))}function OU(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function MU(t,e){t.rect(e.x,e.y,e.w,e.h)}function jp(t,e,r={}){const n=t.x!==r.x?-e:0,s=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,o=(t.y+t.h!==r.y+r.h?e:0)-s;return{x:t.x+n,y:t.y+s,w:t.w+i,h:t.h+o,radius:t.radius}}class Z0 extends za{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:s}}=this,{inner:i,outer:o}=FU(this),c=OU(o.radius)?Ah:MU;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),c(e,jp(o,r,i)),e.clip(),c(e,jp(i,-r,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),c(e,jp(i,r)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,r,n){return _p(this,e,r,n)}inXRange(e,r){return _p(this,e,null,r)}inYRange(e,r){return _p(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+s)/2:r,y:i?n:(n+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}pt(Z0,"id","bar"),pt(Z0,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),pt(Z0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const vw=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},LU=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class bw extends za{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=ir(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,s)=>e.sort(n,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,s=hn(n.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=vw(n,i);let h,f;r.font=s.string,this.isHorizontal()?(h=this.maxWidth,f=this._fitRows(o,i,c,u)+10):(f=this.maxHeight,h=this._fitCols(o,s,c,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,s){const{ctx:i,maxWidth:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],f=s+c;let p=e;i.textAlign="left",i.textBaseline="middle";let g=-1,x=-f;return this.legendItems.forEach((w,b)=>{const v=n+r/2+i.measureText(w.text).width;(b===0||h[h.length-1]+v+2*c>o)&&(p+=f,h[h.length-(b>0?0:1)]=0,x+=f,g++),u[b]={left:0,top:x,row:g,width:v,height:s},h[h.length-1]+=v+c}),p}_fitCols(e,r,n,s){const{ctx:i,maxHeight:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],f=o-e;let p=c,g=0,x=0,w=0,b=0;return this.legendItems.forEach((v,_)=>{const{itemWidth:T,itemHeight:C}=IU(n,r,i,v,s);_>0&&x+C+2*c>f&&(p+=g+c,h.push({width:g,height:x}),w+=g+c,b++,g=x=0),u[_]={left:w,top:x,col:b,width:T,height:C},g=Math.max(g,T),x+=C+c}),p+=g,h.push({width:g,height:x}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:s},rtl:i}}=this,o=Rl(i,this.left,this.width);if(this.isHorizontal()){let c=0,u=cn(n,this.left+s,this.right-this.lineWidths[c]);for(const h of r)c!==h.row&&(c=h.row,u=cn(n,this.left+s,this.right-this.lineWidths[c])),h.top+=this.top+e+s,h.left=o.leftForLtr(o.x(u),h.width),u+=h.width+s}else{let c=0,u=cn(n,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const h of r)h.col!==c&&(c=h.col,u=cn(n,this.top+e+s,this.bottom-this.columnSizes[c].height)),h.top=u,h.left+=this.left+s,h.left=o.leftForLtr(o.x(h.left),h.width),u+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Bx(e,this),this._draw(),Ux(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:s}=this,{align:i,labels:o}=e,c=Sr.color,u=Rl(e.rtl,this.left,this.width),h=hn(o.font),{padding:f}=o,p=h.size,g=p/2;let x;this.drawTitle(),s.textAlign=u.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:w,boxHeight:b,itemHeight:v}=vw(o,p),_=function(O,S,P){if(isNaN(w)||w<=0||isNaN(b)||b<0)return;s.save();const B=Rt(P.lineWidth,1);if(s.fillStyle=Rt(P.fillStyle,c),s.lineCap=Rt(P.lineCap,"butt"),s.lineDashOffset=Rt(P.lineDashOffset,0),s.lineJoin=Rt(P.lineJoin,"miter"),s.lineWidth=B,s.strokeStyle=Rt(P.strokeStyle,c),s.setLineDash(Rt(P.lineDash,[])),o.usePointStyle){const ae={radius:b*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:B},q=u.xPlus(O,w/2),H=S+g;p_(s,ae,q,H,o.pointStyleWidth&&w)}else{const ae=S+Math.max((p-b)/2,0),q=u.leftForLtr(O,w),H=Dl(P.borderRadius);s.beginPath(),Object.values(H).some(ie=>ie!==0)?Ah(s,{x:q,y:ae,w,h:b,radius:H}):s.rect(q,ae,w,b),s.fill(),B!==0&&s.stroke()}s.restore()},T=function(O,S,P){Fd(s,P.text,O,S+v/2,h,{strikethrough:P.hidden,textAlign:u.textAlign(P.textAlign)})},C=this.isHorizontal(),R=this._computeTitleHeight();C?x={x:cn(i,this.left+f,this.right-n[0]),y:this.top+f+R,line:0}:x={x:this.left+f,y:cn(i,this.top+R+f,this.bottom-r[0].height),line:0},k_(this.ctx,e.textDirection);const j=v+f;this.legendItems.forEach((O,S)=>{s.strokeStyle=O.fontColor,s.fillStyle=O.fontColor;const P=s.measureText(O.text).width,B=u.textAlign(O.textAlign||(O.textAlign=o.textAlign)),ae=w+g+P;let q=x.x,H=x.y;u.setWidth(this.width),C?S>0&&q+ae+f>this.right&&(H=x.y+=j,x.line++,q=x.x=cn(i,this.left+f,this.right-n[x.line])):S>0&&H+j>this.bottom&&(q=x.x=q+r[x.line].width+f,x.line++,H=x.y=cn(i,this.top+R+f,this.bottom-r[x.line].height));const ie=u.x(q);if(_(ie,H,O),q=W9(B,q+w+g,C?q+ae:this.right,e.rtl),T(u.x(q),H,O),C)x.x+=ae+f;else if(typeof O.text!="string"){const re=h.lineHeight;x.y+=B_(O,re)+f}else x.y+=j}),N_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=hn(r.font),s=js(r.padding);if(!r.display)return;const i=Rl(e.rtl,this.left,this.width),o=this.ctx,c=r.position,u=n.size/2,h=s.top+u;let f,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+h,p=cn(e.align,p,this.right-g);else{const w=this.columnSizes.reduce((b,v)=>Math.max(b,v.height),0);f=h+cn(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const x=cn(c,p,p+g);o.textAlign=i.textAlign(Lx(c)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,Fd(o,r.text,x,f,n)}_computeTitleHeight(){const e=this.options.title,r=hn(e.font),n=js(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,s,i;if(vi(e,this.left,this.right)&&vi(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(s=i[n],vi(e,s.left,s.left+s.width)&&vi(r,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!zU(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=LU(s,n);s&&!i&&ir(r.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!i&&ir(r.onHover,[e,n,this],this)}else n&&ir(r.onClick,[e,n,this],this)}}function IU(t,e,r,n,s){const i=BU(n,t,e,r),o=UU(s,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function BU(t,e,r,n){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+r.size/2+n.measureText(s).width}function UU(t,e,r){let n=t;return typeof e.text!="string"&&(n=B_(e,r)),n}function B_(t,e){const r=t.text?t.text.length:0;return e*r}function zU(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var VU={id:"legend",_element:bw,start(t,e,r){const n=t.legend=new bw({ctx:t.ctx,options:r,chart:t});Ns.configure(t,n,r),Ns.addBox(t,n)},stop(t){Ns.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;Ns.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,s=r.chart;s.isDatasetVisible(n)?(s.hide(n),e.hidden=!0):(s.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:s,color:i,useBorderRadius:o,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(r?0:void 0),f=js(h.borderWidth);return{text:e[u.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:o&&(c||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class U_ extends za{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const s=$r(n.text)?n.text.length:1;this._padding=js(n.padding);const i=s*hn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:s,right:i,options:o}=this,c=o.align;let u=0,h,f,p;return this.isHorizontal()?(f=cn(c,n,i),p=r+e,h=i-n):(o.position==="left"?(f=n+e,p=cn(c,s,r),u=Dr*-.5):(f=i-e,p=cn(c,r,s),u=Dr*.5),h=s-r),{titleX:f,titleY:p,maxWidth:h,rotation:u}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=hn(r.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:u,rotation:h}=this._drawArgs(i);Fd(e,r.text,0,0,n,{color:r.color,maxWidth:u,rotation:h,textAlign:Lx(r.align),textBaseline:"middle",translation:[o,c]})}}function $U(t,e){const r=new U_({ctx:t.ctx,options:e,chart:t});Ns.configure(t,r,e),Ns.addBox(t,r),t.titleBlock=r}var HU={id:"title",_element:U_,start(t,e,r){$U(t,r)},stop(t){const e=t.titleBlock;Ns.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;Ns.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jc={average(t){if(!t.length)return!1;let e,r,n=new Set,s=0,i=0;for(e=0,r=t.length;e<r;++e){const c=t[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();n.add(u.x),s+=u.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((c,u)=>c+u)/n.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,s=Number.POSITIVE_INFINITY,i,o,c;for(i=0,o=t.length;i<o;++i){const u=t[i].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),f=yg(e,h);f<s&&(s=f,c=u)}}if(c){const u=c.tooltipPosition();r=u.x,n=u.y}return{x:r,y:n}}};function oa(t,e){return e&&($r(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ea(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function WU(t,e){const{element:r,datasetIndex:n,index:s}=e,i=t.getDatasetMeta(n).controller,{label:o,value:c}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[n].data[s],formattedValue:c,dataset:i.getDataset(),dataIndex:s,datasetIndex:n,element:r}}function ww(t,e){const r=t.chart.ctx,{body:n,footer:s,title:i}=t,{boxWidth:o,boxHeight:c}=e,u=hn(e.bodyFont),h=hn(e.titleFont),f=hn(e.footerFont),p=i.length,g=s.length,x=n.length,w=js(e.padding);let b=w.height,v=0,_=n.reduce((R,j)=>R+j.before.length+j.lines.length+j.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,p&&(b+=p*h.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),_){const R=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;b+=x*R+(_-x)*u.lineHeight+(_-1)*e.bodySpacing}g&&(b+=e.footerMarginTop+g*f.lineHeight+(g-1)*e.footerSpacing);let T=0;const C=function(R){v=Math.max(v,r.measureText(R).width+T)};return r.save(),r.font=h.string,Kt(t.title,C),r.font=u.string,Kt(t.beforeBody.concat(t.afterBody),C),T=e.displayColors?o+2+e.boxPadding:0,Kt(n,R=>{Kt(R.before,C),Kt(R.lines,C),Kt(R.after,C)}),T=0,r.font=f.string,Kt(t.footer,C),r.restore(),v+=w.width,{width:v,height:b}}function YU(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function KU(t,e,r,n){const{x:s,width:i}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function GU(t,e,r,n){const{x:s,width:i}=r,{width:o,chartArea:{left:c,right:u}}=t;let h="center";return n==="center"?h=s<=(c+u)/2?"left":"right":s<=i/2?h="left":s>=o-i/2&&(h="right"),KU(h,t,e,r)&&(h="center"),h}function kw(t,e,r){const n=r.yAlign||e.yAlign||YU(t,r);return{xAlign:r.xAlign||e.xAlign||GU(t,e,r,n),yAlign:n}}function qU(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function XU(t,e,r){let{y:n,height:s}=t;return e==="top"?n+=r:e==="bottom"?n-=s+r:n-=s/2,n}function Nw(t,e,r,n){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:c,yAlign:u}=r,h=s+i,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:x}=Dl(o);let w=qU(e,c);const b=XU(e,u,h);return u==="center"?c==="left"?w+=h:c==="right"&&(w-=h):c==="left"?w-=Math.max(f,g)+s:c==="right"&&(w+=Math.max(p,x)+s),{x:Mn(w,0,n.width-e.width),y:Mn(b,0,n.height-e.height)}}function R0(t,e,r){const n=js(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function Sw(t){return oa([],Ea(t))}function JU(t,e,r){return Lo(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function _w(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const z_={beforeTitle:Ca,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Ca,beforeBody:Ca,beforeLabel:Ca,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return mr(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Ca,afterBody:Ca,beforeFooter:Ca,footer:Ca,afterFooter:Ca};function Fn(t,e,r,n){const s=t[e].call(r,n);return typeof s>"u"?z_[e].call(r,n):s}class _g extends za{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&r.options.animation&&n.animations,i=new __(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=JU(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,s=Fn(n,"beforeTitle",this,e),i=Fn(n,"title",this,e),o=Fn(n,"afterTitle",this,e);let c=[];return c=oa(c,Ea(s)),c=oa(c,Ea(i)),c=oa(c,Ea(o)),c}getBeforeBody(e,r){return Sw(Fn(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,s=[];return Kt(e,i=>{const o={before:[],lines:[],after:[]},c=_w(n,i);oa(o.before,Ea(Fn(c,"beforeLabel",this,i))),oa(o.lines,Fn(c,"label",this,i)),oa(o.after,Ea(Fn(c,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,r){return Sw(Fn(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,s=Fn(n,"beforeFooter",this,e),i=Fn(n,"footer",this,e),o=Fn(n,"afterFooter",this,e);let c=[];return c=oa(c,Ea(s)),c=oa(c,Ea(i)),c=oa(c,Ea(o)),c}_createItems(e){const r=this._active,n=this.chart.data,s=[],i=[],o=[];let c=[],u,h;for(u=0,h=r.length;u<h;++u)c.push(WU(this.chart,r[u]));return e.filter&&(c=c.filter((f,p,g)=>e.filter(f,p,g,n))),e.itemSort&&(c=c.sort((f,p)=>e.itemSort(f,p,n))),Kt(c,f=>{const p=_w(e.callbacks,f);s.push(Fn(p,"labelColor",this,f)),i.push(Fn(p,"labelPointStyle",this,f)),o.push(Fn(p,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=c,c}update(e,r){const n=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const c=Jc[n.position].call(this,s,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const u=this._size=ww(this,n),h=Object.assign({},c,u),f=kw(this.chart,n,h),p=Nw(n,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,i={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,s){const i=this.getCaretPosition(e,n,s);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:c}=n,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=Dl(c),{x:g,y:x}=e,{width:w,height:b}=r;let v,_,T,C,R,j;return i==="center"?(R=x+b/2,s==="left"?(v=g,_=v-o,C=R+o,j=R-o):(v=g+w,_=v+o,C=R-o,j=R+o),T=v):(s==="left"?_=g+Math.max(u,f)+o:s==="right"?_=g+w-Math.max(h,p)-o:_=this.caretX,i==="top"?(C=x,R=C-o,v=_-o,T=_+o):(C=x+b,R=C+o,v=_+o,T=_-o),j=C),{x1:v,x2:_,x3:T,y1:C,y2:R,y3:j}}drawTitle(e,r,n){const s=this.title,i=s.length;let o,c,u;if(i){const h=Rl(n.rtl,this.x,this.width);for(e.x=R0(this,n.titleAlign,n),r.textAlign=h.textAlign(n.titleAlign),r.textBaseline="middle",o=hn(n.titleFont),c=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,u=0;u<i;++u)r.fillText(s[u],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,u+1===i&&(e.y+=n.titleMarginBottom-c)}}_drawColorBox(e,r,n,s,i){const o=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:u,boxWidth:h}=i,f=hn(i.bodyFont),p=R0(this,"left",i),g=s.x(p),x=u<f.lineHeight?(f.lineHeight-u)/2:0,w=r.y+x;if(i.usePointStyle){const b={radius:Math.min(h,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},v=s.leftForLtr(g,h)+h/2,_=w+u/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,wg(e,b,v,_),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,wg(e,b,v,_)}else{e.lineWidth=Bt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const b=s.leftForLtr(g,h),v=s.leftForLtr(s.xPlus(g,1),h-2),_=Dl(o.borderRadius);Object.values(_).some(T=>T!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Ah(e,{x:b,y:w,w:h,h:u,radius:_}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Ah(e,{x:v,y:w+1,w:h-2,h:u-2,radius:_}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(b,w,h,u),e.strokeRect(b,w,h,u),e.fillStyle=o.backgroundColor,e.fillRect(v,w+1,h-2,u-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:c,boxHeight:u,boxWidth:h,boxPadding:f}=n,p=hn(n.bodyFont);let g=p.lineHeight,x=0;const w=Rl(n.rtl,this.x,this.width),b=function(P){r.fillText(P,w.x(e.x+x),e.y+g/2),e.y+=g+i},v=w.textAlign(o);let _,T,C,R,j,O,S;for(r.textAlign=o,r.textBaseline="middle",r.font=p.string,e.x=R0(this,v,n),r.fillStyle=n.bodyColor,Kt(this.beforeBody,b),x=c&&v!=="right"?o==="center"?h/2+f:h+2+f:0,R=0,O=s.length;R<O;++R){for(_=s[R],T=this.labelTextColors[R],r.fillStyle=T,Kt(_.before,b),C=_.lines,c&&C.length&&(this._drawColorBox(r,e,R,w,n),g=Math.max(p.lineHeight,u)),j=0,S=C.length;j<S;++j)b(C[j]),g=p.lineHeight;Kt(_.after,b)}x=0,g=p.lineHeight,Kt(this.afterBody,b),e.y-=i}drawFooter(e,r,n){const s=this.footer,i=s.length;let o,c;if(i){const u=Rl(n.rtl,this.x,this.width);for(e.x=R0(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=u.textAlign(n.footerAlign),r.textBaseline="middle",o=hn(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,c=0;c<i;++c)r.fillText(s[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,s){const{xAlign:i,yAlign:o}=this,{x:c,y:u}=e,{width:h,height:f}=n,{topLeft:p,topRight:g,bottomLeft:x,bottomRight:w}=Dl(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(c+p,u),o==="top"&&this.drawCaret(e,r,n,s),r.lineTo(c+h-g,u),r.quadraticCurveTo(c+h,u,c+h,u+g),o==="center"&&i==="right"&&this.drawCaret(e,r,n,s),r.lineTo(c+h,u+f-w),r.quadraticCurveTo(c+h,u+f,c+h-w,u+f),o==="bottom"&&this.drawCaret(e,r,n,s),r.lineTo(c+x,u+f),r.quadraticCurveTo(c,u+f,c,u+f-x),o==="center"&&i==="left"&&this.drawCaret(e,r,n,s),r.lineTo(c,u+p),r.quadraticCurveTo(c,u,c+p,u),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,s=n&&n.x,i=n&&n.y;if(s||i){const o=Jc[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=ww(this,e),u=Object.assign({},o,this._size),h=kw(r,e,u),f=Nw(e,u,h,r);(s._to!==f.x||i._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=js(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,s,r),k_(e,r.textDirection),i.y+=o.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),N_(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,s=e.map(({datasetIndex:c,index:u})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[u],index:u}}),i=!Sh(n,s),o=this._positionChanged(s,r);(i||o)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,r,n),c=this._positionChanged(o,e),u=r||!Sh(o,i)||c;return u&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),u}_getActiveElements(e,r,n,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:n,caretY:s,options:i}=this,o=Jc[i.position].call(this,e,r);return o!==!1&&(n!==o.x||s!==o.y)}}pt(_g,"positioners",Jc);var QU={id:"tooltip",_element:_g,positioners:Jc,afterInit(t,e,r){r&&(t.tooltip=new _g({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:z_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const ZU=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function ez(t,e,r,n){const s=t.indexOf(e);if(s===-1)return ZU(t,e,r,n);const i=t.lastIndexOf(e);return s!==i?r:s}const tz=(t,e)=>t===null?null:Mn(Math.round(t),0,e);function jw(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class jg extends ql{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:s,label:i}of r)n[s]===i&&n.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(mr(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:ez(n,e,Rt(r,e),this._addedLabels),tz(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,s=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)s.push({value:o});return s}getLabelForValue(e){return jw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}pt(jg,"id","category"),pt(jg,"defaults",{ticks:{callback:jw}});function rz(t,e){const r=[],{bounds:s,step:i,min:o,max:c,precision:u,count:h,maxTicks:f,maxDigits:p,includeBounds:g}=t,x=i||1,w=f-1,{min:b,max:v}=e,_=!mr(o),T=!mr(c),C=!mr(h),R=(v-b)/(p+1);let j=P2((v-b)/w/x)*x,O,S,P,B;if(j<1e-14&&!_&&!T)return[{value:b},{value:v}];B=Math.ceil(v/j)-Math.floor(b/j),B>w&&(j=P2(B*j/w/x)*x),mr(u)||(O=Math.pow(10,u),j=Math.ceil(j*O)/O),s==="ticks"?(S=Math.floor(b/j)*j,P=Math.ceil(v/j)*j):(S=b,P=v),_&&T&&i&&O9((c-o)/i,j/1e3)?(B=Math.round(Math.min((c-o)/j,f)),j=(c-o)/B,S=o,P=c):C?(S=_?o:S,P=T?c:P,B=h-1,j=(P-S)/B):(B=(P-S)/j,dd(B,Math.round(B),j/1e3)?B=Math.round(B):B=Math.ceil(B));const ae=Math.max(D2(j),D2(S));O=Math.pow(10,mr(u)?ae:u),S=Math.round(S*O)/O,P=Math.round(P*O)/O;let q=0;for(_&&(g&&S!==o?(r.push({value:o}),S<o&&q++,dd(Math.round((S+q*j)*O)/O,o,Cw(o,R,t))&&q++):S<o&&q++);q<B;++q){const H=Math.round((S+q*j)*O)/O;if(T&&H>c)break;r.push({value:H})}return T&&g&&P!==c?r.length&&dd(r[r.length-1].value,c,Cw(c,R,t))?r[r.length-1].value=c:r.push({value:c}):(!T||P===c)&&r.push({value:P}),r}function Cw(t,e,{horizontal:r,minRotation:n}){const s=mo(n),i=(r?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class nz extends ql{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return mr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this;const o=u=>s=r?s:u,c=u=>i=n?i:u;if(e){const u=Ol(s),h=Ol(i);u<0&&h<0?c(0):u>0&&h>0&&o(0)}if(s===i){let u=i===0?1:Math.abs(i*.05);c(i+u),e||o(s-u)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=rz(s,i);return e.bounds==="ticks"&&M9(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const s=(n-r)/Math.max(e.length-1,1)/2;r-=s,n+=s}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return f_(e,this.chart.options.locale,this.options.ticks.format)}}class Cg extends nz{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=_s(e)?e:0,this.max=_s(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=mo(this.options.ticks.minRotation),s=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}pt(Cg,"id","linear"),pt(Cg,"defaults",{ticks:{callback:m_.formatters.numeric}});const ff={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},On=Object.keys(ff);function Tw(t,e){return t-e}function Ew(t,e){if(mr(e))return null;const r=t._adapter,{parser:n,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),_s(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(s&&(o=s==="week"&&(Eh(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,s)),+o)}function Aw(t,e,r,n){const s=On.length;for(let i=On.indexOf(t);i<s-1;++i){const o=ff[On[i]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(c*o.size))<=n)return On[i]}return On[s-1]}function sz(t,e,r,n,s){for(let i=On.length-1;i>=On.indexOf(r);i--){const o=On[i];if(ff[o].common&&t._adapter.diff(s,n,o)>=e-1)return o}return On[r?On.indexOf(r):0]}function az(t){for(let e=On.indexOf(t)+1,r=On.length;e<r;++e)if(ff[On[e]].common)return On[e]}function Pw(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:s}=Mx(r,e),i=r[n]>=e?r[n]:r[s];t[i]=!0}}function iz(t,e,r,n){const s=t._adapter,i=+s.startOf(e[0].value,n),o=e[e.length-1].value;let c,u;for(c=i;c<=o;c=+s.add(c,1,n))u=r[c],u>=0&&(e[u].major=!0);return e}function Dw(t,e,r){const n=[],s={},i=e.length;let o,c;for(o=0;o<i;++o)c=e[o],s[c]=o,n.push({value:c,major:!1});return i===0||!r?n:iz(t,n,s,r)}class Fh extends ql{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),s=this._adapter=new cB._date(e.adapters.date);s.init(r),cd(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:Ew(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:c}=this.getUserBounds();function u(h){!o&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!c&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!o||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=_s(s)&&!isNaN(s)?s:+r.startOf(Date.now(),n),i=_s(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,c=z9(s,i,o);return this._unit=r.unit||(n.autoSkip?Aw(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):sz(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:az(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),Dw(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?r=1-s:r=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=Mn(r,0,o),n=Mn(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,s=this.options,i=s.time,o=i.unit||Aw(i.minUnit,r,n,this._getLabelCapacity(r)),c=Rt(s.ticks.stepSize,1),u=o==="week"?i.isoWeekday:!1,h=Eh(u)||u===!0,f={};let p=r,g,x;if(h&&(p=+e.startOf(p,"isoWeek",u)),p=+e.startOf(p,h?"day":o),e.diff(n,r,o)>1e5*c)throw new Error(r+" and "+n+" are too far apart with stepSize of "+c+" "+o);const w=s.ticks.source==="data"&&this.getDataTimestamps();for(g=p,x=0;g<n;g=+e.add(g,c,o),x++)Pw(f,g,w);return(g===n||s.bounds==="ticks"||x===1)&&Pw(f,g,w),Object.keys(f).sort(Tw).map(b=>+b)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const s=this.options.time.displayFormats,i=this._unit,o=r||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,s){const i=this.options,o=i.ticks.callback;if(o)return ir(o,[e,r,n],this);const c=i.time.displayFormats,u=this._unit,h=this._majorUnit,f=u&&c[u],p=h&&c[h],g=n[r],x=h&&p&&g&&g.major;return this._adapter.format(e,s||(x?p:f))}generateTickLabels(e){let r,n,s;for(r=0,n=e.length;r<n;++r)s=e[r],s.label=this._tickFormatFunction(s.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,s=mo(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(s),o=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:n*i+c*o,h:n*o+c*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,s=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Dw(this,[e],this._majorUnit),s),o=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,n=s.length;r<n;++r)e=e.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const s=this.getLabels();for(r=0,n=s.length;r<n;++r)e.push(Ew(this,s[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $9(e.sort(Tw))}}pt(Fh,"id","time"),pt(Fh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function F0(t,e,r){let n=0,s=t.length-1,i,o,c,u;r?(e>=t[n].pos&&e<=t[s].pos&&({lo:n,hi:s}=vg(t,"pos",e)),{pos:i,time:c}=t[n],{pos:o,time:u}=t[s]):(e>=t[n].time&&e<=t[s].time&&({lo:n,hi:s}=vg(t,"time",e)),{time:i,pos:c}=t[n],{time:o,pos:u}=t[s]);const h=o-i;return h?c+(u-c)*(e-i)/h:c}class Rw extends Fh{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=F0(r,this.min),this._tableRange=F0(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,s=[],i=[];let o,c,u,h,f;for(o=0,c=e.length;o<c;++o)h=e[o],h>=r&&h<=n&&s.push(h);if(s.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,c=s.length;o<c;++o)f=s[o+1],u=s[o-1],h=s[o],Math.round((f+u)/2)!==h&&i.push({time:h,pos:o/(c-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(F0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return F0(this._table,n*this._tableRange+this._minPos,!0)}}pt(Rw,"id","timeseries"),pt(Rw,"defaults",Fh.defaults);fi.register(jg,Cg,Q0,Xc,Z0,qc,HU,QU,VU);const oz=()=>{const[t,e]=A.useState(!0),[r,n]=A.useState(null),[s,i]=A.useState([]),[o,c]=A.useState([]),[u,h]=A.useState([]),[f,p]=A.useState({}),[g,x]=A.useState("USD"),[w,b]=A.useState("monthly"),[v,_]=A.useState(new Date().getFullYear()),[T,C]=A.useState(new Date().getMonth()+1),[R,j]=A.useState(Math.ceil((new Date().getMonth()+1)/3)),[O,S]=A.useState("overview"),[P,B]=A.useState("date"),[ae,q]=A.useState("desc");A.useMemo(()=>{const Se=new Date().getFullYear();return Array.from({length:5},(ze,Be)=>Se-Be)},[]),A.useMemo(()=>[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],[]),A.useMemo(()=>[{value:1,label:"Q1 (Jan-Mar)"},{value:2,label:"Q2 (Apr-Jun)"},{value:3,label:"Q3 (Jul-Sep)"},{value:4,label:"Q4 (Oct-Dec)"}],[]);const H=[{value:"monthly",label:"Month wise (Last 12 months)"},{value:"quarterly",label:"3 Months (Quarterly)"},{value:"half-yearly",label:"Half Yearly (6 months)"},{value:"yearly",label:"Yearly (Last 3 years)"}],ie=[{value:"1month",label:"1 Month"},{value:"3month",label:"3 Months"},{value:"6month",label:"6 Months"},{value:"1year",label:"1 Year"}];A.useEffect(()=>{const Se=yo();x(Se.currency),p(Se.exchangeRates);const ze=()=>{const Be=yo();x(Be.currency),p(Be.exchangeRates)};return window.addEventListener("storage",ze),()=>{window.removeEventListener("storage",ze)}},[]),A.useEffect(()=>{re()},[]),A.useEffect(()=>{s.length>0&&L()},[s,w,v,T,R,g]);const re=async()=>{try{e(!0),n(null);let Se=[];try{const kt="https://crm-backend-o36v.onrender.com/api",Tt=localStorage.getItem("token"),Ft=await er.get(`${kt}/sales?full=true&nocache=${new Date().getTime()}`,{headers:{Authorization:`Bearer ${Tt}`,"Content-Type":"application/json"}});console.log("AdminReportsPage - Full sales response:",Ft),Ft.data&&Ft.data.success&&Ft.data.data&&Array.isArray(Ft.data.data)?(Se=Ft.data.data,console.log("AdminReportsPage - Sales count from direct axios call:",Se.length)):Ft.data&&Array.isArray(Ft.data)?(Se=Ft.data,console.log("AdminReportsPage - Sales count from direct array response:",Se.length)):(console.warn("AdminReportsPage - Unexpected sales response format:",Ft.data),Se=[])}catch(it){console.error("AdminReportsPage - Error fetching sales with direct axios:",it);try{const kt=await Er.getAllForced();kt.data&&kt.data.success&&(Se=kt.data.data,console.log("AdminReportsPage - Sales count from fallback API:",Se.length))}catch(kt){console.error("AdminReportsPage - Fallback sales fetch also failed:",kt),Se=[]}}const ze=await mn.getAll(),Be=ze.data.success?ze.data.data:[],Re=await ih.getRates();let Ve={};Re.data.success?(Ve=Re.data.data,xl({exchangeRates:Ve})):Ve=yo().exchangeRates;const Ze=Se.map(it=>({...it,id:it._id,date:new Date(it.date||it.createdAt),customerName:it.customerName||it.leadId&&(it.leadId.name||it.leadId.NAME)||"Unknown",course:it.course||it.product||"Unknown",totalCost:parseFloat(it.totalCost||it.amount||0),tokenAmount:parseFloat(it.tokenAmount||it.token||0),pendingAmount:parseFloat(it.status==="Completed"?0:it.pendingAmount||(it.totalCost||it.amount||0)-(it.tokenAmount||it.token||0)),currency:it.currency||"USD"}));i(Ze),c(Be),p(Ve),L(Ze),n(null)}catch(Se){console.error("Error fetching report data:",Se),n("Failed to load report data. Please try again.")}finally{e(!1)}},L=(Se=s)=>{const ze=Se||[];let Be=[];switch(w){case"monthly":Be=ze.filter(Re=>{const Ve=new Date(Re.date);return Ve.getMonth()+1===T&&Ve.getFullYear()===v});break;case"quarterly":Be=ze.filter(Re=>{const Ve=new Date(Re.date),Ze=Ve.getMonth()+1;return Math.ceil(Ze/3)===R&&Ve.getFullYear()===v});break;case"yearly":Be=ze.filter(Re=>new Date(Re.date).getFullYear()===v);break;default:Be=ze}Be=ee(Be,P,ae),h(Be)},ee=(Se,ze,Be)=>[...Se].sort((Re,Ve)=>{let Ze,it;switch(ze){case"date":Ze=new Date(Re.date).getTime(),it=new Date(Ve.date).getTime();break;case"totalCost":case"tokenAmount":case"pendingAmount":Ze=bb(Re[ze],"USD"),it=bb(Ve[ze],"USD");break;default:Ze=Re[ze]||"",it=Ve[ze]||""}return typeof Ze=="string"&&typeof it=="string"?Be==="asc"?Ze.localeCompare(it):it.localeCompare(Ze):Be==="asc"?Ze-it:it-Ze}),[Q,te]=A.useState(null),[U,Z]=A.useState(null),[X,M]=A.useState(null),[W,K]=A.useState(null),[E,ce]=A.useState("monthly"),[ne,ue]=A.useState("1month"),[be,Ee]=A.useState("1month"),[Ke,We]=A.useState(null);A.useEffect(()=>{Je(),Xe()},[]),A.useEffect(()=>{He()},[E]),A.useEffect(()=>{xe()},[ne]),A.useEffect(()=>{Te()},[be,Ke]);const Xe=async()=>{try{const Se=await ih.getRates();Se.data&&Se.data.rates&&p(Se.data.rates)}catch(Se){console.error("Error loading exchange rates:",Se),p({USD:1,EUR:.85,GBP:.73,INR:83.12,CAD:1.36,AUD:1.52,JPY:149.5,CNY:7.24})}},He=async()=>{try{e(!0);const Se=await Er.getCourseAnalysis(E);Se.data&&Se.data.success&&te(Se.data.data)}catch(Se){console.error("Error loading course analysis:",Se),Le.error("Failed to load course analysis")}finally{e(!1)}},xe=async()=>{try{e(!0);const Se=await Er.getRevenueAnalysis(ne);Se.data&&Se.data.success&&Z(Se.data.data)}catch(Se){console.error("Error loading revenue analysis:",Se),Le.error("Failed to load revenue analysis")}finally{e(!1)}},Ae=async()=>{try{const Se=await Er.getTopCourses("all",10);Se.data&&Se.data.success&&M(Se.data.data)}catch(Se){console.error("Error loading top courses:",Se),Le.error("Failed to load top courses")}},Te=async()=>{try{e(!0);const Se=await Er.getStatusAnalysis(be,Ke);Se.data&&Se.data.success&&K(Se.data.data)}catch(Se){console.error("Error loading status analysis:",Se),Le.error("Failed to load status analysis")}finally{e(!1)}},Je=async()=>{await Promise.all([He(),xe(),Ae(),Te()])},rt=()=>{if(!Q||!Q.courseAnalysis)return a.jsx("div",{className:"text-center py-4",children:"No course analysis data available"});const Se=Object.keys(Q.courseAnalysis),ze=new Set;Se.forEach(Re=>{Object.keys(Q.courseAnalysis[Re]).forEach(Ve=>{ze.add(Ve)})});const Be=Array.from(ze).sort().reverse();return a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full bg-white dark:bg-slate-900 transition-all duration-200 ease-out border border-slate-200 dark:border-slate-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Course"}),Be.map(Re=>a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:Re},Re)),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Total Sales"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-slate-200 dark:divide-slate-700",children:Se.map(Re=>{const Ve=Q.courseAnalysis[Re],Ze=Object.values(Ve).reduce((it,kt)=>it+kt.totalSales,0);return a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 dark:bg-slate-800 transition-all duration-200 ease-out",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",children:Re}),Be.map(it=>{var Tt;const kt=Ve[it];return a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:kt?a.jsxs("div",{children:[a.jsxs("div",{className:"font-semibold",children:[kt.totalSales," sales"]}),a.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-400",children:["$",((Tt=kt.totalRevenue)==null?void 0:Tt.toFixed(2))||"0.00"]})]}):a.jsx("span",{className:"text-gray-300 dark:text-gray-500",children:"-"})},it)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-blue-600",children:Ze})]},Re)})})]})})},ot=()=>{if(!U)return a.jsx("div",{className:"text-center py-4",children:"No revenue analysis data available"});const{summary:Se,currencyBreakdown:ze,dailyBreakdown:Be}=U;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(kb,{className:"text-blue-600 text-2xl mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Sales"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:Se.totalSales})]})]})}),a.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Nb,{className:"text-green-600 text-2xl mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total Revenue (USD)"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:sa(Se.totalRevenueUSD)})]})]})}),a.jsx("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(J4,{className:"text-yellow-600 text-2xl mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Tokens Received (USD)"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:sa(Se.totalTokensUSD)})]})]})}),a.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zp,{className:"text-red-600 text-2xl mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-red-600",children:"Pending Amount (USD)"}),a.jsx("p",{className:"text-2xl font-bold text-red-900",children:sa(Se.pendingAmountUSD)})]})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-6 rounded-lg shadow-md dark:shadow-2xl shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue by Currency"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Currency"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Sales"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Revenue (Original)"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Revenue (USD)"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Tokens (USD)"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:Object.entries(ze).map(([Re,Ve])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 font-medium",children:Re}),a.jsx("td",{className:"px-4 py-2",children:Ve.totalSales}),a.jsx("td",{className:"px-4 py-2",children:sa(Ve.totalRevenue)}),a.jsx("td",{className:"px-4 py-2",children:sa(Ve.revenueUSD)}),a.jsx("td",{className:"px-4 py-2",children:sa(Ve.tokensUSD)})]},Re))})]})})]}),Be&&Be.length>0&&a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-6 rounded-lg shadow-md dark:shadow-2xl shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Daily Sales Trend"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Date"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Sales"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Revenue"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Tokens"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:Be.slice(-10).map(Re=>{var Ve,Ze;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 font-medium",children:Re.date}),a.jsx("td",{className:"px-4 py-2",children:Re.sales}),a.jsxs("td",{className:"px-4 py-2",children:["$",((Ve=Re.revenue)==null?void 0:Ve.toFixed(2))||"0.00"]}),a.jsxs("td",{className:"px-4 py-2",children:["$",((Ze=Re.tokens)==null?void 0:Ze.toFixed(2))||"0.00"]})]},Re.date)})})]})})]})]})},dt=()=>!X||!X.topCourses?a.jsx("div",{className:"text-center py-4",children:"No top courses data available"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full bg-white dark:bg-slate-900 transition-all duration-200 ease-out border border-slate-200 dark:border-slate-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Rank"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Total Sales"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Total Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Average Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Completion Rate"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-slate-200 dark:divide-slate-700",children:X.topCourses.map((Se,ze)=>a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 dark:bg-slate-800 transition-all duration-200 ease-out",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",children:["#",ze+1]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:Se.course}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:Se.totalSales}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:["$",Se.totalRevenue]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:["$",Se.averagePrice]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-16 bg-gray-200 dark:bg-slate-600 rounded-full h-2 mr-2",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${Se.completionRate}%`}})}),a.jsxs("span",{children:[Se.completionRate,"%"]})]})})]},Se.course))})]})}),wt=()=>{if(!W)return a.jsx("div",{className:"text-center py-4",children:"No status analysis data available"});const{statusSummary:Se,detailedSales:ze,selectedStatus:Be}=W;return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Se.map((Re,Ve)=>a.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-all duration-200 ${Ke===Re.status?"border-blue-500 bg-blue-50":"border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 hover:border-gray-300 dark:border-slate-600"}`,onClick:()=>We(Ke===Re.status?null:Re.status),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:Re.status}),a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:Re.totalSales}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-gray-400",children:"sales"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-green-600",children:sa(Re.totalRevenueUSD)}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-gray-400",children:"revenue"})]})]}),a.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:a.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-gray-400",children:[a.jsxs("span",{children:["Avg: ",sa(Re.averageOrderValueUSD)]}),a.jsxs("span",{children:["Pending: ",sa(Re.pendingAmountUSD)]})]})})]},Re.status))}),Be&&ze&&ze.length>0&&a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-6 rounded-lg shadow-md dark:shadow-2xl shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4",children:['Detailed Sales for "',Be,'" Status (',ze.length," sales)"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Date"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Customer"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Course"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Country"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Sales Person"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Total Cost"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Token"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase",children:"Pending"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:ze.map(Re=>{var Ve,Ze,it;return a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 dark:bg-slate-800 transition-all duration-200 ease-out",children:[a.jsx("td",{className:"px-4 py-2 text-sm",children:new Date(Re.date).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:Re.customerName}),a.jsx("td",{className:"px-4 py-2 text-sm",children:Re.course}),a.jsx("td",{className:"px-4 py-2 text-sm",children:Re.country}),a.jsx("td",{className:"px-4 py-2 text-sm",children:Re.salesPerson}),a.jsxs("td",{className:"px-4 py-2 text-sm",children:["$",((Ve=Re.totalCost)==null?void 0:Ve.toFixed(2))||"0.00"]}),a.jsxs("td",{className:"px-4 py-2 text-sm",children:["$",((Ze=Re.tokenAmount)==null?void 0:Ze.toFixed(2))||"0.00"]}),a.jsxs("td",{className:"px-4 py-2 text-sm",children:["$",((it=Re.pendingAmount)==null?void 0:it.toFixed(2))||"0.00"]})]},Re._id)})})]})})]}),a.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx("strong",{children:"💡 Tip:"})," Click on any status card above to view detailed sales data for that status. The cards show total sales count, revenue, and pending amounts for each status."]})})]})};return a.jsx(rr,{children:a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200",children:"Sales Reports & Analytics"}),a.jsxs("button",{onClick:Je,disabled:t,className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white py-2 px-4 rounded-md transition duration-300 flex items-center",children:[t?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):a.jsx(Q4,{className:"mr-2"}),"Refresh Reports"]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-6 mb-8 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center",children:[a.jsx(sE,{className:"mr-2 text-blue-600"}),"Course Sales Analysis"]}),a.jsx("select",{value:E,onChange:Se=>ce(Se.target.value),className:"border border-slate-300 dark:border-slate-600 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2",children:H.map(Se=>a.jsx("option",{value:Se.value,children:Se.label},Se.value))})]}),rt()]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-6 mb-8 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center",children:[a.jsx(Nb,{className:"mr-2 text-green-600"}),"Revenue Analysis"]}),a.jsx("select",{value:ne,onChange:Se=>ue(Se.target.value),className:"border border-slate-300 dark:border-slate-600 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2",children:ie.map(Se=>a.jsx("option",{value:Se.value,children:Se.label},Se.value))})]}),ot()]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-6 shadow-sm",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-6 flex items-center",children:[a.jsx(kb,{className:"mr-2 text-purple-600"}),"Top Performing Courses (All Time)"]}),dt()]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-6 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center",children:[a.jsx(eE,{className:"mr-2 text-pink-600"}),"Status Analysis"]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("select",{value:be,onChange:Se=>Ee(Se.target.value),className:"border border-slate-300 dark:border-slate-600 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2",children:[a.jsx("option",{value:"1month",children:"1 Month"}),a.jsx("option",{value:"3month",children:"3 Months"}),a.jsx("option",{value:"6month",children:"6 Months"}),a.jsx("option",{value:"1year",children:"1 Year"}),a.jsx("option",{value:"all",children:"All Time"})]}),Ke&&a.jsx("button",{onClick:()=>We(null),className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out0 hover:bg-gray-600 text-white px-3 py-2 rounded-md text-sm",children:"Clear Selection"})]})]}),wt()]})]})})},lz=()=>{const{user:t}=Mt(),[e,r]=A.useState(!0),[n,s]=A.useState("today"),[i,o]=A.useState(new Date().toISOString().split("T")[0]),[c,u]=A.useState({startDate:new Date(Date.now()-6*24*60*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[h,f]=A.useState(7),[p,g]=A.useState(null),[x,w]=A.useState(new Date().toISOString().split("T")[0]),[b,v]=A.useState({data:[],summary:{totalUsers:0,activeUsers:0,totalActiveTime:0,averageActiveTime:0}}),[_,T]=A.useState([]),[C,R]=A.useState({dailyStats:[],userStats:[],period:{startDate:"",endDate:"",days:0}}),[j,O]=A.useState(null),S=async()=>{try{const U=await l0.getAllUsersActivity(i);U.data.success&&v({data:U.data.data||[],summary:U.data.summary||{totalUsers:0,activeUsers:0,totalActiveTime:0,averageActiveTime:0}})}catch(U){console.error("Error fetching today activity:",U),Qt.error("Failed to fetch today's activity data")}},P=async()=>{try{const U=await l0.getAllUsersActivity(null,c.startDate,c.endDate);U.data.success&&T(U.data.data||[])}catch(U){console.error("Error fetching date range activity:",U),Qt.error("Failed to fetch date range activity data")}},B=async()=>{try{const U=await l0.getStatistics(h);U.data.success&&R(U.data.data)}catch(U){console.error("Error fetching statistics:",U),Qt.error("Failed to fetch activity statistics")}},ae=async(U,Z)=>{try{const X=await l0.getAllUsersActivity(Z);if(X.data.success){const M=X.data.data.find(W=>W.userId===U);O(M)}}catch(X){console.error("Error fetching employee details:",X),Qt.error("Failed to fetch employee details")}},q=async()=>{r(!0);try{switch(n){case"today":await S();break;case"range":await P();break;case"statistics":await B();break;case"employee":p&&await ae(p.userId,x);break;default:await S()}}finally{r(!1)}};A.useEffect(()=>{q();const U=setInterval(()=>{n==="today"&&S()},3e4);return()=>clearInterval(U)},[n,i,c,h,p,x]);const H=U=>{if(!U||U<0)return"0m";const Z=Math.floor(U/3600),X=Math.floor(U%3600/60);return Z>0?`${Z}h ${X}m`:`${X}m`},ie=U=>{if(!U||U<0)return"0h 0m 0s";const Z=Math.floor(U/3600),X=Math.floor(U%3600/60),M=U%60;return`${Z}h ${X}m ${M}s`},re=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),L=U=>new Date(U).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),ee=U=>U?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-slate-700",Q=U=>({Admin:"bg-red-100 text-red-800 border-red-200",Manager:"bg-blue-100 text-blue-800 border-blue-200","Sales Person":"bg-green-100 text-green-800 border-green-200","Lead Person":"bg-yellow-100 text-yellow-800 border-yellow-200"})[U]||"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-slate-700",te=U=>{g(U),s("employee")};return!t||t.role!=="Admin"&&t.role!=="Manager"?a.jsx(rr,{children:a.jsx("div",{className:"container mx-auto p-6",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h2",{className:"text-red-800 font-semibold",children:"Access Denied"}),a.jsx("p",{className:"text-red-600",children:"You don't have permission to view this page."})]})})}):a.jsx(rr,{children:a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"User Activity Dashboard"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500 mt-1",children:"Monitor employee CRM usage and productivity"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{onClick:q,disabled:e,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-50",children:[a.jsx("svg",{className:`w-4 h-4 ${e?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{children:"Refresh"})]})})]}),a.jsx("div",{className:"border-b border-gray-200 dark:border-slate-700 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"today",label:"Today's Activity",icon:"📊"},{id:"range",label:"Date Range",icon:"📅"},{id:"statistics",label:"Statistics",icon:"📈"},{id:"employee",label:"Employee Details",icon:"👤"}].map(U=>a.jsxs("button",{onClick:()=>s(U.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${n===U.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 dark:text-gray-400 dark:text-gray-400 hover:text-gray-700 dark:text-gray-300 dark:text-gray-400 hover:border-gray-300 dark:border-slate-600"}`,children:[a.jsx("span",{children:U.icon}),a.jsx("span",{children:U.label})]},U.id))})}),n==="today"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"Select Date:"}),a.jsx("input",{type:"date",value:i,onChange:U=>o(U.target.value),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow p-6 border",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.summary.totalUsers})]})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow p-6 border",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Currently Active"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.summary.activeUsers})]})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow p-6 border",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Total Active Time"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:H(b.summary.totalActiveTime)})]})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow p-6 border",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Average Time"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:H(b.summary.averageActiveTime)})]})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow border",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"User Activity Details"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:["Activity for ",re(i)]})]}),e?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500 mt-2",children:"Loading activity data..."})]}):b.data.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("svg",{className:"w-12 h-12 text-gray-400 dark:text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"No activity data found for this date"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Active Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Sessions"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Last Activity"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-gray-200 dark:divide-slate-700",children:b.data.map(U=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:bg-slate-800",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:U.userName}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:U.userEmail})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${Q(U.userRole)}`,children:U.userRole})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${ee(U.isCurrentlyActive)}`,children:U.isCurrentlyActive?"🟢 Active":"⚫ Offline"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:H(U.totalActiveTime)}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:ie(U.totalActiveTime)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:U.sessionsCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:U.lastActivity?L(U.lastActivity):"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:a.jsx("button",{onClick:()=>te(U),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs",children:"View Details"})})]},U.userId))})]})})]})]}),n==="range"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"From:"}),a.jsx("input",{type:"date",value:c.startDate,onChange:U=>u(Z=>({...Z,startDate:U.target.value})),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm"}),a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"To:"}),a.jsx("input",{type:"date",value:c.endDate,onChange:U=>u(Z=>({...Z,endDate:U.target.value})),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow border",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Activity by Date Range"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:[re(c.startDate)," to ",re(c.endDate)]})]}),e?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500 mt-2",children:"Loading date range data..."})]}):_.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("svg",{className:"w-12 h-12 text-gray-400 dark:text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"No activity data found for this date range"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Active Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Sessions"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Last Activity"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-gray-200 dark:divide-slate-700",children:_.map((U,Z)=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:bg-slate-800",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:U.userName}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:U.userEmail})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${Q(U.userRole)}`,children:U.userRole})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:re(U.date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:H(U.totalActiveTime)}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:ie(U.totalActiveTime)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:U.sessionsCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:U.lastActivity?L(U.lastActivity):"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:a.jsx("button",{onClick:()=>{w(U.date),te(U)},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs",children:"View Details"})})]},`${U.userId}-${U.date}-${Z}`))})]})})]})]}),n==="statistics"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"Period:"}),[7,14,30].map(U=>a.jsxs("button",{onClick:()=>f(U),className:`px-4 py-2 rounded-lg text-sm font-medium ${h===U?"bg-blue-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 dark:text-gray-400 hover:bg-gray-200 dark:bg-slate-600"}`,children:[U," days"]},U))]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow border",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Daily Activity Trends"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:["Last ",h," days"]})]}),e?a.jsx("div",{className:"p-8 text-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Active Users"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Total Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Average Time"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-gray-200 dark:divide-slate-700",children:C.dailyStats.map(U=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:bg-slate-800",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:re(U.date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:U.totalUsers}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:H(U.totalActiveTime)}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:ie(U.totalActiveTime)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:H(U.averageActiveTime)}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:ie(U.averageActiveTime)})]})})]},U.date))})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow border",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Top Active Users"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:["Last ",h," days"]})]}),e?a.jsx("div",{className:"p-8 text-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Active Days"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Total Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Daily Average"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-gray-200 dark:divide-slate-700",children:C.userStats.map(U=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:bg-slate-800",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:U.userName}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:U.userEmail})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${Q(U.userRole)}`,children:U.userRole})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:U.totalDays}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:H(U.totalActiveTime)}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:ie(U.totalActiveTime)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:H(U.averageActiveTime)}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:ie(U.averageActiveTime)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:a.jsx("button",{onClick:()=>te(U),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs",children:"View Details"})})]},U.userId))})]})})]})]}),n==="employee"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow p-6 border",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Employee Activity Details"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-2",children:"Select Date:"}),a.jsx("input",{type:"date",value:x,onChange:U=>w(U.target.value),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-2",children:"Select Employee:"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:b.data.map(U=>a.jsx("button",{onClick:()=>te(U),className:`px-3 py-2 rounded-lg text-sm font-medium border ${(p==null?void 0:p.userId)===U.userId?"bg-blue-600 text-white border-blue-600":"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 dark:text-gray-400 border-gray-300 dark:border-slate-600 hover:bg-gray-200 dark:bg-slate-600"}`,children:U.userName},U.userId))})]})]}),p&&a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow border",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:[p.userName," - Activity Details"]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:["Activity for ",re(x)]})]}),e?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500 mt-2",children:"Loading employee details..."})]}):j?a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[a.jsx("div",{className:"text-sm font-medium text-blue-600",children:"Total Active Time"}),a.jsx("div",{className:"text-2xl font-bold text-blue-900",children:H(j.totalActiveTime)}),a.jsx("div",{className:"text-xs text-blue-600",children:ie(j.totalActiveTime)})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[a.jsx("div",{className:"text-sm font-medium text-green-600",children:"Sessions"}),a.jsx("div",{className:"text-2xl font-bold text-green-900",children:j.sessionsCount}),a.jsx("div",{className:"text-xs text-green-600",children:"Total sessions today"})]}),a.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[a.jsx("div",{className:"text-sm font-medium text-purple-600",children:"Status"}),a.jsx("div",{className:"text-lg font-bold text-purple-900",children:j.isCurrentlyActive?"🟢 Active":"⚫ Offline"}),a.jsx("div",{className:"text-xs text-purple-600",children:"Current status"})]}),a.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[a.jsx("div",{className:"text-sm font-medium text-orange-600",children:"Last Activity"}),a.jsx("div",{className:"text-lg font-bold text-orange-900",children:j.lastActivity?L(j.lastActivity):"N/A"}),a.jsx("div",{className:"text-xs text-orange-600",children:"Last seen"})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-lg p-4 mb-6",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3",children:"Employee Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Name:"}),a.jsx("span",{className:"ml-2 text-sm text-gray-900 dark:text-white",children:j.userName})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Email:"}),a.jsx("span",{className:"ml-2 text-sm text-gray-900 dark:text-white",children:j.userEmail})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Role:"}),a.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${Q(j.userRole)}`,children:j.userRole})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Date:"}),a.jsx("span",{className:"ml-2 text-sm text-gray-900 dark:text-white",children:re(j.date)})]})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-lg p-4",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3",children:"Activity Summary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Total Active Time:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ie(j.totalActiveTime)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Number of Sessions:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:j.sessionsCount})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Average Session Time:"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:j.sessionsCount>0?H(Math.floor(j.totalActiveTime/j.sessionsCount)):"0m"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Current Status:"}),a.jsx("span",{className:`text-sm font-medium ${j.isCurrentlyActive?"text-green-600":"text-gray-600 dark:text-gray-300"}`,children:j.isCurrentlyActive?"Currently Active":"Offline"})]})]})]})]}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("svg",{className:"w-12 h-12 text-gray-400 dark:text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-500",children:["No activity data found for this employee on ",re(x)]})]})]})]})]})})},Lr=({children:t,allowedRoles:e})=>{const{user:r,loading:n}=Mt();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?e.includes(r.role)?t:a.jsx($p,{to:"/",replace:!0}):a.jsx($p,{to:"/login",replace:!0})},Fw="/assets/ForgotPassword-CiiIXMXF.jpg",V_=A.createContext({});function cz(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const Gx=typeof window<"u",dz=Gx?A.useLayoutEffect:A.useEffect,qx=A.createContext(null),$_=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function uz(t=!0){const e=A.useContext(qx);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,i=A.useId();A.useEffect(()=>{if(t)return s(i)},[t]);const o=A.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}function Xx(t,e){t.indexOf(e)===-1&&t.push(e)}function Jx(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Ia=(t,e,r)=>r>e?e:r<t?t:r;let Qx=()=>{};const Ba={},H_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),W_=t=>/^0[^.\s]+$/u.test(t);function Zx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ss=t=>t,hz=(t,e)=>r=>e(t(r)),su=(...t)=>t.reduce(hz),Md=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class e1{constructor(){this.subscriptions=[]}add(e){return Xx(this.subscriptions,e),()=>Jx(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const da=t=>t*1e3,ua=t=>t/1e3;function Y_(t,e){return e?t*(1e3/e):0}const K_=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,fz=1e-7,mz=12;function pz(t,e,r,n,s){let i,o,c=0;do o=e+(r-e)/2,i=K_(o,n,s)-t,i>0?r=o:e=o;while(Math.abs(i)>fz&&++c<mz);return o}function au(t,e,r,n){if(t===e&&r===n)return Ss;const s=i=>pz(i,0,1,t,r);return i=>i===0||i===1?i:K_(s(i),e,n)}const G_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,q_=t=>e=>1-t(1-e),X_=au(.33,1.53,.69,.99),t1=q_(X_),J_=G_(t1),Q_=t=>(t*=2)<1?.5*t1(t):.5*(2-Math.pow(2,-10*(t-1))),r1=t=>1-Math.sin(Math.acos(t)),Z_=q_(r1),ej=G_(r1),gz=au(.42,0,1,1),xz=au(0,0,.58,1),tj=au(.42,0,.58,1),yz=t=>Array.isArray(t)&&typeof t[0]!="number",rj=t=>Array.isArray(t)&&typeof t[0]=="number",vz={linear:Ss,easeIn:gz,easeInOut:tj,easeOut:xz,circIn:r1,circInOut:ej,circOut:Z_,backIn:t1,backInOut:J_,backOut:X_,anticipate:Q_},bz=t=>typeof t=="string",Ow=t=>{if(rj(t)){Qx(t.length===4);const[e,r,n,s]=t;return au(e,r,n,s)}else if(bz(t))return vz[t];return t},O0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Mw={value:null};function wz(t,e){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},u=0;function h(p){o.has(p)&&(f.schedule(p),t()),u++,p(c)}const f={schedule:(p,g=!1,x=!1)=>{const b=x&&s?r:n;return g&&o.add(p),b.has(p)||b.add(p),p},cancel:p=>{n.delete(p),o.delete(p)},process:p=>{if(c=p,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(h),e&&Mw.value&&Mw.value.frameloop[e].push(u),u=0,r.clear(),s=!1,i&&(i=!1,f.process(p))}};return f}const kz=40;function nj(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=O0.reduce((C,R)=>(C[R]=wz(i,e?R:void 0),C),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:f,update:p,preRender:g,render:x,postRender:w}=o,b=()=>{const C=Ba.useManualTiming?s.timestamp:performance.now();r=!1,Ba.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(C-s.timestamp,kz),1)),s.timestamp=C,s.isProcessing=!0,c.process(s),u.process(s),h.process(s),f.process(s),p.process(s),g.process(s),x.process(s),w.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(b))},v=()=>{r=!0,n=!0,s.isProcessing||t(b)};return{schedule:O0.reduce((C,R)=>{const j=o[R];return C[R]=(O,S=!1,P=!1)=>(r||v(),j.schedule(O,S,P)),C},{}),cancel:C=>{for(let R=0;R<O0.length;R++)o[O0[R]].cancel(C)},state:s,steps:o}}const{schedule:gr,cancel:Ei,state:Xr,steps:Cp}=nj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ss,!0);let eh;function Nz(){eh=void 0}const Ln={now:()=>(eh===void 0&&Ln.set(Xr.isProcessing||Ba.useManualTiming?Xr.timestamp:performance.now()),eh),set:t=>{eh=t,queueMicrotask(Nz)}},sj=t=>e=>typeof e=="string"&&e.startsWith(t),n1=sj("--"),Sz=sj("var(--"),s1=t=>Sz(t)?_z.test(t.split("/*")[0].trim()):!1,_z=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ld={...Xl,transform:t=>Ia(0,1,t)},M0={...Xl,default:1},fd=t=>Math.round(t*1e5)/1e5,a1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jz(t){return t==null}const Cz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,i1=(t,e)=>r=>!!(typeof r=="string"&&Cz.test(r)&&r.startsWith(t)||e&&!jz(r)&&Object.prototype.hasOwnProperty.call(r,e)),aj=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,c]=n.match(a1);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},Tz=t=>Ia(0,255,t),Tp={...Xl,transform:t=>Math.round(Tz(t))},po={test:i1("rgb","red"),parse:aj("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Tp.transform(t)+", "+Tp.transform(e)+", "+Tp.transform(r)+", "+fd(Ld.transform(n))+")"};function Ez(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Tg={test:i1("#"),parse:Ez,transform:po.transform},iu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ui=iu("deg"),ha=iu("%"),xt=iu("px"),Az=iu("vh"),Pz=iu("vw"),Lw={...ha,parse:t=>ha.parse(t)/100,transform:t=>ha.transform(t*100)},wl={test:i1("hsl","hue"),parse:aj("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ha.transform(fd(e))+", "+ha.transform(fd(r))+", "+fd(Ld.transform(n))+")"},dn={test:t=>po.test(t)||Tg.test(t)||wl.test(t),parse:t=>po.test(t)?po.parse(t):wl.test(t)?wl.parse(t):Tg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?po.transform(t):wl.transform(t)},Dz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Rz(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(a1))==null?void 0:e.length)||0)+(((r=t.match(Dz))==null?void 0:r.length)||0)>0}const ij="number",oj="color",Fz="var",Oz="var(",Iw="${}",Mz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Id(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const c=e.replace(Mz,u=>(dn.test(u)?(n.color.push(i),s.push(oj),r.push(dn.parse(u))):u.startsWith(Oz)?(n.var.push(i),s.push(Fz),r.push(u)):(n.number.push(i),s.push(ij),r.push(parseFloat(u))),++i,Iw)).split(Iw);return{values:r,split:c,indexes:n,types:s}}function lj(t){return Id(t).values}function cj(t){const{split:e,types:r}=Id(t),n=e.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],s[o]!==void 0){const c=r[o];c===ij?i+=fd(s[o]):c===oj?i+=dn.transform(s[o]):i+=s[o]}return i}}const Lz=t=>typeof t=="number"?0:t;function Iz(t){const e=lj(t);return cj(t)(e.map(Lz))}const Ai={test:Rz,parse:lj,createTransformer:cj,getAnimatableNone:Iz};function Ep(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Bz({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,o=0;if(!e)s=i=o=r;else{const c=r<.5?r*(1+e):r+e-r*e,u=2*r-c;s=Ep(u,c,t+1/3),i=Ep(u,c,t),o=Ep(u,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Oh(t,e){return r=>r>0?e:t}const pr=(t,e,r)=>t+(e-t)*r,Ap=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},Uz=[Tg,po,wl],zz=t=>Uz.find(e=>e.test(t));function Bw(t){const e=zz(t);if(!e)return!1;let r=e.parse(t);return e===wl&&(r=Bz(r)),r}const Uw=(t,e)=>{const r=Bw(t),n=Bw(e);if(!r||!n)return Oh(t,e);const s={...r};return i=>(s.red=Ap(r.red,n.red,i),s.green=Ap(r.green,n.green,i),s.blue=Ap(r.blue,n.blue,i),s.alpha=pr(r.alpha,n.alpha,i),po.transform(s))},Eg=new Set(["none","hidden"]);function Vz(t,e){return Eg.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function $z(t,e){return r=>pr(t,e,r)}function o1(t){return typeof t=="number"?$z:typeof t=="string"?s1(t)?Oh:dn.test(t)?Uw:Yz:Array.isArray(t)?dj:typeof t=="object"?dn.test(t)?Uw:Hz:Oh}function dj(t,e){const r=[...t],n=r.length,s=t.map((i,o)=>o1(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function Hz(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=o1(t[s])(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function Wz(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][n[i]],c=t.values[o]??0;r[s]=c,n[i]++}return r}const Yz=(t,e)=>{const r=Ai.createTransformer(e),n=Id(t),s=Id(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Eg.has(t)&&!s.values.length||Eg.has(e)&&!n.values.length?Vz(t,e):su(dj(Wz(n,s),s.values),r):Oh(t,e)};function uj(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?pr(t,e,r):o1(t)(t,e)}const Kz=t=>{const e=({timestamp:r})=>t(r);return{start:()=>gr.update(e,!0),stop:()=>Ei(e),now:()=>Xr.isProcessing?Xr.timestamp:Ln.now()}},hj=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let i=0;i<s;i++)n+=t(i/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},Mh=2e4;function l1(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Mh;)e+=r,n=t.next(e);return e>=Mh?1/0:e}function Gz(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(l1(n),Mh);return{type:"keyframes",ease:i=>n.next(s*i).value/e,duration:ua(s)}}const qz=5;function fj(t,e,r){const n=Math.max(e-qz,0);return Y_(r-t(n),e-n)}const vr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zw=.001;function Xz({duration:t=vr.duration,bounce:e=vr.bounce,velocity:r=vr.velocity,mass:n=vr.mass}){let s,i,o=1-e;o=Ia(vr.minDamping,vr.maxDamping,o),t=Ia(vr.minDuration,vr.maxDuration,ua(t)),o<1?(s=h=>{const f=h*o,p=f*t,g=f-r,x=Ag(h,o),w=Math.exp(-p);return zw-g/x*w},i=h=>{const p=h*o*t,g=p*r+r,x=Math.pow(o,2)*Math.pow(h,2)*t,w=Math.exp(-p),b=Ag(Math.pow(h,2),o);return(-s(h)+zw>0?-1:1)*((g-x)*w)/b}):(s=h=>{const f=Math.exp(-h*t),p=(h-r)*t+1;return-.001+f*p},i=h=>{const f=Math.exp(-h*t),p=(r-h)*(t*t);return f*p});const c=5/t,u=Qz(s,i,c);if(t=da(t),isNaN(u))return{stiffness:vr.stiffness,damping:vr.damping,duration:t};{const h=Math.pow(u,2)*n;return{stiffness:h,damping:o*2*Math.sqrt(n*h),duration:t}}}const Jz=12;function Qz(t,e,r){let n=r;for(let s=1;s<Jz;s++)n=n-t(n)/e(n);return n}function Ag(t,e){return t*Math.sqrt(1-e*e)}const Zz=["duration","bounce"],eV=["stiffness","damping","mass"];function Vw(t,e){return e.some(r=>t[r]!==void 0)}function tV(t){let e={velocity:vr.velocity,stiffness:vr.stiffness,damping:vr.damping,mass:vr.mass,isResolvedFromDuration:!1,...t};if(!Vw(t,eV)&&Vw(t,Zz))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Ia(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:vr.mass,stiffness:s,damping:i}}else{const r=Xz(t);e={...e,...r,mass:vr.mass},e.isResolvedFromDuration=!0}return e}function Lh(t=vr.visualDuration,e=vr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],c={done:!1,value:i},{stiffness:u,damping:h,mass:f,duration:p,velocity:g,isResolvedFromDuration:x}=tV({...r,velocity:-ua(r.velocity||0)}),w=g||0,b=h/(2*Math.sqrt(u*f)),v=o-i,_=ua(Math.sqrt(u/f)),T=Math.abs(v)<5;n||(n=T?vr.restSpeed.granular:vr.restSpeed.default),s||(s=T?vr.restDelta.granular:vr.restDelta.default);let C;if(b<1){const j=Ag(_,b);C=O=>{const S=Math.exp(-b*_*O);return o-S*((w+b*_*v)/j*Math.sin(j*O)+v*Math.cos(j*O))}}else if(b===1)C=j=>o-Math.exp(-_*j)*(v+(w+_*v)*j);else{const j=_*Math.sqrt(b*b-1);C=O=>{const S=Math.exp(-b*_*O),P=Math.min(j*O,300);return o-S*((w+b*_*v)*Math.sinh(P)+j*v*Math.cosh(P))/j}}const R={calculatedDuration:x&&p||null,next:j=>{const O=C(j);if(x)c.done=j>=p;else{let S=j===0?w:0;b<1&&(S=j===0?da(w):fj(C,j,O));const P=Math.abs(S)<=n,B=Math.abs(o-O)<=s;c.done=P&&B}return c.value=c.done?o:O,c},toString:()=>{const j=Math.min(l1(R),Mh),O=hj(S=>R.next(j*S).value,j,30);return j+"ms "+O},toTransition:()=>{}};return R}Lh.applyToOptions=t=>{const e=Gz(t,100,Lh);return t.ease=e.ease,t.duration=da(e.duration),t.type="keyframes",t};function Pg({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:c,max:u,restDelta:h=.5,restSpeed:f}){const p=t[0],g={done:!1,value:p},x=P=>c!==void 0&&P<c||u!==void 0&&P>u,w=P=>c===void 0?u:u===void 0||Math.abs(c-P)<Math.abs(u-P)?c:u;let b=r*e;const v=p+b,_=o===void 0?v:o(v);_!==v&&(b=_-p);const T=P=>-b*Math.exp(-P/n),C=P=>_+T(P),R=P=>{const B=T(P),ae=C(P);g.done=Math.abs(B)<=h,g.value=g.done?_:ae};let j,O;const S=P=>{x(g.value)&&(j=P,O=Lh({keyframes:[g.value,w(g.value)],velocity:fj(C,P,g.value),damping:s,stiffness:i,restDelta:h,restSpeed:f}))};return S(0),{calculatedDuration:null,next:P=>{let B=!1;return!O&&j===void 0&&(B=!0,R(P),S(P)),j!==void 0&&P>=j?O.next(P-j):(!B&&R(P),g)}}}function rV(t,e,r){const n=[],s=r||Ba.mix||uj,i=t.length-1;for(let o=0;o<i;o++){let c=s(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Ss:e;c=su(u,c)}n.push(c)}return n}function nV(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(Qx(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=rV(e,n,s),u=c.length,h=f=>{if(o&&f<t[0])return e[0];let p=0;if(u>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const g=Md(t[p],t[p+1],f);return c[p](g)};return r?f=>h(Ia(t[0],t[i-1],f)):h}function sV(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Md(0,e,n);t.push(pr(r,1,s))}}function aV(t){const e=[0];return sV(e,t.length-1),e}function iV(t,e){return t.map(r=>r*e)}function oV(t,e){return t.map(()=>e||tj).splice(0,t.length-1)}function md({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=yz(n)?n.map(Ow):Ow(n),i={done:!1,value:e[0]},o=iV(r&&r.length===e.length?r:aV(e),t),c=nV(o,e,{ease:Array.isArray(s)?s:oV(e,s)});return{calculatedDuration:t,next:u=>(i.value=c(u),i.done=u>=t,i)}}const lV=t=>t!==null;function c1(t,{repeat:e,repeatType:r="loop"},n,s=1){const i=t.filter(lV),c=s<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!c||n===void 0?i[c]:n}const cV={decay:Pg,inertia:Pg,tween:md,keyframes:md,spring:Lh};function mj(t){typeof t.type=="string"&&(t.type=cV[t.type])}class d1{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const dV=t=>t/100;class pj extends d1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;if(r&&r.updatedAt!==Ln.now()&&this.tick(Ln.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;mj(e);const{type:r=md,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:c}=e;const u=r||md;u!==md&&typeof c[0]!="number"&&(this.mixKeyframes=su(dV,uj(c[0],c[1])),c=[0,100]);const h=u({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=l1(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=h}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:x,type:w,onUpdate:b,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const _=this.currentTime-h*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let C=this.currentTime,R=n;if(p){const P=Math.min(this.currentTime,s)/c;let B=Math.floor(P),ae=P%1;!ae&&P>=1&&(ae=1),ae===1&&B--,B=Math.min(B,p+1),!!(B%2)&&(g==="reverse"?(ae=1-ae,x&&(ae-=x/c)):g==="mirror"&&(R=o)),C=Ia(0,1,ae)*c}const j=T?{done:!1,value:f[0]}:R.next(C);i&&(j.value=i(j.value));let{done:O}=j;!T&&u!==null&&(O=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return S&&w!==Pg&&(j.value=c1(f,this.options,v,this.speed)),b&&b(j.value),S&&this.finish(),j}then(e,r){return this.finished.then(e,r)}get duration(){return ua(this.calculatedDuration)}get time(){return ua(this.currentTime)}set time(e){e=da(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ln.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ua(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Kz,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),r&&r();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ln.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function uV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const go=t=>t*180/Math.PI,Dg=t=>{const e=go(Math.atan2(t[1],t[0]));return Rg(e)},hV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Dg,rotateZ:Dg,skewX:t=>go(Math.atan(t[1])),skewY:t=>go(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Rg=t=>(t=t%360,t<0&&(t+=360),t),$w=Dg,Hw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ww=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),fV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hw,scaleY:Ww,scale:t=>(Hw(t)+Ww(t))/2,rotateX:t=>Rg(go(Math.atan2(t[6],t[5]))),rotateY:t=>Rg(go(Math.atan2(-t[2],t[0]))),rotateZ:$w,rotate:$w,skewX:t=>go(Math.atan(t[4])),skewY:t=>go(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Yw(t){return t.includes("scale")?1:0}function Fg(t,e){if(!t||t==="none")return Yw(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=fV,s=r;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=hV,s=c}if(!s)return Yw(e);const i=n[e],o=s[1].split(",").map(pV);return typeof i=="function"?i(o):o[i]}const mV=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Fg(r,e)};function pV(t){return parseFloat(t.trim())}const Jl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ql=new Set(Jl),Kw=t=>t===Xl||t===xt,gV=new Set(["x","y","z"]),xV=Jl.filter(t=>!gV.has(t));function yV(t){const e=[];return xV.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Il={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Fg(e,"x"),y:(t,{transform:e})=>Fg(e,"y")};Il.translateX=Il.x;Il.translateY=Il.y;const ko=new Set;let Og=!1,Mg=!1,Lg=!1;function gj(){if(Mg){const t=Array.from(ko).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=yV(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var c;(c=n.getValue(i))==null||c.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Mg=!1,Og=!1,ko.forEach(t=>t.complete(Lg)),ko.clear()}function xj(){ko.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Mg=!0)})}function vV(){Lg=!0,xj(),gj(),Lg=!1}class u1{constructor(e,r,n,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ko.add(this),Og||(Og=!0,gr.read(xj),gr.resolveKeyframes(gj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const c=n.readValue(r,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}uV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ko.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ko.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const bV=t=>t.startsWith("--");function wV(t,e,r){bV(e)?t.style.setProperty(e,r):t.style[e]=r}const kV=Zx(()=>window.ScrollTimeline!==void 0),NV={};function SV(t,e){const r=Zx(t);return()=>NV[e]??r()}const yj=SV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qc=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,Gw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qc([0,.65,.55,1]),circOut:Qc([.55,0,1,.45]),backIn:Qc([.31,.01,.66,-.59]),backOut:Qc([.33,1.53,.69,.99])};function vj(t,e){if(t)return typeof t=="function"?yj()?hj(t,e):"ease-out":rj(t)?Qc(t):Array.isArray(t)?t.map(r=>vj(r,e)||Gw.easeOut):Gw[t]}function _V(t,e,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:c="easeOut",times:u}={},h=void 0){const f={[e]:r};u&&(f.offset=u);const p=vj(c,s);Array.isArray(p)&&(f.easing=p);const g={delay:n,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(f,g)}function bj(t){return typeof t=="function"&&"applyToOptions"in t}function jV({type:t,...e}){return bj(t)&&yj()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class CV extends d1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Qx(typeof e.type!="string");const h=jV(e);this.animation=_V(r,n,s,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=c1(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):wV(r,n,f),this.animation.cancel()}u==null||u(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return ua(Number(e))}get time(){return ua(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=da(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&kV()?(this.animation.timeline=e,Ss):r(this)}}const wj={anticipate:Q_,backInOut:J_,circInOut:ej};function TV(t){return t in wj}function EV(t){typeof t.ease=="string"&&TV(t.ease)&&(t.ease=wj[t.ease])}const qw=10;class AV extends CV{constructor(e){EV(e),mj(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const c=new pj({...o,autoplay:!1}),u=da(this.finishedTime??this.time);r.setWithVelocity(c.sample(u-qw).value,c.sample(u).value,qw),c.stop()}}const Xw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ai.test(t)||t==="0")&&!t.startsWith("url("));function PV(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function DV(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Xw(s,e),c=Xw(i,e);return!o||!c?!1:PV(t)||(r==="spring"||bj(r))&&n}const RV=new Set(["opacity","clipPath","filter","transform"]),FV=Zx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function OV(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return FV()&&r&&RV.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const MV=40;class LV extends d1{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:c,name:u,motionValue:h,element:f,...p}){var w;super(),this.stop=()=>{var b,v;this._animation?(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)):(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Ln.now();const g={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:u,motionValue:h,element:f,...p},x=(f==null?void 0:f.KeyframeResolver)||u1;this.keyframeResolver=new x(c,(b,v,_)=>this.onKeyframesResolved(b,v,g,!_),u,h,f),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:c,delay:u,isHandoff:h,onUpdate:f}=n;this.resolvedAt=Ln.now(),DV(e,i,o,c)||((Ba.instantAnimations||!u)&&(f==null||f(c1(e,n,r))),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>MV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},x=!h&&OV(g)?new AV({...g,element:g.motionValue.owner.current}):new pj(g);x.finished.then(()=>this.notifyFinished()).catch(Ss),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||vV(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const IV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BV(t){const e=IV.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function kj(t,e,r=1){const[n,s]=BV(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return H_(o)?parseFloat(o):o}return s1(s)?kj(s,e,r+1):s}function h1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Nj=new Set(["width","height","top","left","right","bottom",...Jl]),UV={test:t=>t==="auto",parse:t=>t},Sj=t=>e=>e.test(t),_j=[Xl,xt,ha,ui,Pz,Az,UV],Jw=t=>_j.find(Sj(t));function zV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||W_(t):!0}const VV=new Set(["brightness","contrast","saturate","opacity"]);function $V(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(a1)||[];if(!n)return t;const s=r.replace(n,"");let i=VV.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const HV=/\b([a-z-]*)\(.*?\)/gu,Ig={...Ai,getAnimatableNone:t=>{const e=t.match(HV);return e?e.map($V).join(" "):t}},Qw={...Xl,transform:Math.round},WV={rotate:ui,rotateX:ui,rotateY:ui,rotateZ:ui,scale:M0,scaleX:M0,scaleY:M0,scaleZ:M0,skew:ui,skewX:ui,skewY:ui,distance:xt,translateX:xt,translateY:xt,translateZ:xt,x:xt,y:xt,z:xt,perspective:xt,transformPerspective:xt,opacity:Ld,originX:Lw,originY:Lw,originZ:xt},f1={borderWidth:xt,borderTopWidth:xt,borderRightWidth:xt,borderBottomWidth:xt,borderLeftWidth:xt,borderRadius:xt,radius:xt,borderTopLeftRadius:xt,borderTopRightRadius:xt,borderBottomRightRadius:xt,borderBottomLeftRadius:xt,width:xt,maxWidth:xt,height:xt,maxHeight:xt,top:xt,right:xt,bottom:xt,left:xt,padding:xt,paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt,margin:xt,marginTop:xt,marginRight:xt,marginBottom:xt,marginLeft:xt,backgroundPositionX:xt,backgroundPositionY:xt,...WV,zIndex:Qw,fillOpacity:Ld,strokeOpacity:Ld,numOctaves:Qw},YV={...f1,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:Ig,WebkitFilter:Ig},jj=t=>YV[t];function Cj(t,e){let r=jj(t);return r!==Ig&&(r=Ai),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const KV=new Set(["auto","none","0"]);function GV(t,e,r){let n=0,s;for(;n<t.length&&!s;){const i=t[n];typeof i=="string"&&!KV.has(i)&&Id(i).values.length&&(s=t[n]),n++}if(s&&r)for(const i of e)t[i]=Cj(r,s)}class qV extends u1{constructor(e,r,n,s,i){super(e,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),s1(h))){const f=kj(h,r.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!Nj.has(n)||e.length!==2)return;const[s,i]=e,o=Jw(s),c=Jw(i);if(o!==c)if(Kw(o)&&Kw(c))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||zV(e[s]))&&n.push(s);n.length&&GV(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Il[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Il[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function XV(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=(r==null?void 0:r[t])??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const{schedule:m1}=nj(queueMicrotask,!1),zs={x:!1,y:!1};function Tj(){return zs.x||zs.y}function JV(t){return t==="x"||t==="y"?zs[t]?null:(zs[t]=!0,()=>{zs[t]=!1}):zs.x||zs.y?null:(zs.x=zs.y=!0,()=>{zs.x=zs.y=!1})}function Ej(t,e){const r=XV(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function Zw(t){return!(t.pointerType==="touch"||Tj())}function QV(t,e,r={}){const[n,s,i]=Ej(t,r),o=c=>{if(!Zw(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const f=p=>{Zw(p)&&(h(p),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,s)};return n.forEach(c=>{c.addEventListener("pointerenter",o,s)}),i}const Aj=(t,e)=>e?t===e?!0:Aj(t,e.parentElement):!1,p1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ZV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function e$(t){return ZV.has(t.tagName)||t.tabIndex!==-1}const Zc=new WeakSet;function ek(t){return e=>{e.key==="Enter"&&t(e)}}function Pp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const t$=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=ek(()=>{if(Zc.has(r))return;Pp(r,"down");const s=ek(()=>{Pp(r,"up")}),i=()=>Pp(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function tk(t){return p1(t)&&!Tj()}function r$(t,e,r={}){const[n,s,i]=Ej(t,r),o=c=>{const u=c.currentTarget;if(!tk(c)||Zc.has(u))return;Zc.add(u);const h=e(u,c),f=(x,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),!(!tk(x)||!Zc.has(u))&&(Zc.delete(u),typeof h=="function"&&h(x,{success:w}))},p=x=>{f(x,u===window||u===document||r.useGlobalTarget||Aj(u,x.target))},g=x=>{f(x,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",g,s)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",o,s),c instanceof HTMLElement&&(c.addEventListener("focus",h=>t$(h,s)),!e$(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}const rk=30,n$=t=>!isNaN(parseFloat(t));class s${constructor(e,r={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{var o,c;const i=Ln.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current)),s&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Ln.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=n$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new e1);const n=this.events[e].add(r);return e==="change"?()=>{n(),gr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ln.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rk)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,rk);return Y_(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bd(t,e){return new s$(t,e)}const a$=[..._j,dn,Ai],i$=t=>a$.find(Sj(t)),Pj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Dj=A.createContext({strict:!1}),nk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bl={};for(const t in nk)Bl[t]={isEnabled:e=>nk[t].some(r=>!!e[r])};function o$(t){for(const e in t)Bl[e]={...Bl[e],...t[e]}}const l$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ih(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||l$.has(t)}let Rj=t=>!Ih(t);function c$(t){t&&(Rj=e=>e.startsWith("on")?!Ih(e):t(e))}try{c$(require("@emotion/is-prop-valid").default)}catch{}function d$(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(Rj(s)||r===!0&&Ih(s)||!e&&!Ih(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function u$(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const mf=A.createContext({});function pf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ud(t){return typeof t=="string"||Array.isArray(t)}const g1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],x1=["initial",...g1];function gf(t){return pf(t.animate)||x1.some(e=>Ud(t[e]))}function Fj(t){return!!(gf(t)||t.variants)}function h$(t,e){if(gf(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Ud(r)?r:void 0,animate:Ud(n)?n:void 0}}return t.inherit!==!1?e:{}}function f$(t){const{initial:e,animate:r}=h$(t,A.useContext(mf));return A.useMemo(()=>({initial:e,animate:r}),[sk(e),sk(r)])}function sk(t){return Array.isArray(t)?t.join(" "):t}const m$=Symbol.for("motionComponentSymbol");function kl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function p$(t,e,r){return A.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):kl(r)&&(r.current=n))},[e])}const y1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),g$="framerAppearId",Oj="data-"+y1(g$),Mj=A.createContext({});function x$(t,e,r,n,s){var b,v;const{visualElement:i}=A.useContext(mf),o=A.useContext(Dj),c=A.useContext(qx),u=A.useContext($_).reducedMotion,h=A.useRef(null);n=n||o.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,p=A.useContext(Mj);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&y$(h.current,r,s,p);const g=A.useRef(!1);A.useInsertionEffect(()=>{f&&g.current&&f.update(r,c)});const x=r[Oj],w=A.useRef(!!x&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,x))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,x)));return dz(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),m1.render(f.render),w.current&&f.animationState&&f.animationState.animateChanges())}),A.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,x)}),w.current=!1))}),f}function y$(t,e,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Lj(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||c&&kl(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:u,layoutRoot:h})}function Lj(t){if(t)return t.options.allowProjection!==!1?t.projection:Lj(t.parent)}function v$({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){t&&o$(t);function i(c,u){let h;const f={...A.useContext($_),...c,layoutId:b$(c)},{isStatic:p}=f,g=f$(c),x=n(c,p);if(!p&&Gx){w$();const w=k$(f);h=w.MeasureLayout,g.visualElement=x$(s,x,f,e,w.ProjectionNode)}return a.jsxs(mf.Provider,{value:g,children:[h&&g.visualElement?a.jsx(h,{visualElement:g.visualElement,...f}):null,r(s,c,p$(x,g.visualElement,u),x,p,g.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=A.forwardRef(i);return o[m$]=s,o}function b$({layoutId:t}){const e=A.useContext(V_).id;return e&&t!==void 0?e+"-"+t:t}function w$(t,e){A.useContext(Dj).strict}function k$(t){const{drag:e,layout:r}=Bl;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const zd={};function N$(t){for(const e in t)zd[e]=t[e],n1(e)&&(zd[e].isCSSVariable=!0)}function Ij(t,{layout:e,layoutId:r}){return Ql.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!zd[t]||t==="opacity")}const fn=t=>!!(t&&t.getVelocity),S$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_$=Jl.length;function j$(t,e,r){let n="",s=!0;for(let i=0;i<_$;i++){const o=Jl[i],c=t[o];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(o.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||r){const h=Pj(c,f1[o]);if(!u){s=!1;const f=S$[o]||o;n+=`${f}(${h}) `}r&&(e[o]=h)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function v1(t,e,r){const{style:n,vars:s,transformOrigin:i}=t;let o=!1,c=!1;for(const u in e){const h=e[u];if(Ql.has(u)){o=!0;continue}else if(n1(u)){s[u]=h;continue}else{const f=Pj(h,f1[u]);u.startsWith("origin")?(c=!0,i[u]=f):n[u]=f}}if(e.transform||(o||r?n.transform=j$(e,t.transform,r):n.transform&&(n.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:f=0}=i;n.transformOrigin=`${u} ${h} ${f}`}}const b1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Bj(t,e,r){for(const n in e)!fn(e[n])&&!Ij(n,r)&&(t[n]=e[n])}function C$({transformTemplate:t},e){return A.useMemo(()=>{const r=b1();return v1(r,e,t),Object.assign({},r.vars,r.style)},[e])}function T$(t,e){const r=t.style||{},n={};return Bj(n,r,t),Object.assign(n,C$(t,e)),n}function E$(t,e){const r={},n=T$(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const A$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function w1(t){return typeof t!="string"||t.includes("-")?!1:!!(A$.indexOf(t)>-1||/[A-Z]/u.test(t))}const P$={offset:"stroke-dashoffset",array:"stroke-dasharray"},D$={offset:"strokeDashoffset",array:"strokeDasharray"};function R$(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?P$:D$;t[i.offset]=xt.transform(-n);const o=xt.transform(e),c=xt.transform(r);t[i.array]=`${o} ${c}`}function Uj(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...c},u,h){if(v1(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox="fill-box",delete f.transformBox),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),s!==void 0&&R$(f,s,i,o,!1)}const zj=()=>({...b1(),attrs:{}}),Vj=t=>typeof t=="string"&&t.toLowerCase()==="svg";function F$(t,e,r,n){const s=A.useMemo(()=>{const i=zj();return Uj(i,e,Vj(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Bj(i,t.style,t),s.style={...i,...s.style}}return s}function O$(t=!1){return(r,n,s,{latestValues:i},o)=>{const u=(w1(r)?F$:E$)(n,i,o,r),h=d$(n,typeof r=="string",t),f=r!==A.Fragment?{...h,...u,ref:s}:{},{children:p}=n,g=A.useMemo(()=>fn(p)?p.get():p,[p]);return A.createElement(r,{...f,children:g})}}function ak(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function k1(t,e,r,n){if(typeof e=="function"){const[s,i]=ak(n);e=e(r!==void 0?r:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=ak(n);e=e(r!==void 0?r:t.custom,s,i)}return e}function th(t){return fn(t)?t.get():t}function M$({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:L$(r,n,s,t),renderState:e()}}const $j=t=>(e,r)=>{const n=A.useContext(mf),s=A.useContext(qx),i=()=>M$(t,e,n,s);return r?i():cz(i)};function L$(t,e,r,n){const s={},i=n(t,{});for(const g in i)s[g]=th(i[g]);let{initial:o,animate:c}=t;const u=gf(t),h=Fj(t);e&&h&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const p=f?c:o;if(p&&typeof p!="boolean"&&!pf(p)){const g=Array.isArray(p)?p:[p];for(let x=0;x<g.length;x++){const w=k1(t,g[x]);if(w){const{transitionEnd:b,transition:v,..._}=w;for(const T in _){let C=_[T];if(Array.isArray(C)){const R=f?C.length-1:0;C=C[R]}C!==null&&(s[T]=C)}for(const T in b)s[T]=b[T]}}}return s}function N1(t,e,r){var i;const{style:n}=t,s={};for(const o in n)(fn(n[o])||e.style&&fn(e.style[o])||Ij(o,t)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const I$={useVisualState:$j({scrapeMotionValuesFromProps:N1,createRenderState:b1})};function Hj(t,e,r){const n=N1(t,e,r);for(const s in t)if(fn(t[s])||fn(e[s])){const i=Jl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}const B$={useVisualState:$j({scrapeMotionValuesFromProps:Hj,createRenderState:zj})};function U$(t,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...w1(n)?B$:I$,preloadedFeatures:t,useRender:O$(s),createVisualElement:e,Component:n};return v$(o)}}function Vd(t,e,r){const n=t.getProps();return k1(n,e,r!==void 0?r:n.custom,t)}const Bg=t=>Array.isArray(t);function z$(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Bd(r))}function V$(t){return Bg(t)?t[t.length-1]||0:t}function $$(t,e){const r=Vd(t,e);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const c=V$(i[o]);z$(t,o,c)}}function H$(t){return!!(fn(t)&&t.add)}function Ug(t,e){const r=t.getValue("willChange");if(H$(r))return r.add(e);if(!r&&Ba.WillChange){const n=new Ba.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function Wj(t){return t.props[Oj]}const W$=t=>t!==null;function Y$(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(W$),i=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[i]}const K$={type:"spring",stiffness:500,damping:25,restSpeed:10},G$=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),q$={type:"keyframes",duration:.8},X$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},J$=(t,{keyframes:e})=>e.length>2?q$:Ql.has(t)?t.startsWith("scale")?G$(e[1]):K$:X$;function Q$({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:c,from:u,elapsed:h,...f}){return!!Object.keys(f).length}const S1=(t,e,r,n={},s,i)=>o=>{const c=h1(n,t)||{},u=c.delay||n.delay||0;let{elapsed:h=0}=n;h=h-da(u);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:i?void 0:s};Q$(c)||Object.assign(f,J$(t,f)),f.duration&&(f.duration=da(f.duration)),f.repeatDelay&&(f.repeatDelay=da(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),(Ba.instantAnimations||Ba.skipAnimations)&&(p=!0,f.duration=0,f.delay=0),f.allowFlatten=!c.type&&!c.ease,p&&!i&&e.get()!==void 0){const g=Y$(f.keyframes,c);if(g!==void 0){gr.update(()=>{f.onUpdate(g),f.onComplete()});return}}return new LV(f)};function Z$({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function Yj(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(i=n);const u=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in c){const p=t.getValue(f,t.latestValues[f]??null),g=c[f];if(g===void 0||h&&Z$(h,f))continue;const x={delay:r,...h1(i||{},f)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===w&&!x.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const _=Wj(t);if(_){const T=window.MotionHandoffAnimation(_,f,gr);T!==null&&(x.startTime=T,b=!0)}}Ug(t,f),p.start(S1(f,p,g,t.shouldReduceMotion&&Nj.has(f)?{type:!1}:x,t,b));const v=p.animation;v&&u.push(v)}return o&&Promise.all(u).then(()=>{gr.update(()=>{o&&$$(t,o)})}),u}function zg(t,e,r={}){var u;const n=Vd(t,e,r.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(Yj(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=s;return eH(t,e,f+h,p,g,r)}:()=>Promise.resolve(),{when:c}=s;if(c){const[h,f]=c==="beforeChildren"?[i,o]:[o,i];return h().then(()=>f())}else return Promise.all([i(),o(r.delay)])}function eH(t,e,r=0,n=0,s=1,i){const o=[],c=(t.variantChildren.size-1)*n,u=s===1?(h=0)=>h*n:(h=0)=>c-h*n;return Array.from(t.variantChildren).sort(tH).forEach((h,f)=>{h.notify("AnimationStart",e),o.push(zg(h,e,{...i,delay:r+u(f)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(o)}function tH(t,e){return t.sortNodePosition(e)}function rH(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>zg(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=zg(t,e,r);else{const s=typeof e=="function"?Vd(t,e,r.custom):e;n=Promise.all(Yj(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function Kj(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const nH=x1.length;function Gj(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Gj(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<nH;r++){const n=x1[r],s=t.props[n];(Ud(s)||s===!1)&&(e[n]=s)}return e}const sH=[...g1].reverse(),aH=g1.length;function iH(t){return e=>Promise.all(e.map(({animation:r,options:n})=>rH(t,r,n)))}function oH(t){let e=iH(t),r=ik(),n=!0;const s=u=>(h,f)=>{var g;const p=Vd(t,f,u==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:x,transitionEnd:w,...b}=p;h={...h,...b,...w}}return h};function i(u){e=u(t)}function o(u){const{props:h}=t,f=Gj(t.parent)||{},p=[],g=new Set;let x={},w=1/0;for(let v=0;v<aH;v++){const _=sH[v],T=r[_],C=h[_]!==void 0?h[_]:f[_],R=Ud(C),j=_===u?T.isActive:null;j===!1&&(w=v);let O=C===f[_]&&C!==h[_]&&R;if(O&&n&&t.manuallyAnimateOnMount&&(O=!1),T.protectedKeys={...x},!T.isActive&&j===null||!C&&!T.prevProp||pf(C)||typeof C=="boolean")continue;const S=lH(T.prevProp,C);let P=S||_===u&&T.isActive&&!O&&R||v>w&&R,B=!1;const ae=Array.isArray(C)?C:[C];let q=ae.reduce(s(_),{});j===!1&&(q={});const{prevResolvedValues:H={}}=T,ie={...H,...q},re=Q=>{P=!0,g.has(Q)&&(B=!0,g.delete(Q)),T.needsAnimating[Q]=!0;const te=t.getValue(Q);te&&(te.liveStyle=!1)};for(const Q in ie){const te=q[Q],U=H[Q];if(x.hasOwnProperty(Q))continue;let Z=!1;Bg(te)&&Bg(U)?Z=!Kj(te,U):Z=te!==U,Z?te!=null?re(Q):g.add(Q):te!==void 0&&g.has(Q)?re(Q):T.protectedKeys[Q]=!0}T.prevProp=C,T.prevResolvedValues=q,T.isActive&&(x={...x,...q}),n&&t.blockInitialAnimation&&(P=!1),P&&(!(O&&S)||B)&&p.push(...ae.map(Q=>({animation:Q,options:{type:_}})))}if(g.size){const v={};if(typeof h.initial!="boolean"){const _=Vd(t,Array.isArray(h.initial)?h.initial[0]:h.initial);_&&_.transition&&(v.transition=_.transition)}g.forEach(_=>{const T=t.getBaseTarget(_),C=t.getValue(_);C&&(C.liveStyle=!0),v[_]=T??null}),p.push({animation:v})}let b=!!p.length;return n&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(p):Promise.resolve()}function c(u,h){var p;if(r[u].isActive===h)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(g=>{var x;return(x=g.animationState)==null?void 0:x.setActive(u,h)}),r[u].isActive=h;const f=o(u);for(const g in r)r[g].protectedKeys={};return f}return{animateChanges:o,setActive:c,setAnimateFunction:i,getState:()=>r,reset:()=>{r=ik(),n=!0}}}function lH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Kj(e,t):!1}function ao(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ik(){return{animate:ao(!0),whileInView:ao(),whileHover:ao(),whileTap:ao(),whileDrag:ao(),whileFocus:ao(),exit:ao()}}class Li{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cH extends Li{constructor(e){super(e),e.animationState||(e.animationState=oH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();pf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let dH=0;class uH extends Li{constructor(){super(...arguments),this.id=dH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const hH={animation:{Feature:cH},exit:{Feature:uH}};function $d(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function ou(t){return{point:{x:t.pageX,y:t.pageY}}}const fH=t=>e=>p1(e)&&t(e,ou(e));function pd(t,e,r,n){return $d(t,e,fH(r),n)}function qj({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function mH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pH(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const Xj=1e-4,gH=1-Xj,xH=1+Xj,Jj=.01,yH=0-Jj,vH=0+Jj;function Sn(t){return t.max-t.min}function bH(t,e,r){return Math.abs(t-e)<=r}function ok(t,e,r,n=.5){t.origin=n,t.originPoint=pr(e.min,e.max,t.origin),t.scale=Sn(r)/Sn(e),t.translate=pr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=gH&&t.scale<=xH||isNaN(t.scale))&&(t.scale=1),(t.translate>=yH&&t.translate<=vH||isNaN(t.translate))&&(t.translate=0)}function gd(t,e,r,n){ok(t.x,e.x,r.x,n?n.originX:void 0),ok(t.y,e.y,r.y,n?n.originY:void 0)}function lk(t,e,r){t.min=r.min+e.min,t.max=t.min+Sn(e)}function wH(t,e,r){lk(t.x,e.x,r.x),lk(t.y,e.y,r.y)}function ck(t,e,r){t.min=e.min-r.min,t.max=t.min+Sn(e)}function xd(t,e,r){ck(t.x,e.x,r.x),ck(t.y,e.y,r.y)}const dk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nl=()=>({x:dk(),y:dk()}),uk=()=>({min:0,max:0}),Nr=()=>({x:uk(),y:uk()});function vs(t){return[t("x"),t("y")]}function Dp(t){return t===void 0||t===1}function Vg({scale:t,scaleX:e,scaleY:r}){return!Dp(t)||!Dp(e)||!Dp(r)}function lo(t){return Vg(t)||Qj(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Qj(t){return hk(t.x)||hk(t.y)}function hk(t){return t&&t!=="0%"}function Bh(t,e,r){const n=t-r,s=e*n;return r+s}function fk(t,e,r,n,s){return s!==void 0&&(t=Bh(t,s,n)),Bh(t,r,n)+e}function $g(t,e=0,r=1,n,s){t.min=fk(t.min,e,r,n,s),t.max=fk(t.max,e,r,n,s)}function Zj(t,{x:e,y:r}){$g(t.x,e.translate,e.scale,e.originPoint),$g(t.y,r.translate,r.scale,r.originPoint)}const mk=.999999999999,pk=1.0000000000001;function kH(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,o;for(let c=0;c<s;c++){i=r[c],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&_l(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Zj(t,o)),n&&lo(i.latestValues)&&_l(t,i.latestValues))}e.x<pk&&e.x>mk&&(e.x=1),e.y<pk&&e.y>mk&&(e.y=1)}function Sl(t,e){t.min=t.min+e,t.max=t.max+e}function gk(t,e,r,n,s=.5){const i=pr(t.min,t.max,s);$g(t,e,r,i,n)}function _l(t,e){gk(t.x,e.x,e.scaleX,e.scale,e.originX),gk(t.y,e.y,e.scaleY,e.scale,e.originY)}function e3(t,e){return qj(pH(t.getBoundingClientRect(),e))}function NH(t,e,r){const n=e3(t,r),{scroll:s}=e;return s&&(Sl(n.x,s.offset.x),Sl(n.y,s.offset.y)),n}const t3=({current:t})=>t?t.ownerDocument.defaultView:null,xk=(t,e)=>Math.abs(t-e);function SH(t,e){const r=xk(t.x,e.x),n=xk(t.y,e.y);return Math.sqrt(r**2+n**2)}class r3{constructor(e,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Fp(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=SH(p.offset,{x:0,y:0})>=3;if(!g&&!x)return;const{point:w}=p,{timestamp:b}=Xr;this.history.push({...w,timestamp:b});const{onStart:v,onMove:_}=this.handlers;g||(v&&v(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Rp(g,this.transformPagePoint),gr.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Fp(p.type==="pointercancel"?this.lastMoveEventInfo:Rp(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,v),w&&w(p,v)},!p1(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=ou(e),c=Rp(o,this.transformPagePoint),{point:u}=c,{timestamp:h}=Xr;this.history=[{...u,timestamp:h}];const{onSessionStart:f}=r;f&&f(e,Fp(c,this.history)),this.removeListeners=su(pd(this.contextWindow,"pointermove",this.handlePointerMove),pd(this.contextWindow,"pointerup",this.handlePointerUp),pd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ei(this.updatePoint)}}function Rp(t,e){return e?{point:e(t.point)}:t}function yk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fp({point:t},e){return{point:t,delta:yk(t,n3(e)),offset:yk(t,_H(e)),velocity:jH(e,.1)}}function _H(t){return t[0]}function n3(t){return t[t.length-1]}function jH(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=n3(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>da(e)));)r--;if(!n)return{x:0,y:0};const i=ua(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function CH(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?pr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?pr(r,t,n.max):Math.min(t,r)),t}function vk(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function TH(t,{top:e,left:r,bottom:n,right:s}){return{x:vk(t.x,r,s),y:vk(t.y,e,n)}}function bk(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function EH(t,e){return{x:bk(t.x,e.x),y:bk(t.y,e.y)}}function AH(t,e){let r=.5;const n=Sn(t),s=Sn(e);return s>n?r=Md(e.min,e.max-n,t.min):n>s&&(r=Md(t.min,t.max-s,e.min)),Ia(0,1,r)}function PH(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Hg=.35;function DH(t=Hg){return t===!1?t=0:t===!0&&(t=Hg),{x:wk(t,"left","right"),y:wk(t,"top","bottom")}}function wk(t,e,r){return{min:kk(t,e),max:kk(t,r)}}function kk(t,e){return typeof t=="number"?t:t[e]||0}const RH=new WeakMap;class FH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ou(f).point)},i=(f,p)=>{const{drag:g,dragPropagation:x,onDragStart:w}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=JV(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vs(v=>{let _=this.getAxisMotionValue(v).get()||0;if(ha.test(_)){const{projection:T}=this.visualElement;if(T&&T.layout){const C=T.layout.layoutBox[v];C&&(_=Sn(C)*(parseFloat(_)/100))}}this.originPoint[v]=_}),w&&gr.postRender(()=>w(f,p)),Ug(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(f,p)=>{const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:w,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:v}=p;if(x&&this.currentDirection===null){this.currentDirection=OH(v),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,v),this.updateAxis("y",p.point,v),this.visualElement.render(),b&&b(f,p)},c=(f,p)=>this.stop(f,p),u=()=>vs(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new r3(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:t3(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&gr.postRender(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!L0(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=CH(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&kl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=TH(n.layoutBox,e):this.constraints=!1,this.elastic=DH(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&vs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=PH(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!kl(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=NH(n,s.root,this.visualElement.getTransformPagePoint());let o=EH(s.layout.layoutBox,i);if(r){const c=r(mH(o));this.hasMutatedConstraints=!!c,c&&(o=qj(c))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=vs(f=>{if(!L0(f,r,this.currentDirection))return;let p=u&&u[f]||{};o&&(p={min:0,max:0});const g=s?200:1e6,x=s?40:1e7,w={type:"inertia",velocity:n?e[f]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(f,w)});return Promise.all(h).then(c)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Ug(this.visualElement,e),n.start(S1(e,n,0,r,this.visualElement,!1))}stopAnimation(){vs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vs(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){vs(r=>{const{drag:n}=this.getProps();if(!L0(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:c}=s.layout.layoutBox[r];i.set(e[r]-pr(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!kl(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};vs(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const u=c.get();s[o]=AH({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),vs(o=>{if(!L0(o,e,null))return;const c=this.getAxisMotionValue(o),{min:u,max:h}=this.constraints[o];c.set(pr(u,h,s[o]))})}addListeners(){if(!this.visualElement.current)return;RH.set(this.visualElement,this);const e=this.visualElement.current,r=pd(e,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();kl(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),gr.read(n);const o=$d(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(vs(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Hg,dragMomentum:c=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:c}}}function L0(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function OH(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class MH extends Li{constructor(e){super(e),this.removeGroupControls=Ss,this.removeListeners=Ss,this.controls=new FH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ss}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nk=t=>(e,r)=>{t&&gr.postRender(()=>t(e,r))};class LH extends Li{constructor(){super(...arguments),this.removePointerDownListener=Ss}onPointerDown(e){this.session=new r3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:t3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Nk(e),onStart:Nk(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&gr.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=pd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xt.test(t))t=parseFloat(t);else return t;const r=Sk(t,e.target.x),n=Sk(t,e.target.y);return`${r}% ${n}%`}},IH={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=Ai.parse(t);if(s.length>5)return n;const i=Ai.createTransformer(t),o=typeof s[0]!="number"?1:0,c=r.x.scale*e.x,u=r.y.scale*e.y;s[0+o]/=c,s[1+o]/=u;const h=pr(c,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=h),typeof s[3+o]=="number"&&(s[3+o]/=h),i(s)}};class BH extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;N$(UH),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||gr.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),m1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function s3(t){const[e,r]=uz(),n=A.useContext(V_);return a.jsx(BH,{...t,layoutGroup:n,switchLayoutGroup:A.useContext(Mj),isPresent:e,safeToRemove:r})}const UH={borderRadius:{...Vc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vc,borderTopRightRadius:Vc,borderBottomLeftRadius:Vc,borderBottomRightRadius:Vc,boxShadow:IH};function zH(t,e,r){const n=fn(t)?t:Bd(t);return n.start(S1("",n,e,r)),n.animation}function VH(t){return t instanceof SVGElement&&t.tagName!=="svg"}const $H=(t,e)=>t.depth-e.depth;class HH{constructor(){this.children=[],this.isDirty=!1}add(e){Xx(this.children,e),this.isDirty=!0}remove(e){Jx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($H),this.isDirty=!1,this.children.forEach(e)}}function WH(t,e){const r=Ln.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(Ei(n),t(i-e))};return gr.setup(n,!0),()=>Ei(n)}const a3=["TopLeft","TopRight","BottomLeft","BottomRight"],YH=a3.length,_k=t=>typeof t=="string"?parseFloat(t):t,jk=t=>typeof t=="number"||xt.test(t);function KH(t,e,r,n,s,i){s?(t.opacity=pr(0,r.opacity??1,GH(n)),t.opacityExit=pr(e.opacity??1,0,qH(n))):i&&(t.opacity=pr(e.opacity??1,r.opacity??1,n));for(let o=0;o<YH;o++){const c=`border${a3[o]}Radius`;let u=Ck(e,c),h=Ck(r,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||jk(u)===jk(h)?(t[c]=Math.max(pr(_k(u),_k(h),n),0),(ha.test(h)||ha.test(u))&&(t[c]+="%")):t[c]=h}(e.rotate||r.rotate)&&(t.rotate=pr(e.rotate||0,r.rotate||0,n))}function Ck(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GH=i3(0,.5,Z_),qH=i3(.5,.95,Ss);function i3(t,e,r){return n=>n<t?0:n>e?1:r(Md(t,e,n))}function Tk(t,e){t.min=e.min,t.max=e.max}function xs(t,e){Tk(t.x,e.x),Tk(t.y,e.y)}function Ek(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ak(t,e,r,n,s){return t-=e,t=Bh(t,1/r,n),s!==void 0&&(t=Bh(t,1/s,n)),t}function XH(t,e=0,r=1,n=.5,s,i=t,o=t){if(ha.test(e)&&(e=parseFloat(e),e=pr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=pr(i.min,i.max,n);t===i&&(c-=e),t.min=Ak(t.min,e,r,c,s),t.max=Ak(t.max,e,r,c,s)}function Pk(t,e,[r,n,s],i,o){XH(t,e[r],e[n],e[s],e.scale,i,o)}const JH=["x","scaleX","originX"],QH=["y","scaleY","originY"];function Dk(t,e,r,n){Pk(t.x,e,JH,r?r.x:void 0,n?n.x:void 0),Pk(t.y,e,QH,r?r.y:void 0,n?n.y:void 0)}function Rk(t){return t.translate===0&&t.scale===1}function o3(t){return Rk(t.x)&&Rk(t.y)}function Fk(t,e){return t.min===e.min&&t.max===e.max}function ZH(t,e){return Fk(t.x,e.x)&&Fk(t.y,e.y)}function Ok(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function l3(t,e){return Ok(t.x,e.x)&&Ok(t.y,e.y)}function Mk(t){return Sn(t.x)/Sn(t.y)}function Lk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class eW{constructor(){this.members=[]}add(e){Xx(this.members,e),e.scheduleRender()}remove(e){if(Jx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tW(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:h,rotate:f,rotateX:p,rotateY:g,skewX:x,skewY:w}=r;h&&(n=`perspective(${h}px) ${n}`),f&&(n+=`rotate(${f}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),x&&(n+=`skewX(${x}deg) `),w&&(n+=`skewY(${w}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(n+=`scale(${c}, ${u})`),n||"none"}const Op=["","X","Y","Z"],rW={visibility:"hidden"},Ik=1e3;let nW=0;function Mp(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function c3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Wj(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",gr,!(s||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&c3(n)}function d3({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},c=e==null?void 0:e()){this.id=nW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(iW),this.nodes.forEach(uW),this.nodes.forEach(hW),this.nodes.forEach(oW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new HH)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new e1),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const u=this.eventHandlers.get(o);u&&u.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=VH(o),this.instance=o;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(h||u)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=WH(g,250),rh.hasAnimatedSinceResize&&(rh.hasAnimatedSinceResize=!1,this.nodes.forEach(Uk))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||xW,{onLayoutAnimationStart:v,onLayoutAnimationComplete:_}=f.getProps(),T=!this.targetLayout||!l3(this.targetLayout,w),C=!g&&x;if(this.options.layoutRoot||this.resumeFrom||C||g&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,C);const R={...h1(b,"layout"),onPlay:v,onComplete:_};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else g||Uk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ei(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&c3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bk);return}this.isUpdating||this.nodes.forEach(cW),this.isUpdating=!1,this.nodes.forEach(dW),this.nodes.forEach(sW),this.nodes.forEach(aW),this.clearAllSnapshots();const c=Ln.now();Xr.delta=Ia(0,1e3/60,c-Xr.timestamp),Xr.timestamp=c,Xr.isProcessing=!0,Cp.update.process(Xr),Cp.preRender.process(Xr),Cp.render.process(Xr),Xr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,m1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lW),this.sharedNodes.forEach(mW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sn(this.snapshot.measuredBox.x)&&!Sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!o3(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&(c||lo(this.latestValues)||f)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return o&&(u=this.removeTransform(u)),yW(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return Nr();const c=o.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(vW))){const{scroll:f}=this.root;f&&(Sl(c.x,f.offset.x),Sl(c.y,f.offset.y))}return c}removeElementScroll(o){var u;const c=Nr();if(xs(c,o),(u=this.scroll)!=null&&u.wasRoot)return c;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&xs(c,o),Sl(c.x,p.offset.x),Sl(c.y,p.offset.y))}return c}applyTransform(o,c=!1){const u=Nr();xs(u,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&_l(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),lo(f.latestValues)&&_l(u,f.latestValues)}return lo(this.latestValues)&&_l(u,this.latestValues),u}removeTransform(o){const c=Nr();xs(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!lo(h.latestValues))continue;Vg(h.latestValues)&&h.updateSnapshot();const f=Nr(),p=h.measurePageBox();xs(f,p),Dk(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return lo(this.latestValues)&&Dk(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Xr.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nr(),this.relativeTargetOrigin=Nr(),xd(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nr(),this.targetWithTransforms=Nr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xs(this.target,this.layout.layoutBox),Zj(this.target,this.targetDelta)):xs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nr(),this.relativeTargetOrigin=Nr(),xd(this.relativeTargetOrigin,this.target,x.target),xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vg(this.parent.latestValues)||Qj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Xr.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;xs(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;kH(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Nr());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ek(this.prevProjectionDelta.x,this.projectionDelta.x),Ek(this.prevProjectionDelta.y,this.projectionDelta.y)),gd(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!Lk(this.projectionDelta.x,this.prevProjectionDelta.x)||!Lk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nl(),this.projectionDelta=Nl(),this.projectionDeltaWithTransform=Nl()}setAnimationOrigin(o,c=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},p=Nl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Nr(),x=u?u.source:void 0,w=this.layout?this.layout.source:void 0,b=x!==w,v=this.getStack(),_=!v||v.members.length<=1,T=!!(b&&!_&&this.options.crossfade===!0&&!this.path.some(gW));this.animationProgress=0;let C;this.mixTargetDelta=R=>{const j=R/1e3;zk(p.x,o.x,j),zk(p.y,o.y,j),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xd(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pW(this.relativeTarget,this.relativeTargetOrigin,g,j),C&&ZH(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Nr()),xs(C,this.relativeTarget)),b&&(this.animationValues=f,KH(f,h,this.latestValues,j,T,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ei(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gr.update(()=>{rh.hasAnimatedSinceResize=!0,this.currentAnimation=zH(0,Ik,{...o,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ik),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:f}=o;if(!(!c||!u||!h)){if(this!==o&&this.layout&&h&&u3(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Nr();const p=Sn(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const g=Sn(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+g}xs(c,u),_l(c,f),gd(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new eW),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&Mp("z",o,h,this.animationValues);for(let f=0;f<Op.length;f++)Mp(`rotate${Op[f]}`,o,h,this.animationValues),Mp(`skew${Op[f]}`,o,h,this.animationValues);o.render();for(const f in h)o.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return rW;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=th(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=th(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!lo(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=tW(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in zd){if(f[x]===void 0)continue;const{correct:w,applyTo:b,isCSSVariable:v}=zd[x],_=c.transform==="none"?f[x]:w(f[x],h);if(b){const T=b.length;for(let C=0;C<T;C++)c[b[C]]=_}else v?this.options.visualElement.renderState.vars[x]=_:c[x]=_}return this.options.layoutId&&(c.pointerEvents=h===this?th(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(Bk),this.root.sharedNodes.clear()}}}function sW(t){t.updateLayout()}function aW(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?vs(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],x=Sn(g);g.min=n[p].min,g.max=g.min+x}):u3(i,e.layoutBox,n)&&vs(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],x=Sn(n[p]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+x)});const c=Nl();gd(c,n,e.layoutBox);const u=Nl();o?gd(u,t.applyTransform(s,!0),e.measuredBox):gd(u,n,e.layoutBox);const h=!o3(c);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:x}=p;if(g&&x){const w=Nr();xd(w,e.layoutBox,g.layoutBox);const b=Nr();xd(b,n,x.layoutBox),l3(w,b)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=w,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function iW(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function oW(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lW(t){t.clearSnapshot()}function Bk(t){t.clearMeasurements()}function cW(t){t.isLayoutDirty=!1}function dW(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Uk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function uW(t){t.resolveTargetDelta()}function hW(t){t.calcProjection()}function fW(t){t.resetSkewAndRotation()}function mW(t){t.removeLeadSnapshot()}function zk(t,e,r){t.translate=pr(e.translate,0,r),t.scale=pr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Vk(t,e,r,n){t.min=pr(e.min,r.min,n),t.max=pr(e.max,r.max,n)}function pW(t,e,r,n){Vk(t.x,e.x,r.x,n),Vk(t.y,e.y,r.y,n)}function gW(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xW={duration:.45,ease:[.4,0,.1,1]},$k=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Hk=$k("applewebkit/")&&!$k("chrome/")?Math.round:Ss;function Wk(t){t.min=Hk(t.min),t.max=Hk(t.max)}function yW(t){Wk(t.x),Wk(t.y)}function u3(t,e,r){return t==="position"||t==="preserve-aspect"&&!bH(Mk(e),Mk(r),.2)}function vW(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const bW=d3({attachResizeListener:(t,e)=>$d(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lp={current:void 0},h3=d3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lp.current){const t=new bW({});t.mount(window),t.setOptions({layoutScroll:!0}),Lp.current=t}return Lp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wW={pan:{Feature:LH},drag:{Feature:MH,ProjectionNode:h3,MeasureLayout:s3}};function Yk(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&gr.postRender(()=>i(e,ou(e)))}class kW extends Li{mount(){const{current:e}=this.node;e&&(this.unmount=QV(e,(r,n)=>(Yk(this.node,n,"Start"),s=>Yk(this.node,s,"End"))))}unmount(){}}class NW extends Li{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=su($d(this.node.current,"focus",()=>this.onFocus()),$d(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kk(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&gr.postRender(()=>i(e,ou(e)))}class SW extends Li{mount(){const{current:e}=this.node;e&&(this.unmount=r$(e,(r,n)=>(Kk(this.node,n,"Start"),(s,{success:i})=>Kk(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wg=new WeakMap,Ip=new WeakMap,_W=t=>{const e=Wg.get(t.target);e&&e(t)},jW=t=>{t.forEach(_W)};function CW({root:t,...e}){const r=t||document;Ip.has(r)||Ip.set(r,{});const n=Ip.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(jW,{root:t,...e})),n[s]}function TW(t,e,r){const n=CW(e);return Wg.set(t,r),n.observe(t),()=>{Wg.delete(t),n.unobserve(t)}}const EW={some:0,all:1};class AW extends Li{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:EW[s]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=h?f:p;g&&g(u)};return TW(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(PW(e,r))&&this.startObserver()}unmount(){}}function PW({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const DW={inView:{Feature:AW},tap:{Feature:SW},focus:{Feature:NW},hover:{Feature:kW}},RW={layout:{ProjectionNode:h3,MeasureLayout:s3}},Yg={current:null},f3={current:!1};function FW(){if(f3.current=!0,!!Gx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yg.current=t.matches;t.addListener(e),e()}else Yg.current=!1}const OW=new WeakMap;function MW(t,e,r){for(const n in e){const s=e[n],i=r[n];if(fn(s))t.addValue(n,s);else if(fn(i))t.addValue(n,Bd(s,{owner:t}));else if(i!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,Bd(o!==void 0?o:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const Gk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class LW{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=u1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Ln.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,gr.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=gf(r),this.isVariantNode=Fj(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in p){const x=p[g];u[g]!==void 0&&fn(x)&&x.set(u[g],!1)}}mount(e){this.current=e,OW.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),f3.current||FW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),this.projection=void 0,Ei(this.notifyUpdate),Ei(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Ql.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&gr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bl){const r=Bl[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Gk.length;n++){const s=Gk[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=MW(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Bd(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(H_(n)||W_(n))?n=parseFloat(n):!i$(n)&&Ai.test(r)&&(n=Cj(e,r)),this.setBaseTarget(e,fn(n)?n.get():n)),fn(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=k1(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!fn(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new e1),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class m3 extends LW{constructor(){super(...arguments),this.KeyframeResolver=qV}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function p3(t,{style:e,vars:r},n,s){Object.assign(t.style,e,s&&s.getProjectionStyles(n));for(const i in r)t.style.setProperty(i,r[i])}function IW(t){return window.getComputedStyle(t)}class BW extends m3{constructor(){super(...arguments),this.type="html",this.renderInstance=p3}readValueFromInstance(e,r){if(Ql.has(r))return mV(e,r);{const n=IW(e),s=(n1(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return e3(e,r)}build(e,r,n){v1(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return N1(e,r,n)}}const g3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UW(t,e,r,n){p3(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(g3.has(s)?s:y1(s),e.attrs[s])}class zW extends m3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Ql.has(r)){const n=jj(r);return n&&n.default||0}return r=g3.has(r)?r:y1(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return Hj(e,r,n)}build(e,r,n){Uj(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,s){UW(e,r,n,s)}mount(e){this.isSVGTag=Vj(e.tagName),super.mount(e)}}const VW=(t,e)=>w1(t)?new zW(e):new BW(e,{allowProjection:t!==A.Fragment}),$W=U$({...hH,...DW,...wW,...RW},VW),cr=u$($W);function HW(t){return bt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"}}]})(t)}function WW(t){return bt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"}}]})(t)}const YW=()=>{const t=Fi(),[e,r]=A.useState(!1),[n,s]=A.useState(!0),[i,o]=A.useState(!1),[c,u]=A.useState(!1),[h,f]=A.useState({email:"",otp:"",newPassword:"",confirmPassword:""}),[p,g]=A.useState(!1),x=ct.useRef([]),w=(H,ie)=>{[...x.current.map(re=>(re==null?void 0:re.value)||"")],H.target.value,H.target.value.length>0&&ie<x.current.length-1&&x.current[ie+1].focus()},b=(H,ie)=>{H.key==="Backspace"&&H.target.value===""&&ie>0&&x.current[ie-1].focus()},v=H=>{H.preventDefault();const re=H.clipboardData.getData("text").split("");x.current.forEach((L,ee)=>{ee<re.length&&L&&(L.value=re[ee])}),x.current[re.length-1]&&x.current[re.length-1].focus()},[_,T]=A.useState(!1),[C,R]=A.useState(!1),j=H=>{f({...h,[H.target.name]:H.target.value})},O=async H=>{var ie,re,L,ee;H.preventDefault();try{if(u(!0),!h.email.trim()){r("Email is required"),Le.error("Email is required"),u(!1);return}const te=(await Zt.sendOTP(h.email)).data;te.success?(r(!1),T(!0),s(!1),u(!1),o("OTP sent successfully"),Le.success("OTP sent successfully to your email!")):(console.log("result",te),Le.error(te.message||"Failed to send OTP"),r(te.message||"Failed to send OTP"),u(!1))}catch(Q){u(!1),console.error(Q),Q.message==="Network Error"?(Le.error("Network error. Please check your internet connection or contact support."),r("Network error. Please check your internet connection or contact support.")):(Le.error(((re=(ie=Q.response)==null?void 0:ie.data)==null?void 0:re.message)||"Failed to send OTP. Please try again later."),r(((ee=(L=Q.response)==null?void 0:L.data)==null?void 0:ee.message)||"Failed to send OTP. Please try again later."))}},S=async H=>{var L,ee,Q,te;H.preventDefault();const re=x.current.map(U=>(U==null?void 0:U.value)||"").join("");if(re.length!==6){Le.error("Please enter the complete 6-digit OTP"),r("Please enter the complete 6-digit OTP");return}try{u(!0),console.log("payload.email",h.email),console.log("otp",re);const Z=(await Zt.verifyOTP({otp:re,email:h.email})).data;Z.success?(r(!1),R(!0),T(!1),u(!1),o("OTP verified successfully. Enter your new password"),Le.success("OTP verified successfully!")):(o(!1),Le.error(Z.message||"Invalid OTP"),r(Z.message||"Invalid OTP"),u(!1))}catch(U){u(!1),console.error(U),U.message==="Network Error"?(Le.error("Network error. Please check your internet connection or contact support."),r("Network error. Please check your internet connection or contact support.")):(Le.error(((ee=(L=U.response)==null?void 0:L.data)==null?void 0:ee.message)||"Failed to verify OTP. Please try again later."),r(((te=(Q=U.response)==null?void 0:Q.data)==null?void 0:te.message)||"Failed to verify OTP. Please try again later."))}},P=async H=>{var ie,re,L,ee;if(o(!1),H.preventDefault(),h.newPassword!==h.confirmPassword){Le.error("Passwords do not match"),r("Passwords do not match");return}if(h.newPassword.length<8){Le.error("Password must be at least 8 characters long"),r("Password must be at least 8 characters long");return}try{u(!0),console.log("newPassword sending to backend is ",h.newPassword);const te=(await Zt.resetPassword({email:h.email,newPassword:h.newPassword})).data;te.success?(r(!1),u(!1),Le.success("Password changed successfully!"),setTimeout(()=>{t("/login")},2e3)):(Le.error(te.message||"Failed to reset password"),r(te.message||"Failed to reset password"),u(!1))}catch(Q){u(!1),console.error(Q),Q.message==="Network Error"?(Le.error("Network error. Please check your internet connection or contact support."),r("Network error. Please check your internet connection or contact support.")):(Le.error(((re=(ie=Q.response)==null?void 0:ie.data)==null?void 0:re.message)||"Failed to reset password. Please try again later."),r(((ee=(L=Q.response)==null?void 0:L.data)==null?void 0:ee.message)||"Failed to reset password. Please try again later."))}},B={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}},exit:{opacity:0,transition:{duration:.5}}},ae={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-20,transition:{duration:.3}}},q={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.5}}};return a.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center relative",style:{backgroundImage:`url(${Fw})`},children:[a.jsx(K8,{position:"top-right",autoClose:3e3}),a.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),a.jsx(cr.div,{className:"absolute inset-0 flex justify-center items-center p-4",initial:"hidden",animate:"visible",exit:"exit",variants:B,children:a.jsxs("div",{className:"grid grid-cols-1 md:flex max-w-5xl w-full",children:[a.jsxs(cr.div,{className:"bg-[#152B54] w-full md:w-[40%] p-6 hidden md:flex flex-col justify-center items-center",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:[a.jsx("div",{className:"relative",children:a.jsx("img",{src:Fw,alt:"Traincape Technology",className:"w-[130px] h-[130px] mb-8"})}),a.jsxs(cr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:1},className:"text-white text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Password Recovery"}),a.jsx("p",{className:"mb-6",children:"Recover your account access quickly and securely"}),a.jsx("div",{className:"w-16 h-1 bg-white dark:bg-slate-900 transition-all duration-200 ease-out mx-auto"})]})]}),a.jsxs(cr.div,{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out bg-opacity-95 p-8 md:p-12 shadow-xl w-full md:w-[60%] rounded-lg",variants:ae,initial:"hidden",animate:"visible",exit:"exit",children:[a.jsx(cr.h1,{className:"text-3xl font-semibold text-center text-[#152B54] mb-6",variants:q,children:"Forgot Password"}),e&&a.jsx(cr.div,{className:"mb-4 p-3 bg-red-100 text-red-800 rounded-md",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:e}),i&&a.jsx(cr.div,{className:"mb-4 p-3 bg-green-100 text-green-800 rounded-md",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:i}),a.jsxs("form",{children:[n&&a.jsxs(cr.div,{variants:ae,children:[a.jsxs(cr.div,{className:"mb-6",variants:q,children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:h.email,onChange:j,placeholder:"Enter your email address",className:"w-full px-4 py-3 mt-1 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] transition-all duration-200"})]}),a.jsx(cr.button,{type:"button",onClick:O,disabled:c,variants:q,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-[#152B54] text-white rounded-lg hover:bg-sky-950 transition duration-200 flex justify-center items-center",children:c?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin mr-2 h-5 w-5 border-t-2 border-b-2 border-white rounded-full"}),a.jsx("span",{children:"Sending..."})]}):"Send Reset OTP"}),a.jsx(cr.div,{className:"mt-4 text-center",variants:q,children:a.jsx("button",{type:"button",onClick:()=>t("/login"),className:"text-[#152B54] hover:underline",children:"Back to Login"})})]}),_&&a.jsxs(cr.div,{className:"mt-4",variants:ae,initial:"hidden",animate:"visible",exit:"exit",children:[a.jsx(cr.h2,{className:"text-xl font-semibold text-center text-[#152B54] mb-4",variants:q,children:"Enter Verification Code"}),a.jsx(cr.p,{className:"text-center text-gray-600 dark:text-gray-400 mb-6",variants:q,children:"We've sent a 6-digit code to your email"}),a.jsx(cr.div,{onPaste:v,className:"flex justify-between mb-6",variants:q,children:Array(6).fill(0).map((H,ie)=>a.jsx(cr.input,{type:"text",maxLength:"1",required:!0,onChange:re=>w(re,ie),onKeyDown:re=>b(re,ie),ref:re=>x.current[ie]=re,whileFocus:{scale:1.1},className:"w-12 h-12 text-3xl text-center border-2 border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] focus:border-[#152B54] transition-all duration-200"},ie))}),a.jsx(cr.button,{type:"button",onClick:S,disabled:c,variants:q,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 mt-2 bg-[#152B54] text-white rounded-lg hover:bg-sky-950 transition duration-200 flex justify-center items-center",children:c?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin mr-2 h-5 w-5 border-t-2 border-b-2 border-white rounded-full"}),a.jsx("span",{children:"Verifying..."})]}):"Verify OTP"}),a.jsx(cr.div,{className:"mt-4 text-center",variants:q,children:a.jsx("button",{type:"button",onClick:O,className:"text-[#152B54] hover:underline",children:"Didn't receive code? Resend"})})]}),C&&a.jsxs(cr.div,{className:"mt-4",variants:ae,initial:"hidden",animate:"visible",exit:"exit",children:[a.jsx(cr.h2,{className:"text-xl font-semibold text-center text-[#152B54] mb-4",variants:q,children:"Create New Password"}),a.jsx(cr.p,{className:"text-center text-gray-600 dark:text-gray-400 mb-6",variants:q,children:"Your new password must be at least 8 characters"}),a.jsxs(cr.div,{className:"mb-5 relative",variants:q,children:[a.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:p?"text":"password",id:"newPassword",name:"newPassword",value:h.newPassword,onChange:j,required:!0,placeholder:"Enter new password",className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] transition-all duration-200"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 dark:text-gray-300 hover:text-gray-700",onClick:()=>g(!p),children:p?a.jsx(WW,{size:18}):a.jsx(HW,{size:18})})]})]}),a.jsxs(cr.div,{className:"mb-6",variants:q,children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-2",children:"Confirm Password"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:h.confirmPassword,onChange:j,required:!0,placeholder:"Confirm new password",className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] transition-all duration-200"})]}),a.jsx(cr.button,{type:"button",onClick:P,disabled:c,variants:q,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-[#152B54] text-white rounded-lg hover:bg-sky-950 transition duration-200 flex justify-center items-center",children:c?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin mr-2 h-5 w-5 border-t-2 border-b-2 border-white rounded-full"}),a.jsx("span",{children:"Resetting Password..."})]}):"Reset Password"})]})]})]})]})})]})},KW=()=>{const[t,e]=A.useState([]),[r,n]=A.useState([]),[s,i]=A.useState(!0),[o,c]=A.useState(null),[u,h]=A.useState([]),[f,p]=A.useState(null),[g,x]=A.useState({}),[w,b]=A.useState(!1),{user:v}=Mt(),[_,T]=A.useState(new Date().getMonth()+1),[C,R]=A.useState(new Date().getFullYear()),[j,O]=A.useState(!1),[S,P]=A.useState(!0),B=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],ae=new Date().getFullYear(),q=Array.from({length:6},(W,K)=>ae-K);A.useEffect(()=>{ie(),Q();const W=setInterval(()=>{console.log("Auto-refreshing sales data..."),ie(!0)},12e4);return()=>{clearInterval(W)}},[]),A.useEffect(()=>{t.length>0&&H()},[t,_,C,j,S]);const H=()=>{if(S){n(t);return}if(j){const W=new Date().getMonth()+1,K=new Date().getFullYear(),E=t.filter(ce=>{if(!ce.date&&!ce.createdAt)return console.log("Sale has no date:",ce),!1;const ne=new Date(ce.date||ce.createdAt),ue=ne.getMonth()+1,be=ne.getFullYear();return ue===W&&be===K});console.log(`Filtered to current month: ${W}/${K}. Found ${E.length} sales.`),n(E)}else{const W=t.filter(K=>{if(!K.date&&!K.createdAt)return console.log("Sale has no date:",K),!1;const E=new Date(K.date||K.createdAt),ce=E.getMonth()+1,ne=E.getFullYear();return console.log(`Sale date: ${E.toISOString()}, Month: ${ce}, Year: ${ne}, Filter: ${_}/${C}`),ce===_&&ne===C});console.log(`Filtered to ${_}/${C}. Found ${W.length} sales.`),n(W)}},ie=async(W=!1)=>{var K;try{W?b(!0):i(!0),c(null),console.log("Fetching lead sales for user:",v==null?void 0:v.fullName,v==null?void 0:v.role,v==null?void 0:v._id);try{const E=await Er.getAllForced();if(E.data&&E.data.success){const ce=E.data.data.filter(ne=>ne.leadPerson===v._id||ne.leadPerson&&ne.leadPerson._id===v._id);console.log(`Lead sales data loaded: ${ce.length} sales`),e(ce),W?H():n(ce),ce.length===0?(console.log("No sales found. This could be because:"),console.log("1. No sales have been assigned to this lead person"),console.log("2. Sales were created without selecting this lead person")):console.log("Sample sales data:",ce[0]),W&&Le.info("Sales data refreshed automatically")}else console.error("Failed to load lead sales data:",E.data),c("Failed to load sales data: "+(((K=E.data)==null?void 0:K.message)||"Unknown error"))}catch(E){console.error("API service call failed:",E),c("Failed to load sales data. Please try again.")}}catch(E){console.error("Error loading sales data:",E),E.response&&(console.error("Error details:",E.response.data),console.error("Error status:",E.response.status)),c("Failed to load sales data. Please try again.")}finally{i(!1),b(!1)}},re=W=>{T(parseInt(W.target.value)),O(!1),P(!1)},L=W=>{R(parseInt(W.target.value)),O(!1),P(!1)},ee=()=>{const W=new Date;T(W.getMonth()+1),R(W.getFullYear()),O(!0),P(!1)},Q=async()=>{try{const W=await Zt.getUsers("Sales Person");h(W.data.data||[])}catch(W){console.error("Error loading users:",W)}},te=W=>{p(W._id),x({DATE:W.date||new Date().toISOString(),NAME:W.customerName||"",COUNTRY:W.country||"",COURSE:W.course||"",CODE:W.countryCode||"+1",NUMBER:W.contactNumber||"","E-MAIL":W.email||"","PSUDO ID":W.pseudoId||"","SALE PERSON":W.salesPerson&&(W.salesPerson._id||W.salesPerson)||"","LEAD PERSON":W.leadPerson&&(W.leadPerson._id||W.leadPerson)||v.id||"",SOURSE:W.source||"","CLIENT REMARK":W.clientRemark||"",FEEDBACK:W.feedback||"",TOTAL_COST:W.totalCost||0,TOTAL_COST_CURRENCY:W.totalCostCurrency||"USD",TOKEN_AMOUNT:W.tokenAmount||0,TOKEN_AMOUNT_CURRENCY:W.tokenAmountCurrency||"USD"}),console.log("Edit data populated:",W)},U=W=>{const{name:K,value:E}=W.target;x(ce=>({...ce,[K]:E}))},Z=async()=>{var W;try{console.log("Saving with data:",g);const K={date:g.DATE,customerName:g.NAME,country:g.COUNTRY,course:g.COURSE,countryCode:g.CODE,contactNumber:g.NUMBER,email:g["E-MAIL"],pseudoId:g["PSUDO ID"],salesPerson:g["SALE PERSON"],leadPerson:g["LEAD PERSON"],source:g.SOURSE,clientRemark:g["CLIENT REMARK"],feedback:g.FEEDBACK,totalCost:parseFloat(g.TOTAL_COST)||0,totalCostCurrency:g.TOTAL_COST_CURRENCY,tokenAmount:parseFloat(g.TOKEN_AMOUNT)||0,tokenAmountCurrency:g.TOKEN_AMOUNT_CURRENCY},E=await Er.update(f,K);E.data&&E.data.success?(console.log("Sale updated successfully:",E.data),console.log("Updated sale data from server:",E.data.data),Le.success("Sale updated successfully"),e(ne=>ne.map(ue=>ue._id===f?(console.log("Updating sale in local state:",E.data.data),E.data.data):ue)),S||(P(!0),Le.info("Showing all sales to display your changes. Use filters to narrow down if needed."))):(console.error("Failed to update sale:",E.data),c("Failed to update sale: "+(((W=E.data)==null?void 0:W.message)||"Unknown error"))),p(null),(!E.data||!E.data.success)&&ie()}catch(K){console.error("Error updating sale:",K),c("Failed to update sale. Please try again."),p(null),ie()}},X=()=>{p(null)},M=()=>{const W=`Lead-Sales-Sheet-${new Date().toISOString().split("T")[0]}.xlsx`,K=r.map(ne=>{var ue,be,Ee,Ke;return{DATE:new Date(ne.date).toLocaleDateString(),NAME:ne.customerName,COUNTRY:ne.country,COURSE:ne.course,CODE:ne.countryCode||"",NUMBER:ne.contactNumber,"E-MAIL":ne.email||"","PSUDO ID":ne.pseudoId||"","SALE PERSON":((ue=ne.salesPerson)==null?void 0:ue.fullName)||"","LEAD PERSON":((be=ne.leadPerson)==null?void 0:be.fullName)||"",SOURSE:ne.source||"","CLIENT REMARK":ne.clientRemark||"",FEEDBACK:ne.feedback||"","TOTAL COST":`${((Ee=ne.totalCost)==null?void 0:Ee.toFixed(2))||"0.00"} ${ne.totalCostCurrency||"USD"}`,"TOKEN AMOUNT":`${((Ke=ne.tokenAmount)==null?void 0:Ke.toFixed(2))||"0.00"} ${ne.tokenAmountCurrency||"USD"}`}}),E=pp.json_to_sheet(K),ce=pp.book_new();pp.book_append_sheet(ce,E,"Lead Sales"),$L(ce,W)};return a.jsx(rr,{children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Lead Sales Sheet"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-500 mt-1",children:"This page shows sales where you are the Lead Person. Sales created by Sales Persons who select you as the Lead Person will appear here."})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>ie(!1),disabled:w,className:`px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center ${w?"opacity-70 cursor-not-allowed":""}`,children:w?a.jsxs(a.Fragment,{children:[a.jsx(Sb,{className:"mr-2 animate-spin"})," Refreshing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Sb,{className:"mr-2"})," Refresh"]})}),a.jsxs("button",{onClick:M,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 flex items-center",children:[a.jsx(Q4,{className:"mr-2"})," Export"]})]})]}),a.jsxs("div",{className:"mb-6 p-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[a.jsx(rx,{className:"mr-2 text-blue-500"})," Filter Sales by Date"]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-600 dark:text-gray-500 mb-1",children:"Month"}),a.jsx("select",{id:"month",value:_,onChange:re,className:"border border-slate-300 dark:border-slate-600 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",disabled:j,children:B.map(W=>a.jsx("option",{value:W.value,children:W.label},W.value))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-600 dark:text-gray-500 mb-1",children:"Year"}),a.jsx("select",{id:"year",value:C,onChange:L,className:"border border-slate-300 dark:border-slate-600 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",disabled:j,children:q.map(W=>a.jsx("option",{value:W,children:W},W))})]}),a.jsxs("div",{className:"flex items-center ml-4",children:[a.jsx("input",{id:"currentMonth",type:"checkbox",checked:j,onChange:()=>{O(!j),j||P(!1)},className:"h-4 w-4 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 border-slate-300 dark:border-slate-600 rounded"}),a.jsx("label",{htmlFor:"currentMonth",className:"ml-2 block text-sm text-slate-700 dark:text-slate-300",children:"Show Current Month Only"})]}),a.jsxs("div",{className:"flex items-center ml-4",children:[a.jsx("input",{id:"showAllSales",type:"checkbox",checked:S,onChange:()=>{P(!S),S||O(!1)},className:"h-4 w-4 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 border-slate-300 dark:border-slate-600 rounded"}),a.jsx("label",{htmlFor:"showAllSales",className:"ml-2 block text-sm text-slate-700 dark:text-slate-300 font-semibold text-blue-600",children:"Show All Sales (No Date Filter)"})]}),a.jsxs("button",{onClick:ee,className:"bg-gray-200 dark:bg-slate-600 hover:bg-gray-300 text-gray-800 dark:text-gray-200 py-2 px-4 rounded-md ml-auto transition duration-300 flex items-center",children:[a.jsx(X4,{className:"mr-2"})," Reset to Current Month"]})]}),a.jsxs("div",{className:"mt-3 text-sm text-slate-500 dark:text-gray-400",children:[S?a.jsxs("p",{children:["Showing all sales regardless of date: ",t.length," total records"]}):j?a.jsxs("p",{children:["Showing sales for current month: ",B[new Date().getMonth()].label," ",new Date().getFullYear()]}):a.jsxs("p",{children:["Showing sales for: ",B[_-1].label," ",C]}),a.jsxs("p",{children:["Total: ",r.length," records"]})]})]}),o&&a.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:a.jsx("p",{children:o})}),s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full bg-white dark:bg-slate-900 transition-all duration-200 ease-out border border-slate-200 dark:border-slate-700",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 dark:bg-slate-700",children:[a.jsx("th",{className:"border px-4 py-2",children:"DATE"}),a.jsx("th",{className:"border px-4 py-2",children:"NAME"}),a.jsx("th",{className:"border px-4 py-2",children:"COURSE"}),a.jsx("th",{className:"border px-4 py-2",children:"NUMBER"}),a.jsx("th",{className:"border px-4 py-2",children:"EMAIL"}),a.jsx("th",{className:"border px-4 py-2",children:"COUNTRY"}),a.jsx("th",{className:"border px-4 py-2",children:"SALES PERSON"}),a.jsx("th",{className:"border px-4 py-2",children:"TOTAL COST"}),a.jsx("th",{className:"border px-4 py-2",children:"TOKEN AMOUNT"}),a.jsx("th",{className:"border px-4 py-2",children:"LEAD PERSON"}),a.jsx("th",{className:"border px-4 py-2",children:"ACTIONS"})]})}),a.jsx("tbody",{children:r.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"11",className:"border px-4 py-2 text-center",children:a.jsxs("div",{className:"py-6",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-500 mb-2",children:"No sales data found for you as a Lead Person."}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-gray-400",children:["When Sales Persons create sales and select you as the Lead Person, they will appear here.",a.jsx("br",{}),"Ask Sales Persons to make sure they select your name in the Lead Person dropdown when creating sales."]})]})})}):r.map(W=>{var K,E,ce;return a.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 dark:bg-slate-800 transition-all duration-200 ease-out",children:f===W._id?a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"border px-4 py-2",children:a.jsx("input",{type:"date",name:"DATE",value:g.DATE?new Date(g.DATE).toISOString().split("T")[0]:"",onChange:U,className:"w-full p-1 border"})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsx("input",{type:"text",name:"NAME",value:g.NAME,onChange:U,className:"w-full p-1 border"})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsx("input",{type:"text",name:"COURSE",value:g.COURSE,onChange:U,className:"w-full p-1 border"})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsx("input",{type:"text",name:"NUMBER",value:g.NUMBER,onChange:U,className:"w-full p-1 border"})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsx("input",{type:"text",name:"E-MAIL",value:g["E-MAIL"],onChange:U,className:"w-full p-1 border"})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsx("input",{type:"text",name:"COUNTRY",value:g.COUNTRY,onChange:U,className:"w-full p-1 border"})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsxs("select",{name:"SALE PERSON",value:g["SALE PERSON"],onChange:U,className:"w-full p-1 border",children:[a.jsx("option",{value:"",children:"Select"}),u.map(ne=>a.jsx("option",{value:ne._id,children:ne.fullName},ne._id))]})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("input",{type:"number",name:"TOTAL_COST",value:g.TOTAL_COST,onChange:U,className:"w-2/3 p-1 border"}),a.jsxs("select",{name:"TOTAL_COST_CURRENCY",value:g.TOTAL_COST_CURRENCY,onChange:U,className:"w-1/3 p-1 border text-xs",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"CAD",children:"CAD"}),a.jsx("option",{value:"AUD",children:"AUD"}),a.jsx("option",{value:"INR",children:"INR"}),a.jsx("option",{value:"JPY",children:"JPY"}),a.jsx("option",{value:"CNY",children:"CNY"})]})]})}),a.jsx("td",{className:"border px-4 py-2",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("input",{type:"number",name:"TOKEN_AMOUNT",value:g.TOKEN_AMOUNT,onChange:U,className:"w-2/3 p-1 border"}),a.jsxs("select",{name:"TOKEN_AMOUNT_CURRENCY",value:g.TOKEN_AMOUNT_CURRENCY,onChange:U,className:"w-1/3 p-1 border text-xs",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"CAD",children:"CAD"}),a.jsx("option",{value:"AUD",children:"AUD"}),a.jsx("option",{value:"INR",children:"INR"}),a.jsx("option",{value:"JPY",children:"JPY"}),a.jsx("option",{value:"CNY",children:"CNY"})]})]})}),a.jsx("td",{className:"border px-4 py-2",children:(K=W.leadPerson)==null?void 0:K.fullName}),a.jsx("td",{className:"border px-4 py-2",children:a.jsxs("div",{className:"flex justify-center space-x-1",children:[a.jsx("button",{onClick:Z,className:"p-1 bg-green-500 text-white rounded text-sm hover:bg-green-600",children:a.jsx(Z4,{})}),a.jsx("button",{onClick:X,className:"p-1 bg-red-500 text-white rounded text-sm hover:bg-red-600",children:a.jsx(uE,{})})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"border px-4 py-2",children:new Date(W.date).toLocaleDateString()}),a.jsx("td",{className:"border px-4 py-2",children:W.customerName}),a.jsx("td",{className:"border px-4 py-2",children:W.course}),a.jsx("td",{className:"border px-4 py-2",children:W.countryCode&&W.contactNumber?`${W.countryCode} ${W.contactNumber}`:W.contactNumber||"N/A"}),a.jsx("td",{className:"border px-4 py-2",children:W.email||"N/A"}),a.jsx("td",{className:"border px-4 py-2",children:W.country||"N/A"}),a.jsx("td",{className:"border px-4 py-2",children:((E=W.salesPerson)==null?void 0:E.fullName)||(typeof W.salesPerson=="string"?W.salesPerson:"N/A")}),a.jsxs("td",{className:"border px-4 py-2",children:[W.totalCost!==void 0?W.totalCost.toFixed(2):"0.00"," ",W.totalCostCurrency||"USD"]}),a.jsxs("td",{className:"border px-4 py-2",children:[W.tokenAmount!==void 0?W.tokenAmount.toFixed(2):"0.00"," ",W.tokenAmountCurrency||"USD"]}),a.jsx("td",{className:"border px-4 py-2",children:((ce=W.leadPerson)==null?void 0:ce.fullName)||(typeof W.leadPerson=="string"?W.leadPerson:"N/A")}),a.jsx("td",{className:"border px-4 py-2 flex justify-center",children:a.jsx("button",{onClick:()=>te(W),className:"px-2 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200",children:a.jsx(Kd,{})})})]})},W._id)})})]})})]})})},GW=()=>{const[t,e]=A.useState([]),[r,n]=A.useState(!0),[s,i]=A.useState(null),[o,c]=A.useState([]),[u,h]=A.useState(!1),[f,p]=A.useState(null),[g,x]=A.useState({DATE:new Date().toISOString().split("T")[0],NAME:"",COUNTRY:"",COURSE:"",CODE:"",NUMBER:"","E-MAIL":"","PSUDO ID":"","SALE PERSON":"","LEAD PERSON":"",SOURSE:"","CLIENT REMARK":"",FEEDBACK:"","TOTAL COST":0,"TOTAL COST CURRENCY":"USD","TOKEN AMOUNT":0,"TOKEN AMOUNT CURRENCY":"USD"}),{user:w,loadUser:b}=Mt();console.log("User object in LeadSalesUpdatePage initial load:",w),console.log("User ID formats:",w?{id:w.id,_id:w._id,userId:w.userId}:"No user data"),A.useEffect(()=>{w?(console.log("User data available:",w),console.log("User ID variations:",{id:w.id,_id:w._id,userId:w.userId})):(console.log("No user data found, attempting to reload user data"),b())},[]),A.useEffect(()=>{console.log("User information on load:",w),w&&(v(),_())},[w]),A.useEffect(()=>{if(w){const S=w.id||w._id||w.userId;console.log("Setting lead person ID to:",S),S&&x(P=>({...P,"LEAD PERSON":S}))}},[w]);const v=async()=>{try{n(!0),i(null);const S=await Er.getLeadSheet();e(S.data.data)}catch(S){console.error("Error loading sales data:",S),i("Failed to load sales data. Please try again."),Qt.error("Failed to load sales data")}finally{n(!1)}},_=async()=>{try{const S=await Zt.getUsers("Sales Person");c(S.data.data||[])}catch(S){console.error("Error loading users:",S),Qt.error("Failed to load sales persons")}},T=S=>{const{name:P,value:B}=S.target;x(ae=>({...ae,[P]:B}))},C=async S=>{var P,B,ae,q;S.preventDefault(),n(!0),i(null);try{if(!w)throw console.error("No user object available"),new Error("User information not available. Please log in again.");console.log("Full user object:",w);const H=w.id||w._id||w.userId;if(!H)throw console.error("No user ID found in any format:",w),new Error("User ID not available. Please log in again.");console.log("Using user ID:",H);const ie={date:g.DATE,customerName:g.NAME,country:g.COUNTRY,course:g.COURSE,countryCode:g.CODE,contactNumber:g.NUMBER,email:g["E-MAIL"],pseudoId:g["PSUDO ID"],salesPerson:g["SALE PERSON"],totalCost:parseFloat(g["TOTAL COST"]),totalCostCurrency:g["TOTAL COST CURRENCY"],tokenAmount:parseFloat(g["TOKEN AMOUNT"]),tokenAmountCurrency:g["TOKEN AMOUNT CURRENCY"],leadPerson:H,source:g.SOURSE,clientRemark:g["CLIENT REMARK"],feedback:g.FEEDBACK,isLeadPersonSale:!0};console.log("Sending sale data:",ie);let re;f?(re=await tp.update(f,ie),Qt.success("Sale updated successfully")):(re=await tp.create(ie),Qt.success("Sale created successfully")),re.data.success&&(x({DATE:new Date().toISOString().split("T")[0],NAME:"",COUNTRY:"",COURSE:"",CODE:"",NUMBER:"","E-MAIL":"","PSUDO ID":"","SALE PERSON":"","LEAD PERSON":H,SOURSE:"","CLIENT REMARK":"",FEEDBACK:"","TOTAL COST":0,"TOTAL COST CURRENCY":"USD","TOKEN AMOUNT":0,"TOKEN AMOUNT CURRENCY":"USD"}),h(!1),p(null),v())}catch(H){console.error("Error with sale:",H),i(((B=(P=H.response)==null?void 0:P.data)==null?void 0:B.message)||"Failed to process sale. Please try again."),Qt.error(((q=(ae=H.response)==null?void 0:ae.data)==null?void 0:q.message)||"Failed to process sale")}finally{n(!1)}},R=async S=>{if(window.confirm("Are you sure you want to delete this sale?"))try{n(!0),await tp.delete(S),Qt.success("Sale deleted successfully"),v()}catch(P){console.error("Error deleting sale:",P),Qt.error("Failed to delete sale")}finally{n(!1)}},j=S=>{var P,B;p(S._id),x({DATE:new Date(S.date).toISOString().split("T")[0],NAME:S.customerName||"",COUNTRY:S.country||"",COURSE:S.course||"",CODE:S.countryCode||"",NUMBER:S.contactNumber||"","E-MAIL":S.email||"","PSUDO ID":S.pseudoId||"","SALE PERSON":((P=S.salesPerson)==null?void 0:P._id)||S.salesPerson||"","LEAD PERSON":((B=S.leadPerson)==null?void 0:B._id)||S.leadPerson||"",SOURSE:S.source||"","CLIENT REMARK":S.clientRemark||"",FEEDBACK:S.feedback||"","TOTAL COST":S.totalCost||0,"TOTAL COST CURRENCY":S.totalCostCurrency||"USD","TOKEN AMOUNT":S.tokenAmount||0,"TOKEN AMOUNT CURRENCY":S.tokenAmountCurrency||"USD"}),h(!0),window.scrollTo({top:0,behavior:"smooth"})},O=()=>{p(null),x({DATE:new Date().toISOString().split("T")[0],NAME:"",COUNTRY:"",COURSE:"",CODE:"",NUMBER:"","E-MAIL":"","PSUDO ID":"","SALE PERSON":"","LEAD PERSON":(w==null?void 0:w.id)||(w==null?void 0:w._id)||(w==null?void 0:w.userId)||"",SOURSE:"","CLIENT REMARK":"",FEEDBACK:"","TOTAL COST":0,"TOTAL COST CURRENCY":"USD","TOKEN AMOUNT":0,"TOKEN AMOUNT CURRENCY":"USD"}),h(!1)};return a.jsx(rr,{children:a.jsxs("div",{className:"container mx-auto p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Lead Sales Management"}),a.jsx("button",{onClick:()=>{p(null),h(!u)},className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md",children:u?"Cancel":a.jsxs(a.Fragment,{children:[a.jsx(nx,{className:"mr-2"})," Add New Sale"]})})]}),s&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:s}),u&&a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out shadow-md dark:shadow-2xl rounded-lg p-6 mb-6 shadow-sm",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:f?"Edit Sale":"Add New Sale"}),a.jsxs("form",{onSubmit:C,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Date"}),a.jsx("input",{type:"date",name:"DATE",value:g.DATE,onChange:T,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Customer Name"}),a.jsx("input",{type:"text",name:"NAME",value:g.NAME,onChange:T,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Country"}),a.jsx("input",{type:"text",name:"COUNTRY",value:g.COUNTRY,onChange:T,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Course"}),a.jsx("input",{type:"text",name:"COURSE",value:g.COURSE,onChange:T,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Country Code"}),a.jsx("input",{type:"text",name:"CODE",value:g.CODE,onChange:T,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Phone Number"}),a.jsx("input",{type:"text",name:"NUMBER",value:g.NUMBER,onChange:T,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),a.jsx("input",{type:"email",name:"E-MAIL",value:g["E-MAIL"],onChange:T,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Pseudo ID"}),a.jsx("input",{type:"text",name:"PSUDO ID",value:g["PSUDO ID"],onChange:T,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Sales Person"}),a.jsxs("select",{name:"SALE PERSON",value:g["SALE PERSON"],onChange:T,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",children:[a.jsx("option",{value:"",children:"Select Sales Person"}),o.map(S=>a.jsx("option",{value:S._id,children:S.fullName},S._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Source"}),a.jsx("input",{type:"text",name:"SOURSE",value:g.SOURSE,onChange:T,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Total Cost"}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"number",name:"TOTAL COST",value:g["TOTAL COST"],onChange:T,className:"w-2/3 p-2 border border-slate-300 dark:border-slate-600 rounded-l-md",required:!0}),a.jsxs("select",{name:"TOTAL COST CURRENCY",value:g["TOTAL COST CURRENCY"],onChange:T,className:"w-1/3 p-2 border border-slate-300 dark:border-slate-600 rounded-r-md",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"INR",children:"INR"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Token Amount"}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"number",name:"TOKEN AMOUNT",value:g["TOKEN AMOUNT"],onChange:T,className:"w-2/3 p-2 border border-slate-300 dark:border-slate-600 rounded-l-md",required:!0}),a.jsxs("select",{name:"TOKEN AMOUNT CURRENCY",value:g["TOKEN AMOUNT CURRENCY"],onChange:T,className:"w-1/3 p-2 border border-slate-300 dark:border-slate-600 rounded-r-md",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"INR",children:"INR"})]})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Client Remark"}),a.jsx("textarea",{name:"CLIENT REMARK",value:g["CLIENT REMARK"],onChange:T,rows:"2",className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Feedback"}),a.jsx("textarea",{name:"FEEDBACK",value:g.FEEDBACK,onChange:T,rows:"2",className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-400",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md disabled:bg-blue-300",children:r?"Processing...":f?"Update Sale":"Add Sale"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out shadow-md dark:shadow-2xl rounded-lg overflow-hidden shadow-sm",children:[a.jsx("h2",{className:"text-xl font-semibold p-4 bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:"Sales List"}),r&&!u?a.jsx("div",{className:"flex justify-center items-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):t.length===0?a.jsx("div",{className:"p-6 text-center text-slate-500 dark:text-gray-400",children:"No sales found. Add your first sale above."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Sales Person"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Total"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Token"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-slate-200 dark:divide-slate-700",children:t.map(S=>{var P;return a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 dark:bg-slate-800 transition-all duration-200 ease-out",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:new Date(S.date).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:[a.jsx("div",{children:S.customerName}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-400",children:S.country})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:S.course}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:((P=S.salesPerson)==null?void 0:P.fullName)||"N/A"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:[S.totalCost," ",S.totalCostCurrency]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:[S.tokenAmount," ",S.tokenAmountCurrency]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${S.saleType==="Lead Person Sale"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:S.saleType||(S.isLeadPersonSale?"Lead Person Sale":"Sales Person Sale")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>j(S),className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(Kd,{className:"h-5 w-5"})}),(!S.saleType||S.saleType==="Lead Person Sale"||S.isLeadPersonSale)&&a.jsx("button",{onClick:()=>R(S._id),className:"text-red-600 hover:text-red-900",children:a.jsx(sx,{className:"h-5 w-5"})})]})})]},S._id)})})]})})]})]})})},qW="/assets/Dashboard-W6ym5qsz.png",XW=()=>{const{user:t}=Mt(),[e,r]=A.useState("getting-started"),n={"getting-started":{title:"Getting Started with TrainCape CRM",icon:"🚀",content:[{heading:"Welcome to TrainCape CRM",description:"This tutorial will help you understand the basics of the CRM system and how to get started.",steps:["Log in using your provided credentials","Navigate the dashboard to understand available features","Update your profile information","Explore the main navigation menu for your role-specific features"],image:qW,tip:"Your role determines which features you can access. The system has four roles: Admin, Manager, Lead Person, and Sales Person."},{heading:"Understanding Your Dashboard",description:"Your dashboard provides quick access to important information based on your role.",steps:["View recent activities and updates","Access quick shortcuts to common tasks","Check pending tasks and notifications","Use the quick stats cards to monitor performance"],tip:"Customize your experience by updating your profile settings."},{heading:"Setting Up Your Profile",description:"Personalize your account and add a profile picture.",steps:["Navigate to your profile by clicking your name in the top navigation","Upload a profile picture by clicking the camera icon","Use the crop tool to adjust and position your image","Click Apply Crop to confirm your selection","Save your profile changes"],tip:"The new image cropping tool allows you to perfectly position your profile picture before uploading."}]},"lead-management":{title:"Lead Management",icon:"👥",content:[{heading:"Creating New Leads",description:"Learn how to add new potential customers to the system.",steps:["Navigate to the Leads section from the main menu","Click the 'Add New Lead' button in the top right corner","Fill in all required fields (marked with *)","For optional fields like email, include information when available","Click 'Save Lead' to create the new entry"],tip:"Always include as much information as possible, but email is now optional to accommodate clients who prefer phone contact."},{heading:"Managing Existing Leads",description:"How to update, filter, and organize your lead database.",steps:["Use the search bar to quickly find leads by name, email, or phone","Click on any lead to view detailed information","Use the edit button to update lead information","Add feedback notes to track communication history"],tip:"Regular updates to lead information ensures everyone has the most current data."},{heading:"Month-wise Lead Filtering",description:"The new filtering system allows you to view leads by specific months and years for better organization.",steps:["Navigate to the Leads page to see the filtering controls","Use the Month dropdown to select any month (January through December)","Use the Year dropdown to select the desired year","Click 'Show Current Month' to quickly view leads from the current month","Click 'March 2025 (Imported Leads)' to view previously imported lead data","The system shows a count of leads for each selected time period","Lead assignments are preserved when filtering - assigned leads stay with their sales persons"],tip:"When importing new leads each month, they will be automatically organized by their creation date. This makes it easy to track monthly lead generation and assign new leads to sales persons without affecting previous assignments."},{heading:"Assigning Leads to Sales Persons",description:"Proper lead assignment ensures timely follow-up.",steps:["From the lead details page, click 'Edit'","Use the 'SALE PERSON' dropdown to select the appropriate sales person","Save the changes to notify the sales person of the new assignment"],tip:"Consider workload balance when assigning leads to ensure timely follow-up."},{heading:"Importing Leads from CSV",description:"Bulk import leads from CSV files with automatic Lead Person and Sales Person assignment.",steps:["Navigate to the Admin Import page (Admin/Manager access required)","Select the 'Import Leads' tab","Prepare your CSV file with columns: Name, Email, Phone, Country, Course, Date","Optional columns: Lead Person, Sales Person (for automatic assignment)","For dates, use either YYYY-MM-DD (e.g., 2025-04-15) or DD-MM-YYYY (e.g., 15-04-2025) format","Upload your CSV file and click 'Import Leads'","Review the import summary for successful and failed records"],tip:"Include 'Lead Person' and 'Sales Person' columns in your CSV to automatically assign leads during import. The system will match names and assign leads to the correct people, regardless of who performs the import."}]},"sales-tracking":{title:"Sales Tracking & Management",icon:"💰",content:[{heading:"Converting Leads to Sales",description:"Learn the process of turning qualified leads into sales records.",steps:["Navigate to your assigned leads list","Update the lead status to 'Qualified' when appropriate","Click 'Convert to Sale' to begin the sales process","Fill in the required sales information including course details and pricing","Select the appropriate currency for the transaction"],tip:"The system now supports multiple currencies for both Total Cost and Token Amount fields."},{heading:"Creating Reference Sales",description:"Reference sales allow you to track customers who came through referrals rather than the standard lead process.",steps:["From the Sales page, toggle the 'Reference Sale' switch","Select a Lead Person who referred this customer (optional)","Fill in all customer information as this will not be pulled from an existing lead","Complete all required sales information","Submit the form to create the reference sale"],tip:"Reference sales customers will be available in all customer selection dropdowns throughout the system, including exam scheduling."},{heading:"Lead Person Sales Management",description:"Lead persons can now track their own sales separately from the main sales pipeline.",steps:["As a Lead Person, navigate to the Lead Sales Update page","Click 'Add New Sale' to create a new lead person sale","Fill in all required customer and sales information","Select a Sales Person to associate with this sale","Submit the sale to save it to the lead person sales database"],tip:"Lead Person sales are stored in a separate database and are only visible to Lead Persons, Managers, and Admins - not to regular Sales Persons."},{heading:"Managing Your Sales",description:"Sales Persons can now fully edit and update their own sales records.",steps:["Navigate to the Sales Tracking page to see all your assigned sales","Click the edit icon on any sale you created","Update any field as needed - you now have full editing privileges for your own sales","Save your changes to update the record"],tip:"While you can edit all aspects of your own sales, you'll still need an Admin or Manager to delete records if necessary."},{heading:"Using the Sales Sheet",description:"The Lead Sales Sheet provides a comprehensive view of all sales data.",steps:["Access the Lead Sales Sheet from the navigation menu","Use filters to narrow down sales by date range, sales person, or other criteria","Click on column headers to sort the data","Export data to Excel for reporting purposes","Use inline editing for quick updates"],tip:"The sales sheet now includes email information and improved contact details for better customer tracking."},{heading:"Managing Payments & Tracking",description:"Track payments and outstanding balances effectively.",steps:["Record token (initial) payments when received","Update payment status as transactions are completed","Monitor pending payments through the Sales Tracking page","Set follow-up tasks for payment collection"],tip:"Keep the payment currency consistent with the original sale for accurate accounting."}]},"task-management":{title:"Task & Exam Management",icon:"📋",content:[{heading:"Scheduling Exams",description:"Use the Task Management system to schedule and track exams for your customers.",steps:["Navigate to the Task Management page","Click 'Schedule New Exam' button","Enter the exam title and description","Select a customer from the dropdown (includes both leads and reference customers)","Set the exam date and time","Save to create the scheduled exam"],tip:"The customer dropdown now includes both regular leads and reference sales customers, giving you a complete list of all possible candidates."},{heading:"Managing Scheduled Exams",description:"Track and update exam status as they progress.",steps:["View all scheduled exams on the Task Management page","Use color-coding to quickly identify exam status (pending, completed, overdue)","Click 'Mark Complete' when an exam has been conducted","Edit or reschedule exams as needed using the edit icon","Delete exams that are no longer needed"],tip:"Keep the exam list up to date to ensure nothing falls through the cracks."},{heading:"Exam Follow-up Process",description:"Proper follow-up after exams increases conversion rates.",steps:["After marking an exam as completed, update the related lead or sale with results","Schedule any necessary follow-up tasks","Document exam outcomes in the lead feedback or sales notes","Update the lead status based on exam performance"],tip:"Regular communication after exams builds trust and increases the likelihood of enrollment."},{heading:"Exam Reminder Notifications & Sound Alerts",description:"The system includes automatic exam reminder notifications with sound alerts to ensure you never miss an exam.",steps:["When you schedule an exam, the system automatically sets up reminder notifications","10 minutes before the exam time, you'll receive multiple notifications:","• Browser notification (if permissions are granted)","• Toast notification with exam details","• Sound alert with triple beep pattern","• Modal popup with exam information and direct link","Click the '🔊 Test Sound' button on the Task Management page to test the notification sound","Make sure to interact with the page (click anywhere) first to enable sound in your browser"],tip:"Browser sound policies require user interaction before playing audio. The first time you visit the page, click anywhere to enable sound notifications. The sound will play three beeps: 800Hz, 1000Hz, then 800Hz again for maximum attention."}]},"admin-features":{title:"Admin & Management Tools",icon:"⚙️",content:[{heading:"User Management",description:"Admin users can manage system access and roles.",steps:["Navigate to Admin > Manage Users","Create new user accounts with appropriate role assignments","Edit existing user information or reset passwords","Deactivate accounts when necessary"],tip:"Review user activity logs periodically to ensure proper system usage."},{heading:"Data Import & Export",description:"Efficiently move data in and out of the CRM.",steps:["Go to Admin > Import Data","Use the template provided for data formatting","Upload your CSV file with lead or sales information","Review and confirm the data mapping","Process the import and check for any errors"],tip:"Always make a backup export before performing large imports or system changes."},{heading:"Permission Management",description:"Configure role-based permissions for different user types.",steps:["Access the Admin Dashboard","Review current permission settings for each role","Adjust permissions as needed for your organization's workflows","Test permission changes with test accounts before rolling out"],tip:"The system now allows Sales Persons to fully edit their own sales while maintaining appropriate restrictions on other users' data."},{heading:"System Configuration",description:"Customize the CRM to fit your organization's needs.",steps:["Access the Admin Dashboard","Configure notification preferences","Set up automated processes for lead assignment","Customize sales stages and lead statuses"],tip:"Document any configuration changes for future reference."}]},"best-practices":{title:"CRM Best Practices",icon:"🌟",content:[{heading:"Data Quality Management",description:"Maintaining high-quality data is essential for CRM success.",steps:["Regularly update lead and customer information","Remove duplicate records when identified","Use consistent naming conventions","Verify contact information periodically"],tip:"Schedule regular data cleaning sessions to maintain database quality."},{heading:"Managing Reference Customers",description:"Reference customers require special attention for ongoing relationship management.",steps:["Properly tag all reference customers when creating sales","Document the source of the reference in notes","Thank referrers for their recommendations","Provide special attention to reference customers to encourage additional referrals","Track conversion rates from references versus other lead sources"],tip:"Reference customers often have higher conversion rates and retention, so track them separately in your analytics."},{heading:"Effective Follow-up Strategies",description:"Consistent follow-up improves conversion rates.",steps:["Document all customer interactions in the CRM","Set follow-up tasks with clear deadlines","Use templates for common follow-up communications","Analyze response patterns to optimize timing"],tip:"The 'CLIENT REMARK' and 'FEEDBACK' fields are ideal for tracking communication history."},{heading:"Reporting & Analytics",description:"Leverage data insights for better decision-making.",steps:["Use the built-in reporting tools to track performance","Export data for detailed analysis when needed","Track conversion rates from lead to sale","Monitor sales team performance metrics","Compare performance between regular leads and reference customers"],tip:"Regular reporting helps identify trends and opportunities for improvement."}]},"activity-tracking":{title:"Employee Activity Tracking",icon:"🕐",content:[{heading:"Understanding Activity Tracking",description:"The CRM now automatically tracks how much time you spend using the system each day. This helps management understand productivity and usage patterns.",steps:["The system starts tracking automatically when you log in","Timer runs in the background while you use the CRM","Time tracking pauses when you switch to other tabs or applications","Timer resumes automatically when you return to the CRM","Daily totals reset at midnight for accurate daily tracking"],tip:"This system is designed to be completely automatic - you don't need to do anything special to make it work!"},{heading:"What You'll See",description:"The activity timer is visible in your navigation bar and shows real-time information.",steps:["Look for the timer widget in the top navigation bar","You'll see your total time for today (e.g., '2h 30m')","Status indicator shows 'Active' when timer is running or 'Paused' when stopped","Manual pause/resume buttons are available if needed","Time display updates in real-time as you work"],tip:"The timer widget is always visible so you can monitor your daily CRM usage at a glance."},{heading:"How to Use the System",description:"Follow these simple steps for accurate time tracking.",steps:["Step 1: Login as usual - Timer starts automatically","Step 2: Work normally in the CRM - Timer runs in background","Step 3: When you leave CRM (switch tabs) - Timer pauses automatically","Step 4: Return to CRM - Timer resumes automatically","Step 5: Logout when done - Timer stops and saves your daily total"],tip:"The system is designed to be hands-off. Just work normally and let it track your CRM usage automatically."},{heading:"What Gets Tracked",description:"Understanding what counts as active time versus paused time.",steps:["ACTIVE TIME: Working with leads, sales, reports, or any CRM features","ACTIVE TIME: Reading customer information, making updates, or data entry","PAUSED TIME: Switching to other websites, applications, or taking breaks","PAUSED TIME: Phone calls outside the CRM or lunch breaks","PAUSED TIME: Computer going to sleep or being locked"],tip:"Only actual CRM usage time is counted. The system automatically excludes time when you're not actively using the CRM."},{heading:"Manual Controls (Optional)",description:"While the system is automatic, you can manually control the timer if needed.",steps:["Click the 'Pause' button in the timer widget to manually stop tracking","Click 'Resume' to restart the timer when you're ready to continue","Use manual pause for extended breaks or meetings","The system remembers your total time even if you refresh the page","Manual controls are helpful for precise time management"],tip:"Manual controls are optional - the automatic system handles most situations perfectly."},{heading:"Privacy and What Admins See",description:"Understanding what information is tracked and what remains private.",steps:["ADMINS CAN SEE: Daily usage time for each employee (e.g., '6h 45m')","ADMINS CAN SEE: Weekly and monthly activity reports and statistics","ADMINS CANNOT SEE: What specific pages you visit within the CRM","ADMINS CANNOT SEE: Your conversations, emails, or personal information","ADMINS CANNOT SEE: Screen recordings, screenshots, or activity outside CRM"],tip:"The system only tracks time spent in the CRM - your privacy is fully protected for all other activities."},{heading:"Troubleshooting Common Issues",description:"Solutions for common activity tracking problems.",steps:["Timer not starting? Refresh the page (F5) or log out and back in","Timer stuck on 'Paused'? Click the 'Resume' button manually","Time seems incorrect? Check if you switched tabs frequently (this pauses the timer)","Browser issues? Clear your browser cache and cookies","Still having problems? Contact your admin or manager for assistance"],tip:"Most issues are resolved by refreshing the page or using the manual resume button."},{heading:"Best Practices for Accurate Tracking",description:"Tips to ensure your activity time is tracked accurately.",steps:["DO: Keep the CRM tab active when working on CRM tasks","DO: Use manual pause for long breaks or meetings","DO: Log out properly when finished for the day","DON'T: Leave CRM open when not actually working","DON'T: Try to manipulate the system - it's designed to be fair and accurate"],tip:"The system is designed to track actual work time fairly. Just use the CRM normally and let the system do its job."},{heading:"Admin Activity Dashboard",description:"For Admins and Managers: How to access and use the Activity Dashboard.",steps:["Navigate to your Admin Dashboard","Look for the 'Employee Activity Monitoring' card","Click '🕐 Open Activity Dashboard' to access the full dashboard","View today's activity, date ranges, statistics, and employee details","Use the dashboard to monitor team productivity and identify training needs"],tip:"The Activity Dashboard provides comprehensive insights into team CRM usage patterns and productivity metrics."}]}},s=()=>{const i=n[e];return a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("span",{className:"text-3xl mr-3",children:i.icon}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:i.title})]}),a.jsx("div",{className:"space-y-8",children:i.content.map((o,c)=>a.jsxs("div",{className:"border-b border-slate-200 dark:border-slate-700 pb-6 last:border-0",children:[a.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:o.heading}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-4",children:o.description}),o.steps&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Steps:"}),a.jsx("ol",{className:"list-decimal list-inside space-y-1 text-slate-700 dark:text-slate-300",children:o.steps.map((u,h)=>a.jsx("li",{className:"ml-2",children:u},h))})]}),o.image&&a.jsxs("div",{className:"my-4 border border-slate-200 dark:border-slate-700 rounded-md p-2 bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out text-center",children:[a.jsx("img",{src:o.image,alt:o.heading,className:"max-w-full h-auto rounded-md shadow-sm mx-auto",style:{maxHeight:"400px"}}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400 mt-2",children:"Screenshot reference"})]}),o.tip&&a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mt-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),a.jsx("p",{className:"ml-3 text-sm text-blue-700",children:o.tip})]})})]},c))})]})};return a.jsx(rr,{children:a.jsx("div",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out min-h-screen py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"CRM Tutorials"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500 max-w-2xl mx-auto",children:"Learn how to use TrainCape CRM effectively with these step-by-step tutorials. Select a category below to get started."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsxs("div",{className:"md:w-1/4",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-4 shadow-sm",children:[a.jsx("h3",{className:"font-bold text-lg mb-4 text-gray-800 dark:text-gray-200",children:"Tutorial Topics"}),a.jsx("nav",{children:a.jsx("ul",{className:"space-y-2",children:Object.keys(n).map(i=>a.jsx("li",{children:a.jsxs("button",{onClick:()=>r(i),className:`w-full text-left px-3 py-2 rounded-md transition-colors ${e===i?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 dark:text-gray-300 dark:text-gray-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[a.jsx("span",{className:"mr-2",children:n[i].icon}),n[i].title]})},i))})}),a.jsxs("div",{className:"mt-6 border-t border-slate-200 dark:border-slate-700 pt-4",children:[a.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Your Role"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:t?a.jsxs(a.Fragment,{children:["You are logged in as: ",a.jsx("span",{className:"font-medium",children:t.role}),a.jsx("br",{}),"Tutorials are tailored to features available to your role."]}):a.jsx(a.Fragment,{children:"You are not logged in. Some advanced features may require authentication."})})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white p-5 rounded-lg shadow-md dark:shadow-black/25 mt-4",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Need Help?"}),a.jsx("p",{className:"text-sm mb-3",children:"Can't find what you're looking for? Contact our support team for assistance."}),a.jsx(yt,{to:"/support",className:"inline-block bg-white dark:bg-slate-900 transition-all duration-200 ease-out",children:"Contact Support"})]})]}),a.jsxs("div",{className:"md:w-3/4",children:[s(),a.jsxs("div",{className:"mt-6 flex justify-between",children:[a.jsxs("button",{onClick:()=>{const i=Object.keys(n),o=i.indexOf(e);o>0&&r(i[o-1])},disabled:Object.keys(n).indexOf(e)===0,className:`px-4 py-2 flex items-center rounded-md ${Object.keys(n).indexOf(e)===0?"bg-gray-100 dark:bg-slate-700 text-gray-400 dark:text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-blue-50 text-blue-700 hover:bg-blue-100"}`,children:[a.jsx("svg",{className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Topic"]}),a.jsxs("button",{onClick:()=>{const i=Object.keys(n),o=i.indexOf(e);o<i.length-1&&r(i[o+1])},disabled:Object.keys(n).indexOf(e)===Object.keys(n).length-1,className:`px-4 py-2 flex items-center rounded-md ${Object.keys(n).indexOf(e)===Object.keys(n).length-1?"bg-gray-100 dark:bg-slate-700 text-gray-400 dark:text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-blue-50 text-blue-700 hover:bg-blue-100"}`,children:["Next Topic",a.jsx("svg",{className:"h-5 w-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}),a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-6 text-center",children:"Additional Resources"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-5 rounded-lg shadow-md dark:shadow-2xl border-t-4 border-blue-500 shadow-sm",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Video Tutorials"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500 mb-4",children:"Watch step-by-step demonstrations of key CRM features."}),a.jsxs("a",{href:"#",className:"text-blue-600 hover:text-blue-800 font-medium inline-flex items-center",children:["Watch now",a.jsx("svg",{className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-5 rounded-lg shadow-md dark:shadow-2xl border-t-4 border-green-500 shadow-sm",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"FAQ Database"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500 mb-4",children:"Find answers to commonly asked questions about the CRM."}),a.jsxs("a",{href:"#",className:"text-green-600 hover:text-green-800 font-medium inline-flex items-center",children:["View FAQs",a.jsx("svg",{className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-5 rounded-lg shadow-md dark:shadow-2xl border-t-4 border-purple-500 shadow-sm",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Feature Updates"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500 mb-4",children:"Stay informed about the latest CRM features and enhancements."}),a.jsxs("a",{href:"#",className:"text-purple-600 hover:text-purple-800 font-medium inline-flex items-center",children:["Read changelog",a.jsx("svg",{className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})]})]})})})},x3=6048e5,JW=864e5,qk=Symbol.for("constructDateFrom");function Pi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&qk in t?t[qk](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ks(t,e){return Pi(e||t,t)}let QW={};function xf(){return QW}function Hd(t,e){var c,u,h,f;const r=xf(),n=(e==null?void 0:e.weekStartsOn)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,s=Ks(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Uh(t,e){return Hd(t,{...e,weekStartsOn:1})}function y3(t,e){const r=Ks(t,e==null?void 0:e.in),n=r.getFullYear(),s=Pi(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=Uh(s),o=Pi(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const c=Uh(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Xk(t){const e=Ks(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function ZW(t,...e){const r=Pi.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Jk(t,e){const r=Ks(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function eY(t,e,r){const[n,s]=ZW(r==null?void 0:r.in,t,e),i=Jk(n),o=Jk(s),c=+i-Xk(i),u=+o-Xk(o);return Math.round((c-u)/JW)}function tY(t,e){const r=y3(t,e),n=Pi(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Uh(n)}function rY(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function nY(t){return!(!rY(t)&&typeof t!="number"||isNaN(+Ks(t)))}function sY(t,e){const r=Ks(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const aY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iY=(t,e,r)=>{let n;const s=aY[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Bp(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const oY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dY={date:Bp({formats:oY,defaultWidth:"full"}),time:Bp({formats:lY,defaultWidth:"full"}),dateTime:Bp({formats:cY,defaultWidth:"full"})},uY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hY=(t,e,r,n)=>uY[t];function $c(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=r!=null&&r.width?String(r.width):o;s=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[c]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const fY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vY=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bY={ordinalNumber:vY,era:$c({values:fY,defaultWidth:"wide"}),quarter:$c({values:mY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:$c({values:pY,defaultWidth:"wide"}),day:$c({values:gY,defaultWidth:"wide"}),dayPeriod:$c({values:xY,defaultWidth:"wide",formattingValues:yY,defaultFormattingWidth:"wide"})};function Hc(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?kY(c,p=>p.test(o)):wY(c,p=>p.test(o));let h;h=t.valueCallback?t.valueCallback(u):u,h=r.valueCallback?r.valueCallback(h):h;const f=e.slice(o.length);return{value:h,rest:f}}}function wY(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function kY(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function NY(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=e.slice(s.length);return{value:o,rest:c}}}const SY=/^(\d+)(th|st|nd|rd)?/i,_Y=/\d+/i,jY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},CY={any:[/^b/i,/^(a|c)/i]},TY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},EY={any:[/1/i,/2/i,/3/i,/4/i]},AY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MY={ordinalNumber:NY({matchPattern:SY,parsePattern:_Y,valueCallback:t=>parseInt(t,10)}),era:Hc({matchPatterns:jY,defaultMatchWidth:"wide",parsePatterns:CY,defaultParseWidth:"any"}),quarter:Hc({matchPatterns:TY,defaultMatchWidth:"wide",parsePatterns:EY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hc({matchPatterns:AY,defaultMatchWidth:"wide",parsePatterns:PY,defaultParseWidth:"any"}),day:Hc({matchPatterns:DY,defaultMatchWidth:"wide",parsePatterns:RY,defaultParseWidth:"any"}),dayPeriod:Hc({matchPatterns:FY,defaultMatchWidth:"any",parsePatterns:OY,defaultParseWidth:"any"})},LY={code:"en-US",formatDistance:iY,formatLong:dY,formatRelative:hY,localize:bY,match:MY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function IY(t,e){const r=Ks(t,e==null?void 0:e.in);return eY(r,sY(r))+1}function BY(t,e){const r=Ks(t,e==null?void 0:e.in),n=+Uh(r)-+tY(r);return Math.round(n/x3)+1}function v3(t,e){var f,p,g,x;const r=Ks(t,e==null?void 0:e.in),n=r.getFullYear(),s=xf(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(g=s.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=Pi((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const c=Hd(o,e),u=Pi((e==null?void 0:e.in)||t,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const h=Hd(u,e);return+r>=+c?n+1:+r>=+h?n:n-1}function UY(t,e){var c,u,h,f;const r=xf(),n=(e==null?void 0:e.firstWeekContainsDate)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,s=v3(t,e),i=Pi((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Hd(i,e)}function zY(t,e){const r=Ks(t,e==null?void 0:e.in),n=+Hd(r,e)-+UY(r,e);return Math.round(n/x3)+1}function Wt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const li={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Wt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Wt(r+1,2)},d(t,e){return Wt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Wt(t.getHours()%12||12,e.length)},H(t,e){return Wt(t.getHours(),e.length)},m(t,e){return Wt(t.getMinutes(),e.length)},s(t,e){return Wt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Wt(s,e.length)}},gl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qk={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return li.y(t,e)},Y:function(t,e,r,n){const s=v3(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Wt(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Wt(i,e.length)},R:function(t,e){const r=y3(t);return Wt(r,e.length)},u:function(t,e){const r=t.getFullYear();return Wt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Wt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Wt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return li.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Wt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=zY(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Wt(s,e.length)},I:function(t,e,r){const n=BY(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Wt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):li.d(t,e)},D:function(t,e,r){const n=IY(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Wt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Wt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Wt(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Wt(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=gl.noon:n===0?s=gl.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=gl.evening:n>=12?s=gl.afternoon:n>=4?s=gl.morning:s=gl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return li.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):li.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Wt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Wt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):li.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):li.s(t,e)},S:function(t,e){return li.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return e4(n);case"XXXX":case"XX":return co(n);case"XXXXX":case"XXX":default:return co(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return e4(n);case"xxxx":case"xx":return co(n);case"xxxxx":case"xxx":default:return co(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Zk(n,":");case"OOOO":default:return"GMT"+co(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Zk(n,":");case"zzzz":default:return"GMT"+co(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Wt(n,e.length)},T:function(t,e,r){return Wt(+t,e.length)}};function Zk(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+Wt(i,2)}function e4(t,e){return t%60===0?(t>0?"-":"+")+Wt(Math.abs(t)/60,2):co(t,e)}function co(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Wt(Math.trunc(n/60),2),i=Wt(n%60,2);return r+s+e+i}const t4=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},b3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},VY=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return t4(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",t4(n,e)).replace("{{time}}",b3(s,e))},$Y={p:b3,P:VY},HY=/^D+$/,WY=/^Y+$/,YY=["D","DD","YY","YYYY"];function KY(t){return HY.test(t)}function GY(t){return WY.test(t)}function qY(t,e,r){const n=XY(t,e,r);if(console.warn(n),YY.includes(t))throw new RangeError(n)}function XY(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const JY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZY=/^'([^]*?)'?$/,eK=/''/g,tK=/[a-zA-Z]/;function Up(t,e,r){var f,p,g,x;const n=xf(),s=n.locale??LY,i=n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=n.weekStartsOn??((x=(g=n.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??0,c=Ks(t,r==null?void 0:r.in);if(!nY(c))throw new RangeError("Invalid time value");let u=e.match(QY).map(w=>{const b=w[0];if(b==="p"||b==="P"){const v=$Y[b];return v(w,s.formatLong)}return w}).join("").match(JY).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:rK(w)};if(Qk[b])return{isToken:!0,value:w};if(b.match(tK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(u=s.localize.preprocessor(c,u));const h={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return u.map(w=>{if(!w.isToken)return w.value;const b=w.value;(GY(b)||KY(b))&&qY(b,e,String(t));const v=Qk[b[0]];return v(c,b,s.localize,h)}).join("")}function rK(t){const e=t.match(ZY);return e?e[1].replace(eK,"'"):t}class nK{constructor(){this.socket=null,this.isConnected=!1,this.userId=null,this.audioContext=null,this.notificationSound=null,this.initializeAudio()}initializeAudio(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.createNotificationSound()}catch(e){console.warn("Audio context not supported:",e)}}createNotificationSound(){if(!this.audioContext)return;const e=(r=800,n=200)=>{const s=this.audioContext.createOscillator(),i=this.audioContext.createGain();s.connect(i),i.connect(this.audioContext.destination),s.frequency.value=r,s.type="sine",i.gain.setValueAtTime(.3,this.audioContext.currentTime),i.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+n/1e3),s.start(this.audioContext.currentTime),s.stop(this.audioContext.currentTime+n/1e3)};this.notificationSound=e}playNotificationSound(){try{this.audioContext&&this.notificationSound?(this.audioContext.state==="suspended"&&this.audioContext.resume(),this.notificationSound(800,300),setTimeout(()=>this.notificationSound(1e3,300),400),setTimeout(()=>this.notificationSound(800,300),800)):console.log("\x07")}catch(e){console.error("Error playing notification sound:",e)}}connect(e){if(this.isConnected&&this.userId===e)return;this.userId=e;const n="https://crm-backend-o36v.onrender.com/api".replace("/api","");console.log("Connecting to notification server:",n),this.socket=Cl(n,{transports:["websocket","polling"],timeout:2e4,forceNew:!0}),this.socket.on("connect",()=>{console.log("✅ Connected to notification server"),this.isConnected=!0,this.socket.emit("join-user-room",e),at.success("🔔 Notifications enabled")}),this.socket.on("disconnect",()=>{console.log("❌ Disconnected from notification server"),this.isConnected=!1}),this.socket.on("connect_error",s=>{console.error("Connection error:",s),at.error("Failed to connect to notification server")}),this.socket.on("exam-reminder",s=>{this.handleExamReminder(s)}),this.socket.on("notification",s=>{this.handleGeneralNotification(s)})}handleExamReminder(e){console.log("🚨 Exam reminder received:",e),e.sound&&this.playNotificationSound(),this.showBrowserNotification(e);const r=`
      🚨 ${e.title}
      
      ${e.message}
      
      Course: ${e.examDetails.course}
      Time: ${e.examDetails.time}
    `;at(r,{duration:3e4,position:"top-center",style:{background:"#fee2e2",border:"2px solid #dc2626",borderRadius:"8px",padding:"16px",maxWidth:"400px",fontSize:"14px",lineHeight:"1.4"},icon:"🚨"}),this.showExamModal(e)}handleGeneralNotification(e){console.log("📢 General notification received:",e),at(e.message,{icon:e.icon||"📢",duration:5e3,position:"top-right"})}showBrowserNotification(e){if("Notification"in window&&Notification.permission==="granted"){const r=new Notification(e.title,{body:e.message,icon:"/favicon.ico",badge:"/favicon.ico",tag:"exam-reminder",requireInteraction:!0,silent:!1});r.onclick=()=>{window.focus(),r.close(),e.examDetails.examLink&&e.examDetails.examLink!=="#"&&window.open(e.examDetails.examLink,"_blank")},setTimeout(()=>{r.close()},1e4)}}showExamModal(e){const r=e.examDetails,n=`🚨 EXAM ALERT 🚨

Your ${r.course} exam starts in 10 minutes!

Time: ${r.time}
Location: ${r.location}`;setTimeout(()=>{window.confirm(n+`

Click OK to start exam or Cancel to dismiss.`)&&r.examLink&&r.examLink!=="#"&&window.open(r.examLink,"_blank")},1e3)}async requestNotificationPermission(){return"Notification"in window?await Notification.requestPermission()==="granted"?(at.success("🔔 Browser notifications enabled"),!0):(at.error("❌ Browser notifications denied"),!1):!1}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.userId=null,console.log("Disconnected from notification server"))}getStatus(){return{isConnected:this.isConnected,userId:this.userId}}}const No=new nK,I0=()=>localStorage.getItem("token"),sK=()=>{const{user:t}=Mt(),[e,r]=A.useState(localStorage.getItem("token")),[n,s]=A.useState([]),[i,o]=A.useState([]),[c,u]=A.useState(!0),[h,f]=A.useState(!1),[p,g]=A.useState(!1),[x,w]=A.useState(null),[b,v]=A.useState(!1),[_,T]=A.useState("");A.useEffect(()=>{const L=I0();r(L),L||Le.error("No authentication token found. Please try logging out and back in.")},[]);const[C,R]=A.useState({title:"",description:"",taskType:"Exam",customer:"",examDate:"",examTime:"",manualCustomerName:"",manualCustomerEmail:"",manualCustomerPhone:"",manualCustomerCourse:""}),j=async()=>{try{if(u(!0),!I0()){Le.error("Authentication token missing. Please log in again."),u(!1);return}const ee=await Rc.getAll();if(ee.data&&ee.data.data){console.log("Tasks loaded:",ee.data.data);const Q=ee.data.data.map(te=>{if(!te.customer||typeof te.customer=="string"){console.log("Task has unpopulated customer:",te);const U=i.find(Z=>Z._id===te.customer);U&&(te.customer=U)}return te});s(Q)}else s([]),console.log("No tasks found in response")}catch(L){console.error("Error fetching tasks:",L),L.response&&L.response.status===401?Le.error("Authentication failed. Please log in again."):Le.error("Failed to fetch tasks: "+(L.message||"Unknown error")),s([])}finally{u(!1)}},O=async()=>{var L,ee,Q;f(!0);try{if(!I0()){Le.error("Authentication token missing. Please log in again."),f(!1);return}const U=await mn.getAll();let Z=[];if((L=U.data)!=null&&L.data&&Array.isArray(U.data.data)?Z=U.data.data:(ee=U.data)!=null&&ee.leads&&Array.isArray(U.data.leads)?Z=U.data.leads:Array.isArray(U.data)&&(Z=U.data),Z.length>0){o(Z);const X=Z.filter(W=>!W.isReferenceSale).length,M=Z.filter(W=>W.isReferenceSale).length;X===0&&M===0&&Le.info("No customer data available")}}catch(te){te.response?te.response.status===401?Le.error("Authentication failed. Your session may have expired."):Le.error("Could not fetch customer data: "+(((Q=te.response.data)==null?void 0:Q.message)||"Server error")):te.request?Le.error("No response from server. Check your connection."):Le.error("Error: "+te.message)}finally{f(!1)}};A.useEffect(()=>{e&&(j(),O())},[e]);const S=L=>{const{name:ee,value:Q}=L.target;R(te=>({...te,[ee]:Q}))},P=async L=>{var ee,Q;L.preventDefault();try{if(b){if(!C.manualCustomerName){Le.error("Please enter customer name");return}if(!C.manualCustomerPhone){Le.error("Please enter customer phone number");return}if(!C.manualCustomerCourse){Le.error("Please enter course/exam name");return}}else if(!C.customer){Le.error("Please select a customer");return}const te=new Date(`${C.examDate}T${C.examTime}`);let U={title:C.title,description:C.description,taskType:C.taskType,examDate:te,examDateTime:te,assignedTo:t._id,salesPerson:t._id,course:b?C.manualCustomerCourse:C.customer?"Selected Customer Course":"General Course"};b?U.manualCustomer={name:C.manualCustomerName,email:C.manualCustomerEmail,contactNumber:C.manualCustomerPhone,course:C.manualCustomerCourse}:U.customer=C.customer;let Z;x?Z=await Rc.update(x._id,U):Z=await Rc.create(U),Z.data.success?(Le.success(x?"Task updated successfully":"Task created successfully"),re(),j()):Le.error(Z.data.message||"Error saving task")}catch(te){te.response?te.response.status===401?Le.error("Authentication failed. Please log out and log back in."):Le.error(((Q=(ee=te.response)==null?void 0:ee.data)==null?void 0:Q.message)||"Failed to save task"):Le.error("Network error - could not connect to server")}},B=L=>{var X;console.log("Editing task:",L);const ee=Up(new Date(L.examDate),"yyyy-MM-dd"),Q=Up(new Date(L.examDate),"HH:mm"),te=((X=L.customer)==null?void 0:X.isManualEntry)||!L.customer&&L.manualCustomer;let U="";!te&&L.customer&&(typeof L.customer=="string"?U=L.customer:L.customer._id&&L.customer._id!=="manual"&&(U=L.customer._id)),v(te);const Z=te?L.manualCustomer||L.customer:null;R({title:L.title,description:L.description,taskType:L.taskType||"Exam",customer:U,examDate:ee,examTime:Q,manualCustomerName:(Z==null?void 0:Z.name)||"",manualCustomerEmail:(Z==null?void 0:Z.email)||"",manualCustomerPhone:(Z==null?void 0:Z.contactNumber)||"",manualCustomerCourse:(Z==null?void 0:Z.course)||""}),w(L),g(!0),!te&&!U&&Le.warning("Customer data may be incomplete. Please select a customer again.")},ae=async L=>{var ee;if(window.confirm("Are you sure you want to delete this task?"))try{const Q=await Rc.delete(L);Q.data&&Q.data.success?(Le.success("Task deleted successfully"),j()):Le.error(((ee=Q.data)==null?void 0:ee.message)||"Failed to delete task")}catch(Q){Q.response&&Q.response.status===401?Le.error("Authentication failed. Please log in again."):Le.error("Failed to delete task")}},q=async(L,ee)=>{var Q;try{const te=await Rc.markCompleted(L,ee);te.data&&te.data.success?(Le.success("Task status updated"),j()):Le.error(((Q=te.data)==null?void 0:Q.message)||"Failed to update task status")}catch(te){te.response&&te.response.status===401?Le.error("Authentication failed. Please log in again."):Le.error("Failed to update task status")}},H=L=>{const ee=new Date(L);return Up(ee,"MMM dd, yyyy 'at' h:mm a")},ie=L=>{if(!L)return"No Name";if(console.log("Getting name for lead:",L),typeof L=="string")return`Customer (ID: ${L.substring(0,6)}...)`;if(!Object.keys(L).length)return"Unknown Customer";let ee="";const Q=["name","NAME","customerName","fullName"];for(const U of Q)if(L[U]&&typeof L[U]=="string"&&L[U].trim()!==""){ee=L[U];break}if(!ee){const U=Object.keys(L).filter(Z=>Z.toLowerCase().includes("name")&&L[Z]&&typeof L[Z]=="string"&&L[Z].trim()!=="");U.length>0&&(ee=L[U[0]])}if((!ee||ee==="Unnamed Customer")&&(L.course||L.COURSE?ee=`Student for ${L.course||L.COURSE}`:L._id?ee=`Customer ${L._id.substring(0,6)}...`:ee="Unnamed Customer"),L.isReferenceSale)return`${ee} [Reference]`;const te=L.course||L.COURSE;return te&&!ee.includes(te)?`${ee} (${te})`:ee},re=()=>{R({title:"",description:"",taskType:"Exam",customer:"",examDate:"",examTime:"",manualCustomerName:"",manualCustomerEmail:"",manualCustomerPhone:"",manualCustomerCourse:""}),w(null),v(!1),T("")};return a.jsx(rr,{children:a.jsx("div",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out min-h-screen py-4 md:py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-3",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Task Management"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{console.log("🔊 Testing notification sound..."),No.playNotificationSound(),Le.success("🔊 Test sound played! (You need to interact with the page first for sound to work)")},className:"w-full sm:w-auto px-3 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 text-sm sm:text-base flex items-center gap-2",title:"Test the exam reminder sound",children:"🔊 Test Sound"}),a.jsx("button",{onClick:()=>{re(),g(!0)},className:"w-full sm:w-auto px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md text-sm sm:text-base",children:"Schedule New Exam"})]})]}),!I0()&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 border border-red-200 rounded-md text-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Authentication Error"}),a.jsx("p",{className:"text-sm",children:"No authentication token found. Please log out and log back in to refresh your session."}),a.jsx("button",{onClick:()=>window.location.href="/login",className:"mt-2 px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Go to Login"})]})]})}),c?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-500",children:"Loading tasks..."})]}):n.length===0?a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-4 sm:p-8 rounded-md shadow text-center",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"No tasks scheduled yet."}),a.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-gray-400",children:'Click "Schedule New Exam" to create your first task.'})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:n.map(L=>a.jsxs("div",{className:`bg-white dark:bg-slate-900 rounded-lg shadow p-4 border-l-4 ${L.completed?"border-green-500":new Date(L.examDate)<new Date?"border-red-500":"border-blue-500"}`,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h3",{className:"font-bold text-base sm:text-lg mb-2",children:L.title}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>B(L),className:"p-1 text-blue-600 hover:text-blue-800",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),a.jsx("button",{onClick:()=>ae(L._id),className:"p-1 text-red-600 hover:text-red-800",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-500 mb-3",children:L.description}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 sm:h-4 sm:w-4 text-slate-500 dark:text-gray-400 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-700 dark:text-slate-300",children:ie(L.customer)})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 sm:h-4 sm:w-4 text-slate-500 dark:text-gray-400 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-700 dark:text-slate-300",children:H(L.examDate)})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-4 pt-3 border-t border-gray-100 gap-2",children:[a.jsx("span",{className:`text-xs px-2 py-1 rounded mb-2 sm:mb-0 ${L.completed?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:L.completed?"Completed":"Pending"}),a.jsx("button",{onClick:()=>q(L._id,!L.completed),className:`text-xs w-full sm:w-auto px-3 py-1 rounded-full ${L.completed?"bg-gray-200 dark:bg-slate-600 text-gray-700 dark:text-gray-300 dark:text-gray-400 hover:bg-gray-300":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:L.completed?"Mark Incomplete":"Mark Complete"})]})]},L._id))}),p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-lg dark:shadow-lg w-full max-w-md my-8 shadow-sm",children:[a.jsx("div",{className:"p-4 sm:p-5 border-b border-slate-200 dark:border-slate-700",children:a.jsx("h3",{className:"font-bold text-base sm:text-lg",children:x?"Edit Task":"Schedule New Exam"})}),a.jsxs("form",{onSubmit:P,className:"p-4 sm:p-5",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-slate-700 dark:text-slate-300 text-xs sm:text-sm font-medium mb-2",children:"Title"}),a.jsx("input",{type:"text",name:"title",value:C.title,onChange:S,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",placeholder:"Exam Title",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-slate-700 dark:text-slate-300 text-xs sm:text-sm font-medium mb-2",children:"Description"}),a.jsx("textarea",{name:"description",value:C.description,onChange:S,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",placeholder:"Exam details",rows:"3"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"block text-slate-700 dark:text-slate-300 text-xs sm:text-sm font-medium",children:"Customer"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-500 mr-2",children:"Manual Entry"}),a.jsx("button",{type:"button",onClick:()=>v(!b),className:`relative inline-flex h-5 w-10 items-center rounded-full transition-colors focus:outline-none ${b?"bg-blue-600":"bg-gray-200 dark:bg-slate-600"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white dark:bg-slate-900 transition-transform ${b?"translate-x-5":"translate-x-1"}`})})]})]}),b?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{children:a.jsx("input",{type:"text",name:"manualCustomerName",value:C.manualCustomerName,onChange:S,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",placeholder:"Customer Name *",required:!0})}),a.jsx("div",{children:a.jsx("input",{type:"email",name:"manualCustomerEmail",value:C.manualCustomerEmail,onChange:S,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",placeholder:"Email Address"})}),a.jsx("div",{children:a.jsx("input",{type:"tel",name:"manualCustomerPhone",value:C.manualCustomerPhone,onChange:S,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",placeholder:"Phone Number *",required:!0})}),a.jsx("div",{children:a.jsx("input",{type:"text",name:"manualCustomerCourse",value:C.manualCustomerCourse,onChange:S,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",placeholder:"Course/Exam Name *",required:!0})})]}):a.jsxs("div",{children:[a.jsx("div",{className:"mb-2",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search leads by name, email, or course...",value:_,onChange:L=>T(L.target.value),className:"w-full px-3 py-2 pl-9 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),a.jsxs("select",{name:"customer",value:C.customer,onChange:S,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",required:!0,children:[a.jsx("option",{value:"",children:"Select Customer"}),(()=>{const L=i.filter(te=>{if(!_)return!0;const U=_.toLowerCase(),Z=(te.name||te.NAME||"").toLowerCase(),X=(te.email||te.EMAIL||te["E-MAIL"]||"").toLowerCase(),M=(te.course||te.COURSE||"").toLowerCase(),W=(te.contactNumber||te.phone||te.MOBILE||te.NUMBER||"").toLowerCase();return Z.includes(U)||X.includes(U)||M.includes(U)||W.includes(U)}),ee=L.filter(te=>!te.isReferenceSale),Q=L.filter(te=>te.isReferenceSale);return a.jsxs(a.Fragment,{children:[ee.length>0&&a.jsx("optgroup",{label:`Leads (${ee.length})`,children:ee.map(te=>a.jsxs("option",{value:te._id,children:[te.name||te.NAME||"Unknown"," - ",te.course||te.COURSE||"No course",te.status?` (${te.status})`:""]},te._id))}),Q.length>0&&a.jsx("optgroup",{label:`Reference Customers (${Q.length})`,children:Q.map(te=>a.jsxs("option",{value:te._id,children:[te.name||"Unknown"," - ",te.course||"No course",te.status?` (${te.status})`:""," [Reference]"]},te._id))}),L.length===0&&a.jsx("option",{disabled:!0,value:"",children:"No leads match your search"})]})})()]}),h?a.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-gray-400",children:"Loading customers..."}):a.jsxs("p",{className:"mt-1 text-xs text-slate-500 dark:text-gray-400",children:[i.filter(L=>!L.isReferenceSale).length," leads +",i.filter(L=>L.isReferenceSale).length," reference customers available",_&&a.jsx("button",{type:"button",onClick:()=>T(""),className:"ml-2 text-blue-600 hover:text-blue-800",children:"Clear search"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-700 dark:text-slate-300 text-xs sm:text-sm font-medium mb-2",children:"Exam Date"}),a.jsx("input",{type:"date",name:"examDate",value:C.examDate,onChange:S,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-700 dark:text-slate-300 text-xs sm:text-sm font-medium mb-2",children:"Exam Time"}),a.jsx("input",{type:"time",name:"examTime",value:C.examTime,onChange:S,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",required:!0})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end sm:space-x-3 mt-6 space-y-2 sm:space-y-0",children:[a.jsx("button",{type:"button",onClick:()=>g(!1),className:"w-full sm:w-auto px-4 py-2 bg-gray-200 dark:bg-slate-600 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-300 text-sm order-2 sm:order-1",children:"Cancel"}),a.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md text-sm order-1 sm:order-2",children:x?"Update Task":"Create Task"})]})]})]})})]})})})},aK=()=>{const{user:t}=Mt(),[e,r]=A.useState([]),[n,s]=A.useState({totalRepeatCustomers:0,totalLeads:0,averageCoursesPerCustomer:0}),[i,o]=A.useState(!0),[c,u]=A.useState(null),[h,f]=A.useState(null);A.useEffect(()=>{p()},[]);const p=async()=>{try{o(!0);const w=await mn.getRepeatCustomers();w.data.success?(r(w.data.data),s(w.data.stats),u(null)):u("Failed to load repeat customer data")}catch(w){console.error("Error fetching repeat customers:",w),u("Failed to load repeat customer data. Please try again.")}finally{o(!1)}},g=w=>new Date(w).toLocaleDateString(),x=w=>{f(h===w?null:w)};return a.jsx(rr,{children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Repeat Customers"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-6 rounded-lg shadow-md dark:shadow-2xl shadow-sm",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Total Repeat Customers"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:n.totalRepeatCustomers})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-6 rounded-lg shadow-md dark:shadow-2xl shadow-sm",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Total Courses Purchased"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.totalLeads})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-6 rounded-lg shadow-md dark:shadow-2xl shadow-sm",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Avg. Courses per Customer"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:n.averageCoursesPerCustomer})]})]}),c&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 text-red-700 border border-red-200 rounded-md",children:c}),i?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsx(a.Fragment,{children:e.length===0?a.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-6 rounded-lg shadow-md dark:shadow-2xl text-center shadow-sm",children:a.jsx("p",{className:"text-slate-500 dark:text-gray-400",children:"No repeat customers found."})}):a.jsx("div",{className:"space-y-4",children:e.map((w,b)=>a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out border-b border-slate-200 dark:border-slate-700 flex justify-between items-center cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>x(b),children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium",children:w.customerInfo.name}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-gray-400",children:[w.customerInfo.email&&a.jsx("span",{className:"mr-3",children:w.customerInfo.email}),w.customerInfo.phone&&a.jsxs("span",{children:[w.customerInfo.countryCode," ",w.customerInfo.phone]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800 mr-3",children:[w.leads.length," courses"]}),a.jsx("svg",{className:`h-5 w-5 text-gray-500 dark:text-gray-400 dark:text-gray-400 transform ${h===b?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),h===b&&a.jsxs("div",{className:"p-4",children:[a.jsx("h4",{className:"text-md font-medium mb-2",children:"Course History"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Course"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Sales Person"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-slate-200 dark:divide-slate-700",children:w.leads.map((v,_)=>a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 dark:bg-slate-800 transition-all duration-200 ease-out",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",children:v.course}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:g(v.createdAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:v.salesPerson})]},_))})]})})]})]},b))})})]})})};function iK({children:t,className:e=""}){return a.jsx("div",{className:`bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl shadow-sm dark:shadow-lg dark:shadow-black/25 ${e}`,children:t})}function oK({children:t,className:e=""}){return a.jsx("div",{className:`p-4 ${e}`,children:t})}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cK=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),r4=t=>{const e=cK(t);return e.charAt(0).toUpperCase()+e.slice(1)},w3=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),dK=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...c},u)=>A.createElement("svg",{ref:u,...uK,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:w3("lucide",s),...!i&&!dK(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,f])=>A.createElement(h,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=(t,e)=>{const r=A.forwardRef(({className:n,...s},i)=>A.createElement(hK,{ref:i,iconNode:e,className:w3(`lucide-${lK(r4(t))}`,`lucide-${t}`,n),...s}));return r.displayName=r4(t),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],mK=k3("ban",fK);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gK=k3("circle-check-big",pK),xK=[{name:"United States",code:"US",status:"allowed"},{name:"United Kingdom",code:"UK",status:"allowed"},{name:"France",code:"FR",status:"allowed"},{name:"Italy",code:"IT",status:"allowed"},{name:"Spain",code:"ES",status:"allowed"},{name:"Portugal",code:"PT",status:"allowed"},{name:"Greece",code:"GR",status:"allowed"},{name:"Brazil",code:"BR",status:"allowed"},{name:"Argentina",code:"AR",status:"allowed"},{name:"Chile",code:"CL",status:"allowed"},{name:"Mexico",code:"MX",status:"allowed"},{name:"Colombia",code:"CO",status:"allowed"},{name:"Peru",code:"PE",status:"allowed"},{name:"Venezuela",code:"VE",status:"allowed"},{name:"Ecuador",code:"EC",status:"allowed"},{name:"Bolivia",code:"BO",status:"allowed"},{name:"Paraguay",code:"PY",status:"allowed"},{name:"Uruguay",code:"UY",status:"allowed"},{name:"Saudi Arabia",code:"SA",status:"allowed"},{name:"United Arab Emirates",code:"AE",status:"allowed"},{name:"Qatar",code:"QA",status:"allowed"},{name:"Kuwait",code:"KW",status:"allowed"},{name:"Bahrain",code:"BH",status:"allowed"},{name:"Oman",code:"OM",status:"allowed"},{name:"Jordan",code:"JO",status:"allowed"},{name:"Canada",code:"CA",status:"allowed"},{name:"Ukraine",code:"UA",status:"allowed"},{name:"Switzerland",code:"CH",status:"allowed"},{name:"Singapore",code:"SG",status:"allowed"},{name:"Romania",code:"RO",status:"allowed"},{name:"Netherlands",code:"NL",status:"allowed"},{name:"New Zealand",code:"NZ",status:"allowed"},{name:"Pakistan",code:"PK",status:"blocked"},{name:"Sri Lanka",code:"LK",status:"blocked"},{name:"Nepal",code:"NP",status:"blocked"},{name:"China",code:"CN",status:"blocked"},{name:"Hong Kong",code:"HK",status:"blocked"},{name:"Russia",code:"RU",status:"blocked"},{name:"Philippines",code:"PH",status:"blocked"},{name:"Japan",code:"JP",status:"blocked"},{name:"Vietnam",code:"VN",status:"blocked"},{name:"Bangladesh",code:"BD",status:"blocked"},{name:"Afghanistan",code:"AF",status:"blocked"},{name:"Tajikistan",code:"TJ",status:"blocked"},{name:"Kazakhstan",code:"KZ",status:"blocked"},{name:"Kyrgyzstan",code:"KG",status:"blocked"},{name:"Turkmenistan",code:"TM",status:"blocked"},{name:"Papua New Guinea",code:"PG",status:"blocked"},{name:"Myanmar",code:"MM",status:"blocked"},{name:"Indonesia",code:"ID",status:"blocked"},{name:"Iran",code:"IR",status:"blocked"},{name:"Iraq",code:"IQ",status:"blocked"},{name:"Israel",code:"IL",status:"blocked"},{name:"Lebanon",code:"LB",status:"blocked"},{name:"Palestine",code:"PS",status:"blocked"},{name:"Syria",code:"SY",status:"blocked"},{name:"Turkey",code:"TR",status:"blocked"},{name:"Yemen",code:"YE",status:"blocked"},{name:"Zimbabwe",code:"ZW",status:"blocked"}],yK=()=>{const[t,e]=A.useState("all"),r=xK.filter(n=>t==="all"?!0:n.status===t);return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Lead Geo-Permission Matrix 🌍"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{className:`px-4 py-2 rounded-xl ${t==="all"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-slate-600"}`,onClick:()=>e("all"),children:"All"}),a.jsx("button",{className:`px-4 py-2 rounded-xl ${t==="allowed"?"bg-green-600 text-white":"bg-gray-200 dark:bg-slate-600"}`,onClick:()=>e("allowed"),children:"Allowed ✅"}),a.jsx("button",{className:`px-4 py-2 rounded-xl ${t==="blocked"?"bg-red-600 text-white":"bg-gray-200 dark:bg-slate-600"}`,onClick:()=>e("blocked"),children:"Blocked ❌"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(n=>a.jsx(iK,{className:"rounded-2xl shadow-md dark:shadow-black/25",children:a.jsxs(oK,{className:"p-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:n.name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:["Code: ",n.code]})]}),n.status==="allowed"?a.jsx(gK,{className:"text-green-500 w-6 h-6"}):a.jsx(mK,{className:"text-red-500 w-6 h-6"})]})},n.code))})]})},vK=()=>{const t=[{id:1,name:"Parichay Singh",position:"CEO & Founder",email:"sales@traincapetech.info",phone:"+91 6280281505",linkedin:"https://www.linkedin.com/in/parichay-singh-rana?lipi=urn%3Ali%3Apage%3Ad_flagship3_profile_view_base_contact_details%3B%2BLVd4W1EQj2KhxGQFwlQuQ%3D%3D",image:"https://i.pravatar.cc/300?img=11",icon:a.jsx(hE,{className:"text-3xl text-blue-700"})},{id:2,name:"Shivam Singh",position:"Operations Manager",email:"shivam@traincapetech.in",phone:"+91 9354364160",image:"https://i.pravatar.cc/300?img=13",icon:a.jsx(td,{className:"text-3xl text-green-600"})},{id:3,name:"Saurav Kumar",position:"Technical Lead",email:"saurav@traincapetech.in",phone:"+62 852-8223-3601",image:"https://i.pravatar.cc/300?img=12",icon:a.jsx(tE,{className:"text-3xl text-purple-600"})}];return a.jsxs(rr,{children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 py-10",children:a.jsxs("div",{className:"container mx-auto px-4 text-center text-white",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Management Contacts"}),a.jsx("p",{className:"text-lg max-w-2xl mx-auto",children:"Meet our leadership team at TrainCape Technology. Reach out to us directly for any questions or inquiries."})]})}),a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map(e=>a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out-transform hover:-translate-y-1 hover:shadow-xl shadow-sm",children:[a.jsx("div",{className:"bg-gray-100 dark:bg-slate-700 p-6 flex justify-center",children:e.image?a.jsx("img",{src:e.image,alt:e.name,className:"h-32 w-32 rounded-full object-cover border-4 border-white shadow-md dark:shadow-black/25"}):a.jsx("div",{className:"h-32 w-32 rounded-full bg-blue-100 flex items-center justify-center",children:e.icon||a.jsx(td,{className:"text-4xl text-blue-600"})})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:e.name}),a.jsx("p",{className:"text-blue-600 font-medium mb-4",children:e.position}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(wd,{className:"text-blue-600 mr-3"}),a.jsx("a",{href:`mailto:${e.email}`,className:"text-slate-700 dark:text-slate-300 hover:text-blue-600 transition",children:e.email})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(cE,{className:"text-blue-600 mr-3"}),a.jsx("a",{href:`tel:${e.phone}`,className:"text-slate-700 dark:text-slate-300 hover:text-blue-600 transition",children:e.phone})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Q6,{className:"text-blue-600 mr-3"}),a.jsx("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-slate-700 dark:text-slate-300 hover:text-blue-600 transition",children:"LinkedIn Profile"})]})]})]})]},e.id))}),a.jsxs("div",{className:"mt-16 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-lg dark:shadow-lg p-8 shadow-sm",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-6",children:"General Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:"Main Office"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500 mb-1",children:"Khandolia Plaza, 118C, Dabri - Palam Rd, Vaishali, Vaishali Colony, Dashrath Puri"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500 mb-1",children:"New Delhi, Delhi, 110045"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"India"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:"Contact Details"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-500 mb-1",children:[a.jsx("span",{className:"font-medium",children:"General Inquiries:"})," sales@traincapetech.in"]}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-500 mb-1",children:[a.jsx("span",{className:"font-medium",children:"Customer Support:"})," sales@traincapetech.in"]}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-500 mb-1",children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," +91 6280281505"]}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Working Hours:"})," Monday-Saturday, 11AM-7PM IST"]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:"Send Us a Message"}),a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4",children:a.jsx("p",{className:"text-blue-700",children:"For any questions or inquiries, please feel free to reach out to our team through the contact information provided above. We strive to respond to all messages within 24 business hours."})})]})]})]})]})},zp={generateContent:(t,e={})=>(console.log("Calling geminiAPI.generateContent() with prompt:",t),tt.post("/api/gemini/generate",{prompt:t,options:e})),generateContentWithImage:(t,e)=>(console.log("Calling geminiAPI.generateContentWithImage()"),tt.post("/api/gemini/generate-with-image",{prompt:t,imageData:e})),chatWithGemini:t=>(console.log("Calling geminiAPI.chatWithGemini() with messages:",t.length),tt.post("/api/gemini/chat",{messages:t}))},N3=({isFloating:t=!1})=>{const[e,r]=A.useState(""),[n,s]=A.useState(""),[i,o]=A.useState(!1),[c,u]=A.useState([]),[h,f]=A.useState(!1),p=A.useRef(null),[g,x]=A.useState(null),[w,b]=A.useState(null),v=async j=>{var O,S;if(j.preventDefault(),!e.trim()){at.error("Please enter a prompt");return}o(!0),s("");try{let P;if(h){const B=[...c,{role:"user",parts:e}];u(B),P=await zp.chatWithGemini(B),u([...B,{role:"model",parts:P.data.data}])}else g?P=await zp.generateContentWithImage(e,g):P=await zp.generateContent(e);s(P.data.data)}catch(P){console.error("Error generating content:",P),at.error(((S=(O=P.response)==null?void 0:O.data)==null?void 0:S.error)||"Failed to generate content")}finally{o(!1)}},_=j=>{const O=j.target.files[0];if(!O)return;if(O.size>10*1024*1024){at.error("Image size should be less than 10MB");return}const S=new FileReader;S.onload=()=>{b(S.result);const P=S.result.split(",")[1];x(P)},S.readAsDataURL(O)},T=()=>{x(null),b(null),p.current&&(p.current.value="")},C=()=>{f(!h),u([]),s("")},R=()=>{u([]),s("")};return a.jsxs("div",{className:`${t?"":"p-4 bg-white dark:bg-slate-900 rounded-lg shadow-md dark:shadow-xl dark:shadow-black/25"}`,children:[!t&&a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gemini AI Assistant"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("button",{onClick:C,className:`mr-2 px-4 py-2 rounded ${h?"bg-blue-600 text-white":"bg-gray-200 dark:bg-slate-600"} ${t?"text-sm px-2 py-1":""}`,children:"Chat Mode"}),a.jsx("button",{onClick:C,className:`px-4 py-2 rounded ${h?"bg-gray-200 dark:bg-slate-600":"bg-blue-600 text-white"} ${t?"text-sm px-2 py-1":""}`,disabled:g&&!h,children:"Single Prompt Mode"})]}),h&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-slate-800 rounded-lg max-h-96 overflow-y-auto",children:[c.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:"Start a conversation with Gemini..."}):c.map((j,O)=>a.jsxs("div",{className:`mb-3 p-3 rounded-lg ${j.role==="user"?"bg-blue-100 ml-12":"bg-gray-200 dark:bg-slate-600 mr-12"}`,children:[a.jsx("p",{className:"text-sm font-semibold mb-1",children:j.role==="user"?"You":"Gemini"}),a.jsx("p",{children:j.parts})]},O)),c.length>0&&a.jsx("button",{onClick:R,className:"text-sm text-red-600 hover:underline",children:"Clear Chat History"})]}),!h&&!g&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"image-upload",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-2",children:"Add an image (optional)"}),a.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:_,ref:p,className:"block w-full text-sm text-gray-500 dark:text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),w&&a.jsxs("div",{className:"mb-4 relative",children:[a.jsx("img",{src:w,alt:"Preview",className:"w-full max-h-64 object-contain rounded-lg"}),a.jsx("button",{onClick:T,className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1","aria-label":"Remove image",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),a.jsxs("form",{onSubmit:v,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"prompt",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-2",children:h?"Your Message":"Prompt"}),a.jsx("textarea",{id:"prompt",rows:"4",value:e,onChange:j=>r(j.target.value),placeholder:h?"Type your message here...":"Enter your prompt for Gemini...",className:"w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",required:!0})]}),a.jsx("button",{type:"submit",disabled:i,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 disabled:bg-blue-300",children:i?"Processing...":h?"Send Message":g?"Analyze Image & Text":"Generate Content"})]}),!h&&n&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Gemini Response:"}),a.jsx("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg whitespace-pre-wrap",children:n})]})]})},bK=()=>a.jsxs("div",{className:"container mx-auto py-8 px-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"AI Assistant"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"Get help with customer inquiries, generate content, analyze images, and more using Google's Gemini AI."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsx("div",{children:a.jsx(N3,{})}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-6 rounded-lg shadow-md dark:shadow-black/25",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"How Gemini AI Can Help You"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Customer Support"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"Draft personalized responses to customer inquiries, create follow-up emails, and generate helpful content."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Content Creation"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"Generate product descriptions, marketing copy, social media posts, and other content for your business."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Data Analysis"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"Ask questions about your business data and get AI-powered insights and recommendations."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Image Analysis"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"Upload images for analysis, description, or to extract information contained in visuals."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Conversation Mode"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"Have a multi-turn conversation with the AI to refine ideas or explore complex topics in depth."})]})]}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Pro Tips"}),a.jsxs("ul",{className:"list-disc list-inside text-blue-700 space-y-2 mt-2",children:[a.jsx("li",{children:"Be specific in your prompts for better results"}),a.jsx("li",{children:"For image analysis, use clear, high-quality images"}),a.jsx("li",{children:"In chat mode, you can reference previous messages"}),a.jsx("li",{children:"Try different ways of asking to get varied responses"}),a.jsx("li",{children:"Save useful responses for future reference"})]})]})]})]})]}),wK=()=>{const{user:t}=Mt(),[e,r]=A.useState([]),[n,s]=A.useState(!0),[i,o]=A.useState(null),[c,u]=A.useState(!1),[h,f]=A.useState(null),[p,g]=A.useState({fullName:"",email:"",password:"",role:"Sales Person"}),[x,w]=A.useState({totalUsers:0,totalSales:0,totalLeads:0,userCounts:{salesPerson:0,leadPerson:0,manager:0,admin:0}}),b=(t==null?void 0:t.role)==="Admin";A.useEffect(()=>{_(),v()},[]);const v=async()=>{try{let S=0,P=0;try{S=await K4(),console.log("Manager Dashboard - Got direct sales count:",S)}catch(H){console.error("Manager Dashboard - Error getting direct sales count:",H)}const B=!1,ae=B?"http://localhost:8080":"https://crm-backend-o36v.onrender.com/api",q=await er.get(`${ae}${B?"/api":""}/leads`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});q.data&&q.data.data&&Array.isArray(q.data.data)&&(P=q.data.data.length),console.log("Final counts - Sales:",S,"Leads:",P),w(H=>({...H,totalSales:S,totalLeads:P,totalUsers:e.length,userCounts:{salesPerson:e.filter(ie=>ie.role==="Sales Person").length,leadPerson:e.filter(ie=>ie.role==="Lead Person").length,manager:e.filter(ie=>ie.role==="Manager").length,admin:e.filter(ie=>ie.role==="Admin").length}}))}catch(S){console.error("Error fetching dashboard stats:",S)}},_=async()=>{try{s(!0);const S=await Zt.getUsers();S.data.success?(r(S.data.data),w(P=>({...P,totalUsers:S.data.data.length,userCounts:{salesPerson:S.data.data.filter(B=>B.role==="Sales Person").length,leadPerson:S.data.data.filter(B=>B.role==="Lead Person").length,manager:S.data.data.filter(B=>B.role==="Manager").length,admin:S.data.data.filter(B=>B.role==="Admin").length}}))):o("Failed to load users")}catch(S){console.error("Error fetching users:",S),o("Failed to load users. Please try again.")}finally{s(!1)}},T=S=>{g({...p,[S.target.name]:S.target.value})},C=async S=>{var P,B;if(S.preventDefault(),!b&&(p.role==="Admin"||h&&h.role==="Admin")){Qt.error("Only Admins can manage Admin accounts");return}s(!0);try{let ae;if(h){const q={...p};q.password||delete q.password,ae=await Zt.updateUser(h._id,q),Qt.success("User updated successfully")}else ae=await Zt.createUser(p),Qt.success("User created successfully");u(!1),O(),_()}catch(ae){console.error("Error with user:",ae),Qt.error(((B=(P=ae.response)==null?void 0:P.data)==null?void 0:B.message)||"Failed to process user")}finally{s(!1)}},R=async S=>{const P=e.find(B=>B._id===S);if(!b&&P.role==="Admin"){Qt.error("Only Admins can delete Admin accounts");return}if(window.confirm("Are you sure you want to delete this user?"))try{s(!0),await Zt.deleteUser(S),Qt.success("User deleted successfully"),_()}catch(B){console.error("Error deleting user:",B),Qt.error("Failed to delete user")}finally{s(!1)}},j=S=>{if(!b&&S.role==="Admin"){Qt.error("Only Admins can edit Admin accounts");return}f(S),g({fullName:S.fullName,email:S.email,password:"",role:S.role}),u(!0)},O=()=>{g({fullName:"",email:"",password:"",role:"Sales Person"}),f(null)};return a.jsxs(rr,{children:[a.jsxs("div",{className:"container mx-auto p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Manager Dashboard"}),a.jsxs("button",{onClick:()=>{O(),u(!0)},className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md",children:[a.jsx(nx,{className:"mr-2"})," Add New User"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-4 shadow-sm",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-slate-500 dark:text-gray-400 text-sm font-medium",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:x.totalUsers})]}),a.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:a.jsx(fE,{className:"h-5 w-5 text-blue-600"})})]})}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-4 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-slate-500 dark:text-gray-400 text-sm font-medium",children:"Total Sales"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:x.totalSales})]}),a.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:a.jsx(iE,{className:"h-5 w-5 text-green-600"})})]}),a.jsx("div",{className:"mt-2",children:a.jsx(yt,{to:"/sales-tracking",className:"text-sm text-blue-600 hover:underline",children:"View all sales"})})]}),a.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-4 shadow-sm",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-slate-500 dark:text-gray-400 text-sm font-medium",children:"Total Leads"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:x.totalLeads})]}),a.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:a.jsx(nE,{className:"h-5 w-5 text-yellow-600"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-4 shadow-sm",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-slate-500 dark:text-gray-400 text-sm font-medium",children:"Team Breakdown"}),a.jsxs("p",{className:"text-sm mt-1",children:["Sales: ",x.userCounts.salesPerson]}),a.jsxs("p",{className:"text-sm",children:["Leads: ",x.userCounts.leadPerson]})]}),a.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:a.jsx(J4,{className:"h-5 w-5 text-purple-600"})})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out shadow-md dark:shadow-2xl rounded-lg p-6 mb-6 shadow-sm",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Management"}),!b&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-400 text-yellow-700 px-4 py-3 rounded relative mb-4",children:[a.jsx("strong",{children:"Note:"})," As a Manager, you cannot modify Admin accounts."]}),n&&!c?a.jsx("div",{className:"flex justify-center items-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i?a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:i}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-slate-200 dark:divide-slate-700",children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-slate-500 dark:text-gray-400",children:"No users found"})}):e.map(S=>a.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-800 ${!b&&S.role==="Admin"?"bg-gray-50 dark:bg-slate-800":""}`,children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:S.fullName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:S.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:a.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                            ${S.role==="Admin"?"bg-purple-100 text-purple-800":S.role==="Manager"?"bg-blue-100 text-blue-800":S.role==="Lead Person"?"bg-green-100 text-green-800":"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"}`,children:S.role})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:a.jsx("div",{className:"flex space-x-3",children:!b&&S.role==="Admin"?a.jsx("span",{className:"text-gray-400 dark:text-gray-400",title:"Admin users can only be managed by other Admins",children:a.jsx(aE,{className:"h-5 w-5"})}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>j(S),className:"text-indigo-600 hover:text-indigo-900",title:"Edit user",children:a.jsx(Kd,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>R(S._id),className:"text-red-600 hover:text-red-900",title:"Delete user",children:a.jsx(sx,{className:"h-5 w-5"})})]})})})]},S._id))})]})})]})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg p-6 max-w-md w-full shadow-sm dark:shadow-black/25",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:h?"Edit User":"Add New User"}),a.jsx("button",{onClick:()=>u(!1),className:"text-slate-500 dark:text-slate-300 hover:text-slate-700",children:a.jsx(kd,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:C,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",name:"fullName",value:p.fullName,onChange:T,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:p.email,onChange:T,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:h?"Password (leave empty to keep current)":"Password"}),a.jsx("input",{type:"password",name:"password",value:p.password,onChange:T,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!h})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Role"}),a.jsxs("select",{name:"role",value:p.role,onChange:T,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",disabled:!b&&p.role==="Admin",children:[a.jsx("option",{value:"Sales Person",children:"Sales Person"}),a.jsx("option",{value:"Lead Person",children:"Lead Person"}),a.jsx("option",{value:"Manager",children:"Manager"}),b&&a.jsx("option",{value:"Admin",children:"Admin"})]}),!b&&a.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-gray-400",children:"Only Admins can create or modify Admin accounts"})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-400",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:n||!b&&p.role==="Admin",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md disabled:bg-blue-300",children:n?"Processing...":h?"Update User":"Add User"})]})]})]})})]})},kK=()=>{const{user:t}=Mt(),[e,r]=A.useState([]),[n,s]=A.useState(!1),[i,o]=A.useState(null);A.useEffect(()=>{const x=()=>{const b=No.getStatus();o(b)};x();const w=setInterval(x,2e3);return()=>clearInterval(w)},[]);const c=async()=>{try{s(!0);const w=await(await fetch("/api/test-exam/upcoming-exams")).json();w.success?r(w.data):at.error("Failed to fetch upcoming exams")}catch(x){console.error("Error fetching upcoming exams:",x),at.error("Error fetching upcoming exams")}finally{s(!1)}},u=async(x=11)=>{try{s(!0);const b=await(await fetch("/api/test-exam/create-exam",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({course:`React Development ${Date.now()}`,minutesFromNow:x,userEmail:t.email})})).json();b.success?(at.success(b.message),c()):at.error(b.message)}catch(w){console.error("Error creating test exam:",w),at.error("Error creating test exam")}finally{s(!1)}},h=async()=>{try{s(!0);const w=await(await fetch("/api/test-exam/trigger-notifications",{method:"POST"})).json();w.success?at.success("Notification check triggered!"):at.error(w.message)}catch(x){console.error("Error triggering notifications:",x),at.error("Error triggering notifications")}finally{s(!1)}},f=async()=>{try{s(!0);const w=await(await fetch("/api/test-exam/cleanup-test-exams",{method:"DELETE"})).json();w.success?(at.success(w.message),c()):at.error(w.message)}catch(x){console.error("Error cleaning up test exams:",x),at.error("Error cleaning up test exams")}finally{s(!1)}},p=()=>{No.playNotificationSound(),at.success("🔊 Audio test played!")},g=async()=>{await No.requestNotificationPermission()?at.success("✅ Notification permission granted!"):at.error("❌ Notification permission denied")};return A.useEffect(()=>{c()},[]),a.jsx(rr,{children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200 mb-8",children:"🧪 Exam Notification Testing"}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-6 mb-6 shadow-sm",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"📡 Connection Status"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`w-3 h-3 rounded-full ${i!=null&&i.isConnected?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{className:"font-medium",children:"WebSocket:"}),a.jsx("span",{className:i!=null&&i.isConnected?"text-green-600":"text-red-600",children:i!=null&&i.isConnected?"Connected":"Disconnected"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-medium",children:"User ID:"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-500",children:(i==null?void 0:i.userId)||"Not set"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-6 mb-6 shadow-sm",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🎮 Test Controls"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx("button",{onClick:()=>u(11),disabled:n,className:"bg-blue-500 hover:bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:"📝 Create Test Exam (11 min)"}),a.jsx("button",{onClick:()=>u(2),disabled:n,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:"⚡ Quick Test (2 min)"}),a.jsx("button",{onClick:h,disabled:n,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:"🔔 Trigger Notifications"}),a.jsx("button",{onClick:p,disabled:n,className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:"🔊 Test Audio"}),a.jsx("button",{onClick:g,disabled:n,className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:"🔔 Request Permission"}),a.jsx("button",{onClick:f,disabled:n,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:"🗑️ Cleanup Test Exams"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-6 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"📅 Upcoming Exams"}),a.jsx("button",{onClick:c,disabled:n,className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out0 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm disabled:opacity-50",children:"🔄 Refresh"})]}),n?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):e.length===0?a.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-gray-400",children:[a.jsx("p",{children:"No upcoming exams found"}),a.jsx("p",{className:"text-sm mt-2",children:"Create a test exam to see notifications in action!"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Exam Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Minutes Until"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Reminder Sent"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-slate-200 dark:divide-slate-700",children:e.map(x=>{var w;return a.jsxs("tr",{className:x.minutesUntilExam<=10?"bg-red-50":"",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",children:x.course}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:new Date(x.examDateTime).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:((w=x.assignedTo)==null?void 0:w.name)||"Unassigned"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${x.minutesUntilExam<=10?"bg-red-100 text-red-800":x.minutesUntilExam<=30?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[x.minutesUntilExam," min"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${x.reminderSent?"bg-green-100 text-green-800":"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"}`,children:x.reminderSent?"✅ Sent":"⏳ Pending"})})]},x.id)})})]})})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"📋 How to Test"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-700",children:[a.jsx("li",{children:'Click "Request Permission" to enable browser notifications'}),a.jsx("li",{children:'Create a test exam using "Create Test Exam (11 min)" - this will trigger a notification in 1 minute'}),a.jsx("li",{children:'For immediate testing, use "Quick Test (2 min)" and then "Trigger Notifications"'}),a.jsx("li",{children:"Watch for:"}),a.jsxs("ul",{className:"list-disc list-inside ml-6 mt-1 space-y-1",children:[a.jsx("li",{children:"🔊 Audio beep sounds"}),a.jsx("li",{children:"🍞 Toast notifications in the app"}),a.jsx("li",{children:"🖥️ Browser notifications (if permission granted)"}),a.jsx("li",{children:"📧 Email notifications (check your email)"})]}),a.jsx("li",{children:'Use "Cleanup Test Exams" to remove test data when done'})]})]})]})})})},S3=A.createContext(),_1=()=>{const t=A.useContext(S3);if(!t)throw new Error("useChat must be used within a ChatProvider");return t},NK=({children:t})=>{const{user:e,token:r}=Mt(),[n,s]=A.useState(null),[i,o]=A.useState(!1),[c,u]=A.useState([]),[h,f]=A.useState([]),[p,g]=A.useState(null),[x,w]=A.useState({}),[b,v]=A.useState({}),[_,T]=A.useState({}),[C,R]=A.useState(!1),j=A.useRef(null),O=A.useRef({});A.useEffect(()=>{if(e&&r){const Q="https://crm-backend-o36v.onrender.com/api".replace("/api","");console.log("🔌 Connecting to chat server:",Q),console.log("👤 User:",e.fullName,"Role:",e.role),console.log("🔑 Token present:",!!r);const te=Cl(Q,{transports:["websocket","polling"],timeout:2e4,forceNew:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5,maxReconnectionAttempts:5,auth:{token:r},query:{userId:e._id,userRole:e.role}});return te.on("connect",()=>{console.log("✅ Connected to chat server"),o(!0),te.emit("join-user-room",e._id),console.log("📡 Joined user room:",e._id),B("ONLINE"),H(),ae()}),te.on("connect_error",U=>{console.error("❌ Socket connection error:",U),o(!1),Qt.error("Failed to connect to chat server. Please refresh the page.")}),te.on("disconnect",U=>{console.log("🔌 Disconnected from chat server:",U),o(!1),U==="io server disconnect"&&te.connect()}),te.on("reconnect",U=>{console.log("🔄 Reconnected to chat server, attempt:",U),o(!0),te.emit("join-user-room",e._id),B("ONLINE"),Qt.success("Reconnected to chat server")}),te.on("newMessage",U=>{w(Z=>({...Z,[U.chatId]:[...Z[U.chatId]||[],U]})),(!p||p.chatId!==U.chatId)&&v(Z=>({...Z,[U.senderId._id]:(Z[U.senderId._id]||0)+1})),f(Z=>Z.map(X=>X.chatId===U.chatId?{...X,lastMessage:U.content,lastMessageTime:U.timestamp}:X))}),te.on("messageNotification",U=>{C||Qt.info(`New message from ${U.senderName}: ${U.content.substring(0,50)}...`)}),te.on("userStatusUpdate",U=>{u(Z=>Z.map(X=>X._id===U.userId?{...X,chatStatus:U.status,lastSeen:U.lastSeen}:X)),f(Z=>Z.map(X=>X.otherUser._id===U.userId?{...X,otherUser:{...X.otherUser,chatStatus:U.status,lastSeen:U.lastSeen}}:X))}),te.on("userTyping",U=>{const{senderId:Z,isTyping:X}=U;T(M=>({...M,[Z]:X})),X&&(O.current[Z]&&clearTimeout(O.current[Z]),O.current[Z]=setTimeout(()=>{T(M=>({...M,[Z]:!1}))},3e3))}),te.on("messageDelivered",U=>{console.log("Message delivered:",U)}),te.on("messageError",U=>{Qt.error(`Failed to send message: ${U.error}`)}),s(te),j.current=te,()=>{te.close(),s(null),j.current=null,o(!1)}}},[e,r]);const S=(ee,Q,te="text")=>{if(n&&e){const U={senderId:e._id,recipientId:ee,content:Q,messageType:te};n.emit("sendMessage",U);const Z=[e._id,ee].sort().join("_"),X={_id:Date.now().toString(),chatId:Z,senderId:e,recipientId:{_id:ee},content:Q,messageType:te,timestamp:new Date,isRead:!1,isOptimistic:!0};w(M=>({...M,[Z]:[...M[Z]||[],X]}))}},P=(ee,Q)=>{n&&e&&n.emit("typing",{senderId:e._id,recipientId:ee,isTyping:Q})},B=ee=>{n&&e&&n.emit("updateStatus",{userId:e._id,status:ee})},ae=async()=>{try{const te=await fetch("https://crm-backend-o36v.onrender.com/api/chat/rooms",{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(te.ok){const U=await te.json();f(U.data);const Z={};U.data.forEach(X=>{X.unreadCount>0&&(Z[X.otherUser._id]=X.unreadCount)}),v(Z)}}catch(ee){console.error("Error fetching chat rooms:",ee)}},q=async ee=>{try{const U=await fetch(`https://crm-backend-o36v.onrender.com/api/chat/messages/${ee}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(U.ok){const Z=await U.json(),X=[e._id,ee].sort().join("_");w(M=>({...M,[X]:Z.data})),v(M=>({...M,[ee]:0}))}}catch(Q){console.error("Error fetching messages:",Q)}},H=async()=>{try{const te=await fetch("https://crm-backend-o36v.onrender.com/api/chat/users",{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(te.ok){const U=await te.json();u(U.data)}}catch(ee){console.error("Error fetching users:",ee)}},L={socket:n,isConnected:i,onlineUsers:c,chatRooms:h,activeChat:p,messages:x,unreadCounts:b,typingUsers:_,isChatOpen:C,sendMessage:S,sendTypingIndicator:P,updateUserStatus:B,fetchChatRooms:ae,fetchMessages:q,fetchAllUsers:H,startChat:async ee=>{g({chatId:[e._id,ee._id].sort().join("_"),otherUser:ee}),await q(ee._id),R(!0)},closeChat:()=>{g(null),R(!1)},setIsChatOpen:R};return a.jsx(S3.Provider,{value:L,children:t})},SK=()=>{var u;const{user:t}=Mt(),{setIsChatOpen:e,onlineUsers:r,unreadCounts:n}=_1(),[s,i]=A.useState([]);A.useEffect(()=>{const h=r.filter(f=>f.role!=="Customer");i(h)},[r]);const o=Object.values(n).reduce((h,f)=>h+f,0),c=()=>{e(!0)};return a.jsx(rr,{children:a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-800 py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-black/25 p-6 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200",children:["Welcome, ",t==null?void 0:t.fullName,"!"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500 mt-2",children:"Your customer portal - Chat with our team and get support"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Customer ID"}),a.jsx("div",{className:"font-mono text-sm",children:(u=t==null?void 0:t._id)==null?void 0:u.slice(-8)})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-black/25 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center",children:[a.jsx(ed,{className:"mr-2 text-blue-600"}),"Chat with Support Team"]}),o>0&&a.jsxs("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-sm",children:[o," new messages"]})]}),a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"mb-4",children:a.jsx(ed,{className:"mx-auto text-6xl text-blue-200"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-400 mb-2",children:"Need Help? Start a Conversation"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-500 mb-4",children:"Our support team is here to help you. Click below to start chatting."}),a.jsx("button",{onClick:c,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Open Chat"})]}),s.length>0&&a.jsxs("div",{className:"mt-6 border-t pt-4",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-400 mb-3",children:["Support Team Online (",s.length,")"]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.slice(0,5).map(h=>a.jsxs("div",{className:"flex items-center bg-green-50 px-3 py-1 rounded-full",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),a.jsx("span",{className:"text-sm text-green-700",children:h.fullName}),a.jsxs("span",{className:"text-xs text-green-600 ml-1",children:["(",h.role,")"]})]},h._id)),s.length>5&&a.jsx("div",{className:"flex items-center bg-gray-50 dark:bg-slate-800 px-3 py-1 rounded-full",children:a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-500",children:["+",s.length-5," more"]})})]})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-black/25 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4 flex items-center",children:[a.jsx(td,{className:"mr-2 text-blue-600"}),"Account Information"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(td,{className:"text-gray-400 dark:text-gray-400 mr-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Full Name"}),a.jsx("div",{className:"font-medium",children:t==null?void 0:t.fullName})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(wd,{className:"text-gray-400 dark:text-gray-400 mr-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Email"}),a.jsx("div",{className:"font-medium",children:t==null?void 0:t.email})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(X4,{className:"text-gray-400 dark:text-gray-400 mr-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Member Since"}),a.jsx("div",{className:"font-medium",children:t!=null&&t.createdAt?new Date(t.createdAt).toLocaleDateString():"N/A"})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-black/25 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:c,className:"w-full bg-blue-50 hover:bg-blue-100 text-blue-700 px-4 py-3 rounded-lg text-left transition-colors",children:[a.jsx(ed,{className:"inline mr-2"}),"Start New Chat"]}),a.jsxs("button",{onClick:()=>window.location.href="/profile",className:"w-full bg-gray-50 dark:bg-slate-700 hover:bg-gray-100 text-gray-700 dark:text-gray-400 px-4 py-3 rounded-lg text-left transition-colors",children:[a.jsx(td,{className:"inline mr-2"}),"Edit Profile"]})]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Need Help?"}),a.jsx("p",{className:"text-blue-700 text-sm mb-3",children:"Our support team is available to help you with any questions or issues."}),a.jsxs("div",{className:"text-sm text-blue-600",children:[a.jsx("div",{children:"📧 Email: support@traincapetech.in"}),a.jsx("div",{children:"🕒 Hours: 9 AM - 6 PM (Mon-Fri)"}),a.jsx("div",{children:"💬 Live Chat: Available now"})]})]})]})]})]})})})};function _K(t){return bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}},{tag:"polyline",attr:{points:"12 5 19 12 12 19"}}]})(t)}function n4(t){return bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(t)}function s4(t){return bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(t)}function a4(t){return bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}},{tag:"polyline",attr:{points:"22,6 12,13 2,6"}}]})(t)}function i4(t){return bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(t)}function o4(t){return bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(t)}function jK(t){return bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(t)}function CK(t){return bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(t)}function TK(t){return bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(t)}const l4=({status:t})=>{const e={New:"bg-blue-100 text-blue-800",Contacted:"bg-yellow-100 text-yellow-800",Interested:"bg-green-100 text-green-800","Not Interested":"bg-red-100 text-red-800","Follow Up":"bg-purple-100 text-purple-800",Qualified:"bg-indigo-100 text-indigo-800","Converted to Lead":"bg-emerald-100 text-emerald-800",Lost:"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e[t]||"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"}`,children:t})},c4=({priority:t})=>{const e={High:"bg-red-100 text-red-800",Medium:"bg-yellow-100 text-yellow-800",Low:"bg-green-100 text-green-800"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e[t]||"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"}`,children:t})},EK=()=>{var ae,q,H,ie,re,L,ee;const{user:t,token:e}=Mt(),[r,n]=A.useState([]),[s,i]=A.useState(!0),[o,c]=A.useState(!1),[u,h]=A.useState(!1),[f,p]=A.useState(!1),[g,x]=A.useState(null),[w,b]=A.useState({}),[v,_]=A.useState({search:"",status:"",source:"",priority:"",page:1,limit:10}),[T,C]=A.useState({}),R=async()=>{try{i(!0);const Q=await vl.getAll(v);Q.data.success&&(n(Q.data.data),C(Q.data.pagination))}catch(Q){console.error("Error fetching prospects:",Q),at.error("Failed to fetch prospects")}finally{i(!1)}},j=async()=>{try{const Q=await vl.getStats();Q.data.success&&b(Q.data.data)}catch(Q){console.error("Error fetching stats:",Q)}};A.useEffect(()=>{R(),j()},[v]);const O=Q=>{_(te=>({...te,search:Q.target.value,page:1}))},S=(Q,te)=>{_(U=>({...U,[Q]:te,page:1}))},P=async Q=>{var te,U;if(window.confirm("Are you sure you want to delete this prospect?"))try{(await vl.delete(Q)).data.success&&(at.success("Prospect deleted successfully"),R(),j())}catch(Z){console.error("Error deleting prospect:",Z),at.error(((U=(te=Z.response)==null?void 0:te.data)==null?void 0:U.message)||"Failed to delete prospect")}},B=async Q=>{var te,U;if(window.confirm("Convert this prospect to a lead?"))try{(await vl.convertToLead(Q)).data.success&&(at.success("Prospect converted to lead successfully"),R(),j())}catch(Z){console.error("Error converting prospect:",Z),at.error(((U=(te=Z.response)==null?void 0:te.data)==null?void 0:U.message)||"Failed to convert prospect")}};return a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Prospects"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"Manage your potential customers"})]}),a.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[a.jsx(o4,{})," Add Prospect"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-4 rounded-lg shadow shadow-sm dark:shadow-black/25",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((ae=w.overview)==null?void 0:ae.total)||0}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Total"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-4 rounded-lg shadow shadow-sm dark:shadow-black/25",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-500",children:((q=w.overview)==null?void 0:q.new)||0}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-500",children:"New"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-4 rounded-lg shadow shadow-sm dark:shadow-black/25",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:((H=w.overview)==null?void 0:H.contacted)||0}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Contacted"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-4 rounded-lg shadow shadow-sm dark:shadow-black/25",children:[a.jsx("div",{className:"text-2xl font-bold text-green-500",children:((ie=w.overview)==null?void 0:ie.interested)||0}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Interested"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-4 rounded-lg shadow shadow-sm dark:shadow-black/25",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-500",children:((re=w.overview)==null?void 0:re.qualified)||0}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Qualified"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-4 rounded-lg shadow shadow-sm dark:shadow-black/25",children:[a.jsx("div",{className:"text-2xl font-bold text-emerald-500",children:((L=w.overview)==null?void 0:L.converted)||0}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Converted"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-4 rounded-lg shadow shadow-sm dark:shadow-black/25",children:[a.jsx("div",{className:"text-2xl font-bold text-red-500",children:((ee=w.overview)==null?void 0:ee.lost)||0}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Lost"})]})]}),a.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-4 rounded-lg shadow mb-6 shadow-sm dark:shadow-black/25",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(jK,{className:"absolute left-3 top-3 text-gray-400 dark:text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search prospects...",value:v.search,onChange:O,className:"pl-10 pr-4 py-2 border rounded-lg w-full focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent"})]}),a.jsxs("select",{value:v.status,onChange:Q=>S("status",Q.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Contacted",children:"Contacted"}),a.jsx("option",{value:"Interested",children:"Interested"}),a.jsx("option",{value:"Not Interested",children:"Not Interested"}),a.jsx("option",{value:"Follow Up",children:"Follow Up"}),a.jsx("option",{value:"Qualified",children:"Qualified"}),a.jsx("option",{value:"Converted to Lead",children:"Converted to Lead"}),a.jsx("option",{value:"Lost",children:"Lost"})]}),a.jsxs("select",{value:v.source,onChange:Q=>S("source",Q.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",children:[a.jsx("option",{value:"",children:"All Sources"}),a.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),a.jsx("option",{value:"Website",children:"Website"}),a.jsx("option",{value:"Referral",children:"Referral"}),a.jsx("option",{value:"Cold Call",children:"Cold Call"}),a.jsx("option",{value:"Email Campaign",children:"Email Campaign"}),a.jsx("option",{value:"Social Media",children:"Social Media"}),a.jsx("option",{value:"Event",children:"Event"}),a.jsx("option",{value:"Other",children:"Other"})]}),a.jsxs("select",{value:v.priority,onChange:Q=>S("priority",Q.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",children:[a.jsx("option",{value:"",children:"All Priorities"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Low",children:"Low"})]})]})})]}),a.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow overflow-hidden shadow-sm dark:shadow-black/25",children:s?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-500",children:"Loading prospects..."})]}):r.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(TK,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900 dark:text-slate-100",children:"No prospects"}),a.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-gray-400",children:"Get started by creating a new prospect."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white px-4 py-2 rounded-lg flex items-center gap-2 mx-auto",children:[a.jsx(o4,{})," Add Prospect"]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact Info"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Company"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Source"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-slate-200 dark:divide-slate-700",children:r.map(Q=>{var te;return a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 dark:bg-slate-800 transition-all duration-200 ease-out",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate",children:Q.name||"No Name"}),a.jsxs("div",{className:"text-xs text-slate-500 dark:text-gray-400",children:[Q.email&&a.jsxs("div",{className:"flex items-center gap-1 truncate",children:[a.jsx(a4,{className:"w-3 h-3 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:Q.email})]}),Q.phone&&a.jsxs("div",{className:"flex items-center gap-1 truncate",children:[a.jsx(i4,{className:"w-3 h-3 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:Q.phone})]})]})]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100 truncate",children:Q.company||"-"}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-400 truncate",children:Q.designation||"-"})]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:Q.source})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(l4,{status:Q.status})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(c4,{priority:Q.priority})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100 max-w-xs truncate",children:((te=Q.assignedTo)==null?void 0:te.fullName)||"Unassigned"})}),a.jsx("td",{className:"px-4 py-3 text-sm text-slate-500 dark:text-gray-400",children:new Date(Q.createdAt).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>{x(Q),p(!0)},className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"View Details",children:a.jsx(s4,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{x(Q),h(!0)},className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",title:"Edit",children:a.jsx(n4,{className:"w-4 h-4"})}),Q.status!=="Converted to Lead"&&a.jsx("button",{onClick:()=>B(Q._id),className:"text-purple-600 hover:text-purple-900 p-1 rounded hover:bg-purple-50",title:"Convert to Lead",children:a.jsx(_K,{className:"w-4 h-4"})}),["Admin","Manager"].includes(t==null?void 0:t.role)&&a.jsx("button",{onClick:()=>P(Q._id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Delete",children:a.jsx(CK,{className:"w-4 h-4"})})]})})]},Q._id)})})]})}),a.jsx("div",{className:"lg:hidden",children:r.map(Q=>{var te;return a.jsxs("div",{className:"border-b border-slate-200 dark:border-slate-700 p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:Q.name||"No Name"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-gray-400",children:Q.company||"No Company"})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsx("button",{onClick:()=>{x(Q),p(!0)},className:"text-blue-600 hover:text-blue-900 p-2 rounded hover:bg-blue-50",title:"View Details",children:a.jsx(s4,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{x(Q),h(!0)},className:"text-green-600 hover:text-green-900 p-2 rounded hover:bg-green-50",title:"Edit",children:a.jsx(n4,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500 dark:text-gray-400",children:"Status:"}),a.jsx("div",{className:"mt-1",children:a.jsx(l4,{status:Q.status})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500 dark:text-gray-400",children:"Priority:"}),a.jsx("div",{className:"mt-1",children:a.jsx(c4,{priority:Q.priority})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500 dark:text-gray-400",children:"Source:"}),a.jsx("div",{className:"mt-1 text-slate-900 dark:text-slate-100",children:Q.source})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500 dark:text-gray-400",children:"Assigned:"}),a.jsx("div",{className:"mt-1 text-slate-900 dark:text-slate-100 truncate",children:((te=Q.assignedTo)==null?void 0:te.fullName)||"Unassigned"})]})]}),(Q.email||Q.phone)&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[Q.email&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-500 mb-1",children:[a.jsx(a4,{className:"w-3 h-3"}),a.jsx("span",{className:"truncate",children:Q.email})]}),Q.phone&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-500",children:[a.jsx(i4,{className:"w-3 h-3"}),a.jsx("span",{children:Q.phone})]})]})]},Q._id)})}),T.pages>1&&a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out px-4 py-3 flex items-center justify-between border-t border-slate-200 dark:border-slate-700 sm:px-6",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx("button",{onClick:()=>S("page",Math.max(1,v.page-1)),disabled:v.page===1,className:"relative inline-flex items-center px-4 py-2 border border-slate-300 dark:border-slate-600 text-sm font-medium rounded-md text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-800 transition-all duration-200 ease-out hover:bg-slate-50 dark:hover:bg-slate-800 disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>S("page",Math.min(T.pages,v.page+1)),disabled:v.page===T.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-300 dark:border-slate-600 text-sm font-medium rounded-md text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-800 transition-all duration-200 ease-out hover:bg-slate-50 dark:hover:bg-slate-800 disabled:opacity-50",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:["Showing ",a.jsx("span",{className:"font-medium",children:(v.page-1)*v.limit+1})," to"," ",a.jsx("span",{className:"font-medium",children:Math.min(v.page*v.limit,T.total)})," ","of ",a.jsx("span",{className:"font-medium",children:T.total})," results"]})}),a.jsx("div",{children:a.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm dark:shadow-black/25 -space-x-px",children:Array.from({length:T.pages},(Q,te)=>te+1).map(Q=>a.jsx("button",{onClick:()=>S("page",Q),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${Q===v.page?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600 text-gray-500 dark:text-gray-400 dark:text-gray-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:Q},Q))})})]})]})]})}),(o||u)&&a.jsx(AK,{isOpen:o||u,onClose:()=>{c(!1),h(!1),x(null)},prospect:g,onSuccess:()=>{R(),j(),c(!1),h(!1),x(null)}}),f&&g&&a.jsx(PK,{isOpen:f,onClose:()=>{p(!1),x(null)},prospect:g,onEdit:()=>{p(!1),h(!0)},onConvert:()=>{p(!1),B(g._id)},onDelete:()=>{p(!1),P(g._id)},userRole:t==null?void 0:t.role})]})},AK=({isOpen:t,onClose:e,prospect:r,onSuccess:n})=>{const{user:s,token:i}=Mt(),[o,c]=A.useState(!1),[u,h]=A.useState([]),[f,p]=A.useState({name:"",email:"",phone:"",company:"",designation:"",source:"Other",sourceDetails:"",industry:"",companySize:"Unknown",budget:"",budgetCurrency:"USD",serviceInterest:"",requirements:"",timeline:"Not specified",status:"New",priority:"Medium",assignedTo:"",lastContactDate:"",nextFollowUpDate:"",contactMethod:"",notes:"",tags:"",linkedinProfile:"",websiteUrl:""});A.useEffect(()=>{var w,b;r&&p({name:r.name||"",email:r.email||"",phone:r.phone||"",company:r.company||"",designation:r.designation||"",source:r.source||"Other",sourceDetails:r.sourceDetails||"",industry:r.industry||"",companySize:r.companySize||"Unknown",budget:r.budget||"",budgetCurrency:r.budgetCurrency||"USD",serviceInterest:r.serviceInterest||"",requirements:r.requirements||"",timeline:r.timeline||"Not specified",status:r.status||"New",priority:r.priority||"Medium",assignedTo:((w=r.assignedTo)==null?void 0:w._id)||"",lastContactDate:r.lastContactDate?r.lastContactDate.split("T")[0]:"",nextFollowUpDate:r.nextFollowUpDate?r.nextFollowUpDate.split("T")[0]:"",contactMethod:r.contactMethod||"",notes:r.notes||"",tags:((b=r.tags)==null?void 0:b.join(", "))||"",linkedinProfile:r.linkedinProfile||"",websiteUrl:r.websiteUrl||""})},[r]),A.useEffect(()=>{(async()=>{try{const b=await Zt.getUsers();b.data.success&&h(b.data.data.filter(v=>["Sales Person","Manager","Admin"].includes(v.role)))}catch(b){console.error("Error fetching users:",b)}})()},[i]);const g=async w=>{var b,v;w.preventDefault(),c(!0);try{const _={...f,budget:f.budget?parseFloat(f.budget):void 0,tags:f.tags?f.tags.split(",").map(C=>C.trim()).filter(Boolean):[],lastContactDate:f.lastContactDate||void 0,nextFollowUpDate:f.nextFollowUpDate||void 0};Object.keys(_).forEach(C=>{_[C]===""&&delete _[C]}),(r?await vl.update(r._id,_):await vl.create(_)).data.success&&(at.success(r?"Prospect updated successfully":"Prospect created successfully"),n())}catch(_){console.error("Error saving prospect:",_),at.error(((v=(b=_.response)==null?void 0:b.data)==null?void 0:v.message)||"Failed to save prospect")}finally{c(!1)}},x=w=>{p(b=>({...b,[w.target.name]:w.target.value}))};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-sm dark:shadow-black/25",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:r?"Edit Prospect":"Add New Prospect"}),a.jsx("button",{onClick:e,className:"text-gray-400 dark:text-gray-300 hover:text-gray-600",children:"✕"})]}),a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name"}),a.jsx("input",{type:"text",name:"name",value:f.name,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",placeholder:"Contact person name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:f.email,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",placeholder:"email@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",placeholder:"+1 (555) 123-4567"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Company"}),a.jsx("input",{type:"text",name:"company",value:f.company,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",placeholder:"Company name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Designation"}),a.jsx("input",{type:"text",name:"designation",value:f.designation,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",placeholder:"Job title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Industry"}),a.jsx("input",{type:"text",name:"industry",value:f.industry,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",placeholder:"Technology, Healthcare, etc."})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-4",children:"Source & Business Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Source"}),a.jsxs("select",{name:"source",value:f.source,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",children:[a.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),a.jsx("option",{value:"Website",children:"Website"}),a.jsx("option",{value:"Referral",children:"Referral"}),a.jsx("option",{value:"Cold Call",children:"Cold Call"}),a.jsx("option",{value:"Email Campaign",children:"Email Campaign"}),a.jsx("option",{value:"Social Media",children:"Social Media"}),a.jsx("option",{value:"Event",children:"Event"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Source Details"}),a.jsx("input",{type:"text",name:"sourceDetails",value:f.sourceDetails,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",placeholder:"Additional source information"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Company Size"}),a.jsxs("select",{name:"companySize",value:f.companySize,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",children:[a.jsx("option",{value:"1-10",children:"1-10"}),a.jsx("option",{value:"11-50",children:"11-50"}),a.jsx("option",{value:"51-200",children:"51-200"}),a.jsx("option",{value:"201-500",children:"201-500"}),a.jsx("option",{value:"501-1000",children:"501-1000"}),a.jsx("option",{value:"1000+",children:"1000+"}),a.jsx("option",{value:"Unknown",children:"Unknown"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Budget"}),a.jsxs("div",{className:"flex",children:[a.jsxs("select",{name:"budgetCurrency",value:f.budgetCurrency,onChange:x,className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-l-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"INR",children:"INR"})]}),a.jsx("input",{type:"number",name:"budget",value:f.budget,onChange:x,className:"flex-1 px-3 py-2 border border-l-0 border-slate-300 dark:border-slate-600 rounded-r-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",placeholder:"0",min:"0"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-4",children:"Interest & Requirements"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Service Interest"}),a.jsx("input",{type:"text",name:"serviceInterest",value:f.serviceInterest,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",placeholder:"What services are they interested in?"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Timeline"}),a.jsxs("select",{name:"timeline",value:f.timeline,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",children:[a.jsx("option",{value:"Immediate",children:"Immediate"}),a.jsx("option",{value:"Within 1 month",children:"Within 1 month"}),a.jsx("option",{value:"1-3 months",children:"1-3 months"}),a.jsx("option",{value:"3-6 months",children:"3-6 months"}),a.jsx("option",{value:"6+ months",children:"6+ months"}),a.jsx("option",{value:"Not specified",children:"Not specified"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Requirements"}),a.jsx("textarea",{name:"requirements",value:f.requirements,onChange:x,rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",placeholder:"Detailed requirements and needs"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-4",children:"Status & Assignment"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Status"}),a.jsxs("select",{name:"status",value:f.status,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",children:[a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Contacted",children:"Contacted"}),a.jsx("option",{value:"Interested",children:"Interested"}),a.jsx("option",{value:"Not Interested",children:"Not Interested"}),a.jsx("option",{value:"Follow Up",children:"Follow Up"}),a.jsx("option",{value:"Qualified",children:"Qualified"}),a.jsx("option",{value:"Lost",children:"Lost"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Priority"}),a.jsxs("select",{name:"priority",value:f.priority,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",children:[a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Low",children:"Low"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Assigned To"}),a.jsxs("select",{name:"assignedTo",value:f.assignedTo,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Unassigned"}),u.map(w=>a.jsxs("option",{value:w._id,children:[w.fullName," (",w.role,")"]},w._id))]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-4",children:"Follow-up Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Last Contact Date"}),a.jsx("input",{type:"date",name:"lastContactDate",value:f.lastContactDate,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Next Follow-up Date"}),a.jsx("input",{type:"date",name:"nextFollowUpDate",value:f.nextFollowUpDate,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Contact Method"}),a.jsxs("select",{name:"contactMethod",value:f.contactMethod,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select method"}),a.jsx("option",{value:"Email",children:"Email"}),a.jsx("option",{value:"Phone",children:"Phone"}),a.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),a.jsx("option",{value:"WhatsApp",children:"WhatsApp"}),a.jsx("option",{value:"Meeting",children:"Meeting"}),a.jsx("option",{value:"Other",children:"Other"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"LinkedIn Profile"}),a.jsx("input",{type:"url",name:"linkedinProfile",value:f.linkedinProfile,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",placeholder:"https://linkedin.com/in/username"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Website URL"}),a.jsx("input",{type:"url",name:"websiteUrl",value:f.websiteUrl,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",placeholder:"https://company.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tags"}),a.jsx("input",{type:"text",name:"tags",value:f.tags,onChange:x,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",placeholder:"tag1, tag2, tag3"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-gray-400 mt-1",children:"Separate tags with commas"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notes"}),a.jsx("textarea",{name:"notes",value:f.notes,onChange:x,rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-offset-slate-900 focus:ring-offset-2 focus:border-transparent",placeholder:"Additional notes and observations"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-700 dark:text-slate-300 bg-gray-100 dark:bg-slate-600 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-lg disabled:opacity-50 flex items-center gap-2",children:[o&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r?"Update Prospect":"Create Prospect"]})]})]})]})})}):null},PK=({isOpen:t,onClose:e,prospect:r,onEdit:n,onConvert:s,onDelete:i,userRole:o})=>{var h,f;const c=({status:p})=>{const g={New:"bg-blue-100 text-blue-800",Contacted:"bg-yellow-100 text-yellow-800",Interested:"bg-green-100 text-green-800","Not Interested":"bg-red-100 text-red-800","Follow Up":"bg-purple-100 text-purple-800",Qualified:"bg-indigo-100 text-indigo-800","Converted to Lead":"bg-emerald-100 text-emerald-800",Lost:"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g[p]||"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"}`,children:p})},u=({priority:p})=>{const g={High:"bg-red-100 text-red-800",Medium:"bg-yellow-100 text-yellow-800",Low:"bg-green-100 text-green-800"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g[p]||"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"}`,children:p})};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-sm dark:shadow-black/25",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"View Prospect Details"}),a.jsx("button",{onClick:e,className:"text-gray-400 dark:text-gray-300 hover:text-gray-600",children:"✕"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-4",children:"Prospect Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.name||"No Name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.email||"No Email"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Phone"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.phone||"No Phone"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Company"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.company||"No Company"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Designation"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.designation||"No Designation"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Industry"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.industry||"No Industry"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Source"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.source||"No Source"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Status"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:a.jsx(c,{status:r.status})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Priority"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:a.jsx(u,{priority:r.priority})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Assigned To"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:((h=r.assignedTo)==null?void 0:h.fullName)||"Unassigned"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Created"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:new Date(r.createdAt).toLocaleDateString()})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-4",children:"Additional Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Source Details"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.sourceDetails||"No source details"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Company Size"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.companySize||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Budget"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.budget?`${r.budget} ${r.budgetCurrency}`:"No budget"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Service Interest"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.serviceInterest||"No service interest"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Timeline"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.timeline||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Requirements"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.requirements||"No requirements"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Last Contact Date"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.lastContactDate?new Date(r.lastContactDate).toLocaleDateString():"No last contact date"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Next Follow-up Date"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.nextFollowUpDate?new Date(r.nextFollowUpDate).toLocaleDateString():"No next follow-up date"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Contact Method"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.contactMethod||"No contact method"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"LinkedIn Profile"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.linkedinProfile||"No LinkedIn profile"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Website URL"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.websiteUrl||"No website URL"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tags"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:((f=r.tags)==null?void 0:f.join(", "))||"No tags"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notes"}),a.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:r.notes||"No notes"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-700 dark:text-slate-300 bg-gray-100 dark:bg-slate-600 rounded-lg hover:bg-gray-200",children:"Close"}),a.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-lg",children:"Edit"}),r.status!=="Converted to Lead"&&a.jsx("button",{onClick:s,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Convert to Lead"}),["Admin","Manager"].includes(o)&&a.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})]})]})})}):null},DK=()=>a.jsxs(i5,{children:[a.jsx(Vt,{path:"/",element:a.jsx(Ab,{})}),a.jsx(Vt,{path:"/login",element:a.jsx(mA,{})}),a.jsx(Vt,{path:"/customer-signup",element:a.jsx(pA,{})}),a.jsx(Vt,{path:"/debug",element:a.jsx(lP,{})}),a.jsx(Vt,{path:"/forgot-password",element:a.jsx(YW,{})}),a.jsx(Vt,{path:"/tutorials",element:a.jsx(XW,{})}),a.jsx(Vt,{path:"/management-contacts",element:a.jsx(vK,{})}),a.jsx(Vt,{path:"/countries",element:a.jsx(yK,{})}),a.jsx(Vt,{path:"/customer",element:a.jsx(Lr,{allowedRoles:["Customer"],children:a.jsx(SK,{})})}),a.jsx(Vt,{path:"/ai-assistant",element:a.jsx(bK,{})}),a.jsx(Vt,{path:"/test-notifications",element:a.jsx(Lr,{allowedRoles:["Sales Person","Lead Person","Manager","Admin"],children:a.jsx(kK,{})})}),a.jsx(Vt,{path:"/manager",element:a.jsx(Lr,{allowedRoles:["Manager","Admin"],children:a.jsx(wK,{})})}),a.jsx(Vt,{path:"/leads",element:a.jsx(Lr,{allowedRoles:["Lead Person","Manager","Admin"],children:a.jsx(u8,{})})}),a.jsx(Vt,{path:"/sales",element:a.jsx(Lr,{allowedRoles:["Sales Person","Manager","Admin"],children:a.jsx(h8,{})})}),a.jsx(Vt,{path:"/sales-tracking",element:a.jsx(Lr,{allowedRoles:["Sales Person","Manager","Admin"],children:a.jsx(J8,{})})}),a.jsx(Vt,{path:"/create-sale",element:a.jsx(Lr,{allowedRoles:["Sales Person","Manager","Admin"],children:a.jsx(Q8,{})})}),a.jsx(Vt,{path:"/tasks",element:a.jsx(Lr,{allowedRoles:["Sales Person","Lead Person","Manager","Admin"],children:a.jsx(sK,{})})}),a.jsx(Vt,{path:"/profile",element:a.jsx(Lr,{allowedRoles:["Sales Person","Lead Person","Manager","Admin","Customer"],children:a.jsx(oP,{})})}),a.jsx(Vt,{path:"/admin",element:a.jsx(Lr,{allowedRoles:["Admin","Lead Person"],children:a.jsx(cP,{})})}),a.jsx(Vt,{path:"/admin/users",element:a.jsx(Lr,{allowedRoles:["Admin"],children:a.jsx(dP,{})})}),a.jsx(Vt,{path:"/admin/leads",element:a.jsx(Lr,{allowedRoles:["Admin"],children:a.jsx(uP,{})})}),a.jsx(Vt,{path:"/admin/import",element:a.jsx(Lr,{allowedRoles:["Admin"],children:a.jsx(hP,{})})}),a.jsx(Vt,{path:"/admin/reports",element:a.jsx(Lr,{allowedRoles:["Admin"],children:a.jsx(oz,{})})}),a.jsx(Vt,{path:"/admin/activity",element:a.jsx(Lr,{allowedRoles:["Admin","Manager"],children:a.jsx(lz,{})})}),a.jsx(Vt,{path:"/repeat-customers",element:a.jsx(Lr,{allowedRoles:["Admin","Manager"],children:a.jsx(aK,{})})}),a.jsx(Vt,{path:"/lead-sales-sheet",element:a.jsx(Lr,{allowedRoles:["Lead Person","Manager","Admin"],children:a.jsx(KW,{})})}),a.jsx(Vt,{path:"/update-sales",element:a.jsx(Lr,{allowedRoles:["Lead Person","Manager","Admin"],children:a.jsx(GW,{})})}),a.jsx(Vt,{path:"/prospects",element:a.jsx(Lr,{allowedRoles:["Sales Person","Manager","Admin"],children:a.jsx(EK,{})})}),a.jsx(Vt,{path:"*",element:a.jsx(Ab,{})})]}),RK=()=>{const[t,e]=A.useState(!1),r=Fi(),n=()=>{e(!t)},s=()=>{r("/ai-assistant")};return a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:n,className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-lg dark:shadow-black/25 z-50 flex items-center justify-center transition-all duration-300 transform hover:scale-105","aria-label":"AI Assistant",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:[a.jsx("path",{d:"M18.53 9.29a1 1 0 00-1.06 0L12 12.34 6.53 9.29a1 1 0 00-1.06 0 1 1 0 00-.47.82v5.78a1 1 0 00.47.82 1 1 0 00.53.15 1 1 0 00.53-.15L12 13.66l5.47 3.05a1 1 0 00.53.15 1 1 0 00.53-.15 1 1 0 00.47-.82v-5.78a1 1 0 00-.47-.82z"}),a.jsx("path",{d:"M18.53 5.11a1 1 0 00-1.06 0L12 8.16 6.53 5.11a1 1 0 00-1.06 0 1 1 0 00-.47.82v1.55a1 1 0 00.47.82 1 1 0 00.53.15 1 1 0 00.53-.15L12 5.26l5.47 3.04a1 1 0 00.53.15 1 1 0 00.53-.15 1 1 0 00.47-.82V5.93a1 1 0 00-.47-.82z"})]})}),t&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Gemini AI Assistant"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:s,className:"p-2 text-gray-600 dark:text-white hover:text-gray-900",title:"Open in full page",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),a.jsx("button",{onClick:n,className:"p-2 text-gray-600 dark:text-white hover:text-gray-900",title:"Close",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsx(N3,{isFloating:!0})})]})})]})},FK=()=>{const{user:t}=Mt(),{isConnected:e,onlineUsers:r,chatRooms:n,activeChat:s,messages:i,unreadCounts:o,typingUsers:c,isChatOpen:u,sendMessage:h,sendTypingIndicator:f,fetchChatRooms:p,fetchAllUsers:g,startChat:x,closeChat:w,setIsChatOpen:b}=_1(),[v,_]=A.useState(""),[T,C]=A.useState(!1),[R,j]=A.useState(""),O=A.useRef(null),S=A.useRef(null);A.useEffect(()=>{P()},[i,s]),A.useEffect(()=>{e&&(p(),g())},[e]);const P=()=>{var ee;(ee=O.current)==null||ee.scrollIntoView({behavior:"smooth"})},B=ee=>{ee.preventDefault(),v.trim()&&s&&(h(s.otherUser._id,v.trim()),_(""))},ae=ee=>{_(ee.target.value),s&&(f(s.otherUser._id,!0),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{f(s.otherUser._id,!1)},1e3))},q=ee=>new Date(ee).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),H=ee=>{const Q=new Date,te=new Date(ee),U=Math.floor((Q-te)/(1e3*60));return U<1?"Just now":U<60?`${U}m ago`:U<1440?`${Math.floor(U/60)}h ago`:te.toLocaleDateString()},ie=ee=>{switch(ee){case"ONLINE":return"#10b981";case"AWAY":return"#f59e0b";case"OFFLINE":return"#6b7280";default:return"#6b7280"}},re=r.filter(ee=>ee.fullName.toLowerCase().includes(R.toLowerCase())||ee.email.toLowerCase().includes(R.toLowerCase())),L=s?i[s.chatId]||[]:[];return u?a.jsxs("div",{className:"chat-window",children:[a.jsxs("div",{className:"chat-header",children:[a.jsxs("div",{className:"chat-header-left",children:[a.jsxs("h3",{children:[a.jsx("i",{className:"fas fa-comments"}),"Chat"]}),a.jsxs("div",{className:"connection-status",children:[a.jsx("span",{className:`status-indicator ${e?"connected":"disconnected"}`}),e?"Connected":"Connecting...",!e&&a.jsx("button",{className:"retry-connection",onClick:()=>window.location.reload(),title:"Retry connection",children:"🔄"})]})]}),a.jsxs("div",{className:"chat-header-actions",children:[a.jsx("button",{className:"btn-icon",onClick:()=>C(!T),title:"Start new chat",children:a.jsx("i",{className:"fas fa-plus"})}),a.jsx("button",{className:"btn-icon",onClick:()=>b(!1),title:"Minimize chat",children:a.jsx("i",{className:"fas fa-minus"})})]})]}),a.jsxs("div",{className:"chat-body",children:[T&&a.jsxs("div",{className:"user-list-sidebar",children:[a.jsxs("div",{className:"user-list-header",children:[a.jsx("h4",{children:"Start New Chat"}),a.jsx("button",{className:"btn-close",onClick:()=>C(!1),children:a.jsx("i",{className:"fas fa-times"})})]}),a.jsx("div",{className:"user-search",children:a.jsx("input",{type:"text",placeholder:"Search users...",value:R,onChange:ee=>j(ee.target.value),className:"search-input"})}),a.jsx("div",{className:"user-list",children:re.map(ee=>a.jsxs("div",{className:"user-item",onClick:()=>{x(ee),C(!1)},children:[a.jsxs("div",{className:"user-avatar",children:[ee.profilePicture?a.jsx("img",{src:ee.profilePicture,alt:ee.fullName}):a.jsx("div",{className:"avatar-placeholder",children:ee.fullName.charAt(0).toUpperCase()}),a.jsx("span",{className:"status-dot",style:{backgroundColor:ie(ee.chatStatus)}})]}),a.jsxs("div",{className:"user-info",children:[a.jsx("div",{className:"user-name",children:ee.fullName}),a.jsx("div",{className:"user-role",children:ee.role}),a.jsx("div",{className:"user-status",children:ee.chatStatus==="ONLINE"?"Online":H(ee.lastSeen)})]})]},ee._id))})]}),a.jsxs("div",{className:"chat-rooms-list",children:[a.jsx("h4",{children:"Recent Chats"}),n.length===0?a.jsxs("div",{className:"no-chats",children:[a.jsx("p",{children:"No recent chats"}),a.jsx("button",{className:"btn-primary",onClick:()=>C(!0),children:"Start a conversation"})]}):n.map(ee=>a.jsxs("div",{className:`chat-room-item ${(s==null?void 0:s.chatId)===ee.chatId?"active":""}`,onClick:()=>x(ee.otherUser),children:[a.jsxs("div",{className:"user-avatar",children:[ee.otherUser.profilePicture?a.jsx("img",{src:ee.otherUser.profilePicture,alt:ee.otherUser.fullName}):a.jsx("div",{className:"avatar-placeholder",children:ee.otherUser.fullName.charAt(0).toUpperCase()}),a.jsx("span",{className:"status-dot",style:{backgroundColor:ie(ee.otherUser.chatStatus)}})]}),a.jsxs("div",{className:"room-info",children:[a.jsxs("div",{className:"room-header",children:[a.jsx("span",{className:"room-name",children:ee.otherUser.fullName}),a.jsx("span",{className:"room-time",children:q(ee.lastMessageTime)})]}),a.jsx("div",{className:"room-last-message",children:ee.lastMessage||"No messages yet"})]}),o[ee.otherUser._id]>0&&a.jsx("span",{className:"unread-count",children:o[ee.otherUser._id]})]},ee.chatId))]}),s&&a.jsxs("div",{className:"active-chat",children:[a.jsxs("div",{className:"chat-header-active",children:[a.jsxs("div",{className:"chat-user-info",children:[a.jsxs("div",{className:"user-avatar",children:[s.otherUser.profilePicture?a.jsx("img",{src:s.otherUser.profilePicture,alt:s.otherUser.fullName}):a.jsx("div",{className:"avatar-placeholder",children:s.otherUser.fullName.charAt(0).toUpperCase()}),a.jsx("span",{className:"status-dot",style:{backgroundColor:ie(s.otherUser.chatStatus)}})]}),a.jsxs("div",{children:[a.jsx("div",{className:"chat-user-name",children:s.otherUser.fullName}),a.jsx("div",{className:"chat-user-status",children:s.otherUser.chatStatus==="ONLINE"?"Online":`Last seen ${H(s.otherUser.lastSeen)}`})]})]}),a.jsx("button",{className:"btn-close",onClick:w,title:"Close chat",children:a.jsx("i",{className:"fas fa-times"})})]}),a.jsxs("div",{className:"messages-container",children:[L.map((ee,Q)=>a.jsxs("div",{className:`message ${ee.senderId._id===t._id?"sent":"received"}`,children:[a.jsx("div",{className:"message-content",children:ee.content}),a.jsxs("div",{className:"message-time",children:[q(ee.timestamp),ee.senderId._id===t._id&&a.jsx("span",{className:"message-status",children:ee.isRead?a.jsx("i",{className:"fas fa-check-double read"}):a.jsx("i",{className:"fas fa-check"})})]})]},ee._id)),c[s.otherUser._id]&&a.jsxs("div",{className:"typing-indicator",children:[a.jsxs("div",{className:"typing-dots",children:[a.jsx("span",{}),a.jsx("span",{}),a.jsx("span",{})]}),a.jsxs("span",{className:"typing-text",children:[s.otherUser.fullName," is typing..."]})]}),a.jsx("div",{ref:O})]}),a.jsx("form",{className:"message-input-form",onSubmit:B,children:a.jsxs("div",{className:"message-input-container",children:[a.jsx("input",{type:"text",value:v,onChange:ae,placeholder:"Type a message...",className:"message-input",disabled:!e}),a.jsx("button",{type:"submit",className:"send-button",disabled:!v.trim()||!e,children:a.jsx("i",{className:"fas fa-paper-plane"})})]})})]})]})]}):a.jsxs("div",{className:"chat-toggle-button",onClick:()=>b(!0),children:[a.jsx("i",{className:"fas fa-comments"}),Object.values(o).reduce((ee,Q)=>ee+Q,0)>0&&a.jsx("span",{className:"unread-badge",children:Object.values(o).reduce((ee,Q)=>ee+Q,0)})]})},OK=()=>{const{user:t,token:e}=Mt(),{socket:r,isConnected:n}=_1(),[s,i]=A.useState(!1);if(!s)return a.jsx("button",{onClick:()=>i(!0),style:{position:"fixed",top:"10px",right:"10px"}});const o=async()=>{try{const p=await fetch("https://crm-backend-o36v.onrender.com/api/chat/users",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(p.ok){const g=await p.json();alert(`✅ API Connection OK! Found ${g.data.length} users`)}else alert(`❌ API Error: ${p.status} ${p.statusText}`)}catch(h){alert(`❌ Connection Error: ${h.message}`)}},c=()=>{r?(r.emit("test-connection",{message:"Hello from debug"}),alert("✅ Socket test message sent")):alert("❌ No socket connection available")},u=async()=>{"Notification"in window?await Notification.requestPermission()==="granted"?(new Notification("Chat Notifications Enabled!",{body:"You will now receive chat notifications.",icon:"/favicon.ico"}),alert("✅ Notifications enabled!")):alert("❌ Notifications denied"):alert("❌ Notifications not supported")};return a.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",background:"white",border:"2px solid #ccc",borderRadius:"8px",padding:"15px",zIndex:9999,minWidth:"300px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[a.jsx("h3",{style:{margin:"0 0 10px 0",color:"#333"},children:"🐛 Chat Debug"}),a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("strong",{children:"User:"})," ",(t==null?void 0:t.fullName)||"Not logged in"]}),a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("strong",{children:"Token:"})," ",e?"✅ Present":"❌ Missing",e&&a.jsxs("div",{style:{fontSize:"10px",color:"#666",marginTop:"2px"},children:[e.substring(0,20),"..."]})]}),a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("strong",{children:"Socket:"})," ",r?"✅ Created":"❌ Not created"]}),a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("strong",{children:"Connected:"})," ",n?"✅ Yes":"❌ No"]}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("strong",{children:"Server URL:"})," ","https://crm-backend-o36v.onrender.com"]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[a.jsx("button",{onClick:o,style:{padding:"8px 12px",background:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Test API Connection"}),a.jsx("button",{onClick:c,style:{padding:"8px 12px",background:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Test Socket Connection"}),a.jsx("button",{onClick:u,style:{padding:"8px 12px",background:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Request Permission"}),a.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"8px 12px",background:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}),a.jsx("div",{style:{marginTop:"12px",fontSize:"11px",color:"#6b7280"},children:"💡 Check browser console for detailed logs"})]})},MK=()=>{const{user:t}=Mt();return A.useEffect(()=>{if(t&&t._id)return console.log("🔔 Initializing notifications for user:",t.fullName),No.connect(t._id),No.requestNotificationPermission(),()=>{No.disconnect()}},[t]),null},LK=()=>a.jsx(f5,{children:a.jsx(G6,{children:a.jsx(NK,{children:a.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-all duration-200 ease-out",children:[a.jsx(MK,{}),a.jsx(DK,{}),a.jsx(RK,{}),a.jsx(FK,{}),a.jsx(OK,{}),a.jsx(d8,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})}),IK=mT.createRoot(document.getElementById("root"));IK.render(a.jsx(A.StrictMode,{children:a.jsx(pT,{children:a.jsx(LK,{})})}));
