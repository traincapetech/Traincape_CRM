var YT=Object.defineProperty;var KT=(t,e,r)=>e in t?YT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var bt=(t,e,r)=>KT(t,typeof e!="symbol"?e+"":e,r);function GT(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function Vg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vm={exports:{}},kc={},Hm={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function qT(){if(Iv)return Dt;Iv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(X){return X===null||typeof X!="object"?null:(X=p&&X[p]||X["@@iterator"],typeof X=="function"?X:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function v(X,F,U){this.props=X,this.context=F,this.refs=b,this.updater=U||x}v.prototype.isReactComponent={},v.prototype.setState=function(X,F){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,F,"setState")},v.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function N(){}N.prototype=v.prototype;function E(X,F,U){this.props=X,this.context=F,this.refs=b,this.updater=U||x}var j=E.prototype=new N;j.constructor=E,w(j,v.prototype),j.isPureReactComponent=!0;var D=Array.isArray,T=Object.prototype.hasOwnProperty,M={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function P(X,F,U){var z,k={},ce=null,ee=null;if(F!=null)for(z in F.ref!==void 0&&(ee=F.ref),F.key!==void 0&&(ce=""+F.key),F)T.call(F,z)&&!C.hasOwnProperty(z)&&(k[z]=F[z]);var he=arguments.length-2;if(he===1)k.children=U;else if(1<he){for(var ye=Array(he),ke=0;ke<he;ke++)ye[ke]=arguments[ke+2];k.children=ye}if(X&&X.defaultProps)for(z in he=X.defaultProps,he)k[z]===void 0&&(k[z]=he[z]);return{$$typeof:t,type:X,key:ce,ref:ee,props:k,_owner:M.current}}function I(X,F){return{$$typeof:t,type:X.type,key:F,ref:X.ref,props:X.props,_owner:X._owner}}function G(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function J(X){var F={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(U){return F[U]})}var H=/\/+/g;function ie(X,F){return typeof X=="object"&&X!==null&&X.key!=null?J(""+X.key):F.toString(36)}function Z(X,F,U,z,k){var ce=typeof X;(ce==="undefined"||ce==="boolean")&&(X=null);var ee=!1;if(X===null)ee=!0;else switch(ce){case"string":case"number":ee=!0;break;case"object":switch(X.$$typeof){case t:case e:ee=!0}}if(ee)return ee=X,k=k(ee),X=z===""?"."+ie(ee,0):z,D(k)?(U="",X!=null&&(U=X.replace(H,"$&/")+"/"),Z(k,F,U,"",function(ke){return ke})):k!=null&&(G(k)&&(k=I(k,U+(!k.key||ee&&ee.key===k.key?"":(""+k.key).replace(H,"$&/")+"/")+X)),F.push(k)),1;if(ee=0,z=z===""?".":z+":",D(X))for(var he=0;he<X.length;he++){ce=X[he];var ye=z+ie(ce,he);ee+=Z(ce,F,U,ye,k)}else if(ye=g(X),typeof ye=="function")for(X=ye.call(X),he=0;!(ce=X.next()).done;)ce=ce.value,ye=z+ie(ce,he++),ee+=Z(ce,F,U,ye,k);else if(ce==="object")throw F=String(X),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return ee}function O(X,F,U){if(X==null)return X;var z=[],k=0;return Z(X,z,"","",function(ce){return F.call(U,ce,k++)}),z}function K(X){if(X._status===-1){var F=X._result;F=F(),F.then(function(U){(X._status===0||X._status===-1)&&(X._status=1,X._result=U)},function(U){(X._status===0||X._status===-1)&&(X._status=2,X._result=U)}),X._status===-1&&(X._status=0,X._result=F)}if(X._status===1)return X._result.default;throw X._result}var W={current:null},Y={transition:null},oe={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:Y,ReactCurrentOwner:M};function se(){throw Error("act(...) is not supported in production builds of React.")}return Dt.Children={map:O,forEach:function(X,F,U){O(X,function(){F.apply(this,arguments)},U)},count:function(X){var F=0;return O(X,function(){F++}),F},toArray:function(X){return O(X,function(F){return F})||[]},only:function(X){if(!G(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Dt.Component=v,Dt.Fragment=r,Dt.Profiler=s,Dt.PureComponent=E,Dt.StrictMode=n,Dt.Suspense=d,Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Dt.act=se,Dt.cloneElement=function(X,F,U){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var z=w({},X.props),k=X.key,ce=X.ref,ee=X._owner;if(F!=null){if(F.ref!==void 0&&(ce=F.ref,ee=M.current),F.key!==void 0&&(k=""+F.key),X.type&&X.type.defaultProps)var he=X.type.defaultProps;for(ye in F)T.call(F,ye)&&!C.hasOwnProperty(ye)&&(z[ye]=F[ye]===void 0&&he!==void 0?he[ye]:F[ye])}var ye=arguments.length-2;if(ye===1)z.children=U;else if(1<ye){he=Array(ye);for(var ke=0;ke<ye;ke++)he[ke]=arguments[ke+2];z.children=he}return{$$typeof:t,type:X.type,key:k,ref:ce,props:z,_owner:ee}},Dt.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:a,_context:X},X.Consumer=X},Dt.createElement=P,Dt.createFactory=function(X){var F=P.bind(null,X);return F.type=X,F},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(X){return{$$typeof:c,render:X}},Dt.isValidElement=G,Dt.lazy=function(X){return{$$typeof:h,_payload:{_status:-1,_result:X},_init:K}},Dt.memo=function(X,F){return{$$typeof:f,type:X,compare:F===void 0?null:F}},Dt.startTransition=function(X){var F=Y.transition;Y.transition={};try{X()}finally{Y.transition=F}},Dt.unstable_act=se,Dt.useCallback=function(X,F){return W.current.useCallback(X,F)},Dt.useContext=function(X){return W.current.useContext(X)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(X){return W.current.useDeferredValue(X)},Dt.useEffect=function(X,F){return W.current.useEffect(X,F)},Dt.useId=function(){return W.current.useId()},Dt.useImperativeHandle=function(X,F,U){return W.current.useImperativeHandle(X,F,U)},Dt.useInsertionEffect=function(X,F){return W.current.useInsertionEffect(X,F)},Dt.useLayoutEffect=function(X,F){return W.current.useLayoutEffect(X,F)},Dt.useMemo=function(X,F){return W.current.useMemo(X,F)},Dt.useReducer=function(X,F,U){return W.current.useReducer(X,F,U)},Dt.useRef=function(X){return W.current.useRef(X)},Dt.useState=function(X){return W.current.useState(X)},Dt.useSyncExternalStore=function(X,F,U){return W.current.useSyncExternalStore(X,F,U)},Dt.useTransition=function(){return W.current.useTransition()},Dt.version="18.3.1",Dt}var Bv;function Ih(){return Bv||(Bv=1,Hm.exports=qT()),Hm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function XT(){if(Uv)return kc;Uv=1;var t=Ih(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(c,d,f){var h,p={},g=null,x=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(x=d.ref);for(h in d)n.call(d,h)&&!a.hasOwnProperty(h)&&(p[h]=d[h]);if(c&&c.defaultProps)for(h in d=c.defaultProps,d)p[h]===void 0&&(p[h]=d[h]);return{$$typeof:e,type:c,key:g,ref:x,props:p,_owner:s.current}}return kc.Fragment=r,kc.jsx=o,kc.jsxs=o,kc}var zv;function JT(){return zv||(zv=1,Vm.exports=XT()),Vm.exports}var i=JT(),A=Ih();const dt=Vg(A),QT=GT({__proto__:null,default:dt},[A]);var sf={},Wm={exports:{}},Vn={},$m={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function ZT(){return Vv||(Vv=1,function(t){function e(Y,oe){var se=Y.length;Y.push(oe);e:for(;0<se;){var X=se-1>>>1,F=Y[X];if(0<s(F,oe))Y[X]=oe,Y[se]=F,se=X;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var oe=Y[0],se=Y.pop();if(se!==oe){Y[0]=se;e:for(var X=0,F=Y.length,U=F>>>1;X<U;){var z=2*(X+1)-1,k=Y[z],ce=z+1,ee=Y[ce];if(0>s(k,se))ce<F&&0>s(ee,k)?(Y[X]=ee,Y[ce]=se,X=ce):(Y[X]=k,Y[z]=se,X=z);else if(ce<F&&0>s(ee,se))Y[X]=ee,Y[ce]=se,X=ce;else break e}}return oe}function s(Y,oe){var se=Y.sortIndex-oe.sortIndex;return se!==0?se:Y.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],f=[],h=1,p=null,g=3,x=!1,w=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Y){for(var oe=r(f);oe!==null;){if(oe.callback===null)n(f);else if(oe.startTime<=Y)n(f),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=r(f)}}function D(Y){if(b=!1,j(Y),!w)if(r(d)!==null)w=!0,K(T);else{var oe=r(f);oe!==null&&W(D,oe.startTime-Y)}}function T(Y,oe){w=!1,b&&(b=!1,N(P),P=-1),x=!0;var se=g;try{for(j(oe),p=r(d);p!==null&&(!(p.expirationTime>oe)||Y&&!J());){var X=p.callback;if(typeof X=="function"){p.callback=null,g=p.priorityLevel;var F=X(p.expirationTime<=oe);oe=t.unstable_now(),typeof F=="function"?p.callback=F:p===r(d)&&n(d),j(oe)}else n(d);p=r(d)}if(p!==null)var U=!0;else{var z=r(f);z!==null&&W(D,z.startTime-oe),U=!1}return U}finally{p=null,g=se,x=!1}}var M=!1,C=null,P=-1,I=5,G=-1;function J(){return!(t.unstable_now()-G<I)}function H(){if(C!==null){var Y=t.unstable_now();G=Y;var oe=!0;try{oe=C(!0,Y)}finally{oe?ie():(M=!1,C=null)}}else M=!1}var ie;if(typeof E=="function")ie=function(){E(H)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,O=Z.port2;Z.port1.onmessage=H,ie=function(){O.postMessage(null)}}else ie=function(){v(H,0)};function K(Y){C=Y,M||(M=!0,ie())}function W(Y,oe){P=v(function(){Y(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){w||x||(w=!0,K(T))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var oe=3;break;default:oe=g}var se=g;g=oe;try{return Y()}finally{g=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var se=g;g=Y;try{return oe()}finally{g=se}},t.unstable_scheduleCallback=function(Y,oe,se){var X=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?X+se:X):se=X,Y){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=se+F,Y={id:h++,callback:oe,priorityLevel:Y,startTime:se,expirationTime:F,sortIndex:-1},se>X?(Y.sortIndex=se,e(f,Y),r(d)===null&&Y===r(f)&&(b?(N(P),P=-1):b=!0,W(D,se-X))):(Y.sortIndex=F,e(d,Y),w||x||(w=!0,K(T))),Y},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(Y){var oe=g;return function(){var se=g;g=oe;try{return Y.apply(this,arguments)}finally{g=se}}}}(Ym)),Ym}var Hv;function eE(){return Hv||(Hv=1,$m.exports=ZT()),$m.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function tE(){if(Wv)return Vn;Wv=1;var t=Ih(),e=eE();function r(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(s[l]=u,l=0;l<u.length;l++)n.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(l){return d.call(p,l)?!0:d.call(h,l)?!1:f.test(l)?p[l]=!0:(h[l]=!0,!1)}function x(l,u,m,y){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,u,m,y){if(u===null||typeof u>"u"||x(l,u,m,y))return!0;if(y)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function b(l,u,m,y,S,_,R){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=S,this.mustUseProperty=m,this.propertyName=l,this.type=u,this.sanitizeURL=_,this.removeEmptyString=R}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){v[l]=new b(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];v[u]=new b(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){v[l]=new b(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){v[l]=new b(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){v[l]=new b(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){v[l]=new b(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){v[l]=new b(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){v[l]=new b(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){v[l]=new b(l,5,!1,l.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function E(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(N,E);v[u]=new b(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(N,E);v[u]=new b(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(N,E);v[u]=new b(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){v[l]=new b(l,1,!1,l.toLowerCase(),null,!1,!1)}),v.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){v[l]=new b(l,1,!1,l.toLowerCase(),null,!0,!0)});function j(l,u,m,y){var S=v.hasOwnProperty(u)?v[u]:null;(S!==null?S.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,m,S,y)&&(m=null),y||S===null?g(u)&&(m===null?l.removeAttribute(u):l.setAttribute(u,""+m)):S.mustUseProperty?l[S.propertyName]=m===null?S.type===3?!1:"":m:(u=S.attributeName,y=S.attributeNamespace,m===null?l.removeAttribute(u):(S=S.type,m=S===3||S===4&&m===!0?"":""+m,y?l.setAttributeNS(y,u,m):l.setAttribute(u,m))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),M=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),J=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),Y=Symbol.iterator;function oe(l){return l===null||typeof l!="object"?null:(l=Y&&l[Y]||l["@@iterator"],typeof l=="function"?l:null)}var se=Object.assign,X;function F(l){if(X===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);X=u&&u[1]||""}return`
`+X+l}var U=!1;function z(l,u){if(!l||U)return"";U=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ce){var y=Ce}Reflect.construct(l,[],u)}else{try{u.call()}catch(Ce){y=Ce}l.call(u.prototype)}else{try{throw Error()}catch(Ce){y=Ce}l()}}catch(Ce){if(Ce&&y&&typeof Ce.stack=="string"){for(var S=Ce.stack.split(`
`),_=y.stack.split(`
`),R=S.length-1,ae=_.length-1;1<=R&&0<=ae&&S[R]!==_[ae];)ae--;for(;1<=R&&0<=ae;R--,ae--)if(S[R]!==_[ae]){if(R!==1||ae!==1)do if(R--,ae--,0>ae||S[R]!==_[ae]){var ue=`
`+S[R].replace(" at new "," at ");return l.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",l.displayName)),ue}while(1<=R&&0<=ae);break}}}finally{U=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?F(l):""}function k(l){switch(l.tag){case 5:return F(l.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return l=z(l.type,!1),l;case 11:return l=z(l.type.render,!1),l;case 1:return l=z(l.type,!0),l;default:return""}}function ce(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case C:return"Fragment";case M:return"Portal";case I:return"Profiler";case P:return"StrictMode";case ie:return"Suspense";case Z:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case J:return(l.displayName||"Context")+".Consumer";case G:return(l._context.displayName||"Context")+".Provider";case H:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case O:return u=l.displayName||null,u!==null?u:ce(l.type)||"Memo";case K:u=l._payload,l=l._init;try{return ce(l(u))}catch{}}return null}function ee(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(u);case 8:return u===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function he(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ye(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ke(l){var u=ye(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),y=""+l[u];if(!l.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,_=m.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return S.call(this)},set:function(R){y=""+R,_.call(this,R)}}),Object.defineProperty(l,u,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(R){y=""+R},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Ke(l){l._valueTracker||(l._valueTracker=ke(l))}function He(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var m=u.getValue(),y="";return l&&(y=ye(l)?l.checked?"true":"false":l.value),l=y,l!==m?(u.setValue(l),!0):!1}function rt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Ve(l,u){var m=u.checked;return se({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function de(l,u){var m=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;m=he(u.value!=null?u.value:m),l._wrapperState={initialChecked:y,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ee(l,u){u=u.checked,u!=null&&j(l,"checked",u,!1)}function je(l,u){Ee(l,u);var m=he(u.value),y=u.type;if(m!=null)y==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(y==="submit"||y==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?nt(l,u.type,m):u.hasOwnProperty("defaultValue")&&nt(l,u.type,he(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function Ze(l,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,m||u===l.value||(l.value=u),l.defaultValue=u}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function nt(l,u,m){(u!=="number"||rt(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var ft=Array.isArray;function st(l,u,m,y){if(l=l.options,u){u={};for(var S=0;S<m.length;S++)u["$"+m[S]]=!0;for(m=0;m<l.length;m++)S=u.hasOwnProperty("$"+l[m].value),l[m].selected!==S&&(l[m].selected=S),S&&y&&(l[m].defaultSelected=!0)}else{for(m=""+he(m),u=null,S=0;S<l.length;S++){if(l[S].value===m){l[S].selected=!0,y&&(l[S].defaultSelected=!0);return}u!==null||l[S].disabled||(u=l[S])}u!==null&&(u.selected=!0)}}function Ct(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Se(l,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(r(92));if(ft(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),m=u}l._wrapperState={initialValue:he(m)}}function Be(l,u){var m=he(u.value),y=he(u.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),u.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),y!=null&&(l.defaultValue=""+y)}function Je(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function Re(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?Re(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var ct,it=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,y,S){MSApp.execUnsafeLocalFunction(function(){return l(u,m,y,S)})}:l}(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(ct=ct||document.createElement("div"),ct.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=ct.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function vt(l,u){if(u){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=u;return}}l.textContent=u}var rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qr=["Webkit","ms","Moz","O"];Object.keys(rr).forEach(function(l){Qr.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),rr[u]=rr[l]})});function Tn(l,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||rr.hasOwnProperty(l)&&rr[l]?(""+u).trim():u+"px"}function Pt(l,u){l=l.style;for(var m in u)if(u.hasOwnProperty(m)){var y=m.indexOf("--")===0,S=Tn(m,u[m],y);m==="float"&&(m="cssFloat"),y?l.setProperty(m,S):l[m]=S}}var Qn=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zn(l,u){if(u){if(Qn[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Ps(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mn=null;function hn(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var zr=null,V=null,Te=null;function Ye(l){if(l=mc(l)){if(typeof zr!="function")throw Error(r(280));var u=l.stateNode;u&&(u=vd(u),zr(l.stateNode,l.type,u))}}function We(l){V?Te?Te.push(l):Te=[l]:V=l}function Qe(){if(V){var l=V,u=Te;if(Te=V=null,Ye(l),u)for(l=0;l<u.length;l++)Ye(u[l])}}function ht(l,u){return l(u)}function Bt(){}var Xe=!1;function Zr(l,u,m){if(Xe)return l(u,m);Xe=!0;try{return ht(l,u,m)}finally{Xe=!1,(V!==null||Te!==null)&&(Bt(),Qe())}}function Vr(l,u){var m=l.stateNode;if(m===null)return null;var y=vd(m);if(y===null)return null;m=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(r(231,u,typeof m));return m}var Ar=!1;if(c)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Ar=!1}function sr(l,u,m,y,S,_,R,ae,ue){var Ce=Array.prototype.slice.call(arguments,3);try{u.apply(m,Ce)}catch(Le){this.onError(Le)}}var en=!1,En=null,L=!1,re=null,q={onError:function(l){en=!0,En=l}};function Q(l,u,m,y,S,_,R,ae,ue){en=!1,En=null,sr.apply(q,arguments)}function te(l,u,m,y,S,_,R,ae,ue){if(Q.apply(this,arguments),en){if(en){var Ce=En;en=!1,En=null}else throw Error(r(198));L||(L=!0,re=Ce)}}function ne(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function xe(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function Pe(l){if(ne(l)!==l)throw Error(r(188))}function ve(l){var u=l.alternate;if(!u){if(u=ne(l),u===null)throw Error(r(188));return u!==l?null:l}for(var m=l,y=u;;){var S=m.return;if(S===null)break;var _=S.alternate;if(_===null){if(y=S.return,y!==null){m=y;continue}break}if(S.child===_.child){for(_=S.child;_;){if(_===m)return Pe(S),l;if(_===y)return Pe(S),u;_=_.sibling}throw Error(r(188))}if(m.return!==y.return)m=S,y=_;else{for(var R=!1,ae=S.child;ae;){if(ae===m){R=!0,m=S,y=_;break}if(ae===y){R=!0,y=S,m=_;break}ae=ae.sibling}if(!R){for(ae=_.child;ae;){if(ae===m){R=!0,m=_,y=S;break}if(ae===y){R=!0,y=_,m=S;break}ae=ae.sibling}if(!R)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?l:u}function be(l){return l=ve(l),l!==null?_e(l):null}function _e(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=_e(l);if(u!==null)return u;l=l.sibling}return null}var B=e.unstable_scheduleCallback,le=e.unstable_cancelCallback,pe=e.unstable_shouldYield,me=e.unstable_requestPaint,Ne=e.unstable_now,Ie=e.unstable_getCurrentPriorityLevel,et=e.unstable_ImmediatePriority,gt=e.unstable_UserBlockingPriority,_t=e.unstable_NormalPriority,Rt=e.unstable_LowPriority,Et=e.unstable_IdlePriority,pr=null,Ft=null;function ar(l){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(pr,l,void 0,(l.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Js,es=Math.log,Va=Math.LN2;function Js(l){return l>>>=0,l===0?32:31-(es(l)/Va|0)|0}var Li=64,Ii=4194304;function Bi(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Lo(l,u){var m=l.pendingLanes;if(m===0)return 0;var y=0,S=l.suspendedLanes,_=l.pingedLanes,R=m&268435455;if(R!==0){var ae=R&~S;ae!==0?y=Bi(ae):(_&=R,_!==0&&(y=Bi(_)))}else R=m&~S,R!==0?y=Bi(R):_!==0&&(y=Bi(_));if(y===0)return 0;if(u!==0&&u!==y&&(u&S)===0&&(S=y&-y,_=u&-u,S>=_||S===16&&(_&4194240)!==0))return u;if((y&4)!==0&&(y|=m&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=y;0<u;)m=31-kt(u),S=1<<m,y|=l[m],u&=~S;return y}function Gt(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wt(l,u){for(var m=l.suspendedLanes,y=l.pingedLanes,S=l.expirationTimes,_=l.pendingLanes;0<_;){var R=31-kt(_),ae=1<<R,ue=S[R];ue===-1?((ae&m)===0||(ae&y)!==0)&&(S[R]=Gt(ae,u)):ue<=u&&(l.expiredLanes|=ae),_&=~ae}}function Ui(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Qs(){var l=Li;return Li<<=1,(Li&4194240)===0&&(Li=64),l}function Ha(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function Lr(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-kt(u),l[u]=m}function Ds(l,u){var m=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var y=l.eventTimes;for(l=l.expirationTimes;0<m;){var S=31-kt(m),_=1<<S;u[S]=0,y[S]=-1,l[S]=-1,m&=~_}}function fs(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var y=31-kt(m),S=1<<y;S&u|l[y]&u&&(l[y]|=u),m&=~S}}var Ot=0;function zi(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var pa,hs,Jl,Vi,Io,Wa=!1,ga=[],Rs=null,ts=null,rs=null,Ql=new Map,Zl=new Map,$a=[],mj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w1(l,u){switch(l){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Ql.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(u.pointerId)}}function ec(l,u,m,y,S,_){return l===null||l.nativeEvent!==_?(l={blockedOn:u,domEventName:m,eventSystemFlags:y,nativeEvent:_,targetContainers:[S]},u!==null&&(u=mc(u),u!==null&&hs(u)),l):(l.eventSystemFlags|=y,u=l.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),l)}function pj(l,u,m,y,S){switch(u){case"focusin":return Rs=ec(Rs,l,u,m,y,S),!0;case"dragenter":return ts=ec(ts,l,u,m,y,S),!0;case"mouseover":return rs=ec(rs,l,u,m,y,S),!0;case"pointerover":var _=S.pointerId;return Ql.set(_,ec(Ql.get(_)||null,l,u,m,y,S)),!0;case"gotpointercapture":return _=S.pointerId,Zl.set(_,ec(Zl.get(_)||null,l,u,m,y,S)),!0}return!1}function S1(l){var u=Hi(l.target);if(u!==null){var m=ne(u);if(m!==null){if(u=m.tag,u===13){if(u=xe(m),u!==null){l.blockedOn=u,Io(l.priority,function(){Jl(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ad(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var m=p0(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var y=new m.constructor(m.type,m);Mn=y,m.target.dispatchEvent(y),Mn=null}else return u=mc(m),u!==null&&hs(u),l.blockedOn=m,!1;u.shift()}return!0}function _1(l,u,m){ad(l)&&m.delete(u)}function gj(){Wa=!1,Rs!==null&&ad(Rs)&&(Rs=null),ts!==null&&ad(ts)&&(ts=null),rs!==null&&ad(rs)&&(rs=null),Ql.forEach(_1),Zl.forEach(_1)}function tc(l,u){l.blockedOn===u&&(l.blockedOn=null,Wa||(Wa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gj)))}function rc(l){function u(S){return tc(S,l)}if(0<ga.length){tc(ga[0],l);for(var m=1;m<ga.length;m++){var y=ga[m];y.blockedOn===l&&(y.blockedOn=null)}}for(Rs!==null&&tc(Rs,l),ts!==null&&tc(ts,l),rs!==null&&tc(rs,l),Ql.forEach(u),Zl.forEach(u),m=0;m<$a.length;m++)y=$a[m],y.blockedOn===l&&(y.blockedOn=null);for(;0<$a.length&&(m=$a[0],m.blockedOn===null);)S1(m),m.blockedOn===null&&$a.shift()}var Bo=D.ReactCurrentBatchConfig,id=!0;function xj(l,u,m,y){var S=Ot,_=Bo.transition;Bo.transition=null;try{Ot=1,m0(l,u,m,y)}finally{Ot=S,Bo.transition=_}}function yj(l,u,m,y){var S=Ot,_=Bo.transition;Bo.transition=null;try{Ot=4,m0(l,u,m,y)}finally{Ot=S,Bo.transition=_}}function m0(l,u,m,y){if(id){var S=p0(l,u,m,y);if(S===null)D0(l,u,y,od,m),w1(l,y);else if(pj(S,l,u,m,y))y.stopPropagation();else if(w1(l,y),u&4&&-1<mj.indexOf(l)){for(;S!==null;){var _=mc(S);if(_!==null&&pa(_),_=p0(l,u,m,y),_===null&&D0(l,u,y,od,m),_===S)break;S=_}S!==null&&y.stopPropagation()}else D0(l,u,y,null,m)}}var od=null;function p0(l,u,m,y){if(od=null,l=hn(y),l=Hi(l),l!==null)if(u=ne(l),u===null)l=null;else if(m=u.tag,m===13){if(l=xe(u),l!==null)return l;l=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return od=l,null}function N1(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ie()){case et:return 1;case gt:return 4;case _t:case Rt:return 16;case Et:return 536870912;default:return 16}default:return 16}}var Ya=null,g0=null,ld=null;function C1(){if(ld)return ld;var l,u=g0,m=u.length,y,S="value"in Ya?Ya.value:Ya.textContent,_=S.length;for(l=0;l<m&&u[l]===S[l];l++);var R=m-l;for(y=1;y<=R&&u[m-y]===S[_-y];y++);return ld=S.slice(l,1<y?1-y:void 0)}function cd(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function ud(){return!0}function j1(){return!1}function ns(l){function u(m,y,S,_,R){this._reactName=m,this._targetInst=S,this.type=y,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var ae in l)l.hasOwnProperty(ae)&&(m=l[ae],this[ae]=m?m(_):_[ae]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ud:j1,this.isPropagationStopped=j1,this}return se(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ud)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ud)},persist:function(){},isPersistent:ud}),u}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x0=ns(Uo),nc=se({},Uo,{view:0,detail:0}),vj=ns(nc),y0,v0,sc,dd=se({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:w0,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==sc&&(sc&&l.type==="mousemove"?(y0=l.screenX-sc.screenX,v0=l.screenY-sc.screenY):v0=y0=0,sc=l),y0)},movementY:function(l){return"movementY"in l?l.movementY:v0}}),T1=ns(dd),bj=se({},dd,{dataTransfer:0}),wj=ns(bj),Sj=se({},nc,{relatedTarget:0}),b0=ns(Sj),_j=se({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),Nj=ns(_j),Cj=se({},Uo,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),jj=ns(Cj),Tj=se({},Uo,{data:0}),E1=ns(Tj),Ej={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pj(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Aj[l])?!!u[l]:!1}function w0(){return Pj}var Dj=se({},nc,{key:function(l){if(l.key){var u=Ej[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=cd(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?kj[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:w0,charCode:function(l){return l.type==="keypress"?cd(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?cd(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Rj=ns(Dj),Fj=se({},dd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k1=ns(Fj),Oj=se({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:w0}),Mj=ns(Oj),Lj=se({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ij=ns(Lj),Bj=se({},dd,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Uj=ns(Bj),zj=[9,13,27,32],S0=c&&"CompositionEvent"in window,ac=null;c&&"documentMode"in document&&(ac=document.documentMode);var Vj=c&&"TextEvent"in window&&!ac,A1=c&&(!S0||ac&&8<ac&&11>=ac),P1=" ",D1=!1;function R1(l,u){switch(l){case"keyup":return zj.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F1(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var zo=!1;function Hj(l,u){switch(l){case"compositionend":return F1(u);case"keypress":return u.which!==32?null:(D1=!0,P1);case"textInput":return l=u.data,l===P1&&D1?null:l;default:return null}}function Wj(l,u){if(zo)return l==="compositionend"||!S0&&R1(l,u)?(l=C1(),ld=g0=Ya=null,zo=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return A1&&u.locale!=="ko"?null:u.data;default:return null}}var $j={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O1(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!$j[l.type]:u==="textarea"}function M1(l,u,m,y){We(y),u=gd(u,"onChange"),0<u.length&&(m=new x0("onChange","change",null,m,y),l.push({event:m,listeners:u}))}var ic=null,oc=null;function Yj(l){ey(l,0)}function fd(l){var u=Yo(l);if(He(u))return l}function Kj(l,u){if(l==="change")return u}var L1=!1;if(c){var _0;if(c){var N0="oninput"in document;if(!N0){var I1=document.createElement("div");I1.setAttribute("oninput","return;"),N0=typeof I1.oninput=="function"}_0=N0}else _0=!1;L1=_0&&(!document.documentMode||9<document.documentMode)}function B1(){ic&&(ic.detachEvent("onpropertychange",U1),oc=ic=null)}function U1(l){if(l.propertyName==="value"&&fd(oc)){var u=[];M1(u,oc,l,hn(l)),Zr(Yj,u)}}function Gj(l,u,m){l==="focusin"?(B1(),ic=u,oc=m,ic.attachEvent("onpropertychange",U1)):l==="focusout"&&B1()}function qj(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return fd(oc)}function Xj(l,u){if(l==="click")return fd(u)}function Jj(l,u){if(l==="input"||l==="change")return fd(u)}function Qj(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Fs=typeof Object.is=="function"?Object.is:Qj;function lc(l,u){if(Fs(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),y=Object.keys(u);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var S=m[y];if(!d.call(u,S)||!Fs(l[S],u[S]))return!1}return!0}function z1(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function V1(l,u){var m=z1(l);l=0;for(var y;m;){if(m.nodeType===3){if(y=l+m.textContent.length,l<=u&&y>=u)return{node:m,offset:u-l};l=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=z1(m)}}function H1(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?H1(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function W1(){for(var l=window,u=rt();u instanceof l.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)l=u.contentWindow;else break;u=rt(l.document)}return u}function C0(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function Zj(l){var u=W1(),m=l.focusedElem,y=l.selectionRange;if(u!==m&&m&&m.ownerDocument&&H1(m.ownerDocument.documentElement,m)){if(y!==null&&C0(m)){if(u=y.start,l=y.end,l===void 0&&(l=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(l,m.value.length);else if(l=(u=m.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var S=m.textContent.length,_=Math.min(y.start,S);y=y.end===void 0?_:Math.min(y.end,S),!l.extend&&_>y&&(S=y,y=_,_=S),S=V1(m,_);var R=V1(m,y);S&&R&&(l.rangeCount!==1||l.anchorNode!==S.node||l.anchorOffset!==S.offset||l.focusNode!==R.node||l.focusOffset!==R.offset)&&(u=u.createRange(),u.setStart(S.node,S.offset),l.removeAllRanges(),_>y?(l.addRange(u),l.extend(R.node,R.offset)):(u.setEnd(R.node,R.offset),l.addRange(u)))}}for(u=[],l=m;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)l=u[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var eT=c&&"documentMode"in document&&11>=document.documentMode,Vo=null,j0=null,cc=null,T0=!1;function $1(l,u,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;T0||Vo==null||Vo!==rt(y)||(y=Vo,"selectionStart"in y&&C0(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),cc&&lc(cc,y)||(cc=y,y=gd(j0,"onSelect"),0<y.length&&(u=new x0("onSelect","select",null,u,m),l.push({event:u,listeners:y}),u.target=Vo)))}function hd(l,u){var m={};return m[l.toLowerCase()]=u.toLowerCase(),m["Webkit"+l]="webkit"+u,m["Moz"+l]="moz"+u,m}var Ho={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},E0={},Y1={};c&&(Y1=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function md(l){if(E0[l])return E0[l];if(!Ho[l])return l;var u=Ho[l],m;for(m in u)if(u.hasOwnProperty(m)&&m in Y1)return E0[l]=u[m];return l}var K1=md("animationend"),G1=md("animationiteration"),q1=md("animationstart"),X1=md("transitionend"),J1=new Map,Q1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ka(l,u){J1.set(l,u),a(u,[l])}for(var k0=0;k0<Q1.length;k0++){var A0=Q1[k0],tT=A0.toLowerCase(),rT=A0[0].toUpperCase()+A0.slice(1);Ka(tT,"on"+rT)}Ka(K1,"onAnimationEnd"),Ka(G1,"onAnimationIteration"),Ka(q1,"onAnimationStart"),Ka("dblclick","onDoubleClick"),Ka("focusin","onFocus"),Ka("focusout","onBlur"),Ka(X1,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nT=new Set("cancel close invalid load scroll toggle".split(" ").concat(uc));function Z1(l,u,m){var y=l.type||"unknown-event";l.currentTarget=m,te(y,u,void 0,l),l.currentTarget=null}function ey(l,u){u=(u&4)!==0;for(var m=0;m<l.length;m++){var y=l[m],S=y.event;y=y.listeners;e:{var _=void 0;if(u)for(var R=y.length-1;0<=R;R--){var ae=y[R],ue=ae.instance,Ce=ae.currentTarget;if(ae=ae.listener,ue!==_&&S.isPropagationStopped())break e;Z1(S,ae,Ce),_=ue}else for(R=0;R<y.length;R++){if(ae=y[R],ue=ae.instance,Ce=ae.currentTarget,ae=ae.listener,ue!==_&&S.isPropagationStopped())break e;Z1(S,ae,Ce),_=ue}}}if(L)throw l=re,L=!1,re=null,l}function ir(l,u){var m=u[I0];m===void 0&&(m=u[I0]=new Set);var y=l+"__bubble";m.has(y)||(ty(u,l,2,!1),m.add(y))}function P0(l,u,m){var y=0;u&&(y|=4),ty(m,l,y,u)}var pd="_reactListening"+Math.random().toString(36).slice(2);function dc(l){if(!l[pd]){l[pd]=!0,n.forEach(function(m){m!=="selectionchange"&&(nT.has(m)||P0(m,!1,l),P0(m,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[pd]||(u[pd]=!0,P0("selectionchange",!1,u))}}function ty(l,u,m,y){switch(N1(u)){case 1:var S=xj;break;case 4:S=yj;break;default:S=m0}m=S.bind(null,u,m,l),S=void 0,!Ar||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),y?S!==void 0?l.addEventListener(u,m,{capture:!0,passive:S}):l.addEventListener(u,m,!0):S!==void 0?l.addEventListener(u,m,{passive:S}):l.addEventListener(u,m,!1)}function D0(l,u,m,y,S){var _=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var R=y.tag;if(R===3||R===4){var ae=y.stateNode.containerInfo;if(ae===S||ae.nodeType===8&&ae.parentNode===S)break;if(R===4)for(R=y.return;R!==null;){var ue=R.tag;if((ue===3||ue===4)&&(ue=R.stateNode.containerInfo,ue===S||ue.nodeType===8&&ue.parentNode===S))return;R=R.return}for(;ae!==null;){if(R=Hi(ae),R===null)return;if(ue=R.tag,ue===5||ue===6){y=_=R;continue e}ae=ae.parentNode}}y=y.return}Zr(function(){var Ce=_,Le=hn(m),ze=[];e:{var Me=J1.get(l);if(Me!==void 0){var tt=x0,ot=l;switch(l){case"keypress":if(cd(m)===0)break e;case"keydown":case"keyup":tt=Rj;break;case"focusin":ot="focus",tt=b0;break;case"focusout":ot="blur",tt=b0;break;case"beforeblur":case"afterblur":tt=b0;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=T1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=wj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Mj;break;case K1:case G1:case q1:tt=Nj;break;case X1:tt=Ij;break;case"scroll":tt=vj;break;case"wheel":tt=Uj;break;case"copy":case"cut":case"paste":tt=jj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=k1}var ut=(u&4)!==0,jr=!ut&&l==="scroll",ge=ut?Me!==null?Me+"Capture":null:Me;ut=[];for(var fe=Ce,we;fe!==null;){we=fe;var $e=we.stateNode;if(we.tag===5&&$e!==null&&(we=$e,ge!==null&&($e=Vr(fe,ge),$e!=null&&ut.push(fc(fe,$e,we)))),jr)break;fe=fe.return}0<ut.length&&(Me=new tt(Me,ot,null,m,Le),ze.push({event:Me,listeners:ut}))}}if((u&7)===0){e:{if(Me=l==="mouseover"||l==="pointerover",tt=l==="mouseout"||l==="pointerout",Me&&m!==Mn&&(ot=m.relatedTarget||m.fromElement)&&(Hi(ot)||ot[xa]))break e;if((tt||Me)&&(Me=Le.window===Le?Le:(Me=Le.ownerDocument)?Me.defaultView||Me.parentWindow:window,tt?(ot=m.relatedTarget||m.toElement,tt=Ce,ot=ot?Hi(ot):null,ot!==null&&(jr=ne(ot),ot!==jr||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(tt=null,ot=Ce),tt!==ot)){if(ut=T1,$e="onMouseLeave",ge="onMouseEnter",fe="mouse",(l==="pointerout"||l==="pointerover")&&(ut=k1,$e="onPointerLeave",ge="onPointerEnter",fe="pointer"),jr=tt==null?Me:Yo(tt),we=ot==null?Me:Yo(ot),Me=new ut($e,fe+"leave",tt,m,Le),Me.target=jr,Me.relatedTarget=we,$e=null,Hi(Le)===Ce&&(ut=new ut(ge,fe+"enter",ot,m,Le),ut.target=we,ut.relatedTarget=jr,$e=ut),jr=$e,tt&&ot)t:{for(ut=tt,ge=ot,fe=0,we=ut;we;we=Wo(we))fe++;for(we=0,$e=ge;$e;$e=Wo($e))we++;for(;0<fe-we;)ut=Wo(ut),fe--;for(;0<we-fe;)ge=Wo(ge),we--;for(;fe--;){if(ut===ge||ge!==null&&ut===ge.alternate)break t;ut=Wo(ut),ge=Wo(ge)}ut=null}else ut=null;tt!==null&&ry(ze,Me,tt,ut,!1),ot!==null&&jr!==null&&ry(ze,jr,ot,ut,!0)}}e:{if(Me=Ce?Yo(Ce):window,tt=Me.nodeName&&Me.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Me.type==="file")var mt=Kj;else if(O1(Me))if(L1)mt=Jj;else{mt=qj;var xt=Gj}else(tt=Me.nodeName)&&tt.toLowerCase()==="input"&&(Me.type==="checkbox"||Me.type==="radio")&&(mt=Xj);if(mt&&(mt=mt(l,Ce))){M1(ze,mt,m,Le);break e}xt&&xt(l,Me,Ce),l==="focusout"&&(xt=Me._wrapperState)&&xt.controlled&&Me.type==="number"&&nt(Me,"number",Me.value)}switch(xt=Ce?Yo(Ce):window,l){case"focusin":(O1(xt)||xt.contentEditable==="true")&&(Vo=xt,j0=Ce,cc=null);break;case"focusout":cc=j0=Vo=null;break;case"mousedown":T0=!0;break;case"contextmenu":case"mouseup":case"dragend":T0=!1,$1(ze,m,Le);break;case"selectionchange":if(eT)break;case"keydown":case"keyup":$1(ze,m,Le)}var yt;if(S0)e:{switch(l){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else zo?R1(l,m)&&(Nt="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(Nt="onCompositionStart");Nt&&(A1&&m.locale!=="ko"&&(zo||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&zo&&(yt=C1()):(Ya=Le,g0="value"in Ya?Ya.value:Ya.textContent,zo=!0)),xt=gd(Ce,Nt),0<xt.length&&(Nt=new E1(Nt,l,null,m,Le),ze.push({event:Nt,listeners:xt}),yt?Nt.data=yt:(yt=F1(m),yt!==null&&(Nt.data=yt)))),(yt=Vj?Hj(l,m):Wj(l,m))&&(Ce=gd(Ce,"onBeforeInput"),0<Ce.length&&(Le=new E1("onBeforeInput","beforeinput",null,m,Le),ze.push({event:Le,listeners:Ce}),Le.data=yt))}ey(ze,u)})}function fc(l,u,m){return{instance:l,listener:u,currentTarget:m}}function gd(l,u){for(var m=u+"Capture",y=[];l!==null;){var S=l,_=S.stateNode;S.tag===5&&_!==null&&(S=_,_=Vr(l,m),_!=null&&y.unshift(fc(l,_,S)),_=Vr(l,u),_!=null&&y.push(fc(l,_,S))),l=l.return}return y}function Wo(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function ry(l,u,m,y,S){for(var _=u._reactName,R=[];m!==null&&m!==y;){var ae=m,ue=ae.alternate,Ce=ae.stateNode;if(ue!==null&&ue===y)break;ae.tag===5&&Ce!==null&&(ae=Ce,S?(ue=Vr(m,_),ue!=null&&R.unshift(fc(m,ue,ae))):S||(ue=Vr(m,_),ue!=null&&R.push(fc(m,ue,ae)))),m=m.return}R.length!==0&&l.push({event:u,listeners:R})}var sT=/\r\n?/g,aT=/\u0000|\uFFFD/g;function ny(l){return(typeof l=="string"?l:""+l).replace(sT,`
`).replace(aT,"")}function xd(l,u,m){if(u=ny(u),ny(l)!==u&&m)throw Error(r(425))}function yd(){}var R0=null,F0=null;function O0(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var M0=typeof setTimeout=="function"?setTimeout:void 0,iT=typeof clearTimeout=="function"?clearTimeout:void 0,sy=typeof Promise=="function"?Promise:void 0,oT=typeof queueMicrotask=="function"?queueMicrotask:typeof sy<"u"?function(l){return sy.resolve(null).then(l).catch(lT)}:M0;function lT(l){setTimeout(function(){throw l})}function L0(l,u){var m=u,y=0;do{var S=m.nextSibling;if(l.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(y===0){l.removeChild(S),rc(u);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=S}while(m);rc(u)}function Ga(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function ay(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return l;u--}else m==="/$"&&u++}l=l.previousSibling}return null}var $o=Math.random().toString(36).slice(2),Zs="__reactFiber$"+$o,hc="__reactProps$"+$o,xa="__reactContainer$"+$o,I0="__reactEvents$"+$o,cT="__reactListeners$"+$o,uT="__reactHandles$"+$o;function Hi(l){var u=l[Zs];if(u)return u;for(var m=l.parentNode;m;){if(u=m[xa]||m[Zs]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(l=ay(l);l!==null;){if(m=l[Zs])return m;l=ay(l)}return u}l=m,m=l.parentNode}return null}function mc(l){return l=l[Zs]||l[xa],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Yo(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function vd(l){return l[hc]||null}var B0=[],Ko=-1;function qa(l){return{current:l}}function or(l){0>Ko||(l.current=B0[Ko],B0[Ko]=null,Ko--)}function nr(l,u){Ko++,B0[Ko]=l.current,l.current=u}var Xa={},pn=qa(Xa),Ln=qa(!1),Wi=Xa;function Go(l,u){var m=l.type.contextTypes;if(!m)return Xa;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var S={},_;for(_ in m)S[_]=u[_];return y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=S),S}function In(l){return l=l.childContextTypes,l!=null}function bd(){or(Ln),or(pn)}function iy(l,u,m){if(pn.current!==Xa)throw Error(r(168));nr(pn,u),nr(Ln,m)}function oy(l,u,m){var y=l.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return m;y=y.getChildContext();for(var S in y)if(!(S in u))throw Error(r(108,ee(l)||"Unknown",S));return se({},m,y)}function wd(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Xa,Wi=pn.current,nr(pn,l),nr(Ln,Ln.current),!0}function ly(l,u,m){var y=l.stateNode;if(!y)throw Error(r(169));m?(l=oy(l,u,Wi),y.__reactInternalMemoizedMergedChildContext=l,or(Ln),or(pn),nr(pn,l)):or(Ln),nr(Ln,m)}var ya=null,Sd=!1,U0=!1;function cy(l){ya===null?ya=[l]:ya.push(l)}function dT(l){Sd=!0,cy(l)}function Ja(){if(!U0&&ya!==null){U0=!0;var l=0,u=Ot;try{var m=ya;for(Ot=1;l<m.length;l++){var y=m[l];do y=y(!0);while(y!==null)}ya=null,Sd=!1}catch(S){throw ya!==null&&(ya=ya.slice(l+1)),B(et,Ja),S}finally{Ot=u,U0=!1}}return null}var qo=[],Xo=0,_d=null,Nd=0,ms=[],ps=0,$i=null,va=1,ba="";function Yi(l,u){qo[Xo++]=Nd,qo[Xo++]=_d,_d=l,Nd=u}function uy(l,u,m){ms[ps++]=va,ms[ps++]=ba,ms[ps++]=$i,$i=l;var y=va;l=ba;var S=32-kt(y)-1;y&=~(1<<S),m+=1;var _=32-kt(u)+S;if(30<_){var R=S-S%5;_=(y&(1<<R)-1).toString(32),y>>=R,S-=R,va=1<<32-kt(u)+S|m<<S|y,ba=_+l}else va=1<<_|m<<S|y,ba=l}function z0(l){l.return!==null&&(Yi(l,1),uy(l,1,0))}function V0(l){for(;l===_d;)_d=qo[--Xo],qo[Xo]=null,Nd=qo[--Xo],qo[Xo]=null;for(;l===$i;)$i=ms[--ps],ms[ps]=null,ba=ms[--ps],ms[ps]=null,va=ms[--ps],ms[ps]=null}var ss=null,as=null,dr=!1,Os=null;function dy(l,u){var m=vs(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,u=l.deletions,u===null?(l.deletions=[m],l.flags|=16):u.push(m)}function fy(l,u){switch(l.tag){case 5:var m=l.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,ss=l,as=Ga(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,ss=l,as=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=$i!==null?{id:va,overflow:ba}:null,l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=vs(18,null,null,0),m.stateNode=u,m.return=l,l.child=m,ss=l,as=null,!0):!1;default:return!1}}function H0(l){return(l.mode&1)!==0&&(l.flags&128)===0}function W0(l){if(dr){var u=as;if(u){var m=u;if(!fy(l,u)){if(H0(l))throw Error(r(418));u=Ga(m.nextSibling);var y=ss;u&&fy(l,u)?dy(y,m):(l.flags=l.flags&-4097|2,dr=!1,ss=l)}}else{if(H0(l))throw Error(r(418));l.flags=l.flags&-4097|2,dr=!1,ss=l}}}function hy(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ss=l}function Cd(l){if(l!==ss)return!1;if(!dr)return hy(l),dr=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!O0(l.type,l.memoizedProps)),u&&(u=as)){if(H0(l))throw my(),Error(r(418));for(;u;)dy(l,u),u=Ga(u.nextSibling)}if(hy(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(u===0){as=Ga(l.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}l=l.nextSibling}as=null}}else as=ss?Ga(l.stateNode.nextSibling):null;return!0}function my(){for(var l=as;l;)l=Ga(l.nextSibling)}function Jo(){as=ss=null,dr=!1}function $0(l){Os===null?Os=[l]:Os.push(l)}var fT=D.ReactCurrentBatchConfig;function pc(l,u,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var y=m.stateNode}if(!y)throw Error(r(147,l));var S=y,_=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===_?u.ref:(u=function(R){var ae=S.refs;R===null?delete ae[_]:ae[_]=R},u._stringRef=_,u)}if(typeof l!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,l))}return l}function jd(l,u){throw l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function py(l){var u=l._init;return u(l._payload)}function gy(l){function u(ge,fe){if(l){var we=ge.deletions;we===null?(ge.deletions=[fe],ge.flags|=16):we.push(fe)}}function m(ge,fe){if(!l)return null;for(;fe!==null;)u(ge,fe),fe=fe.sibling;return null}function y(ge,fe){for(ge=new Map;fe!==null;)fe.key!==null?ge.set(fe.key,fe):ge.set(fe.index,fe),fe=fe.sibling;return ge}function S(ge,fe){return ge=ai(ge,fe),ge.index=0,ge.sibling=null,ge}function _(ge,fe,we){return ge.index=we,l?(we=ge.alternate,we!==null?(we=we.index,we<fe?(ge.flags|=2,fe):we):(ge.flags|=2,fe)):(ge.flags|=1048576,fe)}function R(ge){return l&&ge.alternate===null&&(ge.flags|=2),ge}function ae(ge,fe,we,$e){return fe===null||fe.tag!==6?(fe=Mm(we,ge.mode,$e),fe.return=ge,fe):(fe=S(fe,we),fe.return=ge,fe)}function ue(ge,fe,we,$e){var mt=we.type;return mt===C?Le(ge,fe,we.props.children,$e,we.key):fe!==null&&(fe.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===K&&py(mt)===fe.type)?($e=S(fe,we.props),$e.ref=pc(ge,fe,we),$e.return=ge,$e):($e=Xd(we.type,we.key,we.props,null,ge.mode,$e),$e.ref=pc(ge,fe,we),$e.return=ge,$e)}function Ce(ge,fe,we,$e){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==we.containerInfo||fe.stateNode.implementation!==we.implementation?(fe=Lm(we,ge.mode,$e),fe.return=ge,fe):(fe=S(fe,we.children||[]),fe.return=ge,fe)}function Le(ge,fe,we,$e,mt){return fe===null||fe.tag!==7?(fe=eo(we,ge.mode,$e,mt),fe.return=ge,fe):(fe=S(fe,we),fe.return=ge,fe)}function ze(ge,fe,we){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=Mm(""+fe,ge.mode,we),fe.return=ge,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case T:return we=Xd(fe.type,fe.key,fe.props,null,ge.mode,we),we.ref=pc(ge,null,fe),we.return=ge,we;case M:return fe=Lm(fe,ge.mode,we),fe.return=ge,fe;case K:var $e=fe._init;return ze(ge,$e(fe._payload),we)}if(ft(fe)||oe(fe))return fe=eo(fe,ge.mode,we,null),fe.return=ge,fe;jd(ge,fe)}return null}function Me(ge,fe,we,$e){var mt=fe!==null?fe.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return mt!==null?null:ae(ge,fe,""+we,$e);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case T:return we.key===mt?ue(ge,fe,we,$e):null;case M:return we.key===mt?Ce(ge,fe,we,$e):null;case K:return mt=we._init,Me(ge,fe,mt(we._payload),$e)}if(ft(we)||oe(we))return mt!==null?null:Le(ge,fe,we,$e,null);jd(ge,we)}return null}function tt(ge,fe,we,$e,mt){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ge=ge.get(we)||null,ae(fe,ge,""+$e,mt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case T:return ge=ge.get($e.key===null?we:$e.key)||null,ue(fe,ge,$e,mt);case M:return ge=ge.get($e.key===null?we:$e.key)||null,Ce(fe,ge,$e,mt);case K:var xt=$e._init;return tt(ge,fe,we,xt($e._payload),mt)}if(ft($e)||oe($e))return ge=ge.get(we)||null,Le(fe,ge,$e,mt,null);jd(fe,$e)}return null}function ot(ge,fe,we,$e){for(var mt=null,xt=null,yt=fe,Nt=fe=0,$r=null;yt!==null&&Nt<we.length;Nt++){yt.index>Nt?($r=yt,yt=null):$r=yt.sibling;var zt=Me(ge,yt,we[Nt],$e);if(zt===null){yt===null&&(yt=$r);break}l&&yt&&zt.alternate===null&&u(ge,yt),fe=_(zt,fe,Nt),xt===null?mt=zt:xt.sibling=zt,xt=zt,yt=$r}if(Nt===we.length)return m(ge,yt),dr&&Yi(ge,Nt),mt;if(yt===null){for(;Nt<we.length;Nt++)yt=ze(ge,we[Nt],$e),yt!==null&&(fe=_(yt,fe,Nt),xt===null?mt=yt:xt.sibling=yt,xt=yt);return dr&&Yi(ge,Nt),mt}for(yt=y(ge,yt);Nt<we.length;Nt++)$r=tt(yt,ge,Nt,we[Nt],$e),$r!==null&&(l&&$r.alternate!==null&&yt.delete($r.key===null?Nt:$r.key),fe=_($r,fe,Nt),xt===null?mt=$r:xt.sibling=$r,xt=$r);return l&&yt.forEach(function(ii){return u(ge,ii)}),dr&&Yi(ge,Nt),mt}function ut(ge,fe,we,$e){var mt=oe(we);if(typeof mt!="function")throw Error(r(150));if(we=mt.call(we),we==null)throw Error(r(151));for(var xt=mt=null,yt=fe,Nt=fe=0,$r=null,zt=we.next();yt!==null&&!zt.done;Nt++,zt=we.next()){yt.index>Nt?($r=yt,yt=null):$r=yt.sibling;var ii=Me(ge,yt,zt.value,$e);if(ii===null){yt===null&&(yt=$r);break}l&&yt&&ii.alternate===null&&u(ge,yt),fe=_(ii,fe,Nt),xt===null?mt=ii:xt.sibling=ii,xt=ii,yt=$r}if(zt.done)return m(ge,yt),dr&&Yi(ge,Nt),mt;if(yt===null){for(;!zt.done;Nt++,zt=we.next())zt=ze(ge,zt.value,$e),zt!==null&&(fe=_(zt,fe,Nt),xt===null?mt=zt:xt.sibling=zt,xt=zt);return dr&&Yi(ge,Nt),mt}for(yt=y(ge,yt);!zt.done;Nt++,zt=we.next())zt=tt(yt,ge,Nt,zt.value,$e),zt!==null&&(l&&zt.alternate!==null&&yt.delete(zt.key===null?Nt:zt.key),fe=_(zt,fe,Nt),xt===null?mt=zt:xt.sibling=zt,xt=zt);return l&&yt.forEach(function($T){return u(ge,$T)}),dr&&Yi(ge,Nt),mt}function jr(ge,fe,we,$e){if(typeof we=="object"&&we!==null&&we.type===C&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case T:e:{for(var mt=we.key,xt=fe;xt!==null;){if(xt.key===mt){if(mt=we.type,mt===C){if(xt.tag===7){m(ge,xt.sibling),fe=S(xt,we.props.children),fe.return=ge,ge=fe;break e}}else if(xt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===K&&py(mt)===xt.type){m(ge,xt.sibling),fe=S(xt,we.props),fe.ref=pc(ge,xt,we),fe.return=ge,ge=fe;break e}m(ge,xt);break}else u(ge,xt);xt=xt.sibling}we.type===C?(fe=eo(we.props.children,ge.mode,$e,we.key),fe.return=ge,ge=fe):($e=Xd(we.type,we.key,we.props,null,ge.mode,$e),$e.ref=pc(ge,fe,we),$e.return=ge,ge=$e)}return R(ge);case M:e:{for(xt=we.key;fe!==null;){if(fe.key===xt)if(fe.tag===4&&fe.stateNode.containerInfo===we.containerInfo&&fe.stateNode.implementation===we.implementation){m(ge,fe.sibling),fe=S(fe,we.children||[]),fe.return=ge,ge=fe;break e}else{m(ge,fe);break}else u(ge,fe);fe=fe.sibling}fe=Lm(we,ge.mode,$e),fe.return=ge,ge=fe}return R(ge);case K:return xt=we._init,jr(ge,fe,xt(we._payload),$e)}if(ft(we))return ot(ge,fe,we,$e);if(oe(we))return ut(ge,fe,we,$e);jd(ge,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,fe!==null&&fe.tag===6?(m(ge,fe.sibling),fe=S(fe,we),fe.return=ge,ge=fe):(m(ge,fe),fe=Mm(we,ge.mode,$e),fe.return=ge,ge=fe),R(ge)):m(ge,fe)}return jr}var Qo=gy(!0),xy=gy(!1),Td=qa(null),Ed=null,Zo=null,Y0=null;function K0(){Y0=Zo=Ed=null}function G0(l){var u=Td.current;or(Td),l._currentValue=u}function q0(l,u,m){for(;l!==null;){var y=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),l===m)break;l=l.return}}function el(l,u){Ed=l,Y0=Zo=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(Bn=!0),l.firstContext=null)}function gs(l){var u=l._currentValue;if(Y0!==l)if(l={context:l,memoizedValue:u,next:null},Zo===null){if(Ed===null)throw Error(r(308));Zo=l,Ed.dependencies={lanes:0,firstContext:l}}else Zo=Zo.next=l;return u}var Ki=null;function X0(l){Ki===null?Ki=[l]:Ki.push(l)}function yy(l,u,m,y){var S=u.interleaved;return S===null?(m.next=m,X0(u)):(m.next=S.next,S.next=m),u.interleaved=m,wa(l,y)}function wa(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,m=l.alternate,m!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Qa=!1;function J0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vy(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Sa(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Za(l,u,m){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(Ut&2)!==0){var S=y.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),y.pending=u,wa(l,m)}return S=y.interleaved,S===null?(u.next=u,X0(y)):(u.next=S.next,S.next=u),y.interleaved=u,wa(l,m)}function kd(l,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var y=u.lanes;y&=l.pendingLanes,m|=y,u.lanes=m,fs(l,m)}}function by(l,u){var m=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var S=null,_=null;if(m=m.firstBaseUpdate,m!==null){do{var R={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};_===null?S=_=R:_=_.next=R,m=m.next}while(m!==null);_===null?S=_=u:_=_.next=u}else S=_=u;m={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:_,shared:y.shared,effects:y.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function Ad(l,u,m,y){var S=l.updateQueue;Qa=!1;var _=S.firstBaseUpdate,R=S.lastBaseUpdate,ae=S.shared.pending;if(ae!==null){S.shared.pending=null;var ue=ae,Ce=ue.next;ue.next=null,R===null?_=Ce:R.next=Ce,R=ue;var Le=l.alternate;Le!==null&&(Le=Le.updateQueue,ae=Le.lastBaseUpdate,ae!==R&&(ae===null?Le.firstBaseUpdate=Ce:ae.next=Ce,Le.lastBaseUpdate=ue))}if(_!==null){var ze=S.baseState;R=0,Le=Ce=ue=null,ae=_;do{var Me=ae.lane,tt=ae.eventTime;if((y&Me)===Me){Le!==null&&(Le=Le.next={eventTime:tt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var ot=l,ut=ae;switch(Me=u,tt=m,ut.tag){case 1:if(ot=ut.payload,typeof ot=="function"){ze=ot.call(tt,ze,Me);break e}ze=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=ut.payload,Me=typeof ot=="function"?ot.call(tt,ze,Me):ot,Me==null)break e;ze=se({},ze,Me);break e;case 2:Qa=!0}}ae.callback!==null&&ae.lane!==0&&(l.flags|=64,Me=S.effects,Me===null?S.effects=[ae]:Me.push(ae))}else tt={eventTime:tt,lane:Me,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Le===null?(Ce=Le=tt,ue=ze):Le=Le.next=tt,R|=Me;if(ae=ae.next,ae===null){if(ae=S.shared.pending,ae===null)break;Me=ae,ae=Me.next,Me.next=null,S.lastBaseUpdate=Me,S.shared.pending=null}}while(!0);if(Le===null&&(ue=ze),S.baseState=ue,S.firstBaseUpdate=Ce,S.lastBaseUpdate=Le,u=S.shared.interleaved,u!==null){S=u;do R|=S.lane,S=S.next;while(S!==u)}else _===null&&(S.shared.lanes=0);Xi|=R,l.lanes=R,l.memoizedState=ze}}function wy(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var y=l[u],S=y.callback;if(S!==null){if(y.callback=null,y=m,typeof S!="function")throw Error(r(191,S));S.call(y)}}}var gc={},ea=qa(gc),xc=qa(gc),yc=qa(gc);function Gi(l){if(l===gc)throw Error(r(174));return l}function Q0(l,u){switch(nr(yc,u),nr(xc,l),nr(ea,gc),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ue(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=Ue(u,l)}or(ea),nr(ea,u)}function tl(){or(ea),or(xc),or(yc)}function Sy(l){Gi(yc.current);var u=Gi(ea.current),m=Ue(u,l.type);u!==m&&(nr(xc,l),nr(ea,m))}function Z0(l){xc.current===l&&(or(ea),or(xc))}var gr=qa(0);function Pd(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var em=[];function tm(){for(var l=0;l<em.length;l++)em[l]._workInProgressVersionPrimary=null;em.length=0}var Dd=D.ReactCurrentDispatcher,rm=D.ReactCurrentBatchConfig,qi=0,xr=null,Ir=null,Hr=null,Rd=!1,vc=!1,bc=0,hT=0;function gn(){throw Error(r(321))}function nm(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!Fs(l[m],u[m]))return!1;return!0}function sm(l,u,m,y,S,_){if(qi=_,xr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Dd.current=l===null||l.memoizedState===null?xT:yT,l=m(y,S),vc){_=0;do{if(vc=!1,bc=0,25<=_)throw Error(r(301));_+=1,Hr=Ir=null,u.updateQueue=null,Dd.current=vT,l=m(y,S)}while(vc)}if(Dd.current=Md,u=Ir!==null&&Ir.next!==null,qi=0,Hr=Ir=xr=null,Rd=!1,u)throw Error(r(300));return l}function am(){var l=bc!==0;return bc=0,l}function ta(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?xr.memoizedState=Hr=l:Hr=Hr.next=l,Hr}function xs(){if(Ir===null){var l=xr.alternate;l=l!==null?l.memoizedState:null}else l=Ir.next;var u=Hr===null?xr.memoizedState:Hr.next;if(u!==null)Hr=u,Ir=l;else{if(l===null)throw Error(r(310));Ir=l,l={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},Hr===null?xr.memoizedState=Hr=l:Hr=Hr.next=l}return Hr}function wc(l,u){return typeof u=="function"?u(l):u}function im(l){var u=xs(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=Ir,S=y.baseQueue,_=m.pending;if(_!==null){if(S!==null){var R=S.next;S.next=_.next,_.next=R}y.baseQueue=S=_,m.pending=null}if(S!==null){_=S.next,y=y.baseState;var ae=R=null,ue=null,Ce=_;do{var Le=Ce.lane;if((qi&Le)===Le)ue!==null&&(ue=ue.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),y=Ce.hasEagerState?Ce.eagerState:l(y,Ce.action);else{var ze={lane:Le,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};ue===null?(ae=ue=ze,R=y):ue=ue.next=ze,xr.lanes|=Le,Xi|=Le}Ce=Ce.next}while(Ce!==null&&Ce!==_);ue===null?R=y:ue.next=ae,Fs(y,u.memoizedState)||(Bn=!0),u.memoizedState=y,u.baseState=R,u.baseQueue=ue,m.lastRenderedState=y}if(l=m.interleaved,l!==null){S=l;do _=S.lane,xr.lanes|=_,Xi|=_,S=S.next;while(S!==l)}else S===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function om(l){var u=xs(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=m.dispatch,S=m.pending,_=u.memoizedState;if(S!==null){m.pending=null;var R=S=S.next;do _=l(_,R.action),R=R.next;while(R!==S);Fs(_,u.memoizedState)||(Bn=!0),u.memoizedState=_,u.baseQueue===null&&(u.baseState=_),m.lastRenderedState=_}return[_,y]}function _y(){}function Ny(l,u){var m=xr,y=xs(),S=u(),_=!Fs(y.memoizedState,S);if(_&&(y.memoizedState=S,Bn=!0),y=y.queue,lm(Ty.bind(null,m,y,l),[l]),y.getSnapshot!==u||_||Hr!==null&&Hr.memoizedState.tag&1){if(m.flags|=2048,Sc(9,jy.bind(null,m,y,S,u),void 0,null),Wr===null)throw Error(r(349));(qi&30)!==0||Cy(m,u,S)}return S}function Cy(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},u=xr.updateQueue,u===null?(u={lastEffect:null,stores:null},xr.updateQueue=u,u.stores=[l]):(m=u.stores,m===null?u.stores=[l]:m.push(l))}function jy(l,u,m,y){u.value=m,u.getSnapshot=y,Ey(u)&&ky(l)}function Ty(l,u,m){return m(function(){Ey(u)&&ky(l)})}function Ey(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!Fs(l,m)}catch{return!0}}function ky(l){var u=wa(l,1);u!==null&&Bs(u,l,1,-1)}function Ay(l){var u=ta();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:l},u.queue=l,l=l.dispatch=gT.bind(null,xr,l),[u.memoizedState,l]}function Sc(l,u,m,y){return l={tag:l,create:u,destroy:m,deps:y,next:null},u=xr.updateQueue,u===null?(u={lastEffect:null,stores:null},xr.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect,m===null?u.lastEffect=l.next=l:(y=m.next,m.next=l,l.next=y,u.lastEffect=l)),l}function Py(){return xs().memoizedState}function Fd(l,u,m,y){var S=ta();xr.flags|=l,S.memoizedState=Sc(1|u,m,void 0,y===void 0?null:y)}function Od(l,u,m,y){var S=xs();y=y===void 0?null:y;var _=void 0;if(Ir!==null){var R=Ir.memoizedState;if(_=R.destroy,y!==null&&nm(y,R.deps)){S.memoizedState=Sc(u,m,_,y);return}}xr.flags|=l,S.memoizedState=Sc(1|u,m,_,y)}function Dy(l,u){return Fd(8390656,8,l,u)}function lm(l,u){return Od(2048,8,l,u)}function Ry(l,u){return Od(4,2,l,u)}function Fy(l,u){return Od(4,4,l,u)}function Oy(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function My(l,u,m){return m=m!=null?m.concat([l]):null,Od(4,4,Oy.bind(null,u,l),m)}function cm(){}function Ly(l,u){var m=xs();u=u===void 0?null:u;var y=m.memoizedState;return y!==null&&u!==null&&nm(u,y[1])?y[0]:(m.memoizedState=[l,u],l)}function Iy(l,u){var m=xs();u=u===void 0?null:u;var y=m.memoizedState;return y!==null&&u!==null&&nm(u,y[1])?y[0]:(l=l(),m.memoizedState=[l,u],l)}function By(l,u,m){return(qi&21)===0?(l.baseState&&(l.baseState=!1,Bn=!0),l.memoizedState=m):(Fs(m,u)||(m=Qs(),xr.lanes|=m,Xi|=m,l.baseState=!0),u)}function mT(l,u){var m=Ot;Ot=m!==0&&4>m?m:4,l(!0);var y=rm.transition;rm.transition={};try{l(!1),u()}finally{Ot=m,rm.transition=y}}function Uy(){return xs().memoizedState}function pT(l,u,m){var y=ni(l);if(m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},zy(l))Vy(u,m);else if(m=yy(l,u,m,y),m!==null){var S=An();Bs(m,l,y,S),Hy(m,u,y)}}function gT(l,u,m){var y=ni(l),S={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(zy(l))Vy(u,S);else{var _=l.alternate;if(l.lanes===0&&(_===null||_.lanes===0)&&(_=u.lastRenderedReducer,_!==null))try{var R=u.lastRenderedState,ae=_(R,m);if(S.hasEagerState=!0,S.eagerState=ae,Fs(ae,R)){var ue=u.interleaved;ue===null?(S.next=S,X0(u)):(S.next=ue.next,ue.next=S),u.interleaved=S;return}}catch{}finally{}m=yy(l,u,S,y),m!==null&&(S=An(),Bs(m,l,y,S),Hy(m,u,y))}}function zy(l){var u=l.alternate;return l===xr||u!==null&&u===xr}function Vy(l,u){vc=Rd=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function Hy(l,u,m){if((m&4194240)!==0){var y=u.lanes;y&=l.pendingLanes,m|=y,u.lanes=m,fs(l,m)}}var Md={readContext:gs,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},xT={readContext:gs,useCallback:function(l,u){return ta().memoizedState=[l,u===void 0?null:u],l},useContext:gs,useEffect:Dy,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,Fd(4194308,4,Oy.bind(null,u,l),m)},useLayoutEffect:function(l,u){return Fd(4194308,4,l,u)},useInsertionEffect:function(l,u){return Fd(4,2,l,u)},useMemo:function(l,u){var m=ta();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var y=ta();return u=m!==void 0?m(u):u,y.memoizedState=y.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},y.queue=l,l=l.dispatch=pT.bind(null,xr,l),[y.memoizedState,l]},useRef:function(l){var u=ta();return l={current:l},u.memoizedState=l},useState:Ay,useDebugValue:cm,useDeferredValue:function(l){return ta().memoizedState=l},useTransition:function(){var l=Ay(!1),u=l[0];return l=mT.bind(null,l[1]),ta().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var y=xr,S=ta();if(dr){if(m===void 0)throw Error(r(407));m=m()}else{if(m=u(),Wr===null)throw Error(r(349));(qi&30)!==0||Cy(y,u,m)}S.memoizedState=m;var _={value:m,getSnapshot:u};return S.queue=_,Dy(Ty.bind(null,y,_,l),[l]),y.flags|=2048,Sc(9,jy.bind(null,y,_,m,u),void 0,null),m},useId:function(){var l=ta(),u=Wr.identifierPrefix;if(dr){var m=ba,y=va;m=(y&~(1<<32-kt(y)-1)).toString(32)+m,u=":"+u+"R"+m,m=bc++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=hT++,u=":"+u+"r"+m.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},yT={readContext:gs,useCallback:Ly,useContext:gs,useEffect:lm,useImperativeHandle:My,useInsertionEffect:Ry,useLayoutEffect:Fy,useMemo:Iy,useReducer:im,useRef:Py,useState:function(){return im(wc)},useDebugValue:cm,useDeferredValue:function(l){var u=xs();return By(u,Ir.memoizedState,l)},useTransition:function(){var l=im(wc)[0],u=xs().memoizedState;return[l,u]},useMutableSource:_y,useSyncExternalStore:Ny,useId:Uy,unstable_isNewReconciler:!1},vT={readContext:gs,useCallback:Ly,useContext:gs,useEffect:lm,useImperativeHandle:My,useInsertionEffect:Ry,useLayoutEffect:Fy,useMemo:Iy,useReducer:om,useRef:Py,useState:function(){return om(wc)},useDebugValue:cm,useDeferredValue:function(l){var u=xs();return Ir===null?u.memoizedState=l:By(u,Ir.memoizedState,l)},useTransition:function(){var l=om(wc)[0],u=xs().memoizedState;return[l,u]},useMutableSource:_y,useSyncExternalStore:Ny,useId:Uy,unstable_isNewReconciler:!1};function Ms(l,u){if(l&&l.defaultProps){u=se({},u),l=l.defaultProps;for(var m in l)u[m]===void 0&&(u[m]=l[m]);return u}return u}function um(l,u,m,y){u=l.memoizedState,m=m(y,u),m=m==null?u:se({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Ld={isMounted:function(l){return(l=l._reactInternals)?ne(l)===l:!1},enqueueSetState:function(l,u,m){l=l._reactInternals;var y=An(),S=ni(l),_=Sa(y,S);_.payload=u,m!=null&&(_.callback=m),u=Za(l,_,S),u!==null&&(Bs(u,l,S,y),kd(u,l,S))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var y=An(),S=ni(l),_=Sa(y,S);_.tag=1,_.payload=u,m!=null&&(_.callback=m),u=Za(l,_,S),u!==null&&(Bs(u,l,S,y),kd(u,l,S))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=An(),y=ni(l),S=Sa(m,y);S.tag=2,u!=null&&(S.callback=u),u=Za(l,S,y),u!==null&&(Bs(u,l,y,m),kd(u,l,y))}};function Wy(l,u,m,y,S,_,R){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,_,R):u.prototype&&u.prototype.isPureReactComponent?!lc(m,y)||!lc(S,_):!0}function $y(l,u,m){var y=!1,S=Xa,_=u.contextType;return typeof _=="object"&&_!==null?_=gs(_):(S=In(u)?Wi:pn.current,y=u.contextTypes,_=(y=y!=null)?Go(l,S):Xa),u=new u(m,_),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ld,l.stateNode=u,u._reactInternals=l,y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=S,l.__reactInternalMemoizedMaskedChildContext=_),u}function Yy(l,u,m,y){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,y),u.state!==l&&Ld.enqueueReplaceState(u,u.state,null)}function dm(l,u,m,y){var S=l.stateNode;S.props=m,S.state=l.memoizedState,S.refs={},J0(l);var _=u.contextType;typeof _=="object"&&_!==null?S.context=gs(_):(_=In(u)?Wi:pn.current,S.context=Go(l,_)),S.state=l.memoizedState,_=u.getDerivedStateFromProps,typeof _=="function"&&(um(l,u,_,m),S.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&Ld.enqueueReplaceState(S,S.state,null),Ad(l,m,S,y),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308)}function rl(l,u){try{var m="",y=u;do m+=k(y),y=y.return;while(y);var S=m}catch(_){S=`
Error generating stack: `+_.message+`
`+_.stack}return{value:l,source:u,stack:S,digest:null}}function fm(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function hm(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var bT=typeof WeakMap=="function"?WeakMap:Map;function Ky(l,u,m){m=Sa(-1,m),m.tag=3,m.payload={element:null};var y=u.value;return m.callback=function(){Wd||(Wd=!0,Em=y),hm(l,u)},m}function Gy(l,u,m){m=Sa(-1,m),m.tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var S=u.value;m.payload=function(){return y(S)},m.callback=function(){hm(l,u)}}var _=l.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(m.callback=function(){hm(l,u),typeof y!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})}),m}function qy(l,u,m){var y=l.pingCache;if(y===null){y=l.pingCache=new bT;var S=new Set;y.set(u,S)}else S=y.get(u),S===void 0&&(S=new Set,y.set(u,S));S.has(m)||(S.add(m),l=FT.bind(null,l,u,m),u.then(l,l))}function Xy(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function Jy(l,u,m,y,S){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=Sa(-1,1),u.tag=2,Za(m,u,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=S,l)}var wT=D.ReactCurrentOwner,Bn=!1;function kn(l,u,m,y){u.child=l===null?xy(u,null,m,y):Qo(u,l.child,m,y)}function Qy(l,u,m,y,S){m=m.render;var _=u.ref;return el(u,S),y=sm(l,u,m,y,_,S),m=am(),l!==null&&!Bn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,_a(l,u,S)):(dr&&m&&z0(u),u.flags|=1,kn(l,u,y,S),u.child)}function Zy(l,u,m,y,S){if(l===null){var _=m.type;return typeof _=="function"&&!Om(_)&&_.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=_,ev(l,u,_,y,S)):(l=Xd(m.type,null,y,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(_=l.child,(l.lanes&S)===0){var R=_.memoizedProps;if(m=m.compare,m=m!==null?m:lc,m(R,y)&&l.ref===u.ref)return _a(l,u,S)}return u.flags|=1,l=ai(_,y),l.ref=u.ref,l.return=u,u.child=l}function ev(l,u,m,y,S){if(l!==null){var _=l.memoizedProps;if(lc(_,y)&&l.ref===u.ref)if(Bn=!1,u.pendingProps=y=_,(l.lanes&S)!==0)(l.flags&131072)!==0&&(Bn=!0);else return u.lanes=l.lanes,_a(l,u,S)}return mm(l,u,m,y,S)}function tv(l,u,m){var y=u.pendingProps,S=y.children,_=l!==null?l.memoizedState:null;if(y.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr(sl,is),is|=m;else{if((m&1073741824)===0)return l=_!==null?_.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,nr(sl,is),is|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=_!==null?_.baseLanes:m,nr(sl,is),is|=y}else _!==null?(y=_.baseLanes|m,u.memoizedState=null):y=m,nr(sl,is),is|=y;return kn(l,u,S,m),u.child}function rv(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function mm(l,u,m,y,S){var _=In(m)?Wi:pn.current;return _=Go(u,_),el(u,S),m=sm(l,u,m,y,_,S),y=am(),l!==null&&!Bn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,_a(l,u,S)):(dr&&y&&z0(u),u.flags|=1,kn(l,u,m,S),u.child)}function nv(l,u,m,y,S){if(In(m)){var _=!0;wd(u)}else _=!1;if(el(u,S),u.stateNode===null)Bd(l,u),$y(u,m,y),dm(u,m,y,S),y=!0;else if(l===null){var R=u.stateNode,ae=u.memoizedProps;R.props=ae;var ue=R.context,Ce=m.contextType;typeof Ce=="object"&&Ce!==null?Ce=gs(Ce):(Ce=In(m)?Wi:pn.current,Ce=Go(u,Ce));var Le=m.getDerivedStateFromProps,ze=typeof Le=="function"||typeof R.getSnapshotBeforeUpdate=="function";ze||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(ae!==y||ue!==Ce)&&Yy(u,R,y,Ce),Qa=!1;var Me=u.memoizedState;R.state=Me,Ad(u,y,R,S),ue=u.memoizedState,ae!==y||Me!==ue||Ln.current||Qa?(typeof Le=="function"&&(um(u,m,Le,y),ue=u.memoizedState),(ae=Qa||Wy(u,m,ae,y,Me,ue,Ce))?(ze||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(u.flags|=4194308)):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=ue),R.props=y,R.state=ue,R.context=Ce,y=ae):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{R=u.stateNode,vy(l,u),ae=u.memoizedProps,Ce=u.type===u.elementType?ae:Ms(u.type,ae),R.props=Ce,ze=u.pendingProps,Me=R.context,ue=m.contextType,typeof ue=="object"&&ue!==null?ue=gs(ue):(ue=In(m)?Wi:pn.current,ue=Go(u,ue));var tt=m.getDerivedStateFromProps;(Le=typeof tt=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(ae!==ze||Me!==ue)&&Yy(u,R,y,ue),Qa=!1,Me=u.memoizedState,R.state=Me,Ad(u,y,R,S);var ot=u.memoizedState;ae!==ze||Me!==ot||Ln.current||Qa?(typeof tt=="function"&&(um(u,m,tt,y),ot=u.memoizedState),(Ce=Qa||Wy(u,m,Ce,y,Me,ot,ue)||!1)?(Le||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(y,ot,ue),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(y,ot,ue)),typeof R.componentDidUpdate=="function"&&(u.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof R.componentDidUpdate!="function"||ae===l.memoizedProps&&Me===l.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&Me===l.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=ot),R.props=y,R.state=ot,R.context=ue,y=Ce):(typeof R.componentDidUpdate!="function"||ae===l.memoizedProps&&Me===l.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&Me===l.memoizedState||(u.flags|=1024),y=!1)}return pm(l,u,m,y,_,S)}function pm(l,u,m,y,S,_){rv(l,u);var R=(u.flags&128)!==0;if(!y&&!R)return S&&ly(u,m,!1),_a(l,u,_);y=u.stateNode,wT.current=u;var ae=R&&typeof m.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,l!==null&&R?(u.child=Qo(u,l.child,null,_),u.child=Qo(u,null,ae,_)):kn(l,u,ae,_),u.memoizedState=y.state,S&&ly(u,m,!0),u.child}function sv(l){var u=l.stateNode;u.pendingContext?iy(l,u.pendingContext,u.pendingContext!==u.context):u.context&&iy(l,u.context,!1),Q0(l,u.containerInfo)}function av(l,u,m,y,S){return Jo(),$0(S),u.flags|=256,kn(l,u,m,y),u.child}var gm={dehydrated:null,treeContext:null,retryLane:0};function xm(l){return{baseLanes:l,cachePool:null,transitions:null}}function iv(l,u,m){var y=u.pendingProps,S=gr.current,_=!1,R=(u.flags&128)!==0,ae;if((ae=R)||(ae=l!==null&&l.memoizedState===null?!1:(S&2)!==0),ae?(_=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(S|=1),nr(gr,S&1),l===null)return W0(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(R=y.children,l=y.fallback,_?(y=u.mode,_=u.child,R={mode:"hidden",children:R},(y&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=R):_=Jd(R,y,0,null),l=eo(l,y,m,null),_.return=u,l.return=u,_.sibling=l,u.child=_,u.child.memoizedState=xm(m),u.memoizedState=gm,l):ym(u,R));if(S=l.memoizedState,S!==null&&(ae=S.dehydrated,ae!==null))return ST(l,u,R,y,ae,S,m);if(_){_=y.fallback,R=u.mode,S=l.child,ae=S.sibling;var ue={mode:"hidden",children:y.children};return(R&1)===0&&u.child!==S?(y=u.child,y.childLanes=0,y.pendingProps=ue,u.deletions=null):(y=ai(S,ue),y.subtreeFlags=S.subtreeFlags&14680064),ae!==null?_=ai(ae,_):(_=eo(_,R,m,null),_.flags|=2),_.return=u,y.return=u,y.sibling=_,u.child=y,y=_,_=u.child,R=l.child.memoizedState,R=R===null?xm(m):{baseLanes:R.baseLanes|m,cachePool:null,transitions:R.transitions},_.memoizedState=R,_.childLanes=l.childLanes&~m,u.memoizedState=gm,y}return _=l.child,l=_.sibling,y=ai(_,{mode:"visible",children:y.children}),(u.mode&1)===0&&(y.lanes=m),y.return=u,y.sibling=null,l!==null&&(m=u.deletions,m===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=y,u.memoizedState=null,y}function ym(l,u){return u=Jd({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function Id(l,u,m,y){return y!==null&&$0(y),Qo(u,l.child,null,m),l=ym(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function ST(l,u,m,y,S,_,R){if(m)return u.flags&256?(u.flags&=-257,y=fm(Error(r(422))),Id(l,u,R,y)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(_=y.fallback,S=u.mode,y=Jd({mode:"visible",children:y.children},S,0,null),_=eo(_,S,R,null),_.flags|=2,y.return=u,_.return=u,y.sibling=_,u.child=y,(u.mode&1)!==0&&Qo(u,l.child,null,R),u.child.memoizedState=xm(R),u.memoizedState=gm,_);if((u.mode&1)===0)return Id(l,u,R,null);if(S.data==="$!"){if(y=S.nextSibling&&S.nextSibling.dataset,y)var ae=y.dgst;return y=ae,_=Error(r(419)),y=fm(_,y,void 0),Id(l,u,R,y)}if(ae=(R&l.childLanes)!==0,Bn||ae){if(y=Wr,y!==null){switch(R&-R){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(y.suspendedLanes|R))!==0?0:S,S!==0&&S!==_.retryLane&&(_.retryLane=S,wa(l,S),Bs(y,l,S,-1))}return Fm(),y=fm(Error(r(421))),Id(l,u,R,y)}return S.data==="$?"?(u.flags|=128,u.child=l.child,u=OT.bind(null,l),S._reactRetry=u,null):(l=_.treeContext,as=Ga(S.nextSibling),ss=u,dr=!0,Os=null,l!==null&&(ms[ps++]=va,ms[ps++]=ba,ms[ps++]=$i,va=l.id,ba=l.overflow,$i=u),u=ym(u,y.children),u.flags|=4096,u)}function ov(l,u,m){l.lanes|=u;var y=l.alternate;y!==null&&(y.lanes|=u),q0(l.return,u,m)}function vm(l,u,m,y,S){var _=l.memoizedState;_===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:S}:(_.isBackwards=u,_.rendering=null,_.renderingStartTime=0,_.last=y,_.tail=m,_.tailMode=S)}function lv(l,u,m){var y=u.pendingProps,S=y.revealOrder,_=y.tail;if(kn(l,u,y.children,m),y=gr.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&ov(l,m,u);else if(l.tag===19)ov(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(nr(gr,y),(u.mode&1)===0)u.memoizedState=null;else switch(S){case"forwards":for(m=u.child,S=null;m!==null;)l=m.alternate,l!==null&&Pd(l)===null&&(S=m),m=m.sibling;m=S,m===null?(S=u.child,u.child=null):(S=m.sibling,m.sibling=null),vm(u,!1,S,m,_);break;case"backwards":for(m=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&Pd(l)===null){u.child=S;break}l=S.sibling,S.sibling=m,m=S,S=l}vm(u,!0,m,null,_);break;case"together":vm(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Bd(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function _a(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),Xi|=u.lanes,(m&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,m=ai(l,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,m=m.sibling=ai(l,l.pendingProps),m.return=u;m.sibling=null}return u.child}function _T(l,u,m){switch(u.tag){case 3:sv(u),Jo();break;case 5:Sy(u);break;case 1:In(u.type)&&wd(u);break;case 4:Q0(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,S=u.memoizedProps.value;nr(Td,y._currentValue),y._currentValue=S;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(nr(gr,gr.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?iv(l,u,m):(nr(gr,gr.current&1),l=_a(l,u,m),l!==null?l.sibling:null);nr(gr,gr.current&1);break;case 19:if(y=(m&u.childLanes)!==0,(l.flags&128)!==0){if(y)return lv(l,u,m);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),nr(gr,gr.current),y)break;return null;case 22:case 23:return u.lanes=0,tv(l,u,m)}return _a(l,u,m)}var cv,bm,uv,dv;cv=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},bm=function(){},uv=function(l,u,m,y){var S=l.memoizedProps;if(S!==y){l=u.stateNode,Gi(ea.current);var _=null;switch(m){case"input":S=Ve(l,S),y=Ve(l,y),_=[];break;case"select":S=se({},S,{value:void 0}),y=se({},y,{value:void 0}),_=[];break;case"textarea":S=Ct(l,S),y=Ct(l,y),_=[];break;default:typeof S.onClick!="function"&&typeof y.onClick=="function"&&(l.onclick=yd)}Zn(m,y);var R;m=null;for(Ce in S)if(!y.hasOwnProperty(Ce)&&S.hasOwnProperty(Ce)&&S[Ce]!=null)if(Ce==="style"){var ae=S[Ce];for(R in ae)ae.hasOwnProperty(R)&&(m||(m={}),m[R]="")}else Ce!=="dangerouslySetInnerHTML"&&Ce!=="children"&&Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&Ce!=="autoFocus"&&(s.hasOwnProperty(Ce)?_||(_=[]):(_=_||[]).push(Ce,null));for(Ce in y){var ue=y[Ce];if(ae=S!=null?S[Ce]:void 0,y.hasOwnProperty(Ce)&&ue!==ae&&(ue!=null||ae!=null))if(Ce==="style")if(ae){for(R in ae)!ae.hasOwnProperty(R)||ue&&ue.hasOwnProperty(R)||(m||(m={}),m[R]="");for(R in ue)ue.hasOwnProperty(R)&&ae[R]!==ue[R]&&(m||(m={}),m[R]=ue[R])}else m||(_||(_=[]),_.push(Ce,m)),m=ue;else Ce==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ae=ae?ae.__html:void 0,ue!=null&&ae!==ue&&(_=_||[]).push(Ce,ue)):Ce==="children"?typeof ue!="string"&&typeof ue!="number"||(_=_||[]).push(Ce,""+ue):Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ce)?(ue!=null&&Ce==="onScroll"&&ir("scroll",l),_||ae===ue||(_=[])):(_=_||[]).push(Ce,ue))}m&&(_=_||[]).push("style",m);var Ce=_;(u.updateQueue=Ce)&&(u.flags|=4)}},dv=function(l,u,m,y){m!==y&&(u.flags|=4)};function _c(l,u){if(!dr)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function xn(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,y=0;if(u)for(var S=l.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags&14680064,y|=S.flags&14680064,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=y,l.childLanes=m,u}function NT(l,u,m){var y=u.pendingProps;switch(V0(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(u),null;case 1:return In(u.type)&&bd(),xn(u),null;case 3:return y=u.stateNode,tl(),or(Ln),or(pn),tm(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(l===null||l.child===null)&&(Cd(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Os!==null&&(Pm(Os),Os=null))),bm(l,u),xn(u),null;case 5:Z0(u);var S=Gi(yc.current);if(m=u.type,l!==null&&u.stateNode!=null)uv(l,u,m,y,S),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(r(166));return xn(u),null}if(l=Gi(ea.current),Cd(u)){y=u.stateNode,m=u.type;var _=u.memoizedProps;switch(y[Zs]=u,y[hc]=_,l=(u.mode&1)!==0,m){case"dialog":ir("cancel",y),ir("close",y);break;case"iframe":case"object":case"embed":ir("load",y);break;case"video":case"audio":for(S=0;S<uc.length;S++)ir(uc[S],y);break;case"source":ir("error",y);break;case"img":case"image":case"link":ir("error",y),ir("load",y);break;case"details":ir("toggle",y);break;case"input":de(y,_),ir("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!_.multiple},ir("invalid",y);break;case"textarea":Se(y,_),ir("invalid",y)}Zn(m,_),S=null;for(var R in _)if(_.hasOwnProperty(R)){var ae=_[R];R==="children"?typeof ae=="string"?y.textContent!==ae&&(_.suppressHydrationWarning!==!0&&xd(y.textContent,ae,l),S=["children",ae]):typeof ae=="number"&&y.textContent!==""+ae&&(_.suppressHydrationWarning!==!0&&xd(y.textContent,ae,l),S=["children",""+ae]):s.hasOwnProperty(R)&&ae!=null&&R==="onScroll"&&ir("scroll",y)}switch(m){case"input":Ke(y),Ze(y,_,!0);break;case"textarea":Ke(y),Je(y);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(y.onclick=yd)}y=S,u.updateQueue=y,y!==null&&(u.flags|=4)}else{R=S.nodeType===9?S:S.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Re(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=R.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof y.is=="string"?l=R.createElement(m,{is:y.is}):(l=R.createElement(m),m==="select"&&(R=l,y.multiple?R.multiple=!0:y.size&&(R.size=y.size))):l=R.createElementNS(l,m),l[Zs]=u,l[hc]=y,cv(l,u,!1,!1),u.stateNode=l;e:{switch(R=Ps(m,y),m){case"dialog":ir("cancel",l),ir("close",l),S=y;break;case"iframe":case"object":case"embed":ir("load",l),S=y;break;case"video":case"audio":for(S=0;S<uc.length;S++)ir(uc[S],l);S=y;break;case"source":ir("error",l),S=y;break;case"img":case"image":case"link":ir("error",l),ir("load",l),S=y;break;case"details":ir("toggle",l),S=y;break;case"input":de(l,y),S=Ve(l,y),ir("invalid",l);break;case"option":S=y;break;case"select":l._wrapperState={wasMultiple:!!y.multiple},S=se({},y,{value:void 0}),ir("invalid",l);break;case"textarea":Se(l,y),S=Ct(l,y),ir("invalid",l);break;default:S=y}Zn(m,S),ae=S;for(_ in ae)if(ae.hasOwnProperty(_)){var ue=ae[_];_==="style"?Pt(l,ue):_==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ue!=null&&it(l,ue)):_==="children"?typeof ue=="string"?(m!=="textarea"||ue!=="")&&vt(l,ue):typeof ue=="number"&&vt(l,""+ue):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?ue!=null&&_==="onScroll"&&ir("scroll",l):ue!=null&&j(l,_,ue,R))}switch(m){case"input":Ke(l),Ze(l,y,!1);break;case"textarea":Ke(l),Je(l);break;case"option":y.value!=null&&l.setAttribute("value",""+he(y.value));break;case"select":l.multiple=!!y.multiple,_=y.value,_!=null?st(l,!!y.multiple,_,!1):y.defaultValue!=null&&st(l,!!y.multiple,y.defaultValue,!0);break;default:typeof S.onClick=="function"&&(l.onclick=yd)}switch(m){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return xn(u),null;case 6:if(l&&u.stateNode!=null)dv(l,u,l.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(m=Gi(yc.current),Gi(ea.current),Cd(u)){if(y=u.stateNode,m=u.memoizedProps,y[Zs]=u,(_=y.nodeValue!==m)&&(l=ss,l!==null))switch(l.tag){case 3:xd(y.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&xd(y.nodeValue,m,(l.mode&1)!==0)}_&&(u.flags|=4)}else y=(m.nodeType===9?m:m.ownerDocument).createTextNode(y),y[Zs]=u,u.stateNode=y}return xn(u),null;case 13:if(or(gr),y=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(dr&&as!==null&&(u.mode&1)!==0&&(u.flags&128)===0)my(),Jo(),u.flags|=98560,_=!1;else if(_=Cd(u),y!==null&&y.dehydrated!==null){if(l===null){if(!_)throw Error(r(318));if(_=u.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Zs]=u}else Jo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;xn(u),_=!1}else Os!==null&&(Pm(Os),Os=null),_=!0;if(!_)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(y=y!==null,y!==(l!==null&&l.memoizedState!==null)&&y&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(gr.current&1)!==0?Br===0&&(Br=3):Fm())),u.updateQueue!==null&&(u.flags|=4),xn(u),null);case 4:return tl(),bm(l,u),l===null&&dc(u.stateNode.containerInfo),xn(u),null;case 10:return G0(u.type._context),xn(u),null;case 17:return In(u.type)&&bd(),xn(u),null;case 19:if(or(gr),_=u.memoizedState,_===null)return xn(u),null;if(y=(u.flags&128)!==0,R=_.rendering,R===null)if(y)_c(_,!1);else{if(Br!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(R=Pd(l),R!==null){for(u.flags|=128,_c(_,!1),y=R.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=m,m=u.child;m!==null;)_=m,l=y,_.flags&=14680066,R=_.alternate,R===null?(_.childLanes=0,_.lanes=l,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=R.childLanes,_.lanes=R.lanes,_.child=R.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=R.memoizedProps,_.memoizedState=R.memoizedState,_.updateQueue=R.updateQueue,_.type=R.type,l=R.dependencies,_.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return nr(gr,gr.current&1|2),u.child}l=l.sibling}_.tail!==null&&Ne()>al&&(u.flags|=128,y=!0,_c(_,!1),u.lanes=4194304)}else{if(!y)if(l=Pd(R),l!==null){if(u.flags|=128,y=!0,m=l.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),_c(_,!0),_.tail===null&&_.tailMode==="hidden"&&!R.alternate&&!dr)return xn(u),null}else 2*Ne()-_.renderingStartTime>al&&m!==1073741824&&(u.flags|=128,y=!0,_c(_,!1),u.lanes=4194304);_.isBackwards?(R.sibling=u.child,u.child=R):(m=_.last,m!==null?m.sibling=R:u.child=R,_.last=R)}return _.tail!==null?(u=_.tail,_.rendering=u,_.tail=u.sibling,_.renderingStartTime=Ne(),u.sibling=null,m=gr.current,nr(gr,y?m&1|2:m&1),u):(xn(u),null);case 22:case 23:return Rm(),y=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==y&&(u.flags|=8192),y&&(u.mode&1)!==0?(is&1073741824)!==0&&(xn(u),u.subtreeFlags&6&&(u.flags|=8192)):xn(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function CT(l,u){switch(V0(u),u.tag){case 1:return In(u.type)&&bd(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return tl(),or(Ln),or(pn),tm(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return Z0(u),null;case 13:if(or(gr),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Jo()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return or(gr),null;case 4:return tl(),null;case 10:return G0(u.type._context),null;case 22:case 23:return Rm(),null;case 24:return null;default:return null}}var Ud=!1,yn=!1,jT=typeof WeakSet=="function"?WeakSet:Set,at=null;function nl(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){Sr(l,u,y)}else m.current=null}function wm(l,u,m){try{m()}catch(y){Sr(l,u,y)}}var fv=!1;function TT(l,u){if(R0=id,l=W1(),C0(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var S=y.anchorOffset,_=y.focusNode;y=y.focusOffset;try{m.nodeType,_.nodeType}catch{m=null;break e}var R=0,ae=-1,ue=-1,Ce=0,Le=0,ze=l,Me=null;t:for(;;){for(var tt;ze!==m||S!==0&&ze.nodeType!==3||(ae=R+S),ze!==_||y!==0&&ze.nodeType!==3||(ue=R+y),ze.nodeType===3&&(R+=ze.nodeValue.length),(tt=ze.firstChild)!==null;)Me=ze,ze=tt;for(;;){if(ze===l)break t;if(Me===m&&++Ce===S&&(ae=R),Me===_&&++Le===y&&(ue=R),(tt=ze.nextSibling)!==null)break;ze=Me,Me=ze.parentNode}ze=tt}m=ae===-1||ue===-1?null:{start:ae,end:ue}}else m=null}m=m||{start:0,end:0}}else m=null;for(F0={focusedElem:l,selectionRange:m},id=!1,at=u;at!==null;)if(u=at,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,at=l;else for(;at!==null;){u=at;try{var ot=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var ut=ot.memoizedProps,jr=ot.memoizedState,ge=u.stateNode,fe=ge.getSnapshotBeforeUpdate(u.elementType===u.type?ut:Ms(u.type,ut),jr);ge.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:var we=u.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch($e){Sr(u,u.return,$e)}if(l=u.sibling,l!==null){l.return=u.return,at=l;break}at=u.return}return ot=fv,fv=!1,ot}function Nc(l,u,m){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var S=y=y.next;do{if((S.tag&l)===l){var _=S.destroy;S.destroy=void 0,_!==void 0&&wm(u,m,_)}S=S.next}while(S!==y)}}function zd(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&l)===l){var y=m.create;m.destroy=y()}m=m.next}while(m!==u)}}function Sm(l){var u=l.ref;if(u!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof u=="function"?u(l):u.current=l}}function hv(l){var u=l.alternate;u!==null&&(l.alternate=null,hv(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[Zs],delete u[hc],delete u[I0],delete u[cT],delete u[uT])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function mv(l){return l.tag===5||l.tag===3||l.tag===4}function pv(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||mv(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function _m(l,u,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(l,u):m.insertBefore(l,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(l,m)):(u=m,u.appendChild(l)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=yd));else if(y!==4&&(l=l.child,l!==null))for(_m(l,u,m),l=l.sibling;l!==null;)_m(l,u,m),l=l.sibling}function Nm(l,u,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?m.insertBefore(l,u):m.appendChild(l);else if(y!==4&&(l=l.child,l!==null))for(Nm(l,u,m),l=l.sibling;l!==null;)Nm(l,u,m),l=l.sibling}var tn=null,Ls=!1;function ei(l,u,m){for(m=m.child;m!==null;)gv(l,u,m),m=m.sibling}function gv(l,u,m){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(pr,m)}catch{}switch(m.tag){case 5:yn||nl(m,u);case 6:var y=tn,S=Ls;tn=null,ei(l,u,m),tn=y,Ls=S,tn!==null&&(Ls?(l=tn,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):tn.removeChild(m.stateNode));break;case 18:tn!==null&&(Ls?(l=tn,m=m.stateNode,l.nodeType===8?L0(l.parentNode,m):l.nodeType===1&&L0(l,m),rc(l)):L0(tn,m.stateNode));break;case 4:y=tn,S=Ls,tn=m.stateNode.containerInfo,Ls=!0,ei(l,u,m),tn=y,Ls=S;break;case 0:case 11:case 14:case 15:if(!yn&&(y=m.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){S=y=y.next;do{var _=S,R=_.destroy;_=_.tag,R!==void 0&&((_&2)!==0||(_&4)!==0)&&wm(m,u,R),S=S.next}while(S!==y)}ei(l,u,m);break;case 1:if(!yn&&(nl(m,u),y=m.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch(ae){Sr(m,u,ae)}ei(l,u,m);break;case 21:ei(l,u,m);break;case 22:m.mode&1?(yn=(y=yn)||m.memoizedState!==null,ei(l,u,m),yn=y):ei(l,u,m);break;default:ei(l,u,m)}}function xv(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new jT),u.forEach(function(y){var S=MT.bind(null,l,y);m.has(y)||(m.add(y),y.then(S,S))})}}function Is(l,u){var m=u.deletions;if(m!==null)for(var y=0;y<m.length;y++){var S=m[y];try{var _=l,R=u,ae=R;e:for(;ae!==null;){switch(ae.tag){case 5:tn=ae.stateNode,Ls=!1;break e;case 3:tn=ae.stateNode.containerInfo,Ls=!0;break e;case 4:tn=ae.stateNode.containerInfo,Ls=!0;break e}ae=ae.return}if(tn===null)throw Error(r(160));gv(_,R,S),tn=null,Ls=!1;var ue=S.alternate;ue!==null&&(ue.return=null),S.return=null}catch(Ce){Sr(S,u,Ce)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)yv(u,l),u=u.sibling}function yv(l,u){var m=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Is(u,l),ra(l),y&4){try{Nc(3,l,l.return),zd(3,l)}catch(ut){Sr(l,l.return,ut)}try{Nc(5,l,l.return)}catch(ut){Sr(l,l.return,ut)}}break;case 1:Is(u,l),ra(l),y&512&&m!==null&&nl(m,m.return);break;case 5:if(Is(u,l),ra(l),y&512&&m!==null&&nl(m,m.return),l.flags&32){var S=l.stateNode;try{vt(S,"")}catch(ut){Sr(l,l.return,ut)}}if(y&4&&(S=l.stateNode,S!=null)){var _=l.memoizedProps,R=m!==null?m.memoizedProps:_,ae=l.type,ue=l.updateQueue;if(l.updateQueue=null,ue!==null)try{ae==="input"&&_.type==="radio"&&_.name!=null&&Ee(S,_),Ps(ae,R);var Ce=Ps(ae,_);for(R=0;R<ue.length;R+=2){var Le=ue[R],ze=ue[R+1];Le==="style"?Pt(S,ze):Le==="dangerouslySetInnerHTML"?it(S,ze):Le==="children"?vt(S,ze):j(S,Le,ze,Ce)}switch(ae){case"input":je(S,_);break;case"textarea":Be(S,_);break;case"select":var Me=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!_.multiple;var tt=_.value;tt!=null?st(S,!!_.multiple,tt,!1):Me!==!!_.multiple&&(_.defaultValue!=null?st(S,!!_.multiple,_.defaultValue,!0):st(S,!!_.multiple,_.multiple?[]:"",!1))}S[hc]=_}catch(ut){Sr(l,l.return,ut)}}break;case 6:if(Is(u,l),ra(l),y&4){if(l.stateNode===null)throw Error(r(162));S=l.stateNode,_=l.memoizedProps;try{S.nodeValue=_}catch(ut){Sr(l,l.return,ut)}}break;case 3:if(Is(u,l),ra(l),y&4&&m!==null&&m.memoizedState.isDehydrated)try{rc(u.containerInfo)}catch(ut){Sr(l,l.return,ut)}break;case 4:Is(u,l),ra(l);break;case 13:Is(u,l),ra(l),S=l.child,S.flags&8192&&(_=S.memoizedState!==null,S.stateNode.isHidden=_,!_||S.alternate!==null&&S.alternate.memoizedState!==null||(Tm=Ne())),y&4&&xv(l);break;case 22:if(Le=m!==null&&m.memoizedState!==null,l.mode&1?(yn=(Ce=yn)||Le,Is(u,l),yn=Ce):Is(u,l),ra(l),y&8192){if(Ce=l.memoizedState!==null,(l.stateNode.isHidden=Ce)&&!Le&&(l.mode&1)!==0)for(at=l,Le=l.child;Le!==null;){for(ze=at=Le;at!==null;){switch(Me=at,tt=Me.child,Me.tag){case 0:case 11:case 14:case 15:Nc(4,Me,Me.return);break;case 1:nl(Me,Me.return);var ot=Me.stateNode;if(typeof ot.componentWillUnmount=="function"){y=Me,m=Me.return;try{u=y,ot.props=u.memoizedProps,ot.state=u.memoizedState,ot.componentWillUnmount()}catch(ut){Sr(y,m,ut)}}break;case 5:nl(Me,Me.return);break;case 22:if(Me.memoizedState!==null){wv(ze);continue}}tt!==null?(tt.return=Me,at=tt):wv(ze)}Le=Le.sibling}e:for(Le=null,ze=l;;){if(ze.tag===5){if(Le===null){Le=ze;try{S=ze.stateNode,Ce?(_=S.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(ae=ze.stateNode,ue=ze.memoizedProps.style,R=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,ae.style.display=Tn("display",R))}catch(ut){Sr(l,l.return,ut)}}}else if(ze.tag===6){if(Le===null)try{ze.stateNode.nodeValue=Ce?"":ze.memoizedProps}catch(ut){Sr(l,l.return,ut)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===l)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===l)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===l)break e;Le===ze&&(Le=null),ze=ze.return}Le===ze&&(Le=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:Is(u,l),ra(l),y&4&&xv(l);break;case 21:break;default:Is(u,l),ra(l)}}function ra(l){var u=l.flags;if(u&2){try{e:{for(var m=l.return;m!==null;){if(mv(m)){var y=m;break e}m=m.return}throw Error(r(160))}switch(y.tag){case 5:var S=y.stateNode;y.flags&32&&(vt(S,""),y.flags&=-33);var _=pv(l);Nm(l,_,S);break;case 3:case 4:var R=y.stateNode.containerInfo,ae=pv(l);_m(l,ae,R);break;default:throw Error(r(161))}}catch(ue){Sr(l,l.return,ue)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function ET(l,u,m){at=l,vv(l)}function vv(l,u,m){for(var y=(l.mode&1)!==0;at!==null;){var S=at,_=S.child;if(S.tag===22&&y){var R=S.memoizedState!==null||Ud;if(!R){var ae=S.alternate,ue=ae!==null&&ae.memoizedState!==null||yn;ae=Ud;var Ce=yn;if(Ud=R,(yn=ue)&&!Ce)for(at=S;at!==null;)R=at,ue=R.child,R.tag===22&&R.memoizedState!==null?Sv(S):ue!==null?(ue.return=R,at=ue):Sv(S);for(;_!==null;)at=_,vv(_),_=_.sibling;at=S,Ud=ae,yn=Ce}bv(l)}else(S.subtreeFlags&8772)!==0&&_!==null?(_.return=S,at=_):bv(l)}}function bv(l){for(;at!==null;){var u=at;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:yn||zd(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!yn)if(m===null)y.componentDidMount();else{var S=u.elementType===u.type?m.memoizedProps:Ms(u.type,m.memoizedProps);y.componentDidUpdate(S,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var _=u.updateQueue;_!==null&&wy(u,_,y);break;case 3:var R=u.updateQueue;if(R!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}wy(u,R,m)}break;case 5:var ae=u.stateNode;if(m===null&&u.flags&4){m=ae;var ue=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ue.autoFocus&&m.focus();break;case"img":ue.src&&(m.src=ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Ce=u.alternate;if(Ce!==null){var Le=Ce.memoizedState;if(Le!==null){var ze=Le.dehydrated;ze!==null&&rc(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}yn||u.flags&512&&Sm(u)}catch(Me){Sr(u,u.return,Me)}}if(u===l){at=null;break}if(m=u.sibling,m!==null){m.return=u.return,at=m;break}at=u.return}}function wv(l){for(;at!==null;){var u=at;if(u===l){at=null;break}var m=u.sibling;if(m!==null){m.return=u.return,at=m;break}at=u.return}}function Sv(l){for(;at!==null;){var u=at;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{zd(4,u)}catch(ue){Sr(u,m,ue)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var S=u.return;try{y.componentDidMount()}catch(ue){Sr(u,S,ue)}}var _=u.return;try{Sm(u)}catch(ue){Sr(u,_,ue)}break;case 5:var R=u.return;try{Sm(u)}catch(ue){Sr(u,R,ue)}}}catch(ue){Sr(u,u.return,ue)}if(u===l){at=null;break}var ae=u.sibling;if(ae!==null){ae.return=u.return,at=ae;break}at=u.return}}var kT=Math.ceil,Vd=D.ReactCurrentDispatcher,Cm=D.ReactCurrentOwner,ys=D.ReactCurrentBatchConfig,Ut=0,Wr=null,Pr=null,rn=0,is=0,sl=qa(0),Br=0,Cc=null,Xi=0,Hd=0,jm=0,jc=null,Un=null,Tm=0,al=1/0,Na=null,Wd=!1,Em=null,ti=null,$d=!1,ri=null,Yd=0,Tc=0,km=null,Kd=-1,Gd=0;function An(){return(Ut&6)!==0?Ne():Kd!==-1?Kd:Kd=Ne()}function ni(l){return(l.mode&1)===0?1:(Ut&2)!==0&&rn!==0?rn&-rn:fT.transition!==null?(Gd===0&&(Gd=Qs()),Gd):(l=Ot,l!==0||(l=window.event,l=l===void 0?16:N1(l.type)),l)}function Bs(l,u,m,y){if(50<Tc)throw Tc=0,km=null,Error(r(185));Lr(l,m,y),((Ut&2)===0||l!==Wr)&&(l===Wr&&((Ut&2)===0&&(Hd|=m),Br===4&&si(l,rn)),zn(l,y),m===1&&Ut===0&&(u.mode&1)===0&&(al=Ne()+500,Sd&&Ja()))}function zn(l,u){var m=l.callbackNode;Wt(l,u);var y=Lo(l,l===Wr?rn:0);if(y===0)m!==null&&le(m),l.callbackNode=null,l.callbackPriority=0;else if(u=y&-y,l.callbackPriority!==u){if(m!=null&&le(m),u===1)l.tag===0?dT(Nv.bind(null,l)):cy(Nv.bind(null,l)),oT(function(){(Ut&6)===0&&Ja()}),m=null;else{switch(zi(y)){case 1:m=et;break;case 4:m=gt;break;case 16:m=_t;break;case 536870912:m=Et;break;default:m=_t}m=Dv(m,_v.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function _v(l,u){if(Kd=-1,Gd=0,(Ut&6)!==0)throw Error(r(327));var m=l.callbackNode;if(il()&&l.callbackNode!==m)return null;var y=Lo(l,l===Wr?rn:0);if(y===0)return null;if((y&30)!==0||(y&l.expiredLanes)!==0||u)u=qd(l,y);else{u=y;var S=Ut;Ut|=2;var _=jv();(Wr!==l||rn!==u)&&(Na=null,al=Ne()+500,Qi(l,u));do try{DT();break}catch(ae){Cv(l,ae)}while(!0);K0(),Vd.current=_,Ut=S,Pr!==null?u=0:(Wr=null,rn=0,u=Br)}if(u!==0){if(u===2&&(S=Ui(l),S!==0&&(y=S,u=Am(l,S))),u===1)throw m=Cc,Qi(l,0),si(l,y),zn(l,Ne()),m;if(u===6)si(l,y);else{if(S=l.current.alternate,(y&30)===0&&!AT(S)&&(u=qd(l,y),u===2&&(_=Ui(l),_!==0&&(y=_,u=Am(l,_))),u===1))throw m=Cc,Qi(l,0),si(l,y),zn(l,Ne()),m;switch(l.finishedWork=S,l.finishedLanes=y,u){case 0:case 1:throw Error(r(345));case 2:Zi(l,Un,Na);break;case 3:if(si(l,y),(y&130023424)===y&&(u=Tm+500-Ne(),10<u)){if(Lo(l,0)!==0)break;if(S=l.suspendedLanes,(S&y)!==y){An(),l.pingedLanes|=l.suspendedLanes&S;break}l.timeoutHandle=M0(Zi.bind(null,l,Un,Na),u);break}Zi(l,Un,Na);break;case 4:if(si(l,y),(y&4194240)===y)break;for(u=l.eventTimes,S=-1;0<y;){var R=31-kt(y);_=1<<R,R=u[R],R>S&&(S=R),y&=~_}if(y=S,y=Ne()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*kT(y/1960))-y,10<y){l.timeoutHandle=M0(Zi.bind(null,l,Un,Na),y);break}Zi(l,Un,Na);break;case 5:Zi(l,Un,Na);break;default:throw Error(r(329))}}}return zn(l,Ne()),l.callbackNode===m?_v.bind(null,l):null}function Am(l,u){var m=jc;return l.current.memoizedState.isDehydrated&&(Qi(l,u).flags|=256),l=qd(l,u),l!==2&&(u=Un,Un=m,u!==null&&Pm(u)),l}function Pm(l){Un===null?Un=l:Un.push.apply(Un,l)}function AT(l){for(var u=l;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var y=0;y<m.length;y++){var S=m[y],_=S.getSnapshot;S=S.value;try{if(!Fs(_(),S))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function si(l,u){for(u&=~jm,u&=~Hd,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-kt(u),y=1<<m;l[m]=-1,u&=~y}}function Nv(l){if((Ut&6)!==0)throw Error(r(327));il();var u=Lo(l,0);if((u&1)===0)return zn(l,Ne()),null;var m=qd(l,u);if(l.tag!==0&&m===2){var y=Ui(l);y!==0&&(u=y,m=Am(l,y))}if(m===1)throw m=Cc,Qi(l,0),si(l,u),zn(l,Ne()),m;if(m===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Zi(l,Un,Na),zn(l,Ne()),null}function Dm(l,u){var m=Ut;Ut|=1;try{return l(u)}finally{Ut=m,Ut===0&&(al=Ne()+500,Sd&&Ja())}}function Ji(l){ri!==null&&ri.tag===0&&(Ut&6)===0&&il();var u=Ut;Ut|=1;var m=ys.transition,y=Ot;try{if(ys.transition=null,Ot=1,l)return l()}finally{Ot=y,ys.transition=m,Ut=u,(Ut&6)===0&&Ja()}}function Rm(){is=sl.current,or(sl)}function Qi(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,iT(m)),Pr!==null)for(m=Pr.return;m!==null;){var y=m;switch(V0(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&bd();break;case 3:tl(),or(Ln),or(pn),tm();break;case 5:Z0(y);break;case 4:tl();break;case 13:or(gr);break;case 19:or(gr);break;case 10:G0(y.type._context);break;case 22:case 23:Rm()}m=m.return}if(Wr=l,Pr=l=ai(l.current,null),rn=is=u,Br=0,Cc=null,jm=Hd=Xi=0,Un=jc=null,Ki!==null){for(u=0;u<Ki.length;u++)if(m=Ki[u],y=m.interleaved,y!==null){m.interleaved=null;var S=y.next,_=m.pending;if(_!==null){var R=_.next;_.next=S,y.next=R}m.pending=y}Ki=null}return l}function Cv(l,u){do{var m=Pr;try{if(K0(),Dd.current=Md,Rd){for(var y=xr.memoizedState;y!==null;){var S=y.queue;S!==null&&(S.pending=null),y=y.next}Rd=!1}if(qi=0,Hr=Ir=xr=null,vc=!1,bc=0,Cm.current=null,m===null||m.return===null){Br=1,Cc=u,Pr=null;break}e:{var _=l,R=m.return,ae=m,ue=u;if(u=rn,ae.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Ce=ue,Le=ae,ze=Le.tag;if((Le.mode&1)===0&&(ze===0||ze===11||ze===15)){var Me=Le.alternate;Me?(Le.updateQueue=Me.updateQueue,Le.memoizedState=Me.memoizedState,Le.lanes=Me.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var tt=Xy(R);if(tt!==null){tt.flags&=-257,Jy(tt,R,ae,_,u),tt.mode&1&&qy(_,Ce,u),u=tt,ue=Ce;var ot=u.updateQueue;if(ot===null){var ut=new Set;ut.add(ue),u.updateQueue=ut}else ot.add(ue);break e}else{if((u&1)===0){qy(_,Ce,u),Fm();break e}ue=Error(r(426))}}else if(dr&&ae.mode&1){var jr=Xy(R);if(jr!==null){(jr.flags&65536)===0&&(jr.flags|=256),Jy(jr,R,ae,_,u),$0(rl(ue,ae));break e}}_=ue=rl(ue,ae),Br!==4&&(Br=2),jc===null?jc=[_]:jc.push(_),_=R;do{switch(_.tag){case 3:_.flags|=65536,u&=-u,_.lanes|=u;var ge=Ky(_,ue,u);by(_,ge);break e;case 1:ae=ue;var fe=_.type,we=_.stateNode;if((_.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(ti===null||!ti.has(we)))){_.flags|=65536,u&=-u,_.lanes|=u;var $e=Gy(_,ae,u);by(_,$e);break e}}_=_.return}while(_!==null)}Ev(m)}catch(mt){u=mt,Pr===m&&m!==null&&(Pr=m=m.return);continue}break}while(!0)}function jv(){var l=Vd.current;return Vd.current=Md,l===null?Md:l}function Fm(){(Br===0||Br===3||Br===2)&&(Br=4),Wr===null||(Xi&268435455)===0&&(Hd&268435455)===0||si(Wr,rn)}function qd(l,u){var m=Ut;Ut|=2;var y=jv();(Wr!==l||rn!==u)&&(Na=null,Qi(l,u));do try{PT();break}catch(S){Cv(l,S)}while(!0);if(K0(),Ut=m,Vd.current=y,Pr!==null)throw Error(r(261));return Wr=null,rn=0,Br}function PT(){for(;Pr!==null;)Tv(Pr)}function DT(){for(;Pr!==null&&!pe();)Tv(Pr)}function Tv(l){var u=Pv(l.alternate,l,is);l.memoizedProps=l.pendingProps,u===null?Ev(l):Pr=u,Cm.current=null}function Ev(l){var u=l;do{var m=u.alternate;if(l=u.return,(u.flags&32768)===0){if(m=NT(m,u,is),m!==null){Pr=m;return}}else{if(m=CT(m,u),m!==null){m.flags&=32767,Pr=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Br=6,Pr=null;return}}if(u=u.sibling,u!==null){Pr=u;return}Pr=u=l}while(u!==null);Br===0&&(Br=5)}function Zi(l,u,m){var y=Ot,S=ys.transition;try{ys.transition=null,Ot=1,RT(l,u,m,y)}finally{ys.transition=S,Ot=y}return null}function RT(l,u,m,y){do il();while(ri!==null);if((Ut&6)!==0)throw Error(r(327));m=l.finishedWork;var S=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var _=m.lanes|m.childLanes;if(Ds(l,_),l===Wr&&(Pr=Wr=null,rn=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||$d||($d=!0,Dv(_t,function(){return il(),null})),_=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||_){_=ys.transition,ys.transition=null;var R=Ot;Ot=1;var ae=Ut;Ut|=4,Cm.current=null,TT(l,m),yv(m,l),Zj(F0),id=!!R0,F0=R0=null,l.current=m,ET(m),me(),Ut=ae,Ot=R,ys.transition=_}else l.current=m;if($d&&($d=!1,ri=l,Yd=S),_=l.pendingLanes,_===0&&(ti=null),ar(m.stateNode),zn(l,Ne()),u!==null)for(y=l.onRecoverableError,m=0;m<u.length;m++)S=u[m],y(S.value,{componentStack:S.stack,digest:S.digest});if(Wd)throw Wd=!1,l=Em,Em=null,l;return(Yd&1)!==0&&l.tag!==0&&il(),_=l.pendingLanes,(_&1)!==0?l===km?Tc++:(Tc=0,km=l):Tc=0,Ja(),null}function il(){if(ri!==null){var l=zi(Yd),u=ys.transition,m=Ot;try{if(ys.transition=null,Ot=16>l?16:l,ri===null)var y=!1;else{if(l=ri,ri=null,Yd=0,(Ut&6)!==0)throw Error(r(331));var S=Ut;for(Ut|=4,at=l.current;at!==null;){var _=at,R=_.child;if((at.flags&16)!==0){var ae=_.deletions;if(ae!==null){for(var ue=0;ue<ae.length;ue++){var Ce=ae[ue];for(at=Ce;at!==null;){var Le=at;switch(Le.tag){case 0:case 11:case 15:Nc(8,Le,_)}var ze=Le.child;if(ze!==null)ze.return=Le,at=ze;else for(;at!==null;){Le=at;var Me=Le.sibling,tt=Le.return;if(hv(Le),Le===Ce){at=null;break}if(Me!==null){Me.return=tt,at=Me;break}at=tt}}}var ot=_.alternate;if(ot!==null){var ut=ot.child;if(ut!==null){ot.child=null;do{var jr=ut.sibling;ut.sibling=null,ut=jr}while(ut!==null)}}at=_}}if((_.subtreeFlags&2064)!==0&&R!==null)R.return=_,at=R;else e:for(;at!==null;){if(_=at,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Nc(9,_,_.return)}var ge=_.sibling;if(ge!==null){ge.return=_.return,at=ge;break e}at=_.return}}var fe=l.current;for(at=fe;at!==null;){R=at;var we=R.child;if((R.subtreeFlags&2064)!==0&&we!==null)we.return=R,at=we;else e:for(R=fe;at!==null;){if(ae=at,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:zd(9,ae)}}catch(mt){Sr(ae,ae.return,mt)}if(ae===R){at=null;break e}var $e=ae.sibling;if($e!==null){$e.return=ae.return,at=$e;break e}at=ae.return}}if(Ut=S,Ja(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(pr,l)}catch{}y=!0}return y}finally{Ot=m,ys.transition=u}}return!1}function kv(l,u,m){u=rl(m,u),u=Ky(l,u,1),l=Za(l,u,1),u=An(),l!==null&&(Lr(l,1,u),zn(l,u))}function Sr(l,u,m){if(l.tag===3)kv(l,l,m);else for(;u!==null;){if(u.tag===3){kv(u,l,m);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ti===null||!ti.has(y))){l=rl(m,l),l=Gy(u,l,1),u=Za(u,l,1),l=An(),u!==null&&(Lr(u,1,l),zn(u,l));break}}u=u.return}}function FT(l,u,m){var y=l.pingCache;y!==null&&y.delete(u),u=An(),l.pingedLanes|=l.suspendedLanes&m,Wr===l&&(rn&m)===m&&(Br===4||Br===3&&(rn&130023424)===rn&&500>Ne()-Tm?Qi(l,0):jm|=m),zn(l,u)}function Av(l,u){u===0&&((l.mode&1)===0?u=1:(u=Ii,Ii<<=1,(Ii&130023424)===0&&(Ii=4194304)));var m=An();l=wa(l,u),l!==null&&(Lr(l,u,m),zn(l,m))}function OT(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),Av(l,m)}function MT(l,u){var m=0;switch(l.tag){case 13:var y=l.stateNode,S=l.memoizedState;S!==null&&(m=S.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(u),Av(l,m)}var Pv;Pv=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||Ln.current)Bn=!0;else{if((l.lanes&m)===0&&(u.flags&128)===0)return Bn=!1,_T(l,u,m);Bn=(l.flags&131072)!==0}else Bn=!1,dr&&(u.flags&1048576)!==0&&uy(u,Nd,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;Bd(l,u),l=u.pendingProps;var S=Go(u,pn.current);el(u,m),S=sm(null,u,y,l,S,m);var _=am();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,In(y)?(_=!0,wd(u)):_=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,J0(u),S.updater=Ld,u.stateNode=S,S._reactInternals=u,dm(u,y,l,m),u=pm(null,u,y,!0,_,m)):(u.tag=0,dr&&_&&z0(u),kn(null,u,S,m),u=u.child),u;case 16:y=u.elementType;e:{switch(Bd(l,u),l=u.pendingProps,S=y._init,y=S(y._payload),u.type=y,S=u.tag=IT(y),l=Ms(y,l),S){case 0:u=mm(null,u,y,l,m);break e;case 1:u=nv(null,u,y,l,m);break e;case 11:u=Qy(null,u,y,l,m);break e;case 14:u=Zy(null,u,y,Ms(y.type,l),m);break e}throw Error(r(306,y,""))}return u;case 0:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:Ms(y,S),mm(l,u,y,S,m);case 1:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:Ms(y,S),nv(l,u,y,S,m);case 3:e:{if(sv(u),l===null)throw Error(r(387));y=u.pendingProps,_=u.memoizedState,S=_.element,vy(l,u),Ad(u,y,null,m);var R=u.memoizedState;if(y=R.element,_.isDehydrated)if(_={element:y,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},u.updateQueue.baseState=_,u.memoizedState=_,u.flags&256){S=rl(Error(r(423)),u),u=av(l,u,y,m,S);break e}else if(y!==S){S=rl(Error(r(424)),u),u=av(l,u,y,m,S);break e}else for(as=Ga(u.stateNode.containerInfo.firstChild),ss=u,dr=!0,Os=null,m=xy(u,null,y,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Jo(),y===S){u=_a(l,u,m);break e}kn(l,u,y,m)}u=u.child}return u;case 5:return Sy(u),l===null&&W0(u),y=u.type,S=u.pendingProps,_=l!==null?l.memoizedProps:null,R=S.children,O0(y,S)?R=null:_!==null&&O0(y,_)&&(u.flags|=32),rv(l,u),kn(l,u,R,m),u.child;case 6:return l===null&&W0(u),null;case 13:return iv(l,u,m);case 4:return Q0(u,u.stateNode.containerInfo),y=u.pendingProps,l===null?u.child=Qo(u,null,y,m):kn(l,u,y,m),u.child;case 11:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:Ms(y,S),Qy(l,u,y,S,m);case 7:return kn(l,u,u.pendingProps,m),u.child;case 8:return kn(l,u,u.pendingProps.children,m),u.child;case 12:return kn(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(y=u.type._context,S=u.pendingProps,_=u.memoizedProps,R=S.value,nr(Td,y._currentValue),y._currentValue=R,_!==null)if(Fs(_.value,R)){if(_.children===S.children&&!Ln.current){u=_a(l,u,m);break e}}else for(_=u.child,_!==null&&(_.return=u);_!==null;){var ae=_.dependencies;if(ae!==null){R=_.child;for(var ue=ae.firstContext;ue!==null;){if(ue.context===y){if(_.tag===1){ue=Sa(-1,m&-m),ue.tag=2;var Ce=_.updateQueue;if(Ce!==null){Ce=Ce.shared;var Le=Ce.pending;Le===null?ue.next=ue:(ue.next=Le.next,Le.next=ue),Ce.pending=ue}}_.lanes|=m,ue=_.alternate,ue!==null&&(ue.lanes|=m),q0(_.return,m,u),ae.lanes|=m;break}ue=ue.next}}else if(_.tag===10)R=_.type===u.type?null:_.child;else if(_.tag===18){if(R=_.return,R===null)throw Error(r(341));R.lanes|=m,ae=R.alternate,ae!==null&&(ae.lanes|=m),q0(R,m,u),R=_.sibling}else R=_.child;if(R!==null)R.return=_;else for(R=_;R!==null;){if(R===u){R=null;break}if(_=R.sibling,_!==null){_.return=R.return,R=_;break}R=R.return}_=R}kn(l,u,S.children,m),u=u.child}return u;case 9:return S=u.type,y=u.pendingProps.children,el(u,m),S=gs(S),y=y(S),u.flags|=1,kn(l,u,y,m),u.child;case 14:return y=u.type,S=Ms(y,u.pendingProps),S=Ms(y.type,S),Zy(l,u,y,S,m);case 15:return ev(l,u,u.type,u.pendingProps,m);case 17:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:Ms(y,S),Bd(l,u),u.tag=1,In(y)?(l=!0,wd(u)):l=!1,el(u,m),$y(u,y,S),dm(u,y,S,m),pm(null,u,y,!0,l,m);case 19:return lv(l,u,m);case 22:return tv(l,u,m)}throw Error(r(156,u.tag))};function Dv(l,u){return B(l,u)}function LT(l,u,m,y){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vs(l,u,m,y){return new LT(l,u,m,y)}function Om(l){return l=l.prototype,!(!l||!l.isReactComponent)}function IT(l){if(typeof l=="function")return Om(l)?1:0;if(l!=null){if(l=l.$$typeof,l===H)return 11;if(l===O)return 14}return 2}function ai(l,u){var m=l.alternate;return m===null?(m=vs(l.tag,u,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function Xd(l,u,m,y,S,_){var R=2;if(y=l,typeof l=="function")Om(l)&&(R=1);else if(typeof l=="string")R=5;else e:switch(l){case C:return eo(m.children,S,_,u);case P:R=8,S|=8;break;case I:return l=vs(12,m,u,S|2),l.elementType=I,l.lanes=_,l;case ie:return l=vs(13,m,u,S),l.elementType=ie,l.lanes=_,l;case Z:return l=vs(19,m,u,S),l.elementType=Z,l.lanes=_,l;case W:return Jd(m,S,_,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case G:R=10;break e;case J:R=9;break e;case H:R=11;break e;case O:R=14;break e;case K:R=16,y=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return u=vs(R,m,u,S),u.elementType=l,u.type=y,u.lanes=_,u}function eo(l,u,m,y){return l=vs(7,l,y,u),l.lanes=m,l}function Jd(l,u,m,y){return l=vs(22,l,y,u),l.elementType=W,l.lanes=m,l.stateNode={isHidden:!1},l}function Mm(l,u,m){return l=vs(6,l,null,u),l.lanes=m,l}function Lm(l,u,m){return u=vs(4,l.children!==null?l.children:[],l.key,u),u.lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function BT(l,u,m,y,S){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ha(0),this.expirationTimes=Ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.identifierPrefix=y,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Im(l,u,m,y,S,_,R,ae,ue){return l=new BT(l,u,m,ae,ue),u===1?(u=1,_===!0&&(u|=8)):u=0,_=vs(3,null,null,u),l.current=_,_.stateNode=l,_.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},J0(_),l}function UT(l,u,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:y==null?null:""+y,children:l,containerInfo:u,implementation:m}}function Rv(l){if(!l)return Xa;l=l._reactInternals;e:{if(ne(l)!==l||l.tag!==1)throw Error(r(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(In(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(l.tag===1){var m=l.type;if(In(m))return oy(l,m,u)}return u}function Fv(l,u,m,y,S,_,R,ae,ue){return l=Im(m,y,!0,l,S,_,R,ae,ue),l.context=Rv(null),m=l.current,y=An(),S=ni(m),_=Sa(y,S),_.callback=u??null,Za(m,_,S),l.current.lanes=S,Lr(l,S,y),zn(l,y),l}function Qd(l,u,m,y){var S=u.current,_=An(),R=ni(S);return m=Rv(m),u.context===null?u.context=m:u.pendingContext=m,u=Sa(_,R),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=Za(S,u,R),l!==null&&(Bs(l,S,R,_),kd(l,S,R)),R}function Zd(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Ov(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function Bm(l,u){Ov(l,u),(l=l.alternate)&&Ov(l,u)}function zT(){return null}var Mv=typeof reportError=="function"?reportError:function(l){console.error(l)};function Um(l){this._internalRoot=l}ef.prototype.render=Um.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));Qd(l,u,null,null)},ef.prototype.unmount=Um.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;Ji(function(){Qd(null,l,null,null)}),u[xa]=null}};function ef(l){this._internalRoot=l}ef.prototype.unstable_scheduleHydration=function(l){if(l){var u=Vi();l={blockedOn:null,target:l,priority:u};for(var m=0;m<$a.length&&u!==0&&u<$a[m].priority;m++);$a.splice(m,0,l),m===0&&S1(l)}};function zm(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function tf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Lv(){}function VT(l,u,m,y,S){if(S){if(typeof y=="function"){var _=y;y=function(){var Ce=Zd(R);_.call(Ce)}}var R=Fv(u,y,l,0,null,!1,!1,"",Lv);return l._reactRootContainer=R,l[xa]=R.current,dc(l.nodeType===8?l.parentNode:l),Ji(),R}for(;S=l.lastChild;)l.removeChild(S);if(typeof y=="function"){var ae=y;y=function(){var Ce=Zd(ue);ae.call(Ce)}}var ue=Im(l,0,!1,null,null,!1,!1,"",Lv);return l._reactRootContainer=ue,l[xa]=ue.current,dc(l.nodeType===8?l.parentNode:l),Ji(function(){Qd(u,ue,m,y)}),ue}function rf(l,u,m,y,S){var _=m._reactRootContainer;if(_){var R=_;if(typeof S=="function"){var ae=S;S=function(){var ue=Zd(R);ae.call(ue)}}Qd(u,R,l,S)}else R=VT(m,u,l,S,y);return Zd(R)}pa=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=Bi(u.pendingLanes);m!==0&&(fs(u,m|1),zn(u,Ne()),(Ut&6)===0&&(al=Ne()+500,Ja()))}break;case 13:Ji(function(){var y=wa(l,1);if(y!==null){var S=An();Bs(y,l,1,S)}}),Bm(l,1)}},hs=function(l){if(l.tag===13){var u=wa(l,134217728);if(u!==null){var m=An();Bs(u,l,134217728,m)}Bm(l,134217728)}},Jl=function(l){if(l.tag===13){var u=ni(l),m=wa(l,u);if(m!==null){var y=An();Bs(m,l,u,y)}Bm(l,u)}},Vi=function(){return Ot},Io=function(l,u){var m=Ot;try{return Ot=l,u()}finally{Ot=m}},zr=function(l,u,m){switch(u){case"input":if(je(l,m),u=m.name,m.type==="radio"&&u!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var y=m[u];if(y!==l&&y.form===l.form){var S=vd(y);if(!S)throw Error(r(90));He(y),je(y,S)}}}break;case"textarea":Be(l,m);break;case"select":u=m.value,u!=null&&st(l,!!m.multiple,u,!1)}},ht=Dm,Bt=Ji;var HT={usingClientEntryPoint:!1,Events:[mc,Yo,vd,We,Qe,Dm]},Ec={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WT={bundleType:Ec.bundleType,version:Ec.version,rendererPackageName:Ec.rendererPackageName,rendererConfig:Ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=be(l),l===null?null:l.stateNode},findFiberByHostInstance:Ec.findFiberByHostInstance||zT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{pr=nf.inject(WT),Ft=nf}catch{}}return Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HT,Vn.createPortal=function(l,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zm(u))throw Error(r(200));return UT(l,u,null,m)},Vn.createRoot=function(l,u){if(!zm(l))throw Error(r(299));var m=!1,y="",S=Mv;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),u=Im(l,1,!1,null,null,m,!1,y,S),l[xa]=u.current,dc(l.nodeType===8?l.parentNode:l),new Um(u)},Vn.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=be(u),l=l===null?null:l.stateNode,l},Vn.flushSync=function(l){return Ji(l)},Vn.hydrate=function(l,u,m){if(!tf(u))throw Error(r(200));return rf(null,l,u,!0,m)},Vn.hydrateRoot=function(l,u,m){if(!zm(l))throw Error(r(405));var y=m!=null&&m.hydratedSources||null,S=!1,_="",R=Mv;if(m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(_=m.identifierPrefix),m.onRecoverableError!==void 0&&(R=m.onRecoverableError)),u=Fv(u,null,l,1,m??null,S,!1,_,R),l[xa]=u.current,dc(l),y)for(l=0;l<y.length;l++)m=y[l],S=m._getVersion,S=S(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,S]:u.mutableSourceEagerHydrationData.push(m,S);return new ef(u)},Vn.render=function(l,u,m){if(!tf(u))throw Error(r(200));return rf(null,l,u,!1,m)},Vn.unmountComponentAtNode=function(l){if(!tf(l))throw Error(r(40));return l._reactRootContainer?(Ji(function(){rf(null,null,l,!1,function(){l._reactRootContainer=null,l[xa]=null})}),!0):!1},Vn.unstable_batchedUpdates=Dm,Vn.unstable_renderSubtreeIntoContainer=function(l,u,m,y){if(!tf(m))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return rf(l,u,m,!1,y)},Vn.version="18.3.1-next-f1338f8080-20240426",Vn}var $v;function Z4(){if($v)return Wm.exports;$v=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wm.exports=tE(),Wm.exports}var Yv;function rE(){if(Yv)return sf;Yv=1;var t=Z4();return sf.createRoot=t.createRoot,sf.hydrateRoot=t.hydrateRoot,sf}var nE=rE();const eS=A.createContext(),sE=({children:t})=>{const e=()=>{if(typeof window<"u"&&window.localStorage){const a=window.localStorage.getItem("theme");if(typeof a=="string")return a;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"},[r,n]=A.useState(e);A.useEffect(()=>{const a=window.document.documentElement,o=r==="dark";a.classList.remove(o?"light":"dark"),a.classList.add(r),localStorage.setItem("theme",r)},[r]);const s=()=>n(a=>a==="dark"?"light":"dark");return i.jsx(eS.Provider,{value:{theme:r,toggleTheme:s},children:t})};Z4();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pu.apply(this,arguments)}var pi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pi||(pi={}));const Kv="popstate";function aE(t){t===void 0&&(t={});function e(s,a){let{pathname:o="/",search:c="",hash:d=""}=ko(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Lp("",{pathname:o,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){let o=s.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let d=s.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof a=="string"?a:eh(a))}function n(s,a){Hg(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return oE(e,r,n,t)}function kr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iE(){return Math.random().toString(36).substr(2,8)}function Gv(t,e){return{usr:t.state,key:t.key,idx:e}}function Lp(t,e,r,n){return r===void 0&&(r=null),pu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ko(e):e,{state:r,key:e&&e.key||n||iE()})}function eh(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ko(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function oE(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,c=pi.Pop,d=null,f=h();f==null&&(f=0,o.replaceState(pu({},o.state,{idx:f}),""));function h(){return(o.state||{idx:null}).idx}function p(){c=pi.Pop;let v=h(),N=v==null?null:v-f;f=v,d&&d({action:c,location:b.location,delta:N})}function g(v,N){c=pi.Push;let E=Lp(b.location,v,N);r&&r(E,v),f=h()+1;let j=Gv(E,f),D=b.createHref(E);try{o.pushState(j,"",D)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(D)}a&&d&&d({action:c,location:b.location,delta:1})}function x(v,N){c=pi.Replace;let E=Lp(b.location,v,N);r&&r(E,v),f=h();let j=Gv(E,f),D=b.createHref(E);o.replaceState(j,"",D),a&&d&&d({action:c,location:b.location,delta:0})}function w(v){let N=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof v=="string"?v:eh(v);return E=E.replace(/ $/,"%20"),kr(N,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,N)}let b={get action(){return c},get location(){return t(s,o)},listen(v){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Kv,p),d=v,()=>{s.removeEventListener(Kv,p),d=null}},createHref(v){return e(s,v)},createURL:w,encodeLocation(v){let N=w(v);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:x,go(v){return o.go(v)}};return b}var qv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qv||(qv={}));function lE(t,e,r){return r===void 0&&(r="/"),cE(t,e,r)}function cE(t,e,r,n){let s=typeof e=="string"?ko(e):e,a=Wg(s.pathname||"/",r);if(a==null)return null;let o=tS(t);uE(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let f=SE(a);c=vE(o[d],f)}return c}function tS(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};d.relativePath.startsWith("/")&&(kr(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let f=wi([n,d.relativePath]),h=r.concat(d);a.children&&a.children.length>0&&(kr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),tS(a.children,e,h,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:xE(f,a.index),routesMeta:h})};return t.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,o);else for(let d of rS(a.path))s(a,o,d)}),e}function rS(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=rS(n.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function uE(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:yE(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dE=/^:[\w-]+$/,fE=3,hE=2,mE=1,pE=10,gE=-2,Xv=t=>t==="*";function xE(t,e){let r=t.split("/"),n=r.length;return r.some(Xv)&&(n+=gE),e&&(n+=hE),r.filter(s=>!Xv(s)).reduce((s,a)=>s+(dE.test(a)?fE:a===""?mE:pE),n)}function yE(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function vE(t,e,r){let{routesMeta:n}=t,s={},a="/",o=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=bE({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},h),g=d.route;if(!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:wi([a,p.pathname]),pathnameBase:jE(wi([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=wi([a,p.pathnameBase]))}return o}function bE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=wE(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((f,h,p)=>{let{paramName:g,isOptional:x}=h;if(g==="*"){let b=c[p]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const w=c[p];return x&&!w?f[g]=void 0:f[g]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:t}}function wE(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Hg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function SE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function _E(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?ko(t):t;return{pathname:r?r.startsWith("/")?r:NE(r,e):e,search:TE(n),hash:EE(s)}}function NE(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Km(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CE(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function $g(t,e){let r=CE(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yg(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=ko(t):(s=pu({},t),kr(!s.pathname||!s.pathname.includes("?"),Km("?","pathname","search",s)),kr(!s.pathname||!s.pathname.includes("#"),Km("#","pathname","hash",s)),kr(!s.search||!s.search.includes("#"),Km("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,c;if(o==null)c=r;else{let p=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}c=p>=0?e[p]:"/"}let d=_E(s,c),f=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||h)&&(d.pathname+="/"),d}const wi=t=>t.join("/").replace(/\/\/+/g,"/"),jE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nS=["post","put","patch","delete"];new Set(nS);const AE=["get",...nS];new Set(AE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gu.apply(this,arguments)}const Kg=A.createContext(null),PE=A.createContext(null),Di=A.createContext(null),Bh=A.createContext(null),Ri=A.createContext({outlet:null,matches:[],isDataRoute:!1}),sS=A.createContext(null);function DE(t,e){let{relative:r}=e===void 0?{}:e;Il()||kr(!1);let{basename:n,navigator:s}=A.useContext(Di),{hash:a,pathname:o,search:c}=iS(t,{relative:r}),d=o;return n!=="/"&&(d=o==="/"?n:wi([n,o])),s.createHref({pathname:d,search:c,hash:a})}function Il(){return A.useContext(Bh)!=null}function Bl(){return Il()||kr(!1),A.useContext(Bh).location}function aS(t){A.useContext(Di).static||A.useLayoutEffect(t)}function Ba(){let{isDataRoute:t}=A.useContext(Ri);return t?$E():RE()}function RE(){Il()||kr(!1);let t=A.useContext(Kg),{basename:e,future:r,navigator:n}=A.useContext(Di),{matches:s}=A.useContext(Ri),{pathname:a}=Bl(),o=JSON.stringify($g(s,r.v7_relativeSplatPath)),c=A.useRef(!1);return aS(()=>{c.current=!0}),A.useCallback(function(f,h){if(h===void 0&&(h={}),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=Yg(f,JSON.parse(o),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:wi([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,o,a,t])}function iS(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=A.useContext(Di),{matches:s}=A.useContext(Ri),{pathname:a}=Bl(),o=JSON.stringify($g(s,n.v7_relativeSplatPath));return A.useMemo(()=>Yg(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function FE(t,e){return OE(t,e)}function OE(t,e,r,n){Il()||kr(!1);let{navigator:s}=A.useContext(Di),{matches:a}=A.useContext(Ri),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let f=Bl(),h;if(e){var p;let v=typeof e=="string"?ko(e):e;d==="/"||(p=v.pathname)!=null&&p.startsWith(d)||kr(!1),h=v}else h=f;let g=h.pathname||"/",x=g;if(d!=="/"){let v=d.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=lE(t,{pathname:x}),b=UE(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:wi([d,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:wi([d,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&b?A.createElement(Bh.Provider,{value:{location:gu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:pi.Pop}},b):b}function ME(){let t=WE(),e=kE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),r?A.createElement("pre",{style:s},r):null,null)}const LE=A.createElement(ME,null);class IE extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?A.createElement(Ri.Provider,{value:this.props.routeContext},A.createElement(sS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BE(t){let{routeContext:e,match:r,children:n}=t,s=A.useContext(Kg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(Ri.Provider,{value:e},n)}function UE(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,c=(s=r)==null?void 0:s.errors;if(c!=null){let h=o.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);h>=0||kr(!1),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:g,errors:x}=r,w=p.route.loader&&g[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||w){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,p,g)=>{let x,w=!1,b=null,v=null;r&&(x=c&&p.route.id?c[p.route.id]:void 0,b=p.route.errorElement||LE,d&&(f<0&&g===0?(YE("route-fallback"),w=!0,v=null):f===g&&(w=!0,v=p.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,g+1)),E=()=>{let j;return x?j=b:w?j=v:p.route.Component?j=A.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,A.createElement(BE,{match:p,routeContext:{outlet:h,matches:N,isDataRoute:r!=null},children:j})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?A.createElement(IE,{location:r.location,revalidation:r.revalidation,component:b,error:x,children:E(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):E()},null)}var oS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oS||{}),lS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lS||{});function zE(t){let e=A.useContext(Kg);return e||kr(!1),e}function VE(t){let e=A.useContext(PE);return e||kr(!1),e}function HE(t){let e=A.useContext(Ri);return e||kr(!1),e}function cS(t){let e=HE(),r=e.matches[e.matches.length-1];return r.route.id||kr(!1),r.route.id}function WE(){var t;let e=A.useContext(sS),r=VE(),n=cS();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function $E(){let{router:t}=zE(oS.UseNavigateStable),e=cS(lS.UseNavigateStable),r=A.useRef(!1);return aS(()=>{r.current=!0}),A.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,gu({fromRouteId:e},a)))},[t,e])}const Jv={};function YE(t,e,r){Jv[t]||(Jv[t]=!0)}function KE(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ip(t){let{to:e,replace:r,state:n,relative:s}=t;Il()||kr(!1);let{future:a,static:o}=A.useContext(Di),{matches:c}=A.useContext(Ri),{pathname:d}=Bl(),f=Ba(),h=Yg(e,$g(c,a.v7_relativeSplatPath),d,s==="path"),p=JSON.stringify(h);return A.useEffect(()=>f(JSON.parse(p),{replace:r,state:n,relative:s}),[f,p,s,r,n]),null}function Kt(t){kr(!1)}function GE(t){let{basename:e="/",children:r=null,location:n,navigationType:s=pi.Pop,navigator:a,static:o=!1,future:c}=t;Il()&&kr(!1);let d=e.replace(/^\/*/,"/"),f=A.useMemo(()=>({basename:d,navigator:a,static:o,future:gu({v7_relativeSplatPath:!1},c)}),[d,c,a,o]);typeof n=="string"&&(n=ko(n));let{pathname:h="/",search:p="",hash:g="",state:x=null,key:w="default"}=n,b=A.useMemo(()=>{let v=Wg(h,d);return v==null?null:{location:{pathname:v,search:p,hash:g,state:x,key:w},navigationType:s}},[d,h,p,g,x,w,s]);return b==null?null:A.createElement(Di.Provider,{value:f},A.createElement(Bh.Provider,{children:r,value:b}))}function qE(t){let{children:e,location:r}=t;return FE(Bp(e),r)}new Promise(()=>{});function Bp(t,e){e===void 0&&(e=[]);let r=[];return A.Children.forEach(t,(n,s)=>{if(!A.isValidElement(n))return;let a=[...e,s];if(n.type===A.Fragment){r.push.apply(r,Bp(n.props.children,a));return}n.type!==Kt&&kr(!1),!n.props.index||!n.props.children||kr(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Bp(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Up.apply(this,arguments)}function XE(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function JE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QE(t,e){return t.button===0&&(!e||e==="_self")&&!JE(t)}const ZE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ek="6";try{window.__reactRouterVersion=ek}catch{}const tk="startTransition",Qv=QT[tk];function rk(t){let{basename:e,children:r,future:n,window:s}=t,a=A.useRef();a.current==null&&(a.current=aE({window:s,v5Compat:!0}));let o=a.current,[c,d]=A.useState({action:o.action,location:o.location}),{v7_startTransition:f}=n||{},h=A.useCallback(p=>{f&&Qv?Qv(()=>d(p)):d(p)},[d,f]);return A.useLayoutEffect(()=>o.listen(h),[o,h]),A.useEffect(()=>KE(n),[n]),A.createElement(GE,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const nk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=A.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:c,target:d,to:f,preventScrollReset:h,viewTransition:p}=e,g=XE(e,ZE),{basename:x}=A.useContext(Di),w,b=!1;if(typeof f=="string"&&sk.test(f)&&(w=f,nk))try{let j=new URL(window.location.href),D=f.startsWith("//")?new URL(j.protocol+f):new URL(f),T=Wg(D.pathname,x);D.origin===j.origin&&T!=null?f=T+D.search+D.hash:b=!0}catch{}let v=DE(f,{relative:s}),N=ak(f,{replace:o,state:c,target:d,preventScrollReset:h,relative:s,viewTransition:p});function E(j){n&&n(j),j.defaultPrevented||N(j)}return A.createElement("a",Up({},g,{href:w||v,onClick:b||a?n:E,ref:r,target:d}))});var Zv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zv||(Zv={}));var e2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(e2||(e2={}));function ak(t,e){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:c}=e===void 0?{}:e,d=Ba(),f=Bl(),h=iS(t,{relative:o});return A.useCallback(p=>{if(QE(p,r)){p.preventDefault();let g=n!==void 0?n:eh(f)===eh(h);d(t,{replace:g,state:s,preventScrollReset:a,relative:o,viewTransition:c})}},[f,d,h,n,s,r,t,a,o,c])}function uS(t,e){return function(){return t.apply(e,arguments)}}const{toString:ik}=Object.prototype,{getPrototypeOf:Gg}=Object,{iterator:Uh,toStringTag:dS}=Symbol,zh=(t=>e=>{const r=ik.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),qs=t=>(t=t.toLowerCase(),e=>zh(e)===t),Vh=t=>e=>typeof e===t,{isArray:Ul}=Array,xu=Vh("undefined");function ok(t){return t!==null&&!xu(t)&&t.constructor!==null&&!xu(t.constructor)&&Kn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const fS=qs("ArrayBuffer");function lk(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&fS(t.buffer),e}const ck=Vh("string"),Kn=Vh("function"),hS=Vh("number"),Hh=t=>t!==null&&typeof t=="object",uk=t=>t===!0||t===!1,Lf=t=>{if(zh(t)!=="object")return!1;const e=Gg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(dS in t)&&!(Uh in t)},dk=qs("Date"),fk=qs("File"),hk=qs("Blob"),mk=qs("FileList"),pk=t=>Hh(t)&&Kn(t.pipe),gk=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Kn(t.append)&&((e=zh(t))==="formdata"||e==="object"&&Kn(t.toString)&&t.toString()==="[object FormData]"))},xk=qs("URLSearchParams"),[yk,vk,bk,wk]=["ReadableStream","Request","Response","Headers"].map(qs),Sk=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vu(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),Ul(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let c;for(n=0;n<o;n++)c=a[n],e.call(null,t[c],c,t)}}function mS(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const uo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pS=t=>!xu(t)&&t!==uo;function zp(){const{caseless:t}=pS(this)&&this||{},e={},r=(n,s)=>{const a=t&&mS(e,s)||s;Lf(e[a])&&Lf(n)?e[a]=zp(e[a],n):Lf(n)?e[a]=zp({},n):Ul(n)?e[a]=n.slice():e[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Vu(arguments[n],r);return e}const _k=(t,e,r,{allOwnKeys:n}={})=>(Vu(e,(s,a)=>{r&&Kn(s)?t[a]=uS(s,r):t[a]=s},{allOwnKeys:n}),t),Nk=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ck=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},jk=(t,e,r,n)=>{let s,a,o;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)o=s[a],(!n||n(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=r!==!1&&Gg(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Tk=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Ek=t=>{if(!t)return null;if(Ul(t))return t;let e=t.length;if(!hS(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},kk=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Gg(Uint8Array)),Ak=(t,e)=>{const n=(t&&t[Uh]).call(t);let s;for(;(s=n.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},Pk=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Dk=qs("HTMLFormElement"),Rk=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),t2=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Fk=qs("RegExp"),gS=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Vu(r,(s,a)=>{let o;(o=e(s,a,t))!==!1&&(n[a]=o||s)}),Object.defineProperties(t,n)},Ok=t=>{gS(t,(e,r)=>{if(Kn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Kn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Mk=(t,e)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return Ul(t)?n(t):n(String(t).split(e)),r},Lk=()=>{},Ik=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Bk(t){return!!(t&&Kn(t.append)&&t[dS]==="FormData"&&t[Uh])}const Uk=t=>{const e=new Array(10),r=(n,s)=>{if(Hh(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const a=Ul(n)?[]:{};return Vu(n,(o,c)=>{const d=r(o,s+1);!xu(d)&&(a[c]=d)}),e[s]=void 0,a}}return n};return r(t,0)},zk=qs("AsyncFunction"),Vk=t=>t&&(Hh(t)||Kn(t))&&Kn(t.then)&&Kn(t.catch),xS=((t,e)=>t?setImmediate:e?((r,n)=>(uo.addEventListener("message",({source:s,data:a})=>{s===uo&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),uo.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Kn(uo.postMessage)),Hk=typeof queueMicrotask<"u"?queueMicrotask.bind(uo):typeof process<"u"&&process.nextTick||xS,Wk=t=>t!=null&&Kn(t[Uh]),Ae={isArray:Ul,isArrayBuffer:fS,isBuffer:ok,isFormData:gk,isArrayBufferView:lk,isString:ck,isNumber:hS,isBoolean:uk,isObject:Hh,isPlainObject:Lf,isReadableStream:yk,isRequest:vk,isResponse:bk,isHeaders:wk,isUndefined:xu,isDate:dk,isFile:fk,isBlob:hk,isRegExp:Fk,isFunction:Kn,isStream:pk,isURLSearchParams:xk,isTypedArray:kk,isFileList:mk,forEach:Vu,merge:zp,extend:_k,trim:Sk,stripBOM:Nk,inherits:Ck,toFlatObject:jk,kindOf:zh,kindOfTest:qs,endsWith:Tk,toArray:Ek,forEachEntry:Ak,matchAll:Pk,isHTMLForm:Dk,hasOwnProperty:t2,hasOwnProp:t2,reduceDescriptors:gS,freezeMethods:Ok,toObjectSet:Mk,toCamelCase:Rk,noop:Lk,toFiniteNumber:Ik,findKey:mS,global:uo,isContextDefined:pS,isSpecCompliantForm:Bk,toJSONObject:Uk,isAsyncFn:zk,isThenable:Vk,setImmediate:xS,asap:Hk,isIterable:Wk};function Tt(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Ae.inherits(Tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ae.toJSONObject(this.config),code:this.code,status:this.status}}});const yS=Tt.prototype,vS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{vS[t]={value:t}});Object.defineProperties(Tt,vS);Object.defineProperty(yS,"isAxiosError",{value:!0});Tt.from=(t,e,r,n,s,a)=>{const o=Object.create(yS);return Ae.toFlatObject(t,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Tt.call(o,t.message,e,r,n,s),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const $k=null;function Vp(t){return Ae.isPlainObject(t)||Ae.isArray(t)}function bS(t){return Ae.endsWith(t,"[]")?t.slice(0,-2):t}function r2(t,e,r){return t?t.concat(e).map(function(s,a){return s=bS(s),!r&&a?"["+s+"]":s}).join(r?".":""):e}function Yk(t){return Ae.isArray(t)&&!t.some(Vp)}const Kk=Ae.toFlatObject(Ae,{},null,function(e){return/^is[A-Z]/.test(e)});function Wh(t,e,r){if(!Ae.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Ae.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,v){return!Ae.isUndefined(v[b])});const n=r.metaTokens,s=r.visitor||h,a=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&Ae.isSpecCompliantForm(e);if(!Ae.isFunction(s))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(Ae.isDate(w))return w.toISOString();if(!d&&Ae.isBlob(w))throw new Tt("Blob is not supported. Use a Buffer instead.");return Ae.isArrayBuffer(w)||Ae.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,b,v){let N=w;if(w&&!v&&typeof w=="object"){if(Ae.endsWith(b,"{}"))b=n?b:b.slice(0,-2),w=JSON.stringify(w);else if(Ae.isArray(w)&&Yk(w)||(Ae.isFileList(w)||Ae.endsWith(b,"[]"))&&(N=Ae.toArray(w)))return b=bS(b),N.forEach(function(j,D){!(Ae.isUndefined(j)||j===null)&&e.append(o===!0?r2([b],D,a):o===null?b:b+"[]",f(j))}),!1}return Vp(w)?!0:(e.append(r2(v,b,a),f(w)),!1)}const p=[],g=Object.assign(Kk,{defaultVisitor:h,convertValue:f,isVisitable:Vp});function x(w,b){if(!Ae.isUndefined(w)){if(p.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));p.push(w),Ae.forEach(w,function(N,E){(!(Ae.isUndefined(N)||N===null)&&s.call(e,N,Ae.isString(E)?E.trim():E,b,g))===!0&&x(N,b?b.concat(E):[E])}),p.pop()}}if(!Ae.isObject(t))throw new TypeError("data must be an object");return x(t),e}function n2(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function qg(t,e){this._pairs=[],t&&Wh(t,this,e)}const wS=qg.prototype;wS.append=function(e,r){this._pairs.push([e,r])};wS.toString=function(e){const r=e?function(n){return e.call(this,n,n2)}:n2;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Gk(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function SS(t,e,r){if(!e)return t;const n=r&&r.encode||Gk;Ae.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(e,r):a=Ae.isURLSearchParams(e)?e.toString():new qg(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class s2{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ae.forEach(this.handlers,function(n){n!==null&&e(n)})}}const _S={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qk=typeof URLSearchParams<"u"?URLSearchParams:qg,Xk=typeof FormData<"u"?FormData:null,Jk=typeof Blob<"u"?Blob:null,Qk={isBrowser:!0,classes:{URLSearchParams:qk,FormData:Xk,Blob:Jk},protocols:["http","https","file","blob","url","data"]},Xg=typeof window<"u"&&typeof document<"u",Hp=typeof navigator=="object"&&navigator||void 0,Zk=Xg&&(!Hp||["ReactNative","NativeScript","NS"].indexOf(Hp.product)<0),e5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",t5=Xg&&window.location.href||"http://localhost",r5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xg,hasStandardBrowserEnv:Zk,hasStandardBrowserWebWorkerEnv:e5,navigator:Hp,origin:t5},Symbol.toStringTag,{value:"Module"})),wn={...r5,...Qk};function n5(t,e){return Wh(t,new wn.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,a){return wn.isNode&&Ae.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function s5(t){return Ae.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function a5(t){const e={},r=Object.keys(t);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],e[a]=t[a];return e}function NS(t){function e(r,n,s,a){let o=r[a++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=a>=r.length;return o=!o&&Ae.isArray(s)?s.length:o,d?(Ae.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!c):((!s[o]||!Ae.isObject(s[o]))&&(s[o]=[]),e(r,n,s[o],a)&&Ae.isArray(s[o])&&(s[o]=a5(s[o])),!c)}if(Ae.isFormData(t)&&Ae.isFunction(t.entries)){const r={};return Ae.forEachEntry(t,(n,s)=>{e(s5(n),s,r,0)}),r}return null}function i5(t,e,r){if(Ae.isString(t))try{return(e||JSON.parse)(t),Ae.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Hu={transitional:_S,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=Ae.isObject(e);if(a&&Ae.isHTMLForm(e)&&(e=new FormData(e)),Ae.isFormData(e))return s?JSON.stringify(NS(e)):e;if(Ae.isArrayBuffer(e)||Ae.isBuffer(e)||Ae.isStream(e)||Ae.isFile(e)||Ae.isBlob(e)||Ae.isReadableStream(e))return e;if(Ae.isArrayBufferView(e))return e.buffer;if(Ae.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return n5(e,this.formSerializer).toString();if((c=Ae.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Wh(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),i5(e)):e}],transformResponse:[function(e){const r=this.transitional||Hu.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Ae.isResponse(e)||Ae.isReadableStream(e))return e;if(e&&Ae.isString(e)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(o)throw c.name==="SyntaxError"?Tt.from(c,Tt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wn.classes.FormData,Blob:wn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ae.forEach(["delete","get","head","post","put","patch"],t=>{Hu.headers[t]={}});const o5=Ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),l5=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||e[r]&&o5[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},a2=Symbol("internals");function Ac(t){return t&&String(t).trim().toLowerCase()}function If(t){return t===!1||t==null?t:Ae.isArray(t)?t.map(If):String(t)}function c5(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const u5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Gm(t,e,r,n,s){if(Ae.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!Ae.isString(e)){if(Ae.isString(n))return e.indexOf(n)!==-1;if(Ae.isRegExp(n))return n.test(e)}}function d5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function f5(t,e){const r=Ae.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,a,o){return this[n].call(this,e,s,a,o)},configurable:!0})})}let Gn=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function a(c,d,f){const h=Ac(d);if(!h)throw new Error("header name must be a non-empty string");const p=Ae.findKey(s,h);(!p||s[p]===void 0||f===!0||f===void 0&&s[p]!==!1)&&(s[p||d]=If(c))}const o=(c,d)=>Ae.forEach(c,(f,h)=>a(f,h,d));if(Ae.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(Ae.isString(e)&&(e=e.trim())&&!u5(e))o(l5(e),r);else if(Ae.isObject(e)&&Ae.isIterable(e)){let c={},d,f;for(const h of e){if(!Ae.isArray(h))throw TypeError("Object iterator must return a key-value pair");c[f=h[0]]=(d=c[f])?Ae.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}o(c,r)}else e!=null&&a(r,e,n);return this}get(e,r){if(e=Ac(e),e){const n=Ae.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return c5(s);if(Ae.isFunction(r))return r.call(this,s,n);if(Ae.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ac(e),e){const n=Ae.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Gm(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function a(o){if(o=Ac(o),o){const c=Ae.findKey(n,o);c&&(!r||Gm(n,n[c],c,r))&&(delete n[c],s=!0)}}return Ae.isArray(e)?e.forEach(a):a(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!e||Gm(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const r=this,n={};return Ae.forEach(this,(s,a)=>{const o=Ae.findKey(n,a);if(o){r[o]=If(s),delete r[a];return}const c=e?d5(a):String(a).trim();c!==a&&delete r[a],r[c]=If(s),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Ae.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&Ae.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[a2]=this[a2]={accessors:{}}).accessors,s=this.prototype;function a(o){const c=Ac(o);n[c]||(f5(s,o),n[c]=!0)}return Ae.isArray(e)?e.forEach(a):a(e),this}};Gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ae.reduceDescriptors(Gn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Ae.freezeMethods(Gn);function qm(t,e){const r=this||Hu,n=e||r,s=Gn.from(n.headers);let a=n.data;return Ae.forEach(t,function(c){a=c.call(r,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function CS(t){return!!(t&&t.__CANCEL__)}function zl(t,e,r){Tt.call(this,t??"canceled",Tt.ERR_CANCELED,e,r),this.name="CanceledError"}Ae.inherits(zl,Tt,{__CANCEL__:!0});function jS(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Tt("Request failed with status code "+r.status,[Tt.ERR_BAD_REQUEST,Tt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function h5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function m5(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,a=0,o;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),h=n[a];o||(o=f),r[s]=d,n[s]=f;let p=a,g=0;for(;p!==s;)g+=r[p++],p=p%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),f-o<e)return;const x=h&&f-h;return x?Math.round(g*1e3/x):void 0}}function p5(t,e){let r=0,n=1e3/e,s,a;const o=(f,h=Date.now())=>{r=h,s=null,a&&(clearTimeout(a),a=null),t.apply(null,f)};return[(...f)=>{const h=Date.now(),p=h-r;p>=n?o(f,h):(s=f,a||(a=setTimeout(()=>{a=null,o(s)},n-p)))},()=>s&&o(s)]}const th=(t,e,r=3)=>{let n=0;const s=m5(50,250);return p5(a=>{const o=a.loaded,c=a.lengthComputable?a.total:void 0,d=o-n,f=s(d),h=o<=c;n=o;const p={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&h?(c-o)/f:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(p)},r)},i2=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},o2=t=>(...e)=>Ae.asap(()=>t(...e)),g5=wn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,wn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(wn.origin),wn.navigator&&/(msie|trident)/i.test(wn.navigator.userAgent)):()=>!0,x5=wn.hasStandardBrowserEnv?{write(t,e,r,n,s,a){const o=[t+"="+encodeURIComponent(e)];Ae.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Ae.isString(n)&&o.push("path="+n),Ae.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function y5(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function v5(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function TS(t,e,r){let n=!y5(e);return t&&(n||r==!1)?v5(t,e):e}const l2=t=>t instanceof Gn?{...t}:t;function _o(t,e){e=e||{};const r={};function n(f,h,p,g){return Ae.isPlainObject(f)&&Ae.isPlainObject(h)?Ae.merge.call({caseless:g},f,h):Ae.isPlainObject(h)?Ae.merge({},h):Ae.isArray(h)?h.slice():h}function s(f,h,p,g){if(Ae.isUndefined(h)){if(!Ae.isUndefined(f))return n(void 0,f,p,g)}else return n(f,h,p,g)}function a(f,h){if(!Ae.isUndefined(h))return n(void 0,h)}function o(f,h){if(Ae.isUndefined(h)){if(!Ae.isUndefined(f))return n(void 0,f)}else return n(void 0,h)}function c(f,h,p){if(p in e)return n(f,h);if(p in t)return n(void 0,f)}const d={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(f,h,p)=>s(l2(f),l2(h),p,!0)};return Ae.forEach(Object.keys(Object.assign({},t,e)),function(h){const p=d[h]||s,g=p(t[h],e[h],h);Ae.isUndefined(g)&&p!==c||(r[h]=g)}),r}const ES=t=>{const e=_o({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:c}=e;e.headers=o=Gn.from(o),e.url=SS(TS(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(Ae.isFormData(r)){if(wn.hasStandardBrowserEnv||wn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[f,...h]=d?d.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...h].join("; "))}}if(wn.hasStandardBrowserEnv&&(n&&Ae.isFunction(n)&&(n=n(e)),n||n!==!1&&g5(e.url))){const f=s&&a&&x5.read(a);f&&o.set(s,f)}return e},b5=typeof XMLHttpRequest<"u",w5=b5&&function(t){return new Promise(function(r,n){const s=ES(t);let a=s.data;const o=Gn.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=s,h,p,g,x,w;function b(){x&&x(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function N(){if(!v)return;const j=Gn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),T={data:!c||c==="text"||c==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:j,config:t,request:v};jS(function(C){r(C),b()},function(C){n(C),b()},T),v=null}"onloadend"in v?v.onloadend=N:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(N)},v.onabort=function(){v&&(n(new Tt("Request aborted",Tt.ECONNABORTED,t,v)),v=null)},v.onerror=function(){n(new Tt("Network Error",Tt.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let D=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||_S;s.timeoutErrorMessage&&(D=s.timeoutErrorMessage),n(new Tt(D,T.clarifyTimeoutError?Tt.ETIMEDOUT:Tt.ECONNABORTED,t,v)),v=null},a===void 0&&o.setContentType(null),"setRequestHeader"in v&&Ae.forEach(o.toJSON(),function(D,T){v.setRequestHeader(T,D)}),Ae.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),c&&c!=="json"&&(v.responseType=s.responseType),f&&([g,w]=th(f,!0),v.addEventListener("progress",g)),d&&v.upload&&([p,x]=th(d),v.upload.addEventListener("progress",p),v.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(h=j=>{v&&(n(!j||j.type?new zl(null,t,v):j),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const E=h5(s.url);if(E&&wn.protocols.indexOf(E)===-1){n(new Tt("Unsupported protocol "+E+":",Tt.ERR_BAD_REQUEST,t));return}v.send(a||null)})},S5=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const a=function(f){if(!s){s=!0,c();const h=f instanceof Error?f:this.reason;n.abort(h instanceof Tt?h:new zl(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,a(new Tt(`timeout ${e} of ms exceeded`,Tt.ETIMEDOUT))},e);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),t=null)};t.forEach(f=>f.addEventListener("abort",a));const{signal:d}=n;return d.unsubscribe=()=>Ae.asap(c),d}},_5=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},N5=async function*(t,e){for await(const r of C5(t))yield*_5(r,e)},C5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},c2=(t,e,r,n)=>{const s=N5(t,e);let a=0,o,c=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:h}=await s.next();if(f){c(),d.close();return}let p=h.byteLength;if(r){let g=a+=p;r(g)}d.enqueue(new Uint8Array(h))}catch(f){throw c(f),f}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},$h=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kS=$h&&typeof ReadableStream=="function",j5=$h&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),AS=(t,...e)=>{try{return!!t(...e)}catch{return!1}},T5=kS&&AS(()=>{let t=!1;const e=new Request(wn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),u2=64*1024,Wp=kS&&AS(()=>Ae.isReadableStream(new Response("").body)),rh={stream:Wp&&(t=>t.body)};$h&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!rh[e]&&(rh[e]=Ae.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Tt(`Response type '${e}' is not supported`,Tt.ERR_NOT_SUPPORT,n)})})})(new Response);const E5=async t=>{if(t==null)return 0;if(Ae.isBlob(t))return t.size;if(Ae.isSpecCompliantForm(t))return(await new Request(wn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ae.isArrayBufferView(t)||Ae.isArrayBuffer(t))return t.byteLength;if(Ae.isURLSearchParams(t)&&(t=t+""),Ae.isString(t))return(await j5(t)).byteLength},k5=async(t,e)=>{const r=Ae.toFiniteNumber(t.getContentLength());return r??E5(e)},A5=$h&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:a,timeout:o,onDownloadProgress:c,onUploadProgress:d,responseType:f,headers:h,withCredentials:p="same-origin",fetchOptions:g}=ES(t);f=f?(f+"").toLowerCase():"text";let x=S5([s,a&&a.toAbortSignal()],o),w;const b=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let v;try{if(d&&T5&&r!=="get"&&r!=="head"&&(v=await k5(h,n))!==0){let T=new Request(e,{method:"POST",body:n,duplex:"half"}),M;if(Ae.isFormData(n)&&(M=T.headers.get("content-type"))&&h.setContentType(M),T.body){const[C,P]=i2(v,th(o2(d)));n=c2(T.body,u2,C,P)}}Ae.isString(p)||(p=p?"include":"omit");const N="credentials"in Request.prototype;w=new Request(e,{...g,signal:x,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:N?p:void 0});let E=await fetch(w);const j=Wp&&(f==="stream"||f==="response");if(Wp&&(c||j&&b)){const T={};["status","statusText","headers"].forEach(I=>{T[I]=E[I]});const M=Ae.toFiniteNumber(E.headers.get("content-length")),[C,P]=c&&i2(M,th(o2(c),!0))||[];E=new Response(c2(E.body,u2,C,()=>{P&&P(),b&&b()}),T)}f=f||"text";let D=await rh[Ae.findKey(rh,f)||"text"](E,t);return!j&&b&&b(),await new Promise((T,M)=>{jS(T,M,{data:D,headers:Gn.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:w})})}catch(N){throw b&&b(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Tt("Network Error",Tt.ERR_NETWORK,t,w),{cause:N.cause||N}):Tt.from(N,N&&N.code,t,w)}}),$p={http:$k,xhr:w5,fetch:A5};Ae.forEach($p,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const d2=t=>`- ${t}`,P5=t=>Ae.isFunction(t)||t===null||t===!1,PS={getAdapter:t=>{t=Ae.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let a=0;a<e;a++){r=t[a];let o;if(n=r,!P5(r)&&(n=$p[(o=String(r)).toLowerCase()],n===void 0))throw new Tt(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+a]=n}if(!n){const a=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(d2).join(`
`):" "+d2(a[0]):"as no adapter specified";throw new Tt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:$p};function Xm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zl(null,t)}function f2(t){return Xm(t),t.headers=Gn.from(t.headers),t.data=qm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),PS.getAdapter(t.adapter||Hu.adapter)(t).then(function(n){return Xm(t),n.data=qm.call(t,t.transformResponse,n),n.headers=Gn.from(n.headers),n},function(n){return CS(n)||(Xm(t),n&&n.response&&(n.response.data=qm.call(t,t.transformResponse,n.response),n.response.headers=Gn.from(n.response.headers))),Promise.reject(n)})}const DS="1.9.0",Yh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Yh[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const h2={};Yh.transitional=function(e,r,n){function s(a,o){return"[Axios v"+DS+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,c)=>{if(e===!1)throw new Tt(s(o," has been removed"+(r?" in "+r:"")),Tt.ERR_DEPRECATED);return r&&!h2[o]&&(h2[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,c):!0}};Yh.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function D5(t,e,r){if(typeof t!="object")throw new Tt("options must be an object",Tt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const a=n[s],o=e[a];if(o){const c=t[a],d=c===void 0||o(c,a,t);if(d!==!0)throw new Tt("option "+a+" must be "+d,Tt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Tt("Unknown option "+a,Tt.ERR_BAD_OPTION)}}const Bf={assertOptions:D5,validators:Yh},na=Bf.validators;let go=class{constructor(e){this.defaults=e||{},this.interceptors={request:new s2,response:new s2}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=_o(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&Bf.assertOptions(n,{silentJSONParsing:na.transitional(na.boolean),forcedJSONParsing:na.transitional(na.boolean),clarifyTimeoutError:na.transitional(na.boolean)},!1),s!=null&&(Ae.isFunction(s)?r.paramsSerializer={serialize:s}:Bf.assertOptions(s,{encode:na.function,serialize:na.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Bf.assertOptions(r,{baseUrl:na.spelling("baseURL"),withXsrfToken:na.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&Ae.merge(a.common,a[r.method]);a&&Ae.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),r.headers=Gn.concat(o,a);const c=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(d=d&&b.synchronous,c.unshift(b.fulfilled,b.rejected))});const f=[];this.interceptors.response.forEach(function(b){f.push(b.fulfilled,b.rejected)});let h,p=0,g;if(!d){const w=[f2.bind(this),void 0];for(w.unshift.apply(w,c),w.push.apply(w,f),g=w.length,h=Promise.resolve(r);p<g;)h=h.then(w[p++],w[p++]);return h}g=c.length;let x=r;for(p=0;p<g;){const w=c[p++],b=c[p++];try{x=w(x)}catch(v){b.call(this,v);break}}try{h=f2.call(this,x)}catch(w){return Promise.reject(w)}for(p=0,g=f.length;p<g;)h=h.then(f[p++],f[p++]);return h}getUri(e){e=_o(this.defaults,e);const r=TS(e.baseURL,e.url,e.allowAbsoluteUrls);return SS(r,e.params,e.paramsSerializer)}};Ae.forEach(["delete","get","head","options"],function(e){go.prototype[e]=function(r,n){return this.request(_o(n||{},{method:e,url:r,data:(n||{}).data}))}});Ae.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,c){return this.request(_o(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}go.prototype[e]=r(),go.prototype[e+"Form"]=r(!0)});let R5=class RS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(c=>{n.subscribe(c),a=c}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,c){n.reason||(n.reason=new zl(a,o,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new RS(function(s){e=s}),cancel:e}}};function F5(t){return function(r){return t.apply(null,r)}}function O5(t){return Ae.isObject(t)&&t.isAxiosError===!0}const Yp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yp).forEach(([t,e])=>{Yp[e]=t});function FS(t){const e=new go(t),r=uS(go.prototype.request,e);return Ae.extend(r,go.prototype,e,{allOwnKeys:!0}),Ae.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return FS(_o(t,s))},r}const It=FS(Hu);It.Axios=go;It.CanceledError=zl;It.CancelToken=R5;It.isCancel=CS;It.VERSION=DS;It.toFormData=Wh;It.AxiosError=Tt;It.Cancel=It.CanceledError;It.all=function(e){return Promise.all(e)};It.spread=F5;It.isAxiosError=O5;It.mergeConfig=_o;It.AxiosHeaders=Gn;It.formToJSON=t=>NS(Ae.isHTMLForm(t)?new FormData(t):t);It.getAdapter=PS.getAdapter;It.HttpStatusCode=Yp;It.default=It;const{Axios:AK,AxiosError:PK,CanceledError:DK,isCancel:RK,CancelToken:FK,VERSION:OK,all:MK,Cancel:LK,isAxiosError:IK,spread:BK,toFormData:UK,AxiosHeaders:zK,HttpStatusCode:VK,formToJSON:HK,getAdapter:WK,mergeConfig:$K}=It,M5="https://crm-backend-o36v.onrender.com",pt=It.create({baseURL:`${M5}/api`,headers:{"Content-Type":"application/json"}});pt.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));pt.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&localStorage.getItem("token")&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(t)});const mr={login:t=>pt.post("/auth/login",t),register:t=>pt.post("/auth/register",t),getProfile:()=>pt.get("/auth/me"),updateProfile:t=>pt.put("/auth/me",t),uploadProfilePicture:t=>pt.post("/auth/profile-picture",t,{headers:{"Content-Type":"multipart/form-data"}}),sendOTP:t=>pt.post("/auth/sendOTPToEmail",{email:t}),verifyOTP:t=>pt.post("/auth/verifyOtp",t),resetPassword:t=>pt.post("/auth/reset_password",t),getUsers:(t=null)=>{const e=t?`/auth/users?role=${t}`:"/auth/users";return pt.get(e)},createUser:t=>pt.post("/auth/users",t),updateUser:(t,e)=>pt.put(`/auth/users/${t}`,e),deleteUser:t=>pt.delete(`/auth/users/${t}`)},Nn={getAll:(t={})=>{const e=new URLSearchParams;t.month&&e.append("month",t.month),t.year&&e.append("year",t.year),t.startDate&&e.append("startDate",t.startDate),t.endDate&&e.append("endDate",t.endDate);const r=e.toString(),n=r?`/leads?${r}`:"/leads";return pt.get(n)},getById:t=>pt.get(`/leads/${t}`),create:t=>pt.post("/leads",t),update:(t,e)=>pt.put(`/leads/${t}`,e),updateFeedback:(t,e)=>pt.put(`/leads/${t}/feedback`,{feedback:e}),delete:t=>pt.delete(`/leads/${t}`),getAssigned:(t={})=>{const e=new URLSearchParams;t.month&&e.append("month",t.month),t.year&&e.append("year",t.year),t.startDate&&e.append("startDate",t.startDate),t.endDate&&e.append("endDate",t.endDate);const r=e.toString(),n=r?`/leads/assigned?${r}`:"/leads/assigned";return pt.get(n)},getRepeatCustomers:()=>pt.get("/leads/repeat-customers"),import:t=>pt.post("/leads/import",{leads:t}),importLeads:t=>pt.post("/leads/import",{leads:t}),importCSV:t=>pt.post("/leads/import-csv",t,{headers:{"Content-Type":"multipart/form-data"}})},Kr={getAll:()=>pt.get("/sales"),getAllForced:()=>pt.get("/sales?full=true"),getById:t=>pt.get(`/sales/${t}`),create:t=>(t.leadPerson&&(t.isLeadPersonSale=!0),pt.post("/sales",t)),update:(t,e)=>pt.put(`/sales/${t}`,e),delete:t=>pt.delete(`/sales/${t}`),getCount:()=>pt.get("/sales/count"),import:t=>pt.post("/sales/import",{sales:t}),importSales:t=>pt.post("/sales/import",{sales:t}),getCourseAnalysis:(t="monthly")=>pt.get(`/sales/reports/course-analysis?period=${t}`),getRevenueAnalysis:(t="1month")=>pt.get(`/sales/reports/revenue-analysis?period=${t}`),getTopCourses:(t="all",e=10)=>pt.get(`/sales/reports/top-courses?period=${t}&limit=${e}`),getStatusAnalysis:(t="1month",e=null)=>{const r=e?`/sales/reports/status-analysis?period=${t}&status=${e}`:`/sales/reports/status-analysis?period=${t}`;return pt.get(r)},getLeadSales:(t={})=>{const e=new URLSearchParams;Object.keys(t).forEach(s=>{t[s]!==void 0&&t[s]!==null&&t[s]!==""&&e.append(s,t[s])});const r=e.toString(),n=r?`/lead-sales?${r}`:"/lead-sales";return pt.get(n)},createLeadSale:(t,e)=>pt.post("/lead-sales",{...t,leadPerson:e})},Jm={getAll:()=>pt.get("/lead-person-sales"),getById:t=>pt.get(`/lead-person-sales/${t}`),create:t=>pt.post("/lead-person-sales",t),update:(t,e)=>pt.put(`/lead-person-sales/${t}`,e),delete:t=>pt.delete(`/lead-person-sales/${t}`)},Pc={getAll:()=>pt.get("/tasks"),getById:t=>pt.get(`/tasks/${t}`),create:t=>pt.post("/tasks",t),update:(t,e)=>pt.put(`/tasks/${t}`,e),delete:t=>pt.delete(`/tasks/${t}`),markCompleted:(t,e)=>pt.put(`/tasks/${t}`,{completed:e})},nh={getRates:()=>pt.get("/currency/rates"),getRate:(t,e)=>pt.get(`/currency/rate?from=${t}&to=${e}`)},OS=A.createContext(),L5=({children:t})=>{const[e,r]=A.useState(null),[n,s]=A.useState(null),[a,o]=A.useState(!0),[c,d]=A.useState(null);A.useEffect(()=>{const x=localStorage.getItem("token");x?(s(x),f()):o(!1)},[]);const f=async()=>{try{o(!0);const x=localStorage.getItem("token");if(!x){s(null),r(null),o(!1);return}s(x);const w=await mr.getProfile();r(w.data.data),d(null)}catch{localStorage.removeItem("token"),s(null),r(null),d("Authentication failed. Please login again.")}finally{o(!1)}},h=async x=>{var w,b;try{o(!0);const v=await mr.register(x);return d(null),v.data}catch(v){const N=((b=(w=v.response)==null?void 0:w.data)==null?void 0:b.message)||"Registration failed. Please try again.";throw d(N),new Error(N)}finally{o(!1)}},p=async x=>{var w,b;try{o(!0);const v=await mr.login(x);return localStorage.setItem("token",v.data.token),s(v.data.token),r(v.data.user),d(null),console.log(" Login successful, token set:",!!v.data.token),{...v.data,tokenStatus:v.data.token?"Valid":"Missing"}}catch(v){throw d(((b=(w=v.response)==null?void 0:w.data)==null?void 0:b.message)||"Invalid credentials"),v}finally{o(!1)}},g=()=>{localStorage.removeItem("token"),s(null),r(null)};return i.jsx(OS.Provider,{value:{user:e,token:n,loading:a,error:c,register:h,login:p,logout:g,setUser:r,loadUser:f},children:t})},Yt=()=>A.useContext(OS);let sh={currency:"USD",locale:"en-US",rate:1,exchangeRates:{USD:1,INR:84.62,EUR:.92,GBP:.79}};const m2="INR",p2=(t,e=sh.currency)=>{if(!t||isNaN(t))return 0;const r=sh.exchangeRates||{USD:1,INR:84.62,EUR:.92,GBP:.79};if(m2===e)return t;let n;return n=t/r[m2],n*r[e]},Hs=t=>{if(t==null)return"N/A";const e=xo();try{return new Intl.NumberFormat(e.locale,{style:"currency",currency:e.currency,minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}catch(r){return console.error("Error formatting currency:",r),`${e.symbol}${t.toFixed(2)}`}},gl=t=>{sh={...sh,...t}},xo=()=>{const t=localStorage.getItem("currencySettings");return t?JSON.parse(t):{currency:"USD",symbol:"$"}},MS=async()=>{try{const t=localStorage.getItem("token");if(!t)throw new Error("No authentication token found");const e="https://crm-backend-o36v.onrender.com";try{const r=await It.get(`${e}/api/sales/count`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(r.data&&r.data.success&&typeof r.data.count=="number")return r.data.count;throw new Error("Invalid count response format")}catch(r){try{const n=await It.get(`${e}/api/sales?full=true&nocache=${new Date().getTime()}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(n.data&&n.data.success){let s=0;return n.data.count&&typeof n.data.count=="number"?s=n.data.count:n.data.data&&Array.isArray(n.data.data)?s=n.data.data.length:Array.isArray(n.data)&&(s=n.data.length),s}else throw new Error("Invalid sales response format")}catch(n){throw new Error(`All strategies failed. Count error: ${r.message}, Full fetch error: ${n.message}`)}}}catch(t){throw t}},ol={USD:{locale:"en-US",label:"USD ($)",symbol:"$"},INR:{locale:"en-IN",label:"INR ()",symbol:""},EUR:{locale:"en-EU",label:"EUR ()",symbol:""},GBP:{locale:"en-GB",label:"GBP ()",symbol:""},JPY:{locale:"ja-JP",label:"JPY ()",symbol:""},CAD:{locale:"en-CA",label:"CAD ($)",symbol:"C$"},AUD:{locale:"en-AU",label:"AUD ($)",symbol:"A$"},CNY:{locale:"zh-CN",label:"CNY ()",symbol:""},SGD:{locale:"en-SG",label:"SGD ($)",symbol:"S$"},CHF:{locale:"de-CH",label:"CHF (Fr)",symbol:"Fr"},AED:{locale:"ar-AE",label:"AED (.)",symbol:"."}},af={USD:1,INR:84.62,EUR:.92,GBP:.79,JPY:151.15,CAD:1.37,AUD:1.52,CNY:7.24,SGD:1.35,CHF:.9,AED:3.67},I5=({darkMode:t=!0})=>{const[e,r]=A.useState(()=>xo().currency),[n,s]=A.useState(af),[a,o]=A.useState([]),[c,d]=A.useState(null),[f,h]=A.useState(null),p=t?"text-white":"text-gray-700",g=t?"text-blue-200":"text-gray-500",x=t?"text-yellow-200":"text-yellow-600",w=t?"bg-blue-700":"bg-white",b=t?"border-blue-600":"border-gray-300";A.useEffect(()=>{v();const j=setInterval(v,60*60*1e3);return()=>clearInterval(j)},[]);const v=async()=>{try{const j=await nh.getRates();if(j.data&&j.data.rates){const D=j.data.rates;s(D);const T=Object.keys(D).filter(M=>ol[M]).map(M=>({code:M,...ol[M],rate:D[M]})).sort((M,C)=>M.code==="USD"?-1:C.code==="USD"?1:M.code.localeCompare(C.code));o(T),h(new Date(j.data.date||new Date)),d(j.data.source==="fallback"?"Using backup rates":null),gl({...xo(),exchangeRates:D,lastUpdated:j.data.date||new Date().toISOString()}),localStorage.setItem("exchange_rates",JSON.stringify(D)),localStorage.setItem("rates_last_updated",j.data.date||new Date().toISOString()),j.data.source}else throw new Error("Invalid response format from currency API")}catch{d("Using last known rates");const D=localStorage.getItem("exchange_rates"),T=localStorage.getItem("rates_last_updated");if(D)try{const M=JSON.parse(D);s(M);const C=Object.keys(M).filter(P=>ol[P]).map(P=>({code:P,...ol[P],rate:M[P]})).sort((P,I)=>P.code==="USD"?-1:I.code==="USD"?1:P.code.localeCompare(I.code));o(C),h(new Date(T)),gl({...xo(),exchangeRates:M,lastUpdated:T})}catch{s(af);const C=Object.keys(af).filter(P=>ol[P]).map(P=>({code:P,...ol[P],rate:af[P]})).sort((P,I)=>P.code==="USD"?-1:I.code==="USD"?1:P.code.localeCompare(I.code));o(C)}}};A.useEffect(()=>{if(a.length===0)return;const j=localStorage.getItem("preferred_currency");if(j){const D=a.find(T=>T.code===j);D&&(gl({currency:D.code,locale:D.locale,rate:n[D.code]||D.rate,exchangeRates:n}),r(D.code))}else{const D=a.find(T=>T.code==="USD")||a[0];gl({currency:D.code,locale:D.locale,rate:n[D.code]||D.rate,exchangeRates:n})}},[a,n]);const N=j=>{const D=j.target.value,T=a.find(M=>M.code===D);T&&(gl({currency:T.code,locale:T.locale,rate:n[T.code]||T.rate,exchangeRates:n}),r(T.code),localStorage.setItem("preferred_currency",T.code),window.location.reload())},E=j=>{if(!j)return"";const T=new Date-j,M=Math.floor(T/(1e3*60));if(M<1)return"just now";if(M<60)return`${M} mins ago`;const C=Math.floor(M/60);return C<24?`${C} hours ago`:`${Math.floor(C/24)} days ago`};return a.length===0?i.jsxs("div",{className:`flex items-center ${p} text-sm`,children:[i.jsx("span",{className:"mr-2",children:"Loading currencies..."}),i.jsx("div",{className:`animate-spin h-4 w-4 border-2 ${p} rounded-full border-t-transparent`})]}):i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("label",{htmlFor:"currency-selector",className:`text-sm ${p} mr-2`,children:"Currency:"}),i.jsx("select",{id:"currency-selector",value:e,onChange:N,className:`text-sm border ${b} rounded p-1 focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${w} ${p} font-medium`,style:{WebkitAppearance:"menulist",MozAppearance:"menulist",appearance:"menulist"},children:a.map(j=>i.jsxs("option",{value:j.code,style:{backgroundColor:"#fff",color:"#333",padding:"6px"},children:[j.label," ",j.code!=="USD"&&`(1 USD = ${j.rate.toFixed(2)})`]},j.code))})]}),i.jsxs("div",{className:`text-xs ${g} mt-1`,children:[c&&i.jsx("span",{className:`${x} mr-2`,children:c}),f&&`Rates updated: ${E(f)}`]})]})};var LS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},g2=dt.createContext&&dt.createContext(LS),Si=function(){return Si=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Si.apply(this,arguments)},B5=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};function IS(t){return t&&t.map(function(e,r){return dt.createElement(e.tag,Si({key:r},e.attr),IS(e.child))})}function jt(t){return function(e){return dt.createElement(U5,Si({attr:Si({},t.attr)},e),IS(t.child))}}function U5(t){var e=function(r){var n=t.attr,s=t.size,a=t.title,o=B5(t,["attr","size","title"]),c=s||r.size||"1em",d;return r.className&&(d=r.className),t.className&&(d=(d?d+" ":"")+t.className),dt.createElement("svg",Si({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:d,style:Si(Si({color:t.color||r.color},r.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&dt.createElement("title",null,a),t.children)};return g2!==void 0?dt.createElement(g2.Consumer,null,function(r){return e(r)}):e(LS)}function z5(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(t)}function Kp(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(t)}function Gp(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(t)}function BS(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"}}]})(t)}function V5(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(t)}function x2(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}}]})(t)}function US(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(t)}function H5(t){return jt({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"}}]})(t)}function qp(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(t)}function W5(t){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(t)}function Jc(t){return jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"}}]})(t)}function $5(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M488 352h-40V109.25l59.31-59.31c6.25-6.25 6.25-16.38 0-22.63L484.69 4.69c-6.25-6.25-16.38-6.25-22.63 0L402.75 64H192v96h114.75L160 306.75V24c0-13.26-10.75-24-24-24H88C74.75 0 64 10.74 64 24v40H24C10.75 64 0 74.74 0 88v48c0 13.25 10.75 24 24 24h40v264c0 13.25 10.75 24 24 24h232v-96H205.25L352 205.25V488c0 13.25 10.75 24 24 24h48c13.25 0 24-10.75 24-24v-40h40c13.25 0 24-10.75 24-24v-48c0-13.26-10.75-24-24-24z"}}]})(t)}function y2(t){return jt({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"}}]})(t)}function zS(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(t)}function Wu(t){return jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(t)}function yu(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(t)}function Y5(t){return jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(t)}function Jg(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(t)}function K5(t){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"}}]})(t)}function G5(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(t)}function q5(t){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(t)}function X5(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(t)}function J5(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(t)}function Q5(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"}}]})(t)}function Qg(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(t)}function VS(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(t)}function Z5(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(t)}function v2(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"}}]})(t)}function e6(t){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(t)}function vu(t){return jt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(t)}function Zg(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(t)}function t6(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"}}]})(t)}function Qc(t){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(t)}function r6(t){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(t)}const n6=()=>{const t=A.useContext(eS);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},s6=({className:t=""})=>{const{theme:e,toggleTheme:r}=n6();return i.jsx("button",{onClick:r,className:`relative inline-flex items-center justify-center p-2 rounded-lg bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-all duration-300 ${t}`,title:`Switch to ${e==="dark"?"light":"dark"} mode`,children:i.jsx("div",{className:"relative w-5 h-5",children:e==="dark"?i.jsx(Z5,{className:"w-5 h-5 text-yellow-400 animate-pulse"}):i.jsx(X5,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})})},a6=()=>{const{user:t,logout:e}=Yt(),r=Ba(),[n,s]=A.useState(!1),a=()=>{e(),r("/login")},o=()=>{s(!n)};return i.jsx("header",{className:"bg-blue-600 dark:bg-gray-800 text-white py-4 shadow-md transition-colors duration-300",children:i.jsxs("nav",{className:"container mx-auto flex justify-between items-center",children:[i.jsxs("a",{href:"/",children:[" ",i.jsx("h1",{className:"text-xl font-bold",children:"My CRM"})]}),i.jsx("button",{className:"text-white md:hidden",onClick:o,children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),i.jsxs("ul",{className:`flex-col md:flex-row md:flex space-x-4 ${n?"flex":"hidden"} md:flex`,children:[i.jsx("li",{children:i.jsx(wt,{to:"/",className:"hover:text-blue-300",children:"Home"})}),t&&t.role==="Customer"&&i.jsx("li",{children:i.jsx(wt,{to:"/customer",className:"hover:text-blue-300",children:"Dashboard"})}),t&&(t.role==="Sales Person"||t.role==="Manager"||t.role==="Admin")&&i.jsx("li",{children:i.jsx(wt,{to:"/prospects",className:"hover:text-blue-300",children:"Prospects"})}),t&&(t.role==="Lead Person"||t.role==="Manager"||t.role==="Admin")&&i.jsx("li",{children:i.jsx(wt,{to:"/leads",className:"hover:text-blue-300",children:"Leads"})}),t&&(t.role==="Lead Person"||t.role==="Manager"||t.role==="Admin")&&i.jsx(i.Fragment,{children:i.jsx("li",{children:i.jsx(wt,{to:"/lead-sales-sheet",className:"hover:text-blue-300",children:"Lead Sales Sheet"})})}),t&&t.role==="Sales Person"&&i.jsx("li",{children:i.jsx(wt,{to:"/sales",className:"hover:text-blue-300",children:"My Leads"})}),t&&(t.role==="Sales Person"||t.role==="Manager"||t.role==="Admin")&&i.jsx("li",{children:i.jsx(wt,{to:"/sales-tracking",className:"hover:text-blue-300",children:"Sales Tracking"})}),t&&t.role==="Admin"&&i.jsxs(i.Fragment,{children:[i.jsx("li",{children:i.jsx(wt,{to:"/admin",className:"hover:text-blue-300",children:"Admin Dashboard"})}),i.jsx("li",{children:i.jsx(wt,{to:"/admin/users",className:"hover:text-blue-300",children:"Manage Users"})}),i.jsx("li",{children:i.jsx(wt,{to:"/admin/leads",className:"hover:text-blue-300",children:"Manage Leads"})}),i.jsx("li",{children:i.jsx(wt,{to:"/admin/import",className:"hover:text-blue-300",children:"Import Data"})})]}),i.jsx("li",{className:"ml-4",children:i.jsx(I5,{})}),i.jsx("li",{className:"ml-4",children:i.jsx(s6,{})}),t?i.jsxs(i.Fragment,{children:[i.jsx("li",{children:i.jsx(wt,{to:"/profile",className:"hover:text-blue-300",children:"Profile"})}),i.jsx("li",{children:i.jsx("button",{onClick:a,className:"bg-blue-700 hover:bg-blue-800 px-3 py-1 rounded-md transition duration-300",children:"Logout"})})]}):i.jsx("li",{children:i.jsx(wt,{to:"/login",className:"hover:text-blue-300",children:"Login"})})]})]})})},i6=()=>i.jsx("footer",{className:"bg-gray-800 text-white py-6",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[i.jsxs("div",{className:"mb-4 md:mb-0",children:[i.jsx("h3",{className:"text-xl font-bold",children:"CRM Platform"}),i.jsx("p",{className:"text-gray-400 mt-1",children:"Streamlining your business relationships"})]}),i.jsxs("div",{className:"flex space-x-8",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Resources"}),i.jsxs("ul",{className:"space-y-1",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:"Documentation"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:"Help Center"})}),i.jsx("li",{children:i.jsx("a",{href:"#tutorials",className:"text-gray-400 hover:text-white transition",children:"Tutorials"})}),i.jsx("li",{children:i.jsx("a",{href:"#countries",className:"text-gray-400 hover:text-white transition",children:"Countries"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Company"}),i.jsxs("ul",{className:"space-y-1",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:"About Us"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:"Careers"})}),i.jsx("li",{children:i.jsx("a",{href:"#management-contacts",className:"text-gray-400 hover:text-white transition",children:"Contact"})})]})]})]})]}),i.jsx("div",{className:"border-t border-gray-700 mt-6 pt-6 text-center md:text-left",children:i.jsxs("p",{children:[" ",new Date().getFullYear()," CRM Platform. All Rights Reserved."]})})]})}),cr=({children:t})=>i.jsxs("div",{className:"min-h-screen flex flex-col",children:[i.jsx(a6,{}),i.jsx("main",{className:"flex-grow",children:t}),i.jsx(i6,{})]}),ha=Object.create(null);ha.open="0";ha.close="1";ha.ping="2";ha.pong="3";ha.message="4";ha.upgrade="5";ha.noop="6";const Uf=Object.create(null);Object.keys(ha).forEach(t=>{Uf[ha[t]]=t});const Xp={type:"error",data:"parser error"},HS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",WS=typeof ArrayBuffer=="function",$S=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,ex=({type:t,data:e},r,n)=>HS&&e instanceof Blob?r?n(e):b2(e,n):WS&&(e instanceof ArrayBuffer||$S(e))?r?n(e):b2(new Blob([e]),n):n(ha[t]+(e||"")),b2=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function w2(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Qm;function o6(t,e){if(HS&&t.data instanceof Blob)return t.data.arrayBuffer().then(w2).then(e);if(WS&&(t.data instanceof ArrayBuffer||$S(t.data)))return e(w2(t.data));ex(t,!1,r=>{Qm||(Qm=new TextEncoder),e(Qm.encode(r))})}const S2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<S2.length;t++)Vc[S2.charCodeAt(t)]=t;const l6=t=>{let e=t.length*.75,r=t.length,n,s=0,a,o,c,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const f=new ArrayBuffer(e),h=new Uint8Array(f);for(n=0;n<r;n+=4)a=Vc[t.charCodeAt(n)],o=Vc[t.charCodeAt(n+1)],c=Vc[t.charCodeAt(n+2)],d=Vc[t.charCodeAt(n+3)],h[s++]=a<<2|o>>4,h[s++]=(o&15)<<4|c>>2,h[s++]=(c&3)<<6|d&63;return f},c6=typeof ArrayBuffer=="function",tx=(t,e)=>{if(typeof t!="string")return{type:"message",data:YS(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:u6(t.substring(1),e)}:Uf[r]?t.length>1?{type:Uf[r],data:t.substring(1)}:{type:Uf[r]}:Xp},u6=(t,e)=>{if(c6){const r=l6(t);return YS(r,e)}else return{base64:!0,data:t}},YS=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},KS="",d6=(t,e)=>{const r=t.length,n=new Array(r);let s=0;t.forEach((a,o)=>{ex(a,!1,c=>{n[o]=c,++s===r&&e(n.join(KS))})})},f6=(t,e)=>{const r=t.split(KS),n=[];for(let s=0;s<r.length;s++){const a=tx(r[s],e);if(n.push(a),a.type==="error")break}return n};function h6(){return new TransformStream({transform(t,e){o6(t,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(r)})}})}let Zm;function of(t){return t.reduce((e,r)=>e+r.length,0)}function lf(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let s=0;s<e;s++)r[s]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function m6(t,e){Zm||(Zm=new TextDecoder);const r=[];let n=0,s=-1,a=!1;return new TransformStream({transform(o,c){for(r.push(o);;){if(n===0){if(of(r)<1)break;const d=lf(r,1);a=(d[0]&128)===128,s=d[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(of(r)<2)break;const d=lf(r,2);s=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),n=3}else if(n===2){if(of(r)<8)break;const d=lf(r,8),f=new DataView(d.buffer,d.byteOffset,d.length),h=f.getUint32(0);if(h>Math.pow(2,21)-1){c.enqueue(Xp);break}s=h*Math.pow(2,32)+f.getUint32(4),n=3}else{if(of(r)<s)break;const d=lf(r,s);c.enqueue(tx(a?d:Zm.decode(d),e)),n=0}if(s===0||s>t){c.enqueue(Xp);break}}}})}const GS=4;function Rr(t){if(t)return p6(t)}function p6(t){for(var e in Rr.prototype)t[e]=Rr.prototype[e];return t}Rr.prototype.on=Rr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Rr.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Rr.prototype.off=Rr.prototype.removeListener=Rr.prototype.removeAllListeners=Rr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===e||n.fn===e){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Rr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,e)}return this};Rr.prototype.emitReserved=Rr.prototype.emit;Rr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Rr.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Kh=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),Cs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),g6="arraybuffer";function qS(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const x6=Cs.setTimeout,y6=Cs.clearTimeout;function Gh(t,e){e.useNativeTimers?(t.setTimeoutFn=x6.bind(Cs),t.clearTimeoutFn=y6.bind(Cs)):(t.setTimeoutFn=Cs.setTimeout.bind(Cs),t.clearTimeoutFn=Cs.clearTimeout.bind(Cs))}const v6=1.33;function b6(t){return typeof t=="string"?w6(t):Math.ceil((t.byteLength||t.size)*v6)}function w6(t){let e=0,r=0;for(let n=0,s=t.length;n<s;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function XS(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function S6(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function _6(t){let e={},r=t.split("&");for(let n=0,s=r.length;n<s;n++){let a=r[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class N6 extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class rx extends Rr{constructor(e){super(),this.writable=!1,Gh(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new N6(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=tx(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=S6(e);return r.length?"?"+r:""}}class C6 extends rx{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};f6(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,d6(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=XS()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let JS=!1;try{JS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const j6=JS;function T6(){}class E6 extends C6{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let Nl=class zf extends Rr{constructor(e,r,n){super(),this.createRequest=e,Gh(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=qS(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=zf.requestsCount++,zf.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=T6,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete zf.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Nl.requestsCount=0;Nl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",_2);else if(typeof addEventListener=="function"){const t="onpagehide"in Cs?"pagehide":"unload";addEventListener(t,_2,!1)}}function _2(){for(let t in Nl.requests)Nl.requests.hasOwnProperty(t)&&Nl.requests[t].abort()}const k6=function(){const t=QS({xdomain:!1});return t&&t.responseType!==null}();class A6 extends E6{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=k6&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Nl(QS,this.uri(),e)}}function QS(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||j6))return new XMLHttpRequest}catch{}if(!e)try{return new Cs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ZS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class P6 extends rx{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=ZS?{}:qS(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;ex(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}s&&Kh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=XS()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const ep=Cs.WebSocket||Cs.MozWebSocket;class D6 extends P6{createSocket(e,r,n){return ZS?new ep(e,r,n):r?new ep(e,r):new ep(e)}doWrite(e,r){this.ws.send(r)}}class R6 extends rx{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=m6(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),s=h6();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const a=()=>{n.read().then(({done:c,value:d})=>{c||(this.onPacket(d),a())}).catch(c=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;this._writer.write(n).then(()=>{s&&Kh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const F6={websocket:D6,webtransport:R6,polling:A6},O6=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,M6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Jp(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let s=O6.exec(t||""),a={},o=14;for(;o--;)a[M6[o]]=s[o]||"";return r!=-1&&n!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=L6(a,a.path),a.queryKey=I6(a,a.query),a}function L6(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function I6(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,a){s&&(r[s]=a)}),r}const Qp=typeof addEventListener=="function"&&typeof removeEventListener=="function",Vf=[];Qp&&addEventListener("offline",()=>{Vf.forEach(t=>t())},!1);class _i extends Rr{constructor(e,r){if(super(),this.binaryType=g6,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=Jp(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Jp(r.host).host);Gh(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=_6(this.opts.query)),Qp&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Vf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=GS,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&_i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",_i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=b6(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Kh(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:e,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(_i.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Qp&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Vf.indexOf(this._offlineEventListener);n!==-1&&Vf.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}_i.protocol=GS;class B6 extends _i{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;_i.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;_i.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(h(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function a(){n||(n=!0,h(),r.close(),r=null)}const o=p=>{const g=new Error("probe error: "+p);g.transport=r.name,a(),this.emitReserved("upgradeError",g)};function c(){o("transport closed")}function d(){o("socket closed")}function f(p){r&&p.name!==r.name&&a()}const h=()=>{r.removeListener("open",s),r.removeListener("error",o),r.removeListener("close",c),this.off("close",d),this.off("upgrading",f)};r.once("open",s),r.once("error",o),r.once("close",c),this.once("close",d),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let U6=class extends B6{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>F6[s]).filter(s=>!!s)),super(e,n)}};function z6(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=Jp(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+e,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const V6=typeof ArrayBuffer=="function",H6=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,e_=Object.prototype.toString,W6=typeof Blob=="function"||typeof Blob<"u"&&e_.call(Blob)==="[object BlobConstructor]",$6=typeof File=="function"||typeof File<"u"&&e_.call(File)==="[object FileConstructor]";function nx(t){return V6&&(t instanceof ArrayBuffer||H6(t))||W6&&t instanceof Blob||$6&&t instanceof File}function Hf(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Hf(t[r]))return!0;return!1}if(nx(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Hf(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Hf(t[r]))return!0;return!1}function Y6(t){const e=[],r=t.data,n=t;return n.data=Zp(r,e),n.attachments=e.length,{packet:n,buffers:e}}function Zp(t,e){if(!t)return t;if(nx(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=Zp(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=Zp(t[n],e));return r}return t}function K6(t,e){return t.data=eg(t.data,e),delete t.attachments,t}function eg(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=eg(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=eg(t[r],e));return t}const G6=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],q6=5;var Mt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Mt||(Mt={}));class X6{constructor(e){this.replacer=e}encode(e){return(e.type===Mt.EVENT||e.type===Mt.ACK)&&Hf(e)?this.encodeAsBinary({type:e.type===Mt.EVENT?Mt.BINARY_EVENT:Mt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Mt.BINARY_EVENT||e.type===Mt.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=Y6(e),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function N2(t){return Object.prototype.toString.call(t)==="[object Object]"}class sx extends Rr{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Mt.BINARY_EVENT;n||r.type===Mt.BINARY_ACK?(r.type=n?Mt.EVENT:Mt.ACK,this.reconstructor=new J6(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(nx(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Mt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Mt.BINARY_EVENT||n.type===Mt.BINARY_ACK){const a=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(a,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(a,r)}else n.nsp="/";const s=e.charAt(r+1);if(s!==""&&Number(s)==s){const a=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(a,r+1))}if(e.charAt(++r)){const a=this.tryParse(e.substr(r));if(sx.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Mt.CONNECT:return N2(r);case Mt.DISCONNECT:return r===void 0;case Mt.CONNECT_ERROR:return typeof r=="string"||N2(r);case Mt.EVENT:case Mt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&G6.indexOf(r[0])===-1);case Mt.ACK:case Mt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class J6{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=K6(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Q6=Object.freeze(Object.defineProperty({__proto__:null,Decoder:sx,Encoder:X6,get PacketType(){return Mt},protocol:q6},Symbol.toStringTag,{value:"Module"}));function $s(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const Z6=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class t_ extends Rr{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[$s(e,"open",this.onopen.bind(this)),$s(e,"packet",this.onpacket.bind(this)),$s(e,"error",this.onerror.bind(this)),$s(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,s,a;if(Z6.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Mt.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const h=this.ids++,p=r.pop();this._registerAckCallback(h,p),o.id=h}const c=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,d=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!c||(d?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[e]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);r.call(this,new Error("operation has timed out"))},s),o=(...c)=>{this.io.clearTimeoutFn(a),r.apply(this,c)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,s)=>{const a=(o,c)=>o?s(o):n(c);a.withError=!0,r.push(a),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...a)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Mt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Mt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Mt.EVENT:case Mt.BINARY_EVENT:this.onevent(e);break;case Mt.ACK:case Mt.BINARY_ACK:this.onack(e);break;case Mt.DISCONNECT:this.ondisconnect();break;case Mt.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:Mt.ACK,id:e,data:s}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Mt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function Vl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Vl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};Vl.prototype.reset=function(){this.attempts=0};Vl.prototype.setMin=function(t){this.ms=t};Vl.prototype.setMax=function(t){this.max=t};Vl.prototype.setJitter=function(t){this.jitter=t};class tg extends Rr{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Gh(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Vl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const s=r.parser||Q6;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new U6(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=$s(r,"open",function(){n.onopen(),e&&e()}),a=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},o=$s(r,"error",a);if(this._timeout!==!1){const c=this._timeout,d=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),r.close()},c);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push($s(e,"ping",this.onping.bind(this)),$s(e,"data",this.ondata.bind(this)),$s(e,"error",this.onerror.bind(this)),$s(e,"close",this.onclose.bind(this)),$s(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Kh(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new t_(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Dc={};function Cl(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=z6(t,e.path||"/socket.io"),n=r.source,s=r.id,a=r.path,o=Dc[s]&&a in Dc[s].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let d;return c?d=new tg(n,e):(Dc[s]||(Dc[s]=new tg(n,e)),d=Dc[s]),r.query&&!e.query&&(e.query=r.queryKey),d.socket(r.path,e)}Object.assign(Cl,{Manager:tg,Socket:t_,io:Cl,connect:Cl});const eA=()=>{const[t,e]=A.useState(!1),[r,n]=A.useState([]),[s,a]=A.useState(""),[o,c]=A.useState({name:"",email:"",phone:"",isInfoProvided:!1}),[d,f]=A.useState(null),[h,p]=A.useState(!1),[g,x]=A.useState([]),[w,b]=A.useState(null),v=A.useRef(null),N=A.useRef(`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),E=()=>{var C;(C=v.current)==null||C.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{E()},[r]),A.useEffect(()=>{if(t&&!d){const P=Cl("https://crm-backend-o36v.onrender.com",{transports:["websocket","polling"],query:{isGuest:!0,guestId:N.current}});return P.on("connect",()=>{console.log(" Guest connected to chat server"),p(!0),P.emit("join-guest-room",N.current),P.emit("get-support-team")}),P.on("support-team-list",I=>{x(I.filter(G=>G.chatStatus==="ONLINE"))}),P.on("guest-message-received",I=>{n(G=>[...G,{...I,timestamp:new Date(I.timestamp)}])}),P.on("connect_error",I=>{console.error(" Guest connection error:",I),p(!1)}),f(P),()=>{P.close(),f(null),p(!1)}}},[t]);const j=C=>{if(C.preventDefault(),o.name&&o.email){c(I=>({...I,isInfoProvided:!0}));const P={id:Date.now(),content:`Hi ${o.name}! Thanks for reaching out. How can we help you today?`,sender:"system",timestamp:new Date,isSystem:!0};n([P])}},D=()=>{if(s.trim()&&d&&w){const C={guestId:N.current,guestInfo:o,recipientId:w._id,content:s.trim(),timestamp:new Date},P={id:Date.now(),content:s.trim(),sender:"guest",timestamp:new Date};n(I=>[...I,P]),d.emit("guest-message",C),a("")}},T=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),D())},M=C=>{b(C);const P={id:Date.now(),content:`You're now connected with ${C.fullName} (${C.role}). They'll respond shortly.`,sender:"system",timestamp:new Date,isSystem:!0};n(I=>[...I,P])};return t?i.jsxs("div",{className:"guest-chat-window",children:[i.jsxs("div",{className:"guest-chat-header",children:[i.jsxs("div",{className:"header-content",children:[i.jsx(Jc,{className:"header-icon"}),i.jsxs("div",{children:[i.jsx("h3",{children:"Live Support Chat"}),i.jsx("span",{className:`status ${h?"online":"offline"}`,children:h?"Connected":"Connecting..."})]})]}),i.jsx("button",{className:"close-button",onClick:()=>e(!1),children:i.jsx(vu,{})})]}),i.jsx("div",{className:"guest-chat-body",children:o.isInfoProvided?w?i.jsxs("div",{className:"chat-messages",children:[r.map(C=>i.jsxs("div",{className:`message ${C.sender==="guest"?"guest-message":"support-message"} ${C.isSystem?"system-message":""}`,children:[i.jsx("div",{className:"message-content",children:C.content}),i.jsx("div",{className:"message-time",children:C.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},C.id)),i.jsx("div",{ref:v})]}):i.jsxs("div",{className:"support-team-selection",children:[i.jsx("h4",{children:"Choose a support team member:"}),g.length>0?i.jsx("div",{className:"support-list",children:g.map(C=>i.jsxs("div",{className:"support-member",onClick:()=>M(C),children:[i.jsxs("div",{className:"member-info",children:[i.jsx("div",{className:"member-name",children:C.fullName}),i.jsx("div",{className:"member-role",children:C.role})]}),i.jsx("div",{className:"online-indicator"})]},C._id))}):i.jsxs("div",{className:"no-support",children:[i.jsx("p",{children:"No support team members are currently online."}),i.jsx("p",{children:"Please leave your message and we'll get back to you soon!"}),i.jsx("button",{className:"continue-anyway-btn",onClick:()=>b({_id:"offline",fullName:"Support Team",role:"Support"}),children:"Continue Anyway"})]})]}):i.jsxs("div",{className:"guest-info-form",children:[i.jsx("h4",{children:"Welcome! Let's get started"}),i.jsx("p",{children:"Please provide your details to begin chatting with our support team:"}),i.jsxs("form",{onSubmit:j,children:[i.jsx("input",{type:"text",placeholder:"Your Name *",value:o.name,onChange:C=>c(P=>({...P,name:C.target.value})),required:!0}),i.jsx("input",{type:"email",placeholder:"Your Email *",value:o.email,onChange:C=>c(P=>({...P,email:C.target.value})),required:!0}),i.jsx("input",{type:"tel",placeholder:"Your Phone (Optional)",value:o.phone,onChange:C=>c(P=>({...P,phone:C.target.value}))}),i.jsx("button",{type:"submit",className:"start-chat-btn",children:"Start Chat"})]})]})}),o.isInfoProvided&&w&&i.jsxs("div",{className:"guest-chat-footer",children:[i.jsxs("div",{className:"message-input-container",children:[i.jsx("input",{type:"text",value:s,onChange:C=>a(C.target.value),onKeyPress:T,placeholder:"Type your message...",className:"message-input"}),i.jsx("button",{onClick:D,disabled:!s.trim()||!h,className:"send-button",children:i.jsx(J5,{})})]}),i.jsx("div",{className:"chat-footer-info",children:i.jsxs("small",{children:["Chatting with ",w.fullName,"  ",h?"Online":"Offline"]})})]})]}):i.jsxs("div",{className:"guest-chat-button",onClick:()=>e(!0),children:[i.jsx(Jc,{className:"chat-icon"}),i.jsx("span",{className:"chat-text",children:"Need Help? Chat Now!"}),i.jsx("div",{className:"chat-pulse"})]})},C2=()=>{const{user:t}=Yt();return i.jsxs(cr,{children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-700 to-indigo-800 text-white py-12 md:py-20 flex items-center",children:i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-4 text-center sm:text-left",children:"TrainCape CRM"}),i.jsx("p",{className:"text-lg sm:text-xl mb-6 text-center sm:text-left",children:"Manage leads and track sales in one centralized platform."}),t?i.jsxs("div",{className:"flex flex-wrap gap-4 justify-center sm:justify-start",children:[t.role==="Sales Person"&&i.jsx(wt,{to:"/sales",className:"w-full sm:w-auto px-6 py-3 bg-white text-blue-700 font-semibold rounded-lg shadow-md hover:bg-gray-100 transition text-center",children:"My Leads"}),(t.role==="Lead Person"||t.role==="Manager"||t.role==="Admin")&&i.jsx(wt,{to:"/leads",className:"w-full sm:w-auto px-6 py-3 bg-white text-blue-700 font-semibold rounded-lg shadow-md hover:bg-gray-100 transition text-center",children:"Manage Leads"}),i.jsx(wt,{to:"/profile",className:"w-full sm:w-auto px-6 py-3 bg-transparent border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-blue-700 transition text-center",children:"My Profile"})]}):i.jsxs("div",{className:"flex flex-wrap gap-4 justify-center sm:justify-start",children:[i.jsx(wt,{to:"/login",className:"w-full sm:w-auto px-6 py-3 bg-white text-blue-700 font-semibold rounded-lg shadow-md hover:bg-gray-100 transition text-center",children:"Sign In"}),i.jsx(wt,{to:"/customer-signup",className:"w-full sm:w-auto px-6 py-3 bg-blue-800 text-white font-semibold rounded-lg shadow-md hover:bg-blue-900 transition text-center",children:"Customer Sign Up"})]})]})})}),i.jsx("div",{className:"bg-gray-50 py-6",children:i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 -mt-6 sm:-mt-8 md:-mt-10 relative z-10",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[i.jsx("div",{className:"bg-white p-4 sm:p-5 rounded-lg shadow hover:shadow-md transition",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start",children:[i.jsx("div",{className:"bg-blue-100 text-blue-700 p-3 rounded-lg mb-3 sm:mb-0 sm:mr-4",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),i.jsxs("div",{className:"text-center sm:text-left",children:[i.jsx("h3",{className:"text-lg font-bold mb-1",children:"Contact Management"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Organize client data with powerful filters and segments."}),i.jsx(wt,{to:"/management-contacts",className:"text-blue-700 font-medium text-sm mt-2 inline-block",children:"Access Contacts "})]})]})}),i.jsx("div",{className:"bg-white p-4 sm:p-5 rounded-lg shadow hover:shadow-md transition",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start",children:[i.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-lg mb-3 sm:mb-0 sm:mr-4",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),i.jsxs("div",{className:"text-center sm:text-left",children:[i.jsx("h3",{className:"text-lg font-bold mb-1",children:"Sales Pipeline"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Track deals from lead to close with customizable processes."}),i.jsx(wt,{to:"/sales",className:"text-green-700 font-medium text-sm mt-2 inline-block",children:"View Pipeline "})]})]})}),i.jsx("div",{className:"bg-white p-4 sm:p-5 rounded-lg shadow hover:shadow-md transition",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start",children:[i.jsx("div",{className:"bg-purple-100 text-purple-700 p-3 rounded-lg mb-3 sm:mb-0 sm:mr-4",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),i.jsxs("div",{className:"text-center sm:text-left",children:[i.jsx("h3",{className:"text-lg font-bold mb-1",children:"Task Management"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Schedule exams and get automated reminders."}),i.jsx(wt,{to:"/tasks",className:"text-purple-700 font-medium text-sm mt-2 inline-block",children:"Manage Tasks "})]})]})}),t&&(t.role==="Manager"||t.role==="Admin")&&i.jsx("div",{className:"bg-white p-4 sm:p-5 rounded-lg shadow hover:shadow-md transition",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start",children:[i.jsx("div",{className:"bg-indigo-100 text-indigo-700 p-3 rounded-lg mb-3 sm:mb-0 sm:mr-4",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),i.jsxs("div",{className:"text-center sm:text-left",children:[i.jsx("h3",{className:"text-lg font-bold mb-1",children:"Manager Dashboard"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Manage users, roles and system access."}),i.jsx(wt,{to:"/manager",className:"text-indigo-700 font-medium text-sm mt-2 inline-block",children:"Access Dashboard "})]})]})})]})})}),i.jsx("div",{className:"bg-white py-8 sm:py-10",children:i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[{label:"Leads",value:"Today",icon:""},{label:"Tasks",value:"Pending",icon:""},{label:"Sales",value:"This Month",icon:""},{label:"Team",value:"Members",icon:""}].map((e,r)=>i.jsxs(wt,{to:r===0?"sales":r===1?"/tasks":r===2?"sales-tracking":"/profile",className:"bg-gray-50 rounded-lg p-3 sm:p-4 text-center hover:bg-gray-100 transition",children:[i.jsx("div",{className:"text-xl sm:text-2xl mb-1",children:e.icon}),i.jsx("div",{className:"text-base sm:text-lg font-bold",children:e.label}),i.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:e.value})]},r))})})}),i.jsx("div",{className:"bg-gray-50 py-8 sm:py-10",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-center",children:["Your Role: ",(t==null?void 0:t.role)||"Not Logged In"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-white p-4 sm:p-5 rounded-lg shadow",children:[i.jsx("h3",{className:"font-bold text-blue-700 mb-2 text-center sm:text-left",children:"Lead Person"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start text-sm",children:[i.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{children:"Create and manage leads"})]}),i.jsxs("li",{className:"flex items-start text-sm",children:[i.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{children:"Assign leads to team members"})]}),i.jsxs("li",{className:"flex items-start text-sm",children:[i.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{children:"Track lead progress"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 sm:p-5 rounded-lg shadow",children:[i.jsx("h3",{className:"font-bold text-green-700 mb-2 text-center sm:text-left",children:"Sales Person"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start text-sm",children:[i.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{children:"Access assigned leads"})]}),i.jsxs("li",{className:"flex items-start text-sm",children:[i.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{children:"Update lead status"})]}),i.jsxs("li",{className:"flex items-start text-sm",children:[i.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{children:"Schedule and track exams"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 sm:p-5 rounded-lg shadow",children:[i.jsx("h3",{className:"font-bold text-purple-700 mb-2 text-center sm:text-left",children:"Manager/Admin"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-start text-sm",children:[i.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{children:"Full system access"})]}),i.jsxs("li",{className:"flex items-start text-sm",children:[i.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{children:"View all leads and sales"})]}),i.jsxs("li",{className:"flex items-start text-sm",children:[i.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{children:"Manage team and generate reports"})]}),t&&(t.role==="Manager"||t.role==="Admin")&&i.jsx("li",{className:"mt-4",children:i.jsx(wt,{to:"/manager",className:"inline-block w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded text-center transition",children:"Access Manager Dashboard"})})]})]})]})]})}),i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-8 sm:py-10",children:i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:t?i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl sm:text-2xl font-bold mb-3",children:["Welcome, ",t.fullName]}),i.jsx("p",{className:"mb-4 text-sm sm:text-base",children:"Access your dashboard to manage your tasks."}),i.jsx(wt,{to:t.role==="Customer"?"/customer":t.role==="Sales Person"?"/sales":"/leads",className:"px-6 py-3 bg-white text-blue-700 font-semibold rounded-lg shadow hover:bg-gray-100 transition inline-block w-full sm:w-auto",children:"Go to Dashboard"})]}):i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Sign in to access your dashboard"}),i.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[i.jsx(wt,{to:"/login",className:"px-6 py-3 bg-white text-blue-700 font-semibold rounded-lg shadow hover:bg-gray-100 transition inline-block",children:"Login"}),i.jsx(wt,{to:"/customer-signup",className:"px-6 py-3 bg-blue-800 text-white font-semibold rounded-lg shadow hover:bg-blue-900 transition inline-block",children:"Customer Sign Up"})]})]})})}),!t&&i.jsx(eA,{})]})},tA=()=>{const t=Ba(),e=Bl(),{login:r,error:n}=Yt(),[s,a]=A.useState({email:"",password:""}),[o,c]=A.useState(""),[d,f]=A.useState(""),[h,p]=A.useState(!1),[g,x]=A.useState(!1);A.useEffect(()=>{var N;(N=e.state)!=null&&N.message&&(f(e.state.message),e.state.email&&a(E=>({...E,email:e.state.email})))},[e]);const w=N=>{a({...s,[N.target.name]:N.target.value})},b=()=>{x(!g)},v=async N=>{var E,j;N.preventDefault(),c(""),f("");try{p(!0);const D={email:s.email,password:s.password},T=await r(D);switch(console.log("Login successful. Token:",T.token?"Present":"Not present"),setTimeout(()=>{const M=localStorage.getItem("token");console.log("Stored token check:",M?"Present":"Not present")},500),T.user.role){case"Lead Person":case"Manager":case"Admin":t("/leads");break;case"Sales Person":t("/sales");break;case"Customer":t("/customer");break;default:t("/")}}catch(D){c(((j=(E=D.response)==null?void 0:E.data)==null?void 0:j.message)||"Invalid credentials. Please try again.")}finally{p(!1)}};return i.jsx(cr,{children:i.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50",children:i.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",i.jsx(wt,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),d&&i.jsx("div",{className:"p-3 bg-green-50 text-green-700 border border-green-200 rounded-md",children:d}),(o||n)&&i.jsx("div",{className:"p-3 bg-red-50 text-red-700 border border-red-200 rounded-md",children:o||n}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[i.jsxs("div",{className:"rounded-md -space-y-px",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:s.email,onChange:w})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"password",name:"password",type:g?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm pr-10",placeholder:"Password",value:s.password,onChange:w}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm text-gray-500 hover:text-gray-800",onClick:b,children:g?i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[i.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),i.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[i.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),i.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),i.jsx("div",{className:"text-sm",children:i.jsx(wt,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:h,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent rounded-md text-white ${h?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition`,children:h?"Signing in...":"Sign in"})})]})]})})})},rA=()=>{const t=Ba(),{register:e,error:r}=Yt(),[n,s]=A.useState({fullName:"",email:"",password:"",confirmPassword:"",role:"Customer"}),[a,o]=A.useState(""),[c,d]=A.useState(!1),f=p=>{s({...n,[p.target.name]:p.target.value})},h=async p=>{var g,x;if(p.preventDefault(),o(""),n.password!==n.confirmPassword){o("Passwords do not match");return}if(n.password.length<6){o("Password must be at least 6 characters");return}try{d(!0);const w={fullName:n.fullName,email:n.email,password:n.password,role:n.role};await e(w),t("/login",{state:{message:"Registration successful! Please login with your credentials.",email:n.email}})}catch(w){o(((x=(g=w.response)==null?void 0:g.data)==null?void 0:x.message)||"Registration failed. Please try again.")}finally{d(!1)}};return i.jsx(cr,{children:i.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50",children:i.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create a new account"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",i.jsx(wt,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),(a||r)&&i.jsx("div",{className:"p-3 bg-red-50 text-red-700 border border-red-200 rounded-md",children:a||r}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[i.jsxs("div",{className:"rounded-md -space-y-px",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),i.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:n.fullName,onChange:f})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:n.email,onChange:f})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n.password,onChange:f})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:n.confirmPassword,onChange:f})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),i.jsxs("select",{id:"role",name:"role",className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",value:n.role,onChange:f,children:[i.jsx("option",{value:"Lead Person",children:"Lead Person"}),i.jsx("option",{value:"Sales Person",children:"Sales Person"}),i.jsx("option",{value:"Manager",children:"Manager"}),i.jsx("option",{value:"Admin",children:"Admin"}),i.jsx("option",{value:"Customer",children:"Customer"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For initial setup, you can create an Admin account. This option will be removed in production."})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:c,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent rounded-md text-white ${c?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition`,children:c?"Creating Account...":"Create Account"})})]})]})})})},nA=()=>{const t=Ba(),{register:e,error:r}=Yt(),[n,s]=A.useState({fullName:"",email:"",password:"",confirmPassword:"",role:"Customer"}),[a,o]=A.useState(""),[c,d]=A.useState(!1),f=p=>{s({...n,[p.target.name]:p.target.value})},h=async p=>{var g,x;if(p.preventDefault(),o(""),n.password!==n.confirmPassword){o("Passwords do not match");return}if(n.password.length<6){o("Password must be at least 6 characters");return}try{d(!0);const w={fullName:n.fullName,email:n.email,password:n.password,role:"Customer"};await e(w),t("/login",{state:{message:"Welcome! Your customer account has been created successfully. Please login to start chatting with our team.",email:n.email}})}catch(w){o(((x=(g=w.response)==null?void 0:g.data)==null?void 0:x.message)||"Registration failed. Please try again.")}finally{d(!1)}};return i.jsx(cr,{children:i.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50",children:i.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create Customer Account"}),i.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join our platform to chat with our team and get support"}),i.jsxs("p",{className:"mt-1 text-center text-sm text-gray-600",children:["Already have an account?"," ",i.jsx(wt,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in here"})]})]}),(a||r)&&i.jsx("div",{className:"p-3 bg-red-50 text-red-700 border border-red-200 rounded-md",children:a||r}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),i.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your full name",value:n.fullName,onChange:f})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your email address",value:n.email,onChange:f})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Create a password (min 6 characters)",value:n.password,onChange:f,minLength:6})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm your password",value:n.confirmPassword,onChange:f,minLength:6})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:c,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent rounded-md text-white ${c?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition`,children:c?"Creating Account...":"Create Customer Account"})}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-xs text-gray-500",children:"By creating an account, you agree to our terms of service and can chat with our support team."})})]})]})})})},sA=({lead:t=null,onSuccess:e})=>{Ba();const{user:r}=Yt(),[n,s]=A.useState([]),[a,o]=A.useState([]),[c,d]=A.useState(!1),[f,h]=A.useState(null),[p,g]=A.useState({name:"",email:"",course:"",countryCode:"",phone:"",country:"",pseudoId:"",company:"",client:"",status:"Introduction",source:"",sourceLink:"",assignedTo:"",leadPerson:"",remarks:"",feedback:"",customCreatedAt:new Date().toISOString().split("T")[0]});A.useEffect(()=>{(async()=>{try{console.log("Fetching users for dropdowns");const v=await mr.getUsers("Sales Person");console.log("Sales persons fetched:",v.data.data),s(v.data.data||[]);const N=await mr.getUsers("Lead Person");console.log("Lead persons fetched:",N.data.data),o(N.data.data||[])}catch(v){console.error("Failed to fetch users",v)}})()},[]),A.useEffect(()=>{var b,v,N,E;if(console.log("========= FORM DATA INITIALIZATION ========="),console.log("Current user:",r),console.log("User ID formats:",{_id:r==null?void 0:r._id,id:r==null?void 0:r.id}),console.log("Lead data:",t),t){console.log("Editing existing lead, populating form with lead data");const j=t.createdAt?new Date(t.createdAt).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];let D=t.countryCode||t.CODE||"";D=D.replace(/^\+/,"");const T={name:t.name||t.NAME||"",email:t.email||t["E-MAIL"]||"",course:t.course||t.COURSE||"",countryCode:D,phone:t.phone||t.NUMBER||"",country:t.country||t.COUNTRY||"",pseudoId:t.pseudoId||t["PSUDO ID"]||"",company:t.company||t.COMPANY||"",client:t.client||t["CLIENT REMARK"]||"",status:t.status||"Introduction",source:t.source||t.SOURSE||"",sourceLink:t.sourceLink||t["SOURCE LINK"]||"",assignedTo:((b=t.assignedTo)==null?void 0:b._id)||((v=t["SALE PERSON"])==null?void 0:v._id)||t["SALE PERSON"]||"",leadPerson:((N=t.leadPerson)==null?void 0:N._id)||((E=t["LEAD PERSON"])==null?void 0:E._id)||t["LEAD PERSON"]||"",remarks:t.remarks||"",feedback:t.feedback||t.FEEDBACK||"",customCreatedAt:j};g(T),console.log("Populated form data:",T)}else{console.log("Creating new lead, setting default values");const j=((r==null?void 0:r._id)||(r==null?void 0:r.id)||"").toString();console.log("Using user ID for defaults:",j);const D=new Date().toISOString().split("T")[0],T={name:"",email:"",course:"",countryCode:"1",phone:"",country:"",pseudoId:"",company:"",client:"",status:"Introduction",source:"",sourceLink:"",assignedTo:j,leadPerson:(r==null?void 0:r.role)==="Lead Person"?j:"",remarks:"",feedback:"",customCreatedAt:D};g(T),console.log("Default form data:",T)}console.log("==========================================")},[t,r]);const x=b=>{const{name:v,value:N}=b.target;console.log(`Field changed: ${v}, value: ${N}`),g(E=>({...E,[v]:N}))},w=async b=>{var v,N,E,j,D;b.preventDefault(),d(!0),h(null),console.log("============= LEAD FORM SUBMIT ============="),console.log("Form submission started"),console.log("Is updating existing lead:",!!t),console.log("Lead ID:",t==null?void 0:t._id),console.log("Form data:",p);try{let T;const M={NAME:p.name,"E-MAIL":p.email||"",COURSE:p.course,CODE:p.countryCode,NUMBER:p.phone,COUNTRY:p.country,"PSUDO ID":p.pseudoId||"","CLIENT REMARK":p.client||"",status:p.status||"Introduction",SOURSE:p.source||"","SOURCE LINK":p.sourceLink||"","SALE PERSON":p.assignedTo,leadPerson:p.leadPerson||"","LEAD PERSON":p.leadPerson||"",feedback:p.feedback||"",FEEDBACK:p.feedback||"",...t?{}:{DATE:p.customCreatedAt?new Date(p.customCreatedAt).toISOString():new Date().toISOString(),createdAt:p.customCreatedAt?new Date(p.customCreatedAt).toISOString():new Date().toISOString()}},P=["name","course","phone","country","assignedTo"].filter(I=>!p[I]||p[I].trim()==="");if(P.length>0){console.error("Missing required fields:",P),h(`Missing required fields: ${P.join(", ")}`),d(!1);return}if(p.email&&p.email.trim()!==""){if(!p.email.includes("@")){console.error("Invalid email format:",p.email),h("Please enter a valid email address or leave it blank"),d(!1);return}}else M.email="",M["E-MAIL"]="",console.log("Email field is blank, setting to empty string");console.log("Final data being sent to API:",M),t?(console.log("Calling API to update existing lead:",t._id),T=await Nn.update(t._id,M),console.log("Update API response received:",T)):(console.log("Calling API to create new lead"),T=await Nn.create(M),console.log("Create API response received:",T)),console.log("Full API response data:",T.data),console.log("API response success:",(v=T.data)==null?void 0:v.success),console.log("API response lead data:",(N=T.data)==null?void 0:N.data),T.data&&T.data.success?(console.log("Lead saved successfully, calling onSuccess callback"),console.log("Lead data being passed to onSuccess:",T.data.data),e(T.data.data),console.log("onSuccess callback completed")):(console.error("API returned success: false",T),h("Failed to save lead. Please check your input and try again."))}catch(T){console.error("Error saving lead:",T),console.error("Error response:",(E=T.response)==null?void 0:E.data),h(((D=(j=T.response)==null?void 0:j.data)==null?void 0:D.message)||"Failed to save lead. Please try again later.")}finally{d(!1),console.log("============= LEAD FORM SUBMIT END =============")}};return i.jsxs("form",{onSubmit:w,className:"space-y-8",children:[f&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:f}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Full Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:p.name,onChange:x,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),i.jsx("input",{type:"email",name:"email",id:"email",value:p.email,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:["Phone ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("input",{type:"text",name:"countryCode",id:"countryCode",value:p.countryCode,onChange:x,placeholder:"Code",className:"block w-16 border border-gray-300 rounded-md rounded-r-none shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})}),i.jsx("input",{type:"text",name:"phone",id:"phone",value:p.phone,onChange:x,required:!0,className:"flex-1 block w-full border border-gray-300 rounded-md rounded-l-none shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:["Country ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"country",id:"country",value:p.country,onChange:x,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Course Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-700",children:["Course ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"course",id:"course",value:p.course,onChange:x,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-700",children:"Source"}),i.jsx("input",{type:"text",name:"source",id:"source",value:p.source,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"sourceLink",className:"block text-sm font-medium text-gray-700",children:"Source Link"}),i.jsx("input",{type:"text",name:"sourceLink",id:"sourceLink",value:p.sourceLink,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"pseudoId",className:"block text-sm font-medium text-gray-700",children:"Pseudo ID"}),i.jsx("input",{type:"text",name:"pseudoId",id:"pseudoId",value:p.pseudoId,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Assignment & Status"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"assignedTo",className:"block text-sm font-medium text-gray-700",children:["Assigned Sales Person ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{id:"assignedTo",name:"assignedTo",value:p.assignedTo,onChange:x,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"Select Sales Person"}),n.map(b=>i.jsx("option",{value:b._id,children:b.fullName||b.email},b._id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"leadPerson",className:"block text-sm font-medium text-gray-700",children:"Lead Person"}),i.jsxs("select",{id:"leadPerson",name:"leadPerson",value:p.leadPerson,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"Select Lead Person"}),a.map(b=>i.jsx("option",{value:b._id,children:b.fullName||b.email},b._id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),i.jsxs("select",{id:"status",name:"status",value:p.status,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"Introduction",children:"Introduction"}),i.jsx("option",{value:"Acknowledgement",children:"Acknowledgement"}),i.jsx("option",{value:"Question",children:"Question"}),i.jsx("option",{value:"Future Promise",children:"Future Promise"}),i.jsx("option",{value:"Payment",children:"Payment"}),i.jsx("option",{value:"Analysis",children:"Analysis"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"feedback",className:"block text-sm font-medium text-gray-700",children:"Feedback"}),i.jsxs("select",{id:"feedback",name:"feedback",value:p.feedback,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"Select Feedback"}),i.jsx("option",{value:"Pending",children:"Pending"}),i.jsx("option",{value:"Converted",children:"Converted"}),i.jsx("option",{value:"Not Interested",children:"Not Interested"}),i.jsx("option",{value:"Follow Up",children:"Follow Up"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{htmlFor:"client",className:"block text-sm font-medium text-gray-700",children:"Client Remarks"}),i.jsx("textarea",{id:"client",name:"client",rows:"3",value:p.client,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"customCreatedAt",className:"block text-sm font-medium text-gray-700",children:"Date Added"}),i.jsx("input",{type:"date",name:"customCreatedAt",id:"customCreatedAt",value:p.customCreatedAt,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),i.jsx("div",{className:"pt-5 flex justify-end",children:i.jsx("button",{type:"submit",disabled:c,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:c?"Saving...":t?"Update Lead":"Add Lead"})})]})};var Wf={exports:{}},aA=Wf.exports,j2;function iA(){return j2||(j2=1,function(t,e){(function(r,n){t.exports=n()})(aA,function(){return function(r){function n(a){if(s[a])return s[a].exports;var o=s[a]={exports:{},id:a,loaded:!1};return r[a].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var s={};return n.m=r,n.c=s,n.p="dist/",n(0)}([function(r,n,s){function a(Z){return Z&&Z.__esModule?Z:{default:Z}}var o=Object.assign||function(Z){for(var O=1;O<arguments.length;O++){var K=arguments[O];for(var W in K)Object.prototype.hasOwnProperty.call(K,W)&&(Z[W]=K[W])}return Z},c=s(1),d=(a(c),s(6)),f=a(d),h=s(7),p=a(h),g=s(8),x=a(g),w=s(9),b=a(w),v=s(10),N=a(v),E=s(11),j=a(E),D=s(14),T=a(D),M=[],C=!1,P={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},I=function(){var Z=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(Z&&(C=!0),C)return M=(0,j.default)(M,P),(0,N.default)(M,P.once),M},G=function(){M=(0,T.default)(),I()},J=function(){M.forEach(function(Z,O){Z.node.removeAttribute("data-aos"),Z.node.removeAttribute("data-aos-easing"),Z.node.removeAttribute("data-aos-duration"),Z.node.removeAttribute("data-aos-delay")})},H=function(Z){return Z===!0||Z==="mobile"&&b.default.mobile()||Z==="phone"&&b.default.phone()||Z==="tablet"&&b.default.tablet()||typeof Z=="function"&&Z()===!0},ie=function(Z){P=o(P,Z),M=(0,T.default)();var O=document.all&&!window.atob;return H(P.disable)||O?J():(P.disableMutationObserver||x.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),P.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",P.easing),document.querySelector("body").setAttribute("data-aos-duration",P.duration),document.querySelector("body").setAttribute("data-aos-delay",P.delay),P.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?I(!0):P.startEvent==="load"?window.addEventListener(P.startEvent,function(){I(!0)}):document.addEventListener(P.startEvent,function(){I(!0)}),window.addEventListener("resize",(0,p.default)(I,P.debounceDelay,!0)),window.addEventListener("orientationchange",(0,p.default)(I,P.debounceDelay,!0)),window.addEventListener("scroll",(0,f.default)(function(){(0,N.default)(M,P.once)},P.throttleDelay)),P.disableMutationObserver||x.default.ready("[data-aos]",G),M)};r.exports={init:ie,refresh:I,refreshHard:G}},function(r,n){},,,,,function(r,n){(function(s){function a(H,ie,Z){function O(Ve){var de=z,Ee=k;return z=k=void 0,ke=Ve,ee=H.apply(Ee,de)}function K(Ve){return ke=Ve,he=setTimeout(oe,ie),Ke?O(Ve):ee}function W(Ve){var de=Ve-ye,Ee=Ve-ke,je=ie-de;return He?G(je,ce-Ee):je}function Y(Ve){var de=Ve-ye,Ee=Ve-ke;return ye===void 0||de>=ie||de<0||He&&Ee>=ce}function oe(){var Ve=J();return Y(Ve)?se(Ve):void(he=setTimeout(oe,W(Ve)))}function se(Ve){return he=void 0,rt&&z?O(Ve):(z=k=void 0,ee)}function X(){he!==void 0&&clearTimeout(he),ke=0,z=ye=k=he=void 0}function F(){return he===void 0?ee:se(J())}function U(){var Ve=J(),de=Y(Ve);if(z=arguments,k=this,ye=Ve,de){if(he===void 0)return K(ye);if(He)return he=setTimeout(oe,ie),O(ye)}return he===void 0&&(he=setTimeout(oe,ie)),ee}var z,k,ce,ee,he,ye,ke=0,Ke=!1,He=!1,rt=!0;if(typeof H!="function")throw new TypeError(g);return ie=h(ie)||0,c(Z)&&(Ke=!!Z.leading,He="maxWait"in Z,ce=He?I(h(Z.maxWait)||0,ie):ce,rt="trailing"in Z?!!Z.trailing:rt),U.cancel=X,U.flush=F,U}function o(H,ie,Z){var O=!0,K=!0;if(typeof H!="function")throw new TypeError(g);return c(Z)&&(O="leading"in Z?!!Z.leading:O,K="trailing"in Z?!!Z.trailing:K),a(H,ie,{leading:O,maxWait:ie,trailing:K})}function c(H){var ie=typeof H>"u"?"undefined":p(H);return!!H&&(ie=="object"||ie=="function")}function d(H){return!!H&&(typeof H>"u"?"undefined":p(H))=="object"}function f(H){return(typeof H>"u"?"undefined":p(H))=="symbol"||d(H)&&P.call(H)==w}function h(H){if(typeof H=="number")return H;if(f(H))return x;if(c(H)){var ie=typeof H.valueOf=="function"?H.valueOf():H;H=c(ie)?ie+"":ie}if(typeof H!="string")return H===0?H:+H;H=H.replace(b,"");var Z=N.test(H);return Z||E.test(H)?j(H.slice(2),Z?2:8):v.test(H)?x:+H}var p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},g="Expected a function",x=NaN,w="[object Symbol]",b=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,N=/^0b[01]+$/i,E=/^0o[0-7]+$/i,j=parseInt,D=(typeof s>"u"?"undefined":p(s))=="object"&&s&&s.Object===Object&&s,T=(typeof self>"u"?"undefined":p(self))=="object"&&self&&self.Object===Object&&self,M=D||T||Function("return this")(),C=Object.prototype,P=C.toString,I=Math.max,G=Math.min,J=function(){return M.Date.now()};r.exports=o}).call(n,function(){return this}())},function(r,n){(function(s){function a(J,H,ie){function Z(rt){var Ve=U,de=z;return U=z=void 0,ye=rt,ce=J.apply(de,Ve)}function O(rt){return ye=rt,ee=setTimeout(Y,H),ke?Z(rt):ce}function K(rt){var Ve=rt-he,de=rt-ye,Ee=H-Ve;return Ke?I(Ee,k-de):Ee}function W(rt){var Ve=rt-he,de=rt-ye;return he===void 0||Ve>=H||Ve<0||Ke&&de>=k}function Y(){var rt=G();return W(rt)?oe(rt):void(ee=setTimeout(Y,K(rt)))}function oe(rt){return ee=void 0,He&&U?Z(rt):(U=z=void 0,ce)}function se(){ee!==void 0&&clearTimeout(ee),ye=0,U=he=z=ee=void 0}function X(){return ee===void 0?ce:oe(G())}function F(){var rt=G(),Ve=W(rt);if(U=arguments,z=this,he=rt,Ve){if(ee===void 0)return O(he);if(Ke)return ee=setTimeout(Y,H),Z(he)}return ee===void 0&&(ee=setTimeout(Y,H)),ce}var U,z,k,ce,ee,he,ye=0,ke=!1,Ke=!1,He=!0;if(typeof J!="function")throw new TypeError(p);return H=f(H)||0,o(ie)&&(ke=!!ie.leading,Ke="maxWait"in ie,k=Ke?P(f(ie.maxWait)||0,H):k,He="trailing"in ie?!!ie.trailing:He),F.cancel=se,F.flush=X,F}function o(J){var H=typeof J>"u"?"undefined":h(J);return!!J&&(H=="object"||H=="function")}function c(J){return!!J&&(typeof J>"u"?"undefined":h(J))=="object"}function d(J){return(typeof J>"u"?"undefined":h(J))=="symbol"||c(J)&&C.call(J)==x}function f(J){if(typeof J=="number")return J;if(d(J))return g;if(o(J)){var H=typeof J.valueOf=="function"?J.valueOf():J;J=o(H)?H+"":H}if(typeof J!="string")return J===0?J:+J;J=J.replace(w,"");var ie=v.test(J);return ie||N.test(J)?E(J.slice(2),ie?2:8):b.test(J)?g:+J}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},p="Expected a function",g=NaN,x="[object Symbol]",w=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,N=/^0o[0-7]+$/i,E=parseInt,j=(typeof s>"u"?"undefined":h(s))=="object"&&s&&s.Object===Object&&s,D=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,T=j||D||Function("return this")(),M=Object.prototype,C=M.toString,P=Math.max,I=Math.min,G=function(){return T.Date.now()};r.exports=a}).call(n,function(){return this}())},function(r,n){function s(h){var p=void 0,g=void 0;for(p=0;p<h.length;p+=1)if(g=h[p],g.dataset&&g.dataset.aos||g.children&&s(g.children))return!0;return!1}function a(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!a()}function c(h,p){var g=window.document,x=a(),w=new x(d);f=p,w.observe(g.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function d(h){h&&h.forEach(function(p){var g=Array.prototype.slice.call(p.addedNodes),x=Array.prototype.slice.call(p.removedNodes),w=g.concat(x);if(s(w))return f()})}Object.defineProperty(n,"__esModule",{value:!0});var f=function(){};n.default={isSupported:o,ready:c}},function(r,n){function s(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function a(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(x,w){for(var b=0;b<w.length;b++){var v=w[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(x,v.key,v)}}return function(x,w,b){return w&&g(x.prototype,w),b&&g(x,b),x}}(),c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,d=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,f=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,h=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,p=function(){function g(){s(this,g)}return o(g,[{key:"phone",value:function(){var x=a();return!(!c.test(x)&&!d.test(x.substr(0,4)))}},{key:"mobile",value:function(){var x=a();return!(!f.test(x)&&!h.test(x.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),g}();n.default=new p},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var s=function(o,c,d){var f=o.node.getAttribute("data-aos-once");c>o.position?o.node.classList.add("aos-animate"):typeof f<"u"&&(f==="false"||!d&&f!=="true")&&o.node.classList.remove("aos-animate")},a=function(o,c){var d=window.pageYOffset,f=window.innerHeight;o.forEach(function(h,p){s(h,f+d,c)})};n.default=a},function(r,n,s){function a(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(n,"__esModule",{value:!0});var o=s(12),c=a(o),d=function(f,h){return f.forEach(function(p,g){p.node.classList.add("aos-init"),p.position=(0,c.default)(p.node,h.offset)}),f};n.default=d},function(r,n,s){function a(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(n,"__esModule",{value:!0});var o=s(13),c=a(o),d=function(f,h){var p=0,g=0,x=window.innerHeight,w={offset:f.getAttribute("data-aos-offset"),anchor:f.getAttribute("data-aos-anchor"),anchorPlacement:f.getAttribute("data-aos-anchor-placement")};switch(w.offset&&!isNaN(w.offset)&&(g=parseInt(w.offset)),w.anchor&&document.querySelectorAll(w.anchor)&&(f=document.querySelectorAll(w.anchor)[0]),p=(0,c.default)(f).top,w.anchorPlacement){case"top-bottom":break;case"center-bottom":p+=f.offsetHeight/2;break;case"bottom-bottom":p+=f.offsetHeight;break;case"top-center":p+=x/2;break;case"bottom-center":p+=x/2+f.offsetHeight;break;case"center-center":p+=x/2+f.offsetHeight/2;break;case"top-top":p+=x;break;case"bottom-top":p+=f.offsetHeight+x;break;case"center-top":p+=f.offsetHeight/2+x}return w.anchorPlacement||w.offset||isNaN(h)||(g=h),p+g};n.default=d},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var s=function(a){for(var o=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)o+=a.offsetLeft-(a.tagName!="BODY"?a.scrollLeft:0),c+=a.offsetTop-(a.tagName!="BODY"?a.scrollTop:0),a=a.offsetParent;return{top:c,left:o}};n.default=s},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var s=function(a){return a=a||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(a,function(o){return{node:o}})};n.default=s}])})}(Wf)),Wf.exports}var oA=iA();const lA=Vg(oA);let cA={data:""},uA=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||cA,dA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fA=/\/\*[^]*?\*\/|  +/g,T2=/\n+/g,mi=(t,e)=>{let r="",n="",s="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?mi(o,a):a+"{"+mi(o,a[1]=="k"?"":e)+"}":typeof o=="object"?n+=mi(o,e?e.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=mi.p?mi.p(a,o):a+":"+o+";")}return r+(e&&s?e+"{"+s+"}":s)+n},Ca={},r_=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+r_(t[r]);return e}return t},hA=(t,e,r,n,s)=>{let a=r_(t),o=Ca[a]||(Ca[a]=(d=>{let f=0,h=11;for(;f<d.length;)h=101*h+d.charCodeAt(f++)>>>0;return"go"+h})(a));if(!Ca[o]){let d=a!==t?t:(f=>{let h,p,g=[{}];for(;h=dA.exec(f.replace(fA,""));)h[4]?g.shift():h[3]?(p=h[3].replace(T2," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][h[1]]=h[2].replace(T2," ").trim();return g[0]})(t);Ca[o]=mi(s?{["@keyframes "+o]:d}:d,r?"":"."+o)}let c=r&&Ca.g?Ca.g:null;return r&&(Ca.g=Ca[o]),((d,f,h,p)=>{p?f.data=f.data.replace(p,d):f.data.indexOf(d)===-1&&(f.data=h?d+f.data:f.data+d)})(Ca[o],e,n,c),o},mA=(t,e,r)=>t.reduce((n,s,a)=>{let o=e[a];if(o&&o.call){let c=o(r),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=d?"."+d:c&&typeof c=="object"?c.props?"":mi(c,""):c===!1?"":c}return n+s+(o??"")},"");function qh(t){let e=this||{},r=t.call?t(e.p):t;return hA(r.unshift?r.raw?mA(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,uA(e.target),e.g,e.o,e.k)}let n_,rg,ng;qh.bind({g:1});let Ra=qh.bind({k:1});function pA(t,e,r,n){mi.p=e,n_=t,rg=r,ng=n}function Fi(t,e){let r=this||{};return function(){let n=arguments;function s(a,o){let c=Object.assign({},a),d=c.className||s.className;r.p=Object.assign({theme:rg&&rg()},c),r.o=/ *go\d+/.test(d),c.className=qh.apply(r,n)+(d?" "+d:"");let f=t;return t[0]&&(f=c.as||t,delete c.as),ng&&f[0]&&ng(c),n_(f,c)}return s}}var gA=t=>typeof t=="function",ah=(t,e)=>gA(t)?t(e):t,xA=(()=>{let t=0;return()=>(++t).toString()})(),s_=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),yA=20,a_=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,yA)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return a_(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},$f=[],fo={toasts:[],pausedAt:void 0},Ao=t=>{fo=a_(fo,t),$f.forEach(e=>{e(fo)})},vA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},bA=(t={})=>{let[e,r]=A.useState(fo),n=A.useRef(fo);A.useEffect(()=>(n.current!==fo&&r(fo),$f.push(r),()=>{let a=$f.indexOf(r);a>-1&&$f.splice(a,1)}),[]);let s=e.toasts.map(a=>{var o,c,d;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((c=t[a.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||vA[a.type],style:{...t.style,...(d=t[a.type])==null?void 0:d.style,...a.style}}});return{...e,toasts:s}},wA=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||xA()}),$u=t=>(e,r)=>{let n=wA(e,t,r);return Ao({type:2,toast:n}),n.id},lt=(t,e)=>$u("blank")(t,e);lt.error=$u("error");lt.success=$u("success");lt.loading=$u("loading");lt.custom=$u("custom");lt.dismiss=t=>{Ao({type:3,toastId:t})};lt.remove=t=>Ao({type:4,toastId:t});lt.promise=(t,e,r)=>{let n=lt.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let a=e.success?ah(e.success,s):void 0;return a?lt.success(a,{id:n,...r,...r==null?void 0:r.success}):lt.dismiss(n),s}).catch(s=>{let a=e.error?ah(e.error,s):void 0;a?lt.error(a,{id:n,...r,...r==null?void 0:r.error}):lt.dismiss(n)}),t};var SA=(t,e)=>{Ao({type:1,toast:{id:t,height:e}})},_A=()=>{Ao({type:5,time:Date.now()})},Zc=new Map,NA=1e3,CA=(t,e=NA)=>{if(Zc.has(t))return;let r=setTimeout(()=>{Zc.delete(t),Ao({type:4,toastId:t})},e);Zc.set(t,r)},jA=t=>{let{toasts:e,pausedAt:r}=bA(t);A.useEffect(()=>{if(r)return;let a=Date.now(),o=e.map(c=>{if(c.duration===1/0)return;let d=(c.duration||0)+c.pauseDuration-(a-c.createdAt);if(d<0){c.visible&&lt.dismiss(c.id);return}return setTimeout(()=>lt.dismiss(c.id),d)});return()=>{o.forEach(c=>c&&clearTimeout(c))}},[e,r]);let n=A.useCallback(()=>{r&&Ao({type:6,time:Date.now()})},[r]),s=A.useCallback((a,o)=>{let{reverseOrder:c=!1,gutter:d=8,defaultPosition:f}=o||{},h=e.filter(x=>(x.position||f)===(a.position||f)&&x.height),p=h.findIndex(x=>x.id===a.id),g=h.filter((x,w)=>w<p&&x.visible).length;return h.filter(x=>x.visible).slice(...c?[g+1]:[0,g]).reduce((x,w)=>x+(w.height||0)+d,0)},[e]);return A.useEffect(()=>{e.forEach(a=>{if(a.dismissed)CA(a.id,a.removeDelay);else{let o=Zc.get(a.id);o&&(clearTimeout(o),Zc.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:SA,startPause:_A,endPause:n,calculateOffset:s}}},TA=Ra`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,EA=Ra`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kA=Ra`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,AA=Fi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${TA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${EA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${kA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,PA=Ra`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,DA=Fi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${PA} 1s linear infinite;
`,RA=Ra`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,FA=Ra`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,OA=Fi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${RA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${FA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,MA=Fi("div")`
  position: absolute;
`,LA=Fi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,IA=Ra`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BA=Fi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${IA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,UA=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?A.createElement(BA,null,e):e:r==="blank"?null:A.createElement(LA,null,A.createElement(DA,{...n}),r!=="loading"&&A.createElement(MA,null,r==="error"?A.createElement(AA,{...n}):A.createElement(OA,{...n})))},zA=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,VA=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,HA="0%{opacity:0;} 100%{opacity:1;}",WA="0%{opacity:1;} 100%{opacity:0;}",$A=Fi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,YA=Fi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,KA=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=s_()?[HA,WA]:[zA(r),VA(r)];return{animation:e?`${Ra(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ra(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},GA=A.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?KA(t.position||e||"top-center",t.visible):{opacity:0},a=A.createElement(UA,{toast:t}),o=A.createElement(YA,{...t.ariaProps},ah(t.message,t));return A.createElement($A,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:a,message:o}):A.createElement(A.Fragment,null,a,o))});pA(A.createElement);var qA=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let a=A.useCallback(o=>{if(o){let c=()=>{let d=o.getBoundingClientRect().height;n(t,d)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return A.createElement("div",{ref:a,className:e,style:r},s)},XA=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:s_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},JA=qh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,cf=16,QA=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,containerStyle:a,containerClassName:o})=>{let{toasts:c,handlers:d}=jA(r);return A.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:cf,left:cf,right:cf,bottom:cf,pointerEvents:"none",...a},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(f=>{let h=f.position||e,p=d.calculateOffset(f,{reverseOrder:t,gutter:n,defaultPosition:e}),g=XA(h,p);return A.createElement(qA,{id:f.id,key:f.id,onHeightUpdate:d.updateHeight,className:f.visible?JA:"",style:g},f.type==="custom"?ah(f.message,f):s?s(f):A.createElement(GA,{toast:f,position:h}))}))},yr=lt;const ZA=()=>{var ie,Z;const{user:t}=Yt(),[e,r]=A.useState([]),[n,s]=A.useState([]),[a,o]=A.useState(!0),[c,d]=A.useState(null),[f,h]=A.useState(!1),[p,g]=A.useState(null),x=new Date,[w,b]=A.useState(x.getMonth()+1),[v,N]=A.useState(x.getFullYear()),[E,j]=A.useState(!0),D=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],T=new Date().getFullYear(),M=Array.from({length:7},(O,K)=>T+1-K),C=A.useCallback(async()=>{try{o(!0),console.log("Current user:",t),console.log("Fetching ALL leads without date filters");const O=await Nn.getAll({});if(console.log("API Response:",O.data),O.data&&O.data.data&&O.data.data.length>0){const K=O.data.data[0];console.log("First lead object structure:",K),console.log("All field names:",Object.keys(K)),console.log("Name value:",K.name),console.log("NAME value:",K.NAME)}r(O.data.data||[]),s(O.data.data||[]),console.log("Leads set in state:",O.data.data),d(null)}catch(O){console.error("Error fetching leads:",O),d("Failed to load leads. Please try again."),r([]),s([])}finally{o(!1)}},[t]);A.useEffect(()=>{console.log("Component mounted, fetching all leads"),C()},[C]),A.useEffect(()=>{if(e.length===0)return;console.log("Filtering leads for:",{filterMonth:w,filterYear:v,showCurrentMonth:E});let O=e;if(E){const K=new Date,W=K.getMonth()+1,Y=K.getFullYear();O=e.filter(oe=>{const se=new Date(oe.createdAt),X=se.getMonth()+1,F=se.getFullYear();return X===W&&F===Y})}else O=e.filter(K=>{const W=new Date(K.createdAt),Y=W.getMonth()+1,oe=W.getFullYear();return Y===w&&oe===v});console.log(`Filtered ${O.length} leads from ${e.length} total leads`),s(O)},[e,w,v,E]),A.useCallback(()=>{console.log("============= DEBUG CURRENT STATE ============="),console.log("Current leads count:",e.length),console.log("Current filteredLeads count:",n.length),console.log("Filter settings:",{filterMonth:w,filterYear:v,showCurrentMonth:E}),console.log("Selected lead:",p),console.log("Current date:",new Date),console.log("Filter date range:",{start:E?new Date(new Date().getFullYear(),new Date().getMonth(),1):new Date(v,w-1,1),end:E?new Date(new Date().getFullYear(),new Date().getMonth()+1,0):new Date(v,w,0)}),console.log("First 3 leads in leads array:",e.slice(0,3).map(O=>({id:O._id,name:O.name,createdAt:O.createdAt,createdAtFormatted:new Date(O.createdAt).toLocaleDateString(),month:new Date(O.createdAt).getMonth()+1,year:new Date(O.createdAt).getFullYear()}))),console.log("First 3 leads in filteredLeads array:",n.slice(0,3).map(O=>({id:O._id,name:O.name,createdAt:O.createdAt,createdAtFormatted:new Date(O.createdAt).toLocaleDateString(),month:new Date(O.createdAt).getMonth()+1,year:new Date(O.createdAt).getFullYear()}))),console.log("============= END DEBUG STATE =============")},[e,n,w,v,E,p]),A.useCallback(async()=>{console.log("=== FORCE REFETCH TRIGGERED ==="),o(!0);try{r([]),s([]),await new Promise(O=>setTimeout(O,100)),await C(),lt.success("Data refreshed successfully!")}catch(O){console.error("Force refetch failed:",O),lt.error("Failed to refresh data")}finally{o(!1)}},[C]);const P=A.useCallback(O=>{console.log("============= HANDLE LEAD SUCCESS ============="),console.log("Lead success callback called with:",O),p?(console.log("Lead updated successfully"),g(null),lt.success("Lead updated successfully!"),C()):(console.log("Adding new lead to list"),h(!1),C(),lt.success("Lead created successfully!")),console.log("============= END HANDLE LEAD SUCCESS =============")},[p,C]),I=O=>{const K=parseInt(O.target.value);console.log("Changing month to:",K),b(K),j(!1)},G=O=>{const K=parseInt(O.target.value);console.log("Changing year to:",K),N(K),j(!1)},J=()=>{b(new Date().getMonth()+1),N(new Date().getFullYear()),j(!0)},H=O=>new Date(O).toLocaleDateString();return A.useEffect(()=>{lA.init({duration:600,easing:"ease-in-out",once:!0})},[]),i.jsx(cr,{children:i.jsxs("div",{className:"bg-gray-50 min-h-screen pb-12",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 mb-8",children:i.jsx("div",{className:"container mx-auto",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Leads Management"}),i.jsxs("p",{className:"text-blue-100 text-sm md:text-base",children:[n.length," leads  ",E?"Current Month":`${(ie=D.find(O=>O.value===parseInt(w)))==null?void 0:ie.label} ${v}`]})]}),i.jsxs("button",{onClick:()=>h(!0),className:"mt-4 md:mt-0 bg-white hover:bg-blue-50 text-blue-600 py-2 px-6 rounded-lg shadow-md transition duration-300 flex items-center font-medium",children:[i.jsx(Qg,{className:"h-4 w-4 mr-2"}),"Add New Lead"]})]})})}),i.jsxs("div",{className:"container mx-auto px-4",children:[c&&i.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 border border-red-200 rounded-lg shadow-sm",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c]})}),(f||p)&&i.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden mb-8",children:[i.jsx("div",{className:"px-6 py-4 bg-blue-50 border-b border-blue-100",children:i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:p?"Edit Lead":"Add New Lead"})}),i.jsxs("div",{className:"p-6",children:[i.jsx(sA,{lead:p,onSuccess:P}),i.jsxs("button",{onClick:()=>{h(!1),g(null)},className:"mt-6 text-blue-600 hover:text-blue-800 font-medium flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Leads List"]})]})]}),!f&&!p&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden mb-8",children:[i.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-100 flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Filter Leads by Month"}),i.jsx(Jg,{className:"text-gray-500"})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),i.jsx("select",{id:"month",value:w,onChange:I,className:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:D.map(O=>i.jsx("option",{value:O.value,children:O.label},O.value))})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),i.jsx("select",{id:"year",value:v,onChange:G,className:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:M.map(O=>i.jsx("option",{value:O,children:O},O))})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("div",{className:"grid grid-cols-1 gap-2 w-full",children:[i.jsx("button",{onClick:J,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Show Current Month"}),i.jsx("button",{onClick:()=>{b(3),N(2025),j(!1)},className:"w-full py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 text-sm",children:" March 2025 (Imported Leads)"})]})})]}),i.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg text-sm text-blue-800 flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),i.jsxs("span",{children:["Showing ",n.length," leads for ",E?"current month":`${(Z=D.find(O=>O.value===parseInt(w)))==null?void 0:Z.label} ${v}`]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-100",children:i.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:["Leads Overview (",n.length,")"]})}),a?i.jsxs("div",{className:"p-12 flex justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),i.jsx("p",{className:"ml-4 text-gray-600",children:"Loading leads..."})]}):n.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"No leads found"}),i.jsx("p",{className:"text-gray-500 mb-6",children:"No leads were found for the selected time period"}),i.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Your First Lead"]})]}):i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(O=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow duration-200",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:O.name}),i.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${O.feedback==="Converted"?"bg-green-100 text-green-800":O.feedback==="Not Interested"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:O.feedback||"Pending"})]}),i.jsx("button",{onClick:()=>g(O),className:"ml-2 inline-flex items-center justify-center w-8 h-8 text-indigo-600 hover:text-white hover:bg-indigo-600 rounded-full transition-colors duration-200",title:"Edit Lead",children:i.jsx(Wu,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"font-medium text-gray-700 w-16",children:"Course:"}),i.jsx("span",{children:O.course})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"font-medium text-gray-700 w-16",children:"Phone:"}),i.jsx("span",{children:O.phone||O.countryCode})]}),O.email&&i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"font-medium text-gray-700 w-16",children:"Email:"}),i.jsx("span",{className:"truncate",children:O.email})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"font-medium text-gray-700 w-16",children:"Country:"}),i.jsx("span",{children:O.country||O.countryCode})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"font-medium text-gray-700 w-16",children:"Date:"}),i.jsx("span",{children:H(O.createdAt)})]}),O.assignedTo&&i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"font-medium text-gray-700 w-16",children:"Assigned:"}),i.jsx("span",{className:"text-blue-600",children:typeof O.assignedTo=="object"?O.assignedTo.fullName||O.assignedTo.name||"Unknown User":O.assignedTo})]})]})]},O._id))})})]})]})]})]})})},e8=()=>{var ce;const{user:t}=Yt(),[e,r]=A.useState([]),[n,s]=A.useState([]),[a,o]=A.useState(!0),[c,d]=A.useState(null),[f,h]=A.useState({}),[p,g]=A.useState({}),[x,w]=A.useState(null),[b,v]=A.useState(0),[N,E]=A.useState(new Date().getMonth()+1),[j,D]=A.useState(new Date().getFullYear()),[T,M]=A.useState(!0),[C,P]=A.useState({}),I=["New","Contacted","Qualified","Lost","Converted","Introduction","Acknowledgement","Question","Future Promise","Payment","Analysis"],G=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],J=new Date().getFullYear(),H=Array.from({length:6},(ee,he)=>J-he);A.useEffect(()=>{Z()},[t,b]),A.useEffect(()=>{e.length>0&&ie()},[e,N,j,T]);const ie=()=>{if(T){const ee=new Date().getMonth()+1,he=new Date().getFullYear(),ye=e.filter(ke=>{const Ke=new Date(ke.createdAt);return Ke.getMonth()+1===ee&&Ke.getFullYear()===he});s(ye)}else{const ee=e.filter(he=>{const ye=new Date(he.createdAt);return ye.getMonth()+1===N&&ye.getFullYear()===j});s(ee)}},Z=async()=>{try{o(!0),console.log("Fetching leads for sales person:",t==null?void 0:t.fullName);const ee=await Nn.getAssigned();if(console.log("Leads response:",ee.data),ee.data.success){r(ee.data.data);const he={};ee.data.data.forEach(ye=>{he[ye._id]=ye.feedback||""}),h(he)}else d("Failed to load leads")}catch(ee){console.error("Error fetching leads:",ee),d("Failed to load leads. Please try again.")}finally{o(!1)}},O=(ee,he)=>{h(ye=>({...ye,[ee]:he}))},K=async ee=>{if(!(!ee||!f[ee]))try{g(ye=>({...ye,[ee]:!0}));const he=await Nn.updateFeedback(ee,f[ee]);he.data.success?(r(e.map(ye=>ye._id===ee?he.data.data:ye)),alert("Feedback updated successfully!")):d("Failed to update feedback")}catch(he){console.error("Error updating feedback:",he),d("Failed to update feedback. Please try again.")}finally{g(he=>({...he,[ee]:!1}))}},W=async(ee,he)=>{try{if(P(He=>({...He,[ee]:!0})),d(null),!e.find(He=>He._id===ee))return;const ke={status:he};console.log("Updating lead status:",ee,he);const Ke=await Nn.update(ee,ke);Ke.data.success?(r(e.map(He=>He._id===ee?Ke.data.data:He)),s(n.map(He=>He._id===ee?Ke.data.data:He)),console.log("Lead status updated successfully"),h({...f,statusSuccess:`Status updated to "${he}" successfully!`,leadId:ee}),setTimeout(()=>{h(He=>({...He,statusSuccess:null,leadId:null}))},3e3),v(He=>He+1)):(console.error("Failed to update lead status:",Ke.data),d("Failed to update lead status. Please try again."))}catch(ye){console.error("Error updating lead status:",ye),ye.response&&ye.response.status===403?d("You don't have permission to update this lead status. Contact your manager."):d("Failed to update lead status. Please try again.")}finally{P(ye=>({...ye,[ee]:!1}))}},Y=ee=>{E(parseInt(ee.target.value)),M(!1)},oe=ee=>{D(parseInt(ee.target.value)),M(!1)},se=()=>{E(new Date().getMonth()+1),D(new Date().getFullYear()),M(!0)},X=ee=>new Date(ee).toLocaleDateString(),F=ee=>{w(ee)},U=()=>{w(null)},z=(ee,he)=>{if(!ee)return;const ke=`https://wa.me/${`${he||"+91"}${ee.replace(/\D/g,"")}`.replace(/\+/g,"")}`;window.open(ke,"_blank")},k=ee=>{ee&&(window.location.href=`mailto:${ee}`)};return i.jsx(cr,{children:i.jsxs("div",{className:"container mx-auto p-6",children:[i.jsx("h2",{className:"text-3xl font-bold mb-6",children:"My Assigned Leads"}),c&&i.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-700 border border-red-200 rounded-md flex justify-between items-center",children:[i.jsx("div",{className:"flex-1",children:c}),i.jsx("button",{onClick:()=>d(null),className:"text-red-700 hover:text-red-900",children:""})]}),a?i.jsxs("div",{className:"text-center py-10",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading your assigned leads..."})]}):e.length===0?i.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:i.jsx("p",{className:"text-gray-600",children:"No leads assigned to you yet."})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[i.jsx(Jg,{className:"mr-2 text-blue-500"}),"Filter Leads by Date"]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Gp,{className:"text-blue-500 mr-2"}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-600 mb-1",children:"Month"}),i.jsx("select",{id:"month",value:N,onChange:Y,className:"border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:T,children:G.map(ee=>i.jsx("option",{value:ee.value,children:ee.label},ee.value))})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-600 mb-1",children:"Year"}),i.jsx("select",{id:"year",value:j,onChange:oe,className:"border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:T,children:H.map(ee=>i.jsx("option",{value:ee,children:ee},ee))})]}),i.jsxs("div",{className:"flex items-center ml-4",children:[i.jsx("input",{id:"currentMonth",type:"checkbox",checked:T,onChange:()=>M(!T),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"currentMonth",className:"ml-2 text-sm text-gray-600",children:"Show current month only"})]}),i.jsxs("button",{onClick:se,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 ml-auto flex items-center",children:[i.jsx(Gp,{className:"mr-2"}),"Reset to Current Month"]})]}),i.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["Showing ",n.length," lead",n.length!==1?"s":"",T?" for the current month":` for ${(ce=G.find(ee=>ee.value===N))==null?void 0:ce.label} ${j}`]})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Feedback"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(ee=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee.name})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex flex-col space-y-1",children:[ee.phone&&i.jsx("div",{className:"flex items-center",children:i.jsxs("button",{onClick:()=>z(ee.phone,ee.countryCode),className:"text-sm text-gray-900 flex items-center hover:text-green-600",title:"Open in WhatsApp",children:[i.jsx(Kp,{className:"mr-1 text-green-500"}),ee.countryCode||"+91"," ",ee.phone]})}),ee.email&&i.jsx("div",{className:"flex items-center",children:i.jsxs("button",{onClick:()=>k(ee.email),className:"text-sm text-gray-500 flex items-center hover:text-blue-600",title:"Send email",children:[i.jsx(yu,{className:"mr-1 text-blue-500"}),ee.email]})})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:ee.course})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"relative",children:[i.jsx("select",{value:ee.status,onChange:he=>W(ee._id,he.target.value),disabled:C[ee._id],className:`text-sm px-2 py-1 rounded ${ee.status==="New"?"bg-blue-100 text-blue-800":ee.status==="Contacted"?"bg-teal-100 text-teal-800":ee.status==="Qualified"?"bg-indigo-100 text-indigo-800":ee.status==="Lost"?"bg-red-100 text-red-800":ee.status==="Converted"?"bg-green-100 text-green-800":ee.status==="Introduction"?"bg-purple-100 text-purple-800":ee.status==="Acknowledgement"?"bg-yellow-100 text-yellow-800":ee.status==="Question"?"bg-indigo-100 text-indigo-800":ee.status==="Future Promise"?"bg-cyan-100 text-cyan-800":ee.status==="Payment"?"bg-green-100 text-green-800":ee.status==="Analysis"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"} border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none cursor-pointer w-full pr-8`,children:I.map(he=>i.jsx("option",{value:he,children:he},he))}),i.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:i.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})}),C[ee._id]&&i.jsx("div",{className:"absolute top-1/2 right-8 transform -translate-y-1/2",children:i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 rounded-full border-t-transparent"})}),f.statusSuccess&&f.leadId===ee._id&&i.jsx("div",{className:"absolute top-full left-0 mt-1 bg-green-100 text-green-800 text-xs px-2 py-1 rounded whitespace-normal w-48 z-10",children:f.statusSuccess})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-500",children:X(ee.createdAt)})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"relative",children:[i.jsx("textarea",{value:f[ee._id]||"",onChange:he=>O(ee._id,he.target.value),placeholder:"Add feedback...",className:"text-sm w-full h-20 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),i.jsx("button",{onClick:()=>K(ee._id),disabled:p[ee._id]||!f[ee._id],className:`mt-1 px-3 py-1 text-xs rounded ${p[ee._id]||!f[ee._id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:p[ee._id]?"Saving...":"Save Feedback"})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsx("button",{onClick:()=>F(ee),className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},ee._id))})]})})})]}),x&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Lead Details"}),i.jsx("button",{onClick:U,className:"text-gray-400 hover:text-gray-500",children:""})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Name"}),i.jsx("p",{className:"text-base",children:x.name})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),i.jsx("p",{className:"text-base",children:i.jsxs("button",{onClick:()=>k(x.email),className:"text-blue-600 hover:text-blue-800 flex items-center",children:[i.jsx(yu,{className:"mr-1"})," ",x.email]})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Phone"}),i.jsx("p",{className:"text-base",children:i.jsxs("button",{onClick:()=>z(x.phone,x.countryCode),className:"text-green-600 hover:text-green-800 flex items-center",children:[i.jsx(Kp,{className:"mr-1"})," ",x.countryCode||"+91"," ",x.phone]})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Course"}),i.jsx("p",{className:"text-base",children:x.course})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{value:x.status,onChange:ee=>{W(x._id,ee.target.value),w({...x,status:ee.target.value})},className:`px-2 py-1 rounded ${x.status==="New"?"bg-blue-100 text-blue-800":x.status==="Contacted"?"bg-teal-100 text-teal-800":x.status==="Qualified"?"bg-indigo-100 text-indigo-800":x.status==="Lost"?"bg-red-100 text-red-800":x.status==="Converted"?"bg-green-100 text-green-800":x.status==="Introduction"?"bg-purple-100 text-purple-800":x.status==="Acknowledgement"?"bg-yellow-100 text-yellow-800":x.status==="Question"?"bg-indigo-100 text-indigo-800":x.status==="Future Promise"?"bg-cyan-100 text-cyan-800":x.status==="Payment"?"bg-green-100 text-green-800":x.status==="Analysis"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"} border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none cursor-pointer pr-8 relative`,children:I.map(ee=>i.jsx("option",{value:ee,children:ee},ee))}),i.jsx("div",{className:"pointer-events-none absolute right-0 top-1/2 transform -translate-y-1/2 flex items-center px-2 text-gray-700",children:i.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})}),C[x._id]&&i.jsx("div",{className:"absolute -right-6 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 rounded-full border-t-transparent"})}),f.statusSuccess&&f.leadId===x._id&&i.jsx("div",{className:"absolute top-full left-0 mt-1 bg-green-100 text-green-800 text-xs px-2 py-1 rounded whitespace-normal w-48 z-10",children:f.statusSuccess})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Created At"}),i.jsx("p",{className:"text-base",children:X(x.createdAt)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Country"}),i.jsx("p",{className:"text-base",children:x.country||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Company"}),i.jsx("p",{className:"text-base",children:x.company||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Client"}),i.jsx("p",{className:"text-base",children:x.client||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pseudo ID"}),i.jsx("p",{className:"text-base",children:x.pseudoId||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Source"}),i.jsx("p",{className:"text-base",children:x.source||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"LinkedIn"}),i.jsx("p",{className:"text-base",children:x.sourceLink?i.jsx("a",{href:x.sourceLink.startsWith("http")?x.sourceLink:`https://${x.sourceLink}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:x.sourceLink}):"N/A"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Remarks"}),i.jsx("p",{className:"text-base p-2 bg-gray-50 rounded min-h-[40px]",children:x.remarks||"No remarks available"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Feedback"}),i.jsx("textarea",{value:f[x._id]||"",onChange:ee=>O(x._id,ee.target.value),placeholder:"Add feedback...",className:"w-full h-24 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),i.jsx("button",{onClick:()=>K(x._id),disabled:p[x._id]||!f[x._id],className:`mt-2 px-4 py-2 rounded ${p[x._id]||!f[x._id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:p[x._id]?"Saving...":"Save Feedback"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:U,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100",children:"Close"})})]})})]})})};function i_(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=i_(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function yo(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=i_(t))&&(n&&(n+=" "),n+=e);return n}function t8(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}t8(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Yu=t=>typeof t=="number"&&!isNaN(t),No=t=>typeof t=="string",Fa=t=>typeof t=="function",r8=t=>No(t)||Yu(t),sg=t=>No(t)||Fa(t)?t:null,n8=(t,e)=>t===!1||Yu(t)&&t>0?t:e,ag=t=>A.isValidElement(t)||No(t)||Fa(t)||Yu(t);function s8(t,e,r=300){let{scrollHeight:n,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,r)})})}function a8({enter:t,exit:e,appendPosition:r=!1,collapse:n=!0,collapseDuration:s=300}){return function({children:a,position:o,preventExitTransition:c,done:d,nodeRef:f,isIn:h,playToast:p}){let g=r?`${t}--${o}`:t,x=r?`${e}--${o}`:e,w=A.useRef(0);return A.useLayoutEffect(()=>{let b=f.current,v=g.split(" "),N=E=>{E.target===f.current&&(p(),b.removeEventListener("animationend",N),b.removeEventListener("animationcancel",N),w.current===0&&E.type!=="animationcancel"&&b.classList.remove(...v))};b.classList.add(...v),b.addEventListener("animationend",N),b.addEventListener("animationcancel",N)},[]),A.useEffect(()=>{let b=f.current,v=()=>{b.removeEventListener("animationend",v),n?s8(b,d,s):d()};h||(c?v():(w.current=1,b.className+=` ${x}`,b.addEventListener("animationend",v)))},[h]),dt.createElement(dt.Fragment,null,a)}}function E2(t,e){return{content:o_(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function o_(t,e,r=!1){return A.isValidElement(t)&&!No(t.type)?A.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):Fa(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):t}function i8({closeToast:t,theme:e,ariaLabel:r="close"}){return dt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),t(!0)},"aria-label":r},dt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},dt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function o8({delay:t,isRunning:e,closeToast:r,type:n="default",hide:s,className:a,controlledProgress:o,progress:c,rtl:d,isIn:f,theme:h}){let p=s||o&&c===0,g={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(g.transform=`scaleX(${c})`);let x=yo("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":d}),w=Fa(a)?a({rtl:d,type:n,defaultClassName:x}):yo(x,a),b={[o&&c>=1?"onTransitionEnd":"onAnimationEnd"]:o&&c<1?null:()=>{f&&r()}};return dt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},dt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${n}`}),dt.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:w,style:g,...b}))}var l8=1,l_=()=>`${l8++}`;function c8(t,e,r){let n=1,s=0,a=[],o=[],c=e,d=new Map,f=new Set,h=E=>(f.add(E),()=>f.delete(E)),p=()=>{o=Array.from(d.values()),f.forEach(E=>E())},g=({containerId:E,toastId:j,updateId:D})=>{let T=E?E!==t:t!==1,M=d.has(j)&&D==null;return T||M},x=(E,j)=>{d.forEach(D=>{var T;(j==null||j===D.props.toastId)&&((T=D.toggle)==null||T.call(D,E))})},w=E=>{var j,D;(D=(j=E.props)==null?void 0:j.onClose)==null||D.call(j,E.removalReason),E.isActive=!1},b=E=>{if(E==null)d.forEach(w);else{let j=d.get(E);j&&w(j)}p()},v=()=>{s-=a.length,a=[]},N=E=>{var j,D;let{toastId:T,updateId:M}=E.props,C=M==null;E.staleId&&d.delete(E.staleId),E.isActive=!0,d.set(T,E),p(),r(E2(E,C?"added":"updated")),C&&((D=(j=E.props).onOpen)==null||D.call(j))};return{id:t,props:c,observe:h,toggle:x,removeToast:b,toasts:d,clearQueue:v,buildToast:(E,j)=>{if(g(j))return;let{toastId:D,updateId:T,data:M,staleId:C,delay:P}=j,I=T==null;I&&s++;let G={...c,style:c.toastStyle,key:n++,...Object.fromEntries(Object.entries(j).filter(([H,ie])=>ie!=null)),toastId:D,updateId:T,data:M,isIn:!1,className:sg(j.className||c.toastClassName),progressClassName:sg(j.progressClassName||c.progressClassName),autoClose:j.isLoading?!1:n8(j.autoClose,c.autoClose),closeToast(H){d.get(D).removalReason=H,b(D)},deleteToast(){let H=d.get(D);if(H!=null){if(r(E2(H,"removed")),d.delete(D),s--,s<0&&(s=0),a.length>0){N(a.shift());return}p()}}};G.closeButton=c.closeButton,j.closeButton===!1||ag(j.closeButton)?G.closeButton=j.closeButton:j.closeButton===!0&&(G.closeButton=ag(c.closeButton)?c.closeButton:!0);let J={content:E,props:G,staleId:C};c.limit&&c.limit>0&&s>c.limit&&I?a.push(J):Yu(P)?setTimeout(()=>{N(J)},P):N(J)},setProps(E){c=E},setToggle:(E,j)=>{let D=d.get(E);D&&(D.toggle=j)},isToastActive:E=>{var j;return(j=d.get(E))==null?void 0:j.isActive},getSnapshot:()=>o}}var Rn=new Map,bu=[],ig=new Set,u8=t=>ig.forEach(e=>e(t)),c_=()=>Rn.size>0;function d8(){bu.forEach(t=>d_(t.content,t.options)),bu=[]}var f8=(t,{containerId:e})=>{var r;return(r=Rn.get(e||1))==null?void 0:r.toasts.get(t)};function u_(t,e){var r;if(e)return!!((r=Rn.get(e))!=null&&r.isToastActive(t));let n=!1;return Rn.forEach(s=>{s.isToastActive(t)&&(n=!0)}),n}function h8(t){if(!c_()){bu=bu.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||r8(t))Rn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Rn.get(t.containerId);e?e.removeToast(t.id):Rn.forEach(r=>{r.removeToast(t.id)})}}var m8=(t={})=>{Rn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function d_(t,e){ag(t)&&(c_()||bu.push({content:t,options:e}),Rn.forEach(r=>{r.buildToast(t,e)}))}function p8(t){var e;(e=Rn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function f_(t,e){Rn.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function g8(t){let e=t.containerId||1;return{subscribe(r){let n=c8(e,t,u8);Rn.set(e,n);let s=n.observe(r);return d8(),()=>{s(),Rn.delete(e)}},setProps(r){var n;(n=Rn.get(e))==null||n.setProps(r)},getSnapshot(){var r;return(r=Rn.get(e))==null?void 0:r.getSnapshot()}}}function x8(t){return ig.add(t),()=>{ig.delete(t)}}function y8(t){return t&&(No(t.toastId)||Yu(t.toastId))?t.toastId:l_()}function Ku(t,e){return d_(t,e),e.toastId}function Xh(t,e){return{...e,type:e&&e.type||t,toastId:y8(e)}}function Jh(t){return(e,r)=>Ku(e,Xh(t,r))}function Oe(t,e){return Ku(t,Xh("default",e))}Oe.loading=(t,e)=>Ku(t,Xh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function v8(t,{pending:e,error:r,success:n},s){let a;e&&(a=No(e)?Oe.loading(e,s):Oe.loading(e.render,{...s,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(f,h,p)=>{if(h==null){Oe.dismiss(a);return}let g={type:f,...o,...s,data:p},x=No(h)?{render:h}:h;return a?Oe.update(a,{...g,...x}):Oe(x.render,{...g,...x}),p},d=Fa(t)?t():t;return d.then(f=>c("success",n,f)).catch(f=>c("error",r,f)),d}Oe.promise=v8;Oe.success=Jh("success");Oe.info=Jh("info");Oe.error=Jh("error");Oe.warning=Jh("warning");Oe.warn=Oe.warning;Oe.dark=(t,e)=>Ku(t,Xh("default",{theme:"dark",...e}));function b8(t){h8(t)}Oe.dismiss=b8;Oe.clearWaitingQueue=m8;Oe.isActive=u_;Oe.update=(t,e={})=>{let r=f8(t,e);if(r){let{props:n,content:s}=r,a={delay:100,...n,...e,toastId:e.toastId||t,updateId:l_()};a.toastId!==t&&(a.staleId=t);let o=a.render||s;delete a.render,Ku(o,a)}};Oe.done=t=>{Oe.update(t,{progress:1})};Oe.onChange=x8;Oe.play=t=>f_(!0,t);Oe.pause=t=>f_(!1,t);function w8(t){var e;let{subscribe:r,getSnapshot:n,setProps:s}=A.useRef(g8(t)).current;s(t);let a=(e=A.useSyncExternalStore(r,n,n))==null?void 0:e.slice();function o(c){if(!a)return[];let d=new Map;return t.newestOnTop&&a.reverse(),a.forEach(f=>{let{position:h}=f.props;d.has(h)||d.set(h,[]),d.get(h).push(f)}),Array.from(d,f=>c(f[0],f[1]))}return{getToastToRender:o,isToastActive:u_,count:a==null?void 0:a.length}}function S8(t){let[e,r]=A.useState(!1),[n,s]=A.useState(!1),a=A.useRef(null),o=A.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:d,closeToast:f,onClick:h,closeOnClick:p}=t;p8({id:t.toastId,containerId:t.containerId,fn:r}),A.useEffect(()=>{if(t.pauseOnFocusLoss)return g(),()=>{x()}},[t.pauseOnFocusLoss]);function g(){document.hasFocus()||N(),window.addEventListener("focus",v),window.addEventListener("blur",N)}function x(){window.removeEventListener("focus",v),window.removeEventListener("blur",N)}function w(C){if(t.draggable===!0||t.draggable===C.pointerType){E();let P=a.current;o.canCloseOnClick=!0,o.canDrag=!0,P.style.transition="none",t.draggableDirection==="x"?(o.start=C.clientX,o.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(o.start=C.clientY,o.removalDistance=P.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function b(C){let{top:P,bottom:I,left:G,right:J}=a.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&t.pauseOnHover&&C.clientX>=G&&C.clientX<=J&&C.clientY>=P&&C.clientY<=I?N():v()}function v(){r(!0)}function N(){r(!1)}function E(){o.didMove=!1,document.addEventListener("pointermove",D),document.addEventListener("pointerup",T)}function j(){document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",T)}function D(C){let P=a.current;if(o.canDrag&&P){o.didMove=!0,e&&N(),t.draggableDirection==="x"?o.delta=C.clientX-o.start:o.delta=C.clientY-o.start,o.start!==C.clientX&&(o.canCloseOnClick=!1);let I=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;P.style.transform=`translate3d(${I},0)`,P.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function T(){j();let C=a.current;if(o.canDrag&&o.didMove&&C){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let M={onPointerDown:w,onPointerUp:b};return c&&d&&(M.onMouseEnter=N,t.stacked||(M.onMouseLeave=v)),p&&(M.onClick=C=>{h&&h(C),o.canCloseOnClick&&f(!0)}),{playToast:v,pauseToast:N,isRunning:e,preventExitTransition:n,toastRef:a,eventHandlers:M}}var _8=typeof window<"u"?A.useLayoutEffect:A.useEffect,Qh=({theme:t,type:e,isLoading:r,...n})=>dt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function N8(t){return dt.createElement(Qh,{...t},dt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function C8(t){return dt.createElement(Qh,{...t},dt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function j8(t){return dt.createElement(Qh,{...t},dt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function T8(t){return dt.createElement(Qh,{...t},dt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function E8(){return dt.createElement("div",{className:"Toastify__spinner"})}var og={info:C8,warning:N8,success:j8,error:T8,spinner:E8},k8=t=>t in og;function A8({theme:t,type:e,isLoading:r,icon:n}){let s=null,a={theme:t,type:e};return n===!1||(Fa(n)?s=n({...a,isLoading:r}):A.isValidElement(n)?s=A.cloneElement(n,a):r?s=og.spinner():k8(e)&&(s=og[e](a))),s}var P8=t=>{let{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:s,playToast:a}=S8(t),{closeButton:o,children:c,autoClose:d,onClick:f,type:h,hideProgressBar:p,closeToast:g,transition:x,position:w,className:b,style:v,progressClassName:N,updateId:E,role:j,progress:D,rtl:T,toastId:M,deleteToast:C,isIn:P,isLoading:I,closeOnClick:G,theme:J,ariaLabel:H}=t,ie=yo("Toastify__toast",`Toastify__toast-theme--${J}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":G}),Z=Fa(b)?b({rtl:T,position:w,type:h,defaultClassName:ie}):yo(ie,b),O=A8(t),K=!!D||!d,W={closeToast:g,type:h,theme:J},Y=null;return o===!1||(Fa(o)?Y=o(W):A.isValidElement(o)?Y=A.cloneElement(o,W):Y=i8(W)),dt.createElement(x,{isIn:P,done:C,position:w,preventExitTransition:r,nodeRef:n,playToast:a},dt.createElement("div",{id:M,tabIndex:0,onClick:f,"data-in":P,className:Z,...s,style:v,ref:n,...P&&{role:j,"aria-label":H}},O!=null&&dt.createElement("div",{className:yo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},O),o_(c,t,!e),Y,!t.customProgressBar&&dt.createElement(o8,{...E&&!K?{key:`p-${E}`}:{},rtl:T,theme:J,delay:d,isRunning:e,isIn:P,closeToast:g,hide:p,type:h,className:N,controlledProgress:K,progress:D||0})))},D8=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),R8=a8(D8("bounce",!0)),F8={position:"top-right",transition:R8,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function O8(t){let e={...F8,...t},r=t.stacked,[n,s]=A.useState(!0),a=A.useRef(null),{getToastToRender:o,isToastActive:c,count:d}=w8(e),{className:f,style:h,rtl:p,containerId:g,hotKeys:x}=e;function w(v){let N=yo("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":p});return Fa(f)?f({position:v,rtl:p,defaultClassName:N}):yo(N,sg(f))}function b(){r&&(s(!0),Oe.play())}return _8(()=>{var v;if(r){let N=a.current.querySelectorAll('[data-in="true"]'),E=12,j=(v=e.position)==null?void 0:v.includes("top"),D=0,T=0;Array.from(N).reverse().forEach((M,C)=>{let P=M;P.classList.add("Toastify__toast--stacked"),C>0&&(P.dataset.collapsed=`${n}`),P.dataset.pos||(P.dataset.pos=j?"top":"bot");let I=D*(n?.2:1)+(n?0:E*C);P.style.setProperty("--y",`${j?I:I*-1}px`),P.style.setProperty("--g",`${E}`),P.style.setProperty("--s",`${1-(n?T:0)}`),D+=P.offsetHeight,T+=.025})}},[n,d,r]),A.useEffect(()=>{function v(N){var E;let j=a.current;x(N)&&((E=j.querySelector('[tabIndex="0"]'))==null||E.focus(),s(!1),Oe.pause()),N.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(s(!0),Oe.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[x]),dt.createElement("section",{ref:a,className:"Toastify",id:g,onMouseEnter:()=>{r&&(s(!1),Oe.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((v,N)=>{let E=N.length?{...h}:{...h,pointerEvents:"none"};return dt.createElement("div",{tabIndex:-1,className:w(v),"data-stacked":r,style:E,key:`c-${v}`},N.map(({content:j,props:D})=>dt.createElement(P8,{...D,stacked:r,collapseAll:b,isIn:c(D.toastId,D.containerId),key:`t-${D.key}`},j)))}))}var tp,k2;function M8(){return k2||(k2=1,tp=function(t){var e={};function r(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=t,r.c=e,r.d=function(n,s,a){r.o(n,s)||Object.defineProperty(n,s,{enumerable:!0,get:a})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,s){if(1&s&&(n=r(n)),8&s||4&s&&typeof n=="object"&&n&&n.__esModule)return n;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&s&&typeof n!="string")for(var o in n)r.d(a,o,(function(c){return n[c]}).bind(null,o));return a},r.n=function(n){var s=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(s,"a",s),s},r.o=function(n,s){return Object.prototype.hasOwnProperty.call(n,s)},r.p="",r(r.s=9)}([function(t,e){t.exports=Ih()},function(t,e,r){var n;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var s={}.hasOwnProperty;function a(){for(var o=[],c=0;c<arguments.length;c++){var d=arguments[c];if(d){var f=typeof d;if(f==="string"||f==="number")o.push(d);else if(Array.isArray(d)&&d.length){var h=a.apply(null,d);h&&o.push(h)}else if(f==="object")for(var p in d)s.call(d,p)&&d[p]&&o.push(p)}}return o.join(" ")}t.exports?(a.default=a,t.exports=a):(n=(function(){return a}).apply(e,[]))===void 0||(t.exports=n)})()},function(t,e,r){(function(n){var s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,f=typeof n=="object"&&n&&n.Object===Object&&n,h=typeof self=="object"&&self&&self.Object===Object&&self,p=f||h||Function("return this")(),g=Object.prototype.toString,x=p.Symbol,w=x?x.prototype:void 0,b=w?w.toString:void 0;function v(D){if(typeof D=="string")return D;if(E(D))return b?b.call(D):"";var T=D+"";return T=="0"&&1/D==-1/0?"-0":T}function N(D){var T=typeof D;return!!D&&(T=="object"||T=="function")}function E(D){return typeof D=="symbol"||function(T){return!!T&&typeof T=="object"}(D)&&g.call(D)=="[object Symbol]"}function j(D){return D?(D=function(T){if(typeof T=="number")return T;if(E(T))return NaN;if(N(T)){var M=typeof T.valueOf=="function"?T.valueOf():T;T=N(M)?M+"":M}if(typeof T!="string")return T===0?T:+T;T=T.replace(s,"");var C=o.test(T);return C||c.test(T)?d(T.slice(2),C?2:8):a.test(T)?NaN:+T}(D))===1/0||D===-1/0?17976931348623157e292*(D<0?-1:1):D==D?D:0:D===0?D:0}t.exports=function(D,T,M){var C,P,I,G;return D=(C=D)==null?"":v(C),P=function(J){var H=j(J),ie=H%1;return H==H?ie?H-ie:H:0}(M),I=0,G=D.length,P==P&&(G!==void 0&&(P=P<=G?P:G),I!==void 0&&(P=P>=I?P:I)),M=P,T=v(T),D.slice(M,M+T.length)==T}}).call(this,r(3))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}t.exports=r},function(t,e,r){(function(n){var s=/^\[object .+?Constructor\]$/,a=typeof n=="object"&&n&&n.Object===Object&&n,o=typeof self=="object"&&self&&self.Object===Object&&self,c=a||o||Function("return this")(),d,f=Array.prototype,h=Function.prototype,p=Object.prototype,g=c["__core-js_shared__"],x=(d=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",w=h.toString,b=p.hasOwnProperty,v=p.toString,N=RegExp("^"+w.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=f.splice,j=J(c,"Map"),D=J(Object,"create");function T(Z){var O=-1,K=Z?Z.length:0;for(this.clear();++O<K;){var W=Z[O];this.set(W[0],W[1])}}function M(Z){var O=-1,K=Z?Z.length:0;for(this.clear();++O<K;){var W=Z[O];this.set(W[0],W[1])}}function C(Z){var O=-1,K=Z?Z.length:0;for(this.clear();++O<K;){var W=Z[O];this.set(W[0],W[1])}}function P(Z,O){for(var K,W,Y=Z.length;Y--;)if((K=Z[Y][0])===(W=O)||K!=K&&W!=W)return Y;return-1}function I(Z){return!(!ie(Z)||(O=Z,x&&x in O))&&(function(K){var W=ie(K)?v.call(K):"";return W=="[object Function]"||W=="[object GeneratorFunction]"}(Z)||function(K){var W=!1;if(K!=null&&typeof K.toString!="function")try{W=!!(K+"")}catch{}return W}(Z)?N:s).test(function(K){if(K!=null){try{return w.call(K)}catch{}try{return K+""}catch{}}return""}(Z));var O}function G(Z,O){var K,W,Y=Z.__data__;return((W=typeof(K=O))=="string"||W=="number"||W=="symbol"||W=="boolean"?K!=="__proto__":K===null)?Y[typeof O=="string"?"string":"hash"]:Y.map}function J(Z,O){var K=function(W,Y){return W==null?void 0:W[Y]}(Z,O);return I(K)?K:void 0}function H(Z,O){if(typeof Z!="function"||O&&typeof O!="function")throw new TypeError("Expected a function");var K=function(){var W=arguments,Y=O?O.apply(this,W):W[0],oe=K.cache;if(oe.has(Y))return oe.get(Y);var se=Z.apply(this,W);return K.cache=oe.set(Y,se),se};return K.cache=new(H.Cache||C),K}function ie(Z){var O=typeof Z;return!!Z&&(O=="object"||O=="function")}T.prototype.clear=function(){this.__data__=D?D(null):{}},T.prototype.delete=function(Z){return this.has(Z)&&delete this.__data__[Z]},T.prototype.get=function(Z){var O=this.__data__;if(D){var K=O[Z];return K==="__lodash_hash_undefined__"?void 0:K}return b.call(O,Z)?O[Z]:void 0},T.prototype.has=function(Z){var O=this.__data__;return D?O[Z]!==void 0:b.call(O,Z)},T.prototype.set=function(Z,O){return this.__data__[Z]=D&&O===void 0?"__lodash_hash_undefined__":O,this},M.prototype.clear=function(){this.__data__=[]},M.prototype.delete=function(Z){var O=this.__data__,K=P(O,Z);return!(K<0)&&(K==O.length-1?O.pop():E.call(O,K,1),!0)},M.prototype.get=function(Z){var O=this.__data__,K=P(O,Z);return K<0?void 0:O[K][1]},M.prototype.has=function(Z){return P(this.__data__,Z)>-1},M.prototype.set=function(Z,O){var K=this.__data__,W=P(K,Z);return W<0?K.push([Z,O]):K[W][1]=O,this},C.prototype.clear=function(){this.__data__={hash:new T,map:new(j||M),string:new T}},C.prototype.delete=function(Z){return G(this,Z).delete(Z)},C.prototype.get=function(Z){return G(this,Z).get(Z)},C.prototype.has=function(Z){return G(this,Z).has(Z)},C.prototype.set=function(Z,O){return G(this,Z).set(Z,O),this},H.Cache=C,t.exports=H}).call(this,r(3))},function(t,e,r){(function(n){var s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,f=typeof n=="object"&&n&&n.Object===Object&&n,h=typeof self=="object"&&self&&self.Object===Object&&self,p=f||h||Function("return this")(),g=Object.prototype.toString,x=Math.max,w=Math.min,b=function(){return p.Date.now()};function v(E){var j=typeof E;return!!E&&(j=="object"||j=="function")}function N(E){if(typeof E=="number")return E;if(function(T){return typeof T=="symbol"||function(M){return!!M&&typeof M=="object"}(T)&&g.call(T)=="[object Symbol]"}(E))return NaN;if(v(E)){var j=typeof E.valueOf=="function"?E.valueOf():E;E=v(j)?j+"":j}if(typeof E!="string")return E===0?E:+E;E=E.replace(s,"");var D=o.test(E);return D||c.test(E)?d(E.slice(2),D?2:8):a.test(E)?NaN:+E}t.exports=function(E,j,D){var T,M,C,P,I,G,J=0,H=!1,ie=!1,Z=!0;if(typeof E!="function")throw new TypeError("Expected a function");function O(X){var F=T,U=M;return T=M=void 0,J=X,P=E.apply(U,F)}function K(X){return J=X,I=setTimeout(Y,j),H?O(X):P}function W(X){var F=X-G;return G===void 0||F>=j||F<0||ie&&X-J>=C}function Y(){var X=b();if(W(X))return oe(X);I=setTimeout(Y,function(F){var U=j-(F-G);return ie?w(U,C-(F-J)):U}(X))}function oe(X){return I=void 0,Z&&T?O(X):(T=M=void 0,P)}function se(){var X=b(),F=W(X);if(T=arguments,M=this,G=X,F){if(I===void 0)return K(G);if(ie)return I=setTimeout(Y,j),O(G)}return I===void 0&&(I=setTimeout(Y,j)),P}return j=N(j)||0,v(D)&&(H=!!D.leading,C=(ie="maxWait"in D)?x(N(D.maxWait)||0,j):C,Z="trailing"in D?!!D.trailing:Z),se.cancel=function(){I!==void 0&&clearTimeout(I),J=0,T=G=M=I=void 0},se.flush=function(){return I===void 0?P:oe(b())},se}}).call(this,r(3))},function(t,e,r){(function(n,s){var a="[object Arguments]",o="[object Map]",c="[object Object]",d="[object Set]",f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/,p=/^\./,g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,x=/\\(\\)?/g,w=/^\[object .+?Constructor\]$/,b=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[a]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[o]=v["[object Number]"]=v[c]=v["[object RegExp]"]=v[d]=v["[object String]"]=v["[object WeakMap]"]=!1;var N=typeof n=="object"&&n&&n.Object===Object&&n,E=typeof self=="object"&&self&&self.Object===Object&&self,j=N||E||Function("return this")(),D=e&&!e.nodeType&&e,T=D&&typeof s=="object"&&s&&!s.nodeType&&s,M=T&&T.exports===D&&N.process,C=function(){try{return M&&M.binding("util")}catch{}}(),P=C&&C.isTypedArray;function I(B,le,pe,me){var Ne=-1,Ie=B?B.length:0;for(me&&Ie&&(pe=B[++Ne]);++Ne<Ie;)pe=le(pe,B[Ne],Ne,B);return pe}function G(B,le){for(var pe=-1,me=B?B.length:0;++pe<me;)if(le(B[pe],pe,B))return!0;return!1}function J(B,le,pe,me,Ne){return Ne(B,function(Ie,et,gt){pe=me?(me=!1,Ie):le(pe,Ie,et,gt)}),pe}function H(B){var le=!1;if(B!=null&&typeof B.toString!="function")try{le=!!(B+"")}catch{}return le}function ie(B){var le=-1,pe=Array(B.size);return B.forEach(function(me,Ne){pe[++le]=[Ne,me]}),pe}function Z(B){var le=-1,pe=Array(B.size);return B.forEach(function(me){pe[++le]=me}),pe}var O,K,W,Y=Array.prototype,oe=Function.prototype,se=Object.prototype,X=j["__core-js_shared__"],F=(O=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",U=oe.toString,z=se.hasOwnProperty,k=se.toString,ce=RegExp("^"+U.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=j.Symbol,he=j.Uint8Array,ye=se.propertyIsEnumerable,ke=Y.splice,Ke=(K=Object.keys,W=Object,function(B){return K(W(B))}),He=Qe(j,"DataView"),rt=Qe(j,"Map"),Ve=Qe(j,"Promise"),de=Qe(j,"Set"),Ee=Qe(j,"WeakMap"),je=Qe(Object,"create"),Ze=sr(He),nt=sr(rt),ft=sr(Ve),st=sr(de),Ct=sr(Ee),Se=ee?ee.prototype:void 0,Be=Se?Se.valueOf:void 0,Je=Se?Se.toString:void 0;function Re(B){var le=-1,pe=B?B.length:0;for(this.clear();++le<pe;){var me=B[le];this.set(me[0],me[1])}}function Ue(B){var le=-1,pe=B?B.length:0;for(this.clear();++le<pe;){var me=B[le];this.set(me[0],me[1])}}function ct(B){var le=-1,pe=B?B.length:0;for(this.clear();++le<pe;){var me=B[le];this.set(me[0],me[1])}}function it(B){var le=-1,pe=B?B.length:0;for(this.__data__=new ct;++le<pe;)this.add(B[le])}function vt(B){this.__data__=new Ue(B)}function rr(B,le){var pe=re(B)||L(B)?function(et,gt){for(var _t=-1,Rt=Array(et);++_t<et;)Rt[_t]=gt(_t);return Rt}(B.length,String):[],me=pe.length,Ne=!!me;for(var Ie in B)!z.call(B,Ie)||Ne&&(Ie=="length"||Bt(Ie,me))||pe.push(Ie);return pe}function Qr(B,le){for(var pe=B.length;pe--;)if(En(B[pe][0],le))return pe;return-1}Re.prototype.clear=function(){this.__data__=je?je(null):{}},Re.prototype.delete=function(B){return this.has(B)&&delete this.__data__[B]},Re.prototype.get=function(B){var le=this.__data__;if(je){var pe=le[B];return pe==="__lodash_hash_undefined__"?void 0:pe}return z.call(le,B)?le[B]:void 0},Re.prototype.has=function(B){var le=this.__data__;return je?le[B]!==void 0:z.call(le,B)},Re.prototype.set=function(B,le){return this.__data__[B]=je&&le===void 0?"__lodash_hash_undefined__":le,this},Ue.prototype.clear=function(){this.__data__=[]},Ue.prototype.delete=function(B){var le=this.__data__,pe=Qr(le,B);return!(pe<0)&&(pe==le.length-1?le.pop():ke.call(le,pe,1),!0)},Ue.prototype.get=function(B){var le=this.__data__,pe=Qr(le,B);return pe<0?void 0:le[pe][1]},Ue.prototype.has=function(B){return Qr(this.__data__,B)>-1},Ue.prototype.set=function(B,le){var pe=this.__data__,me=Qr(pe,B);return me<0?pe.push([B,le]):pe[me][1]=le,this},ct.prototype.clear=function(){this.__data__={hash:new Re,map:new(rt||Ue),string:new Re}},ct.prototype.delete=function(B){return We(this,B).delete(B)},ct.prototype.get=function(B){return We(this,B).get(B)},ct.prototype.has=function(B){return We(this,B).has(B)},ct.prototype.set=function(B,le){return We(this,B).set(B,le),this},it.prototype.add=it.prototype.push=function(B){return this.__data__.set(B,"__lodash_hash_undefined__"),this},it.prototype.has=function(B){return this.__data__.has(B)},vt.prototype.clear=function(){this.__data__=new Ue},vt.prototype.delete=function(B){return this.__data__.delete(B)},vt.prototype.get=function(B){return this.__data__.get(B)},vt.prototype.has=function(B){return this.__data__.has(B)},vt.prototype.set=function(B,le){var pe=this.__data__;if(pe instanceof Ue){var me=pe.__data__;if(!rt||me.length<199)return me.push([B,le]),this;pe=this.__data__=new ct(me)}return pe.set(B,le),this};var Tn,Pt=(Tn=function(B,le){return B&&Qn(B,le,be)},function(B,le){if(B==null)return B;if(!q(B))return Tn(B,le);for(var pe=B.length,me=-1,Ne=Object(B);++me<pe&&le(Ne[me],me,Ne)!==!1;);return B}),Qn=function(B){return function(le,pe,me){for(var Ne=-1,Ie=Object(le),et=me(le),gt=et.length;gt--;){var _t=et[++Ne];if(pe(Ie[_t],_t,Ie)===!1)break}return le}}();function Zn(B,le){for(var pe=0,me=(le=Xe(le,B)?[le]:Te(le)).length;B!=null&&pe<me;)B=B[mn(le[pe++])];return pe&&pe==me?B:void 0}function Ps(B,le){return B!=null&&le in Object(B)}function Mn(B,le,pe,me,Ne){return B===le||(B==null||le==null||!ne(B)&&!xe(le)?B!=B&&le!=le:function(Ie,et,gt,_t,Rt,Et){var pr=re(Ie),Ft=re(et),ar="[object Array]",kt="[object Array]";pr||(ar=(ar=ht(Ie))==a?c:ar),Ft||(kt=(kt=ht(et))==a?c:kt);var es=ar==c&&!H(Ie),Va=kt==c&&!H(et),Js=ar==kt;if(Js&&!es)return Et||(Et=new vt),pr||ve(Ie)?Ye(Ie,et,gt,_t,Rt,Et):function(Gt,Wt,Ui,Qs,Ha,Lr,Ds){switch(Ui){case"[object DataView]":if(Gt.byteLength!=Wt.byteLength||Gt.byteOffset!=Wt.byteOffset)return!1;Gt=Gt.buffer,Wt=Wt.buffer;case"[object ArrayBuffer]":return!(Gt.byteLength!=Wt.byteLength||!Qs(new he(Gt),new he(Wt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return En(+Gt,+Wt);case"[object Error]":return Gt.name==Wt.name&&Gt.message==Wt.message;case"[object RegExp]":case"[object String]":return Gt==Wt+"";case o:var fs=ie;case d:var Ot=2&Lr;if(fs||(fs=Z),Gt.size!=Wt.size&&!Ot)return!1;var zi=Ds.get(Gt);if(zi)return zi==Wt;Lr|=1,Ds.set(Gt,Wt);var pa=Ye(fs(Gt),fs(Wt),Qs,Ha,Lr,Ds);return Ds.delete(Gt),pa;case"[object Symbol]":if(Be)return Be.call(Gt)==Be.call(Wt)}return!1}(Ie,et,ar,gt,_t,Rt,Et);if(!(2&Rt)){var Li=es&&z.call(Ie,"__wrapped__"),Ii=Va&&z.call(et,"__wrapped__");if(Li||Ii){var Bi=Li?Ie.value():Ie,Lo=Ii?et.value():et;return Et||(Et=new vt),gt(Bi,Lo,_t,Rt,Et)}}return Js?(Et||(Et=new vt),function(Gt,Wt,Ui,Qs,Ha,Lr){var Ds=2&Ha,fs=be(Gt),Ot=fs.length,zi=be(Wt).length;if(Ot!=zi&&!Ds)return!1;for(var pa=Ot;pa--;){var hs=fs[pa];if(!(Ds?hs in Wt:z.call(Wt,hs)))return!1}var Jl=Lr.get(Gt);if(Jl&&Lr.get(Wt))return Jl==Wt;var Vi=!0;Lr.set(Gt,Wt),Lr.set(Wt,Gt);for(var Io=Ds;++pa<Ot;){hs=fs[pa];var Wa=Gt[hs],ga=Wt[hs];if(Qs)var Rs=Ds?Qs(ga,Wa,hs,Wt,Gt,Lr):Qs(Wa,ga,hs,Gt,Wt,Lr);if(!(Rs===void 0?Wa===ga||Ui(Wa,ga,Qs,Ha,Lr):Rs)){Vi=!1;break}Io||(Io=hs=="constructor")}if(Vi&&!Io){var ts=Gt.constructor,rs=Wt.constructor;ts==rs||!("constructor"in Gt)||!("constructor"in Wt)||typeof ts=="function"&&ts instanceof ts&&typeof rs=="function"&&rs instanceof rs||(Vi=!1)}return Lr.delete(Gt),Lr.delete(Wt),Vi}(Ie,et,gt,_t,Rt,Et)):!1}(B,le,Mn,pe,me,Ne))}function hn(B){return!(!ne(B)||function(le){return!!F&&F in le}(B))&&(Q(B)||H(B)?ce:w).test(sr(B))}function zr(B){return typeof B=="function"?B:B==null?_e:typeof B=="object"?re(B)?function(me,Ne){return Xe(me)&&Zr(Ne)?Vr(mn(me),Ne):function(Ie){var et=function(gt,_t,Rt){var Et=gt==null?void 0:Zn(gt,_t);return Et===void 0?Rt:Et}(Ie,me);return et===void 0&&et===Ne?function(gt,_t){return gt!=null&&function(Rt,Et,pr){Et=Xe(Et,Rt)?[Et]:Te(Et);for(var Ft,ar=-1,kt=Et.length;++ar<kt;){var es=mn(Et[ar]);if(!(Ft=Rt!=null&&pr(Rt,es)))break;Rt=Rt[es]}return Ft||!!(kt=Rt?Rt.length:0)&&te(kt)&&Bt(es,kt)&&(re(Rt)||L(Rt))}(gt,_t,Ps)}(Ie,me):Mn(Ne,et,void 0,3)}}(B[0],B[1]):function(me){var Ne=function(Ie){for(var et=be(Ie),gt=et.length;gt--;){var _t=et[gt],Rt=Ie[_t];et[gt]=[_t,Rt,Zr(Rt)]}return et}(me);return Ne.length==1&&Ne[0][2]?Vr(Ne[0][0],Ne[0][1]):function(Ie){return Ie===me||function(et,gt,_t,Rt){var Et=_t.length,pr=Et;if(et==null)return!pr;for(et=Object(et);Et--;){var Ft=_t[Et];if(Ft[2]?Ft[1]!==et[Ft[0]]:!(Ft[0]in et))return!1}for(;++Et<pr;){var ar=(Ft=_t[Et])[0],kt=et[ar],es=Ft[1];if(Ft[2]){if(kt===void 0&&!(ar in et))return!1}else{var Va=new vt,Js;if(!(Js===void 0?Mn(es,kt,Rt,3,Va):Js))return!1}}return!0}(Ie,me,Ne)}}(B):Xe(le=B)?(pe=mn(le),function(me){return me==null?void 0:me[pe]}):function(me){return function(Ne){return Zn(Ne,me)}}(le);var le,pe}function V(B){if(pe=(le=B)&&le.constructor,me=typeof pe=="function"&&pe.prototype||se,le!==me)return Ke(B);var le,pe,me,Ne=[];for(var Ie in Object(B))z.call(B,Ie)&&Ie!="constructor"&&Ne.push(Ie);return Ne}function Te(B){return re(B)?B:Ar(B)}function Ye(B,le,pe,me,Ne,Ie){var et=2&Ne,gt=B.length,_t=le.length;if(gt!=_t&&!(et&&_t>gt))return!1;var Rt=Ie.get(B);if(Rt&&Ie.get(le))return Rt==le;var Et=-1,pr=!0,Ft=1&Ne?new it:void 0;for(Ie.set(B,le),Ie.set(le,B);++Et<gt;){var ar=B[Et],kt=le[Et];if(me)var es=et?me(kt,ar,Et,le,B,Ie):me(ar,kt,Et,B,le,Ie);if(es!==void 0){if(es)continue;pr=!1;break}if(Ft){if(!G(le,function(Va,Js){if(!Ft.has(Js)&&(ar===Va||pe(ar,Va,me,Ne,Ie)))return Ft.add(Js)})){pr=!1;break}}else if(ar!==kt&&!pe(ar,kt,me,Ne,Ie)){pr=!1;break}}return Ie.delete(B),Ie.delete(le),pr}function We(B,le){var pe,me,Ne=B.__data__;return((me=typeof(pe=le))=="string"||me=="number"||me=="symbol"||me=="boolean"?pe!=="__proto__":pe===null)?Ne[typeof le=="string"?"string":"hash"]:Ne.map}function Qe(B,le){var pe=function(me,Ne){return me==null?void 0:me[Ne]}(B,le);return hn(pe)?pe:void 0}var ht=function(B){return k.call(B)};function Bt(B,le){return!!(le=le??9007199254740991)&&(typeof B=="number"||b.test(B))&&B>-1&&B%1==0&&B<le}function Xe(B,le){if(re(B))return!1;var pe=typeof B;return!(pe!="number"&&pe!="symbol"&&pe!="boolean"&&B!=null&&!Pe(B))||h.test(B)||!f.test(B)||le!=null&&B in Object(le)}function Zr(B){return B==B&&!ne(B)}function Vr(B,le){return function(pe){return pe!=null&&pe[B]===le&&(le!==void 0||B in Object(pe))}}(He&&ht(new He(new ArrayBuffer(1)))!="[object DataView]"||rt&&ht(new rt)!=o||Ve&&ht(Ve.resolve())!="[object Promise]"||de&&ht(new de)!=d||Ee&&ht(new Ee)!="[object WeakMap]")&&(ht=function(B){var le=k.call(B),pe=le==c?B.constructor:void 0,me=pe?sr(pe):void 0;if(me)switch(me){case Ze:return"[object DataView]";case nt:return o;case ft:return"[object Promise]";case st:return d;case Ct:return"[object WeakMap]"}return le});var Ar=en(function(B){var le;B=(le=B)==null?"":function(me){if(typeof me=="string")return me;if(Pe(me))return Je?Je.call(me):"";var Ne=me+"";return Ne=="0"&&1/me==-1/0?"-0":Ne}(le);var pe=[];return p.test(B)&&pe.push(""),B.replace(g,function(me,Ne,Ie,et){pe.push(Ie?et.replace(x,"$1"):Ne||me)}),pe});function mn(B){if(typeof B=="string"||Pe(B))return B;var le=B+"";return le=="0"&&1/B==-1/0?"-0":le}function sr(B){if(B!=null){try{return U.call(B)}catch{}try{return B+""}catch{}}return""}function en(B,le){if(typeof B!="function"||le&&typeof le!="function")throw new TypeError("Expected a function");var pe=function(){var me=arguments,Ne=le?le.apply(this,me):me[0],Ie=pe.cache;if(Ie.has(Ne))return Ie.get(Ne);var et=B.apply(this,me);return pe.cache=Ie.set(Ne,et),et};return pe.cache=new(en.Cache||ct),pe}function En(B,le){return B===le||B!=B&&le!=le}function L(B){return function(le){return xe(le)&&q(le)}(B)&&z.call(B,"callee")&&(!ye.call(B,"callee")||k.call(B)==a)}en.Cache=ct;var re=Array.isArray;function q(B){return B!=null&&te(B.length)&&!Q(B)}function Q(B){var le=ne(B)?k.call(B):"";return le=="[object Function]"||le=="[object GeneratorFunction]"}function te(B){return typeof B=="number"&&B>-1&&B%1==0&&B<=9007199254740991}function ne(B){var le=typeof B;return!!B&&(le=="object"||le=="function")}function xe(B){return!!B&&typeof B=="object"}function Pe(B){return typeof B=="symbol"||xe(B)&&k.call(B)=="[object Symbol]"}var ve=P?function(B){return function(le){return B(le)}}(P):function(B){return xe(B)&&te(B.length)&&!!v[k.call(B)]};function be(B){return q(B)?rr(B):V(B)}function _e(B){return B}s.exports=function(B,le,pe){var me=re(B)?I:J,Ne=arguments.length<3;return me(B,zr(le),pe,Ne,Pt)}}).call(this,r(3),r(7)(t))},function(t,e){t.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children||(r.children=[]),Object.defineProperty(r,"loaded",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return r.i}}),r.webpackPolyfill=1),r}},function(t,e){String.prototype.padEnd||(String.prototype.padEnd=function(r,n){return r>>=0,n=String(n!==void 0?n:" "),this.length>r?String(this):((r-=this.length)>n.length&&(n+=n.repeat(r/n.length)),String(this)+n.slice(0,r))})},function(t,e,r){function n(se,X,F){return X in se?Object.defineProperty(se,X,{value:F,enumerable:!0,configurable:!0,writable:!0}):se[X]=F,se}function s(se){if(Symbol.iterator in Object(se)||Object.prototype.toString.call(se)==="[object Arguments]")return Array.from(se)}function a(se){return function(X){if(Array.isArray(X)){for(var F=0,U=new Array(X.length);F<X.length;F++)U[F]=X[F];return U}}(se)||s(se)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(se){if(Array.isArray(se))return se}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(se,X){if(!(se instanceof X))throw new TypeError("Cannot call a class as a function")}function f(se,X){for(var F=0;F<X.length;F++){var U=X[F];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(se,U.key,U)}}function h(se){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X})(se)}function p(se){return(p=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(X){return h(X)}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":h(X)})(se)}function g(se){if(se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}function x(se){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(X){return X.__proto__||Object.getPrototypeOf(X)})(se)}function w(se,X){return(w=Object.setPrototypeOf||function(F,U){return F.__proto__=U,F})(se,X)}r.r(e);var b=r(0),v=r.n(b),N=r(5),E=r.n(N),j=r(4),D=r.n(j),T=r(6),M=r.n(T),C=r(2),P=r.n(C),I=r(1),G=r.n(I);r(8);function J(se,X){return o(se)||function(F,U){var z=[],k=!0,ce=!1,ee=void 0;try{for(var he,ye=F[Symbol.iterator]();!(k=(he=ye.next()).done)&&(z.push(he.value),!U||z.length!==U);k=!0);}catch(ke){ce=!0,ee=ke}finally{try{k||ye.return==null||ye.return()}finally{if(ce)throw ee}}return z}(se,X)||c()}var H=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["Cte dIvoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["Runion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["So Tom and Prncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],ie=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barthlemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function Z(se,X,F,U,z){return!F||z?se+"".padEnd(X.length,".")+" "+U:se+"".padEnd(X.length,".")+" "+F}function O(se,X,F,U,z){var k,ce,ee=[];return ce=X===!0,[(k=[]).concat.apply(k,a(se.map(function(he){var ye={name:he[0],regions:he[1],iso2:he[2],countryCode:he[3],dialCode:he[3],format:Z(F,he[3],he[4],U,z),priority:he[5]||0},ke=[];return he[6]&&he[6].map(function(Ke){var He=function(rt){for(var Ve=1;Ve<arguments.length;Ve++){var de=arguments[Ve]!=null?arguments[Ve]:{},Ee=Object.keys(de);typeof Object.getOwnPropertySymbols=="function"&&(Ee=Ee.concat(Object.getOwnPropertySymbols(de).filter(function(je){return Object.getOwnPropertyDescriptor(de,je).enumerable}))),Ee.forEach(function(je){n(rt,je,de[je])})}return rt}({},ye);He.dialCode=he[3]+Ke,He.isAreaCode=!0,He.areaCodeLength=Ke.length,ke.push(He)}),ke.length>0?(ye.mainCode=!0,ce||X.constructor.name==="Array"&&X.includes(he[2])?(ye.hasAreaCodes=!0,[ye].concat(ke)):(ee=ee.concat(ke),[ye])):[ye]}))),ee]}function K(se,X,F,U){if(F!==null){var z=Object.keys(F),k=Object.values(F);z.forEach(function(ce,ee){if(U)return se.push([ce,k[ee]]);var he=se.findIndex(function(ke){return ke[0]===ce});if(he===-1){var ye=[ce];ye[X]=k[ee],se.push(ye)}else se[he][X]=k[ee]})}}function W(se,X){return X.length===0?se:se.map(function(F){var U=X.findIndex(function(k){return k[0]===F[2]});if(U===-1)return F;var z=X[U];return z[1]&&(F[4]=z[1]),z[3]&&(F[5]=z[3]),z[2]&&(F[6]=z[2]),F})}var Y=function se(X,F,U,z,k,ce,ee,he,ye,ke,Ke,He,rt,Ve){d(this,se),this.filterRegions=function(Se,Be){if(typeof Se=="string"){var Je=Se;return Be.filter(function(Re){return Re.regions.some(function(Ue){return Ue===Je})})}return Be.filter(function(Re){return Se.map(function(Ue){return Re.regions.some(function(ct){return ct===Ue})}).some(function(Ue){return Ue})})},this.sortTerritories=function(Se,Be){var Je=[].concat(a(Se),a(Be));return Je.sort(function(Re,Ue){return Re.name<Ue.name?-1:Re.name>Ue.name?1:0}),Je},this.getFilteredCountryList=function(Se,Be,Je){return Se.length===0?Be:Je?Se.map(function(Re){var Ue=Be.find(function(ct){return ct.iso2===Re});if(Ue)return Ue}).filter(function(Re){return Re}):Be.filter(function(Re){return Se.some(function(Ue){return Ue===Re.iso2})})},this.localizeCountries=function(Se,Be,Je){for(var Re=0;Re<Se.length;Re++)Be[Se[Re].iso2]!==void 0?Se[Re].localName=Be[Se[Re].iso2]:Be[Se[Re].name]!==void 0&&(Se[Re].localName=Be[Se[Re].name]);return Je||Se.sort(function(Ue,ct){return Ue.localName<ct.localName?-1:Ue.localName>ct.localName?1:0}),Se},this.getCustomAreas=function(Se,Be){for(var Je=[],Re=0;Re<Be.length;Re++){var Ue=JSON.parse(JSON.stringify(Se));Ue.dialCode+=Be[Re],Je.push(Ue)}return Je},this.excludeCountries=function(Se,Be){return Be.length===0?Se:Se.filter(function(Je){return!Be.includes(Je.iso2)})};var de=function(Se,Be,Je){var Re=[];return K(Re,1,Se,!0),K(Re,3,Be),K(Re,2,Je),Re}(he,ye,ke),Ee=W(JSON.parse(JSON.stringify(H)),de),je=W(JSON.parse(JSON.stringify(ie)),de),Ze=J(O(Ee,X,He,rt,Ve),2),nt=Ze[0],ft=Ze[1];if(F){var st=J(O(je,X,He,rt,Ve),2),Ct=st[0];st[1],nt=this.sortTerritories(Ct,nt)}U&&(nt=this.filterRegions(U,nt)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(z,nt,ee.includes("onlyCountries")),ce),Ke,ee.includes("onlyCountries")),this.preferredCountries=k.length===0?[]:this.localizeCountries(this.getFilteredCountryList(k,nt,ee.includes("preferredCountries")),Ke,ee.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(z,ft),ce)},oe=function(se){function X(z){var k;d(this,X),(k=function(de,Ee){return!Ee||p(Ee)!=="object"&&typeof Ee!="function"?g(de):Ee}(this,x(X).call(this,z))).getProbableCandidate=D()(function(de){return de&&de.length!==0?k.state.onlyCountries.filter(function(Ee){return P()(Ee.name.toLowerCase(),de.toLowerCase())},g(g(k)))[0]:null}),k.guessSelectedCountry=D()(function(de,Ee,je,Ze){var nt;if(k.props.enableAreaCodes===!1&&(Ze.some(function(Ct){if(P()(de,Ct.dialCode))return je.some(function(Se){if(Ct.iso2===Se.iso2&&Se.mainCode)return nt=Se,!0}),!0}),nt))return nt;var ft=je.find(function(Ct){return Ct.iso2==Ee});if(de.trim()==="")return ft;var st=je.reduce(function(Ct,Se){return P()(de,Se.dialCode)&&(Se.dialCode.length>Ct.dialCode.length||Se.dialCode.length===Ct.dialCode.length&&Se.priority<Ct.priority)?Se:Ct},{dialCode:"",priority:10001},g(g(k)));return st.name?st:ft}),k.updateCountry=function(de){var Ee,je=k.state.onlyCountries;(Ee=de.indexOf(0)>="0"&&de.indexOf(0)<="9"?je.find(function(Ze){return Ze.dialCode==+de}):je.find(function(Ze){return Ze.iso2==de}))&&Ee.dialCode&&k.setState({selectedCountry:Ee,formattedNumber:k.props.disableCountryCode?"":k.formatNumber(Ee.dialCode,Ee)})},k.scrollTo=function(de,Ee){if(de){var je=k.dropdownRef;if(je&&document.body){var Ze=je.offsetHeight,nt=je.getBoundingClientRect().top+document.body.scrollTop,ft=nt+Ze,st=de,Ct=st.getBoundingClientRect(),Se=st.offsetHeight,Be=Ct.top+document.body.scrollTop,Je=Be+Se,Re=Be-nt+je.scrollTop,Ue=Ze/2-Se/2;if(k.props.enableSearch?Be<nt+32:Be<nt)Ee&&(Re-=Ue),je.scrollTop=Re;else if(Je>ft){Ee&&(Re+=Ue);var ct=Ze-Se;je.scrollTop=Re-ct}}}},k.scrollToTop=function(){var de=k.dropdownRef;de&&document.body&&(de.scrollTop=0)},k.formatNumber=function(de,Ee){if(!Ee)return de;var je,Ze=Ee.format,nt=k.props,ft=nt.disableCountryCode,st=nt.enableAreaCodeStretch,Ct=nt.enableLongNumbers,Se=nt.autoFormat;if(ft?((je=Ze.split(" ")).shift(),je=je.join(" ")):st&&Ee.isAreaCode?((je=Ze.split(" "))[1]=je[1].replace(/\.+/,"".padEnd(Ee.areaCodeLength,".")),je=je.join(" ")):je=Ze,!de||de.length===0)return ft?"":k.props.prefix;if(de&&de.length<2||!je||!Se)return ft?de:k.props.prefix+de;var Be,Je=M()(je,function(Re,Ue){if(Re.remainingText.length===0)return Re;if(Ue!==".")return{formattedText:Re.formattedText+Ue,remainingText:Re.remainingText};var ct,it=o(ct=Re.remainingText)||s(ct)||c(),vt=it[0],rr=it.slice(1);return{formattedText:Re.formattedText+vt,remainingText:rr}},{formattedText:"",remainingText:de.split("")});return(Be=Ct?Je.formattedText+Je.remainingText.join(""):Je.formattedText).includes("(")&&!Be.includes(")")&&(Be+=")"),Be},k.cursorToEnd=function(){var de=k.numberInputRef;if(document.activeElement===de){de.focus();var Ee=de.value.length;de.value.charAt(Ee-1)===")"&&(Ee-=1),de.setSelectionRange(Ee,Ee)}},k.getElement=function(de){return k["flag_no_".concat(de)]},k.getCountryData=function(){return k.state.selectedCountry?{name:k.state.selectedCountry.name||"",dialCode:k.state.selectedCountry.dialCode||"",countryCode:k.state.selectedCountry.iso2||"",format:k.state.selectedCountry.format||""}:{}},k.handleFlagDropdownClick=function(de){if(de.preventDefault(),k.state.showDropdown||!k.props.disabled){var Ee=k.state,je=Ee.preferredCountries,Ze=Ee.onlyCountries,nt=Ee.selectedCountry,ft=k.concatPreferredCountries(je,Ze).findIndex(function(st){return st.dialCode===nt.dialCode&&st.iso2===nt.iso2});k.setState({showDropdown:!k.state.showDropdown,highlightCountryIndex:ft},function(){k.state.showDropdown&&k.scrollTo(k.getElement(k.state.highlightCountryIndex))})}},k.handleInput=function(de){var Ee=de.target.value,je=k.props,Ze=je.prefix,nt=je.onChange,ft=k.props.disableCountryCode?"":Ze,st=k.state.selectedCountry,Ct=k.state.freezeSelection;if(!k.props.countryCodeEditable){var Se=Ze+(st.hasAreaCodes?k.state.onlyCountries.find(function(Pt){return Pt.iso2===st.iso2&&Pt.mainCode}).dialCode:st.dialCode);if(Ee.slice(0,Se.length)!==Se)return}if(Ee===Ze)return nt&&nt("",k.getCountryData(),de,""),k.setState({formattedNumber:""});if(!(Ee.replace(/\D/g,"").length>15&&(k.props.enableLongNumbers===!1||typeof k.props.enableLongNumbers=="number"&&Ee.replace(/\D/g,"").length>k.props.enableLongNumbers))&&Ee!==k.state.formattedNumber){de.preventDefault?de.preventDefault():de.returnValue=!1;var Be=k.props.country,Je=k.state,Re=Je.onlyCountries,Ue=Je.selectedCountry,ct=Je.hiddenAreaCodes;if(nt&&de.persist(),Ee.length>0){var it=Ee.replace(/\D/g,"");(!k.state.freezeSelection||Ue&&Ue.dialCode.length>it.length)&&(st=k.props.disableCountryGuess?Ue:k.guessSelectedCountry(it.substring(0,6),Be,Re,ct)||Ue,Ct=!1),ft=k.formatNumber(it,st),st=st.dialCode?st:Ue}var vt=de.target.selectionStart,rr=de.target.selectionStart,Qr=k.state.formattedNumber,Tn=ft.length-Qr.length;k.setState({formattedNumber:ft,freezeSelection:Ct,selectedCountry:st},function(){Tn>0&&(rr-=Tn),ft.charAt(ft.length-1)==")"?k.numberInputRef.setSelectionRange(ft.length-1,ft.length-1):rr>0&&Qr.length>=ft.length?k.numberInputRef.setSelectionRange(rr,rr):vt<Qr.length&&k.numberInputRef.setSelectionRange(vt,vt),nt&&nt(ft.replace(/[^0-9]+/g,""),k.getCountryData(),de,ft)})}},k.handleInputClick=function(de){k.setState({showDropdown:!1}),k.props.onClick&&k.props.onClick(de,k.getCountryData())},k.handleDoubleClick=function(de){var Ee=de.target.value.length;de.target.setSelectionRange(0,Ee)},k.handleFlagItemClick=function(de,Ee){var je=k.state.selectedCountry,Ze=k.state.onlyCountries.find(function(Ct){return Ct==de});if(Ze){var nt=k.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),ft=nt.length>1?nt.replace(je.dialCode,Ze.dialCode):Ze.dialCode,st=k.formatNumber(ft.replace(/\D/g,""),Ze);k.setState({showDropdown:!1,selectedCountry:Ze,freezeSelection:!0,formattedNumber:st,searchValue:""},function(){k.cursorToEnd(),k.props.onChange&&k.props.onChange(st.replace(/[^0-9]+/g,""),k.getCountryData(),Ee,st)})}},k.handleInputFocus=function(de){k.numberInputRef&&k.numberInputRef.value===k.props.prefix&&k.state.selectedCountry&&!k.props.disableCountryCode&&k.setState({formattedNumber:k.props.prefix+k.state.selectedCountry.dialCode},function(){k.props.jumpCursorToEnd&&setTimeout(k.cursorToEnd,0)}),k.setState({placeholder:""}),k.props.onFocus&&k.props.onFocus(de,k.getCountryData()),k.props.jumpCursorToEnd&&setTimeout(k.cursorToEnd,0)},k.handleInputBlur=function(de){de.target.value||k.setState({placeholder:k.props.placeholder}),k.props.onBlur&&k.props.onBlur(de,k.getCountryData())},k.handleInputCopy=function(de){if(k.props.copyNumbersOnly){var Ee=window.getSelection().toString().replace(/[^0-9]+/g,"");de.clipboardData.setData("text/plain",Ee),de.preventDefault()}},k.getHighlightCountryIndex=function(de){var Ee=k.state.highlightCountryIndex+de;return Ee<0||Ee>=k.state.onlyCountries.length+k.state.preferredCountries.length?Ee-de:k.props.enableSearch&&Ee>k.getSearchFilteredCountries().length?0:Ee},k.searchCountry=function(){var de=k.getProbableCandidate(k.state.queryString)||k.state.onlyCountries[0],Ee=k.state.onlyCountries.findIndex(function(je){return je==de})+k.state.preferredCountries.length;k.scrollTo(k.getElement(Ee),!0),k.setState({queryString:"",highlightCountryIndex:Ee})},k.handleKeydown=function(de){var Ee=k.props.keys,je=de.target.className;if(je.includes("selected-flag")&&de.which===Ee.ENTER&&!k.state.showDropdown)return k.handleFlagDropdownClick(de);if(je.includes("form-control")&&(de.which===Ee.ENTER||de.which===Ee.ESC))return de.target.blur();if(k.state.showDropdown&&!k.props.disabled&&(!je.includes("search-box")||de.which===Ee.UP||de.which===Ee.DOWN||de.which===Ee.ENTER||de.which===Ee.ESC&&de.target.value==="")){de.preventDefault?de.preventDefault():de.returnValue=!1;var Ze=function(nt){k.setState({highlightCountryIndex:k.getHighlightCountryIndex(nt)},function(){k.scrollTo(k.getElement(k.state.highlightCountryIndex),!0)})};switch(de.which){case Ee.DOWN:Ze(1);break;case Ee.UP:Ze(-1);break;case Ee.ENTER:k.props.enableSearch?k.handleFlagItemClick(k.getSearchFilteredCountries()[k.state.highlightCountryIndex]||k.getSearchFilteredCountries()[0],de):k.handleFlagItemClick([].concat(a(k.state.preferredCountries),a(k.state.onlyCountries))[k.state.highlightCountryIndex],de);break;case Ee.ESC:case Ee.TAB:k.setState({showDropdown:!1},k.cursorToEnd);break;default:(de.which>=Ee.A&&de.which<=Ee.Z||de.which===Ee.SPACE)&&k.setState({queryString:k.state.queryString+String.fromCharCode(de.which)},k.state.debouncedQueryStingSearcher)}}},k.handleInputKeyDown=function(de){var Ee=k.props,je=Ee.keys,Ze=Ee.onEnterKeyPress,nt=Ee.onKeyDown;de.which===je.ENTER&&Ze&&Ze(de),nt&&nt(de)},k.handleClickOutside=function(de){k.dropdownRef&&!k.dropdownContainerRef.contains(de.target)&&k.state.showDropdown&&k.setState({showDropdown:!1})},k.handleSearchChange=function(de){var Ee=de.currentTarget.value,je=k.state,Ze=je.preferredCountries,nt=je.selectedCountry,ft=0;if(Ee===""&&nt){var st=k.state.onlyCountries;ft=k.concatPreferredCountries(Ze,st).findIndex(function(Ct){return Ct==nt}),setTimeout(function(){return k.scrollTo(k.getElement(ft))},100)}k.setState({searchValue:Ee,highlightCountryIndex:ft})},k.concatPreferredCountries=function(de,Ee){return de.length>0?a(new Set(de.concat(Ee))):Ee},k.getDropdownCountryName=function(de){return de.localName||de.name},k.getSearchFilteredCountries=function(){var de=k.state,Ee=de.preferredCountries,je=de.onlyCountries,Ze=de.searchValue,nt=k.props.enableSearch,ft=k.concatPreferredCountries(Ee,je),st=Ze.trim().toLowerCase().replace("+","");if(nt&&st){if(/^\d+$/.test(st))return ft.filter(function(Be){var Je=Be.dialCode;return["".concat(Je)].some(function(Re){return Re.toLowerCase().includes(st)})});var Ct=ft.filter(function(Be){var Je=Be.iso2;return["".concat(Je)].some(function(Re){return Re.toLowerCase().includes(st)})}),Se=ft.filter(function(Be){var Je=Be.name,Re=Be.localName;return Be.iso2,["".concat(Je),"".concat(Re||"")].some(function(Ue){return Ue.toLowerCase().includes(st)})});return k.scrollToTop(),a(new Set([].concat(Ct,Se)))}return ft},k.getCountryDropdownList=function(){var de=k.state,Ee=de.preferredCountries,je=de.highlightCountryIndex,Ze=de.showDropdown,nt=de.searchValue,ft=k.props,st=ft.disableDropdown,Ct=ft.prefix,Se=k.props,Be=Se.enableSearch,Je=Se.searchNotFound,Re=Se.disableSearchIcon,Ue=Se.searchClass,ct=Se.searchStyle,it=Se.searchPlaceholder,vt=Se.autocompleteSearch,rr=k.getSearchFilteredCountries().map(function(Pt,Qn){var Zn=je===Qn,Ps=G()({country:!0,preferred:Pt.iso2==="us"||Pt.iso2==="gb",active:Pt.iso2==="us",highlight:Zn}),Mn="flag ".concat(Pt.iso2);return v.a.createElement("li",Object.assign({ref:function(hn){return k["flag_no_".concat(Qn)]=hn},key:"flag_no_".concat(Qn),"data-flag-key":"flag_no_".concat(Qn),className:Ps,"data-dial-code":"1",tabIndex:st?"-1":"0","data-country-code":Pt.iso2,onClick:function(hn){return k.handleFlagItemClick(Pt,hn)},role:"option"},Zn?{"aria-selected":!0}:{}),v.a.createElement("div",{className:Mn}),v.a.createElement("span",{className:"country-name"},k.getDropdownCountryName(Pt)),v.a.createElement("span",{className:"dial-code"},Pt.format?k.formatNumber(Pt.dialCode,Pt):Ct+Pt.dialCode))}),Qr=v.a.createElement("li",{key:"dashes",className:"divider"});Ee.length>0&&(!Be||Be&&!nt.trim())&&rr.splice(Ee.length,0,Qr);var Tn=G()(n({"country-list":!0,hide:!Ze},k.props.dropdownClass,!0));return v.a.createElement("ul",{ref:function(Pt){return!Be&&Pt&&Pt.focus(),k.dropdownRef=Pt},className:Tn,style:k.props.dropdownStyle,role:"listbox",tabIndex:"0"},Be&&v.a.createElement("li",{className:G()(n({search:!0},Ue,Ue))},!Re&&v.a.createElement("span",{className:G()(n({"search-emoji":!0},"".concat(Ue,"-emoji"),Ue)),role:"img","aria-label":"Magnifying glass"},""),v.a.createElement("input",{className:G()(n({"search-box":!0},"".concat(Ue,"-box"),Ue)),style:ct,type:"search",placeholder:it,autoFocus:!0,autoComplete:vt?"on":"off",value:nt,onChange:k.handleSearchChange})),rr.length>0?rr:v.a.createElement("li",{className:"no-entries-message"},v.a.createElement("span",null,Je)))};var ce,ee=new Y(z.enableAreaCodes,z.enableTerritories,z.regions,z.onlyCountries,z.preferredCountries,z.excludeCountries,z.preserveOrder,z.masks,z.priority,z.areaCodes,z.localization,z.prefix,z.defaultMask,z.alwaysDefaultMask),he=ee.onlyCountries,ye=ee.preferredCountries,ke=ee.hiddenAreaCodes,Ke=z.value?z.value.replace(/\D/g,""):"";ce=z.disableInitialCountryGuess?0:Ke.length>1?k.guessSelectedCountry(Ke.substring(0,6),z.country,he,ke)||0:z.country&&he.find(function(de){return de.iso2==z.country})||0;var He,rt=Ke.length<2&&ce&&!P()(Ke,ce.dialCode)?ce.dialCode:"";He=Ke===""&&ce===0?"":k.formatNumber((z.disableCountryCode?"":rt)+Ke,ce.name?ce:void 0);var Ve=he.findIndex(function(de){return de==ce});return k.state={showDropdown:z.showDropdown,formattedNumber:He,onlyCountries:he,preferredCountries:ye,hiddenAreaCodes:ke,selectedCountry:ce,highlightCountryIndex:Ve,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:E()(k.searchCountry,250),searchValue:""},k}var F,U;return function(z,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(k&&k.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),k&&w(z,k)}(X,se),F=X,(U=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(z,k,ce){z.country!==this.props.country?this.updateCountry(this.props.country):z.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(z){if(z===null)return this.setState({selectedCountry:0,formattedNumber:""});var k=this.state,ce=k.onlyCountries,ee=k.selectedCountry,he=k.hiddenAreaCodes,ye=this.props,ke=ye.country,Ke=ye.prefix;if(z==="")return this.setState({selectedCountry:ee,formattedNumber:""});var He,rt,Ve=z.replace(/\D/g,"");if(ee&&P()(z,Ke+ee.dialCode))rt=this.formatNumber(Ve,ee),this.setState({formattedNumber:rt});else{var de=(He=this.props.disableCountryGuess?ee:this.guessSelectedCountry(Ve.substring(0,6),ke,ce,he)||ee)&&P()(Ve,Ke+He.dialCode)?He.dialCode:"";rt=this.formatNumber((this.props.disableCountryCode?"":de)+Ve,He||void 0),this.setState({selectedCountry:He,formattedNumber:rt})}}},{key:"render",value:function(){var z,k,ce,ee=this,he=this.state,ye=he.onlyCountries,ke=he.selectedCountry,Ke=he.showDropdown,He=he.formattedNumber,rt=he.hiddenAreaCodes,Ve=this.props,de=Ve.disableDropdown,Ee=Ve.renderStringAsFlag,je=Ve.isValid,Ze=Ve.defaultErrorMessage,nt=Ve.specialLabel;if(typeof je=="boolean")k=je;else{var ft=je(He.replace(/\D/g,""),ke,ye,rt);typeof ft=="boolean"?(k=ft)===!1&&(ce=Ze):(k=!1,ce=ft)}var st=G()((n(z={},this.props.containerClass,!0),n(z,"react-tel-input",!0),z)),Ct=G()({arrow:!0,up:Ke}),Se=G()(n({"form-control":!0,"invalid-number":!k,open:Ke},this.props.inputClass,!0)),Be=G()({"selected-flag":!0,open:Ke}),Je=G()(n({"flag-dropdown":!0,"invalid-number":!k,open:Ke},this.props.buttonClass,!0)),Re="flag ".concat(ke&&ke.iso2);return v.a.createElement("div",{className:"".concat(st," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},nt&&v.a.createElement("div",{className:"special-label"},nt),ce&&v.a.createElement("div",{className:"invalid-number-message"},ce),v.a.createElement("input",Object.assign({className:Se,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:He,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(Ue){ee.numberInputRef=Ue,typeof ee.props.inputProps.ref=="function"?ee.props.inputProps.ref(Ue):typeof ee.props.inputProps.ref=="object"&&(ee.props.inputProps.ref.current=Ue)}})),v.a.createElement("div",{className:Je,style:this.props.buttonStyle,ref:function(Ue){return ee.dropdownContainerRef=Ue}},Ee?v.a.createElement("div",{className:Be},Ee):v.a.createElement("div",{onClick:de?void 0:this.handleFlagDropdownClick,className:Be,title:ke?"".concat(ke.localName||ke.name,": + ").concat(ke.dialCode):"",tabIndex:de?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!Ke||void 0},v.a.createElement("div",{className:Re},!de&&v.a.createElement("div",{className:Ct}))),Ke&&this.getCountryDropdownList()))}}])&&f(F.prototype,U),X}(v.a.Component);oe.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},e.default=oe}])),tp}var L8=M8();const I8=Vg(L8),B8=()=>{const t={container:{width:"100%"},inputStyle:{width:"100%",height:"42px",padding:"8px 8px 8px 50px",borderRadius:"0.375rem",fontSize:"0.875rem",borderColor:"#D1D5DB"},buttonStyle:{borderTopLeftRadius:"0.375rem",borderBottomLeftRadius:"0.375rem",borderColor:"#D1D5DB"},dropdownStyle:{width:"300px"}},{user:e}=Yt(),[r,n]=A.useState([]),[s,a]=A.useState([]),[o,c]=A.useState(!0),[d,f]=A.useState(null),[h,p]=A.useState(null),[g,x]=A.useState({}),[w,b]=A.useState(!1),[v,N]=A.useState({leadId:"",amount:0,token:0,pending:0,product:"",status:"Pending",isReference:!1,customerName:"",email:"",contactNumber:"",country:"",leadPerson:"",countryCode:"+1",loginId:"",password:"",leadBy:"",saleDate:new Date,currency:"USD"}),[E,j]=A.useState([]),[D,T]=A.useState([]),[M,C]=A.useState(!1),[P,I]=A.useState([]),[G,J]=A.useState(!1),[H,ie]=A.useState(new Date().getMonth()+1),[Z,O]=A.useState(new Date().getFullYear()),[K,W]=A.useState(!1),[Y,oe]=A.useState(!0),se=[{value:"USD",label:"USD ($)",symbol:"$"},{value:"EUR",label:"EUR ()",symbol:""},{value:"GBP",label:"GBP ()",symbol:""},{value:"INR",label:"INR ()",symbol:""},{value:"CAD",label:"CAD ($)",symbol:"$"},{value:"AUD",label:"AUD ($)",symbol:"$"},{value:"JPY",label:"JPY ()",symbol:""},{value:"CNY",label:"CNY ()",symbol:""}],X=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],F=new Date().getFullYear(),U=Array.from({length:6},(V,Te)=>F-Te),z=["Pending","Completed","Cancelled"],[k,ce]=A.useState(null),[ee,he]=A.useState(!1);A.useEffect(()=>{ke()},[e]),A.useEffect(()=>{r.length>0?ye():a([])},[r,H,Z,K,Y]),A.useEffect(()=>{v.isReference&&P.length===0&&He()},[v.isReference]);const ye=()=>{if(((e==null?void 0:e.role)==="Manager"||(e==null?void 0:e.role)==="Admin")&&Y){a(r);return}let V=[];if(K){const Te=new Date().getMonth()+1,Ye=new Date().getFullYear();V=r.filter(We=>{if(!We.date&&!We.createdAt)return!1;const Qe=new Date(We.date||We.createdAt),ht=Qe.getMonth()+1,Bt=Qe.getFullYear();return ht===Te&&Bt===Ye})}else V=r.filter(Te=>{if(!Te.date&&!Te.createdAt)return!1;const Ye=new Date(Te.date||Te.createdAt),We=Ye.getMonth()+1,Qe=Ye.getFullYear();return We===H&&Qe===Z});a(V)},ke=async()=>{var V;try{c(!0);const Te=localStorage.getItem("token");if(!Te){f("Authentication token not found. Please log in again.");return}try{const Ye=await It.get(`https://crm-backend-o36v.onrender.com/api/sales?full=true&nocache=${new Date().getTime()}`,{headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(Ye.data&&Ye.data.success){const We=Ye.data.data.map(Qe=>({...Qe,_id:Qe._id,salesPerson:typeof Qe.salesPerson=="object"&&Qe.salesPerson._id||Qe.salesPerson,amount:parseFloat(Qe.totalCost||0),token:parseFloat(Qe.tokenAmount||0),pending:Qe.status==="Completed"?0:parseFloat(Qe.totalCost||0)-parseFloat(Qe.tokenAmount||0),product:Qe.course||Qe.product||"Unknown",status:Qe.status||"Pending",loginId:Qe.loginId||"",password:Qe.password||"",leadBy:Qe.leadBy||"",currency:Qe.currency||"USD",date:Qe.date||Qe.createdAt}));n(We)}else f("Failed to load sales data: "+(((V=Ye.data)==null?void 0:V.message)||"Unknown error"))}catch{try{const We=await Kr.getAllForced();if(We.data&&We.data.success){const Qe=We.data.data.map(ht=>({...ht,_id:ht._id,salesPerson:typeof ht.salesPerson=="object"&&ht.salesPerson._id||ht.salesPerson,amount:parseFloat(ht.totalCost||0),token:parseFloat(ht.tokenAmount||0),pending:ht.status==="Completed"?0:parseFloat(ht.totalCost||0)-parseFloat(ht.tokenAmount||0),product:ht.course||ht.product||"Unknown",status:ht.status||"Pending",loginId:ht.loginId||"",password:ht.password||"",leadBy:ht.leadBy||"",currency:ht.currency||"USD",date:ht.date||ht.createdAt}));n(Qe)}else f("Failed to load sales data. Please try again.")}catch{f("Failed to load sales data. Please try again.")}}}catch(Te){Te.response,f("Failed to load sales data. Please try again.")}finally{c(!1)}},Ke=async()=>{try{C(!0);let V=[];if(e.role==="Sales Person"){const Ye=await Nn.getAssigned();Ye.data.success&&(V=Ye.data.data.filter(We=>We.status!=="Converted"))}else{const Ye=await Nn.getAll();Ye.data.success&&(V=Ye.data.data.filter(We=>We.status!=="Converted"))}j(V);const Te=V.map(Ye=>({value:Ye._id,label:`${Ye.name} - ${Ye.course} (${Ye.status})`,data:Ye}));T(Te)}catch(V){console.error("Error fetching leads:",V),f("Failed to load leads. Please try again.")}finally{C(!1)}},He=async()=>{try{J(!0);const V=await mr.getUsers("Lead Person");if(V.data.success){const Te=V.data.data.map(Ye=>({value:Ye._id,label:Ye.fullName||Ye.email}));I(Te)}}catch(V){console.error("Error fetching lead persons:",V)}finally{J(!1)}},rt=()=>{Ke(),He(),b(!0),N({leadId:"",amount:0,token:0,pending:0,product:"",status:"Pending",isReference:!1,customerName:"",email:"",contactNumber:"",country:"",leadPerson:"",countryCode:"+1",loginId:"",password:"",leadBy:"",saleDate:new Date,currency:"USD"})},Ve=V=>{const Te=V.target.value,Ye=E.find(We=>We._id===Te);Ye&&N(We=>({...We,leadId:Te,product:Ye.course||Ye.COURSE||"",_selectedLead:Ye}))},de=(V,Te)=>{N(Ye=>{const We={...Ye,[V]:Te};if(V==="amount"||V==="token"){const Qe=parseFloat(V==="amount"?Te:Ye.amount),ht=parseFloat(V==="token"?Te:Ye.token);We.pending=Qe-ht}return V==="status"&&Te==="Completed"&&(We.pending=0),We})},Ee=V=>{N({...v,isReference:V,leadId:V?"":v.leadId,customerName:V?v.customerName:"",contactNumber:V?v.contactNumber:"",email:V?v.email:"",country:V?v.country:"",countryCode:V?v.countryCode:"+1"}),V&&P.length===0&&He()},je=async V=>{var Te,Ye,We;V.preventDefault();try{if(v.isReference){if(!v.customerName){f("Please enter customer name");return}if(!v.contactNumber){f("Please enter contact number");return}if(!v.product){f("Please enter a product/course name");return}if(!v.country){f("Please enter country");return}}else{if(!v.leadId){f("Please select a lead");return}if(!v.product){f("Please enter a product/course name");return}if(!v.leadPerson){f("Please select a lead person who will see this sale");return}}if(!localStorage.getItem("token")){f("Authentication required. Please log in again.");return}let ht;if(v.isReference)ht={customerName:v.customerName,country:v.country,course:v.product,countryCode:v.countryCode||"+1",contactNumber:v.contactNumber,email:v.email||"",salesPerson:e._id,leadPerson:v.leadPerson,loginId:v.loginId||"",password:v.password||"",leadBy:v.leadBy||"",source:"Reference",isReference:!0,totalCost:parseFloat(v.amount)||0,tokenAmount:parseFloat(v.token)||0,currency:v.currency||"USD",pending:v.status==="Completed"?!1:parseFloat(v.pending)>0,status:v.status||"Pending",createdBy:e._id,date:v.saleDate||new Date,isLeadPersonSale:!0};else{const Xe=v._selectedLead||E.find(Zr=>Zr._id===v.leadId);if(!Xe){f("Lead information not found. Please select a lead again.");return}ht={customerName:Xe.name||Xe.NAME||Xe.customerName||"Unknown",country:Xe.country||Xe.COUNTRY||"Unknown",course:v.product,countryCode:Xe.countryCode||Xe.CODE||"+1",contactNumber:Xe.phone||Xe.contactNumber||Xe.NUMBER||Xe.MOBILE||"0000000000",email:Xe.email||Xe["E-MAIL"]||Xe.EMAIL||"",salesPerson:e._id,leadPerson:v.leadPerson,loginId:v.loginId||"",password:v.password||"",leadBy:v.leadBy||"",source:Xe.source||Xe.SOURSE||"",clientRemark:Xe.client||Xe["CLIENT REMARK"]||"",totalCost:parseFloat(v.amount)||0,tokenAmount:parseFloat(v.token)||0,currency:v.currency||"USD",pending:v.status==="Completed"?!1:parseFloat(v.pending)>0,status:v.status||"Pending",createdBy:e._id,date:v.saleDate||new Date,isLeadPersonSale:!0}}const Bt=await Kr.create({...ht,isLeadPersonSale:!0});Bt.data&&Bt.data.success?(n(Xe=>[Bt.data.data,...Xe]),b(!1),N({leadId:"",amount:0,token:0,pending:0,product:"",status:"Pending",isReference:!1,customerName:"",email:"",contactNumber:"",country:"",leadPerson:"",countryCode:"+1",loginId:"",password:"",leadBy:"",saleDate:new Date,currency:"USD"}),Oe.success("Sale added successfully!"),Tn()):f(((Te=Bt.data)==null?void 0:Te.message)||"Failed to add sale")}catch(Qe){if(Qe.response)if(Qe.response.status===400){const ht=((Ye=Qe.response.data)==null?void 0:Ye.message)||"Invalid data";ht.includes("enum value for path `status`")?Oe.error(`Invalid status value. Allowed values are: ${z.join(", ")}`):Oe.error(`Bad request: ${ht}`)}else Qe.response.status===401?f("Authentication failed. Please log in again."):f(`Failed to add sale: ${((We=Qe.response.data)==null?void 0:We.message)||Qe.message}`);else f("Network error while adding sale")}},Ze=(V,Te)=>V?typeof V[Te]=="string"?V[Te]:V[Te]&&V[Te]._id?typeof V[Te]._id=="object"&&V[Te]._id.toString?V[Te]._id.toString():V[Te]._id:V[Te]&&typeof V[Te].id=="string"?V[Te].id:V[Te]&&typeof V[Te]=="object"&&V[Te].toString?V[Te].toString():null:null,nt=V=>{if(!V)return;p(V._id);const Te=parseFloat(V.amount||V.totalCost||0),Ye=parseFloat(V.token||V.tokenAmount||0),We=parseFloat(V.pending||Te-Ye||0);x({amount:Te,token:Ye,pending:We,status:V.status||"Pending",product:V.product||V.course||"",saleDate:V.date||new Date,loginId:V.loginId||"",password:V.password||"",leadBy:V.leadBy||"",currency:V.currency||"USD"})},ft=async V=>{var Te,Ye,We,Qe,ht,Bt;try{const Xe=r.find(en=>en._id===V);if(!Xe){f("Sale not found");return}if(!localStorage.getItem("token")){f("Authentication required. Please log in again.");return}if(e.role==="Sales Person"){const en=Ze(Xe,"salesPerson"),En=e._id;if(en&&En&&en.toString()===En.toString()){const re=Ze(Xe,"salesPerson")||e._id,q=Ze(Xe,"leadPerson"),Q={customerName:Xe.customerName,country:Xe.country,course:g.product||Xe.course||"Unknown Course",countryCode:Xe.countryCode,contactNumber:Xe.contactNumber,email:Xe.email,date:g.saleDate||Xe.date||new Date,salesPerson:re,leadPerson:q,leadBy:g.leadBy||Xe.leadBy||"",loginId:g.loginId||Xe.loginId||"",password:g.password||Xe.password||"",source:Xe.source,clientRemark:Xe.clientRemark,totalCost:parseFloat(g.amount)||0,tokenAmount:parseFloat(g.token)||0,currency:g.currency||Xe.currency||"USD",pending:g.status==="Completed"?!1:parseFloat(g.pending)>0,status:g.status||Xe.status||"Pending",isReference:Xe.isReference||!1,updatedBy:e._id,updatedAt:new Date},te=await Kr.update(V,Q);te.data&&te.data.success?(console.log("Sale update response:",te.data.data),n(r.map(xe=>{if(xe._id===V){const Pe={...te.data.data,product:te.data.data.course||te.data.data.product||g.product,amount:te.data.data.totalCost||g.amount,token:te.data.data.tokenAmount||g.token,pending:te.data.data.status==="Completed"?0:(te.data.data.totalCost||0)-(te.data.data.tokenAmount||0),currency:te.data.data.currency||g.currency||"USD"};return console.log("Updated sale object:",Pe),Pe}return xe})),Oe.success("Sale updated successfully"),p(null),Y||(oe(!0),Oe.info("Showing all sales to display your changes. Use filters to narrow down if needed."))):f("Failed to update sale: "+(((Te=te.data)==null?void 0:Te.message)||"Server error"));return}else{f("You don't have permission to update this sale");return}}const Vr=Ze(Xe,"salesPerson")||e._id,Ar=Ze(Xe,"leadPerson");if(!Ar){f("Lead person ID is missing, cannot update sale");return}const mn={customerName:Xe.customerName,country:Xe.country,course:g.product||Xe.course||"Unknown Course",countryCode:Xe.countryCode,contactNumber:Xe.contactNumber,email:Xe.email,date:g.saleDate||Xe.date||new Date,salesPerson:Vr,leadPerson:Ar,leadBy:g.leadBy||Xe.leadBy||"",loginId:g.loginId||Xe.loginId||"",password:g.password||Xe.password||"",source:Xe.source,clientRemark:Xe.clientRemark,totalCost:parseFloat(g.amount)||0,tokenAmount:parseFloat(g.token)||0,currency:g.currency||Xe.currency||"USD",pending:g.status==="Completed"?!1:parseFloat(g.pending)>0,status:g.status||Xe.status||"Pending",isReference:Xe.isReference||!1,updatedBy:e._id,updatedAt:new Date},sr=await Kr.update(V,mn);sr.data&&sr.data.success?(console.log("Sale update response:",sr.data.data),n(r.map(En=>{if(En._id===V){const L={...sr.data.data,product:sr.data.data.course||sr.data.data.product||g.product,amount:sr.data.data.totalCost||g.amount,token:sr.data.data.tokenAmount||g.token,pending:sr.data.data.status==="Completed"?0:(sr.data.data.totalCost||0)-(sr.data.data.tokenAmount||0),currency:sr.data.data.currency||g.currency||"USD"};return console.log("Updated sale object:",L),L}return En})),Oe.success("Sale updated successfully"),p(null),Y||(oe(!0),Oe.info("Showing all sales to display your changes. Use filters to narrow down if needed."))):f("Failed to update sale: "+(((Ye=sr.data)==null?void 0:Ye.message)||"Server error"))}catch(Xe){if(Xe.response)if(Xe.response.status===403)e.role==="Sales Person"&&((Qe=(We=Xe.response.data)==null?void 0:We.message)!=null&&Qe.includes("can only update the status field"))?f("As a Sales Person, you can only update the status field"):f("You don't have permission to update this sale. Only the creator or an admin can update it.");else if(Xe.response.status===401)f("Your session has expired. Please log in again.");else if(Xe.response.status===400){const Zr=((ht=Xe.response.data)==null?void 0:ht.message)||"Invalid data";Zr.includes("enum value for path `status`")?Oe.error(`Invalid status value. Allowed values are: ${z.join(", ")}`):Oe.error(`Bad request: ${Zr}`)}else f(`Failed to update sale: ${((Bt=Xe.response.data)==null?void 0:Bt.message)||Xe.message}`);else f("Network error while updating sale")}},st=(V,Te)=>{x(Ye=>{const We={...Ye,[V]:Te};if(V==="amount"||V==="token"){const Qe=parseFloat(V==="amount"?Te:Ye.amount)||0,ht=parseFloat(V==="token"?Te:Ye.token)||0;We.pending=Qe-ht}return V==="status"&&Te==="Completed"&&(We.pending=0),We})},Ct=V=>{if(!V||!e||!e._id||!e.role)return!1;const Te=Ze(V,"salesPerson"),Ye=e._id;if(e.role==="Sales Person")return Te&&Ye&&Te.toString()===Ye.toString();if(e.role==="Lead Person"){const We=Ze(V,"leadPerson");return We&&Ye&&We.toString()===Ye.toString()}return["Admin","Manager"].includes(e.role)},Se=V=>{if(!V||!e||!e._id||!e.role)return!1;const Te=Ze(V,"salesPerson"),Ye=e._id;return e.role==="Sales Person"?Te&&Ye&&Te.toString()===Ye.toString():["Admin","Manager"].includes(e.role)},Be=async V=>{var Te,Ye;try{if(ce(V),!r.find(ht=>ht._id===V)){Oe.error("Sale not found");return}const Qe=await Kr.delete(V);Qe.data&&Qe.data.success?(n(ht=>ht.filter(Bt=>Bt._id!==V)),Oe.success("Sale deleted successfully!"),ke()):Oe.error(((Te=Qe.data)==null?void 0:Te.message)||"Failed to delete sale")}catch(We){We.response?We.response.status===403?Oe.error("You don't have permission to delete this sale. Only the creator or an admin can delete it."):We.response.status===401?Oe.error("Your session has expired. Please log in again."):Oe.error(((Ye=We.response.data)==null?void 0:Ye.message)||"Server error while deleting sale"):Oe.error("Network error while deleting sale")}finally{ce(null),he(!1)}},Je=V=>new Date(V).toLocaleDateString(),Re=V=>{ie(parseInt(V.target.value)),W(!1),oe(!1)},Ue=V=>{O(parseInt(V.target.value)),W(!1),oe(!1)},ct=()=>{const V=new Date;ie(V.getMonth()+1),O(V.getFullYear()),W(!0),oe(!1)},it=()=>{oe(!Y),Y||W(!1)},vt=async(V,Te)=>{var Ye,We,Qe,ht;try{const Bt=r.find(Vr=>Vr._id===V);if(!Bt)return;if(!Ct(Bt)){Oe.error("You don't have permission to update this sale");return}p(V);const Xe={status:Te,loginId:Bt.loginId||"",password:Bt.password||"",leadBy:Bt.leadBy||"",pending:Te==="Completed"?!1:Bt.pending},Zr=await Kr.update(V,Xe);Zr.data&&Zr.data.success?(n(Vr=>Vr.map(Ar=>Ar._id===V?{...Ar,status:Te,pending:Te==="Completed"?!1:Ar.pending}:Ar)),a(Vr=>Vr.map(Ar=>Ar._id===V?{...Ar,status:Te,pending:Te==="Completed"?!1:Ar.pending}:Ar)),Oe.success("Sale status updated successfully!")):Oe.error(((Ye=Zr.data)==null?void 0:Ye.message)||"Failed to update sale status")}catch(Bt){if(Bt.response)if(Bt.response.status===403)e.role==="Sales Person"&&((Qe=(We=Bt.response.data)==null?void 0:We.message)!=null&&Qe.includes("can only update the status field"))?f("As a Sales Person, you can only update the status field"):f("You don't have permission to update this sale. Only the creator or an admin can update it.");else if(Bt.response.status===401)f("Your session has expired. Please log in again.");else if(Bt.response.status===400){const Xe=((ht=Bt.response.data)==null?void 0:ht.message)||"Invalid data";Xe.includes("enum value for path `status`")?Oe.error(`Invalid status value. Allowed values are: ${z.join(", ")}`):Oe.error(`Bad request: ${Xe}`)}else Oe.error("Failed to update sale status. Please try again.");else Oe.error("Network error while updating sale status")}finally{p(null)}},rr=(V,Te)=>{if(V)try{const Ye=V.toString().replace(/\D/g,""),Qe=`https://wa.me/${Te?Te.toString().replace(/^\+/,""):"1"}${Ye}`;window.open(Qe,"_blank","noopener,noreferrer")}catch{Oe.error("Could not open WhatsApp. Please try again.")}},Qr=V=>{V&&(window.location.href=`mailto:${V}`)},Tn=async()=>{try{n([]),a([]),c(!0);const V=new Date().getTime(),Te=await Kr.getAll();if(Te.data&&Te.data.success){const Ye=Te.data.data.map(We=>({...We,_id:We._id,salesPerson:typeof We.salesPerson=="object"&&We.salesPerson._id||We.salesPerson,amount:parseFloat(We.totalCost||0),token:parseFloat(We.tokenAmount||0),pending:We.status==="Completed"?0:parseFloat(We.totalCost||0)-parseFloat(We.tokenAmount||0),product:We.course||We.product||"Unknown",status:We.status||"Pending",loginId:We.loginId||"",password:We.password||"",leadBy:We.leadBy||"",currency:We.currency||"USD",date:We.date||We.createdAt}));n(Ye)}else Oe.error("Failed to refresh sales data. Please try again.")}catch{Oe.error("Failed to refresh data. Please reload the page.")}finally{c(!1),w&&Ke()}},Pt=(V,Te,Ye="N/A")=>{if(!V)return Ye;const We=Te.split(".");let Qe=V;for(const ht of We){if(Qe==null||typeof Qe!="object")return Ye;Qe=Qe[ht]}return Qe??Ye},Qn=V=>V?V.customerName||Pt(V,"leadId.name")||Pt(V,"leadId.NAME")||"Unknown Customer":"N/A",Zn=({role:V})=>{let Te="";return V==="Sales Person"?Te="As a Sales Person, you can only update the status of your own sales.":V==="Lead Person"&&(Te="As a Lead Person, you can only edit your own leads."),Te?i.jsx("div",{className:"relative inline-block ml-1 text-gray-400",children:i.jsxs("span",{className:"cursor-help text-sm",children:[i.jsx("i",{className:"fas fa-info-circle"}),i.jsx("span",{className:"tooltip absolute invisible group-hover:visible bg-gray-800 text-white p-2 rounded text-xs w-48 -mt-16 -ml-24 z-10",children:Te})]})}):null},Ps=(V,Te)=>{if(!V)return"Invalid sale data";if(Te==="Sales Person"){const Ye=Ze(V,"salesPerson"),We=e==null?void 0:e._id;return Ye&&We&&Ye.toString()===We.toString()?"As a Sales Person, you can edit and delete your own sales":"You can only edit and delete sales you created as a Sales Person"}return"You don't have permission to update this sale. Only the creator or an admin can update it."},Mn=V=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h===V._id?i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsx("input",{type:"date",value:g.saleDate?new Date(g.saleDate).toISOString().split("T")[0]:new Date(V.date||V.createdAt).toISOString().split("T")[0],onChange:Te=>st("saleDate",new Date(Te.target.value)),className:"w-full px-2 border border-gray-300 rounded"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>ft(V._id),className:"text-green-600 hover:text-green-900 flex items-center text-xs px-2 py-1 bg-green-50 rounded",children:[i.jsx(qp,{className:"mr-1"})," Save"]}),i.jsxs("button",{onClick:()=>p(null),className:"text-red-600 hover:text-red-900 flex items-center text-xs px-2 py-1 bg-red-50 rounded",children:[i.jsx(vu,{className:"mr-1"})," Cancel"]})]})]}):i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsx("div",{className:"text-sm text-gray-900",children:Je(V.date||V.createdAt||new Date)}),Ct(V)&&i.jsxs("button",{onClick:()=>nt(V),className:"text-blue-600 hover:text-blue-900 flex items-center text-xs px-2 py-1 bg-blue-50 rounded w-16",children:[i.jsx(Wu,{className:"mr-1"})," Edit"]})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Qn(V)}),i.jsx("div",{className:"text-xs text-gray-500",children:V.product||Pt(V,"leadId.course")||"No product"}),h===V._id&&i.jsxs("div",{className:"mt-2",children:[i.jsx("input",{type:"text",placeholder:"Lead By (Optional)",value:g.leadBy||"",onChange:Te=>st("leadBy",Te.target.value),className:"w-full text-xs px-2 py-1 border border-gray-300 rounded"}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-gray-400 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{children:"Name of person who led this sale"})]})]}),h!==V._id&&V.leadBy&&i.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Lead By: ",V.leadBy]})]}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex flex-col space-y-1",children:[(V.contactNumber||Pt(V,"leadId.phone"))&&i.jsx("div",{className:"flex items-center",children:i.jsxs("button",{onClick:()=>rr(V.contactNumber||Pt(V,"leadId.phone"),V.countryCode||Pt(V,"leadId.countryCode","+91")),className:"text-sm text-gray-900 flex items-center hover:text-green-600",title:"Open in WhatsApp",children:[i.jsx(Kp,{className:"mr-1 text-green-500"}),V.countryCode||Pt(V,"leadId.countryCode","+91")," ",V.contactNumber||Pt(V,"leadId.phone")]})}),(V.email||Pt(V,"leadId.email"))&&i.jsx("div",{className:"flex items-center",children:i.jsxs("button",{onClick:()=>Qr(V.email||Pt(V,"leadId.email")),className:"text-sm text-gray-500 flex items-center hover:text-blue-600",title:"Send email",children:[i.jsx(yu,{className:"mr-1 text-blue-500"}),V.email||Pt(V,"leadId.email")]})}),h===V._id&&i.jsxs("div",{className:"mt-2 flex flex-col space-y-2",children:[i.jsx("input",{type:"text",placeholder:"Login ID (Optional)",value:g.loginId||"",onChange:Te=>st("loginId",Te.target.value),className:"w-full text-xs px-2 py-1 border border-gray-300 rounded"}),i.jsx("input",{type:"text",placeholder:"Password (Optional)",value:g.password||"",onChange:Te=>st("password",Te.target.value),className:"w-full text-xs px-2 py-1 border border-gray-300 rounded"})]}),h!==V._id&&(V.loginId||V.password)&&i.jsxs("div",{className:"mt-2 text-xs",children:[V.loginId&&i.jsxs("div",{children:["Login ID: ",V.loginId]}),V.password&&i.jsxs("div",{children:["Password: ",V.password]})]})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[h===V._id?i.jsxs("div",{children:[i.jsx("input",{type:"text",value:g.product||"",onChange:Te=>st("product",Te.target.value),className:"w-full px-2 border border-gray-300 rounded",placeholder:"Product or course name"}),V.leadPerson&&typeof V.leadPerson=="object"&&V.leadPerson.fullName&&i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Lead Person: ",V.leadPerson.fullName]})]}):i.jsx("div",{className:"text-sm text-gray-900",children:V.product||Pt(V,"course")||"N/A"}),!h===V._id&&V.leadPerson&&typeof V.leadPerson=="object"&&V.leadPerson.fullName&&i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Lead Person: ",V.leadPerson.fullName]})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h===V._id?i.jsx("div",{className:"flex flex-col space-y-2",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(g.currency)}),i.jsx("input",{id:"amount",type:"number",value:g.amount!==void 0?g.amount.toString():"0",onChange:Te=>st("amount",Te.target.value),className:"w-24 px-2 pl-7 border border-gray-300 rounded"})]}),i.jsx("select",{value:g.currency||"USD",onChange:Te=>st("currency",Te.target.value),className:"border border-gray-300 rounded p-1 text-xs",children:se.map(Te=>i.jsx("option",{value:Te.value,children:Te.label},Te.value))})]})}):i.jsx("div",{className:"text-sm font-medium text-gray-900",children:hn(V.amount||V.totalCost||0,V.currency||"USD")})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h===V._id?i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(g.currency)}),i.jsx("input",{id:"token",type:"number",value:g.token!==void 0?g.token.toString():"0",onChange:Te=>st("token",Te.target.value),className:"w-24 px-2 pl-7 border border-gray-300 rounded"})]}):i.jsx("div",{className:"text-sm font-medium text-gray-900",children:hn(V.token||V.tokenAmount||0,V.currency||"USD")})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h===V._id?i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(g.currency)}),i.jsx("input",{id:"pending",type:"number",value:g.pending!==void 0?g.pending.toString():"0",onChange:Te=>st("pending",Te.target.value),className:"w-24 px-2 pl-7 border border-gray-300 rounded",disabled:g.status==="Completed"})]}):i.jsx("div",{className:"text-sm font-medium text-gray-900",children:hn(V.status==="Completed"?0:V.pending!==void 0?V.pending:(V.amount||V.totalCost||0)-(V.token||V.tokenAmount||0),V.currency||"USD")})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h===V._id?i.jsx("select",{value:g.status||V.status,onChange:Te=>st("status",Te.target.value),className:`text-sm px-2 py-1 rounded cursor-pointer ${V.status==="Pending"?"bg-yellow-100 text-yellow-800":V.status==="Completed"?"bg-green-100 text-green-800":V.status==="Cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"} border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,disabled:!Ct(V),children:z.map(Te=>i.jsx("option",{value:Te,children:Te},Te))}):i.jsxs("div",{className:"relative",children:[i.jsx("select",{value:V.status||"Pending",onChange:Te=>vt(V._id,Te.target.value),className:`text-sm px-2 py-1 rounded cursor-pointer appearance-none w-auto pr-8 ${V.status==="Pending"?"bg-yellow-100 text-yellow-800":V.status==="Completed"?"bg-green-100 text-green-800":V.status==="Cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"} border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,disabled:!Ct(V),children:z.map(Te=>i.jsx("option",{value:Te,children:Te},Te))}),i.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:i.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})}),!Ct(V)&&i.jsx("div",{className:"absolute left-0 -bottom-5 w-full",children:i.jsx("div",{className:"text-xs text-gray-500 italic",children:(e==null?void 0:e.role)==="Sales Person"?"Can only update your own sales":"No edit permission"})}),h===V._id&&i.jsx("div",{className:"absolute top-1/2 right-8 transform -translate-y-1/2",children:i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 rounded-full border-t-transparent"})}),!Ct(V)&&h===V._id&&i.jsx("div",{className:"text-red-500 text-xs mt-1",children:Ps(V,e==null?void 0:e.role)})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h!==V._id&&i.jsx("div",{className:"flex justify-end",children:Se(V)?ee&&k===V._id?i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>Be(V._id),className:"text-red-600 hover:text-red-900 flex items-center",children:[i.jsx(qp,{className:"mr-1"})," Confirm"]}),i.jsxs("button",{onClick:()=>{ce(null),he(!1)},className:"text-gray-600 hover:text-gray-900 flex items-center",children:[i.jsx(vu,{className:"mr-1"})," Cancel"]})]}):i.jsxs("button",{onClick:()=>{ce(V._id),he(!0)},className:"text-red-600 hover:text-red-900 flex items-center",children:[i.jsx(Zg,{className:"mr-1"})," Delete"]}):i.jsxs("div",{className:"flex items-center text-gray-400 text-xs",children:[i.jsx("span",{className:"italic",children:"Not Deletable"}),i.jsx(Zn,{role:e==null?void 0:e.role})]})})})]},V._id),hn=(V,Te="USD")=>`${(se.find(Qe=>Qe.value===Te)||se[0]).symbol}${parseFloat(V||0).toFixed(2)}`,zr=(V="USD")=>(se.find(Ye=>Ye.value===V)||se[0]).symbol;return i.jsx(cr,{children:i.jsxs("div",{className:"container mx-auto p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-3xl font-bold",children:"Sales Tracking"}),i.jsx("button",{onClick:rt,className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md transition duration-300",children:"Add New Sale"})]}),d&&i.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 border border-red-200 rounded-md",children:d}),o?i.jsxs("div",{className:"text-center py-10",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading sales data..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors duration-300",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:"Filter Sales by Date"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-600 mb-1",children:"Month"}),i.jsx("select",{id:"month",value:H,onChange:Re,className:"border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:K,children:X.map(V=>i.jsx("option",{value:V.value,children:V.label},V.value))})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-600 mb-1",children:"Year"}),i.jsx("select",{id:"year",value:Z,onChange:Ue,className:"border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:K,children:U.map(V=>i.jsx("option",{value:V,children:V},V))})]}),i.jsxs("div",{className:"flex items-center ml-4",children:[i.jsx("input",{id:"currentMonth",type:"checkbox",checked:K,onChange:()=>{W(!K),K||oe(!1)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"currentMonth",className:"ml-2 block text-sm text-gray-700",children:"Show Current Month Only"})]}),((e==null?void 0:e.role)==="Manager"||(e==null?void 0:e.role)==="Admin")&&i.jsxs("div",{className:"flex items-center ml-4",children:[i.jsx("input",{id:"showAllSales",type:"checkbox",checked:Y,onChange:it,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"showAllSales",className:"ml-2 block text-sm text-gray-700 font-semibold text-blue-600",children:"Show All Sales (No Date Filter)"})]}),i.jsx("button",{onClick:ct,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-md ml-auto transition duration-300",children:"Reset to Current Month"})]}),i.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[Y?i.jsxs("p",{children:["Showing all sales regardless of date: ",r.length," total sales"]}):K?i.jsxs("p",{children:["Showing sales for current month: ",X[new Date().getMonth()].label," ",new Date().getFullYear()]}):i.jsxs("p",{children:["Showing sales for: ",X[H-1].label," ",Z]}),i.jsxs("p",{children:["Total: ",s.length," sales"]})]})]}),i.jsx("div",{className:"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors duration-300",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact/Login"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Token"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.length>0?s.map(V=>Mn(V)):i.jsx("tr",{children:i.jsx("td",{colSpan:"9",className:"px-6 py-4 text-center text-gray-500",children:"No sales found for the selected period. Try another date range or add a new sale."})})})]})})]}),w&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"bg-green-600 text-white p-4 flex justify-between items-center",children:[i.jsx("h3",{className:"text-xl font-bold",children:"Add New Sale"}),i.jsx("button",{onClick:()=>b(!1),className:"text-white hover:text-gray-200 text-2xl",children:""})]}),i.jsxs("form",{onSubmit:je,className:"p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx("div",{className:"col-span-2 mb-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Sale Type:"}),i.jsxs("div",{className:"flex border border-gray-300 rounded-md overflow-hidden",children:[i.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium ${v.isReference?"bg-gray-100 text-gray-700":"bg-blue-600 text-white"}`,onClick:()=>Ee(!1),children:"From Lead"}),i.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium ${v.isReference?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>Ee(!0),children:"From Reference"})]})]})}),!v.isReference&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx("label",{htmlFor:"leadId",className:"block text-sm font-medium text-gray-700",children:"Lead"}),i.jsxs("select",{id:"leadId",value:v.leadId,onChange:Ve,className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"Select a lead"}),E.map(V=>i.jsxs("option",{value:V._id,children:[V.name," - ",V.course]},V._id))]})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsxs("label",{htmlFor:"leadPerson",className:"block text-sm font-medium text-gray-700",children:["Lead Person",i.jsx("span",{className:"ml-1 text-xs text-blue-600 font-normal",children:"(Who should see this sale on their dashboard)"})]}),i.jsxs("select",{id:"leadPerson",value:v.leadPerson,onChange:V=>de("leadPerson",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"Select a lead person"}),P.map(V=>i.jsx("option",{value:V.value,children:V.label},V.value))]}),G&&i.jsx("div",{className:"mt-1 text-sm text-gray-500",children:"Loading lead persons..."}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The selected lead person will see this sale on their dashboard"})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"saleDate",className:"block text-sm font-medium text-gray-700",children:"Sale Date"}),i.jsx("input",{id:"saleDate",type:"date",value:v.saleDate?new Date(v.saleDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],onChange:V=>de("saleDate",new Date(V.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsxs("label",{htmlFor:"leadBy",className:"block text-sm font-medium text-gray-700",children:["Lead By (Optional)",i.jsxs("span",{className:"ml-1 inline-block relative group",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400 cursor-help",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 w-48 bg-gray-800 text-white text-xs rounded py-1 px-2 hidden group-hover:block",children:"Name of the person who led this sale (can be different from the Lead Person assigned in the system)"})]})]}),i.jsx("input",{id:"leadBy",type:"text",value:v.leadBy,onChange:V=>de("leadBy",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Who led this sale?"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-gray-700",children:"Product"}),i.jsx("input",{id:"product",type:"text",value:v.product,onChange:V=>de("product",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Product or course name"})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"loginId",className:"block text-sm font-medium text-gray-700",children:"Login ID (Optional)"}),i.jsx("input",{id:"loginId",type:"text",value:v.loginId,onChange:V=>de("loginId",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Customer login ID"})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password (Optional)"}),i.jsx("input",{id:"password",type:"text",value:v.password,onChange:V=>de("password",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Customer password"})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700",children:"Currency"}),i.jsx("select",{id:"currency",value:v.currency,onChange:V=>de("currency",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:se.map(V=>i.jsx("option",{value:V.value,children:V.label},V.value))})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Amount"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(v.currency)}),i.jsx("input",{id:"amount",type:"number",value:v.amount,onChange:V=>de("amount",V.target.value),className:"block w-full pl-7 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"token",className:"block text-sm font-medium text-gray-700",children:"Token"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(v.currency)}),i.jsx("input",{id:"token",type:"number",value:v.token,onChange:V=>de("token",V.target.value),className:"block w-full pl-7 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"pending",className:"block text-sm font-medium text-gray-700",children:"Pending"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(v.currency)}),i.jsx("input",{id:"pending",type:"number",value:v.pending,onChange:V=>de("pending",V.target.value),className:"block w-full pl-7 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",disabled:v.status==="Completed"})]})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),i.jsx("select",{id:"status",value:v.status,onChange:V=>de("status",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:z.map(V=>i.jsx("option",{value:V,children:V},V))})]})]}),v.isReference&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700",children:"Customer Name"}),i.jsx("input",{id:"customerName",type:"text",value:v.customerName,onChange:V=>de("customerName",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter customer name"})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"saleDate",className:"block text-sm font-medium text-gray-700",children:"Sale Date"}),i.jsx("input",{id:"saleDate",type:"date",value:v.saleDate?new Date(v.saleDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],onChange:V=>de("saleDate",new Date(V.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number"}),i.jsx(I8,{country:"us",value:v.contactNumber,onChange:(V,Te)=>{de("contactNumber",V),de("countryCode",`+${Te.dialCode}`)},inputProps:{id:"contactNumber",name:"contactNumber",required:!0},containerStyle:t.container,inputStyle:t.inputStyle,buttonStyle:t.buttonStyle,dropdownStyle:t.dropdownStyle,enableSearch:!0,searchPlaceholder:"Search country..."})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),i.jsx("input",{id:"email",type:"email",value:v.email,onChange:V=>de("email",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"customer@example.com"})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"Country"}),i.jsx("input",{id:"country",type:"text",value:v.country,onChange:V=>de("country",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter country"})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsxs("label",{htmlFor:"leadBy",className:"block text-sm font-medium text-gray-700",children:["Lead By (Optional)",i.jsxs("span",{className:"ml-1 inline-block relative group",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400 cursor-help",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 w-48 bg-gray-800 text-white text-xs rounded py-1 px-2 hidden group-hover:block",children:"Name of the person who led this sale (can be different from the Lead Person assigned in the system)"})]})]}),i.jsx("input",{id:"leadBy",type:"text",value:v.leadBy,onChange:V=>de("leadBy",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Who led this sale?"})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700",children:"Currency"}),i.jsx("select",{id:"currency",value:v.currency,onChange:V=>de("currency",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:se.map(V=>i.jsx("option",{value:V.value,children:V.label},V.value))})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-gray-700",children:"Product"}),i.jsx("input",{id:"product",type:"text",value:v.product,onChange:V=>de("product",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Product or course name"})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"loginId",className:"block text-sm font-medium text-gray-700",children:"Login ID (Optional)"}),i.jsx("input",{id:"loginId",type:"text",value:v.loginId,onChange:V=>de("loginId",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Customer login ID"})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password (Optional)"}),i.jsx("input",{id:"password",type:"text",value:v.password,onChange:V=>de("password",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Customer password"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("label",{htmlFor:"leadPerson",className:"block text-sm font-medium text-gray-700",children:"Lead Person"}),i.jsxs("select",{id:"leadPerson",value:v.leadPerson,onChange:V=>de("leadPerson",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"Select a lead person"}),P.map(V=>i.jsx("option",{value:V.value,children:V.label},V.value))]}),G&&i.jsx("div",{className:"mt-1 text-sm text-gray-500",children:"Loading lead persons..."})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Amount"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(v.currency)}),i.jsx("input",{id:"amount",type:"number",value:v.amount,onChange:V=>de("amount",V.target.value),className:"block w-full pl-7 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"token",className:"block text-sm font-medium text-gray-700",children:"Token"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(v.currency)}),i.jsx("input",{id:"token",type:"number",value:v.token,onChange:V=>de("token",V.target.value),className:"block w-full pl-7 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"pending",className:"block text-sm font-medium text-gray-700",children:"Pending"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:zr(v.currency)}),i.jsx("input",{id:"pending",type:"number",value:v.pending,onChange:V=>de("pending",V.target.value),className:"block w-full pl-7 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",disabled:v.status==="Completed"})]})]}),i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),i.jsx("select",{id:"status",value:v.status,onChange:V=>de("status",V.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:z.map(V=>i.jsx("option",{value:V,children:V},V))})]})]})]}),i.jsx("div",{className:"mt-6",children:i.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md",children:"Add Sale"})})]})]})})]})})},U8=()=>{const[t,e]=A.useState(!1),[r,n]=A.useState(null),[s,a]=A.useState([]),[o,c]=A.useState({}),[d,f]=A.useState({date:new Date().toISOString().split("T")[0],customerName:"",country:"",course:"",countryCode:"",contactNumber:"",email:"",pseudoId:"",leadPerson:"",source:"",clientRemark:"",feedback:"",totalCost:0,totalCostCurrency:"USD",tokenAmount:0,tokenAmountCurrency:"USD"}),{user:h}=Yt();A.useEffect(()=>{p(),g()},[]);const p=async()=>{try{const v=await mr.getUsers("Lead Person");v.data.success?a(v.data.data||[]):yr.error("Failed to load lead persons")}catch(v){console.error("Error loading lead persons:",v),yr.error("Failed to load lead persons")}},g=async()=>{try{const v=await nh.getRates();v.data.success&&c(v.data.rates||{})}catch(v){console.error("Error loading currency rates:",v)}},x=v=>{const{name:N,value:E}=v.target;f(j=>({...j,[N]:E}))},w=(v,N)=>{f(E=>({...E,[`${v}Currency`]:N}))},b=async v=>{var N,E,j,D;v.preventDefault(),e(!0),n(null);try{if(!d.leadPerson)throw new Error("Please select a Lead Person");if(!h)throw new Error("User information not available. Please log in again.");const T={date:d.date,customerName:d.customerName,country:d.country,course:d.course,countryCode:d.countryCode,contactNumber:d.contactNumber,email:d.email,pseudoId:d.pseudoId,totalCost:parseFloat(d.totalCost),totalCostCurrency:d.totalCostCurrency,tokenAmount:parseFloat(d.tokenAmount),tokenAmountCurrency:d.tokenAmountCurrency,source:d.source,clientRemark:d.clientRemark,feedback:d.feedback};(await Kr.createSaleWithLeadPerson(T,d.leadPerson)).data.success&&(yr.success("Sale created successfully! This sale will appear on the lead person's dashboard."),f({date:new Date().toISOString().split("T")[0],customerName:"",country:"",course:"",countryCode:"",contactNumber:"",email:"",pseudoId:"",leadPerson:"",source:"",clientRemark:"",feedback:"",totalCost:0,totalCostCurrency:"USD",tokenAmount:0,tokenAmountCurrency:"USD"}))}catch(T){console.error("Error creating sale:",T),n(((E=(N=T.response)==null?void 0:N.data)==null?void 0:E.message)||T.message||"Failed to create sale"),yr.error(((D=(j=T.response)==null?void 0:j.data)==null?void 0:D.message)||T.message||"Failed to create sale")}finally{e(!1)}};return i.jsx(cr,{children:i.jsxs("div",{className:"container mx-auto p-4",children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h1",{className:"text-2xl font-bold",children:"Create Sale for Lead Person"})}),r&&i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:r}),i.jsx("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:i.jsxs("form",{onSubmit:b,children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),i.jsx("input",{type:"date",name:"date",value:d.date,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name"}),i.jsx("input",{type:"text",name:"customerName",value:d.customerName,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),i.jsx("input",{type:"text",name:"country",value:d.country,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),i.jsx("input",{type:"text",name:"course",value:d.course,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country Code"}),i.jsx("input",{type:"text",name:"countryCode",value:d.countryCode,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"e.g. +1, +91"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),i.jsx("input",{type:"text",name:"contactNumber",value:d.contactNumber,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{type:"email",name:"email",value:d.email,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pseudo ID"}),i.jsx("input",{type:"text",name:"pseudoId",value:d.pseudoId,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Person"}),i.jsxs("select",{name:"leadPerson",value:d.leadPerson,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md",required:!0,children:[i.jsx("option",{value:"",children:"Select Lead Person"}),s.map(v=>i.jsx("option",{value:v._id,children:v.fullName},v._id))]}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The lead person will see this sale on their dashboard"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),i.jsx("input",{type:"text",name:"source",value:d.source,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Cost"}),i.jsxs("div",{className:"flex",children:[i.jsx("input",{type:"number",name:"totalCost",value:d.totalCost,onChange:x,className:"w-2/3 p-2 border border-gray-300 rounded-l-md",required:!0}),i.jsxs("select",{name:"totalCostCurrency",value:d.totalCostCurrency,onChange:v=>w("totalCost",v.target.value),className:"w-1/3 p-2 border border-gray-300 rounded-r-md",children:[i.jsx("option",{value:"USD",children:"USD"}),i.jsx("option",{value:"EUR",children:"EUR"}),i.jsx("option",{value:"GBP",children:"GBP"}),i.jsx("option",{value:"INR",children:"INR"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Token Amount"}),i.jsxs("div",{className:"flex",children:[i.jsx("input",{type:"number",name:"tokenAmount",value:d.tokenAmount,onChange:x,className:"w-2/3 p-2 border border-gray-300 rounded-l-md",required:!0}),i.jsxs("select",{name:"tokenAmountCurrency",value:d.tokenAmountCurrency,onChange:v=>w("tokenAmount",v.target.value),className:"w-1/3 p-2 border border-gray-300 rounded-r-md",children:[i.jsx("option",{value:"USD",children:"USD"}),i.jsx("option",{value:"EUR",children:"EUR"}),i.jsx("option",{value:"GBP",children:"GBP"}),i.jsx("option",{value:"INR",children:"INR"})]})]})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Remark"}),i.jsx("textarea",{name:"clientRemark",value:d.clientRemark,onChange:x,rows:"2",className:"w-full p-2 border border-gray-300 rounded-md"})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feedback"}),i.jsx("textarea",{name:"feedback",value:d.feedback,onChange:x,rows:"2",className:"w-full p-2 border border-gray-300 rounded-md"})]}),i.jsx("div",{className:"mt-6 flex justify-end",children:i.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300 flex items-center",children:t?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-white rounded-full border-t-transparent"}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(VS,{className:"mr-2"})," Create Sale for Lead Person"]})})})]})}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 p-4 rounded-md mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"How This Works"}),i.jsx("p",{className:"mb-2",children:"When you create a sale using this form and select a Lead Person, the sale will:"}),i.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[i.jsx("li",{children:"Be credited to you as the Sales Person"}),i.jsx("li",{children:"Appear on the Lead Person's dashboard"}),i.jsx("li",{children:"Allow the Lead Person to track your sales progress"}),i.jsx("li",{children:"Create transparency and collaboration between Sales and Lead teams"})]})]})]})})};var z8=Object.defineProperty,V8=(t,e,r)=>e in t?z8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hr=(t,e,r)=>V8(t,typeof e!="symbol"?e+"":e,r);const ih={x:0,y:0,width:0,height:0,unit:"px"},ll=(t,e,r)=>Math.min(Math.max(t,e),r),H8=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),A2=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function W8(t,e,r,n){const s=la(t,r,n);return t.width&&(s.height=s.width/e),t.height&&(s.width=s.height*e),s.y+s.height>n&&(s.height=n-s.y,s.width=s.height*e),s.x+s.width>r&&(s.width=r-s.x,s.height=s.width/e),t.unit==="%"?fi(s,r,n):s}function $8(t,e,r){const n=la(t,e,r);return n.x=(e-n.width)/2,n.y=(r-n.height)/2,t.unit==="%"?fi(n,e,r):n}function fi(t,e,r){return t.unit==="%"?{...ih,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/r*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/r*100:0}}function la(t,e,r){return t.unit?t.unit==="px"?{...ih,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*r/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*r/100:0}:{...ih,...t,unit:"px"}}function P2(t,e,r,n,s,a=0,o=0,c=n,d=s){const f={...t};let h=Math.min(a,n),p=Math.min(o,s),g=Math.min(c,n),x=Math.min(d,s);e&&(e>1?(h=o?o*e:h,p=h/e,g=c*e):(p=a?a/e:p,h=p*e,x=d/e)),f.y<0&&(f.height=Math.max(f.height+f.y,p),f.y=0),f.x<0&&(f.width=Math.max(f.width+f.x,h),f.x=0);const w=n-(f.x+f.width);w<0&&(f.x=Math.min(f.x,n-h),f.width+=w);const b=s-(f.y+f.height);if(b<0&&(f.y=Math.min(f.y,s-p),f.height+=b),f.width<h&&((r==="sw"||r=="nw")&&(f.x-=h-f.width),f.width=h),f.height<p&&((r==="nw"||r=="ne")&&(f.y-=p-f.height),f.height=p),f.width>g&&((r==="sw"||r=="nw")&&(f.x-=g-f.width),f.width=g),f.height>x&&((r==="nw"||r=="ne")&&(f.y-=x-f.height),f.height=x),e){const v=f.width/f.height;if(v<e){const N=Math.max(f.width/e,p);(r==="nw"||r=="ne")&&(f.y-=N-f.height),f.height=N}else if(v>e){const N=Math.max(f.height*e,h);(r==="sw"||r=="nw")&&(f.x-=N-f.width),f.width=N}}return f}function Y8(t,e,r,n){const s={...t};return e==="ArrowLeft"?n==="nw"?(s.x-=r,s.y-=r,s.width+=r,s.height+=r):n==="w"?(s.x-=r,s.width+=r):n==="sw"?(s.x-=r,s.width+=r,s.height+=r):n==="ne"?(s.y+=r,s.width-=r,s.height-=r):n==="e"?s.width-=r:n==="se"&&(s.width-=r,s.height-=r):e==="ArrowRight"&&(n==="nw"?(s.x+=r,s.y+=r,s.width-=r,s.height-=r):n==="w"?(s.x+=r,s.width-=r):n==="sw"?(s.x+=r,s.width-=r,s.height-=r):n==="ne"?(s.y-=r,s.width+=r,s.height+=r):n==="e"?s.width+=r:n==="se"&&(s.width+=r,s.height+=r)),e==="ArrowUp"?n==="nw"?(s.x-=r,s.y-=r,s.width+=r,s.height+=r):n==="n"?(s.y-=r,s.height+=r):n==="ne"?(s.y-=r,s.width+=r,s.height+=r):n==="sw"?(s.x+=r,s.width-=r,s.height-=r):n==="s"?s.height-=r:n==="se"&&(s.width-=r,s.height-=r):e==="ArrowDown"&&(n==="nw"?(s.x+=r,s.y+=r,s.width-=r,s.height-=r):n==="n"?(s.y+=r,s.height-=r):n==="ne"?(s.y+=r,s.width-=r,s.height-=r):n==="sw"?(s.x-=r,s.width+=r,s.height+=r):n==="s"?s.height+=r:n==="se"&&(s.width+=r,s.height+=r)),s}const cl={capture:!0,passive:!1};let K8=0;const ci=class Vs extends A.PureComponent{constructor(){super(...arguments),hr(this,"docMoveBound",!1),hr(this,"mouseDownOnCrop",!1),hr(this,"dragStarted",!1),hr(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),hr(this,"componentRef",A.createRef()),hr(this,"mediaRef",A.createRef()),hr(this,"resizeObserver"),hr(this,"initChangeCalled",!1),hr(this,"instanceId",`rc-${K8++}`),hr(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),hr(this,"onCropPointerDown",e=>{const{crop:r,disabled:n}=this.props,s=this.getBox();if(!r)return;const a=la(r,s.width,s.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const o=e.target.dataset.ord,c=!!o;let d=e.clientX,f=e.clientY,h=a.x,p=a.y;if(o){const g=e.clientX-s.x,x=e.clientY-s.y;let w=0,b=0;o==="ne"||o=="e"?(w=g-(a.x+a.width),b=x-a.y,h=a.x,p=a.y+a.height):o==="se"||o==="s"?(w=g-(a.x+a.width),b=x-(a.y+a.height),h=a.x,p=a.y):o==="sw"||o=="w"?(w=g-a.x,b=x-(a.y+a.height),h=a.x+a.width,p=a.y):(o==="nw"||o=="n")&&(w=g-a.x,b=x-a.y,h=a.x+a.width,p=a.y+a.height),d=h+s.x+w,f=p+s.y+b}this.evData={startClientX:d,startClientY:f,startCropX:h,startCropY:p,clientX:e.clientX,clientY:e.clientY,isResize:c,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),hr(this,"onComponentPointerDown",e=>{const{crop:r,disabled:n,locked:s,keepSelection:a,onChange:o}=this.props,c=this.getBox();if(n||s||a&&r)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const d=e.clientX-c.x,f=e.clientY-c.y,h={unit:"px",x:d,y:f,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:d,startCropY:f,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(la(h,c.width,c.height),fi(h,c.width,c.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),hr(this,"onDocPointerMove",e=>{const{crop:r,disabled:n,onChange:s,onDragStart:a}=this.props,o=this.getBox();if(n||!r||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,a&&a(e));const{evData:c}=this;c.clientX=e.clientX,c.clientY=e.clientY;let d;c.isResize?d=this.resizeCrop():d=this.dragCrop(),A2(r,d)||s(la(d,o.width,o.height),fi(d,o.width,o.height))}),hr(this,"onComponentKeyDown",e=>{const{crop:r,disabled:n,onChange:s,onComplete:a}=this.props;if(n)return;const o=e.key;let c=!1;if(!r)return;const d=this.getBox(),f=this.makePixelCrop(d),h=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Vs.nudgeStepLarge:e.shiftKey?Vs.nudgeStepMedium:Vs.nudgeStep;if(o==="ArrowLeft"?(f.x-=h,c=!0):o==="ArrowRight"?(f.x+=h,c=!0):o==="ArrowUp"?(f.y-=h,c=!0):o==="ArrowDown"&&(f.y+=h,c=!0),c){e.cancelable&&e.preventDefault(),f.x=ll(f.x,0,d.width-f.width),f.y=ll(f.y,0,d.height-f.height);const p=la(f,d.width,d.height),g=fi(f,d.width,d.height);s(p,g),a&&a(p,g)}}),hr(this,"onHandlerKeyDown",(e,r)=>{const{aspect:n=0,crop:s,disabled:a,minWidth:o=0,minHeight:c=0,maxWidth:d,maxHeight:f,onChange:h,onComplete:p}=this.props,g=this.getBox();if(a||!s)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const x=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Vs.nudgeStepLarge:e.shiftKey?Vs.nudgeStepMedium:Vs.nudgeStep,w=la(s,g.width,g.height),b=Y8(w,e.key,x,r),v=P2(b,n,r,g.width,g.height,o,c,d,f);if(!A2(s,v)){const N=fi(v,g.width,g.height);h(v,N),p&&p(v,N)}}),hr(this,"onDocPointerDone",e=>{const{crop:r,disabled:n,onComplete:s,onDragEnd:a}=this.props,o=this.getBox();this.unbindDocMove(),!(n||!r)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,a&&a(e),s&&s(la(r,o.width,o.height),fi(r,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),hr(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:r,y:n,width:s,height:a}=e.getBoundingClientRect();return{x:r,y:n,width:s,height:a}}componentDidUpdate(e){const{crop:r,onComplete:n}=this.props;if(n&&!e.crop&&r){const{width:s,height:a}=this.getBox();s&&a&&n(la(r,s,a),fi(r,s,a))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,cl),this.document.addEventListener("pointerup",this.onDocPointerDone,cl),this.document.addEventListener("pointercancel",this.onDocPointerDone,cl),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,cl),this.document.removeEventListener("pointerup",this.onDocPointerDone,cl),this.document.removeEventListener("pointercancel",this.onDocPointerDone,cl),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,r=this.getBox(),n=this.makePixelCrop(r),s=e.clientX-e.startClientX,a=e.clientY-e.startClientY;return n.x=ll(e.startCropX+s,0,r.width-n.width),n.y=ll(e.startCropY+a,0,r.height-n.height),n}getPointRegion(e,r,n,s){const{evData:a}=this,o=a.clientX-e.x,c=a.clientY-e.y;let d;s&&r?d=r==="nw"||r==="n"||r==="ne":d=c<a.startCropY;let f;return n&&r?f=r==="nw"||r==="w"||r==="sw":f=o<a.startCropX,f?d?"nw":"sw":d?"ne":"se"}resolveMinDimensions(e,r,n=0,s=0){const a=Math.min(n,e.width),o=Math.min(s,e.height);return!r||!a&&!o?[a,o]:r>1?a?[a,a/r]:[o*r,o]:o?[o*r,o]:[a,a/r]}resizeCrop(){const{evData:e}=this,{aspect:r=0,maxWidth:n,maxHeight:s}=this.props,a=this.getBox(),[o,c]=this.resolveMinDimensions(a,r,this.props.minWidth,this.props.minHeight);let d=this.makePixelCrop(a);const f=this.getPointRegion(a,e.ord,o,c),h=e.ord||f;let p=e.clientX-e.startClientX,g=e.clientY-e.startClientY;(o&&h==="nw"||h==="w"||h==="sw")&&(p=Math.min(p,-o)),(c&&h==="nw"||h==="n"||h==="ne")&&(g=Math.min(g,-c));const x={unit:"px",x:0,y:0,width:0,height:0};f==="ne"?(x.x=e.startCropX,x.width=p,r?(x.height=x.width/r,x.y=e.startCropY-x.height):(x.height=Math.abs(g),x.y=e.startCropY-x.height)):f==="se"?(x.x=e.startCropX,x.y=e.startCropY,x.width=p,r?x.height=x.width/r:x.height=g):f==="sw"?(x.x=e.startCropX+p,x.y=e.startCropY,x.width=Math.abs(p),r?x.height=x.width/r:x.height=g):f==="nw"&&(x.x=e.startCropX+p,x.width=Math.abs(p),r?(x.height=x.width/r,x.y=e.startCropY-x.height):(x.height=Math.abs(g),x.y=e.startCropY+g));const w=P2(x,r,f,a.width,a.height,o,c,n,s);return r||Vs.xyOrds.indexOf(h)>-1?d=w:Vs.xOrds.indexOf(h)>-1?(d.x=w.x,d.width=w.width):Vs.yOrds.indexOf(h)>-1&&(d.y=w.y,d.height=w.height),d.x=ll(d.x,0,a.width-d.width),d.y=ll(d.y,0,a.height-d.height),d}renderCropSelection(){const{ariaLabels:e=Vs.defaultProps.ariaLabels,disabled:r,locked:n,renderSelectionAddon:s,ruleOfThirds:a,crop:o}=this.props,c=this.getCropStyle();if(o)return dt.createElement("div",{style:c,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!r&&!n&&dt.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},dt.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),dt.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),dt.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),dt.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"nw"),role:"button"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"n"),role:"button"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"ne"),role:"button"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"e"),role:"button"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"se"),role:"button"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"s"),role:"button"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"sw"),role:"button"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"w"),role:"button"})),s&&dt.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:d=>d.stopPropagation()},s(this.state)),a&&dt.createElement(dt.Fragment,null,dt.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),dt.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const r={...ih,...this.props.crop||{}};return la(r,e.width,e.height)}render(){const{aspect:e,children:r,circularCrop:n,className:s,crop:a,disabled:o,locked:c,style:d,ruleOfThirds:f}=this.props,{cropIsActive:h,newCropIsBeingDrawn:p}=this.state,g=a?this.renderCropSelection():null,x=H8("ReactCrop",s,h&&"ReactCrop--active",o&&"ReactCrop--disabled",c&&"ReactCrop--locked",p&&"ReactCrop--new-crop",a&&e&&"ReactCrop--fixed-aspect",a&&n&&"ReactCrop--circular-crop",a&&f&&"ReactCrop--rule-of-thirds",!this.dragStarted&&a&&!a.width&&!a.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return dt.createElement("div",{ref:this.componentRef,className:x,style:d},dt.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},r),a?dt.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},dt.createElement("defs",null,dt.createElement("mask",{id:`hole-${this.instanceId}`},dt.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?dt.createElement("ellipse",{cx:`${a.x+a.width/2}${a.unit}`,cy:`${a.y+a.height/2}${a.unit}`,rx:`${a.width/2}${a.unit}`,ry:`${a.height/2}${a.unit}`,fill:"black"}):dt.createElement("rect",{x:`${a.x}${a.unit}`,y:`${a.y}${a.unit}`,width:`${a.width}${a.unit}`,height:`${a.height}${a.unit}`,fill:"black"}))),dt.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,g)}};hr(ci,"xOrds",["e","w"]),hr(ci,"yOrds",["n","s"]),hr(ci,"xyOrds",["nw","ne","se","sw"]),hr(ci,"nudgeStep",1),hr(ci,"nudgeStepMedium",10),hr(ci,"nudgeStepLarge",100),hr(ci,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let G8=ci;const q8=()=>{const{user:t,loading:e,setUser:r}=Yt(),[n,s]=A.useState(!1),[a,o]=A.useState(null),[c,d]=A.useState(null),[f,h]=A.useState(null),[p,g]=A.useState(),[x,w]=A.useState(null),[b,v]=A.useState(!1),N=A.useRef(null),E=A.useRef(null);if(e)return i.jsx("div",{className:"flex justify-center items-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(!t)return i.jsx(Ip,{to:"/login"});const j=H=>{const ie=new Date(H);return ie.toLocaleDateString()+" "+ie.toLocaleTimeString()},D=(H,ie,Z)=>$8(W8({unit:"%",width:90},Z,H,ie),H,ie),T=A.useCallback(H=>{const{width:ie,height:Z}=H.currentTarget;g(D(ie,Z,1))},[]),M=H=>{const ie=H.target.files[0];if(!ie)return;if(!ie.type.match("image.*")){o("Please select an image file");return}if(ie.size>5*1024*1024){o("Image size should be less than 5MB");return}o(null);const Z=new FileReader;Z.onloadend=()=>{h(Z.result),v(!0)},Z.readAsDataURL(ie)},C=(H,ie)=>{if(!ie||!H)return null;const Z=document.createElement("canvas"),O=H.naturalWidth/H.width,K=H.naturalHeight/H.height;return Z.width=ie.width,Z.height=ie.height,Z.getContext("2d").drawImage(H,ie.x*O,ie.y*K,ie.width*O,ie.height*K,0,0,ie.width,ie.height),Z.toDataURL("image/jpeg")},P=H=>{w(H)},I=()=>{if(!x||!E.current)return;const H=C(E.current,x);d(H),v(!1)},G=async()=>{if(c)try{s(!0),o(null),console.log("Attempting to upload profile picture to:","/api/auth/profile-picture");try{const ie=await It.get("/api/auth/profile-picture-test");console.log("Test endpoint response:",ie.data)}catch(ie){console.error("Test endpoint failed:",ie)}const H=await mr.updateProfilePicture(c);console.log("Profile picture update response:",H.data),H.data.success?(r({...t,profilePicture:c}),d(null),h(null)):o("Failed to update profile picture")}catch(H){console.error("Error uploading profile picture:",H),H.response?(console.error("Response data:",H.response.data),console.error("Response status:",H.response.status),console.error("Response headers:",H.response.headers),o(`Error ${H.response.status}: ${H.response.data.message||"Unknown error"}`)):H.request?(console.error("Request was made but no response received:",H.request),o("No response received from server. Check network connection.")):(console.error("Error setting up request:",H.message),o(`Error: ${H.message}`))}finally{s(!1)}},J=()=>{d(null),h(null),v(!1),o(null),g(void 0),w(null),N.current&&(N.current.value="")};return i.jsx(cr,{children:i.jsx("div",{className:"container mx-auto p-6",children:i.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"bg-blue-600 text-white p-4",children:i.jsx("h2",{className:"text-2xl font-bold",children:"User Profile"})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-8 text-center",children:[b&&f&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-lg font-medium mb-2",children:"Adjust Your Profile Picture"}),i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx(G8,{crop:p,onChange:(H,ie)=>g(ie),onComplete:P,aspect:1,circularCrop:!0,children:i.jsx("img",{ref:E,src:f,alt:"Crop Preview",onLoad:T,className:"max-w-full max-h-96"})}),i.jsxs("div",{className:"flex justify-center mt-4 space-x-3",children:[i.jsxs("button",{type:"button",onClick:I,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 flex items-center",children:[i.jsx($5,{className:"mr-2"})," Apply Crop"]}),i.jsx("button",{type:"button",onClick:J,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancel"})]})]})]}),!b&&i.jsxs("div",{className:"relative h-24 w-24 rounded-full mx-auto mb-4",children:[c?i.jsx("img",{src:c,alt:"Profile Preview",className:"h-24 w-24 rounded-full object-cover border-2 border-blue-300"}):t.profilePicture?i.jsx("img",{src:t.profilePicture,alt:t.fullName,className:"h-24 w-24 rounded-full object-cover"}):i.jsx("div",{className:"h-24 w-24 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx("span",{className:"text-3xl font-bold text-blue-600",children:t.fullName?t.fullName.charAt(0).toUpperCase():"U"})}),i.jsx("label",{htmlFor:"profile-upload",className:"absolute bottom-0 right-0 bg-blue-600 text-white rounded-full p-2 cursor-pointer hover:bg-blue-700 transition-colors",children:i.jsx(V5,{size:12})}),i.jsx("input",{type:"file",id:"profile-upload",className:"hidden",accept:"image/*",onChange:M,ref:N})]}),c&&!b&&i.jsxs("div",{className:"flex justify-center space-x-3 mb-4",children:[i.jsx("button",{onClick:G,disabled:n,className:`p-2 rounded-full ${n?"bg-gray-300":"bg-green-500 hover:bg-green-600"} text-white`,children:i.jsx(qp,{size:12})}),i.jsx("button",{onClick:J,disabled:n,className:"p-2 rounded-full bg-red-500 hover:bg-red-600 text-white",children:i.jsx(vu,{size:12})})]}),a&&i.jsx("div",{className:"text-red-500 text-sm mb-2",children:a}),i.jsx("h3",{className:"text-xl font-bold mt-2",children:t.fullName}),i.jsx("p",{className:"text-gray-600",children:t.email}),i.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold mt-2",children:t.role})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[i.jsx("h4",{className:"text-lg font-bold mb-2",children:"Account Details"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"User ID"}),i.jsx("p",{className:"font-medium",children:t._id})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Created"}),i.jsx("p",{className:"font-medium",children:j(t.createdAt)})]})]})]}),t.role==="Sales Person"&&i.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[i.jsx("h4",{className:"text-lg font-bold mb-2",children:"Sales Information"}),i.jsx("p",{className:"text-gray-600",children:"You have access to view and manage leads assigned to you."})]}),t.role==="Lead Person"&&i.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[i.jsx("h4",{className:"text-lg font-bold mb-2",children:"Lead Management"}),i.jsx("p",{className:"text-gray-600",children:"You have access to create leads and view leads assigned to you."})]}),(t.role==="Admin"||t.role==="Manager")&&i.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[i.jsx("h4",{className:"text-lg font-bold mb-2",children:"Administrative Access"}),i.jsx("p",{className:"text-gray-600",children:"You have access to all leads and administrative functions."})]})]})]})]})})})},X8=()=>{const{user:t}=Yt(),[e,r]=A.useState(""),[n,s]=A.useState(""),[a,o]=A.useState(!1);A.useEffect(()=>{const d=localStorage.getItem("token");r(d||"No token found")},[]);const c=async()=>{var d;o(!0);try{const f=await It.get("https://crm-backend-o36v.onrender.com/api/auth/debug",{headers:{Authorization:`Bearer ${e}`}});s(JSON.stringify(f.data,null,2))}catch(f){s(JSON.stringify(((d=f.response)==null?void 0:d.data)||f.message,null,2))}o(!1)};return i.jsx(cr,{children:i.jsxs("div",{className:"container mx-auto p-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Authentication Debug"}),i.jsxs("div",{className:"bg-white p-6 rounded shadow-md mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Current User"}),i.jsx("pre",{className:"bg-gray-100 p-4 rounded overflow-auto",children:JSON.stringify(t,null,2)||"Not logged in"})]}),i.jsxs("div",{className:"bg-white p-6 rounded shadow-md mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Stored Token"}),i.jsx("pre",{className:"bg-gray-100 p-4 rounded overflow-auto mb-4",children:e}),i.jsx("button",{onClick:c,disabled:a,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:a?"Testing...":"Test Token"})]}),n&&i.jsxs("div",{className:"bg-white p-6 rounded shadow-md",children:[i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Test Result"}),i.jsx("pre",{className:"bg-gray-100 p-4 rounded overflow-auto",children:n})]})]})})},J8=()=>{const{user:t}=Yt(),[e,r]=A.useState({totalLeads:0,totalSales:0,totalRevenue:0,totalUsers:0,recentLeads:[],recentSales:[],userCounts:{salesPerson:0,leadPerson:0,manager:0,admin:0},leadStages:{Introduction:0,Acknowledgement:0,Question:0,"Future Promise":0,Payment:0,Analysis:0}}),[n,s]=A.useState("Acknowledgement"),[a,o]=A.useState([]),[c,d]=A.useState(!0),[f,h]=A.useState(null);A.useEffect(()=>{p()},[]),A.useEffect(()=>{e.totalLeads>0&&g()},[n]);const p=async()=>{try{d(!0);const b=await Nn.getAll(),v=b.data.success?b.data.data:[];let N=0,E=[];try{N=await MS()}catch(G){console.error("Error getting direct sales count:",G)}try{const G=await Kr.getAll();G.data&&G.data.success&&(E=G.data.data)}catch(G){console.error("Error fetching sales data:",G)}const j=await mr.getUsers(),D=j.data.success?j.data.data:[],T=E.reduce((G,J)=>G+parseFloat(J.amount||J.totalCost||0),0),M=[...v].sort((G,J)=>new Date(J.createdAt)-new Date(G.createdAt)).slice(0,5),C=[...E].sort((G,J)=>new Date(J.createdAt)-new Date(G.createdAt)).slice(0,5),P={salesPerson:D.filter(G=>G.role==="Sales Person").length,leadPerson:D.filter(G=>G.role==="Lead Person").length,manager:D.filter(G=>G.role==="Manager").length,admin:D.filter(G=>G.role==="Admin").length},I={Introduction:v.filter(G=>G.status==="Introduction").length,Acknowledgement:v.filter(G=>G.status==="Acknowledgement").length,Question:v.filter(G=>G.status==="Question").length,"Future Promise":v.filter(G=>G.status==="Future Promise").length,Payment:v.filter(G=>G.status==="Payment").length,Analysis:v.filter(G=>G.status==="Analysis").length};r({totalLeads:v.length,totalSales:N||E.length,totalRevenue:T,totalUsers:D.length,recentLeads:M,recentSales:C,userCounts:P,leadStages:I}),g(v,n),h(null)}catch(b){console.error("Error fetching dashboard data:",b),h("Failed to load dashboard data. Please try again.")}finally{d(!1)}},g=async(b=null,v=n)=>{try{let N=b;if(!N){const j=await Nn.getAll();N=j.data.success?j.data.data:[]}const E=N.filter(j=>j.status===v);o(E)}catch(N){console.error("Error filtering leads by stage:",N),o([])}},x=b=>{s(b),g(null,b)},w=b=>new Date(b).toLocaleDateString();return i.jsx(cr,{children:i.jsxs("div",{className:"container mx-auto p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:(t==null?void 0:t.role)==="Lead Person"?"Lead Person Dashboard":"Admin Dashboard"}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Last updated: ",new Date().toLocaleString()]})]}),f&&i.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:f}),c?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Leads"}),i.jsx("p",{className:"text-3xl font-bold mt-1",children:e.totalLeads})]}),i.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),i.jsx("div",{className:"mt-4",children:i.jsx(wt,{to:"/leads",className:"text-sm text-blue-600 hover:underline",children:"View all leads"})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Sales"}),i.jsx("p",{className:"text-3xl font-bold mt-1",children:e.totalSales})]}),i.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})})]}),i.jsx("div",{className:"mt-4",children:i.jsx(wt,{to:"/sales-tracking",className:"text-sm text-blue-600 hover:underline",children:"View all sales"})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Revenue"}),i.jsx("p",{className:"text-3xl font-bold mt-1",children:Hs(e.totalRevenue)})]}),i.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),i.jsx("div",{className:"mt-4",children:i.jsx(wt,{to:"/admin/reports",className:"text-sm text-blue-600 hover:underline",children:"View reports"})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Team Members"}),i.jsx("p",{className:"text-3xl font-bold mt-1",children:e.totalUsers})]}),i.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]}),i.jsx("div",{className:"mt-4",children:i.jsx(wt,{to:"/admin/users",className:"text-sm text-blue-600 hover:underline",children:"Manage users"})})]})]}),(t==null?void 0:t.role)==="Admin"&&i.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h2",{className:"text-lg font-medium",children:"Team Overview"})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"border rounded-lg p-4 text-center",children:[i.jsx("h3",{className:"text-sm text-gray-500",children:"Sales Team"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:e.userCounts.salesPerson})]}),i.jsxs("div",{className:"border rounded-lg p-4 text-center",children:[i.jsx("h3",{className:"text-sm text-gray-500",children:"Lead Team"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:e.userCounts.leadPerson})]}),i.jsxs("div",{className:"border rounded-lg p-4 text-center",children:[i.jsx("h3",{className:"text-sm text-gray-500",children:"Managers"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:e.userCounts.manager})]}),i.jsxs("div",{className:"border rounded-lg p-4 text-center",children:[i.jsx("h3",{className:"text-sm text-gray-500",children:"Admins"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:e.userCounts.admin})]})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h2",{className:"text-lg font-medium",children:"Lead Stage Analytics"})}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:Object.entries(e.leadStages).map(([b,v])=>i.jsxs("div",{className:`border rounded-lg p-4 text-center cursor-pointer transition-all duration-200 ${n===b?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,onClick:()=>x(b),children:[i.jsx("h3",{className:`text-sm font-medium ${n===b?"text-blue-700":"text-gray-500"}`,children:b}),i.jsx("p",{className:`text-2xl font-bold mt-1 ${n===b?"text-blue-900":"text-gray-900"}`,children:v}),n===b&&i.jsx("div",{className:"mt-2",children:i.jsx("span",{className:"inline-block w-2 h-2 bg-blue-500 rounded-full"})})]},b))}),i.jsxs("div",{className:"border-t pt-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2 sm:mb-0",children:(t==null?void 0:t.role)==="Lead Person"?`My leads in "${n}" Stage`:`Leads in "${n}" Stage`}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("label",{htmlFor:"stage-select",className:"text-sm text-gray-600",children:"Select Stage:"}),i.jsxs("select",{id:"stage-select",value:n,onChange:b=>x(b.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"Introduction",children:"Introduction"}),i.jsx("option",{value:"Acknowledgement",children:"Acknowledgement"}),i.jsx("option",{value:"Question",children:"Question"}),i.jsx("option",{value:"Future Promise",children:"Future Promise"}),i.jsx("option",{value:"Payment",children:"Payment"}),i.jsx("option",{value:"Analysis",children:"Analysis"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:(t==null?void 0:t.role)==="Lead Person"?`My leads in ${n}:`:`Total leads in ${n}:`}),i.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[e.leadStages[n]," leads"]})]}),a.length>0?i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Country"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:a.slice(0,5).map(b=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:b.name}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:b.course}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:b.country}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:b.contactNumber}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:w(b.createdAt)})]},b._id))})]}),a.length>5&&i.jsx("div",{className:"mt-3 text-center",children:i.jsxs(wt,{to:`/leads?status=${n}`,className:"text-sm text-blue-600 hover:underline",children:["View all ",a.length," leads in ",n," stage"]})})]}):i.jsx("div",{className:"text-center py-4",children:i.jsxs("p",{className:"text-gray-500",children:["No leads found in ",n," stage"]})})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h2",{className:"text-lg font-medium",children:"Recent Leads"})}),i.jsxs("div",{className:"p-6",children:[e.recentLeads.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent leads found"}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),i.jsx("tbody",{children:e.recentLeads.map(b=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:b.name}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:b.course}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:w(b.createdAt)})]},b._id))})]})}),i.jsx("div",{className:"mt-4 text-right",children:i.jsx(wt,{to:"/leads",className:"text-sm text-blue-600 hover:underline",children:"View all leads"})})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h2",{className:"text-lg font-medium",children:"Recent Sales"})}),i.jsxs("div",{className:"p-6",children:[e.recentSales.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent sales found"}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),i.jsx("tbody",{children:e.recentSales.map(b=>{var v;return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:((v=b.leadId)==null?void 0:v.name)||"N/A"}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:b.product}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:Hs(b.amount)})]},b._id)})})]})}),i.jsx("div",{className:"mt-4 text-right",children:i.jsx(wt,{to:"/sales-tracking",className:"text-sm text-blue-600 hover:underline",children:"View all sales"})})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h2",{className:"text-lg font-medium",children:"Quick Actions"})}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:(t==null?void 0:t.role)==="Admin"?i.jsxs(i.Fragment,{children:[i.jsx(wt,{to:"/admin/users",className:"bg-blue-50 hover:bg-blue-100 transition p-4 rounded-lg text-center",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),i.jsx("span",{className:"text-gray-800 font-medium",children:"Manage Users"})]})}),i.jsx(wt,{to:"/admin/leads",className:"bg-green-50 hover:bg-green-100 transition p-4 rounded-lg text-center",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsx("span",{className:"text-gray-800 font-medium",children:"Manage Leads"})]})}),i.jsx(wt,{to:"/admin/reports",className:"bg-purple-50 hover:bg-purple-100 transition p-4 rounded-lg text-center",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-purple-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),i.jsx("span",{className:"text-gray-800 font-medium",children:"View Reports"})]})}),i.jsx(wt,{to:"/sales-tracking",className:"bg-yellow-50 hover:bg-yellow-100 transition p-4 rounded-lg text-center",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-yellow-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-gray-800 font-medium",children:"Sales Tracking"})]})})]}):i.jsxs(i.Fragment,{children:[i.jsx(wt,{to:"/leads",className:"bg-blue-50 hover:bg-blue-100 transition p-4 rounded-lg text-center",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),i.jsx("span",{className:"text-gray-800 font-medium",children:"Manage Leads"})]})}),i.jsx(wt,{to:"/admin/import",className:"bg-green-50 hover:bg-green-100 transition p-4 rounded-lg text-center",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),i.jsx("span",{className:"text-gray-800 font-medium",children:"Import Data"})]})}),i.jsx(wt,{to:"/lead-sales-sheet",className:"bg-purple-50 hover:bg-purple-100 transition p-4 rounded-lg text-center",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-purple-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),i.jsx("span",{className:"text-gray-800 font-medium",children:"Sales Sheet"})]})}),i.jsx(wt,{to:"/tasks",className:"bg-yellow-50 hover:bg-yellow-100 transition p-4 rounded-lg text-center",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-yellow-600 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),i.jsx("span",{className:"text-gray-800 font-medium",children:"Tasks"})]})})]})})})]})]})]})})},Q8=()=>{const{user:t}=Yt(),[e,r]=A.useState([]),[n,s]=A.useState(!0),[a,o]=A.useState(null),[c,d]=A.useState(""),[f,h]=A.useState(""),[p,g]=A.useState(!1),[x,w]=A.useState(!1),[b,v]=A.useState(null),[N,E]=A.useState(null),[j,D]=A.useState({fullName:"",email:"",password:"",role:"Sales Person"});A.useEffect(()=>{T()},[]);const T=async()=>{try{s(!0);const Z=await mr.getUsers();Z.data.success?r(Z.data.data):o("Failed to load users")}catch(Z){console.error("Error fetching users:",Z),o("Failed to load users. Please try again.")}finally{s(!1)}},M=Z=>{D({...j,[Z.target.name]:Z.target.value})},C=Z=>{E({...N,[Z.target.name]:Z.target.value})},P=async Z=>{var O,K;Z.preventDefault();try{if(j.password.length<6){o("Password must be at least 6 characters");return}const W=await mr.register(j);W.success?(D({fullName:"",email:"",password:"",role:"Sales Person"}),g(!1),T()):o(W.message||"Failed to create user")}catch(W){console.error("Error creating user:",W),o(((K=(O=W.response)==null?void 0:O.data)==null?void 0:K.message)||"Failed to create user")}},I=async Z=>{var O,K;Z.preventDefault();try{if(N.password&&N.password.length>0&&N.password.length<6){o("Password must be at least 6 characters");return}s(!0);const W=await mr.updateUser(N._id,N);W.data&&W.data.success?(w(!1),T(),o(null)):o(W.data&&W.data.message||"Failed to update user")}catch(W){console.error("Error updating user:",W),o(((K=(O=W.response)==null?void 0:O.data)==null?void 0:K.message)||"Failed to update user. Please check your connection and try again.")}finally{s(!1)}},G=async Z=>{var O,K;try{s(!0);const W=await mr.deleteUser(Z);W.data&&W.data.success?(T(),v(null),o(null)):o(W.data&&W.data.message||"Failed to delete user")}catch(W){console.error("Error deleting user:",W),o(((K=(O=W.response)==null?void 0:O.data)==null?void 0:K.message)||"Failed to delete user. Please check your connection and try again."),v(null)}finally{s(!1)}},J=Z=>{E({_id:Z._id,fullName:Z.fullName,email:Z.email,role:Z.role,password:""}),w(!0)},H=Z=>new Date(Z).toLocaleDateString(),ie=e.filter(Z=>{const O=Z.fullName.toLowerCase().includes(c.toLowerCase())||Z.email.toLowerCase().includes(c.toLowerCase()),K=f===""||Z.role===f;return O&&K});return i.jsxs(cr,{children:[i.jsxs("div",{className:"container mx-auto p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),i.jsx("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Add New User"})]}),a&&i.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:a}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Users"}),i.jsx("input",{type:"text",id:"search",placeholder:"Search by name or email",value:c,onChange:Z=>d(Z.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"roleFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Role"}),i.jsxs("select",{id:"roleFilter",value:f,onChange:Z=>h(Z.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"All Roles"}),i.jsx("option",{value:"Sales Person",children:"Sales Person"}),i.jsx("option",{value:"Lead Person",children:"Lead Person"}),i.jsx("option",{value:"Manager",children:"Manager"}),i.jsx("option",{value:"Admin",children:"Admin"})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{onClick:()=>{d(""),h("")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition",children:"Clear Filters"})})]})}),n?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:ie.length===0?i.jsx("div",{className:"p-6 text-center text-gray-500",children:"No users found. Try adjusting your filters."}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ie.map(Z=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 flex-shrink-0 bg-gray-200 rounded-full flex items-center justify-center text-gray-500",children:Z.fullName.charAt(0).toUpperCase()}),i.jsxs("div",{className:"ml-4",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Z.fullName}),i.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",Z._id]})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:Z.email})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${Z.role==="Admin"?"bg-purple-100 text-purple-800":Z.role==="Manager"?"bg-blue-100 text-blue-800":Z.role==="Lead Person"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Z.role})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:H(Z.createdAt)}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[Z._id!==t.id&&i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx("button",{onClick:()=>J(Z),className:"text-blue-600 hover:text-blue-900 px-2 py-1",children:"Edit"}),i.jsx("button",{onClick:()=>v(Z),className:"text-red-600 hover:text-red-900 px-2 py-1",children:"Delete"})]}),Z._id===t.id&&i.jsx("span",{className:"text-gray-500",children:"Current User"})]})]},Z._id))})]})})})]}),p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full",children:[i.jsxs("div",{className:"flex justify-between items-center bg-blue-600 text-white px-6 py-4 rounded-t-lg",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Add New User"}),i.jsx("button",{onClick:()=>g(!1),className:"text-white hover:text-gray-200 focus:outline-none",children:""})]}),i.jsxs("form",{onSubmit:P,className:"px-6 py-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",id:"fullName",name:"fullName",value:j.fullName,onChange:M,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{type:"email",id:"email",name:"email",value:j.email,onChange:M,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsx("input",{type:"password",id:"password",name:"password",value:j.password,onChange:M,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,minLength:6}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),i.jsxs("select",{id:"role",name:"role",value:j.role,onChange:M,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[i.jsx("option",{value:"Sales Person",children:"Sales Person"}),i.jsx("option",{value:"Lead Person",children:"Lead Person"}),i.jsx("option",{value:"Manager",children:"Manager"}),i.jsx("option",{value:"Admin",children:"Admin"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Note: Only admins can create admin users. New admin accounts will require approval."})]}),i.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[i.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Create User"})]})]})]})}),x&&N&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full",children:[i.jsxs("div",{className:"flex justify-between items-center bg-blue-600 text-white px-6 py-4 rounded-t-lg",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Edit User"}),i.jsx("button",{onClick:()=>w(!1),className:"text-white hover:text-gray-200 focus:outline-none",children:""})]}),i.jsxs("form",{onSubmit:I,className:"px-6 py-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"editFullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",id:"editFullName",name:"fullName",value:N.fullName,onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"editEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{type:"email",id:"editEmail",name:"email",value:N.email,onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"editPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsx("input",{type:"password",id:"editPassword",name:"password",value:N.password,onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Leave blank to keep current password",minLength:N.password?6:0}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to keep current password. New password must be at least 6 characters."})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"editRole",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),i.jsxs("select",{id:"editRole",name:"role",value:N.role,onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[i.jsx("option",{value:"Sales Person",children:"Sales Person"}),i.jsx("option",{value:"Lead Person",children:"Lead Person"}),i.jsx("option",{value:"Manager",children:"Manager"}),i.jsx("option",{value:"Admin",children:"Admin"})]})]}),i.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[i.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Update User"})]})]})]})}),b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Confirm Delete"}),i.jsxs("p",{className:"mb-4",children:["Are you sure you want to delete user ",i.jsx("span",{className:"font-semibold",children:b.fullName}),"? This action cannot be undone."]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx("button",{onClick:()=>v(null),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition",children:"Cancel"}),i.jsx("button",{onClick:()=>G(b._id),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:"Delete"})]})]})})]})},Z8=()=>{const{user:t}=Yt(),[e,r]=A.useState([]),[n,s]=A.useState([]),[a,o]=A.useState(!0),[c,d]=A.useState(null),[f,h]=A.useState({search:"",status:"",country:"",course:"",source:"",dateFrom:"",dateTo:"",assignedTo:"",leadPerson:""}),[p,g]=A.useState({countries:[],courses:[],sources:[],salesPersons:[],leadPersons:[]}),x=["New","Contacted","Qualified","Lost","Converted","Introduction","Acknowledgement","Question","Future Promise","Payment","Analysis"];A.useEffect(()=>{w(),b()},[]),A.useEffect(()=>{e.length>0&&(j(),v())},[e,f]);const w=async()=>{try{o(!0);const T=await Nn.getAll();T.data.success?(r(T.data.data),s(T.data.data),d(null)):d("Failed to load leads")}catch(T){console.error("Error fetching leads:",T),d("Failed to load leads. Please try again.")}finally{o(!1)}},b=async()=>{try{const T=await mr.getUsers("Sales Person"),M=await mr.getUsers("Lead Person");g(C=>({...C,salesPersons:T.data.data||[],leadPersons:M.data.data||[]}))}catch(T){console.error("Error fetching user options:",T)}},v=()=>{const T=[...new Set(e.map(P=>P.country).filter(Boolean))],M=[...new Set(e.map(P=>P.course).filter(Boolean))],C=[...new Set(e.map(P=>P.source).filter(Boolean))];g(P=>({...P,countries:T,courses:M,sources:C}))},N=T=>{const{name:M,value:C}=T.target;h(P=>({...P,[M]:C}))},E=()=>{h({search:"",status:"",country:"",course:"",source:"",dateFrom:"",dateTo:"",assignedTo:"",leadPerson:""})},j=()=>{let T=[...e];if(f.search){const M=f.search.toLowerCase();T=T.filter(C=>C.name&&C.name.toLowerCase().includes(M)||C.email&&C.email.toLowerCase().includes(M)||C.phone&&C.phone.includes(M)||C.pseudoId&&C.pseudoId.toLowerCase().includes(M))}if(f.status&&(T=T.filter(M=>M.status===f.status)),f.country&&(T=T.filter(M=>M.country===f.country)),f.course&&(T=T.filter(M=>M.course===f.course)),f.source&&(T=T.filter(M=>M.source===f.source)),f.dateFrom){const M=new Date(f.dateFrom);T=T.filter(C=>new Date(C.createdAt)>=M)}if(f.dateTo){const M=new Date(f.dateTo);M.setHours(23,59,59,999),T=T.filter(C=>new Date(C.createdAt)<=M)}f.assignedTo&&(T=T.filter(M=>M.assignedTo&&M.assignedTo._id===f.assignedTo)),f.leadPerson&&(T=T.filter(M=>M.leadPerson&&M.leadPerson._id===f.leadPerson)),s(T)},D=T=>new Date(T).toLocaleDateString();return i.jsx(cr,{children:i.jsxs("div",{className:"container mx-auto p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Admin Leads Management"}),i.jsx(wt,{to:"/leads",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Standard Leads View"})]}),c&&i.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:c}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-lg font-medium",children:"Advanced Filters"}),i.jsx("button",{onClick:E,className:"text-sm text-blue-600 hover:underline",children:"Reset Filters"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),i.jsx("input",{type:"text",id:"search",name:"search",placeholder:"Search name, email, phone...",value:f.search,onChange:N,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsxs("select",{id:"status",name:"status",value:f.status,onChange:N,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"All Statuses"}),x.map(T=>i.jsx("option",{value:T,children:T},T))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),i.jsxs("select",{id:"country",name:"country",value:f.country,onChange:N,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"All Countries"}),p.countries.map(T=>i.jsx("option",{value:T,children:T},T))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),i.jsxs("select",{id:"course",name:"course",value:f.course,onChange:N,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"All Courses"}),p.courses.map(T=>i.jsx("option",{value:T,children:T},T))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),i.jsxs("select",{id:"source",name:"source",value:f.source,onChange:N,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"All Sources"}),p.sources.map(T=>i.jsx("option",{value:T,children:T},T))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"dateFrom",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),i.jsx("input",{type:"date",id:"dateFrom",name:"dateFrom",value:f.dateFrom,onChange:N,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"dateTo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),i.jsx("input",{type:"date",id:"dateTo",name:"dateTo",value:f.dateTo,onChange:N,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"assignedTo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned To"}),i.jsxs("select",{id:"assignedTo",name:"assignedTo",value:f.assignedTo,onChange:N,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"All Sales Persons"}),p.salesPersons.map(T=>i.jsx("option",{value:T._id,children:T.fullName},T._id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"leadPerson",className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Person"}),i.jsxs("select",{id:"leadPerson",name:"leadPerson",value:f.leadPerson,onChange:N,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"All Lead Persons"}),p.leadPersons.map(T=>i.jsx("option",{value:T._id,children:T.fullName},T._id))]})]})]})]}),a?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center",children:[i.jsxs("h3",{className:"text-lg font-medium",children:[n.length," Leads Found"]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Showing filtered results from a total of ",e.length," leads"]})]}),n.length===0?i.jsx("div",{className:"p-6 text-center text-gray-500",children:"No leads found matching your filters. Try adjusting your criteria."}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Country"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead By"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(T=>{var M;return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[T.name,T.isRepeatCustomer&&i.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",title:`Repeat customer! Previous courses: ${((M=T.previousCourses)==null?void 0:M.join(", "))||"None"}`,children:"Repeat"})]}),i.jsx("div",{className:"text-sm text-gray-500",children:T.pseudoId})]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm text-gray-900",children:T.email}),i.jsxs("div",{className:"text-sm text-gray-500",children:[T.countryCode," ",T.phone]})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:T.course})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                            ${T.status==="Introduction"?"bg-blue-100 text-blue-800":T.status==="Acknowledgement"?"bg-yellow-100 text-yellow-800":T.status==="Question"?"bg-purple-100 text-purple-800":T.status==="Future Promise"?"bg-red-100 text-red-800":T.status==="Payment"?"bg-green-100 text-green-800":(T.status==="Analysis","bg-gray-100 text-gray-800")}
                          `,children:T.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.country}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.assignedTo?T.assignedTo.fullName:"N/A"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.leadPerson?T.leadPerson.fullName:"N/A"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D(T.createdAt)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsx(wt,{to:`/leads#${T._id}`,className:"text-blue-600 hover:text-blue-900 mr-3",children:"View"})})]},T._id)})})]})})]})]})})},eP=()=>{const{user:t}=Yt(),[e,r]=A.useState("leads"),[n,s]=A.useState(!1),[a,o]=A.useState(0),[c,d]=A.useState(null),[f,h]=A.useState(null),[p,g]=A.useState(null),[x,w]=A.useState(null);if((t==null?void 0:t.role)!=="Admin")return i.jsx(cr,{children:i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:"Access denied. Only administrators can access this page."})})});const b=M=>{const C=M.target.files[0];C&&C.type==="text/csv"?h(C):(lt.error("Please upload a valid CSV file"),M.target.value=null)},v=M=>{const C=M.target.files[0];C&&C.type==="text/csv"?g(C):(lt.error("Please upload a valid CSV file"),M.target.value=null)},N=M=>{const C=M.target.files[0];C&&C.type==="text/csv"?w(C):(lt.error("Please upload a valid CSV file"),M.target.value=null)},E=async M=>new Promise((C,P)=>{const I=new FileReader;I.onload=G=>{try{const H=G.target.result.split(`
`),ie=H[0].split(",").map(O=>O.trim()),Z=[];for(let O=1;O<H.length;O++){if(H[O].trim()==="")continue;const K=[];let W="",Y=!1;for(let se of H[O])se==='"'?Y=!Y:se===","&&!Y?(K.push(W),W=""):W+=se;K.push(W);const oe={};ie.forEach((se,X)=>{X<K.length&&(oe[se]=K[X].replace(/^"|"$/g,"").trim())}),Z.push(oe)}C(Z)}catch(J){P(J)}},I.onerror=G=>P(G),I.readAsText(M)}),j=async()=>{var M,C;if(!f){lt.error("Please select a CSV file to import");return}s(!0),o(10),d(null);try{const P=await E(f);if(o(50),P.length===0){lt.error("No data found in the CSV file"),s(!1),o(0);return}const I=await Nn.importLeads(P);o(100),d({total:P.length,imported:I.data.count,errors:P.length-I.data.count}),lt.success(`Successfully imported ${I.data.count} leads`)}catch(P){console.error("Import error:",P),lt.error(((C=(M=P.response)==null?void 0:M.data)==null?void 0:C.message)||"Failed to import leads")}finally{s(!1)}},D=async()=>{var M,C;if(!p){lt.error("Please select a CSV file to import");return}s(!0),o(10),d(null);try{const P=await E(p);if(o(50),P.length===0){lt.error("No data found in the CSV file"),s(!1),o(0);return}const I=await Kr.importSales(P);o(100),d({total:P.length,imported:I.data.count,errors:I.data.errorCount||0,errorDetails:I.data.errors}),lt.success(`Successfully imported ${I.data.count} sales`)}catch(P){console.error("Import error:",P),lt.error(((C=(M=P.response)==null?void 0:M.data)==null?void 0:C.message)||"Failed to import sales")}finally{s(!1)}},T=async()=>{var M,C;if(!x){lt.error("Please select a CSV file to import");return}s(!0),o(10),d(null);try{const P=await E(x);if(o(50),P.length===0){lt.error("No data found in the CSV file"),s(!1),o(0);return}const I=P.map(J=>({name:J.Name||J["Full Name"]||J["Your name"],email:J.Email||J["Email Address"]||J["Your email"],phone:J.Phone||J["Phone Number"]||J.Mobile,countryCode:J["Country Code"]||"+1",country:J.Country||"Unknown",course:J.Course||J.Program||J.Interest||"General Inquiry",source:"Google Forms",sourceLink:J["Form URL"]||"",remarks:J.Comments||J.Message||""})),G=await Nn.importLeads(I);o(100),d({total:I.length,imported:G.data.count,errors:I.length-G.data.count}),lt.success(`Successfully imported ${G.data.count} leads from Google Forms`)}catch(P){console.error("Import error:",P),lt.error(((C=(M=P.response)==null?void 0:M.data)==null?void 0:C.message)||"Failed to import Google Forms data")}finally{s(!1)}};return i.jsx(cr,{children:i.jsxs("div",{className:"container mx-auto p-6",children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h1",{className:"text-3xl font-bold",children:"Data Import"})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[i.jsx("div",{className:"border-b border-gray-200",children:i.jsxs("nav",{className:"flex -mb-px",children:[i.jsx("button",{onClick:()=>r("leads"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${e==="leads"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Import Leads"}),i.jsx("button",{onClick:()=>r("sales"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${e==="sales"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Import Sales"}),i.jsx("button",{onClick:()=>r("google-forms"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${e==="google-forms"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Import Google Forms"})]})}),i.jsxs("div",{className:"p-6",children:[e==="leads"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Leads from CSV"}),i.jsx("p",{className:"mb-4 text-gray-600",children:"Upload a CSV file exported from Google Sheets containing lead information. Make sure your file has headers for: Name, Email, Phone, Country, Course, and other lead properties. For dates, you can use either YYYY-MM-DD (e.g., 2025-04-15) or DD-MM-YYYY (e.g., 15-04-2025) format."}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload CSV File"}),i.jsx("input",{type:"file",accept:".csv",onChange:b,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:n}),f&&i.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Selected file: ",f.name]})]}),i.jsx("button",{onClick:j,disabled:n||!f,className:`px-4 py-2 rounded-md text-white ${n||!f?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition`,children:n?"Importing...":"Import Leads"})]}),e==="sales"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Sales from CSV"}),i.jsx("p",{className:"mb-4 text-gray-600",children:"Upload a CSV file exported from Google Sheets containing sales information. Make sure your file has headers for: Email or Phone (to identify the lead), Amount, Product, Status, and other sales properties."}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload CSV File"}),i.jsx("input",{type:"file",accept:".csv",onChange:v,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:n}),p&&i.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Selected file: ",p.name]})]}),i.jsx("button",{onClick:D,disabled:n||!p,className:`px-4 py-2 rounded-md text-white ${n||!p?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition`,children:n?"Importing...":"Import Sales"})]}),e==="google-forms"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Google Forms Responses"}),i.jsx("p",{className:"mb-4 text-gray-600",children:"Upload a CSV file exported from Google Forms containing lead information. The system will try to map common Google Forms fields to the appropriate lead properties. For dates, you can use either YYYY-MM-DD (e.g., 2025-04-15) or DD-MM-YYYY (e.g., 15-04-2025) format."}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload CSV File"}),i.jsx("input",{type:"file",accept:".csv",onChange:N,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:n}),x&&i.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Selected file: ",x.name]})]}),i.jsx("button",{onClick:T,disabled:n||!x,className:`px-4 py-2 rounded-md text-white ${n||!x?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition`,children:n?"Importing...":"Import Google Forms Data"})]}),n&&i.jsx("div",{className:"mt-6",children:i.jsxs("div",{className:"relative pt-1",children:[i.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[i.jsx("div",{children:i.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200",children:"Progress"})}),i.jsx("div",{className:"text-right",children:i.jsxs("span",{className:"text-xs font-semibold inline-block text-blue-600",children:[a,"%"]})})]}),i.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200",children:i.jsx("div",{style:{width:`${a}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 transition-all duration-500"})})]})}),c&&i.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Import Summary"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Records"}),i.jsx("p",{className:"text-xl font-bold",children:c.total})]}),i.jsxs("div",{className:"bg-green-50 p-3 rounded-md",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Successfully Imported"}),i.jsx("p",{className:"text-xl font-bold text-green-600",children:c.imported})]}),i.jsxs("div",{className:"bg-red-50 p-3 rounded-md",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Failed Records"}),i.jsx("p",{className:"text-xl font-bold text-red-600",children:c.errors})]})]}),c.errorDetails&&c.errorDetails.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-md font-medium mb-2",children:"Error Details"}),i.jsx("div",{className:"max-h-40 overflow-y-auto bg-white p-2 rounded border border-gray-300",children:i.jsxs("ul",{className:"text-sm text-gray-700",children:[c.errorDetails.slice(0,10).map((M,C)=>i.jsx("li",{className:"mb-1 pb-1 border-b border-gray-200",children:M.message},C)),c.errorDetails.length>10&&i.jsxs("li",{className:"text-gray-500 italic",children:["...and ",c.errorDetails.length-10," more errors"]})]})})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden p-6",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Instructions"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-md font-semibold mb-2",children:"Required Fields"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"font-medium text-blue-600",children:"Leads Sheet:"}),i.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-600",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Name"})," - Lead's full name"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Email"})," - Lead's email address"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Phone"})," - Lead's phone number"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"CountryCode"})," - Phone country code (e.g., +1, +91)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Country"})," - Lead's country"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Course"})," - Course/product of interest"]}),i.jsx("li",{children:"Optional: PseudoId, Company, Client, Status, Source, SourceLink, Remarks, Feedback"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"font-medium text-blue-600",children:"Sales Sheet:"}),i.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-600",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Email"})," or ",i.jsx("strong",{children:"Phone"})," - To identify the associated lead"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Amount"})," - Sale amount"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Product"})," - Product/service sold"]}),i.jsx("li",{children:"Optional: Token, Status (Pending/Closed), Notes"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-blue-600",children:"Google Forms:"}),i.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-600",children:[i.jsx("li",{children:"The system automatically maps common Google Forms field names"}),i.jsx("li",{children:"Ensure your form includes name, email, phone, and course interest fields"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-md font-semibold mb-2",children:"Export Instructions"}),i.jsxs("ol",{className:"list-decimal ml-5 text-sm text-gray-600",children:[i.jsx("li",{children:"Open your Google Sheet"}),i.jsxs("li",{children:["Go to ",i.jsx("strong",{children:"File"})," > ",i.jsx("strong",{children:"Download"})," > ",i.jsx("strong",{children:"Comma-separated values (.csv)"})]}),i.jsx("li",{children:"Save the file to your computer"}),i.jsx("li",{children:"Upload the CSV file using the form above"})]})]})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var oh={};oh.version="0.18.5";var h_=1252,tP=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],m_=function(t){tP.indexOf(t)!=-1&&(h_=t)};function rP(){m_(1252)}var wu=function(t){m_(t)};function nP(){wu(1200),rP()}var uf=function(e){return String.fromCharCode(e)},D2=function(e){return String.fromCharCode(e)},R2,gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Su(t){for(var e="",r=0,n=0,s=0,a=0,o=0,c=0,d=0,f=0;f<t.length;)r=t.charCodeAt(f++),a=r>>2,n=t.charCodeAt(f++),o=(r&3)<<4|n>>4,s=t.charCodeAt(f++),c=(n&15)<<2|s>>6,d=s&63,isNaN(n)?c=d=64:isNaN(s)&&(d=64),e+=gi.charAt(a)+gi.charAt(o)+gi.charAt(c)+gi.charAt(d);return e}function Oa(t){var e="",r=0,n=0,s=0,a=0,o=0,c=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)a=gi.indexOf(t.charAt(f++)),o=gi.indexOf(t.charAt(f++)),r=a<<2|o>>4,e+=String.fromCharCode(r),c=gi.indexOf(t.charAt(f++)),n=(o&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(n)),d=gi.indexOf(t.charAt(f++)),s=(c&3)<<6|d,d!==64&&(e+=String.fromCharCode(s));return e}var $t=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ua=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Co(t){return $t?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function F2(t){return $t?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ys=function(e){return $t?Ua(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Zh(t){if(typeof ArrayBuffer>"u")return Ys(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Gu(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function sP(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var on=$t?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ua(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),s=0;for(e=0,r=0;e<t.length;r+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function aP(t){for(var e=[],r=0,n=t.length+250,s=Co(t.length+255),a=0;a<t.length;++a){var o=t.charCodeAt(a);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=t.charCodeAt(++a)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|c>>6&15|(o&3)<<4,s[r++]=128|c&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>n&&(e.push(s.slice(0,r)),r=0,s=Co(65535),n=65530)}return e.push(s.slice(0,r)),on(e)}var eu=/\u0000/g,df=/[\u0001-\u0006]/g;function jl(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Ks(t,e){var r=""+t;return r.length>=e?r:Nr("0",e-r.length)+r}function ax(t,e){var r=""+t;return r.length>=e?r:Nr(" ",e-r.length)+r}function lh(t,e){var r=""+t;return r.length>=e?r:r+Nr(" ",e-r.length)}function iP(t,e){var r=""+Math.round(t);return r.length>=e?r:Nr("0",e-r.length)+r}function oP(t,e){var r=""+t;return r.length>=e?r:Nr("0",e-r.length)+r}var O2=Math.pow(2,32);function ul(t,e){if(t>O2||t<-O2)return iP(t,e);var r=Math.round(t);return oP(r,e)}function ch(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var M2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],rp=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function lP(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Cr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},L2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},cP={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function uh(t,e,r){for(var n=t<0?-1:1,s=t*n,a=0,o=1,c=0,d=1,f=0,h=0,p=Math.floor(s);f<e&&(p=Math.floor(s),c=p*o+a,h=p*f+d,!(s-p<5e-8));)s=1/(s-p),a=o,o=c,d=f,f=h;if(h>e&&(f>e?(h=d,c=a):(h=f,c=o)),!r)return[0,n*c,h];var g=Math.floor(n*c/h);return[g,n*c-g*h,h]}function ff(t,e,r){if(t>2958465||t<0)return null;var n=t|0,s=Math.floor(86400*(t-n)),a=0,o=[],c={D:n,T:s,u:86400*(t-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++n,++c.D)),n===60)o=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),o=[d.getFullYear(),d.getMonth()+1,d.getDate()],a=d.getDay(),n<60&&(a=(a+6)%7),r&&(a=gP(d,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=a,c}var p_=new Date(1899,11,31,0,0,0),uP=p_.getTime(),dP=new Date(1900,2,1,0,0,0);function g_(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=dP&&(r+=24*60*60*1e3),(r-(uP+(t.getTimezoneOffset()-p_.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function ix(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function fP(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function hP(t){var e=t<0?12:11,r=ix(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function mP(t){var e=ix(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function pP(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=hP(t):e===10?r=t.toFixed(10).substr(0,12):r=mP(t),ix(fP(r.toUpperCase()))}function lg(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):pP(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Ci(14,g_(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function gP(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function xP(t,e,r,n){var s="",a=0,o=0,c=r.y,d,f=0;switch(t){case 98:c=r.y+543;case 121:switch(e.length){case 1:case 2:d=c%100,f=2;break;default:d=c%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:d=r.m,f=e.length;break;case 3:return rp[r.m-1][1];case 5:return rp[r.m-1][0];default:return rp[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=r.d,f=e.length;break;case 3:return M2[r.q][0];default:return M2[r.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(r.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=r.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=r.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Ks(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,a=Math.round(o*(r.S+r.u)),a>=60*o&&(a=0),e==="s"?a===0?"0":""+a/o:(s=Ks(a,2+n),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:d=c,f=1;break}var h=f>0?Ks(d,f):"";return h}function xi(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var x_=/%/g;function yP(t,e,r){var n=e.replace(x_,""),s=e.length-n.length;return Aa(t,n,r*Math.pow(10,2*s))+Nr("%",s)}function vP(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Aa(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function y_(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+y_(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(e/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,h){return d+f+h.substr(0,(s+a)%s)+"."+h.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var v_=/# (\?+)( ?)\/( ?)(\d+)/;function bP(t,e,r){var n=parseInt(t[4],10),s=Math.round(e*n),a=Math.floor(s/n),o=s-a*n,c=n;return r+(a===0?"":""+a)+" "+(o===0?Nr(" ",t[1].length+1+t[4].length):ax(o,t[1].length)+t[2]+"/"+t[3]+Ks(c,t[4].length))}function wP(t,e,r){return r+(e===0?"":""+e)+Nr(" ",t[1].length+2+t[4].length)}var b_=/^#*0*\.([0#]+)/,w_=/\).*[0#]/,S_=/\(###\) ###\\?-####/;function Pn(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function I2(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function B2(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function SP(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function _P(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ss(t,e,r){if(t.charCodeAt(0)===40&&!e.match(w_)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ss("n",n,r):"("+Ss("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return vP(t,e,r);if(e.indexOf("%")!==-1)return yP(t,e,r);if(e.indexOf("E")!==-1)return y_(e,r);if(e.charCodeAt(0)===36)return"$"+Ss(t,e.substr(e.charAt(1)==" "?2:1),r);var s,a,o,c,d=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+ul(d,e.length);if(e.match(/^[#?]+$/))return s=ul(r,0),s==="0"&&(s=""),s.length>e.length?s:Pn(e.substr(0,e.length-s.length))+s;if(a=e.match(v_))return bP(a,d,f);if(e.match(/^#+0+$/))return f+ul(d,e.length-e.indexOf("0"));if(a=e.match(b_))return s=I2(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Pn(a[1])).replace(/\.$/,"."+Pn(a[1])).replace(/\.(\d*)$/,function(w,b){return"."+b+Nr("0",Pn(a[1]).length-b.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+I2(d,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+xi(ul(d,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ss(t,e,-r):xi(""+(Math.floor(r)+SP(r,a[1].length)))+"."+Ks(B2(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Ss(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=jl(Ss(t,e.replace(/[\\-]/g,""),r)),o=0,jl(jl(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(e.match(S_))return s=Ss(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),c=uh(d,Math.pow(10,o)-1,!1),s=""+f,h=Aa("n",a[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+a[2]+"/"+a[3],h=lh(c[2],o),h.length<a[4].length&&(h=Pn(a[4].substr(a[4].length-h.length))+h),s+=h,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),c=uh(d,Math.pow(10,o)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?ax(c[1],o)+a[2]+"/"+a[3]+lh(c[2],o):Nr(" ",2*o+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=ul(r,0),e.length<=s.length?s:Pn(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var p=e.indexOf(".")-o,g=e.length-s.length-p;return Pn(e.substr(0,p)+s+e.substr(e.length-g))}if(a=e.match(/^00,000\.([#0]*0)$/))return o=B2(r,a[1].length),r<0?"-"+Ss(t,e,-r):xi(_P(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Ks(0,3-w.length):"")+w})+"."+Ks(o,a[1].length);switch(e){case"###,##0.00":return Ss(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=xi(ul(d,0));return x!=="0"?f+x:"";case"###,###.00":return Ss(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ss(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function NP(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Aa(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function CP(t,e,r){var n=e.replace(x_,""),s=e.length-n.length;return Aa(t,n,r*Math.pow(10,2*s))+Nr("%",s)}function __(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+__(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(e/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,h){return d+f+h.substr(0,(s+a)%s)+"."+h.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function aa(t,e,r){if(t.charCodeAt(0)===40&&!e.match(w_)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?aa("n",n,r):"("+aa("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return NP(t,e,r);if(e.indexOf("%")!==-1)return CP(t,e,r);if(e.indexOf("E")!==-1)return __(e,r);if(e.charCodeAt(0)===36)return"$"+aa(t,e.substr(e.charAt(1)==" "?2:1),r);var s,a,o,c,d=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+Ks(d,e.length);if(e.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>e.length?s:Pn(e.substr(0,e.length-s.length))+s;if(a=e.match(v_))return wP(a,d,f);if(e.match(/^#+0+$/))return f+Ks(d,e.length-e.indexOf("0"));if(a=e.match(b_))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Pn(a[1])).replace(/\.$/,"."+Pn(a[1])),s=s.replace(/\.(\d*)$/,function(w,b){return"."+b+Nr("0",Pn(a[1]).length-b.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+xi(""+d);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+aa(t,e,-r):xi(""+r)+"."+Nr("0",a[1].length);if(a=e.match(/^#,#*,#0/))return aa(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=jl(aa(t,e.replace(/[\\-]/g,""),r)),o=0,jl(jl(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(e.match(S_))return s=aa(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),c=uh(d,Math.pow(10,o)-1,!1),s=""+f,h=Aa("n",a[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+a[2]+"/"+a[3],h=lh(c[2],o),h.length<a[4].length&&(h=Pn(a[4].substr(a[4].length-h.length))+h),s+=h,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),c=uh(d,Math.pow(10,o)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?ax(c[1],o)+a[2]+"/"+a[3]+lh(c[2],o):Nr(" ",2*o+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=""+r,e.length<=s.length?s:Pn(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var p=e.indexOf(".")-o,g=e.length-s.length-p;return Pn(e.substr(0,p)+s+e.substr(e.length-g))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+aa(t,e,-r):xi(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Ks(0,3-w.length):"")+w})+"."+Ks(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var x=xi(""+d);return x!=="0"?f+x:"";default:if(e.match(/\.[0#?]*$/))return aa(t,e.slice(0,e.lastIndexOf(".")),r)+Pn(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Aa(t,e,r){return(r|0)===r?aa(t,e,r):Ss(t,e,r)}function jP(t){for(var e=[],r=!1,n=0,s=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(s,n-s),s=n+1}if(e[e.length]=t.substr(s),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var N_=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function C_(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":ch(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(N_))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function TP(t,e,r,n){for(var s=[],a="",o=0,c="",d="t",f,h,p,g="H";o<t.length;)switch(c=t.charAt(o)){case"G":if(!ch(t,o))throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(p=t.charCodeAt(++o))!==34&&o<t.length;)a+=String.fromCharCode(p);s[s.length]={t:"t",v:a},++o;break;case"\\":var x=t.charAt(++o),w=x==="("||x===")"?x:"t";s[s.length]={t:w,v:x},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(f==null&&(f=ff(e,r,t.charAt(o+1)==="2"),f==null))return"";s[s.length]={t:"X",v:t.substr(o,2)},d=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=ff(e,r),f==null))return"";for(a=c;++o<t.length&&t.charAt(o).toLowerCase()===c;)a+=c;c==="m"&&d.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=g),s[s.length]={t:c,v:a},d=c;break;case"A":case"a":case"":var b={t:c,v:c};if(f==null&&(f=ff(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(f!=null&&(b.v=f.H>=12?"P":"A"),b.t="T",g="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(f!=null&&(b.v=f.H>=12?"PM":"AM"),b.t="T",o+=5,g="h"):t.substr(o,5).toUpperCase()==="/"?(f!=null&&(b.v=f.H>=12?"":""),b.t="T",o+=5,g="h"):(b.t="t",++o),f==null&&b.t==="T")return"";s[s.length]=b,d=c;break;case"[":for(a=c;t.charAt(o++)!=="]"&&o<t.length;)a+=t.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(N_)){if(f==null&&(f=ff(e,r),f==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},d=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",C_(t)||(s[s.length]={t:"t",v:a}));break;case".":if(f!=null){for(a=c;++o<t.length&&(c=t.charAt(o))==="0";)a+=c;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=c;++o<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(o))>-1;)a+=c;s[s.length]={t:"n",v:a};break;case"?":for(a=c;t.charAt(++o)===c;)a+=c;s[s.length]={t:c,v:a},d=c;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:n===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=c;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)a+=t.charAt(o);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:c,v:c},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"t",v:c},++o;break}var v=0,N=0,E;for(o=s.length-1,d="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=g,d="h",v<1&&(v=1);break;case"s":(E=s[o].v.match(/\.0+$/))&&(N=Math.max(N,E[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":d=s[o].t;break;case"m":d==="s"&&(s[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[o].v.match(/[Hh]/)&&(v=1),v<2&&s[o].v.match(/[Mm]/)&&(v=2),v<3&&s[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var j="",D;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=xP(s[o].t.charCodeAt(0),s[o].v,f,N),s[o].t="t";break;case"n":case"?":for(D=o+1;s[D]!=null&&((c=s[D].t)==="?"||c==="D"||(c===" "||c==="t")&&s[D+1]!=null&&(s[D+1].t==="?"||s[D+1].t==="t"&&s[D+1].v==="/")||s[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[D].v==="/"||s[D].v===" "&&s[D+1]!=null&&s[D+1].t=="?"));)s[o].v+=s[D].v,s[D]={v:"",t:";"},++D;j+=s[o].v,o=D-1;break;case"G":s[o].t="t",s[o].v=lg(e,r);break}var T="",M,C;if(j.length>0){j.charCodeAt(0)==40?(M=e<0&&j.charCodeAt(0)===45?-e:e,C=Aa("n",j,M)):(M=e<0&&n>1?-e:e,C=Aa("n",j,M),M<0&&s[0]&&s[0].t=="t"&&(C=C.substr(1),s[0].v="-"+s[0].v)),D=C.length-1;var P=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){P=o;break}var I=s.length;if(P===s.length&&C.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(D>=s[o].v.length-1?(D-=s[o].v.length,s[o].v=C.substr(D+1,s[o].v.length)):D<0?s[o].v="":(s[o].v=C.substr(0,D+1),D=-1),s[o].t="t",I=o);D>=0&&I<s.length&&(s[I].v=C.substr(0,D+1)+s[I].v)}else if(P!==s.length&&C.indexOf("E")===-1){for(D=C.indexOf(".")-1,o=P;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(h=s[o].v.indexOf(".")>-1&&o===P?s[o].v.indexOf(".")-1:s[o].v.length-1,T=s[o].v.substr(h+1);h>=0;--h)D>=0&&(s[o].v.charAt(h)==="0"||s[o].v.charAt(h)==="#")&&(T=C.charAt(D--)+T);s[o].v=T,s[o].t="t",I=o}for(D>=0&&I<s.length&&(s[I].v=C.substr(0,D+1)+s[I].v),D=C.indexOf(".")+1,o=P;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==P)){for(h=s[o].v.indexOf(".")>-1&&o===P?s[o].v.indexOf(".")+1:0,T=s[o].v.substr(0,h);h<s[o].v.length;++h)D<C.length&&(T+=C.charAt(D++));s[o].v=T,s[o].t="t",I=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(M=n>1&&e<0&&o>0&&s[o-1].v==="-"?-e:e,s[o].v=Aa(s[o].t,s[o].v,M),s[o].t="t");var G="";for(o=0;o!==s.length;++o)s[o]!=null&&(G+=s[o].v);return G}var U2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function z2(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function EP(t,e){var r=jP(t),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(U2),c=r[1].match(U2);return z2(e,o)?[n,r[0]]:z2(e,c)?[n,r[1]]:[n,r[o!=null&&c!=null?2:1]]}return[n,a]}function Ci(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Cr)[t],n==null&&(n=r.table&&r.table[L2[t]]||Cr[L2[t]]),n==null&&(n=cP[t]||"General");break}if(ch(n,0))return lg(e,r);e instanceof Date&&(e=g_(e,r.date1904));var s=EP(n,e);if(ch(s[1]))return lg(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return TP(s[1],e,r,s[0])}function j_(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Cr[r]==null){e<0&&(e=r);continue}if(Cr[r]==t){e=r;break}}e<0&&(e=391)}return Cr[e]=t,e}function e0(t){for(var e=0;e!=392;++e)t[e]!==void 0&&j_(t[e],e)}function t0(){Cr=lP()}var T_=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function kP(t){var e=typeof t=="number"?Cr[t]:t;return e=e.replace(T_,"(\\d+)"),new RegExp("^"+e+"$")}function AP(t,e,r){var n=-1,s=-1,a=-1,o=-1,c=-1,d=-1;(e.match(T_)||[]).forEach(function(p,g){var x=parseInt(r[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=x;break;case"d":a=x;break;case"h":o=x;break;case"s":d=x;break;case"m":o>=0?c=x:s=x;break}}),d>=0&&c==-1&&s>=0&&(c=s,s=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return o==-1&&c==-1&&d==-1?f:n==-1&&s==-1&&a==-1?h:f+"T"+h}var PP=function(){var t={};t.version="1.2.0";function e(){for(var C=0,P=new Array(256),I=0;I!=256;++I)C=I,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,P[I]=C;return typeof Int32Array<"u"?new Int32Array(P):P}var r=e();function n(C){var P=0,I=0,G=0,J=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(G=0;G!=256;++G)J[G]=C[G];for(G=0;G!=256;++G)for(I=C[G],P=256+G;P<4096;P+=256)I=J[P]=I>>>8^C[I&255];var H=[];for(G=1;G!=16;++G)H[G-1]=typeof Int32Array<"u"?J.subarray(G*256,G*256+256):J.slice(G*256,G*256+256);return H}var s=n(r),a=s[0],o=s[1],c=s[2],d=s[3],f=s[4],h=s[5],p=s[6],g=s[7],x=s[8],w=s[9],b=s[10],v=s[11],N=s[12],E=s[13],j=s[14];function D(C,P){for(var I=P^-1,G=0,J=C.length;G<J;)I=I>>>8^r[(I^C.charCodeAt(G++))&255];return~I}function T(C,P){for(var I=P^-1,G=C.length-15,J=0;J<G;)I=j[C[J++]^I&255]^E[C[J++]^I>>8&255]^N[C[J++]^I>>16&255]^v[C[J++]^I>>>24]^b[C[J++]]^w[C[J++]]^x[C[J++]]^g[C[J++]]^p[C[J++]]^h[C[J++]]^f[C[J++]]^d[C[J++]]^c[C[J++]]^o[C[J++]]^a[C[J++]]^r[C[J++]];for(G+=15;J<G;)I=I>>>8^r[(I^C[J++])&255];return~I}function M(C,P){for(var I=P^-1,G=0,J=C.length,H=0,ie=0;G<J;)H=C.charCodeAt(G++),H<128?I=I>>>8^r[(I^H)&255]:H<2048?(I=I>>>8^r[(I^(192|H>>6&31))&255],I=I>>>8^r[(I^(128|H&63))&255]):H>=55296&&H<57344?(H=(H&1023)+64,ie=C.charCodeAt(G++)&1023,I=I>>>8^r[(I^(240|H>>8&7))&255],I=I>>>8^r[(I^(128|H>>2&63))&255],I=I>>>8^r[(I^(128|ie>>6&15|(H&3)<<4))&255],I=I>>>8^r[(I^(128|ie&63))&255]):(I=I>>>8^r[(I^(224|H>>12&15))&255],I=I>>>8^r[(I^(128|H>>6&63))&255],I=I>>>8^r[(I^(128|H&63))&255]);return~I}return t.table=r,t.bstr=D,t.buf=T,t.str=M,t}(),tr=function(){var e={};e.version="1.2.1";function r(L,re){for(var q=L.split("/"),Q=re.split("/"),te=0,ne=0,xe=Math.min(q.length,Q.length);te<xe;++te){if(ne=q[te].length-Q[te].length)return ne;if(q[te]!=Q[te])return q[te]<Q[te]?-1:1}return q.length-Q.length}function n(L){if(L.charAt(L.length-1)=="/")return L.slice(0,-1).indexOf("/")===-1?L:n(L.slice(0,-1));var re=L.lastIndexOf("/");return re===-1?L:L.slice(0,re+1)}function s(L){if(L.charAt(L.length-1)=="/")return s(L.slice(0,-1));var re=L.lastIndexOf("/");return re===-1?L:L.slice(re+1)}function a(L,re){typeof re=="string"&&(re=new Date(re));var q=re.getHours();q=q<<6|re.getMinutes(),q=q<<5|re.getSeconds()>>>1,L.write_shift(2,q);var Q=re.getFullYear()-1980;Q=Q<<4|re.getMonth()+1,Q=Q<<5|re.getDate(),L.write_shift(2,Q)}function o(L){var re=L.read_shift(2)&65535,q=L.read_shift(2)&65535,Q=new Date,te=q&31;q>>>=5;var ne=q&15;q>>>=4,Q.setMilliseconds(0),Q.setFullYear(q+1980),Q.setMonth(ne-1),Q.setDate(te);var xe=re&31;re>>>=5;var Pe=re&63;return re>>>=6,Q.setHours(re),Q.setMinutes(Pe),Q.setSeconds(xe<<1),Q}function c(L){ls(L,0);for(var re={},q=0;L.l<=L.length-4;){var Q=L.read_shift(2),te=L.read_shift(2),ne=L.l+te,xe={};switch(Q){case 21589:q=L.read_shift(1),q&1&&(xe.mtime=L.read_shift(4)),te>5&&(q&2&&(xe.atime=L.read_shift(4)),q&4&&(xe.ctime=L.read_shift(4))),xe.mtime&&(xe.mt=new Date(xe.mtime*1e3));break}L.l=ne,re[Q]=xe}return re}var d;function f(){return d||(d={})}function h(L,re){if(L[0]==80&&L[1]==75)return zr(L,re);if((L[0]|32)==109&&(L[1]|32)==105)return Zr(L,re);if(L.length<512)throw new Error("CFB file size "+L.length+" < 512");var q=3,Q=512,te=0,ne=0,xe=0,Pe=0,ve=0,be=[],_e=L.slice(0,512);ls(_e,0);var B=p(_e);switch(q=B[0],q){case 3:Q=512;break;case 4:Q=4096;break;case 0:if(B[1]==0)return zr(L,re);default:throw new Error("Major Version: Expected 3 or 4 saw "+q)}Q!==512&&(_e=L.slice(0,Q),ls(_e,28));var le=L.slice(0,Q);g(_e,q);var pe=_e.read_shift(4,"i");if(q===3&&pe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+pe);_e.l+=4,xe=_e.read_shift(4,"i"),_e.l+=4,_e.chk("00100000","Mini Stream Cutoff Size: "),Pe=_e.read_shift(4,"i"),te=_e.read_shift(4,"i"),ve=_e.read_shift(4,"i"),ne=_e.read_shift(4,"i");for(var me=-1,Ne=0;Ne<109&&(me=_e.read_shift(4,"i"),!(me<0));++Ne)be[Ne]=me;var Ie=x(L,Q);v(ve,ne,Ie,Q,be);var et=E(Ie,xe,be,Q);et[xe].name="!Directory",te>0&&Pe!==ie&&(et[Pe].name="!MiniFAT"),et[be[0]].name="!FAT",et.fat_addrs=be,et.ssz=Q;var gt={},_t=[],Rt=[],Et=[];j(xe,et,Ie,_t,te,gt,Rt,Pe),w(Rt,Et,_t),_t.shift();var pr={FileIndex:Rt,FullPaths:Et};return re&&re.raw&&(pr.raw={header:le,sectors:Ie}),pr}function p(L){if(L[L.l]==80&&L[L.l+1]==75)return[0,0];L.chk(Z,"Header Signature: "),L.l+=16;var re=L.read_shift(2,"u");return[L.read_shift(2,"u"),re]}function g(L,re){var q=9;switch(L.l+=2,q=L.read_shift(2)){case 9:if(re!=3)throw new Error("Sector Shift: Expected 9 saw "+q);break;case 12:if(re!=4)throw new Error("Sector Shift: Expected 12 saw "+q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+q)}L.chk("0600","Mini Sector Shift: "),L.chk("000000000000","Reserved: ")}function x(L,re){for(var q=Math.ceil(L.length/re)-1,Q=[],te=1;te<q;++te)Q[te-1]=L.slice(te*re,(te+1)*re);return Q[q-1]=L.slice(q*re),Q}function w(L,re,q){for(var Q=0,te=0,ne=0,xe=0,Pe=0,ve=q.length,be=[],_e=[];Q<ve;++Q)be[Q]=_e[Q]=Q,re[Q]=q[Q];for(;Pe<_e.length;++Pe)Q=_e[Pe],te=L[Q].L,ne=L[Q].R,xe=L[Q].C,be[Q]===Q&&(te!==-1&&be[te]!==te&&(be[Q]=be[te]),ne!==-1&&be[ne]!==ne&&(be[Q]=be[ne])),xe!==-1&&(be[xe]=Q),te!==-1&&Q!=be[Q]&&(be[te]=be[Q],_e.lastIndexOf(te)<Pe&&_e.push(te)),ne!==-1&&Q!=be[Q]&&(be[ne]=be[Q],_e.lastIndexOf(ne)<Pe&&_e.push(ne));for(Q=1;Q<ve;++Q)be[Q]===Q&&(ne!==-1&&be[ne]!==ne?be[Q]=be[ne]:te!==-1&&be[te]!==te&&(be[Q]=be[te]));for(Q=1;Q<ve;++Q)if(L[Q].type!==0){if(Pe=Q,Pe!=be[Pe])do Pe=be[Pe],re[Q]=re[Pe]+"/"+re[Q];while(Pe!==0&&be[Pe]!==-1&&Pe!=be[Pe]);be[Q]=-1}for(re[0]+="/",Q=1;Q<ve;++Q)L[Q].type!==2&&(re[Q]+="/")}function b(L,re,q){for(var Q=L.start,te=L.size,ne=[],xe=Q;q&&te>0&&xe>=0;)ne.push(re.slice(xe*H,xe*H+H)),te-=H,xe=co(q,xe*4);return ne.length===0?De(0):on(ne).slice(0,L.size)}function v(L,re,q,Q,te){var ne=ie;if(L===ie){if(re!==0)throw new Error("DIFAT chain shorter than expected")}else if(L!==-1){var xe=q[L],Pe=(Q>>>2)-1;if(!xe)return;for(var ve=0;ve<Pe&&(ne=co(xe,ve*4))!==ie;++ve)te.push(ne);v(co(xe,Q-4),re-1,q,Q,te)}}function N(L,re,q,Q,te){var ne=[],xe=[];te||(te=[]);var Pe=Q-1,ve=0,be=0;for(ve=re;ve>=0;){te[ve]=!0,ne[ne.length]=ve,xe.push(L[ve]);var _e=q[Math.floor(ve*4/Q)];if(be=ve*4&Pe,Q<4+be)throw new Error("FAT boundary crossed: "+ve+" 4 "+Q);if(!L[_e])break;ve=co(L[_e],be)}return{nodes:ne,data:q2([xe])}}function E(L,re,q,Q){var te=L.length,ne=[],xe=[],Pe=[],ve=[],be=Q-1,_e=0,B=0,le=0,pe=0;for(_e=0;_e<te;++_e)if(Pe=[],le=_e+re,le>=te&&(le-=te),!xe[le]){ve=[];var me=[];for(B=le;B>=0;){me[B]=!0,xe[B]=!0,Pe[Pe.length]=B,ve.push(L[B]);var Ne=q[Math.floor(B*4/Q)];if(pe=B*4&be,Q<4+pe)throw new Error("FAT boundary crossed: "+B+" 4 "+Q);if(!L[Ne]||(B=co(L[Ne],pe),me[B]))break}ne[le]={nodes:Pe,data:q2([ve])}}return ne}function j(L,re,q,Q,te,ne,xe,Pe){for(var ve=0,be=Q.length?2:0,_e=re[L].data,B=0,le=0,pe;B<_e.length;B+=128){var me=_e.slice(B,B+128);ls(me,64),le=me.read_shift(2),pe=dx(me,0,le-be),Q.push(pe);var Ne={name:pe,type:me.read_shift(1),color:me.read_shift(1),L:me.read_shift(4,"i"),R:me.read_shift(4,"i"),C:me.read_shift(4,"i"),clsid:me.read_shift(16),state:me.read_shift(4,"i"),start:0,size:0},Ie=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);Ie!==0&&(Ne.ct=D(me,me.l-8));var et=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);et!==0&&(Ne.mt=D(me,me.l-8)),Ne.start=me.read_shift(4,"i"),Ne.size=me.read_shift(4,"i"),Ne.size<0&&Ne.start<0&&(Ne.size=Ne.type=0,Ne.start=ie,Ne.name=""),Ne.type===5?(ve=Ne.start,te>0&&ve!==ie&&(re[ve].name="!StreamData")):Ne.size>=4096?(Ne.storage="fat",re[Ne.start]===void 0&&(re[Ne.start]=N(q,Ne.start,re.fat_addrs,re.ssz)),re[Ne.start].name=Ne.name,Ne.content=re[Ne.start].data.slice(0,Ne.size)):(Ne.storage="minifat",Ne.size<0?Ne.size=0:ve!==ie&&Ne.start!==ie&&re[ve]&&(Ne.content=b(Ne,re[ve].data,(re[Pe]||{}).data))),Ne.content&&ls(Ne.content,0),ne[pe]=Ne,xe.push(Ne)}}function D(L,re){return new Date((us(L,re+4)/1e7*Math.pow(2,32)+us(L,re)/1e7-11644473600)*1e3)}function T(L,re){return f(),h(d.readFileSync(L),re)}function M(L,re){var q=re&&re.type;switch(q||$t&&Buffer.isBuffer(L)&&(q="buffer"),q||"base64"){case"file":return T(L,re);case"base64":return h(Ys(Oa(L)),re);case"binary":return h(Ys(L),re)}return h(L,re)}function C(L,re){var q=re||{},Q=q.root||"Root Entry";if(L.FullPaths||(L.FullPaths=[]),L.FileIndex||(L.FileIndex=[]),L.FullPaths.length!==L.FileIndex.length)throw new Error("inconsistent CFB structure");L.FullPaths.length===0&&(L.FullPaths[0]=Q+"/",L.FileIndex[0]={name:Q,type:5}),q.CLSID&&(L.FileIndex[0].clsid=q.CLSID),P(L)}function P(L){var re="Sh33tJ5";if(!tr.find(L,"/"+re)){var q=De(4);q[0]=55,q[1]=q[3]=50,q[2]=54,L.FileIndex.push({name:re,type:2,content:q,size:4,L:69,R:69,C:69}),L.FullPaths.push(L.FullPaths[0]+re),I(L)}}function I(L,re){C(L);for(var q=!1,Q=!1,te=L.FullPaths.length-1;te>=0;--te){var ne=L.FileIndex[te];switch(ne.type){case 0:Q?q=!0:(L.FileIndex.pop(),L.FullPaths.pop());break;case 1:case 2:case 5:Q=!0,isNaN(ne.R*ne.L*ne.C)&&(q=!0),ne.R>-1&&ne.L>-1&&ne.R==ne.L&&(q=!0);break;default:q=!0;break}}if(!(!q&&!re)){var xe=new Date(1987,1,19),Pe=0,ve=Object.create?Object.create(null):{},be=[];for(te=0;te<L.FullPaths.length;++te)ve[L.FullPaths[te]]=!0,L.FileIndex[te].type!==0&&be.push([L.FullPaths[te],L.FileIndex[te]]);for(te=0;te<be.length;++te){var _e=n(be[te][0]);Q=ve[_e],Q||(be.push([_e,{name:s(_e).replace("/",""),type:1,clsid:K,ct:xe,mt:xe,content:null}]),ve[_e]=!0)}for(be.sort(function(pe,me){return r(pe[0],me[0])}),L.FullPaths=[],L.FileIndex=[],te=0;te<be.length;++te)L.FullPaths[te]=be[te][0],L.FileIndex[te]=be[te][1];for(te=0;te<be.length;++te){var B=L.FileIndex[te],le=L.FullPaths[te];if(B.name=s(le).replace("/",""),B.L=B.R=B.C=-(B.color=1),B.size=B.content?B.content.length:0,B.start=0,B.clsid=B.clsid||K,te===0)B.C=be.length>1?1:-1,B.size=0,B.type=5;else if(le.slice(-1)=="/"){for(Pe=te+1;Pe<be.length&&n(L.FullPaths[Pe])!=le;++Pe);for(B.C=Pe>=be.length?-1:Pe,Pe=te+1;Pe<be.length&&n(L.FullPaths[Pe])!=n(le);++Pe);B.R=Pe>=be.length?-1:Pe,B.type=1}else n(L.FullPaths[te+1]||"")==n(le)&&(B.R=te+1),B.type=2}}}function G(L,re){var q=re||{};if(q.fileType=="mad")return Vr(L,q);switch(I(L),q.fileType){case"zip":return Te(L,q)}var Q=function(pe){for(var me=0,Ne=0,Ie=0;Ie<pe.FileIndex.length;++Ie){var et=pe.FileIndex[Ie];if(et.content){var gt=et.content.length;gt>0&&(gt<4096?me+=gt+63>>6:Ne+=gt+511>>9)}}for(var _t=pe.FullPaths.length+3>>2,Rt=me+7>>3,Et=me+127>>7,pr=Rt+Ne+_t+Et,Ft=pr+127>>7,ar=Ft<=109?0:Math.ceil((Ft-109)/127);pr+Ft+ar+127>>7>Ft;)ar=++Ft<=109?0:Math.ceil((Ft-109)/127);var kt=[1,ar,Ft,Et,_t,Ne,me,0];return pe.FileIndex[0].size=me<<6,kt[7]=(pe.FileIndex[0].start=kt[0]+kt[1]+kt[2]+kt[3]+kt[4]+kt[5])+(kt[6]+7>>3),kt}(L),te=De(Q[7]<<9),ne=0,xe=0;{for(ne=0;ne<8;++ne)te.write_shift(1,O[ne]);for(ne=0;ne<8;++ne)te.write_shift(2,0);for(te.write_shift(2,62),te.write_shift(2,3),te.write_shift(2,65534),te.write_shift(2,9),te.write_shift(2,6),ne=0;ne<3;++ne)te.write_shift(2,0);for(te.write_shift(4,0),te.write_shift(4,Q[2]),te.write_shift(4,Q[0]+Q[1]+Q[2]+Q[3]-1),te.write_shift(4,0),te.write_shift(4,4096),te.write_shift(4,Q[3]?Q[0]+Q[1]+Q[2]-1:ie),te.write_shift(4,Q[3]),te.write_shift(-4,Q[1]?Q[0]-1:ie),te.write_shift(4,Q[1]),ne=0;ne<109;++ne)te.write_shift(-4,ne<Q[2]?Q[1]+ne:-1)}if(Q[1])for(xe=0;xe<Q[1];++xe){for(;ne<236+xe*127;++ne)te.write_shift(-4,ne<Q[2]?Q[1]+ne:-1);te.write_shift(-4,xe===Q[1]-1?ie:xe+1)}var Pe=function(pe){for(xe+=pe;ne<xe-1;++ne)te.write_shift(-4,ne+1);pe&&(++ne,te.write_shift(-4,ie))};for(xe=ne=0,xe+=Q[1];ne<xe;++ne)te.write_shift(-4,W.DIFSECT);for(xe+=Q[2];ne<xe;++ne)te.write_shift(-4,W.FATSECT);Pe(Q[3]),Pe(Q[4]);for(var ve=0,be=0,_e=L.FileIndex[0];ve<L.FileIndex.length;++ve)_e=L.FileIndex[ve],_e.content&&(be=_e.content.length,!(be<4096)&&(_e.start=xe,Pe(be+511>>9)));for(Pe(Q[6]+7>>3);te.l&511;)te.write_shift(-4,W.ENDOFCHAIN);for(xe=ne=0,ve=0;ve<L.FileIndex.length;++ve)_e=L.FileIndex[ve],_e.content&&(be=_e.content.length,!(!be||be>=4096)&&(_e.start=xe,Pe(be+63>>6)));for(;te.l&511;)te.write_shift(-4,W.ENDOFCHAIN);for(ne=0;ne<Q[4]<<2;++ne){var B=L.FullPaths[ne];if(!B||B.length===0){for(ve=0;ve<17;++ve)te.write_shift(4,0);for(ve=0;ve<3;++ve)te.write_shift(4,-1);for(ve=0;ve<12;++ve)te.write_shift(4,0);continue}_e=L.FileIndex[ne],ne===0&&(_e.start=_e.size?_e.start-1:ie);var le=ne===0&&q.root||_e.name;if(be=2*(le.length+1),te.write_shift(64,le,"utf16le"),te.write_shift(2,be),te.write_shift(1,_e.type),te.write_shift(1,_e.color),te.write_shift(-4,_e.L),te.write_shift(-4,_e.R),te.write_shift(-4,_e.C),_e.clsid)te.write_shift(16,_e.clsid,"hex");else for(ve=0;ve<4;++ve)te.write_shift(4,0);te.write_shift(4,_e.state||0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,_e.start),te.write_shift(4,_e.size),te.write_shift(4,0)}for(ne=1;ne<L.FileIndex.length;++ne)if(_e=L.FileIndex[ne],_e.size>=4096)if(te.l=_e.start+1<<9,$t&&Buffer.isBuffer(_e.content))_e.content.copy(te,te.l,0,_e.size),te.l+=_e.size+511&-512;else{for(ve=0;ve<_e.size;++ve)te.write_shift(1,_e.content[ve]);for(;ve&511;++ve)te.write_shift(1,0)}for(ne=1;ne<L.FileIndex.length;++ne)if(_e=L.FileIndex[ne],_e.size>0&&_e.size<4096)if($t&&Buffer.isBuffer(_e.content))_e.content.copy(te,te.l,0,_e.size),te.l+=_e.size+63&-64;else{for(ve=0;ve<_e.size;++ve)te.write_shift(1,_e.content[ve]);for(;ve&63;++ve)te.write_shift(1,0)}if($t)te.l=te.length;else for(;te.l<te.length;)te.write_shift(1,0);return te}function J(L,re){var q=L.FullPaths.map(function(ve){return ve.toUpperCase()}),Q=q.map(function(ve){var be=ve.split("/");return be[be.length-(ve.slice(-1)=="/"?2:1)]}),te=!1;re.charCodeAt(0)===47?(te=!0,re=q[0].slice(0,-1)+re):te=re.indexOf("/")!==-1;var ne=re.toUpperCase(),xe=te===!0?q.indexOf(ne):Q.indexOf(ne);if(xe!==-1)return L.FileIndex[xe];var Pe=!ne.match(df);for(ne=ne.replace(eu,""),Pe&&(ne=ne.replace(df,"!")),xe=0;xe<q.length;++xe)if((Pe?q[xe].replace(df,"!"):q[xe]).replace(eu,"")==ne||(Pe?Q[xe].replace(df,"!"):Q[xe]).replace(eu,"")==ne)return L.FileIndex[xe];return null}var H=64,ie=-2,Z="d0cf11e0a1b11ae1",O=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ie,FREESECT:-1,HEADER_SIGNATURE:Z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Y(L,re,q){f();var Q=G(L,q);d.writeFileSync(re,Q)}function oe(L){for(var re=new Array(L.length),q=0;q<L.length;++q)re[q]=String.fromCharCode(L[q]);return re.join("")}function se(L,re){var q=G(L,re);switch(re&&re.type||"buffer"){case"file":return f(),d.writeFileSync(re.filename,q),q;case"binary":return typeof q=="string"?q:oe(q);case"base64":return Su(typeof q=="string"?q:oe(q));case"buffer":if($t)return Buffer.isBuffer(q)?q:Ua(q);case"array":return typeof q=="string"?Ys(q):q}return q}var X;function F(L){try{var re=L.InflateRaw,q=new re;if(q._processChunk(new Uint8Array([3,0]),q._finishFlushFlag),q.bytesRead)X=L;else throw new Error("zlib does not expose bytesRead")}catch(Q){console.error("cannot use native zlib: "+(Q.message||Q))}}function U(L,re){if(!X)return Mn(L,re);var q=X.InflateRaw,Q=new q,te=Q._processChunk(L.slice(L.l),Q._finishFlushFlag);return L.l+=Q.bytesRead,te}function z(L){return X?X.deflateRawSync(L):vt(L)}var k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ee=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function he(L){var re=(L<<1|L<<11)&139536|(L<<5|L<<15)&558144;return(re>>16|re>>8|re)&255}for(var ye=typeof Uint8Array<"u",ke=ye?new Uint8Array(256):[],Ke=0;Ke<256;++Ke)ke[Ke]=he(Ke);function He(L,re){var q=ke[L&255];return re<=8?q>>>8-re:(q=q<<8|ke[L>>8&255],re<=16?q>>>16-re:(q=q<<8|ke[L>>16&255],q>>>24-re))}function rt(L,re){var q=re&7,Q=re>>>3;return(L[Q]|(q<=6?0:L[Q+1]<<8))>>>q&3}function Ve(L,re){var q=re&7,Q=re>>>3;return(L[Q]|(q<=5?0:L[Q+1]<<8))>>>q&7}function de(L,re){var q=re&7,Q=re>>>3;return(L[Q]|(q<=4?0:L[Q+1]<<8))>>>q&15}function Ee(L,re){var q=re&7,Q=re>>>3;return(L[Q]|(q<=3?0:L[Q+1]<<8))>>>q&31}function je(L,re){var q=re&7,Q=re>>>3;return(L[Q]|(q<=1?0:L[Q+1]<<8))>>>q&127}function Ze(L,re,q){var Q=re&7,te=re>>>3,ne=(1<<q)-1,xe=L[te]>>>Q;return q<8-Q||(xe|=L[te+1]<<8-Q,q<16-Q)||(xe|=L[te+2]<<16-Q,q<24-Q)||(xe|=L[te+3]<<24-Q),xe&ne}function nt(L,re,q){var Q=re&7,te=re>>>3;return Q<=5?L[te]|=(q&7)<<Q:(L[te]|=q<<Q&255,L[te+1]=(q&7)>>8-Q),re+3}function ft(L,re,q){var Q=re&7,te=re>>>3;return q=(q&1)<<Q,L[te]|=q,re+1}function st(L,re,q){var Q=re&7,te=re>>>3;return q<<=Q,L[te]|=q&255,q>>>=8,L[te+1]=q,re+8}function Ct(L,re,q){var Q=re&7,te=re>>>3;return q<<=Q,L[te]|=q&255,q>>>=8,L[te+1]=q&255,L[te+2]=q>>>8,re+16}function Se(L,re){var q=L.length,Q=2*q>re?2*q:re+5,te=0;if(q>=re)return L;if($t){var ne=F2(Q);if(L.copy)L.copy(ne);else for(;te<L.length;++te)ne[te]=L[te];return ne}else if(ye){var xe=new Uint8Array(Q);if(xe.set)xe.set(L);else for(;te<q;++te)xe[te]=L[te];return xe}return L.length=Q,L}function Be(L){for(var re=new Array(L),q=0;q<L;++q)re[q]=0;return re}function Je(L,re,q){var Q=1,te=0,ne=0,xe=0,Pe=0,ve=L.length,be=ye?new Uint16Array(32):Be(32);for(ne=0;ne<32;++ne)be[ne]=0;for(ne=ve;ne<q;++ne)L[ne]=0;ve=L.length;var _e=ye?new Uint16Array(ve):Be(ve);for(ne=0;ne<ve;++ne)be[te=L[ne]]++,Q<te&&(Q=te),_e[ne]=0;for(be[0]=0,ne=1;ne<=Q;++ne)be[ne+16]=Pe=Pe+be[ne-1]<<1;for(ne=0;ne<ve;++ne)Pe=L[ne],Pe!=0&&(_e[ne]=be[Pe+16]++);var B=0;for(ne=0;ne<ve;++ne)if(B=L[ne],B!=0)for(Pe=He(_e[ne],Q)>>Q-B,xe=(1<<Q+4-B)-1;xe>=0;--xe)re[Pe|xe<<B]=B&15|ne<<4;return Q}var Re=ye?new Uint16Array(512):Be(512),Ue=ye?new Uint16Array(32):Be(32);if(!ye){for(var ct=0;ct<512;++ct)Re[ct]=0;for(ct=0;ct<32;++ct)Ue[ct]=0}(function(){for(var L=[],re=0;re<32;re++)L.push(5);Je(L,Ue,32);var q=[];for(re=0;re<=143;re++)q.push(8);for(;re<=255;re++)q.push(9);for(;re<=279;re++)q.push(7);for(;re<=287;re++)q.push(8);Je(q,Re,288)})();var it=function(){for(var re=ye?new Uint8Array(32768):[],q=0,Q=0;q<ee.length-1;++q)for(;Q<ee[q+1];++Q)re[Q]=q;for(;Q<32768;++Q)re[Q]=29;var te=ye?new Uint8Array(259):[];for(q=0,Q=0;q<ce.length-1;++q)for(;Q<ce[q+1];++Q)te[Q]=q;function ne(Pe,ve){for(var be=0;be<Pe.length;){var _e=Math.min(65535,Pe.length-be),B=be+_e==Pe.length;for(ve.write_shift(1,+B),ve.write_shift(2,_e),ve.write_shift(2,~_e&65535);_e-- >0;)ve[ve.l++]=Pe[be++]}return ve.l}function xe(Pe,ve){for(var be=0,_e=0,B=ye?new Uint16Array(32768):[];_e<Pe.length;){var le=Math.min(65535,Pe.length-_e);if(le<10){for(be=nt(ve,be,+(_e+le==Pe.length)),be&7&&(be+=8-(be&7)),ve.l=be/8|0,ve.write_shift(2,le),ve.write_shift(2,~le&65535);le-- >0;)ve[ve.l++]=Pe[_e++];be=ve.l*8;continue}be=nt(ve,be,+(_e+le==Pe.length)+2);for(var pe=0;le-- >0;){var me=Pe[_e];pe=(pe<<5^me)&32767;var Ne=-1,Ie=0;if((Ne=B[pe])&&(Ne|=_e&-32768,Ne>_e&&(Ne-=32768),Ne<_e))for(;Pe[Ne+Ie]==Pe[_e+Ie]&&Ie<250;)++Ie;if(Ie>2){me=te[Ie],me<=22?be=st(ve,be,ke[me+1]>>1)-1:(st(ve,be,3),be+=5,st(ve,be,ke[me-23]>>5),be+=3);var et=me<8?0:me-4>>2;et>0&&(Ct(ve,be,Ie-ce[me]),be+=et),me=re[_e-Ne],be=st(ve,be,ke[me]>>3),be-=3;var gt=me<4?0:me-2>>1;gt>0&&(Ct(ve,be,_e-Ne-ee[me]),be+=gt);for(var _t=0;_t<Ie;++_t)B[pe]=_e&32767,pe=(pe<<5^Pe[_e])&32767,++_e;le-=Ie-1}else me<=143?me=me+48:be=ft(ve,be,1),be=st(ve,be,ke[me]),B[pe]=_e&32767,++_e}be=st(ve,be,0)-1}return ve.l=(be+7)/8|0,ve.l}return function(ve,be){return ve.length<8?ne(ve,be):xe(ve,be)}}();function vt(L){var re=De(50+Math.floor(L.length*1.1)),q=it(L,re);return re.slice(0,q)}var rr=ye?new Uint16Array(32768):Be(32768),Qr=ye?new Uint16Array(32768):Be(32768),Tn=ye?new Uint16Array(128):Be(128),Pt=1,Qn=1;function Zn(L,re){var q=Ee(L,re)+257;re+=5;var Q=Ee(L,re)+1;re+=5;var te=de(L,re)+4;re+=4;for(var ne=0,xe=ye?new Uint8Array(19):Be(19),Pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ve=1,be=ye?new Uint8Array(8):Be(8),_e=ye?new Uint8Array(8):Be(8),B=xe.length,le=0;le<te;++le)xe[k[le]]=ne=Ve(L,re),ve<ne&&(ve=ne),be[ne]++,re+=3;var pe=0;for(be[0]=0,le=1;le<=ve;++le)_e[le]=pe=pe+be[le-1]<<1;for(le=0;le<B;++le)(pe=xe[le])!=0&&(Pe[le]=_e[pe]++);var me=0;for(le=0;le<B;++le)if(me=xe[le],me!=0){pe=ke[Pe[le]]>>8-me;for(var Ne=(1<<7-me)-1;Ne>=0;--Ne)Tn[pe|Ne<<me]=me&7|le<<3}var Ie=[];for(ve=1;Ie.length<q+Q;)switch(pe=Tn[je(L,re)],re+=pe&7,pe>>>=3){case 16:for(ne=3+rt(L,re),re+=2,pe=Ie[Ie.length-1];ne-- >0;)Ie.push(pe);break;case 17:for(ne=3+Ve(L,re),re+=3;ne-- >0;)Ie.push(0);break;case 18:for(ne=11+je(L,re),re+=7;ne-- >0;)Ie.push(0);break;default:Ie.push(pe),ve<pe&&(ve=pe);break}var et=Ie.slice(0,q),gt=Ie.slice(q);for(le=q;le<286;++le)et[le]=0;for(le=Q;le<30;++le)gt[le]=0;return Pt=Je(et,rr,286),Qn=Je(gt,Qr,30),re}function Ps(L,re){if(L[0]==3&&!(L[1]&3))return[Co(re),2];for(var q=0,Q=0,te=F2(re||1<<18),ne=0,xe=te.length>>>0,Pe=0,ve=0;(Q&1)==0;){if(Q=Ve(L,q),q+=3,Q>>>1)Q>>1==1?(Pe=9,ve=5):(q=Zn(L,q),Pe=Pt,ve=Qn);else{q&7&&(q+=8-(q&7));var be=L[q>>>3]|L[(q>>>3)+1]<<8;if(q+=32,be>0)for(!re&&xe<ne+be&&(te=Se(te,ne+be),xe=te.length);be-- >0;)te[ne++]=L[q>>>3],q+=8;continue}for(;;){!re&&xe<ne+32767&&(te=Se(te,ne+32767),xe=te.length);var _e=Ze(L,q,Pe),B=Q>>>1==1?Re[_e]:rr[_e];if(q+=B&15,B>>>=4,(B>>>8&255)===0)te[ne++]=B;else{if(B==256)break;B-=257;var le=B<8?0:B-4>>2;le>5&&(le=0);var pe=ne+ce[B];le>0&&(pe+=Ze(L,q,le),q+=le),_e=Ze(L,q,ve),B=Q>>>1==1?Ue[_e]:Qr[_e],q+=B&15,B>>>=4;var me=B<4?0:B-2>>1,Ne=ee[B];for(me>0&&(Ne+=Ze(L,q,me),q+=me),!re&&xe<pe&&(te=Se(te,pe+100),xe=te.length);ne<pe;)te[ne]=te[ne-Ne],++ne}}}return re?[te,q+7>>>3]:[te.slice(0,ne),q+7>>>3]}function Mn(L,re){var q=L.slice(L.l||0),Q=Ps(q,re);return L.l+=Q[1],Q[0]}function hn(L,re){if(L)typeof console<"u"&&console.error(re);else throw new Error(re)}function zr(L,re){var q=L;ls(q,0);var Q=[],te=[],ne={FileIndex:Q,FullPaths:te};C(ne,{root:re.root});for(var xe=q.length-4;(q[xe]!=80||q[xe+1]!=75||q[xe+2]!=5||q[xe+3]!=6)&&xe>=0;)--xe;q.l=xe+4,q.l+=4;var Pe=q.read_shift(2);q.l+=6;var ve=q.read_shift(4);for(q.l=ve,xe=0;xe<Pe;++xe){q.l+=20;var be=q.read_shift(4),_e=q.read_shift(4),B=q.read_shift(2),le=q.read_shift(2),pe=q.read_shift(2);q.l+=8;var me=q.read_shift(4),Ne=c(q.slice(q.l+B,q.l+B+le));q.l+=B+le+pe;var Ie=q.l;q.l=me+4,V(q,be,_e,ne,Ne),q.l=Ie}return ne}function V(L,re,q,Q,te){L.l+=2;var ne=L.read_shift(2),xe=L.read_shift(2),Pe=o(L);if(ne&8257)throw new Error("Unsupported ZIP encryption");for(var ve=L.read_shift(4),be=L.read_shift(4),_e=L.read_shift(4),B=L.read_shift(2),le=L.read_shift(2),pe="",me=0;me<B;++me)pe+=String.fromCharCode(L[L.l++]);if(le){var Ne=c(L.slice(L.l,L.l+le));(Ne[21589]||{}).mt&&(Pe=Ne[21589].mt),((te||{})[21589]||{}).mt&&(Pe=te[21589].mt)}L.l+=le;var Ie=L.slice(L.l,L.l+be);switch(xe){case 8:Ie=U(L,_e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+xe)}var et=!1;ne&8&&(ve=L.read_shift(4),ve==134695760&&(ve=L.read_shift(4),et=!0),be=L.read_shift(4),_e=L.read_shift(4)),be!=re&&hn(et,"Bad compressed size: "+re+" != "+be),_e!=q&&hn(et,"Bad uncompressed size: "+q+" != "+_e),mn(Q,pe,Ie,{unsafe:!0,mt:Pe})}function Te(L,re){var q=re||{},Q=[],te=[],ne=De(1),xe=q.compression?8:0,Pe=0,ve=0,be=0,_e=0,B=0,le=L.FullPaths[0],pe=le,me=L.FileIndex[0],Ne=[],Ie=0;for(ve=1;ve<L.FullPaths.length;++ve)if(pe=L.FullPaths[ve].slice(le.length),me=L.FileIndex[ve],!(!me.size||!me.content||pe=="Sh33tJ5")){var et=_e,gt=De(pe.length);for(be=0;be<pe.length;++be)gt.write_shift(1,pe.charCodeAt(be)&127);gt=gt.slice(0,gt.l),Ne[B]=PP.buf(me.content,0);var _t=me.content;xe==8&&(_t=z(_t)),ne=De(30),ne.write_shift(4,67324752),ne.write_shift(2,20),ne.write_shift(2,Pe),ne.write_shift(2,xe),me.mt?a(ne,me.mt):ne.write_shift(4,0),ne.write_shift(-4,Ne[B]),ne.write_shift(4,_t.length),ne.write_shift(4,me.content.length),ne.write_shift(2,gt.length),ne.write_shift(2,0),_e+=ne.length,Q.push(ne),_e+=gt.length,Q.push(gt),_e+=_t.length,Q.push(_t),ne=De(46),ne.write_shift(4,33639248),ne.write_shift(2,0),ne.write_shift(2,20),ne.write_shift(2,Pe),ne.write_shift(2,xe),ne.write_shift(4,0),ne.write_shift(-4,Ne[B]),ne.write_shift(4,_t.length),ne.write_shift(4,me.content.length),ne.write_shift(2,gt.length),ne.write_shift(2,0),ne.write_shift(2,0),ne.write_shift(2,0),ne.write_shift(2,0),ne.write_shift(4,0),ne.write_shift(4,et),Ie+=ne.l,te.push(ne),Ie+=gt.length,te.push(gt),++B}return ne=De(22),ne.write_shift(4,101010256),ne.write_shift(2,0),ne.write_shift(2,0),ne.write_shift(2,B),ne.write_shift(2,B),ne.write_shift(4,Ie),ne.write_shift(4,_e),ne.write_shift(2,0),on([on(Q),on(te),ne])}var Ye={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function We(L,re){if(L.ctype)return L.ctype;var q=L.name||"",Q=q.match(/\.([^\.]+)$/);return Q&&Ye[Q[1]]||re&&(Q=(q=re).match(/[\.\\]([^\.\\])+$/),Q&&Ye[Q[1]])?Ye[Q[1]]:"application/octet-stream"}function Qe(L){for(var re=Su(L),q=[],Q=0;Q<re.length;Q+=76)q.push(re.slice(Q,Q+76));return q.join(`\r
`)+`\r
`}function ht(L){var re=L.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(be){var _e=be.charCodeAt(0).toString(16).toUpperCase();return"="+(_e.length==1?"0"+_e:_e)});re=re.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),re.charAt(0)==`
`&&(re="=0D"+re.slice(1)),re=re.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var q=[],Q=re.split(`\r
`),te=0;te<Q.length;++te){var ne=Q[te];if(ne.length==0){q.push("");continue}for(var xe=0;xe<ne.length;){var Pe=76,ve=ne.slice(xe,xe+Pe);ve.charAt(Pe-1)=="="?Pe--:ve.charAt(Pe-2)=="="?Pe-=2:ve.charAt(Pe-3)=="="&&(Pe-=3),ve=ne.slice(xe,xe+Pe),xe+=Pe,xe<ne.length&&(ve+="="),q.push(ve)}}return q.join(`\r
`)}function Bt(L){for(var re=[],q=0;q<L.length;++q){for(var Q=L[q];q<=L.length&&Q.charAt(Q.length-1)=="=";)Q=Q.slice(0,Q.length-1)+L[++q];re.push(Q)}for(var te=0;te<re.length;++te)re[te]=re[te].replace(/[=][0-9A-Fa-f]{2}/g,function(ne){return String.fromCharCode(parseInt(ne.slice(1),16))});return Ys(re.join(`\r
`))}function Xe(L,re,q){for(var Q="",te="",ne="",xe,Pe=0;Pe<10;++Pe){var ve=re[Pe];if(!ve||ve.match(/^\s*$/))break;var be=ve.match(/^(.*?):\s*([^\s].*)$/);if(be)switch(be[1].toLowerCase()){case"content-location":Q=be[2].trim();break;case"content-type":ne=be[2].trim();break;case"content-transfer-encoding":te=be[2].trim();break}}switch(++Pe,te.toLowerCase()){case"base64":xe=Ys(Oa(re.slice(Pe).join("")));break;case"quoted-printable":xe=Bt(re.slice(Pe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+te)}var _e=mn(L,Q.slice(q.length),xe,{unsafe:!0});ne&&(_e.ctype=ne)}function Zr(L,re){if(oe(L.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var q=re&&re.root||"",Q=($t&&Buffer.isBuffer(L)?L.toString("binary"):oe(L)).split(`\r
`),te=0,ne="";for(te=0;te<Q.length;++te)if(ne=Q[te],!!/^Content-Location:/i.test(ne)&&(ne=ne.slice(ne.indexOf("file")),q||(q=ne.slice(0,ne.lastIndexOf("/")+1)),ne.slice(0,q.length)!=q))for(;q.length>0&&(q=q.slice(0,q.length-1),q=q.slice(0,q.lastIndexOf("/")+1),ne.slice(0,q.length)!=q););var xe=(Q[1]||"").match(/boundary="(.*?)"/);if(!xe)throw new Error("MAD cannot find boundary");var Pe="--"+(xe[1]||""),ve=[],be=[],_e={FileIndex:ve,FullPaths:be};C(_e);var B,le=0;for(te=0;te<Q.length;++te){var pe=Q[te];pe!==Pe&&pe!==Pe+"--"||(le++&&Xe(_e,Q.slice(B,te),q),B=te)}return _e}function Vr(L,re){var q=re||{},Q=q.boundary||"SheetJS";Q="------="+Q;for(var te=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Q.slice(2)+'"',"","",""],ne=L.FullPaths[0],xe=ne,Pe=L.FileIndex[0],ve=1;ve<L.FullPaths.length;++ve)if(xe=L.FullPaths[ve].slice(ne.length),Pe=L.FileIndex[ve],!(!Pe.size||!Pe.content||xe=="Sh33tJ5")){xe=xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ie){return"_x"+Ie.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ie){return"_u"+Ie.charCodeAt(0).toString(16)+"_"});for(var be=Pe.content,_e=$t&&Buffer.isBuffer(be)?be.toString("binary"):oe(be),B=0,le=Math.min(1024,_e.length),pe=0,me=0;me<=le;++me)(pe=_e.charCodeAt(me))>=32&&pe<128&&++B;var Ne=B>=le*4/5;te.push(Q),te.push("Content-Location: "+(q.root||"file:///C:/SheetJS/")+xe),te.push("Content-Transfer-Encoding: "+(Ne?"quoted-printable":"base64")),te.push("Content-Type: "+We(Pe,xe)),te.push(""),te.push(Ne?ht(_e):Qe(_e))}return te.push(Q+`--\r
`),te.join(`\r
`)}function Ar(L){var re={};return C(re,L),re}function mn(L,re,q,Q){var te=Q&&Q.unsafe;te||C(L);var ne=!te&&tr.find(L,re);if(!ne){var xe=L.FullPaths[0];re.slice(0,xe.length)==xe?xe=re:(xe.slice(-1)!="/"&&(xe+="/"),xe=(xe+re).replace("//","/")),ne={name:s(re),type:2},L.FileIndex.push(ne),L.FullPaths.push(xe),te||tr.utils.cfb_gc(L)}return ne.content=q,ne.size=q?q.length:0,Q&&(Q.CLSID&&(ne.clsid=Q.CLSID),Q.mt&&(ne.mt=Q.mt),Q.ct&&(ne.ct=Q.ct)),ne}function sr(L,re){C(L);var q=tr.find(L,re);if(q){for(var Q=0;Q<L.FileIndex.length;++Q)if(L.FileIndex[Q]==q)return L.FileIndex.splice(Q,1),L.FullPaths.splice(Q,1),!0}return!1}function en(L,re,q){C(L);var Q=tr.find(L,re);if(Q){for(var te=0;te<L.FileIndex.length;++te)if(L.FileIndex[te]==Q)return L.FileIndex[te].name=s(q),L.FullPaths[te]=q,!0}return!1}function En(L){I(L,!0)}return e.find=J,e.read=M,e.parse=h,e.write=se,e.writeFile=Y,e.utils={cfb_new:Ar,cfb_add:mn,cfb_del:sr,cfb_mov:en,cfb_gc:En,ReadShift:ru,CheckField:$_,prep_blob:ls,bconcat:on,use_zlib:F,_deflateRaw:vt,_inflateRaw:Mn,consts:W},e}();function DP(t){return typeof t=="string"?Zh(t):Array.isArray(t)?sP(t):t}function qu(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Zh(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Nu(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var s=new Blob([DP(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=Gu(e)),c.write(e),c.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function fn(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function V2(t,e){for(var r=[],n=fn(t),s=0;s!==n.length;++s)r[t[n[s]][e]]==null&&(r[t[n[s]][e]]=n[s]);return r}function ox(t){for(var e=[],r=fn(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function r0(t){for(var e=[],r=fn(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function RP(t){for(var e=[],r=fn(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var dh=new Date(1899,11,30,0,0,0);function Xn(t,e){var r=t.getTime(),n=dh.getTime()+(t.getTimezoneOffset()-dh.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var E_=new Date,FP=dh.getTime()+(E_.getTimezoneOffset()-dh.getTimezoneOffset())*6e4,H2=E_.getTimezoneOffset();function k_(t){var e=new Date;return e.setTime(t*24*60*60*1e3+FP),e.getTimezoneOffset()!==H2&&e.setTime(e.getTime()+(e.getTimezoneOffset()-H2)*6e4),e}var W2=new Date("2017-02-19T19:06:09.000Z"),A_=isNaN(W2.getFullYear())?new Date("2/19/17"):W2,OP=A_.getFullYear()==2017;function On(t,e){var r=new Date(t);if(OP)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(A_.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function n0(t,e){if($t&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],s=0;s!=t.length;++s)n.push(String.fromCharCode(t[s]));return n.join("")}function Jn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Jn(t[r]));return e}function Nr(t,e){for(var r="";r.length<e;)r+=t;return r}function Pa(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var MP=["january","february","march","april","may","june","july","august","september","october","november","december"];function _u(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),s=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&MP.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function At(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return $t?n=Ua(r):n=aP(r),tr.utils.cfb_add(t,e,n)}tr.utils.cfb_add(t,e,r)}else t.file(e,r)}function lx(){return tr.utils.cfb_new()}var Mr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,LP={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},cx=ox(LP),ux=/[&<>'"]/g,IP=/[\u0000-\u0008\u000b-\u001f]/g;function Zt(t){var e=t+"";return e.replace(ux,function(r){return cx[r]}).replace(IP,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function $2(t){return Zt(t).replace(/ /g,"_x0020_")}var P_=/[\u0000-\u001f]/g;function BP(t){var e=t+"";return e.replace(ux,function(r){return cx[r]}).replace(/\n/g,"<br/>").replace(P_,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function UP(t){var e=t+"";return e.replace(ux,function(r){return cx[r]}).replace(P_,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function zP(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function VP(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function np(t){for(var e="",r=0,n=0,s=0,a=0,o=0,c=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(s=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=s&63,e+=String.fromCharCode(o);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(s&63)<<6|a&63);continue}o=t.charCodeAt(r++),c=((n&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function Y2(t){var e=Co(2*t.length),r,n,s=1,a=0,o=0,c;for(n=0;n<t.length;n+=s)s=1,(c=t.charCodeAt(n))<128?r=c:c<224?(r=(c&31)*64+(t.charCodeAt(n+1)&63),s=2):c<240?(r=(c&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),s=3):(s=4,r=(c&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[a++]=o&255,e[a++]=o>>>8,o=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function K2(t){return Ua(t,"binary").toString("utf8")}var hf="foo bar baz",tu=$t&&(K2(hf)==np(hf)&&K2||Y2(hf)==np(hf)&&Y2)||np,Nu=$t?function(t){return Ua(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,s=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},HP=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)n=n.replace(t[s][0],t[s][1]);return n}}(),D_=/(^\s|\s$|\n)/;function ln(t,e){return"<"+t+(e.match(D_)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Cu(t){return fn(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Ge(t,e,r){return"<"+t+(r!=null?Cu(r):"")+(e!=null?(e.match(D_)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function cg(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function WP(t,e){switch(typeof t){case"string":var r=Ge("vt:lpwstr",Zt(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ge((t|0)==t?"vt:i4":"vt:r8",Zt(String(t)));case"boolean":return Ge("vt:bool",t?"true":"false")}if(t instanceof Date)return Ge("vt:filetime",cg(t));throw new Error("Unable to serialize "+t)}var Gr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Hl=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],cs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function $P(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,a=5;a>=0;--a)s=s*256+t[e+a];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function YP(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,s=0,a=0,o=n?-e:e;isFinite(o)?o==0?s=a=0:(s=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(e)?26985:0);for(var c=0;c<=5;++c,a/=256)t[r+c]=a&255;t[r+6]=(s&15)<<4|a&15,t[r+7]=s>>4|n}var G2=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var s=0,a=t[0][n].length;s<a;s+=r)e.push.apply(e,t[0][n].slice(s,s+r));return e},q2=$t?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ua(e)})):G2(t)}:G2,X2=function(t,e,r){for(var n=[],s=e;s<r;s+=2)n.push(String.fromCharCode(Hc(t,s)));return n.join("").replace(eu,"")},dx=$t?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(eu,""):X2(t,e,r)}:X2,J2=function(t,e,r){for(var n=[],s=e;s<e+r;++s)n.push(("0"+t[s].toString(16)).slice(-2));return n.join("")},R_=$t?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):J2(t,e,r)}:J2,Q2=function(t,e,r){for(var n=[],s=e;s<r;s++)n.push(String.fromCharCode(xl(t,s)));return n.join("")},Xu=$t?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):Q2(e,r,n)}:Q2,F_=function(t,e){var r=us(t,e);return r>0?Xu(t,e+4,e+4+r-1):""},O_=F_,M_=function(t,e){var r=us(t,e);return r>0?Xu(t,e+4,e+4+r-1):""},L_=M_,I_=function(t,e){var r=2*us(t,e);return r>0?Xu(t,e+4,e+4+r-1):""},B_=I_,U_=function(e,r){var n=us(e,r);return n>0?dx(e,r+4,r+4+n):""},z_=U_,V_=function(t,e){var r=us(t,e);return r>0?Xu(t,e+4,e+4+r):""},H_=V_,W_=function(t,e){return $P(t,e)},fh=W_,fx=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};$t&&(O_=function(e,r){if(!Buffer.isBuffer(e))return F_(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},L_=function(e,r){if(!Buffer.isBuffer(e))return M_(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},B_=function(e,r){if(!Buffer.isBuffer(e))return I_(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},z_=function(e,r){if(!Buffer.isBuffer(e))return U_(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},H_=function(e,r){if(!Buffer.isBuffer(e))return V_(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},fh=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):W_(e,r)},fx=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var xl=function(t,e){return t[e]},Hc=function(t,e){return t[e+1]*256+t[e]},KP=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},us=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},co=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},GP=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function ru(t,e){var r="",n,s,a=[],o,c,d,f;switch(e){case"dbcs":if(f=this.l,$t&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)r+=String.fromCharCode(Hc(this,f)),f+=2;t*=2;break;case"utf8":r=Xu(this,this.l,this.l+t);break;case"utf16le":t*=2,r=dx(this,this.l,this.l+t);break;case"wstr":return ru.call(this,t,"dbcs");case"lpstr-ansi":r=O_(this,this.l),t=4+us(this,this.l);break;case"lpstr-cp":r=L_(this,this.l),t=4+us(this,this.l);break;case"lpwstr":r=B_(this,this.l),t=4+2*us(this,this.l);break;case"lpp4":t=4+us(this,this.l),r=z_(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+us(this,this.l),r=H_(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=xl(this,this.l+t++))!==0;)a.push(uf(o));r=a.join("");break;case"_wstr":for(t=0,r="";(o=Hc(this,this.l+t))!==0;)a.push(uf(o)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",f=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return o=xl(this,f),this.l=f+1,c=ru.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),a.join("")+c;a.push(uf(Hc(this,f))),f+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return o=xl(this,f),this.l=f+1,c=ru.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),a.join("")+c;a.push(uf(xl(this,f))),f+=1}r=a.join("");break;default:switch(t){case 1:return n=xl(this,this.l),this.l++,n;case 2:return n=(e==="i"?KP:Hc)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?co:GP)(this,this.l),this.l+=4,n):(s=us(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=fh(this,this.l):s=fh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:r=R_(this,this.l,t);break}}return this.l+=t,r}var qP=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},XP=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},JP=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function QP(t,e,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=e.length;++s)JP(this,e.charCodeAt(s),this.l+2*s);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;n=e.length}else if(r==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var o=e.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,qP(this,e,this.l);break;case 8:if(n=8,r==="f"){YP(this,e,this.l);break}case 16:break;case-4:n=4,XP(this,e,this.l);break}return this.l+=n,this}function $_(t,e){var r=R_(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function ls(t,e){t.l=e,t.read_shift=ru,t.chk=$_,t.write_shift=QP}function ma(t,e){t.l+=e}function De(t){var e=Co(t);return ls(e,0),e}function qn(){var t=[],e=$t?256:2048,r=function(f){var h=De(f);return ls(h,0),h},n=r(e),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(f){return n&&f<n.length-n.l?n:(s(),n=r(Math.max(f+1,e)))},o=function(){return s(),on(t)},c=function(f){s(),n=f,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:c,end:o,_bufs:t}}function Fe(t,e,r,n){var s=+e,a;if(!isNaN(s)){n||(n=$L[s].p||(r||[]).length||0),a=1+(s>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var o=t.next(a);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var c=0;c!=4;++c)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&fx(r)&&t.push(r)}}function nu(t,e,r){var n=Jn(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Z2(t,e,r){var n=Jn(t);return n.s=nu(n.s,e.s,r),n.e=nu(n.e,e.s,r),n}function su(t,e){if(t.cRel&&t.c<0)for(t=Jn(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Jn(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=er(t);return!t.cRel&&t.cRel!=null&&(r=tD(r)),!t.rRel&&t.rRel!=null&&(r=ZP(r)),r}function sp(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Cn(t.s.c)+":"+(t.e.cRel?"":"$")+Cn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+un(t.s.r)+":"+(t.e.rRel?"":"$")+un(t.e.r):su(t.s,e.biff)+":"+su(t.e,e.biff)}function hx(t){return parseInt(eD(t),10)-1}function un(t){return""+(t+1)}function ZP(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function eD(t){return t.replace(/\$(\d+)$/,"$1")}function mx(t){for(var e=rD(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Cn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function tD(t){return t.replace(/^([A-Z])/,"$$$1")}function rD(t){return t.replace(/^\$([A-Z])/,"$1")}function nD(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Xr(t){for(var e=0,r=0,n=0;n<t.length;++n){var s=t.charCodeAt(n);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:e-1}}function er(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function ds(t){var e=t.indexOf(":");return e==-1?{s:Xr(t),e:Xr(t)}:{s:Xr(t.slice(0,e)),e:Xr(t.slice(e+1))}}function Fr(t,e){return typeof e>"u"||typeof e=="number"?Fr(t.s,t.e):(typeof t!="string"&&(t=er(t)),typeof e!="string"&&(e=er(e)),t==e?t:t+":"+e)}function ur(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,a=t.length;for(r=0;n<a&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.s.c=--r,r=0;n<a&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(e.s.r=--r,n===a||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.e.c=--r,r=0;n!=a&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return e.e.r=--r,e}function eb(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Ci(t.z,r?Xn(e):e)}catch{}try{return t.w=Ci((t.XF||{}).numFmtId||(r?14:0),r?Xn(e):e)}catch{return""+e}}function Ma(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Ju[t.v]||t.v:e==null?eb(t,t.v):eb(t,e))}function Po(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function Y_(t,e,r){var n=r||{},s=t?Array.isArray(t):n.dense,a=t||(s?[]:{}),o=0,c=0;if(a&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?Xr(n.origin):n.origin;o=d.r,c=d.c}a["!ref"]||(a["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var h=ur(a["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),o==-1&&(f.e.r=o=h.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[p].length;++g)if(!(typeof e[p][g]>"u")){var x={v:e[p][g]},w=o+p,b=c+g;if(f.s.r>w&&(f.s.r=w),f.s.c>b&&(f.s.c=b),f.e.r<w&&(f.e.r=w),f.e.c<b&&(f.e.c=b),e[p][g]&&typeof e[p][g]=="object"&&!Array.isArray(e[p][g])&&!(e[p][g]instanceof Date))x=e[p][g];else if(Array.isArray(x.v)&&(x.f=e[p][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(n.nullError)x.t="e",x.v=0;else if(n.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=n.dateNF||Cr[14],n.cellDates?(x.t="d",x.w=Ci(x.z,Xn(x.v))):(x.t="n",x.v=Xn(x.v),x.w=Ci(x.z,x.v))):x.t="s";if(s)a[w]||(a[w]=[]),a[w][b]&&a[w][b].z&&(x.z=a[w][b].z),a[w][b]=x;else{var v=er({c:b,r:w});a[v]&&a[v].z&&(x.z=a[v].z),a[v]=x}}}return f.s.c<1e7&&(a["!ref"]=Fr(f)),a}function Wl(t,e){return Y_(null,t,e)}function sD(t){return t.read_shift(4,"i")}function Gs(t,e){return e||(e=De(4)),e.write_shift(4,t),e}function jn(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Jr(t,e){var r=!1;return e==null&&(r=!0,e=De(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function aD(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function iD(t,e){return e||(e=De(4)),e.write_shift(2,0),e.write_shift(2,0),e}function px(t,e){var r=t.l,n=t.read_shift(1),s=jn(t),a=[],o={t:s,h:s};if((n&1)!==0){for(var c=t.read_shift(4),d=0;d!=c;++d)a.push(aD(t));o.r=a}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}function oD(t,e){var r=!1;return e==null&&(r=!0,e=De(15+4*t.t.length)),e.write_shift(1,0),Jr(t.t,e),r?e.slice(0,e.l):e}var lD=px;function cD(t,e){var r=!1;return e==null&&(r=!0,e=De(23+4*t.t.length)),e.write_shift(1,1),Jr(t.t,e),e.write_shift(4,1),iD({},e),r?e.slice(0,e.l):e}function As(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Do(t,e){return e==null&&(e=De(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Ro(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Fo(t,e){return e==null&&(e=De(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var uD=jn,K_=Jr;function gx(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function hh(t,e){var r=!1;return e==null&&(r=!0,e=De(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var dD=jn,ug=gx,xx=hh;function G_(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var s=n===0?fh([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):co(e,0)>>2;return r?s/100:s}function q_(t,e){e==null&&(e=De(4));var r=0,n=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?s:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function X_(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function fD(t,e){return e||(e=De(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Oo=X_,$l=fD;function Yl(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function jo(t,e){return(e||De(8)).write_shift(8,t,"f")}function hD(t){var e={},r=t.read_shift(1),n=r>>>1,s=t.read_shift(1),a=t.read_shift(2,"i"),o=t.read_shift(1),c=t.read_shift(1),d=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=s;var f=SD[s];f&&(e.rgb=db(f));break;case 2:e.rgb=db([o,c,d]);break;case 3:e.theme=s;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function mh(t,e){if(e||(e=De(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function mD(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function pD(t,e){e||(e=De(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var J_=2,os=3,mf=11,ph=19,pf=64,gD=65,xD=71,yD=4108,vD=4126,an=80,tb={1:{n:"CodePage",t:J_},2:{n:"Category",t:an},3:{n:"PresentationFormat",t:an},4:{n:"ByteCount",t:os},5:{n:"LineCount",t:os},6:{n:"ParagraphCount",t:os},7:{n:"SlideCount",t:os},8:{n:"NoteCount",t:os},9:{n:"HiddenCount",t:os},10:{n:"MultimediaClipCount",t:os},11:{n:"ScaleCrop",t:mf},12:{n:"HeadingPairs",t:yD},13:{n:"TitlesOfParts",t:vD},14:{n:"Manager",t:an},15:{n:"Company",t:an},16:{n:"LinksUpToDate",t:mf},17:{n:"CharacterCount",t:os},19:{n:"SharedDoc",t:mf},22:{n:"HyperlinksChanged",t:mf},23:{n:"AppVersion",t:os,p:"version"},24:{n:"DigSig",t:gD},26:{n:"ContentType",t:an},27:{n:"ContentStatus",t:an},28:{n:"Language",t:an},29:{n:"Version",t:an},255:{},2147483648:{n:"Locale",t:ph},2147483651:{n:"Behavior",t:ph},1919054434:{}},rb={1:{n:"CodePage",t:J_},2:{n:"Title",t:an},3:{n:"Subject",t:an},4:{n:"Author",t:an},5:{n:"Keywords",t:an},6:{n:"Comments",t:an},7:{n:"Template",t:an},8:{n:"LastAuthor",t:an},9:{n:"RevNumber",t:an},10:{n:"EditTime",t:pf},11:{n:"LastPrinted",t:pf},12:{n:"CreatedDate",t:pf},13:{n:"ModifiedDate",t:pf},14:{n:"PageCount",t:os},15:{n:"WordCount",t:os},16:{n:"CharCount",t:os},17:{n:"Thumbnail",t:xD},18:{n:"Application",t:an},19:{n:"DocSecurity",t:os},255:{},2147483648:{n:"Locale",t:ph},2147483651:{n:"Behavior",t:ph},1919054434:{}};function bD(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var wD=bD([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),SD=Jn(wD),Ju={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},_D={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},gf={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Q_(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Z_(t,e){var r=RP(_D),n=[],s;n[n.length]=Mr,n[n.length]=Ge("Types",null,{xmlns:Gr.CT,"xmlns:xsd":Gr.xsd,"xmlns:xsi":Gr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Ge("Default",null,{Extension:d[0],ContentType:d[1]})}));var a=function(d){t[d]&&t[d].length>0&&(s=t[d][0],n[n.length]=Ge("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:gf[d][e.bookType]||gf[d].xlsx}))},o=function(d){(t[d]||[]).forEach(function(f){n[n.length]=Ge("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:gf[d][e.bookType]||gf[d].xlsx})})},c=function(d){(t[d]||[]).forEach(function(f){n[n.length]=Ge("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[d][0]})})};return a("workbooks"),o("sheets"),o("charts"),c("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),o("metadata"),c("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Vt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function eN(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Tl(t){var e=[Mr,Ge("Relationships",null,{xmlns:Gr.RELS})];return fn(t["!id"]).forEach(function(r){e[e.length]=Ge("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Jt(t,e,r,n,s,a){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=n,s.Target=r,[Vt.HLINK,Vt.XPATH,Vt.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function ND(t){var e=[Mr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function nb(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function CD(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function jD(t){var e=[Mr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(nb(t[r][0],t[r][1])),e.push(CD("",t[r][0]));return e.push(nb("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function tN(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+oh.version+"</meta:generator></office:meta></office:document-meta>"}var vo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function ap(t,e,r,n,s){s[t]!=null||e==null||e===""||(s[t]=e,e=Zt(e),n[n.length]=r?Ge(t,e,r):ln(t,e))}function rN(t,e){var r=e||{},n=[Mr,Ge("cp:coreProperties",null,{"xmlns:cp":Gr.CORE_PROPS,"xmlns:dc":Gr.dc,"xmlns:dcterms":Gr.dcterms,"xmlns:dcmitype":Gr.dcmitype,"xmlns:xsi":Gr.xsi})],s={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&ap("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:cg(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),t.ModifiedDate!=null&&ap("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:cg(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var a=0;a!=vo.length;++a){var o=vo[a],c=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:t?t[o[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&ap(o[0],c,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var El=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],nN=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function sN(t){var e=[],r=Ge;return t||(t={}),t.Application="SheetJS",e[e.length]=Mr,e[e.length]=Ge("Properties",null,{xmlns:Gr.EXT_PROPS,"xmlns:vt":Gr.vt}),El.forEach(function(n){if(t[n[1]]!==void 0){var s;switch(n[2]){case"string":s=Zt(String(t[n[1]]));break;case"bool":s=t[n[1]]?"true":"false";break}s!==void 0&&(e[e.length]=r(n[0],s))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Zt(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function aN(t){var e=[Mr,Ge("Properties",null,{xmlns:Gr.CUST_PROPS,"xmlns:vt":Gr.vt})];if(!t)return e.join("");var r=1;return fn(t).forEach(function(s){++r,e[e.length]=Ge("property",WP(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Zt(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var sb={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function TD(t,e){var r=[];return fn(sb).map(function(n){for(var s=0;s<vo.length;++s)if(vo[s][1]==n)return vo[s];for(s=0;s<El.length;++s)if(El[s][1]==n)return El[s];throw n}).forEach(function(n){if(t[n[1]]!=null){var s=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(ln(sb[n[1]]||n[1],s))}}),Ge("DocumentProperties",r.join(""),{xmlns:cs.o})}function ED(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return t&&fn(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var o=0;o<vo.length;++o)if(a==vo[o][1])return;for(o=0;o<El.length;++o)if(a==El[o][1])return;for(o=0;o<r.length;++o)if(a==r[o])return;var c=t[a],d="string";typeof c=="number"?(d="float",c=String(c)):c===!0||c===!1?(d="boolean",c=c?"1":"0"):c=String(c),s.push(Ge($2(a),c,{"dt:dt":d}))}}),e&&fn(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var o=e[a],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o instanceof Date?(c="dateTime.tz",o=o.toISOString()):o=String(o),s.push(Ge($2(a),o,{"dt:dt":c}))}}),"<"+n+' xmlns="'+cs.o+'">'+s.join("")+"</"+n+">"}function kD(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),s+=a);var o=De(8);return o.write_shift(4,n),o.write_shift(4,s),o}function ab(t,e){var r=De(4),n=De(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=De(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=kD(e);break;case 31:case 80:for(n=De(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return on([r,n])}var iN=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function AD(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function ib(t,e,r){var n=De(8),s=[],a=[],o=8,c=0,d=De(8),f=De(8);if(d.write_shift(4,2),d.write_shift(4,1200),f.write_shift(4,1),a.push(d),s.push(f),o+=8+d.length,!e){f=De(8),f.write_shift(4,0),s.unshift(f);var h=[De(4)];for(h[0].write_shift(4,t.length),c=0;c<t.length;++c){var p=t[c][0];for(d=De(8+2*(p.length+1)+(p.length%2?0:2)),d.write_shift(4,c+2),d.write_shift(4,p.length+1),d.write_shift(0,p,"dbcs");d.l!=d.length;)d.write_shift(1,0);h.push(d)}d=on(h),a.unshift(d),o+=8+d.length}for(c=0;c<t.length;++c)if(!(e&&!e[t[c][0]])&&!(iN.indexOf(t[c][0])>-1||nN.indexOf(t[c][0])>-1)&&t[c][1]!=null){var g=t[c][1],x=0;if(e){x=+e[t[c][0]];var w=r[x];if(w.p=="version"&&typeof g=="string"){var b=g.split(".");g=(+b[0]<<16)+(+b[1]||0)}d=ab(w.t,g)}else{var v=AD(g);v==-1&&(v=31,g=String(g)),d=ab(v,g)}a.push(d),f=De(8),f.write_shift(4,e?x:2+c),s.push(f),o+=8+d.length}var N=8*(a.length+1);for(c=0;c<a.length;++c)s[c].write_shift(4,N),N+=a[c].length;return n.write_shift(4,o),n.write_shift(4,a.length),on([n].concat(s).concat(a))}function ob(t,e,r,n,s,a){var o=De(s?68:48),c=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,tr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,s?68:48);var d=ib(t,r,n);if(c.push(d),s){var f=ib(s,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+d.length),c.push(f)}return on(c)}function PD(t,e){e||(e=De(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function DD(t,e){return t.read_shift(e)===1}function Dn(t,e){return e||(e=De(2)),e.write_shift(2,+!!t),e}function oN(t){return t.read_shift(2,"u")}function Ns(t,e){return e||(e=De(2)),e.write_shift(2,t),e}function lN(t,e,r){return r||(r=De(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function cN(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=n?t.read_shift(n,s):"";return o}function RD(t){var e=t.t||"",r=De(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=De(2*e.length);n.write_shift(2*e.length,e,"utf16le");var s=[r,n];return on(s)}function FD(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function OD(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):FD(t,n,r)}function MD(t,e,r){if(r.biff>5)return OD(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function uN(t,e,r){return r||(r=De(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function lb(t,e){e||(e=De(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function LD(t){var e=De(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),a=s>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)e.write_shift(4,o[r]);if(a==28)n=n.slice(1),lb(n,e);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));var c=s>-1?n.slice(0,s):n;for(e.write_shift(4,2*(c.length+1)),r=0;r<c.length;++r)e.write_shift(2,c.charCodeAt(r));e.write_shift(2,0),a&8&&lb(s>-1?n.slice(s+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,n.length-3*d+1),r=0;r<n.length-3*d;++r)e.write_shift(1,n.charCodeAt(r+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function To(t,e,r,n){return n||(n=De(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function ID(t,e,r){var n=r.biff>8?4:2,s=t.read_shift(n),a=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[s,a,o]}function BD(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(2);return{s:{c:n,r:e},e:{c:s,r}}}function dN(t,e){return e||(e=De(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function yx(t,e,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=De(s);return a.write_shift(2,n),a.write_shift(2,e),s>4&&a.write_shift(2,29282),s>6&&a.write_shift(2,1997),s>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function UD(t,e){var r=!e||e.biff==8,n=De(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function zD(t,e){var r=!e||e.biff>=8?2:1,n=De(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function VD(t,e){var r=De(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],s=0;s<t.length;++s)n[s]=RD(t[s]);var a=on([r].concat(n));return a.parts=[r.length].concat(n.map(function(o){return o.length})),a}function HD(){var t=De(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function WD(t){var e=De(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function $D(t,e){var r=t.name||"Arial",n=e&&e.biff==5,s=n?15+r.length:16+2*r.length,a=De(s);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function YD(t,e,r,n){var s=De(10);return To(t,e,n,s),s.write_shift(4,r),s}function KD(t,e,r,n,s){var a=!s||s.biff==8,o=De(8+ +a+(1+a)*r.length);return To(t,e,n,o),o.write_shift(2,r.length),a&&o.write_shift(1,1),o.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),o}function GD(t,e,r,n){var s=r&&r.biff==5;n||(n=De(s?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(s?1:2,e.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function qD(t,e){var r=e.biff==8||!e.biff?4:2,n=De(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function cb(t,e,r,n){var s=r&&r.biff==5;n||(n=De(s?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&s&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function XD(t){var e=De(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function JD(t,e,r,n,s,a){var o=De(8);return To(t,e,n,o),lN(r,a,o),o}function QD(t,e,r,n){var s=De(14);return To(t,e,n,s),jo(r,s),s}function ZD(t,e,r){if(r.biff<8)return eR(t,e,r);for(var n=[],s=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(ID(t,r.biff>8?12:6,r));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return n}function eR(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=cN(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function tR(t){var e=De(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)dN(t[r],e);return e}function rR(t){var e=De(24),r=Xr(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(n[s],16));return on([e,LD(t[1])])}function nR(t){var e=t[1].Tooltip,r=De(10+2*(e.length+1));r.write_shift(2,2048);var n=Xr(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<e.length;++s)r.write_shift(2,e.charCodeAt(s));return r.write_shift(2,0),r}function sR(t){return t||(t=De(4)),t.write_shift(2,1),t.write_shift(2,1),t}function aR(t,e,r){if(!r.cellStyles)return ma(t,e);var n=r&&r.biff>=12?4:2,s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),c=t.read_shift(n),d=t.read_shift(2);n==2&&(t.l+=2);var f={s,e:a,w:o,ixfe:c,flags:d};return(r.biff>=5||!r.biff)&&(f.level=d>>8&7),f}function iR(t,e){var r=De(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function oR(t){for(var e=De(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function lR(t,e,r){var n=De(15);return Zu(n,t,e),n.write_shift(8,r,"f"),n}function cR(t,e,r){var n=De(9);return Zu(n,t,e),n.write_shift(2,r),n}var uR=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=ox({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,d){var f=[],h=Co(1);switch(d.type){case"base64":h=Ys(Oa(c));break;case"binary":h=Ys(c);break;case"buffer":case"array":h=c;break}ls(h,0);var p=h.read_shift(1),g=!!(p&136),x=!1,w=!1;switch(p){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var b=0,v=521;p==2&&(b=h.read_shift(2)),h.l+=3,p!=2&&(b=h.read_shift(4)),b>1048576&&(b=1e6),p!=2&&(v=h.read_shift(2));var N=h.read_shift(2),E=d.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(E=t[h[h.l]]),h.l+=1,h.l+=2),w&&(h.l+=36);for(var j=[],D={},T=Math.min(h.length,p==2?521:v-10-(x?264:0)),M=w?32:11;h.l<T&&h[h.l]!=13;)switch(D={},D.name=R2.utils.decode(E,h.slice(h.l,h.l+M)).replace(/[\u0000\r\n].*$/g,""),h.l+=M,D.type=String.fromCharCode(h.read_shift(1)),p!=2&&!w&&(D.offset=h.read_shift(4)),D.len=h.read_shift(1),p==2&&(D.offset=h.read_shift(2)),D.dec=h.read_shift(1),D.name.length&&j.push(D),p!=2&&(h.l+=w?13:14),D.type){case"B":(!x||D.len!=8)&&d.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(h[h.l]!==13&&(h.l=v-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=v;var C=0,P=0;for(f[0]=[],P=0;P!=j.length;++P)f[0][P]=j[P].name;for(;b-- >0;){if(h[h.l]===42){h.l+=N;continue}for(++h.l,f[++C]=[],P=0,P=0;P!=j.length;++P){var I=h.slice(h.l,h.l+j[P].len);h.l+=j[P].len,ls(I,0);var G=R2.utils.decode(E,I);switch(j[P].type){case"C":G.trim().length&&(f[C][P]=G.replace(/\s+$/,""));break;case"D":G.length===8?f[C][P]=new Date(+G.slice(0,4),+G.slice(4,6)-1,+G.slice(6,8)):f[C][P]=G;break;case"F":f[C][P]=parseFloat(G.trim());break;case"+":case"I":f[C][P]=w?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(G.trim().toUpperCase()){case"Y":case"T":f[C][P]=!0;break;case"N":case"F":f[C][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+G+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));f[C][P]="##MEMO##"+(w?parseInt(G.trim(),10):I.read_shift(4));break;case"N":G=G.replace(/\u0000/g,"").trim(),G&&G!="."&&(f[C][P]=+G||0);break;case"@":f[C][P]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":f[C][P]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":f[C][P]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[C][P]=-I.read_shift(-8,"f");break;case"B":if(x&&j[P].len==8){f[C][P]=I.read_shift(8,"f");break}case"G":case"P":I.l+=j[P].len;break;case"0":if(j[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[P].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return d&&d.sheetRows&&(f=f.slice(0,d.sheetRows)),d.DBF=j,f}function n(c,d){var f=d||{};f.dateNF||(f.dateNF="yyyymmdd");var h=Wl(r(c,f),f);return h["!cols"]=f.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete f.DBF,h}function s(c,d){try{return Po(n(c,d),d)}catch(f){if(d&&d.WTF)throw f}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,d){var f=d||{};if(+f.codepage>=0&&wu(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=qn(),p=bh(c,{header:1,raw:!0,cellDates:!0}),g=p[0],x=p.slice(1),w=c["!cols"]||[],b=0,v=0,N=0,E=1;for(b=0;b<g.length;++b){if(((w[b]||{}).DBF||{}).name){g[b]=w[b].DBF.name,++N;continue}if(g[b]!=null){if(++N,typeof g[b]=="number"&&(g[b]=g[b].toString(10)),typeof g[b]!="string")throw new Error("DBF Invalid column name "+g[b]+" |"+typeof g[b]+"|");if(g.indexOf(g[b])!==b){for(v=0;v<1024;++v)if(g.indexOf(g[b]+"_"+v)==-1){g[b]+="_"+v;break}}}}var j=ur(c["!ref"]),D=[],T=[],M=[];for(b=0;b<=j.e.c-j.s.c;++b){var C="",P="",I=0,G=[];for(v=0;v<x.length;++v)x[v][b]!=null&&G.push(x[v][b]);if(G.length==0||g[b]==null){D[b]="?";continue}for(v=0;v<G.length;++v){switch(typeof G[v]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=G[v]instanceof Date?"D":"C";break;default:P="C"}I=Math.max(I,String(G[v]).length),C=C&&C!=P?"C":P}I>250&&(I=250),P=((w[b]||{}).DBF||{}).type,P=="C"&&w[b].DBF.len>I&&(I=w[b].DBF.len),C=="B"&&P=="N"&&(C="N",M[b]=w[b].DBF.dec,I=w[b].DBF.len),T[b]=C=="C"||P=="N"?I:a[C]||0,E+=T[b],D[b]=C}var J=h.next(32);for(J.write_shift(4,318902576),J.write_shift(4,x.length),J.write_shift(2,296+32*N),J.write_shift(2,E),b=0;b<4;++b)J.write_shift(4,0);for(J.write_shift(4,0|(+e[h_]||3)<<8),b=0,v=0;b<g.length;++b)if(g[b]!=null){var H=h.next(32),ie=(g[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);H.write_shift(1,ie,"sbcs"),H.write_shift(1,D[b]=="?"?"C":D[b],"sbcs"),H.write_shift(4,v),H.write_shift(1,T[b]||a[D[b]]||0),H.write_shift(1,M[b]||0),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(1,0),H.write_shift(4,0),H.write_shift(4,0),v+=T[b]||a[D[b]]||0}var Z=h.next(264);for(Z.write_shift(4,13),b=0;b<65;++b)Z.write_shift(4,0);for(b=0;b<x.length;++b){var O=h.next(E);for(O.write_shift(1,0),v=0;v<g.length;++v)if(g[v]!=null)switch(D[v]){case"L":O.write_shift(1,x[b][v]==null?63:x[b][v]?84:70);break;case"B":O.write_shift(8,x[b][v]||0,"f");break;case"N":var K="0";for(typeof x[b][v]=="number"&&(K=x[b][v].toFixed(M[v]||0)),N=0;N<T[v]-K.length;++N)O.write_shift(1,32);O.write_shift(1,K,"sbcs");break;case"D":x[b][v]?(O.write_shift(4,("0000"+x[b][v].getFullYear()).slice(-4),"sbcs"),O.write_shift(2,("00"+(x[b][v].getMonth()+1)).slice(-2),"sbcs"),O.write_shift(2,("00"+x[b][v].getDate()).slice(-2),"sbcs")):O.write_shift(8,"00000000","sbcs");break;case"C":var W=String(x[b][v]!=null?x[b][v]:"").slice(0,T[v]);for(O.write_shift(1,W,"sbcs"),N=0;N<T[v]-W.length;++N)O.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:s,to_sheet:n,from_sheet:o}}(),dR=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+fn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,x){var w=t[x];return typeof w=="number"?D2(w):w},n=function(g,x,w){var b=x.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return b==59?g:D2(b)};t["|"]=254;function s(g,x){switch(x.type){case"base64":return a(Oa(g),x);case"binary":return a(g,x);case"buffer":return a($t&&Buffer.isBuffer(g)?g.toString("binary"):Gu(g),x);case"array":return a(n0(g),x)}throw new Error("Unrecognized type "+x.type)}function a(g,x){var w=g.split(/[\n\r]+/),b=-1,v=-1,N=0,E=0,j=[],D=[],T=null,M={},C=[],P=[],I=[],G=0,J;for(+x.codepage>=0&&wu(+x.codepage);N!==w.length;++N){G=0;var H=w[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),ie=H.replace(/;;/g,"\0").split(";").map(function(k){return k.replace(/\u0000/g,";")}),Z=ie[0],O;if(H.length>0)switch(Z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ie[1].charAt(0)=="P"&&D.push(H.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,W=!1,Y=!1,oe=!1,se=-1,X=-1;for(E=1;E<ie.length;++E)switch(ie[E].charAt(0)){case"A":break;case"X":v=parseInt(ie[E].slice(1))-1,W=!0;break;case"Y":for(b=parseInt(ie[E].slice(1))-1,W||(v=0),J=j.length;J<=b;++J)j[J]=[];break;case"K":O=ie[E].slice(1),O.charAt(0)==='"'?O=O.slice(1,O.length-1):O==="TRUE"?O=!0:O==="FALSE"?O=!1:isNaN(Pa(O))?isNaN(_u(O).getDate())||(O=On(O)):(O=Pa(O),T!==null&&C_(T)&&(O=k_(O))),K=!0;break;case"E":oe=!0;var F=cF(ie[E].slice(1),{r:b,c:v});j[b][v]=[j[b][v],F];break;case"S":Y=!0,j[b][v]=[j[b][v],"S5S"];break;case"G":break;case"R":se=parseInt(ie[E].slice(1))-1;break;case"C":X=parseInt(ie[E].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+H)}if(K&&(j[b][v]&&j[b][v].length==2?j[b][v][0]=O:j[b][v]=O,T=null),Y){if(oe)throw new Error("SYLK shared formula cannot have own formula");var U=se>-1&&j[se][X];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");j[b][v][1]=uF(U[1],{r:b-se,c:v-X})}break;case"F":var z=0;for(E=1;E<ie.length;++E)switch(ie[E].charAt(0)){case"X":v=parseInt(ie[E].slice(1))-1,++z;break;case"Y":for(b=parseInt(ie[E].slice(1))-1,J=j.length;J<=b;++J)j[J]=[];break;case"M":G=parseInt(ie[E].slice(1))/20;break;case"F":break;case"G":break;case"P":T=D[parseInt(ie[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=ie[E].slice(1).split(" "),J=parseInt(I[0],10);J<=parseInt(I[1],10);++J)G=parseInt(I[2],10),P[J-1]=G===0?{hidden:!0}:{wch:G},vx(P[J-1]);break;case"C":v=parseInt(ie[E].slice(1))-1,P[v]||(P[v]={});break;case"R":b=parseInt(ie[E].slice(1))-1,C[b]||(C[b]={}),G>0?(C[b].hpt=G,C[b].hpx=gN(G)):G===0&&(C[b].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+H)}z<1&&(T=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+H)}}return C.length>0&&(M["!rows"]=C),P.length>0&&(M["!cols"]=P),x&&x.sheetRows&&(j=j.slice(0,x.sheetRows)),[j,M]}function o(g,x){var w=s(g,x),b=w[0],v=w[1],N=Wl(b,x);return fn(v).forEach(function(E){N[E]=v[E]}),N}function c(g,x){return Po(o(g,x),x)}function d(g,x,w,b){var v="C;Y"+(w+1)+";X"+(b+1)+";K";switch(g.t){case"n":v+=g.v||0,g.f&&!g.F&&(v+=";E"+wx(g.f,{r:w,c:b}));break;case"b":v+=g.v?"TRUE":"FALSE";break;case"e":v+=g.w||g.v;break;case"d":v+='"'+(g.w||g.v)+'"';break;case"s":v+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function f(g,x){x.forEach(function(w,b){var v="F;W"+(b+1)+" "+(b+1)+" ";w.hidden?v+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=gh(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=xh(w.wpx)),typeof w.wch=="number"&&(v+=Math.round(w.wch))),v.charAt(v.length-1)!=" "&&g.push(v)})}function h(g,x){x.forEach(function(w,b){var v="F;";w.hidden?v+="M0;":w.hpt?v+="M"+20*w.hpt+";":w.hpx&&(v+="M"+20*yh(w.hpx)+";"),v.length>2&&g.push(v+"R"+(b+1))})}function p(g,x){var w=["ID;PWXL;N;E"],b=[],v=ur(g["!ref"]),N,E=Array.isArray(g),j=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),g["!cols"]&&f(w,g["!cols"]),g["!rows"]&&h(w,g["!rows"]),w.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var D=v.s.r;D<=v.e.r;++D)for(var T=v.s.c;T<=v.e.c;++T){var M=er({r:D,c:T});N=E?(g[D]||[])[T]:g[M],!(!N||N.v==null&&(!N.f||N.F))&&b.push(d(N,g,D,T))}return w.join(j)+j+b.join(j)+j+"E"+j}return{to_workbook:c,to_sheet:o,from_sheet:p}}(),fR=function(){function t(a,o){switch(o.type){case"base64":return e(Oa(a),o);case"binary":return e(a,o);case"buffer":return e($t&&Buffer.isBuffer(a)?a.toString("binary"):Gu(a),o);case"array":return e(n0(a),o)}throw new Error("Unrecognized type "+o.type)}function e(a,o){for(var c=a.split(`
`),d=-1,f=-1,h=0,p=[];h!==c.length;++h){if(c[h].trim()==="BOT"){p[++d]=[],f=0;continue}if(!(d<0)){var g=c[h].trim().split(","),x=g[0],w=g[1];++h;for(var b=c[h]||"";(b.match(/["]/g)||[]).length&1&&h<c.length-1;)b+=`
`+c[++h];switch(b=b.trim(),+x){case-1:if(b==="BOT"){p[++d]=[],f=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?p[d][f]=!0:b==="FALSE"?p[d][f]=!1:isNaN(Pa(w))?isNaN(_u(w).getDate())?p[d][f]=w:p[d][f]=On(w):p[d][f]=Pa(w),++f;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),p[d][f++]=b!==""?b:null;break}if(b==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function r(a,o){return Wl(t(a,o),o)}function n(a,o){return Po(r(a,o),o)}var s=function(){var a=function(d,f,h,p,g){d.push(f),d.push(h+","+p),d.push('"'+g.replace(/"/g,'""')+'"')},o=function(d,f,h,p){d.push(f+","+h),d.push(f==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(d){var f=[],h=ur(d["!ref"]),p,g=Array.isArray(d);a(f,"TABLE",0,1,"sheetjs"),a(f,"VECTORS",0,h.e.r-h.s.r+1,""),a(f,"TUPLES",0,h.e.c-h.s.c+1,""),a(f,"DATA",0,0,"");for(var x=h.s.r;x<=h.e.r;++x){o(f,-1,0,"BOT");for(var w=h.s.c;w<=h.e.c;++w){var b=er({r:x,c:w});if(p=g?(d[x]||[])[w]:d[b],!p){o(f,1,0,"");continue}switch(p.t){case"n":var v=p.w;!v&&p.v!=null&&(v=p.v),v==null?p.f&&!p.F?o(f,1,0,"="+p.f):o(f,1,0,""):o(f,0,v,"V");break;case"b":o(f,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(f,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Ci(p.z||Cr[14],Xn(On(p.v)))),o(f,0,p.w,"V");break;default:o(f,1,0,"")}}}o(f,-1,0,"EOD");var N=`\r
`,E=f.join(N);return E}}();return{to_workbook:n,to_sheet:r,from_sheet:s}}(),fN=function(){function t(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,g){for(var x=p.split(`
`),w=-1,b=-1,v=0,N=[];v!==x.length;++v){var E=x[v].trim().split(":");if(E[0]==="cell"){var j=Xr(E[1]);if(N.length<=j.r)for(w=N.length;w<=j.r;++w)N[w]||(N[w]=[]);switch(w=j.r,b=j.c,E[2]){case"t":N[w][b]=t(E[3]);break;case"v":N[w][b]=+E[3];break;case"vtf":var D=E[E.length-1];case"vtc":switch(E[3]){case"nl":N[w][b]=!!+E[4];break;default:N[w][b]=+E[4];break}E[2]=="vtf"&&(N[w][b]=[N[w][b],D])}}}return g&&g.sheetRows&&(N=N.slice(0,g.sheetRows)),N}function n(p,g){return Wl(r(p,g),g)}function s(p,g){return Po(n(p,g),g)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function f(p){if(!p||!p["!ref"])return"";for(var g=[],x=[],w,b="",v=ds(p["!ref"]),N=Array.isArray(p),E=v.s.r;E<=v.e.r;++E)for(var j=v.s.c;j<=v.e.c;++j)if(b=er({r:E,c:j}),w=N?(p[E]||[])[j]:p[b],!(!w||w.v==null||w.t==="z")){switch(x=["cell",b,"t"],w.t){case"s":case"str":x.push(e(w.v));break;case"n":w.f?(x[2]="vtf",x[3]="n",x[4]=w.v,x[5]=e(w.f)):(x[2]="v",x[3]=w.v);break;case"b":x[2]="vt"+(w.f?"f":"c"),x[3]="nl",x[4]=w.v?"1":"0",x[5]=e(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var D=Xn(On(w.v));x[2]="vtc",x[3]="nd",x[4]=""+D,x[5]=w.w||Ci(w.z||Cr[14],D);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(p){return[a,o,c,o,f(p),d].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:h}}(),hR=function(){function t(h,p,g,x,w){w.raw?p[g][x]=h:h===""||(h==="TRUE"?p[g][x]=!0:h==="FALSE"?p[g][x]=!1:isNaN(Pa(h))?isNaN(_u(h).getDate())?p[g][x]=h:p[g][x]=On(h):p[g][x]=Pa(h))}function e(h,p){var g=p||{},x=[];if(!h||h.length===0)return x;for(var w=h.split(/[\r\n]/),b=w.length-1;b>=0&&w[b].length===0;)--b;for(var v=10,N=0,E=0;E<=b;++E)N=w[E].indexOf(" "),N==-1?N=w[E].length:N++,v=Math.max(v,N);for(E=0;E<=b;++E){x[E]=[];var j=0;for(t(w[E].slice(0,v).trim(),x,E,j,g),j=1;j<=(w[E].length-v)/10+1;++j)t(w[E].slice(v+(j-1)*10,v+j*10).trim(),x,E,j,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(h){for(var p={},g=!1,x=0,w=0;x<h.length;++x)(w=h.charCodeAt(x))==34?g=!g:!g&&w in r&&(p[w]=(p[w]||0)+1);w=[];for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&w.push([p[x],x]);if(!w.length){p=n;for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&w.push([p[x],x])}return w.sort(function(b,v){return b[0]-v[0]||n[b[1]]-n[v[1]]}),r[w.pop()[1]]||44}function a(h,p){var g=p||{},x="",w=g.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(x=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(x=h.charAt(4),h=h.slice(6)):x=s(h.slice(0,1024)):g&&g.FS?x=g.FS:x=s(h.slice(0,1024));var v=0,N=0,E=0,j=0,D=0,T=x.charCodeAt(0),M=!1,C=0,P=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var I=g.dateNF!=null?kP(g.dateNF):null;function G(){var J=h.slice(j,D),H={};if(J.charAt(0)=='"'&&J.charAt(J.length-1)=='"'&&(J=J.slice(1,-1).replace(/""/g,'"')),J.length===0)H.t="z";else if(g.raw)H.t="s",H.v=J;else if(J.trim().length===0)H.t="s",H.v=J;else if(J.charCodeAt(0)==61)J.charCodeAt(1)==34&&J.charCodeAt(J.length-1)==34?(H.t="s",H.v=J.slice(2,-1).replace(/""/g,'"')):dF(J)?(H.t="n",H.f=J.slice(1)):(H.t="s",H.v=J);else if(J=="TRUE")H.t="b",H.v=!0;else if(J=="FALSE")H.t="b",H.v=!1;else if(!isNaN(E=Pa(J)))H.t="n",g.cellText!==!1&&(H.w=J),H.v=E;else if(!isNaN(_u(J).getDate())||I&&J.match(I)){H.z=g.dateNF||Cr[14];var ie=0;I&&J.match(I)&&(J=AP(J,g.dateNF,J.match(I)||[]),ie=1),g.cellDates?(H.t="d",H.v=On(J,ie)):(H.t="n",H.v=Xn(On(J,ie))),g.cellText!==!1&&(H.w=Ci(H.z,H.v instanceof Date?Xn(H.v):H.v)),g.cellNF||delete H.z}else H.t="s",H.v=J;if(H.t=="z"||(g.dense?(w[v]||(w[v]=[]),w[v][N]=H):w[er({c:N,r:v})]=H),j=D+1,P=h.charCodeAt(j),b.e.c<N&&(b.e.c=N),b.e.r<v&&(b.e.r=v),C==T)++N;else if(N=0,++v,g.sheetRows&&g.sheetRows<=v)return!0}e:for(;D<h.length;++D)switch(C=h.charCodeAt(D)){case 34:P===34&&(M=!M);break;case T:case 10:case 13:if(!M&&G())break e;break}return D-j>0&&G(),w["!ref"]=Fr(b),w}function o(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?a(h,p):Wl(e(h,p),p)}function c(h,p){var g="",x=p.type=="string"?[0,0,0,0]:C7(h,p);switch(p.type){case"base64":g=Oa(h);break;case"binary":g=h;break;case"buffer":p.codepage==65001?g=h.toString("utf8"):(p.codepage,g=$t&&Buffer.isBuffer(h)?h.toString("binary"):Gu(h));break;case"array":g=n0(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+p.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=tu(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=tu(g):p.type=="binary",g.slice(0,19)=="socialcalc:version:"?fN.to_sheet(p.type=="string"?g:tu(g),p):o(g,p)}function d(h,p){return Po(c(h,p),p)}function f(h){for(var p=[],g=ur(h["!ref"]),x,w=Array.isArray(h),b=g.s.r;b<=g.e.r;++b){for(var v=[],N=g.s.c;N<=g.e.c;++N){var E=er({r:b,c:N});if(x=w?(h[b]||[])[N]:h[E],!x||x.v==null){v.push("          ");continue}for(var j=(x.w||(Ma(x),x.w)||"").slice(0,10);j.length<10;)j+=" ";v.push(j+(N===0?" ":""))}p.push(v.join(""))}return p.join(`
`)}return{to_workbook:d,to_sheet:c,from_sheet:f}}(),ub=function(){function t(F,U,z){if(F){ls(F,F.l||0);for(var k=z.Enum||se;F.l<F.length;){var ce=F.read_shift(2),ee=k[ce]||k[65535],he=F.read_shift(2),ye=F.l+he,ke=ee.f&&ee.f(F,he,z);if(F.l=ye,U(ke,ee,ce))return}}}function e(F,U){switch(U.type){case"base64":return r(Ys(Oa(F)),U);case"binary":return r(Ys(F),U);case"buffer":case"array":return r(F,U)}throw"Unsupported type "+U.type}function r(F,U){if(!F)return F;var z=U||{},k=z.dense?[]:{},ce="Sheet1",ee="",he=0,ye={},ke=[],Ke=[],He={s:{r:0,c:0},e:{r:0,c:0}},rt=z.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)z.Enum=se,t(F,function(je,Ze,nt){switch(nt){case 0:z.vers=je,je>=4096&&(z.qpro=!0);break;case 6:He=je;break;case 204:je&&(ee=je);break;case 222:ee=je;break;case 15:case 51:z.qpro||(je[1].v=je[1].v.slice(1));case 13:case 14:case 16:nt==14&&(je[2]&112)==112&&(je[2]&15)>1&&(je[2]&15)<15&&(je[1].z=z.dateNF||Cr[14],z.cellDates&&(je[1].t="d",je[1].v=k_(je[1].v))),z.qpro&&je[3]>he&&(k["!ref"]=Fr(He),ye[ce]=k,ke.push(ce),k=z.dense?[]:{},He={s:{r:0,c:0},e:{r:0,c:0}},he=je[3],ce=ee||"Sheet"+(he+1),ee="");var ft=z.dense?(k[je[0].r]||[])[je[0].c]:k[er(je[0])];if(ft){ft.t=je[1].t,ft.v=je[1].v,je[1].z!=null&&(ft.z=je[1].z),je[1].f!=null&&(ft.f=je[1].f);break}z.dense?(k[je[0].r]||(k[je[0].r]=[]),k[je[0].r][je[0].c]=je[1]):k[er(je[0])]=je[1];break}},z);else if(F[2]==26||F[2]==14)z.Enum=X,F[2]==14&&(z.qpro=!0,F.l=0),t(F,function(je,Ze,nt){switch(nt){case 204:ce=je;break;case 22:je[1].v=je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(je[3]>he&&(k["!ref"]=Fr(He),ye[ce]=k,ke.push(ce),k=z.dense?[]:{},He={s:{r:0,c:0},e:{r:0,c:0}},he=je[3],ce="Sheet"+(he+1)),rt>0&&je[0].r>=rt)break;z.dense?(k[je[0].r]||(k[je[0].r]=[]),k[je[0].r][je[0].c]=je[1]):k[er(je[0])]=je[1],He.e.c<je[0].c&&(He.e.c=je[0].c),He.e.r<je[0].r&&(He.e.r=je[0].r);break;case 27:je[14e3]&&(Ke[je[14e3][0]]=je[14e3][1]);break;case 1537:Ke[je[0]]=je[1],je[0]==he&&(ce=je[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(k["!ref"]=Fr(He),ye[ee||ce]=k,ke.push(ee||ce),!Ke.length)return{SheetNames:ke,Sheets:ye};for(var Ve={},de=[],Ee=0;Ee<Ke.length;++Ee)ye[ke[Ee]]?(de.push(Ke[Ee]||ke[Ee]),Ve[Ke[Ee]]=ye[Ke[Ee]]||ye[ke[Ee]]):(de.push(Ke[Ee]),Ve[Ke[Ee]]={"!ref":"A1"});return{SheetNames:de,Sheets:Ve}}function n(F,U){var z=U||{};if(+z.codepage>=0&&wu(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var k=qn(),ce=ur(F["!ref"]),ee=Array.isArray(F),he=[];qe(k,0,a(1030)),qe(k,6,d(ce));for(var ye=Math.min(ce.e.r,8191),ke=ce.s.r;ke<=ye;++ke)for(var Ke=un(ke),He=ce.s.c;He<=ce.e.c;++He){ke===ce.s.r&&(he[He]=Cn(He));var rt=he[He]+Ke,Ve=ee?(F[ke]||[])[He]:F[rt];if(!(!Ve||Ve.t=="z"))if(Ve.t=="n")(Ve.v|0)==Ve.v&&Ve.v>=-32768&&Ve.v<=32767?qe(k,13,x(ke,He,Ve.v)):qe(k,14,b(ke,He,Ve.v));else{var de=Ma(Ve);qe(k,15,p(ke,He,de.slice(0,239)))}}return qe(k,1),k.end()}function s(F,U){var z=U||{};if(+z.codepage>=0&&wu(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var k=qn();qe(k,0,o(F));for(var ce=0,ee=0;ce<F.SheetNames.length;++ce)(F.Sheets[F.SheetNames[ce]]||{})["!ref"]&&qe(k,27,oe(F.SheetNames[ce],ee++));var he=0;for(ce=0;ce<F.SheetNames.length;++ce){var ye=F.Sheets[F.SheetNames[ce]];if(!(!ye||!ye["!ref"])){for(var ke=ur(ye["!ref"]),Ke=Array.isArray(ye),He=[],rt=Math.min(ke.e.r,8191),Ve=ke.s.r;Ve<=rt;++Ve)for(var de=un(Ve),Ee=ke.s.c;Ee<=ke.e.c;++Ee){Ve===ke.s.r&&(He[Ee]=Cn(Ee));var je=He[Ee]+de,Ze=Ke?(ye[Ve]||[])[Ee]:ye[je];if(!(!Ze||Ze.t=="z"))if(Ze.t=="n")qe(k,23,G(Ve,Ee,he,Ze.v));else{var nt=Ma(Ze);qe(k,22,C(Ve,Ee,he,nt.slice(0,239)))}}++he}}return qe(k,1),k.end()}function a(F){var U=De(2);return U.write_shift(2,F),U}function o(F){var U=De(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var z=0,k=0,ce=0,ee=0;ee<F.SheetNames.length;++ee){var he=F.SheetNames[ee],ye=F.Sheets[he];if(!(!ye||!ye["!ref"])){++ce;var ke=ds(ye["!ref"]);z<ke.e.r&&(z=ke.e.r),k<ke.e.c&&(k=ke.e.c)}}return z>8191&&(z=8191),U.write_shift(2,z),U.write_shift(1,ce),U.write_shift(1,k),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function c(F,U,z){var k={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&z.qpro?(k.s.c=F.read_shift(1),F.l++,k.s.r=F.read_shift(2),k.e.c=F.read_shift(1),F.l++,k.e.r=F.read_shift(2),k):(k.s.c=F.read_shift(2),k.s.r=F.read_shift(2),U==12&&z.qpro&&(F.l+=2),k.e.c=F.read_shift(2),k.e.r=F.read_shift(2),U==12&&z.qpro&&(F.l+=2),k.s.c==65535&&(k.s.c=k.e.c=k.s.r=k.e.r=0),k)}function d(F){var U=De(8);return U.write_shift(2,F.s.c),U.write_shift(2,F.s.r),U.write_shift(2,F.e.c),U.write_shift(2,F.e.r),U}function f(F,U,z){var k=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(k[0].c=F.read_shift(1),k[3]=F.read_shift(1),k[0].r=F.read_shift(2),F.l+=2):(k[2]=F.read_shift(1),k[0].c=F.read_shift(2),k[0].r=F.read_shift(2)),k}function h(F,U,z){var k=F.l+U,ce=f(F,U,z);if(ce[1].t="s",z.vers==20768){F.l++;var ee=F.read_shift(1);return ce[1].v=F.read_shift(ee,"utf8"),ce}return z.qpro&&F.l++,ce[1].v=F.read_shift(k-F.l,"cstr"),ce}function p(F,U,z){var k=De(7+z.length);k.write_shift(1,255),k.write_shift(2,U),k.write_shift(2,F),k.write_shift(1,39);for(var ce=0;ce<k.length;++ce){var ee=z.charCodeAt(ce);k.write_shift(1,ee>=128?95:ee)}return k.write_shift(1,0),k}function g(F,U,z){var k=f(F,U,z);return k[1].v=F.read_shift(2,"i"),k}function x(F,U,z){var k=De(7);return k.write_shift(1,255),k.write_shift(2,U),k.write_shift(2,F),k.write_shift(2,z,"i"),k}function w(F,U,z){var k=f(F,U,z);return k[1].v=F.read_shift(8,"f"),k}function b(F,U,z){var k=De(13);return k.write_shift(1,255),k.write_shift(2,U),k.write_shift(2,F),k.write_shift(8,z,"f"),k}function v(F,U,z){var k=F.l+U,ce=f(F,U,z);if(ce[1].v=F.read_shift(8,"f"),z.qpro)F.l=k;else{var ee=F.read_shift(2);D(F.slice(F.l,F.l+ee),ce),F.l+=ee}return ce}function N(F,U,z){var k=U&32768;return U&=-32769,U=(k?F:0)+(U>=8192?U-16384:U),(k?"":"$")+(z?Cn(U):un(U))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(F,U){ls(F,0);for(var z=[],k=0,ce="",ee="",he="",ye="";F.l<F.length;){var ke=F[F.l++];switch(ke){case 0:z.push(F.read_shift(8,"f"));break;case 1:ee=N(U[0].c,F.read_shift(2),!0),ce=N(U[0].r,F.read_shift(2),!1),z.push(ee+ce);break;case 2:{var Ke=N(U[0].c,F.read_shift(2),!0),He=N(U[0].r,F.read_shift(2),!1);ee=N(U[0].c,F.read_shift(2),!0),ce=N(U[0].r,F.read_shift(2),!1),z.push(Ke+He+":"+ee+ce)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(F.read_shift(2));break;case 6:{for(var rt="";ke=F[F.l++];)rt+=String.fromCharCode(ke);z.push('"'+rt.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:ye=z.pop(),he=z.pop(),z.push(["AND","OR"][ke-20]+"("+he+","+ye+")");break;default:if(ke<32&&j[ke])ye=z.pop(),he=z.pop(),z.push(he+j[ke]+ye);else if(E[ke]){if(k=E[ke][1],k==69&&(k=F[F.l++]),k>z.length){console.error("WK1 bad formula parse 0x"+ke.toString(16)+":|"+z.join("|")+"|");return}var Ve=z.slice(-k);z.length-=k,z.push(E[ke][0]+"("+Ve.join(",")+")")}else return ke<=7?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=24?console.error("WK1 unsupported op "+ke.toString(16)):ke<=30?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=115?console.error("WK1 unsupported function opcode "+ke.toString(16)):console.error("WK1 unrecognized opcode "+ke.toString(16))}}z.length==1?U[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function T(F){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=F.read_shift(2),U[3]=F[F.l++],U[0].c=F[F.l++],U}function M(F,U){var z=T(F);return z[1].t="s",z[1].v=F.read_shift(U-4,"cstr"),z}function C(F,U,z,k){var ce=De(6+k.length);ce.write_shift(2,F),ce.write_shift(1,z),ce.write_shift(1,U),ce.write_shift(1,39);for(var ee=0;ee<k.length;++ee){var he=k.charCodeAt(ee);ce.write_shift(1,he>=128?95:he)}return ce.write_shift(1,0),ce}function P(F,U){var z=T(F);z[1].v=F.read_shift(2);var k=z[1].v>>1;if(z[1].v&1)switch(k&7){case 0:k=(k>>3)*5e3;break;case 1:k=(k>>3)*500;break;case 2:k=(k>>3)/20;break;case 3:k=(k>>3)/200;break;case 4:k=(k>>3)/2e3;break;case 5:k=(k>>3)/2e4;break;case 6:k=(k>>3)/16;break;case 7:k=(k>>3)/64;break}return z[1].v=k,z}function I(F,U){var z=T(F),k=F.read_shift(4),ce=F.read_shift(4),ee=F.read_shift(2);if(ee==65535)return k===0&&ce===3221225472?(z[1].t="e",z[1].v=15):k===0&&ce===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var he=ee&32768;return ee=(ee&32767)-16446,z[1].v=(1-he*2)*(ce*Math.pow(2,ee+32)+k*Math.pow(2,ee)),z}function G(F,U,z,k){var ce=De(14);if(ce.write_shift(2,F),ce.write_shift(1,z),ce.write_shift(1,U),k==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var ee=0,he=0,ye=0,ke=0;return k<0&&(ee=1,k=-k),he=Math.log2(k)|0,k/=Math.pow(2,he-31),ke=k>>>0,(ke&2147483648)==0&&(k/=2,++he,ke=k>>>0),k-=ke,ke|=2147483648,ke>>>=0,k*=Math.pow(2,32),ye=k>>>0,ce.write_shift(4,ye),ce.write_shift(4,ke),he+=16383+(ee?32768:0),ce.write_shift(2,he),ce}function J(F,U){var z=I(F);return F.l+=U-14,z}function H(F,U){var z=T(F),k=F.read_shift(4);return z[1].v=k>>6,z}function ie(F,U){var z=T(F),k=F.read_shift(8,"f");return z[1].v=k,z}function Z(F,U){var z=ie(F);return F.l+=U-10,z}function O(F,U){return F[F.l+U-1]==0?F.read_shift(U,"cstr"):""}function K(F,U){var z=F[F.l++];z>U-1&&(z=U-1);for(var k="";k.length<z;)k+=String.fromCharCode(F[F.l++]);return k}function W(F,U,z){if(!(!z.qpro||U<21)){var k=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var ce=F.read_shift(U-21,"cstr");return[k,ce]}}function Y(F,U){for(var z={},k=F.l+U;F.l<k;){var ce=F.read_shift(2);if(ce==14e3){for(z[ce]=[0,""],z[ce][0]=F.read_shift(2);F[F.l];)z[ce][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return z}function oe(F,U){var z=De(5+F.length);z.write_shift(2,14e3),z.write_shift(2,U);for(var k=0;k<F.length;++k){var ce=F.charCodeAt(k);z[z.l++]=ce>127?95:ce}return z[z.l++]=0,z}var se={0:{n:"BOF",f:oN},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:O},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},X={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:M},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:J},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:H},38:{n:"??"},39:{n:"NUMBER27",f:ie},40:{n:"FORMULA28",f:Z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:O},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:e}}(),mR=/^\s|\s$|[\t\n\r]/;function hN(t,e){if(!e.bookSST)return"";var r=[Mr];r[r.length]=Ge("sst",null,{xmlns:Hl[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var s=t[n],a="<si>";s.r?a+=s.r:(a+="<t",s.t||(s.t=""),s.t.match(mR)&&(a+=' xml:space="preserve"'),a+=">"+Zt(s.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function pR(t){return[t.read_shift(4),t.read_shift(4)]}function gR(t,e){return e||(e=De(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var xR=oD;function yR(t){var e=qn();Fe(e,159,gR(t));for(var r=0;r<t.length;++r)Fe(e,19,xR(t[r]));return Fe(e,160),e.end()}function vR(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function mN(t){var e=0,r,n=vR(t),s=n.length+1,a,o,c,d,f;for(r=Co(s),r[0]=n.length,a=1;a!=s;++a)r[a]=n[a-1];for(a=s-1;a>=0;--a)o=r[a],c=(e&16384)===0?0:1,d=e<<1&32767,f=c|d,e=f^o;return e^52811}var bR=function(){function t(s,a){switch(a.type){case"base64":return e(Oa(s),a);case"binary":return e(s,a);case"buffer":return e($t&&Buffer.isBuffer(s)?s.toString("binary"):Gu(s),a);case"array":return e(n0(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){var o=a||{},c=o.dense?[]:{},d=s.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(h,p){Array.isArray(c)&&(c[p]=[]);for(var g=/\\\w+\b/g,x=0,w,b=-1;w=g.exec(h);){switch(w[0]){case"\\cell":var v=h.slice(x,g.lastIndex-w[0].length);if(v[0]==" "&&(v=v.slice(1)),++b,v.length){var N={v,t:"s"};Array.isArray(c)?c[p][b]=N:c[er({r:p,c:b})]=N}break}x=g.lastIndex}b>f.e.c&&(f.e.c=b)}),c["!ref"]=Fr(f),c}function r(s,a){return Po(t(s,a),a)}function n(s){for(var a=["{\\rtf1\\ansi"],o=ur(s["!ref"]),c,d=Array.isArray(s),f=o.s.r;f<=o.e.r;++f){a.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)a.push("\\cellx"+(h+1));for(a.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var p=er({r:f,c:h});c=d?(s[f]||[])[h]:s[p],!(!c||c.v==null&&(!c.f||c.F))&&(a.push(" "+(c.w||(Ma(c),c.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function db(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var wR=6,Da=wR;function gh(t){return Math.floor((t+Math.round(128/Da)/256)*Da)}function xh(t){return Math.floor((t-5)/Da*100+.5)/100}function dg(t){return Math.round((t*Da+5)/Da*256)/256}function vx(t){t.width?(t.wpx=gh(t.width),t.wch=xh(t.wpx),t.MDW=Da):t.wpx?(t.wch=xh(t.wpx),t.width=dg(t.wch),t.MDW=Da):typeof t.wch=="number"&&(t.width=dg(t.wch),t.wpx=gh(t.width),t.MDW=Da),t.customWidth&&delete t.customWidth}var SR=96,pN=SR;function yh(t){return t*96/pN}function gN(t){return t*pN/96}function _R(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Ge("numFmt",null,{numFmtId:n,formatCode:Zt(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ge("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function NR(t){var e=[];return e[e.length]=Ge("cellXfs",null),t.forEach(function(r){e[e.length]=Ge("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ge("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function xN(t,e){var r=[Mr,Ge("styleSheet",null,{xmlns:Hl[0],"xmlns:vt":Gr.vt})],n;return t.SSF&&(n=_R(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=NR(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function CR(t,e){var r=t.read_shift(2),n=jn(t);return[r,n]}function jR(t,e,r){r||(r=De(6+4*e.length)),r.write_shift(2,t),Jr(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function TR(t,e,r){var n={};n.sz=t.read_shift(2)/20;var s=mD(t);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var c=t.read_shift(1);c>0&&(n.family=c);var d=t.read_shift(1);switch(d>0&&(n.charset=d),t.l++,n.color=hD(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=jn(t),n}function ER(t,e){e||(e=De(25+4*32)),e.write_shift(2,t.sz*20),pD(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),mh(t.color,e);var n=0;return n=2,e.write_shift(1,n),Jr(t.name,e),e.length>e.l?e.slice(0,e.l):e}var kR=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ip,AR=ma;function fb(t,e){e||(e=De(4*3+8*7+16*1)),ip||(ip=ox(kR));var r=ip[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(mh({auto:1},e),mh({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function PR(t,e){var r=t.l+e,n=t.read_shift(2),s=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:s}}function yN(t,e,r){r||(r=De(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Rc(t,e){return e||(e=De(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var DR=ma;function RR(t,e){return e||(e=De(51)),e.write_shift(1,0),Rc(null,e),Rc(null,e),Rc(null,e),Rc(null,e),Rc(null,e),e.length>e.l?e.slice(0,e.l):e}function FR(t,e){return e||(e=De(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),hh(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function OR(t,e,r){var n=De(2052);return n.write_shift(4,t),hh(e,n),hh(r,n),n.length>n.l?n.slice(0,n.l):n}function MR(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&++r}),r!=0&&(Fe(t,615,Gs(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&Fe(t,44,jR(s,e[s]))}),Fe(t,616))}}function LR(t){var e=1;Fe(t,611,Gs(e)),Fe(t,43,ER({sz:12,color:{theme:1},name:"Calibri",family:2})),Fe(t,612)}function IR(t){var e=2;Fe(t,603,Gs(e)),Fe(t,45,fb({patternType:"none"})),Fe(t,45,fb({patternType:"gray125"})),Fe(t,604)}function BR(t){var e=1;Fe(t,613,Gs(e)),Fe(t,46,RR()),Fe(t,614)}function UR(t){var e=1;Fe(t,626,Gs(e)),Fe(t,47,yN({numFmtId:0},65535)),Fe(t,627)}function zR(t,e){Fe(t,617,Gs(e.length)),e.forEach(function(r){Fe(t,47,yN(r,0))}),Fe(t,618)}function VR(t){var e=1;Fe(t,619,Gs(e)),Fe(t,48,FR({xfId:0,name:"Normal"})),Fe(t,620)}function HR(t){var e=0;Fe(t,505,Gs(e)),Fe(t,506)}function WR(t){var e=0;Fe(t,508,OR(e,"TableStyleMedium9","PivotStyleMedium4")),Fe(t,509)}function $R(t,e){var r=qn();return Fe(r,278),MR(r,t.SSF),LR(r),IR(r),BR(r),UR(r),zR(r,e.cellXfs),VR(r),HR(r),WR(r),Fe(r,279),r.end()}function vN(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Mr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function YR(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:jn(t)}}function KR(t){var e=De(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Jr(t.name,e),e.slice(0,e.l)}function GR(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function qR(t){var e=De(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function XR(t,e){var r=De(8+2*e.length);return r.write_shift(4,t),Jr(e,r),r.slice(0,r.l)}function JR(t){return t.l+=4,t.read_shift(4)!=0}function QR(t,e){var r=De(8);return r.write_shift(4,t),r.write_shift(4,1),r}function ZR(){var t=qn();return Fe(t,332),Fe(t,334,Gs(1)),Fe(t,335,KR({name:"XLDAPR",version:12e4,flags:3496657072})),Fe(t,336),Fe(t,339,XR(1,"XLDAPR")),Fe(t,52),Fe(t,35,Gs(514)),Fe(t,4096,Gs(0)),Fe(t,4097,Ns(1)),Fe(t,36),Fe(t,53),Fe(t,340),Fe(t,337,QR(1)),Fe(t,51,qR([[1,0]])),Fe(t,338),Fe(t,333),t.end()}function bN(){var t=[Mr];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function eF(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=er(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var yl=1024;function wN(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[Ge("xml",null,{"xmlns:v":cs.v,"xmlns:o":cs.o,"xmlns:x":cs.x,"xmlns:mv":cs.mv}).replace(/\/>/,">"),Ge("o:shapelayout",Ge("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Ge("v:shapetype",[Ge("v:stroke",null,{joinstyle:"miter"}),Ge("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];yl<t*1e3;)yl+=1e3;return e.forEach(function(a){var o=Xr(a[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var d=c.type=="gradient"?Ge("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Ge("v:fill",d,c),h={on:"t",obscured:"t"};++yl,s=s.concat(["<v:shape"+Cu({id:"_x0000_s"+yl,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Ge("v:shadow",null,h),Ge("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ln("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),ln("x:AutoFill","False"),ln("x:Row",String(o.r)),ln("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function SN(t){var e=[Mr,Ge("comments",null,{xmlns:Hl[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(s){var a=Zt(s.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var s=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(s=r.indexOf(Zt(d.a))),a.push(d.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),a.length<=1)e.push(ln("t",Zt(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,c=1;c<a.length;++c)o+=`Reply:
    `+a[c]+`
`;e.push(ln("t",Zt(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function tF(t,e,r){var n=[Mr,Ge("ThreadedComments",null,{xmlns:Gr.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var a="";(s[1]||[]).forEach(function(o,c){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var d={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};c==0?a=d.id:d.parentId=a,o.ID=d.id,o.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),n.push(Ge("threadedComment",ln("text",o.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function rF(t){var e=[Mr,Ge("personList",null,{xmlns:Gr.TCMNT,"xmlns:x":Hl[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Ge("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function nF(t){var e={};e.iauthor=t.read_shift(4);var r=Oo(t);return e.rfx=r.s,e.ref=er(r.s),t.l+=16,e}function sF(t,e){return e==null&&(e=De(36)),e.write_shift(4,t[1].iauthor),$l(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var aF=jn;function iF(t){return Jr(t.slice(0,54))}function oF(t){var e=qn(),r=[];return Fe(e,628),Fe(e,630),t.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Fe(e,632,iF(s.a)))})}),Fe(e,631),Fe(e,633),t.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var a={s:Xr(n[0]),e:Xr(n[0])};Fe(e,635,sF([a,s])),s.t&&s.t.length>0&&Fe(e,637,cD(s)),Fe(e,636),delete s.iauthor})}),Fe(e,634),Fe(e,629),e.end()}function lF(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&tr.utils.cfb_add(t,s,e.FileIndex[n].content)}})}var _N=["xlsb","xlsm","xlam","biff8","xla"],cF=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,s,a,o){var c=!1,d=!1;a.length==0?d=!0:a.charAt(0)=="["&&(d=!0,a=a.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var f=a.length>0?parseInt(a,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return c?h+=e.c:--h,d?f+=e.r:--f,s+(c?"":"$")+Cn(h)+(d?"":"$")+un(f)}return function(s,a){return e=a,s.replace(t,r)}}(),bx=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,wx=function(){return function(e,r){return e.replace(bx,function(n,s,a,o,c,d){var f=mx(o)-(a?0:r.c),h=hx(d)-(c?0:r.r),p=h==0?"":c?h+1:"["+h+"]",g=f==0?"":a?f+1:"["+f+"]";return s+"R"+p+"C"+g})}}();function uF(t,e){return t.replace(bx,function(r,n,s,a,o,c){return n+(s=="$"?s+a:Cn(mx(a)+e.c))+(o=="$"?o+c:un(hx(c)+e.r))})}function dF(t){return t.length!=1}function Dr(t){t.l+=1}function ji(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function NN(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return CN(t);r.biff==12&&(n=4)}var s=t.read_shift(n),a=t.read_shift(n),o=ji(t),c=ji(t);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:c[0],cRel:c[1],rRel:c[2]}}}function CN(t){var e=ji(t),r=ji(t),n=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function fF(t,e,r){if(r.biff<8)return CN(t);var n=t.read_shift(r.biff==12?4:2),s=t.read_shift(r.biff==12?4:2),a=ji(t),o=ji(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function jN(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return hF(t);var n=t.read_shift(r&&r.biff==12?4:2),s=ji(t);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function hF(t){var e=ji(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function mF(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function pF(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return gF(t);var s=t.read_shift(n>=12?4:2),a=t.read_shift(2),o=(a&16384)>>14,c=(a&32768)>>15;if(a&=16383,c==1)for(;s>524287;)s-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:o,rRel:c}}function gF(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),s==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:s,rRel:n}}function xF(t,e,r){var n=(t[t.l++]&96)>>5,s=NN(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function yF(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var o=NN(t,a,r);return[n,s,o]}function vF(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function bF(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,s]}function wF(t,e,r){var n=(t[t.l++]&96)>>5,s=fF(t,e-1,r);return[n,s]}function SF(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function hb(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function _F(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),s=[],a=0;a<=n;++a)s.push(t.read_shift(r&&r.biff==2?1:2));return s}function NF(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function CF(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function jF(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function TF(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function TN(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function EF(t){return t.read_shift(2),TN(t)}function kF(t){return t.read_shift(2),TN(t)}function AF(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=jN(t,0,r);return[n,s]}function PF(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=pF(t,0,r);return[n,s]}function DF(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=jN(t,0,r);return[n,s,a]}function RF(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(r&&r.biff<=3?1:2);return[RO[s],AN[s],n]}function FF(t,e,r){var n=t[t.l++],s=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:OF(t);return[s,(a[0]===0?AN:DO)[a[1]]]}function OF(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function MF(t,e,r){t.l+=r&&r.biff==2?3:4}function LF(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function IF(t){return t.l++,Ju[t.read_shift(1)]}function BF(t){return t.l++,t.read_shift(2)}function UF(t){return t.l++,t.read_shift(1)!==0}function zF(t){return t.l++,Yl(t)}function VF(t,e,r){return t.l++,cN(t,e-1,r)}function HF(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=DD(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Ju[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Yl(t);break;case 2:r[1]=MD(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function WF(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),s=[],a=0;a!=n;++a)s.push((r.biff==12?Oo:BD)(t));return s}function $F(t,e,r){var n=0,s=0;r.biff==12?(n=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var a=0,o=[];a!=n&&(o[a]=[]);++a)for(var c=0;c!=s;++c)o[a][c]=HF(t,r.biff);return o}function YF(t,e,r){var n=t.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,a=t.read_shift(s);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function KF(t,e,r){if(r.biff==5)return GF(t);var n=t.read_shift(1)>>>5&3,s=t.read_shift(2),a=t.read_shift(4);return[n,s,a]}function GF(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function qF(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function XF(t,e,r){var n=t.read_shift(1)>>>5&3,s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function JF(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function QF(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,s]}var ZF=ma,eO=ma,tO=ma;function Qu(t,e,r){return t.l+=2,[mF(t)]}function Sx(t){return t.l+=6,[]}var rO=Qu,nO=Sx,sO=Sx,aO=Qu;function EN(t){return t.l+=2,[oN(t),t.read_shift(2)&1]}var iO=Qu,oO=EN,lO=Sx,cO=Qu,uO=Qu,dO=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function fO(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),s=t.read_shift(2),a=t.read_shift(2),o=dO[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:s,C:a}}function hO(t){return t.l+=2,[t.read_shift(4)]}function mO(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function pO(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function gO(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function xO(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function yO(t){return t.l+=4,[0,0]}var mb={1:{n:"PtgExp",f:LF},2:{n:"PtgTbl",f:tO},3:{n:"PtgAdd",f:Dr},4:{n:"PtgSub",f:Dr},5:{n:"PtgMul",f:Dr},6:{n:"PtgDiv",f:Dr},7:{n:"PtgPower",f:Dr},8:{n:"PtgConcat",f:Dr},9:{n:"PtgLt",f:Dr},10:{n:"PtgLe",f:Dr},11:{n:"PtgEq",f:Dr},12:{n:"PtgGe",f:Dr},13:{n:"PtgGt",f:Dr},14:{n:"PtgNe",f:Dr},15:{n:"PtgIsect",f:Dr},16:{n:"PtgUnion",f:Dr},17:{n:"PtgRange",f:Dr},18:{n:"PtgUplus",f:Dr},19:{n:"PtgUminus",f:Dr},20:{n:"PtgPercent",f:Dr},21:{n:"PtgParen",f:Dr},22:{n:"PtgMissArg",f:Dr},23:{n:"PtgStr",f:VF},26:{n:"PtgSheet",f:mO},27:{n:"PtgEndSheet",f:pO},28:{n:"PtgErr",f:IF},29:{n:"PtgBool",f:UF},30:{n:"PtgInt",f:BF},31:{n:"PtgNum",f:zF},32:{n:"PtgArray",f:SF},33:{n:"PtgFunc",f:RF},34:{n:"PtgFuncVar",f:FF},35:{n:"PtgName",f:YF},36:{n:"PtgRef",f:AF},37:{n:"PtgArea",f:xF},38:{n:"PtgMemArea",f:qF},39:{n:"PtgMemErr",f:ZF},40:{n:"PtgMemNoMem",f:eO},41:{n:"PtgMemFunc",f:XF},42:{n:"PtgRefErr",f:JF},43:{n:"PtgAreaErr",f:vF},44:{n:"PtgRefN",f:PF},45:{n:"PtgAreaN",f:wF},46:{n:"PtgMemAreaN",f:gO},47:{n:"PtgMemNoMemN",f:xO},57:{n:"PtgNameX",f:KF},58:{n:"PtgRef3d",f:DF},59:{n:"PtgArea3d",f:yF},60:{n:"PtgRefErr3d",f:QF},61:{n:"PtgAreaErr3d",f:bF},255:{}},vO={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},bO={1:{n:"PtgElfLel",f:EN},2:{n:"PtgElfRw",f:cO},3:{n:"PtgElfCol",f:rO},6:{n:"PtgElfRwV",f:uO},7:{n:"PtgElfColV",f:aO},10:{n:"PtgElfRadical",f:iO},11:{n:"PtgElfRadicalS",f:lO},13:{n:"PtgElfColS",f:nO},15:{n:"PtgElfColSV",f:sO},16:{n:"PtgElfRadicalLel",f:oO},25:{n:"PtgList",f:fO},29:{n:"PtgSxName",f:hO},255:{}},wO={0:{n:"PtgAttrNoop",f:yO},1:{n:"PtgAttrSemi",f:TF},2:{n:"PtgAttrIf",f:CF},4:{n:"PtgAttrChoose",f:_F},8:{n:"PtgAttrGoto",f:NF},16:{n:"PtgAttrSum",f:MF},32:{n:"PtgAttrBaxcel",f:hb},33:{n:"PtgAttrBaxcel",f:hb},64:{n:"PtgAttrSpace",f:EF},65:{n:"PtgAttrSpaceSemi",f:kF},128:{n:"PtgAttrIfError",f:jF},255:{}};function SO(t,e,r,n){if(n.biff<8)return ma(t,e);for(var s=t.l+e,a=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=$F(t,0,n),a.push(r[o][1]);break;case"PtgMemArea":r[o][2]=WF(t,r[o][1],n),a.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),a.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=s-t.l,e!==0&&a.push(ma(t,e)),a}function _O(t,e,r){for(var n=t.l+e,s,a,o=[];n!=t.l;)e=n-t.l,a=t[t.l],s=mb[a]||mb[vO[a]],(a===24||a===25)&&(s=(a===24?bO:wO)[t[t.l+1]]),!s||!s.f?ma(t,e):o.push([s.n,s.f(t,e,r)]);return o}function NO(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],s=[],a=0;a<n.length;++a){var o=n[a];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var CO={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function jO(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function kN(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(t[n[0]][0]){case 357:return s=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(s=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function pb(t,e,r){var n=kN(t,e,r);return n=="#REF"?n:jO(n,r)}function Dl(t,e,r,n,s){var a=s&&s.biff||8,o={s:{c:0,r:0}},c=[],d,f,h,p=0,g=0,x,w="";if(!t[0]||!t[0][0])return"";for(var b=-1,v="",N=0,E=t[0].length;N<E;++N){var j=t[0][N];switch(j[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=c.pop(),f=c.pop(),b>=0){switch(t[0][b][1][0]){case 0:v=Nr(" ",t[0][b][1][1]);break;case 1:v=Nr("\r",t[0][b][1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}f=f+v,b=-1}c.push(f+CO[j[0]]+d);break;case"PtgIsect":d=c.pop(),f=c.pop(),c.push(f+" "+d);break;case"PtgUnion":d=c.pop(),f=c.pop(),c.push(f+","+d);break;case"PtgRange":d=c.pop(),f=c.pop(),c.push(f+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=nu(j[1][1],o,s),c.push(su(h,a));break;case"PtgRefN":h=r?nu(j[1][1],r,s):j[1][1],c.push(su(h,a));break;case"PtgRef3d":p=j[1][1],h=nu(j[1][2],o,s),w=pb(n,p,s),c.push(w+"!"+su(h,a));break;case"PtgFunc":case"PtgFuncVar":var D=j[1][0],T=j[1][1];D||(D=0),D&=127;var M=D==0?[]:c.slice(-D);c.length-=D,T==="User"&&(T=M.shift()),c.push(T+"("+M.join(",")+")");break;case"PtgBool":c.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(j[1]);break;case"PtgNum":c.push(String(j[1]));break;case"PtgStr":c.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(j[1]);break;case"PtgAreaN":x=Z2(j[1][1],r?{s:r}:o,s),c.push(sp(x,s));break;case"PtgArea":x=Z2(j[1][1],o,s),c.push(sp(x,s));break;case"PtgArea3d":p=j[1][1],x=j[1][2],w=pb(n,p,s),c.push(w+"!"+sp(x,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=j[1][2];var C=(n.names||[])[g-1]||(n[0]||[])[g],P=C?C.Name:"SH33TJSNAME"+String(g);P&&P.slice(0,6)=="_xlfn."&&!s.xlfn&&(P=P.slice(6)),c.push(P);break;case"PtgNameX":var I=j[1][1];g=j[1][2];var G;if(s.biff<=5)I<0&&(I=-I),n[I]&&(G=n[I][g]);else{var J="";if(((n[I]||[])[0]||[])[0]==14849||(((n[I]||[])[0]||[])[0]==1025?n[I][g]&&n[I][g].itab>0&&(J=n.SheetNames[n[I][g].itab-1]+"!"):J=n.SheetNames[g-1]+"!"),n[I]&&n[I][g])J+=n[I][g].Name;else if(n[0]&&n[0][g])J+=n[0][g].Name;else{var H=(kN(n,I,s)||"").split(";;");H[g-1]?J=H[g-1]:J+="SH33TJSERRX"}c.push(J);break}G||(G={Name:"SH33TJSERRY"}),c.push(G.Name);break;case"PtgParen":var ie="(",Z=")";if(b>=0){switch(v="",t[0][b][1][0]){case 2:ie=Nr(" ",t[0][b][1][1])+ie;break;case 3:ie=Nr("\r",t[0][b][1][1])+ie;break;case 4:Z=Nr(" ",t[0][b][1][1])+Z;break;case 5:Z=Nr("\r",t[0][b][1][1])+Z;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}b=-1}c.push(ie+c.pop()+Z);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":h={c:j[1][1],r:j[1][0]};var O={c:r.c,r:r.r};if(n.sharedf[er(h)]){var K=n.sharedf[er(h)];c.push(Dl(K,o,O,n,s))}else{var W=!1;for(d=0;d!=n.arrayf.length;++d)if(f=n.arrayf[d],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){c.push(Dl(f[1],o,O,n,s)),W=!0;break}W||c.push(j[1])}break;case"PtgArray":c.push("{"+NO(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var Y=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&b>=0&&Y.indexOf(t[0][N][0])==-1){j=t[0][b];var oe=!0;switch(j[1][0]){case 4:oe=!1;case 0:v=Nr(" ",j[1][1]);break;case 5:oe=!1;case 1:v=Nr("\r",j[1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}c.push((oe?v:"")+c.pop()+(oe?"":v)),b=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function TO(t){if(t==null){var e=De(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return jo(t);return jo(0)}function EO(t,e,r,n,s){var a=To(e,r,s),o=TO(t.v),c=De(6),d=33;c.write_shift(2,d),c.write_shift(4,0);for(var f=De(t.bf.length),h=0;h<t.bf.length;++h)f[h]=t.bf[h];var p=on([a,o,c,f]);return p}function s0(t,e,r){var n=t.read_shift(4),s=_O(t,n,r),a=t.read_shift(4),o=a>0?SO(t,a,s,r):null;return[s,o]}var kO=s0,a0=s0,AO=s0,PO=s0,DO={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},AN={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},RO={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function FO(t){var e="of:="+t.replace(bx,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function OO(t){return t.replace(/\./,"!")}var au=typeof Map<"u";function _x(t,e,r){var n=0,s=t.length;if(r){if(au?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=au?r.get(e):r[e];n<a.length;++n)if(t[a[n]].t===e)return t.Count++,a[n]}}else for(;n<s;++n)if(t[n].t===e)return t.Count++,n;return t[s]={t:e},t.Count++,t.Unique++,r&&(au?(r.has(e)||r.set(e,[]),r.get(e).push(s)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(s))),s}function i0(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Da=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=xh(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=dg(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function PN(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Oi(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],s=60,a=t.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){j_(e.z,s),r.ssf[s]=e.z,r.revssf[e.z]=n=s;break}}for(s=0;s!=a;++s)if(t[s].numFmtId===n)return s;return t[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function MO(t,e,r){if(t&&t["!ref"]){var n=ur(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function LO(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Fr(t[r])+'"/>';return e+"</mergeCells>"}function IO(t,e,r,n,s){var a=!1,o={},c=null;if(n.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[r];try{e.Workbook&&(d=e.Workbook.Sheets[r].CodeName||d)}catch{}a=!0,o.codeName=Nu(Zt(d))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),c=(c||"")+Ge("outlinePr",null,f)}!a&&!c||(s[s.length]=Ge("sheetPr",c,o))}var BO=["objects","scenarios","selectLockedCells","selectUnlockedCells"],UO=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function zO(t){var e={sheet:1};return BO.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),UO.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=mN(t.password).toString(16).toUpperCase()),Ge("sheetProtection",null,e)}function VO(t){return PN(t),Ge("pageMargins",null,t)}function HO(t,e){for(var r=["<cols>"],n,s=0;s!=e.length;++s)(n=e[s])&&(r[r.length]=Ge("col",null,i0(s,n)));return r[r.length]="</cols>",r.join("")}function WO(t,e,r,n){var s=typeof t.ref=="string"?t.ref:Fr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=ds(s);o.s.r==o.e.r&&(o.e.r=ds(e["!ref"]).e.r,s=Fr(o));for(var c=0;c<a.length;++c){var d=a[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return c==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Ge("autoFilter",null,{ref:s})}function $O(t,e,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ge("sheetViews",Ge("sheetView",null,s),{})}function YO(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",a=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=Ju[t.v];break;case"d":n&&n.cellDates?s=On(t.v,-1).toISOString():(t=Jn(t),t.t="n",s=""+(t.v=Xn(On(t.v)))),typeof t.z>"u"&&(t.z=Cr[14]);break;default:s=t.v;break}var c=ln("v",Zt(s)),d={r:e},f=Oi(n.cellXfs,t,n);switch(f!==0&&(d.s=f),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){c=ln("v",""+_x(n.Strings,t.v,n.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=a&&(t.t=a,t.v=o),typeof t.f=="string"&&t.f){var h=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;c=Ge("f",Zt(t.f),h)+(t.v!=null?c:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(d.cm=1),Ge("c",c,d)}function KO(t,e,r,n){var s=[],a=[],o=ur(t["!ref"]),c="",d,f="",h=[],p=0,g=0,x=t["!rows"],w=Array.isArray(t),b={r:f},v,N=-1;for(g=o.s.c;g<=o.e.c;++g)h[g]=Cn(g);for(p=o.s.r;p<=o.e.r;++p){for(a=[],f=un(p),g=o.s.c;g<=o.e.c;++g){d=h[g]+f;var E=w?(t[p]||[])[g]:t[d];E!==void 0&&(c=YO(E,d,t,e))!=null&&a.push(c)}(a.length>0||x&&x[p])&&(b={r:f},x&&x[p]&&(v=x[p],v.hidden&&(b.hidden=1),N=-1,v.hpx?N=yh(v.hpx):v.hpt&&(N=v.hpt),N>-1&&(b.ht=N,b.customHeight=1),v.level&&(b.outlineLevel=v.level)),s[s.length]=Ge("row",a.join(""),b))}if(x)for(;p<x.length;++p)x&&x[p]&&(b={r:p+1},v=x[p],v.hidden&&(b.hidden=1),N=-1,v.hpx?N=yh(v.hpx):v.hpt&&(N=v.hpt),N>-1&&(b.ht=N,b.customHeight=1),v.level&&(b.outlineLevel=v.level),s[s.length]=Ge("row","",b));return s.join("")}function DN(t,e,r,n){var s=[Mr,Ge("worksheet",null,{xmlns:Hl[0],"xmlns:r":Gr.r})],a=r.SheetNames[t],o=0,c="",d=r.Sheets[a];d==null&&(d={});var f=d["!ref"]||"A1",h=ur(f);if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),f=Fr(h)}n||(n={}),d["!comments"]=[];var p=[];IO(d,r,t,e,s),s[s.length]=Ge("dimension",null,{ref:f}),s[s.length]=$O(d,e,t,r),e.sheetFormat&&(s[s.length]=Ge("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(s[s.length]=HO(d,d["!cols"])),s[o=s.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(c=KO(d,e),c.length>0&&(s[s.length]=c)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),d["!protect"]&&(s[s.length]=zO(d["!protect"])),d["!autofilter"]!=null&&(s[s.length]=WO(d["!autofilter"],d,r,t)),d["!merges"]!=null&&d["!merges"].length>0&&(s[s.length]=LO(d["!merges"]));var g=-1,x,w=-1;return d["!links"].length>0&&(s[s.length]="<hyperlinks>",d["!links"].forEach(function(b){b[1].Target&&(x={ref:b[0]},b[1].Target.charAt(0)!="#"&&(w=Jt(n,-1,Zt(b[1].Target).replace(/#.*$/,""),Vt.HLINK),x["r:id"]="rId"+w),(g=b[1].Target.indexOf("#"))>-1&&(x.location=Zt(b[1].Target.slice(g+1))),b[1].Tooltip&&(x.tooltip=Zt(b[1].Tooltip)),s[s.length]=Ge("hyperlink",null,x))}),s[s.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(s[s.length]=VO(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=ln("ignoredErrors",Ge("ignoredError",null,{numberStoredAsText:1,sqref:f}))),p.length>0&&(w=Jt(n,-1,"../drawings/drawing"+(t+1)+".xml",Vt.DRAW),s[s.length]=Ge("drawing",null,{"r:id":"rId"+w}),d["!drawing"]=p),d["!comments"].length>0&&(w=Jt(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Vt.VML),s[s.length]=Ge("legacyDrawing",null,{"r:id":"rId"+w}),d["!legacy"]=w),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function GO(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=s/20),r}function qO(t,e,r){var n=De(145),s=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var a=320;s.hpx?a=yh(s.hpx)*20:s.hpt&&(a=s.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var c=0,d=n.l;n.l+=4;for(var f={r:t,c:0},h=0;h<16;++h)if(!(e.s.c>h+1<<10||e.e.c<h<<10)){for(var p=-1,g=-1,x=h<<10;x<h+1<<10;++x){f.c=x;var w=Array.isArray(r)?(r[f.r]||[])[f.c]:r[er(f)];w&&(p<0&&(p=x),g=x)}p<0||(++c,n.write_shift(4,p),n.write_shift(4,g))}var b=n.l;return n.l=d,n.write_shift(4,c),n.l=b,n.length>n.l?n.slice(0,n.l):n}function XO(t,e,r,n){var s=qO(n,r,e);(s.length>17||(e["!rows"]||[])[n])&&Fe(t,0,s)}var JO=Oo,QO=$l;function ZO(){}function eM(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=uD(t),r}function tM(t,e,r){r==null&&(r=De(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return mh({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),K_(t,r),r.slice(0,r.l)}function rM(t){var e=As(t);return[e]}function nM(t,e,r){return r==null&&(r=De(8)),Do(e,r)}function sM(t){var e=Ro(t);return[e]}function aM(t,e,r){return r==null&&(r=De(4)),Fo(e,r)}function iM(t){var e=As(t),r=t.read_shift(1);return[e,r,"b"]}function oM(t,e,r){return r==null&&(r=De(9)),Do(e,r),r.write_shift(1,t.v?1:0),r}function lM(t){var e=Ro(t),r=t.read_shift(1);return[e,r,"b"]}function cM(t,e,r){return r==null&&(r=De(5)),Fo(e,r),r.write_shift(1,t.v?1:0),r}function uM(t){var e=As(t),r=t.read_shift(1);return[e,r,"e"]}function dM(t,e,r){return r==null&&(r=De(9)),Do(e,r),r.write_shift(1,t.v),r}function fM(t){var e=Ro(t),r=t.read_shift(1);return[e,r,"e"]}function hM(t,e,r){return r==null&&(r=De(8)),Fo(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function mM(t){var e=As(t),r=t.read_shift(4);return[e,r,"s"]}function pM(t,e,r){return r==null&&(r=De(12)),Do(e,r),r.write_shift(4,e.v),r}function gM(t){var e=Ro(t),r=t.read_shift(4);return[e,r,"s"]}function xM(t,e,r){return r==null&&(r=De(8)),Fo(e,r),r.write_shift(4,e.v),r}function yM(t){var e=As(t),r=Yl(t);return[e,r,"n"]}function vM(t,e,r){return r==null&&(r=De(16)),Do(e,r),jo(t.v,r),r}function bM(t){var e=Ro(t),r=Yl(t);return[e,r,"n"]}function wM(t,e,r){return r==null&&(r=De(12)),Fo(e,r),jo(t.v,r),r}function SM(t){var e=As(t),r=G_(t);return[e,r,"n"]}function _M(t,e,r){return r==null&&(r=De(12)),Do(e,r),q_(t.v,r),r}function NM(t){var e=Ro(t),r=G_(t);return[e,r,"n"]}function CM(t,e,r){return r==null&&(r=De(8)),Fo(e,r),q_(t.v,r),r}function jM(t){var e=As(t),r=px(t);return[e,r,"is"]}function TM(t){var e=As(t),r=jn(t);return[e,r,"str"]}function EM(t,e,r){return r==null&&(r=De(12+4*t.v.length)),Do(e,r),Jr(t.v,r),r.length>r.l?r.slice(0,r.l):r}function kM(t){var e=Ro(t),r=jn(t);return[e,r,"str"]}function AM(t,e,r){return r==null&&(r=De(8+4*t.v.length)),Fo(e,r),Jr(t.v,r),r.length>r.l?r.slice(0,r.l):r}function PM(t,e,r){var n=t.l+e,s=As(t);s.r=r["!row"];var a=t.read_shift(1),o=[s,a,"b"];if(r.cellFormula){t.l+=2;var c=a0(t,n-t.l,r);o[3]=Dl(c,null,s,r.supbooks,r)}else t.l=n;return o}function DM(t,e,r){var n=t.l+e,s=As(t);s.r=r["!row"];var a=t.read_shift(1),o=[s,a,"e"];if(r.cellFormula){t.l+=2;var c=a0(t,n-t.l,r);o[3]=Dl(c,null,s,r.supbooks,r)}else t.l=n;return o}function RM(t,e,r){var n=t.l+e,s=As(t);s.r=r["!row"];var a=Yl(t),o=[s,a,"n"];if(r.cellFormula){t.l+=2;var c=a0(t,n-t.l,r);o[3]=Dl(c,null,s,r.supbooks,r)}else t.l=n;return o}function FM(t,e,r){var n=t.l+e,s=As(t);s.r=r["!row"];var a=jn(t),o=[s,a,"str"];if(r.cellFormula){t.l+=2;var c=a0(t,n-t.l,r);o[3]=Dl(c,null,s,r.supbooks,r)}else t.l=n;return o}var OM=Oo,MM=$l;function LM(t,e){return e==null&&(e=De(4)),e.write_shift(4,t),e}function IM(t,e){var r=t.l+e,n=Oo(t),s=gx(t),a=jn(t),o=jn(t),c=jn(t);t.l=r;var d={rfx:n,relId:s,loc:a,display:c};return o&&(d.Tooltip=o),d}function BM(t,e){var r=De(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));$l({s:Xr(t[0]),e:Xr(t[0])},r),xx("rId"+e,r);var n=t[1].Target.indexOf("#"),s=n==-1?"":t[1].Target.slice(n+1);return Jr(s||"",r),Jr(t[1].Tooltip||"",r),Jr("",r),r.slice(0,r.l)}function UM(){}function zM(t,e,r){var n=t.l+e,s=X_(t),a=t.read_shift(1),o=[s];if(o[2]=a,r.cellFormula){var c=kO(t,n-t.l,r);o[1]=c}else t.l=n;return o}function VM(t,e,r){var n=t.l+e,s=Oo(t),a=[s];if(r.cellFormula){var o=PO(t,n-t.l,r);a[1]=o,t.l=n}else t.l=n;return a}function HM(t,e,r){r==null&&(r=De(18));var n=i0(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),r.write_shift(2,s),r}var RN=["left","right","top","bottom","header","footer"];function WM(t){var e={};return RN.forEach(function(r){e[r]=Yl(t)}),e}function $M(t,e){return e==null&&(e=De(6*8)),PN(t),RN.forEach(function(r){jo(t[r],e)}),e}function YM(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function KM(t,e,r){r==null&&(r=De(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function GM(t){var e=De(24);return e.write_shift(4,4),e.write_shift(4,1),$l(t,e),e}function qM(t,e){return e==null&&(e=De(16*4+2)),e.write_shift(2,t.password?mN(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function XM(){}function JM(){}function QM(t,e,r,n,s,a,o){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=Jn(e),e.z=e.z||Cr[14],e.v=Xn(On(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var d={r,c:n};switch(d.s=Oi(s.cellXfs,e,s),e.l&&a["!links"].push([er(d),e.l]),e.c&&a["!comments"].push([er(d),e.c]),e.t){case"s":case"str":return s.bookSST?(c=_x(s.Strings,e.v,s.revStrings),d.t="s",d.v=c,o?Fe(t,18,xM(e,d)):Fe(t,7,pM(e,d))):(d.t="str",o?Fe(t,17,AM(e,d)):Fe(t,6,EM(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Fe(t,13,CM(e,d)):Fe(t,2,_M(e,d)):o?Fe(t,16,wM(e,d)):Fe(t,5,vM(e,d)),!0;case"b":return d.t="b",o?Fe(t,15,cM(e,d)):Fe(t,4,oM(e,d)),!0;case"e":return d.t="e",o?Fe(t,14,hM(e,d)):Fe(t,3,dM(e,d)),!0}return o?Fe(t,12,aM(e,d)):Fe(t,1,nM(e,d)),!0}function ZM(t,e,r,n){var s=ur(e["!ref"]||"A1"),a,o="",c=[];Fe(t,145);var d=Array.isArray(e),f=s.e.r;e["!rows"]&&(f=Math.max(s.e.r,e["!rows"].length-1));for(var h=s.s.r;h<=f;++h){o=un(h),XO(t,e,s,h);var p=!1;if(h<=s.e.r)for(var g=s.s.c;g<=s.e.c;++g){h===s.s.r&&(c[g]=Cn(g)),a=c[g]+o;var x=d?(e[h]||[])[g]:e[a];if(!x){p=!1;continue}p=QM(t,x,h,g,n,e,p)}}Fe(t,146)}function eL(t,e){!e||!e["!merges"]||(Fe(t,177,LM(e["!merges"].length)),e["!merges"].forEach(function(r){Fe(t,176,MM(r))}),Fe(t,178))}function tL(t,e){!e||!e["!cols"]||(Fe(t,390),e["!cols"].forEach(function(r,n){r&&Fe(t,60,HM(n,r))}),Fe(t,391))}function rL(t,e){!e||!e["!ref"]||(Fe(t,648),Fe(t,649,GM(ur(e["!ref"]))),Fe(t,650))}function nL(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var s=Jt(r,-1,n[1].Target.replace(/#.*$/,""),Vt.HLINK);Fe(t,494,BM(n,s))}}),delete e["!links"]}function sL(t,e,r,n){if(e["!comments"].length>0){var s=Jt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Vt.VML);Fe(t,551,xx("rId"+s)),e["!legacy"]=s}}function aL(t,e,r,n){if(e["!autofilter"]){var s=e["!autofilter"],a=typeof s.ref=="string"?s.ref:Fr(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,c=ds(a);c.s.r==c.e.r&&(c.e.r=ds(e["!ref"]).e.r,a=Fr(c));for(var d=0;d<o.length;++d){var f=o[d];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+r.SheetNames[n]+"'!"+a;break}}d==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Fe(t,161,$l(ur(a))),Fe(t,162)}}function iL(t,e,r){Fe(t,133),Fe(t,137,KM(e,r)),Fe(t,138),Fe(t,134)}function oL(t,e){e["!protect"]&&Fe(t,535,qM(e["!protect"]))}function lL(t,e,r,n){var s=qn(),a=r.SheetNames[t],o=r.Sheets[a]||{},c=a;try{r&&r.Workbook&&(c=r.Workbook.Sheets[t].CodeName||c)}catch{}var d=ur(o["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Fe(s,129),(r.vbaraw||o["!outline"])&&Fe(s,147,tM(c,o["!outline"])),Fe(s,148,QO(d)),iL(s,o,r.Workbook),tL(s,o),ZM(s,o,t,e),oL(s,o),aL(s,o,r,t),eL(s,o),nL(s,o,n),o["!margins"]&&Fe(s,476,$M(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&rL(s,o),sL(s,o,t,n),Fe(s,130),s.end()}function cL(t,e){t.l+=10;var r=jn(t);return{name:r}}var uL=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function dL(t){return!t.Workbook||!t.Workbook.WBProps?"false":VP(t.Workbook.WBProps.date1904)?"true":"false"}var fL="][*?/\\".split("");function FN(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return fL.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function hL(t,e,r){t.forEach(function(n,s){FN(n);for(var a=0;a<s;++a)if(n==t[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=e&&e[s]&&e[s].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function mL(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];hL(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)MO(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function ON(t){var e=[Mr];e[e.length]=Ge("workbook",null,{xmlns:Hl[0],"xmlns:r":Gr.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(uL.forEach(function(c){t.Workbook.WBProps[c[0]]!=null&&t.Workbook.WBProps[c[0]]!=c[1]&&(n[c[0]]=t.Workbook.WBProps[c[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Ge("workbookPr",null,n);var s=t.Workbook&&t.Workbook.Sheets||[],a=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!s[a]||!s[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var o={name:Zt(t.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),s[a])switch(s[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Ge("sheet",null,o)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(c){var d={name:c.Name};c.Comment&&(d.comment=c.Comment),c.Sheet!=null&&(d.localSheetId=""+c.Sheet),c.Hidden&&(d.hidden="1"),c.Ref&&(e[e.length]=Ge("definedName",Zt(c.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function pL(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=ug(t),r.name=jn(t),r}function gL(t,e){return e||(e=De(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),xx(t.strRelID,e),Jr(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function xL(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var s=e>8?jn(t):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function yL(t,e){e||(e=De(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),K_(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function vL(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),a=dD(t),o=AO(t,0,r),c=gx(t);t.l=n;var d={Name:a,Ptg:o};return s<268435455&&(d.Sheet=s),c&&(d.Comment=c),d}function bL(t,e){Fe(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Fe(t,156,gL(s))}Fe(t,144)}function wL(t,e){e||(e=De(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Jr("SheetJS",e),Jr(oh.version,e),Jr(oh.version,e),Jr("7262",e),e.length>e.l?e.slice(0,e.l):e}function SL(t,e){e||(e=De(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function _L(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,s=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&a==-1&&(a=n);a>s||(Fe(t,135),Fe(t,158,SL(s)),Fe(t,136))}}function NL(t,e){var r=qn();return Fe(r,131),Fe(r,128,wL()),Fe(r,153,yL(t.Workbook&&t.Workbook.WBProps||null)),_L(r,t),bL(r,t),Fe(r,132),r.end()}function CL(t,e,r){return(e.slice(-4)===".bin"?NL:ON)(t)}function jL(t,e,r,n,s){return(e.slice(-4)===".bin"?lL:DN)(t,r,n,s)}function TL(t,e,r){return(e.slice(-4)===".bin"?$R:xN)(t,r)}function EL(t,e,r){return(e.slice(-4)===".bin"?yR:hN)(t,r)}function kL(t,e,r){return(e.slice(-4)===".bin"?oF:SN)(t)}function AL(t){return(t.slice(-4)===".bin"?ZR:bN)()}function PL(t,e){var r=[];return t.Props&&r.push(TD(t.Props,e)),t.Custprops&&r.push(ED(t.Props,t.Custprops)),r.join("")}function DL(){return""}function RL(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,s){var a=[];a.push(Ge("NumberFormat",null,{"ss:Format":Zt(Cr[n.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(Ge("Style",a.join(""),o))}),Ge("Styles",r.join(""))}function MN(t){return Ge("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+wx(t.Ref,{r:0,c:0})})}function FL(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var s=e[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(MN(s)))}return Ge("Names",r.join(""))}function OL(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,a=[],o=0;o<s.length;++o){var c=s[o];c.Sheet==r&&(c.Name.match(/^_xlfn\./)||a.push(MN(c)))}return a.join("")}function ML(t,e,r,n){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(Ge("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(Ge("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(Ge("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(Ge("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(ln("ProtectContents","True")),t["!protect"].objects&&s.push(ln("ProtectObjects","True")),t["!protect"].scenarios&&s.push(ln("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(ln("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(ln("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":Ge("WorksheetOptions",s.join(""),{xmlns:cs.x})}function LL(t){return t.map(function(e){var r=zP(e.t||""),n=Ge("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ge("Comment",n,{"ss:Author":e.a})}).join("")}function IL(t,e,r,n,s,a,o){if(!t||t.v==null&&t.f==null)return"";var c={};if(t.f&&(c["ss:Formula"]="="+Zt(wx(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var d=Xr(t.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(d.r==o.r?"":"["+(d.r-o.r)+"]")+"C"+(d.c==o.c?"":"["+(d.c-o.c)+"]")}if(t.l&&t.l.Target&&(c["ss:HRef"]=Zt(t.l.Target),t.l.Tooltip&&(c["x:HRefScreenTip"]=Zt(t.l.Tooltip))),r["!merges"])for(var f=r["!merges"],h=0;h!=f.length;++h)f[h].s.c!=o.c||f[h].s.r!=o.r||(f[h].e.c>f[h].s.c&&(c["ss:MergeAcross"]=f[h].e.c-f[h].s.c),f[h].e.r>f[h].s.r&&(c["ss:MergeDown"]=f[h].e.r-f[h].s.r));var p="",g="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(t.v);break;case"b":p="Boolean",g=t.v?"1":"0";break;case"e":p="Error",g=Ju[t.v];break;case"d":p="DateTime",g=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Cr[14]);break;case"s":p="String",g=UP(t.v||"");break}var x=Oi(n.cellXfs,t,n);c["ss:StyleID"]="s"+(21+x),c["ss:Index"]=o.c+1;var w=t.v!=null?g:"",b=t.t=="z"?"":'<Data ss:Type="'+p+'">'+w+"</Data>";return(t.c||[]).length>0&&(b+=LL(t.c)),Ge("Cell",b,c)}function BL(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=gN(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function UL(t,e,r,n){if(!t["!ref"])return"";var s=ur(t["!ref"]),a=t["!merges"]||[],o=0,c=[];t["!cols"]&&t["!cols"].forEach(function(v,N){vx(v);var E=!!v.width,j=i0(N,v),D={"ss:Index":N+1};E&&(D["ss:Width"]=gh(j.width)),v.hidden&&(D["ss:Hidden"]="1"),c.push(Ge("Column",null,D))});for(var d=Array.isArray(t),f=s.s.r;f<=s.e.r;++f){for(var h=[BL(f,(t["!rows"]||[])[f])],p=s.s.c;p<=s.e.c;++p){var g=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>p)&&!(a[o].s.r>f)&&!(a[o].e.c<p)&&!(a[o].e.r<f)){(a[o].s.c!=p||a[o].s.r!=f)&&(g=!0);break}if(!g){var x={r:f,c:p},w=er(x),b=d?(t[f]||[])[p]:t[w];h.push(IL(b,w,t,e,r,n,x))}}h.push("</Row>"),h.length>2&&c.push(h.join(""))}return c.join("")}function zL(t,e,r){var n=[],s=r.SheetNames[t],a=r.Sheets[s],o=a?OL(a,e,t,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=a?UL(a,e,t,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(ML(a,e,t,r)),n.join("")}function VL(t,e){e||(e={}),t.SSF||(t.SSF=Jn(Cr)),t.SSF&&(t0(),e0(t.SSF),e.revssf=r0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Oi(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(PL(t,e)),r.push(DL()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Ge("Worksheet",zL(n,e,t),{"ss:Name":Zt(t.SheetNames[n])}));return r[2]=RL(t,e),r[3]=FL(t),Mr+Ge("Workbook",r.join(""),{xmlns:cs.ss,"xmlns:o":cs.o,"xmlns:x":cs.x,"xmlns:ss":cs.ss,"xmlns:dt":cs.dt,"xmlns:html":cs.html})}var op={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function HL(t,e){var r=[],n=[],s=[],a=0,o,c=V2(tb,"n"),d=V2(rb,"n");if(t.Props)for(o=fn(t.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(c,o[a])?r:Object.prototype.hasOwnProperty.call(d,o[a])?n:s).push([o[a],t.Props[o[a]]]);if(t.Custprops)for(o=fn(t.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(c,o[a])?r:Object.prototype.hasOwnProperty.call(d,o[a])?n:s).push([o[a],t.Custprops[o[a]]]);var f=[];for(a=0;a<s.length;++a)iN.indexOf(s[a][0])>-1||nN.indexOf(s[a][0])>-1||s[a][1]!=null&&f.push(s[a]);n.length&&tr.utils.cfb_add(e,"/SummaryInformation",ob(n,op.SI,d,rb)),(r.length||f.length)&&tr.utils.cfb_add(e,"/DocumentSummaryInformation",ob(r,op.DSI,c,tb,f.length?f:null,op.UDI))}function WL(t,e){var r=e||{},n=tr.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return tr.utils.cfb_add(n,s,LN(t,r)),r.biff==8&&(t.Props||t.Custprops)&&HL(t,n),r.biff==8&&t.vbaraw&&lF(n,tr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var $L={0:{f:GO},1:{f:rM},2:{f:SM},3:{f:uM},4:{f:iM},5:{f:yM},6:{f:TM},7:{f:mM},8:{f:FM},9:{f:RM},10:{f:PM},11:{f:DM},12:{f:sM},13:{f:NM},14:{f:fM},15:{f:lM},16:{f:bM},17:{f:kM},18:{f:gM},19:{f:px},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:vL},40:{},42:{},43:{f:TR},44:{f:CR},45:{f:AR},46:{f:DR},47:{f:PR},48:{},49:{f:sD},50:{},51:{f:GR},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:aR},62:{f:jM},63:{f:eF},64:{f:XM},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ma,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:YM},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:eM},148:{f:JO,p:16},151:{f:UM},152:{},153:{f:xL},154:{},155:{},156:{f:pL},157:{},158:{},159:{T:1,f:pR},160:{T:-1},161:{T:1,f:Oo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:OM},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:YR},336:{T:-1},337:{f:JR,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ug},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ZD},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:zM},427:{f:VM},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:WM},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ZO},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:IM},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ug},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:aF},633:{T:1},634:{T:-1},635:{T:1,f:nF},636:{T:-1},637:{f:lD},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:cL},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:JM},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function qe(t,e,r,n){var s=e;if(!isNaN(s)){var a=n||(r||[]).length||0,o=t.next(4);o.write_shift(2,s),o.write_shift(2,a),a>0&&fx(r)&&t.push(r)}}function YL(t,e,r,n){var s=(r||[]).length||0;if(s<=8224)return qe(t,e,r,s);var a=e;if(!isNaN(a)){for(var o=r.parts||[],c=0,d=0,f=0;f+(o[c]||8224)<=8224;)f+=o[c]||8224,c++;var h=t.next(4);for(h.write_shift(2,a),h.write_shift(2,f),t.push(r.slice(d,d+f)),d+=f;d<s;){for(h=t.next(4),h.write_shift(2,60),f=0;f+(o[c]||8224)<=8224;)f+=o[c]||8224,c++;h.write_shift(2,f),t.push(r.slice(d,d+f)),d+=f}}}function Zu(t,e,r){return t||(t=De(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function KL(t,e,r,n){var s=De(9);return Zu(s,t,e),lN(r,n||"b",s),s}function GL(t,e,r){var n=De(8+2*r.length);return Zu(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function qL(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?Xn(On(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?qe(t,2,cR(r,n,s)):qe(t,3,lR(r,n,s));return;case"b":case"e":qe(t,5,KL(r,n,e.v,e.t));return;case"s":case"str":qe(t,4,GL(r,n,(e.v||"").slice(0,255)));return}qe(t,1,Zu(null,r,n))}function XL(t,e,r,n){var s=Array.isArray(e),a=ur(e["!ref"]||"A1"),o,c="",d=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=Fr(a)}for(var f=a.s.r;f<=a.e.r;++f){c=un(f);for(var h=a.s.c;h<=a.e.c;++h){f===a.s.r&&(d[h]=Cn(h)),o=d[h]+c;var p=s?(e[f]||[])[h]:e[o];p&&qL(t,p,f,h)}}}function JL(t,e){for(var r=e||{},n=qn(),s=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(s=a);if(s==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return qe(n,r.biff==4?1033:r.biff==3?521:9,yx(t,16,r)),XL(n,t.Sheets[t.SheetNames[s]],s,r),qe(n,10),n.end()}function QL(t,e,r){qe(t,49,$D({sz:12,name:"Arial"},r))}function ZL(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&qe(t,1054,GD(s,e[s],r))})}function e7(t,e){var r=De(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),qe(t,2151,r),r=De(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),dN(ur(e["!ref"]||"A1"),r),r.write_shift(4,4),qe(t,2152,r)}function t7(t,e){for(var r=0;r<16;++r)qe(t,224,cb({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){qe(t,224,cb(n,0,e))})}function r7(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];qe(t,440,rR(n)),n[1].Tooltip&&qe(t,2048,nR(n))}delete e["!links"]}function n7(t,e){if(e){var r=0;e.forEach(function(n,s){++r<=256&&n&&qe(t,125,iR(i0(s,n),s))})}}function s7(t,e,r,n,s){var a=16+Oi(s.cellXfs,e,s);if(e.v==null&&!e.bf){qe(t,513,To(r,n,a));return}if(e.bf)qe(t,6,EO(e,r,n,s,a));else switch(e.t){case"d":case"n":var o=e.t=="d"?Xn(On(e.v)):e.v;qe(t,515,QD(r,n,o,a));break;case"b":case"e":qe(t,517,JD(r,n,e.v,a,s,e.t));break;case"s":case"str":if(s.bookSST){var c=_x(s.Strings,e.v,s.revStrings);qe(t,253,YD(r,n,c,a))}else qe(t,516,KD(r,n,(e.v||"").slice(0,255),a,s));break;default:qe(t,513,To(r,n,a))}}function a7(t,e,r){var n=qn(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=(r||{}).Workbook||{},c=(o.Sheets||[])[t]||{},d=Array.isArray(a),f=e.biff==8,h,p="",g=[],x=ur(a["!ref"]||"A1"),w=f?65536:16384;if(x.e.c>255||x.e.r>=w){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,w-1)}qe(n,2057,yx(r,16,e)),qe(n,13,Ns(1)),qe(n,12,Ns(100)),qe(n,15,Dn(!0)),qe(n,17,Dn(!1)),qe(n,16,jo(.001)),qe(n,95,Dn(!0)),qe(n,42,Dn(!1)),qe(n,43,Dn(!1)),qe(n,130,Ns(1)),qe(n,128,XD()),qe(n,131,Dn(!1)),qe(n,132,Dn(!1)),f&&n7(n,a["!cols"]),qe(n,512,qD(x,e)),f&&(a["!links"]=[]);for(var b=x.s.r;b<=x.e.r;++b){p=un(b);for(var v=x.s.c;v<=x.e.c;++v){b===x.s.r&&(g[v]=Cn(v)),h=g[v]+p;var N=d?(a[b]||[])[v]:a[h];N&&(s7(n,N,b,v,e),f&&N.l&&a["!links"].push([h,N.l]))}}var E=c.CodeName||c.name||s;return f&&qe(n,574,WD((o.Views||[])[0])),f&&(a["!merges"]||[]).length&&qe(n,229,tR(a["!merges"])),f&&r7(n,a),qe(n,442,uN(E)),f&&e7(n,a),qe(n,10),n.end()}function i7(t,e,r){var n=qn(),s=(t||{}).Workbook||{},a=s.Sheets||[],o=s.WBProps||{},c=r.biff==8,d=r.biff==5;if(qe(n,2057,yx(t,5,r)),r.bookType=="xla"&&qe(n,135),qe(n,225,c?Ns(1200):null),qe(n,193,PD(2)),d&&qe(n,191),d&&qe(n,192),qe(n,226),qe(n,92,UD("SheetJS",r)),qe(n,66,Ns(c?1200:1252)),c&&qe(n,353,Ns(0)),c&&qe(n,448),qe(n,317,oR(t.SheetNames.length)),c&&t.vbaraw&&qe(n,211),c&&t.vbaraw){var f=o.CodeName||"ThisWorkbook";qe(n,442,uN(f))}qe(n,156,Ns(17)),qe(n,25,Dn(!1)),qe(n,18,Dn(!1)),qe(n,19,Ns(0)),c&&qe(n,431,Dn(!1)),c&&qe(n,444,Ns(0)),qe(n,61,HD()),qe(n,64,Dn(!1)),qe(n,141,Ns(0)),qe(n,34,Dn(dL(t)=="true")),qe(n,14,Dn(!0)),c&&qe(n,439,Dn(!1)),qe(n,218,Ns(0)),QL(n,t,r),ZL(n,t.SSF,r),t7(n,r),c&&qe(n,352,Dn(!1));var h=n.end(),p=qn();c&&qe(p,140,sR()),c&&r.Strings&&YL(p,252,VD(r.Strings)),qe(p,10);var g=p.end(),x=qn(),w=0,b=0;for(b=0;b<t.SheetNames.length;++b)w+=(c?12:11)+(c?2:1)*t.SheetNames[b].length;var v=h.length+w+g.length;for(b=0;b<t.SheetNames.length;++b){var N=a[b]||{};qe(x,133,zD({pos:v,hs:N.Hidden||0,dt:0,name:t.SheetNames[b]},r)),v+=e[b].length}var E=x.end();if(w!=E.length)throw new Error("BS8 "+w+" != "+E.length);var j=[];return h.length&&j.push(h),E.length&&j.push(E),g.length&&j.push(g),on(j)}function o7(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Jn(Cr)),t&&t.SSF&&(t0(),e0(t.SSF),r.revssf=r0(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Nx(r),r.cellXfs=[],Oi(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)n[n.length]=a7(s,r,t);return n.unshift(i7(t,n,r)),on(n)}function LN(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var s=ds(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return o7(t,e);case 4:case 3:case 2:return JL(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function l7(t,e,r,n){for(var s=t["!merges"]||[],a=[],o=e.s.c;o<=e.e.c;++o){for(var c=0,d=0,f=0;f<s.length;++f)if(!(s[f].s.r>r||s[f].s.c>o)&&!(s[f].e.r<r||s[f].e.c<o)){if(s[f].s.r<r||s[f].s.c<o){c=-1;break}c=s[f].e.r-s[f].s.r+1,d=s[f].e.c-s[f].s.c+1;break}if(!(c<0)){var h=er({r,c:o}),p=n.dense?(t[r]||[])[o]:t[h],g=p&&p.v!=null&&(p.h||BP(p.w||(Ma(p),p.w)||""))||"",x={};c>1&&(x.rowspan=c),d>1&&(x.colspan=d),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(x["data-t"]=p&&p.t||"z",p.v!=null&&(x["data-v"]=p.v),p.z!=null&&(x["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),x.id=(n.id||"sjs")+"-"+h,a.push(Ge("td",g,x))}}var w="<tr>";return w+a.join("")+"</tr>"}var c7='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',u7="</body></html>";function d7(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function IN(t,e){var r=e||{},n=r.header!=null?r.header:c7,s=r.footer!=null?r.footer:u7,a=[n],o=ds(t["!ref"]);r.dense=Array.isArray(t),a.push(d7(t,o,r));for(var c=o.s.r;c<=o.e.r;++c)a.push(l7(t,o,c,r));return a.push("</table>"+s),a.join("")}function BN(t,e,r){var n=r||{},s=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var o=typeof n.origin=="string"?Xr(n.origin):n.origin;s=o.r,a=o.c}var c=e.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,c.length),f={s:{r:0,c:0},e:{r:s,c:a}};if(t["!ref"]){var h=ds(t["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),s==-1&&(f.e.r=s=h.e.r+1)}var p=[],g=0,x=t["!rows"]||(t["!rows"]=[]),w=0,b=0,v=0,N=0,E=0,j=0;for(t["!cols"]||(t["!cols"]=[]);w<c.length&&b<d;++w){var D=c[w];if(gb(D)){if(n.display)continue;x[b]={hidden:!0}}var T=D.children;for(v=N=0;v<T.length;++v){var M=T[v];if(!(n.display&&gb(M))){var C=M.hasAttribute("data-v")?M.getAttribute("data-v"):M.hasAttribute("v")?M.getAttribute("v"):HP(M.innerHTML),P=M.getAttribute("data-z")||M.getAttribute("z");for(g=0;g<p.length;++g){var I=p[g];I.s.c==N+a&&I.s.r<b+s&&b+s<=I.e.r&&(N=I.e.c+1-a,g=-1)}j=+M.getAttribute("colspan")||1,((E=+M.getAttribute("rowspan")||1)>1||j>1)&&p.push({s:{r:b+s,c:N+a},e:{r:b+s+(E||1)-1,c:N+a+(j||1)-1}});var G={t:"s",v:C},J=M.getAttribute("data-t")||M.getAttribute("t")||"";C!=null&&(C.length==0?G.t=J||"z":n.raw||C.trim().length==0||J=="s"||(C==="TRUE"?G={t:"b",v:!0}:C==="FALSE"?G={t:"b",v:!1}:isNaN(Pa(C))?isNaN(_u(C).getDate())||(G={t:"d",v:On(C)},n.cellDates||(G={t:"n",v:Xn(G.v)}),G.z=n.dateNF||Cr[14]):G={t:"n",v:Pa(C)})),G.z===void 0&&P!=null&&(G.z=P);var H="",ie=M.getElementsByTagName("A");if(ie&&ie.length)for(var Z=0;Z<ie.length&&!(ie[Z].hasAttribute("href")&&(H=ie[Z].getAttribute("href"),H.charAt(0)!="#"));++Z);H&&H.charAt(0)!="#"&&(G.l={Target:H}),n.dense?(t[b+s]||(t[b+s]=[]),t[b+s][N+a]=G):t[er({c:N+a,r:b+s})]=G,f.e.c<N+a&&(f.e.c=N+a),N+=j}}++b}return p.length&&(t["!merges"]=(t["!merges"]||[]).concat(p)),f.e.r=Math.max(f.e.r,b-1+s),t["!ref"]=Fr(f),b>=d&&(t["!fullref"]=Fr((f.e.r=c.length-w+b-1+s,f))),t}function UN(t,e){var r=e||{},n=r.dense?[]:{};return BN(n,t,e)}function f7(t,e){return Po(UN(t,e),e)}function gb(t){var e="",r=h7(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function h7(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var m7=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Cu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Mr+e}}(),xb=function(){var t=function(a){return Zt(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,o,c){var d=[];d.push('      <table:table table:name="'+Zt(o.SheetNames[c])+`" table:style-name="ta1">
`);var f=0,h=0,p=ds(a["!ref"]||"A1"),g=a["!merges"]||[],x=0,w=Array.isArray(a);if(a["!cols"])for(h=0;h<=p.e.c;++h)d.push("        <table:table-column"+(a["!cols"][h]?' table:style-name="co'+a["!cols"][h].ods+'"':"")+`></table:table-column>
`);var b="",v=a["!rows"]||[];for(f=0;f<p.s.r;++f)b=v[f]?' table:style-name="ro'+v[f].ods+'"':"",d.push("        <table:table-row"+b+`></table:table-row>
`);for(;f<=p.e.r;++f){for(b=v[f]?' table:style-name="ro'+v[f].ods+'"':"",d.push("        <table:table-row"+b+`>
`),h=0;h<p.s.c;++h)d.push(e);for(;h<=p.e.c;++h){var N=!1,E={},j="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>h)&&!(g[x].s.r>f)&&!(g[x].e.c<h)&&!(g[x].e.r<f)){(g[x].s.c!=h||g[x].s.r!=f)&&(N=!0),E["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,E["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(N){d.push(r);continue}var D=er({r:f,c:h}),T=w?(a[f]||[])[h]:a[D];if(T&&T.f&&(E["table:formula"]=Zt(FO(T.f)),T.F&&T.F.slice(0,D.length)==D)){var M=ds(T.F);E["table:number-matrix-columns-spanned"]=M.e.c-M.s.c+1,E["table:number-matrix-rows-spanned"]=M.e.r-M.s.r+1}if(!T){d.push(e);continue}switch(T.t){case"b":j=T.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=T.v?"true":"false";break;case"n":j=T.w||String(T.v||0),E["office:value-type"]="float",E["office:value"]=T.v||0;break;case"s":case"str":j=T.v==null?"":T.v,E["office:value-type"]="string";break;case"d":j=T.w||On(T.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=On(T.v).toISOString(),E["table:style-name"]="ce1";break;default:d.push(e);continue}var C=t(j);if(T.l&&T.l.Target){var P=T.l.Target;P=P.charAt(0)=="#"?"#"+OO(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),C=Ge("text:a",C,{"xlink:href":P.replace(/&/g,"&amp;")})}d.push("          "+Ge("table:table-cell",Ge("text:p",C,{}),E)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},s=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var c=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var h=0;h<f["!cols"].length;++h)if(f["!cols"][h]){var p=f["!cols"][h];if(p.width==null&&p.wpx==null&&p.wch==null)continue;vx(p),p.ods=c;var g=f["!cols"][h].wpx+"px";a.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),a.push(`  </style:style>
`),++c}}});var d=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var h=0;h<f["!rows"].length;++h)if(f["!rows"][h]){f["!rows"][h].ods=d;var p=f["!rows"][h].hpx+"px";a.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),a.push(`  </style:style>
`),++d}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,c){var d=[Mr],f=Cu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=Cu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(d.push("<office:document"+f+h+`>
`),d.push(tN().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+f+`>
`),s(d,o),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var p=0;p!=o.SheetNames.length;++p)d.push(n(o.Sheets[o.SheetNames[p]],o,p));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),c.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}}();function zN(t,e){if(e.bookType=="fods")return xb(t,e);var r=lx(),n="",s=[],a=[];return n="mimetype",At(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",At(r,n,xb(t,e)),s.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",At(r,n,m7(t,e)),s.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",At(r,n,Mr+tN()),s.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",At(r,n,jD(a)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",At(r,n,ND(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function vh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function p7(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Ys(Nu(t))}function g7(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Ti(t){var e=t.reduce(function(s,a){return s+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(s){r.set(s,n),n+=s.length}),r}function x7(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var a=0;s>=1;++a,s/=256)t[e+a]=s&255;t[e+15]|=r>=0?0:128}function ju(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function qt(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function kl(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Ur(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],s=ju(t,r),a=s&7;s=Math.floor(s/8);var o=0,c;if(s==0)break;switch(a){case 0:{for(var d=r[0];t[r[0]++]>=128;);c=t.slice(d,r[0])}break;case 5:o=4,c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=ju(t,r),c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(n))}var f={data:c,type:a};e[s]==null?e[s]=[f]:e[s].push(f)}return e}function nn(t){var e=[];return t.forEach(function(r,n){r.forEach(function(s){s.data&&(e.push(qt(n*8+s.type)),s.type==2&&e.push(qt(s.data.length)),e.push(s.data))})}),Ti(e)}function Us(t){for(var e,r=[],n=[0];n[0]<t.length;){var s=ju(t,n),a=Ur(t.slice(n[0],n[0]+s));n[0]+=s;var o={id:kl(a[1][0].data),messages:[]};a[2].forEach(function(c){var d=Ur(c.data),f=kl(d[3][0].data);o.messages.push({meta:d,data:t.slice(n[0],n[0]+f)}),n[0]+=f}),(e=a[3])!=null&&e[0]&&(o.merge=kl(a[3][0].data)>>>0>0),r.push(o)}return r}function dl(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:qt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:qt(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:qt(o.data.length)}],n[2].push({data:nn(o.meta),type:2})});var a=nn(n);e.push(qt(a.length)),e.push(a),s.forEach(function(o){return e.push(o)})}),Ti(e)}function y7(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=ju(e,r),s=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var c=o-59;o=e[r[0]],c>1&&(o|=e[r[0]+1]<<8),c>2&&(o|=e[r[0]+2]<<16),c>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=c}s.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var d=0,f=0;if(a==1?(f=(e[r[0]]>>2&7)+4,d=(e[r[0]++]&224)<<3,d|=e[r[0]++]):(f=(e[r[0]++]>>2)+1,a==2?(d=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(d=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Ti(s)],d==0)throw new Error("Invalid offset 0");if(d>s[0].length)throw new Error("Invalid offset beyond length");if(f>=d)for(s.push(s[0].slice(-d)),f-=d;f>=s[s.length-1].length;)s.push(s[s.length-1]),f-=s[s.length-1].length;s.push(s[0].slice(-d,-d+f))}}var h=Ti(s);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function zs(t){for(var e=[],r=0;r<t.length;){var n=t[r++],s=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(y7(n,t.slice(r,r+s))),r+=s}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Ti(e)}function fl(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),s=new Uint8Array(4);e.push(s);var a=qt(n),o=a.length;e.push(a),n<=60?(o++,e.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),o+=n,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=n}return Ti(e)}function lp(t,e){var r=new Uint8Array(32),n=vh(r),s=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,x7(r,s,t.v),a|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,t.v?1:0,!0),a|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(s,e.indexOf(t.v),!0),a|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,a,!0),r.slice(0,s)}function cp(t,e){var r=new Uint8Array(32),n=vh(r),s=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(s,t.v,!0),a|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,t.v?1:0,!0),a|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(s,e.indexOf(t.v),!0),a|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,a,!0),r.slice(0,s)}function oi(t){var e=Ur(t);return ju(e[1][0].data)}function v7(t,e,r){var n,s,a,o;if(!((n=t[6])!=null&&n[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var c=((o=(a=t[8])==null?void 0:a[0])==null?void 0:o.data)&&kl(t[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var d=0,f=vh(t[7][0].data),h=0,p=[],g=vh(t[4][0].data),x=0,w=[],b=0;b<e.length;++b){if(e[b]==null){f.setUint16(b*2,65535,!0),g.setUint16(b*2,65535);continue}f.setUint16(b*2,h,!0),g.setUint16(b*2,x,!0);var v,N;switch(typeof e[b]){case"string":v=lp({t:"s",v:e[b]},r),N=cp({t:"s",v:e[b]},r);break;case"number":v=lp({t:"n",v:e[b]},r),N=cp({t:"n",v:e[b]},r);break;case"boolean":v=lp({t:"b",v:e[b]},r),N=cp({t:"b",v:e[b]},r);break;default:throw new Error("Unsupported value "+e[b])}p.push(v),h+=v.length,w.push(N),x+=N.length,++d}for(t[2][0].data=qt(d);b<t[7][0].data.length/2;++b)f.setUint16(b*2,65535,!0),g.setUint16(b*2,65535,!0);return t[6][0].data=Ti(p),t[3][0].data=Ti(w),d}function b7(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ds(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Fr(n)));var a=bh(r,{range:n,header:1}),o=["~Sh33tJ5~"];a.forEach(function(U){return U.forEach(function(z){typeof z=="string"&&o.push(z)})});var c={},d=[],f=tr.read(e.numbers,{type:"base64"});f.FileIndex.map(function(U,z){return[U,f.FullPaths[z]]}).forEach(function(U){var z=U[0],k=U[1];if(z.type==2&&z.name.match(/\.iwa/)){var ce=z.content,ee=zs(ce),he=Us(ee);he.forEach(function(ye){d.push(ye.id),c[ye.id]={deps:[],location:k,type:kl(ye.messages[0].meta[1][0].data)}})}}),d.sort(function(U,z){return U-z});var h=d.filter(function(U){return U>1}).map(function(U){return[U,qt(U)]});f.FileIndex.map(function(U,z){return[U,f.FullPaths[z]]}).forEach(function(U){var z=U[0];if(U[1],!!z.name.match(/\.iwa/)){var k=Us(zs(z.content));k.forEach(function(ce){ce.messages.forEach(function(ee){h.forEach(function(he){ce.messages.some(function(ye){return kl(ye.meta[1][0].data)!=11006&&g7(ye.data,he[1])})&&c[he[0]].deps.push(ce.id)})})})}});for(var p=tr.find(f,c[1].location),g=Us(zs(p.content)),x,w=0;w<g.length;++w){var b=g[w];b.id==1&&(x=b)}var v=oi(Ur(x.messages[0].data)[1][0].data);for(p=tr.find(f,c[v].location),g=Us(zs(p.content)),w=0;w<g.length;++w)b=g[w],b.id==v&&(x=b);for(v=oi(Ur(x.messages[0].data)[2][0].data),p=tr.find(f,c[v].location),g=Us(zs(p.content)),w=0;w<g.length;++w)b=g[w],b.id==v&&(x=b);for(v=oi(Ur(x.messages[0].data)[2][0].data),p=tr.find(f,c[v].location),g=Us(zs(p.content)),w=0;w<g.length;++w)b=g[w],b.id==v&&(x=b);var N=Ur(x.messages[0].data);{N[6][0].data=qt(n.e.r+1),N[7][0].data=qt(n.e.c+1);var E=oi(N[46][0].data),j=tr.find(f,c[E].location),D=Us(zs(j.content));{for(var T=0;T<D.length&&D[T].id!=E;++T);if(D[T].id!=E)throw"Bad ColumnRowUIDMapArchive";var M=Ur(D[T].messages[0].data);M[1]=[],M[2]=[],M[3]=[];for(var C=0;C<=n.e.c;++C){var P=[];P[1]=P[2]=[{type:0,data:qt(C+420690)}],M[1].push({type:2,data:nn(P)}),M[2].push({type:0,data:qt(C)}),M[3].push({type:0,data:qt(C)})}M[4]=[],M[5]=[],M[6]=[];for(var I=0;I<=n.e.r;++I)P=[],P[1]=P[2]=[{type:0,data:qt(I+726270)}],M[4].push({type:2,data:nn(P)}),M[5].push({type:0,data:qt(I)}),M[6].push({type:0,data:qt(I)});D[T].messages[0].data=nn(M)}j.content=fl(dl(D)),j.size=j.content.length,delete N[46];var G=Ur(N[4][0].data);{G[7][0].data=qt(n.e.r+1);var J=Ur(G[1][0].data),H=oi(J[2][0].data);j=tr.find(f,c[H].location),D=Us(zs(j.content));{if(D[0].id!=H)throw"Bad HeaderStorageBucket";var ie=Ur(D[0].messages[0].data);for(I=0;I<a.length;++I){var Z=Ur(ie[2][0].data);Z[1][0].data=qt(I),Z[4][0].data=qt(a[I].length),ie[2][I]={type:ie[2][0].type,data:nn(Z)}}D[0].messages[0].data=nn(ie)}j.content=fl(dl(D)),j.size=j.content.length;var O=oi(G[2][0].data);j=tr.find(f,c[O].location),D=Us(zs(j.content));{if(D[0].id!=O)throw"Bad HeaderStorageBucket";for(ie=Ur(D[0].messages[0].data),C=0;C<=n.e.c;++C)Z=Ur(ie[2][0].data),Z[1][0].data=qt(C),Z[4][0].data=qt(n.e.r+1),ie[2][C]={type:ie[2][0].type,data:nn(Z)};D[0].messages[0].data=nn(ie)}j.content=fl(dl(D)),j.size=j.content.length;var K=oi(G[4][0].data);(function(){for(var U=tr.find(f,c[K].location),z=Us(zs(U.content)),k,ce=0;ce<z.length;++ce){var ee=z[ce];ee.id==K&&(k=ee)}var he=Ur(k.messages[0].data);{he[3]=[];var ye=[];o.forEach(function(He,rt){ye[1]=[{type:0,data:qt(rt)}],ye[2]=[{type:0,data:qt(1)}],ye[3]=[{type:2,data:p7(He)}],he[3].push({type:2,data:nn(ye)})})}k.messages[0].data=nn(he);var ke=dl(z),Ke=fl(ke);U.content=Ke,U.size=U.content.length})();var W=Ur(G[3][0].data);{var Y=W[1][0];delete W[2];var oe=Ur(Y.data);{var se=oi(oe[2][0].data);(function(){for(var U=tr.find(f,c[se].location),z=Us(zs(U.content)),k,ce=0;ce<z.length;++ce){var ee=z[ce];ee.id==se&&(k=ee)}var he=Ur(k.messages[0].data);{delete he[6],delete W[7];var ye=new Uint8Array(he[5][0].data);he[5]=[];for(var ke=0,Ke=0;Ke<=n.e.r;++Ke){var He=Ur(ye);ke+=v7(He,a[Ke],o),He[1][0].data=qt(Ke),he[5].push({data:nn(He),type:2})}he[1]=[{type:0,data:qt(n.e.c+1)}],he[2]=[{type:0,data:qt(n.e.r+1)}],he[3]=[{type:0,data:qt(ke)}],he[4]=[{type:0,data:qt(n.e.r+1)}]}k.messages[0].data=nn(he);var rt=dl(z),Ve=fl(rt);U.content=Ve,U.size=U.content.length})()}Y.data=nn(oe)}G[3][0].data=nn(W)}N[4][0].data=nn(G)}x.messages[0].data=nn(N);var X=dl(g),F=fl(X);return p.content=F,p.size=p.content.length,f}function w7(t){return function(r){for(var n=0;n!=t.length;++n){var s=t[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function Nx(t){w7([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function S7(t,e){return e.bookType=="ods"?zN(t,e):e.bookType=="numbers"?b7(t,e):e.bookType=="xlsb"?_7(t,e):N7(t,e)}function _7(t,e){yl=1024,t&&!t.SSF&&(t.SSF=Jn(Cr)),t&&t.SSF&&(t0(),e0(t.SSF),e.revssf=r0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,au?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=_N.indexOf(e.bookType)>-1,s=Q_();Nx(e=e||{});var a=lx(),o="",c=0;if(e.cellXfs=[],Oi(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",At(a,o,rN(t.Props,e)),s.coreprops.push(o),Jt(e.rels,2,o,Vt.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(t.SheetNames[f]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,At(a,o,sN(t.Props)),s.extprops.push(o),Jt(e.rels,3,o,Vt.EXT_PROPS),t.Custprops!==t.Props&&fn(t.Custprops||{}).length>0&&(o="docProps/custom.xml",At(a,o,aN(t.Custprops)),s.custprops.push(o),Jt(e.rels,4,o,Vt.CUST_PROPS)),c=1;c<=t.SheetNames.length;++c){var h={"!id":{}},p=t.Sheets[t.SheetNames[c-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+c+"."+r,At(a,o,jL(c-1,o,e,t,h)),s.sheets.push(o),Jt(e.wbrels,-1,"worksheets/sheet"+c+"."+r,Vt.WS[0])}if(p){var x=p["!comments"],w=!1,b="";x&&x.length>0&&(b="xl/comments"+c+"."+r,At(a,b,kL(x,b)),s.comments.push(b),Jt(h,-1,"../comments"+c+"."+r,Vt.CMNT),w=!0),p["!legacy"]&&w&&At(a,"xl/drawings/vmlDrawing"+c+".vml",wN(c,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&At(a,eN(o),Tl(h))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,At(a,o,EL(e.Strings,o,e)),s.strs.push(o),Jt(e.wbrels,-1,"sharedStrings."+r,Vt.SST)),o="xl/workbook."+r,At(a,o,CL(t,o)),s.workbooks.push(o),Jt(e.rels,1,o,Vt.WB),o="xl/theme/theme1.xml",At(a,o,vN(t.Themes,e)),s.themes.push(o),Jt(e.wbrels,-1,"theme/theme1.xml",Vt.THEME),o="xl/styles."+r,At(a,o,TL(t,o,e)),s.styles.push(o),Jt(e.wbrels,-1,"styles."+r,Vt.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",At(a,o,t.vbaraw),s.vba.push(o),Jt(e.wbrels,-1,"vbaProject.bin",Vt.VBA)),o="xl/metadata."+r,At(a,o,AL(o)),s.metadata.push(o),Jt(e.wbrels,-1,"metadata."+r,Vt.XLMETA),At(a,"[Content_Types].xml",Z_(s,e)),At(a,"_rels/.rels",Tl(e.rels)),At(a,"xl/_rels/workbook."+r+".rels",Tl(e.wbrels)),delete e.revssf,delete e.ssf,a}function N7(t,e){yl=1024,t&&!t.SSF&&(t.SSF=Jn(Cr)),t&&t.SSF&&(t0(),e0(t.SSF),e.revssf=r0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,au?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=_N.indexOf(e.bookType)>-1,s=Q_();Nx(e=e||{});var a=lx(),o="",c=0;if(e.cellXfs=[],Oi(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",At(a,o,rN(t.Props,e)),s.coreprops.push(o),Jt(e.rels,2,o,Vt.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(t.SheetNames[f]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,At(a,o,sN(t.Props)),s.extprops.push(o),Jt(e.rels,3,o,Vt.EXT_PROPS),t.Custprops!==t.Props&&fn(t.Custprops||{}).length>0&&(o="docProps/custom.xml",At(a,o,aN(t.Custprops)),s.custprops.push(o),Jt(e.rels,4,o,Vt.CUST_PROPS));var h=["SheetJ5"];for(e.tcid=0,c=1;c<=t.SheetNames.length;++c){var p={"!id":{}},g=t.Sheets[t.SheetNames[c-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:o="xl/worksheets/sheet"+c+"."+r,At(a,o,DN(c-1,e,t,p)),s.sheets.push(o),Jt(e.wbrels,-1,"worksheets/sheet"+c+"."+r,Vt.WS[0])}if(g){var w=g["!comments"],b=!1,v="";if(w&&w.length>0){var N=!1;w.forEach(function(E){E[1].forEach(function(j){j.T==!0&&(N=!0)})}),N&&(v="xl/threadedComments/threadedComment"+c+"."+r,At(a,v,tF(w,h,e)),s.threadedcomments.push(v),Jt(p,-1,"../threadedComments/threadedComment"+c+"."+r,Vt.TCMNT)),v="xl/comments"+c+"."+r,At(a,v,SN(w)),s.comments.push(v),Jt(p,-1,"../comments"+c+"."+r,Vt.CMNT),b=!0}g["!legacy"]&&b&&At(a,"xl/drawings/vmlDrawing"+c+".vml",wN(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&At(a,eN(o),Tl(p))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,At(a,o,hN(e.Strings,e)),s.strs.push(o),Jt(e.wbrels,-1,"sharedStrings."+r,Vt.SST)),o="xl/workbook."+r,At(a,o,ON(t)),s.workbooks.push(o),Jt(e.rels,1,o,Vt.WB),o="xl/theme/theme1.xml",At(a,o,vN(t.Themes,e)),s.themes.push(o),Jt(e.wbrels,-1,"theme/theme1.xml",Vt.THEME),o="xl/styles."+r,At(a,o,xN(t,e)),s.styles.push(o),Jt(e.wbrels,-1,"styles."+r,Vt.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",At(a,o,t.vbaraw),s.vba.push(o),Jt(e.wbrels,-1,"vbaProject.bin",Vt.VBA)),o="xl/metadata."+r,At(a,o,bN()),s.metadata.push(o),Jt(e.wbrels,-1,"metadata."+r,Vt.XLMETA),h.length>1&&(o="xl/persons/person.xml",At(a,o,rF(h)),s.people.push(o),Jt(e.wbrels,-1,"persons/person.xml",Vt.PEOPLE)),At(a,"[Content_Types].xml",Z_(s,e)),At(a,"_rels/.rels",Tl(e.rels)),At(a,"xl/_rels/workbook."+r+".rels",Tl(e.wbrels)),delete e.revssf,delete e.ssf,a}function C7(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Oa(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function VN(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return qu(e.file,tr.write(t,{type:$t?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return tr.write(t,e)}function j7(t,e){var r=Jn(e||{}),n=S7(t,r);return T7(n,r)}function T7(t,e){var r={},n=$t?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?tr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(Zh(s))}return e.password&&typeof encrypt_agile<"u"?VN(encrypt_agile(s,e.password),e):e.type==="file"?qu(e.file,s):e.type=="string"?tu(s):s}function E7(t,e){var r=e||{},n=WL(t,r);return VN(n,r)}function ia(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Su(Nu(n));case"binary":return Nu(n);case"string":return t;case"file":return qu(e.file,n,"utf8");case"buffer":return $t?Ua(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):ia(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function k7(t,e){switch(e.type){case"base64":return Su(t);case"binary":return t;case"string":return t;case"file":return qu(e.file,t,"binary");case"buffer":return $t?Ua(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function xf(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Su(r):e.type=="string"?tu(r):r;case"file":return qu(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function HN(t,e){nP(),mL(t);var r=Jn(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=HN(t,r);return r.type="array",Zh(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=t.SheetNames.indexOf(r.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ia(VL(t,r),r);case"slk":case"sylk":return ia(dR.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"htm":case"html":return ia(IN(t.Sheets[t.SheetNames[s]],r),r);case"txt":return k7(WN(t.Sheets[t.SheetNames[s]],r),r);case"csv":return ia(Cx(t.Sheets[t.SheetNames[s]],r),r,"\uFEFF");case"dif":return ia(fR.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"dbf":return xf(uR.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"prn":return ia(hR.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"rtf":return ia(bR.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"eth":return ia(fN.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"fods":return ia(zN(t,r),r);case"wk1":return xf(ub.sheet_to_wk1(t.Sheets[t.SheetNames[s]],r),r);case"wk3":return xf(ub.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),xf(LN(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),E7(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return j7(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function A7(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function P7(t,e,r){var n={};return n.type="file",n.file=e,A7(n),HN(t,n)}function D7(t,e,r,n,s,a,o,c){var d=un(r),f=c.defval,h=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),p=!0,g=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!o||t[r])for(var x=e.s.c;x<=e.e.c;++x){var w=o?t[r][x]:t[n[x]+d];if(w===void 0||w.t===void 0){if(f===void 0)continue;a[x]!=null&&(g[a[x]]=f);continue}var b=w.v;switch(w.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(a[x]!=null){if(b==null)if(w.t=="e"&&b===null)g[a[x]]=null;else if(f!==void 0)g[a[x]]=f;else if(h&&b===null)g[a[x]]=null;else continue;else g[a[x]]=h&&(w.t!=="n"||w.t==="n"&&c.rawNumbers!==!1)?b:Ma(w,b,c);b!=null&&(p=!1)}}return{row:g,isempty:p}}function bh(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,a=[],o=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},h=f.range!=null?f.range:t["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof h){case"string":d=ur(h);break;case"number":d=ur(t["!ref"]),d.s.r=h;break;default:d=h}n>0&&(s=0);var p=un(d.s.r),g=[],x=[],w=0,b=0,v=Array.isArray(t),N=d.s.r,E=0,j={};v&&!t[N]&&(t[N]=[]);var D=f.skipHidden&&t["!cols"]||[],T=f.skipHidden&&t["!rows"]||[];for(E=d.s.c;E<=d.e.c;++E)if(!(D[E]||{}).hidden)switch(g[E]=Cn(E),r=v?t[N][E]:t[g[E]+p],n){case 1:a[E]=E-d.s.c;break;case 2:a[E]=g[E];break;case 3:a[E]=f.header[E-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=o=Ma(r,null,f),b=j[o]||0,!b)j[o]=1;else{do c=o+"_"+b++;while(j[c]);j[o]=b,j[c]=1}a[E]=c}for(N=d.s.r+s;N<=d.e.r;++N)if(!(T[N]||{}).hidden){var M=D7(t,d,N,g,n,a,v,f);(M.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(x[w++]=M.row)}return x.length=w,x}var yb=/"/g;function R7(t,e,r,n,s,a,o,c){for(var d=!0,f=[],h="",p=un(r),g=e.s.c;g<=e.e.c;++g)if(n[g]){var x=c.dense?(t[r]||[])[g]:t[n[g]+p];if(x==null)h="";else if(x.v!=null){d=!1,h=""+(c.rawNumbers&&x.t=="n"?x.v:Ma(x,null,c));for(var w=0,b=0;w!==h.length;++w)if((b=h.charCodeAt(w))===s||b===a||b===34||c.forceQuotes){h='"'+h.replace(yb,'""')+'"';break}h=="ID"&&(h='"ID"')}else x.f!=null&&!x.F?(d=!1,h="="+x.f,h.indexOf(",")>=0&&(h='"'+h.replace(yb,'""')+'"')):h="";f.push(h)}return c.blankrows===!1&&d?null:f.join(o)}function Cx(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var s=ur(t["!ref"]),a=n.FS!==void 0?n.FS:",",o=a.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,d=c.charCodeAt(0),f=new RegExp((a=="|"?"\\|":a)+"+$"),h="",p=[];n.dense=Array.isArray(t);for(var g=n.skipHidden&&t["!cols"]||[],x=n.skipHidden&&t["!rows"]||[],w=s.s.c;w<=s.e.c;++w)(g[w]||{}).hidden||(p[w]=Cn(w));for(var b=0,v=s.s.r;v<=s.e.r;++v)(x[v]||{}).hidden||(h=R7(t,s,v,p,o,d,a,n),h!=null&&(n.strip&&(h=h.replace(f,"")),(h||n.blankrows!==!1)&&r.push((b++?c:"")+h)));return delete n.dense,r.join("")}function WN(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Cx(t,e);return r}function F7(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var s=ur(t["!ref"]),a="",o=[],c,d=[],f=Array.isArray(t);for(c=s.s.c;c<=s.e.c;++c)o[c]=Cn(c);for(var h=s.s.r;h<=s.e.r;++h)for(a=un(h),c=s.s.c;c<=s.e.c;++c)if(e=o[c]+a,r=f?(t[h]||[])[c]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=e+"="+n}return d}function $N(t,e,r){var n=r||{},s=+!n.skipHeader,a=t||{},o=0,c=0;if(a&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?Xr(n.origin):n.origin;o=d.r,c=d.c}var f,h={s:{c:0,r:0},e:{c,r:o+e.length-1+s}};if(a["!ref"]){var p=ur(a["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),o==-1&&(o=p.e.r+1,h.e.r=o+e.length-1+s)}else o==-1&&(o=0,h.e.r=e.length-1+s);var g=n.header||[],x=0;e.forEach(function(b,v){fn(b).forEach(function(N){(x=g.indexOf(N))==-1&&(g[x=g.length]=N);var E=b[N],j="z",D="",T=er({c:c+x,r:o+v+s});f=Tu(a,T),E&&typeof E=="object"&&!(E instanceof Date)?a[T]=E:(typeof E=="number"?j="n":typeof E=="boolean"?j="b":typeof E=="string"?j="s":E instanceof Date?(j="d",n.cellDates||(j="n",E=Xn(E)),D=n.dateNF||Cr[14]):E===null&&n.nullError&&(j="e",E=0),f?(f.t=j,f.v=E,delete f.w,delete f.R,D&&(f.z=D)):a[T]=f={t:j,v:E},D&&(f.z=D))})}),h.e.c=Math.max(h.e.c,c+g.length-1);var w=un(o);if(s)for(x=0;x<g.length;++x)a[Cn(x+c)+w]={t:"s",v:g[x]};return a["!ref"]=Fr(h),a}function O7(t,e){return $N(null,t,e)}function Tu(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Xr(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Tu(t,er(e)):Tu(t,er({r:e,c:r||0}))}function M7(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function L7(){return{SheetNames:[],Sheets:{}}}function I7(t,e,r,n){var s=1;if(!r)for(;s<=65535&&t.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var o=a&&a[1]||r;for(++s;s<=65535&&t.SheetNames.indexOf(r=o+s)!=-1;++s);}if(FN(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function B7(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=M7(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function U7(t,e){return t.z=e,t}function YN(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function z7(t,e,r){return YN(t,"#"+e,r)}function V7(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function H7(t,e,r,n){for(var s=typeof e!="string"?e:ur(e),a=typeof e=="string"?e:Fr(e),o=s.s.r;o<=s.e.r;++o)for(var c=s.s.c;c<=s.e.c;++c){var d=Tu(t,o,c);d.t="n",d.F=a,delete d.v,o==s.s.r&&c==s.s.c&&(d.f=r,n&&(d.D=!0))}return t}var up={encode_col:Cn,encode_row:un,encode_cell:er,encode_range:Fr,decode_col:mx,decode_row:hx,split_cell:nD,decode_cell:Xr,decode_range:ds,format_cell:Ma,sheet_add_aoa:Y_,sheet_add_json:$N,sheet_add_dom:BN,aoa_to_sheet:Wl,json_to_sheet:O7,table_to_sheet:UN,table_to_book:f7,sheet_to_csv:Cx,sheet_to_txt:WN,sheet_to_json:bh,sheet_to_html:IN,sheet_to_formulae:F7,sheet_to_row_object_array:bh,sheet_get_cell:Tu,book_new:L7,book_append_sheet:I7,book_set_sheet_visibility:B7,cell_set_number_format:U7,cell_set_hyperlink:YN,cell_set_internal_link:z7,cell_add_comment:V7,sheet_set_array_formula:H7,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ed(t){return t+.5|0}const yi=(t,e,r)=>Math.max(Math.min(t,r),e);function Wc(t){return yi(ed(t*2.55),0,255)}function Ni(t){return yi(ed(t*255),0,255)}function ka(t){return yi(ed(t/2.55)/100,0,1)}function vb(t){return yi(ed(t*100),0,100)}const bs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fg=[..."0123456789ABCDEF"],W7=t=>fg[t&15],$7=t=>fg[(t&240)>>4]+fg[t&15],yf=t=>(t&240)>>4===(t&15),Y7=t=>yf(t.r)&&yf(t.g)&&yf(t.b)&&yf(t.a);function K7(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&bs[t[1]]*17,g:255&bs[t[2]]*17,b:255&bs[t[3]]*17,a:e===5?bs[t[4]]*17:255}:(e===7||e===9)&&(r={r:bs[t[1]]<<4|bs[t[2]],g:bs[t[3]]<<4|bs[t[4]],b:bs[t[5]]<<4|bs[t[6]],a:e===9?bs[t[7]]<<4|bs[t[8]]:255})),r}const G7=(t,e)=>t<255?e(t):"";function q7(t){var e=Y7(t)?W7:$7;return t?"#"+e(t.r)+e(t.g)+e(t.b)+G7(t.a,e):void 0}const X7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function KN(t,e,r){const n=e*Math.min(r,1-r),s=(a,o=(a+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function J7(t,e,r){const n=(s,a=(s+t/60)%6)=>r-r*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function Q7(t,e,r){const n=KN(t,1,.5);let s;for(e+r>1&&(s=1/(e+r),e*=s,r*=s),s=0;s<3;s++)n[s]*=1-e-r,n[s]+=e;return n}function Z7(t,e,r,n,s){return t===s?(e-r)/n+(e<r?6:0):e===s?(r-t)/n+2:(t-e)/n+4}function jx(t){const r=t.r/255,n=t.g/255,s=t.b/255,a=Math.max(r,n,s),o=Math.min(r,n,s),c=(a+o)/2;let d,f,h;return a!==o&&(h=a-o,f=c>.5?h/(2-a-o):h/(a+o),d=Z7(r,n,s,h,a),d=d*60+.5),[d|0,f||0,c]}function Tx(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Ni)}function Ex(t,e,r){return Tx(KN,t,e,r)}function eI(t,e,r){return Tx(Q7,t,e,r)}function tI(t,e,r){return Tx(J7,t,e,r)}function GN(t){return(t%360+360)%360}function rI(t){const e=X7.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Wc(+e[5]):Ni(+e[5]));const s=GN(+e[2]),a=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=eI(s,a,o):e[1]==="hsv"?n=tI(s,a,o):n=Ex(s,a,o),{r:n[0],g:n[1],b:n[2],a:r}}function nI(t,e){var r=jx(t);r[0]=GN(r[0]+e),r=Ex(r),t.r=r[0],t.g=r[1],t.b=r[2]}function sI(t){if(!t)return;const e=jx(t),r=e[0],n=vb(e[1]),s=vb(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${s}%, ${ka(t.a)})`:`hsl(${r}, ${n}%, ${s}%)`}const bb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function aI(){const t={},e=Object.keys(wb),r=Object.keys(bb);let n,s,a,o,c;for(n=0;n<e.length;n++){for(o=c=e[n],s=0;s<r.length;s++)a=r[s],c=c.replace(a,bb[a]);a=parseInt(wb[o],16),t[c]=[a>>16&255,a>>8&255,a&255]}return t}let vf;function iI(t){vf||(vf=aI(),vf.transparent=[0,0,0,0]);const e=vf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const oI=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function lI(t){const e=oI.exec(t);let r=255,n,s,a;if(e){if(e[7]!==n){const o=+e[7];r=e[8]?Wc(o):yi(o*255,0,255)}return n=+e[1],s=+e[3],a=+e[5],n=255&(e[2]?Wc(n):yi(n,0,255)),s=255&(e[4]?Wc(s):yi(s,0,255)),a=255&(e[6]?Wc(a):yi(a,0,255)),{r:n,g:s,b:a,a:r}}}function cI(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ka(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const dp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,hl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function uI(t,e,r){const n=hl(ka(t.r)),s=hl(ka(t.g)),a=hl(ka(t.b));return{r:Ni(dp(n+r*(hl(ka(e.r))-n))),g:Ni(dp(s+r*(hl(ka(e.g))-s))),b:Ni(dp(a+r*(hl(ka(e.b))-a))),a:t.a+r*(e.a-t.a)}}function bf(t,e,r){if(t){let n=jx(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=Ex(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function qN(t,e){return t&&Object.assign(e||{},t)}function Sb(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ni(t[3]))):(e=qN(t,{r:0,g:0,b:0,a:1}),e.a=Ni(e.a)),e}function dI(t){return t.charAt(0)==="r"?lI(t):rI(t)}class Eu{constructor(e){if(e instanceof Eu)return e;const r=typeof e;let n;r==="object"?n=Sb(e):r==="string"&&(n=K7(e)||iI(e)||dI(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=qN(this._rgb);return e&&(e.a=ka(e.a)),e}set rgb(e){this._rgb=Sb(e)}rgbString(){return this._valid?cI(this._rgb):void 0}hexString(){return this._valid?q7(this._rgb):void 0}hslString(){return this._valid?sI(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,s=e.rgb;let a;const o=r===a?.5:r,c=2*o-1,d=n.a-s.a,f=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;a=1-f,n.r=255&f*n.r+a*s.r+.5,n.g=255&f*n.g+a*s.g+.5,n.b=255&f*n.b+a*s.b+.5,n.a=o*n.a+(1-o)*s.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=uI(this._rgb,e._rgb,r)),this}clone(){return new Eu(this.rgb)}alpha(e){return this._rgb.a=Ni(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=ed(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return bf(this._rgb,2,e),this}darken(e){return bf(this._rgb,2,-e),this}saturate(e){return bf(this._rgb,1,e),this}desaturate(e){return bf(this._rgb,1,-e),this}rotate(e){return nI(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ja(){}const fI=(()=>{let t=0;return()=>t++})();function vr(t){return t==null}function qr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ht(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Es(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function sa(t,e){return Es(t)?t:e}function Lt(t,e){return typeof t>"u"?e:t}const hI=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function lr(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Qt(t,e,r,n){let s,a,o;if(qr(t))for(a=t.length,s=0;s<a;s++)e.call(r,t[s],s);else if(Ht(t))for(o=Object.keys(t),a=o.length,s=0;s<a;s++)e.call(r,t[o[s]],o[s])}function wh(t,e){let r,n,s,a;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(s=t[r],a=e[r],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function Sh(t){if(qr(t))return t.map(Sh);if(Ht(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let s=0;for(;s<n;++s)e[r[s]]=Sh(t[r[s]]);return e}return t}function XN(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function mI(t,e,r,n){if(!XN(t))return;const s=e[t],a=r[t];Ht(s)&&Ht(a)?ku(s,a,n):e[t]=Sh(a)}function ku(t,e,r){const n=qr(e)?e:[e],s=n.length;if(!Ht(t))return t;r=r||{};const a=r.merger||mI;let o;for(let c=0;c<s;++c){if(o=n[c],!Ht(o))continue;const d=Object.keys(o);for(let f=0,h=d.length;f<h;++f)a(d[f],t,o,r)}return t}function iu(t,e){return ku(t,e,{merger:pI})}function pI(t,e,r){if(!XN(t))return;const n=e[t],s=r[t];Ht(n)&&Ht(s)?iu(n,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Sh(s))}const _b={"":t=>t,x:t=>t.x,y:t=>t.y};function gI(t){const e=t.split("."),r=[];let n="";for(const s of e)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function xI(t){const e=gI(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function _h(t,e){return(_b[e]||(_b[e]=xI(e)))(t)}function kx(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Nh=t=>typeof t<"u",Ei=t=>typeof t=="function",Nb=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function yI(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Or=Math.PI,dn=2*Or,vI=dn+Or,Ch=Number.POSITIVE_INFINITY,bI=Or/180,cn=Or/2,to=Or/4,Cb=Or*2/3,JN=Math.log10,Rl=Math.sign;function ou(t,e,r){return Math.abs(t-e)<r}function jb(t){const e=Math.round(t);t=ou(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(JN(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function wI(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((s,a)=>s-a).pop(),e}function SI(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function jh(t){return!SI(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function _I(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function NI(t,e,r){let n,s,a;for(n=0,s=t.length;n<s;n++)a=t[n][r],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function ho(t){return t*(Or/180)}function CI(t){return t*(180/Or)}function Tb(t){if(!Es(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function QN(t,e){const r=e.x-t.x,n=e.y-t.y,s=Math.sqrt(r*r+n*n);let a=Math.atan2(n,r);return a<-.5*Or&&(a+=dn),{angle:a,distance:s}}function hg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function jI(t,e){return(t-e+vI)%dn-Or}function ui(t){return(t%dn+dn)%dn}function Ax(t,e,r,n){const s=ui(t),a=ui(e),o=ui(r),c=ui(a-s),d=ui(o-s),f=ui(s-a),h=ui(s-o);return s===a||s===o||n&&a===o||c>d&&f<h}function $n(t,e,r){return Math.max(e,Math.min(r,t))}function TI(t){return $n(t,-32768,32767)}function vi(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function Px(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,s=0,a;for(;n-s>1;)a=s+n>>1,r(a)?s=a:n=a;return{lo:s,hi:n}}const mg=(t,e,r,n)=>Px(t,r,n?s=>{const a=t[s][e];return a<r||a===r&&t[s+1][e]===r}:s=>t[s][e]<r),EI=(t,e,r)=>Px(t,r,n=>t[n][e]>=r);function kI(t,e,r){let n=0,s=t.length;for(;n<s&&t[n]<e;)n++;for(;s>n&&t[s-1]>r;)s--;return n>0||s<t.length?t.slice(n,s):t}const ZN=["push","pop","shift","splice","unshift"];function AI(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ZN.forEach(r=>{const n="_onData"+kx(r),s=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...a){const o=s.apply(this,a);return t._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...a)}),o}})})}function Eb(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,s=n.indexOf(e);s!==-1&&n.splice(s,1),!(n.length>0)&&(ZN.forEach(a=>{delete t[a]}),delete t._chartjs)}function PI(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const eC=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function tC(t,e){let r=[],n=!1;return function(...s){r=s,n||(n=!0,eC.call(window,()=>{n=!1,t.apply(e,r)}))}}function DI(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const Dx=t=>t==="start"?"left":t==="end"?"right":"center",vn=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,RI=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e,wf=t=>t===0||t===1,kb=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*dn/r)),Ab=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*dn/r)+1,lu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*cn)+1,easeOutSine:t=>Math.sin(t*cn),easeInOutSine:t=>-.5*(Math.cos(Or*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>wf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>wf(t)?t:kb(t,.075,.3),easeOutElastic:t=>wf(t)?t:Ab(t,.075,.3),easeInOutElastic(t){return wf(t)?t:t<.5?.5*kb(t*2,.1125,.45):.5+.5*Ab(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-lu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?lu.easeInBounce(t*2)*.5:lu.easeOutBounce(t*2-1)*.5+.5};function Rx(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Pb(t){return Rx(t)?t:new Eu(t)}function fp(t){return Rx(t)?t:new Eu(t).saturate(.5).darken(.1).hexString()}const FI=["x","y","borderWidth","radius","tension"],OI=["color","borderColor","backgroundColor"];function MI(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:OI},numbers:{type:"number",properties:FI}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function LI(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Db=new Map;function II(t,e){e=e||{};const r=t+JSON.stringify(e);let n=Db.get(r);return n||(n=new Intl.NumberFormat(t,e),Db.set(r,n)),n}function rC(t,e,r){return II(e,r).format(t)}const BI={values(t){return qr(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let s,a=t;if(r.length>1){const f=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),a=UI(t,r)}const o=JN(Math.abs(a)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),d={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),rC(t,n,d)}};function UI(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var nC={formatters:BI};function zI(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:nC.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Eo=Object.create(null),pg=Object.create(null);function cu(t,e){if(!e)return t;const r=e.split(".");for(let n=0,s=r.length;n<s;++n){const a=r[n];t=t[a]||(t[a]=Object.create(null))}return t}function hp(t,e,r){return typeof e=="string"?ku(cu(t,e),r):ku(cu(t,""),e)}class VI{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>fp(s.backgroundColor),this.hoverBorderColor=(n,s)=>fp(s.borderColor),this.hoverColor=(n,s)=>fp(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return hp(this,e,r)}get(e){return cu(this,e)}describe(e,r){return hp(pg,e,r)}override(e,r){return hp(Eo,e,r)}route(e,r,n,s){const a=cu(this,e),o=cu(this,n),c="_"+r;Object.defineProperties(a,{[c]:{value:a[r],writable:!0},[r]:{enumerable:!0,get(){const d=this[c],f=o[s];return Ht(d)?Object.assign({},f,d):Lt(d,f)},set(d){this[c]=d}}})}apply(e){e.forEach(r=>r(this))}}var Er=new VI({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[MI,LI,zI]);function HI(t){return!t||vr(t.size)||vr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Rb(t,e,r,n,s){let a=e[s];return a||(a=e[s]=t.measureText(s).width,r.push(s)),a>n&&(n=a),n}function ro(t,e,r){const n=t.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((e-s)*n)/n+s}function Fb(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function gg(t,e,r,n){sC(t,e,r,n,null)}function sC(t,e,r,n,s){let a,o,c,d,f,h,p,g;const x=e.pointStyle,w=e.rotation,b=e.radius;let v=(w||0)*bI;if(x&&typeof x=="object"&&(a=x.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(v),t.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),x){default:s?t.ellipse(r,n,s/2,b,0,0,dn):t.arc(r,n,b,0,dn),t.closePath();break;case"triangle":h=s?s/2:b,t.moveTo(r+Math.sin(v)*h,n-Math.cos(v)*b),v+=Cb,t.lineTo(r+Math.sin(v)*h,n-Math.cos(v)*b),v+=Cb,t.lineTo(r+Math.sin(v)*h,n-Math.cos(v)*b),t.closePath();break;case"rectRounded":f=b*.516,d=b-f,o=Math.cos(v+to)*d,p=Math.cos(v+to)*(s?s/2-f:d),c=Math.sin(v+to)*d,g=Math.sin(v+to)*(s?s/2-f:d),t.arc(r-p,n-c,f,v-Or,v-cn),t.arc(r+g,n-o,f,v-cn,v),t.arc(r+p,n+c,f,v,v+cn),t.arc(r-g,n+o,f,v+cn,v+Or),t.closePath();break;case"rect":if(!w){d=Math.SQRT1_2*b,h=s?s/2:d,t.rect(r-h,n-d,2*h,2*d);break}v+=to;case"rectRot":p=Math.cos(v)*(s?s/2:b),o=Math.cos(v)*b,c=Math.sin(v)*b,g=Math.sin(v)*(s?s/2:b),t.moveTo(r-p,n-c),t.lineTo(r+g,n-o),t.lineTo(r+p,n+c),t.lineTo(r-g,n+o),t.closePath();break;case"crossRot":v+=to;case"cross":p=Math.cos(v)*(s?s/2:b),o=Math.cos(v)*b,c=Math.sin(v)*b,g=Math.sin(v)*(s?s/2:b),t.moveTo(r-p,n-c),t.lineTo(r+p,n+c),t.moveTo(r+g,n-o),t.lineTo(r-g,n+o);break;case"star":p=Math.cos(v)*(s?s/2:b),o=Math.cos(v)*b,c=Math.sin(v)*b,g=Math.sin(v)*(s?s/2:b),t.moveTo(r-p,n-c),t.lineTo(r+p,n+c),t.moveTo(r+g,n-o),t.lineTo(r-g,n+o),v+=to,p=Math.cos(v)*(s?s/2:b),o=Math.cos(v)*b,c=Math.sin(v)*b,g=Math.sin(v)*(s?s/2:b),t.moveTo(r-p,n-c),t.lineTo(r+p,n+c),t.moveTo(r+g,n-o),t.lineTo(r-g,n+o);break;case"line":o=s?s/2:Math.cos(v)*b,c=Math.sin(v)*b,t.moveTo(r-o,n-c),t.lineTo(r+o,n+c);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(v)*(s?s/2:b),n+Math.sin(v)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Au(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function Fx(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ox(t){t.restore()}function WI(t,e,r,n,s){if(!e)return t.lineTo(r.x,r.y);if(s==="middle"){const a=(e.x+r.x)/2;t.lineTo(a,e.y),t.lineTo(a,r.y)}else s==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function $I(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function YI(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),vr(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function KI(t,e,r,n,s){if(s.strikethrough||s.underline){const a=t.measureText(n),o=e-a.actualBoundingBoxLeft,c=e+a.actualBoundingBoxRight,d=r-a.actualBoundingBoxAscent,f=r+a.actualBoundingBoxDescent,h=s.strikethrough?(d+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,h),t.lineTo(c,h),t.stroke()}}function GI(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Pu(t,e,r,n,s,a={}){const o=qr(e)?e:[e],c=a.strokeWidth>0&&a.strokeColor!=="";let d,f;for(t.save(),t.font=s.string,YI(t,a),d=0;d<o.length;++d)f=o[d],a.backdrop&&GI(t,a.backdrop),c&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),vr(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(f,r,n,a.maxWidth)),t.fillText(f,r,n,a.maxWidth),KI(t,r,n,f,a),n+=Number(s.lineHeight);t.restore()}function Th(t,e){const{x:r,y:n,w:s,h:a,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*Or,Or,!0),t.lineTo(r,n+a-o.bottomLeft),t.arc(r+o.bottomLeft,n+a-o.bottomLeft,o.bottomLeft,Or,cn,!0),t.lineTo(r+s-o.bottomRight,n+a),t.arc(r+s-o.bottomRight,n+a-o.bottomRight,o.bottomRight,cn,0,!0),t.lineTo(r+s,n+o.topRight),t.arc(r+s-o.topRight,n+o.topRight,o.topRight,0,-cn,!0),t.lineTo(r+o.topLeft,n)}const qI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,XI=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function JI(t,e){const r=(""+t).match(qI);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const QI=t=>+t||0;function Mx(t,e){const r={},n=Ht(e),s=n?Object.keys(e):e,a=Ht(t)?n?o=>Lt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)r[o]=QI(a(o));return r}function aC(t){return Mx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Al(t){return Mx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ks(t){const e=aC(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Sn(t,e){t=t||{},e=e||Er.font;let r=Lt(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Lt(t.style,e.style);n&&!(""+n).match(XI)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:Lt(t.family,e.family),lineHeight:JI(Lt(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Lt(t.weight,e.weight),string:""};return s.string=HI(s),s}function Sf(t,e,r,n){let s,a,o;for(s=0,a=t.length;s<a;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function ZI(t,e,r){const{min:n,max:s}=t,a=hI(e,(s-n)/2),o=(c,d)=>r&&c===0?0:c+d;return{min:o(n,-Math.abs(a)),max:o(s,a)}}function Mo(t,e){return Object.assign(Object.create(t),e)}function Lx(t,e=[""],r,n,s=()=>t[0]){const a=r||t;typeof n>"u"&&(n=cC("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:n,_getTarget:s,override:c=>Lx([c,...t],e,a,n)};return new Proxy(o,{deleteProperty(c,d){return delete c[d],delete c._keys,delete t[0][d],!0},get(c,d){return oC(c,d,()=>o9(d,e,t,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,d){return Mb(c).includes(d)},ownKeys(c){return Mb(c)},set(c,d,f){const h=c._storage||(c._storage=s());return c[d]=h[d]=f,delete c._keys,!0}})}function Fl(t,e,r,n){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:iC(t,n),setContext:a=>Fl(t,a,r,n),override:a=>Fl(t.override(a),e,r,n)};return new Proxy(s,{deleteProperty(a,o){return delete a[o],delete t[o],!0},get(a,o,c){return oC(a,o,()=>t9(a,o,c))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(a,o,c){return t[o]=c,delete a[o],!0}})}function iC(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:r,indexable:n,isScriptable:Ei(r)?r:()=>r,isIndexable:Ei(n)?n:()=>n}}const e9=(t,e)=>t?t+kx(e):e,Ix=(t,e)=>Ht(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function oC(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function t9(t,e,r){const{_proxy:n,_context:s,_subProxy:a,_descriptors:o}=t;let c=n[e];return Ei(c)&&o.isScriptable(e)&&(c=r9(e,c,t,r)),qr(c)&&c.length&&(c=n9(e,c,t,o.isIndexable)),Ix(e,c)&&(c=Fl(c,s,a&&a[e],o)),c}function r9(t,e,r,n){const{_proxy:s,_context:a,_subProxy:o,_stack:c}=r;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let d=e(a,o||n);return c.delete(t),Ix(t,d)&&(d=Bx(s._scopes,s,t,d)),d}function n9(t,e,r,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:c}=r;if(typeof a.index<"u"&&n(t))return e[a.index%e.length];if(Ht(e[0])){const d=e,f=s._scopes.filter(h=>h!==d);e=[];for(const h of d){const p=Bx(f,s,t,h);e.push(Fl(p,a,o&&o[t],c))}}return e}function lC(t,e,r){return Ei(t)?t(e,r):t}const s9=(t,e)=>t===!0?e:typeof t=="string"?_h(e,t):void 0;function a9(t,e,r,n,s){for(const a of e){const o=s9(r,a);if(o){t.add(o);const c=lC(o._fallback,r,s);if(typeof c<"u"&&c!==r&&c!==n)return c}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function Bx(t,e,r,n){const s=e._rootScopes,a=lC(e._fallback,r,n),o=[...t,...s],c=new Set;c.add(n);let d=Ob(c,o,r,a||r,n);return d===null||typeof a<"u"&&a!==r&&(d=Ob(c,o,a,d,n),d===null)?!1:Lx(Array.from(c),[""],s,a,()=>i9(e,r,n))}function Ob(t,e,r,n,s){for(;r;)r=a9(t,e,r,n,s);return r}function i9(t,e,r){const n=t._getTarget();e in n||(n[e]={});const s=n[e];return qr(s)&&Ht(r)?r:s||{}}function o9(t,e,r,n){let s;for(const a of e)if(s=cC(e9(a,t),r),typeof s<"u")return Ix(t,s)?Bx(r,n,t,s):s}function cC(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function Mb(t){let e=t._keys;return e||(e=t._keys=l9(t._scopes)),e}function l9(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(s=>!s.startsWith("_")))e.add(n);return Array.from(e)}const c9=Number.EPSILON||1e-14,Ol=(t,e)=>e<t.length&&!t[e].skip&&t[e],uC=t=>t==="x"?"y":"x";function u9(t,e,r,n){const s=t.skip?e:t,a=e,o=r.skip?e:r,c=hg(a,s),d=hg(o,a);let f=c/(c+d),h=d/(c+d);f=isNaN(f)?0:f,h=isNaN(h)?0:h;const p=n*f,g=n*h;return{previous:{x:a.x-p*(o.x-s.x),y:a.y-p*(o.y-s.y)},next:{x:a.x+g*(o.x-s.x),y:a.y+g*(o.y-s.y)}}}function d9(t,e,r){const n=t.length;let s,a,o,c,d,f=Ol(t,0);for(let h=0;h<n-1;++h)if(d=f,f=Ol(t,h+1),!(!d||!f)){if(ou(e[h],0,c9)){r[h]=r[h+1]=0;continue}s=r[h]/e[h],a=r[h+1]/e[h],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(o=3/Math.sqrt(c),r[h]=s*o*e[h],r[h+1]=a*o*e[h])}}function f9(t,e,r="x"){const n=uC(r),s=t.length;let a,o,c,d=Ol(t,0);for(let f=0;f<s;++f){if(o=c,c=d,d=Ol(t,f+1),!c)continue;const h=c[r],p=c[n];o&&(a=(h-o[r])/3,c[`cp1${r}`]=h-a,c[`cp1${n}`]=p-a*e[f]),d&&(a=(d[r]-h)/3,c[`cp2${r}`]=h+a,c[`cp2${n}`]=p+a*e[f])}}function h9(t,e="x"){const r=uC(e),n=t.length,s=Array(n).fill(0),a=Array(n);let o,c,d,f=Ol(t,0);for(o=0;o<n;++o)if(c=d,d=f,f=Ol(t,o+1),!!d){if(f){const h=f[e]-d[e];s[o]=h!==0?(f[r]-d[r])/h:0}a[o]=c?f?Rl(s[o-1])!==Rl(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}d9(t,s,a),f9(t,a,e)}function _f(t,e,r){return Math.max(Math.min(t,r),e)}function m9(t,e){let r,n,s,a,o,c=Au(t[0],e);for(r=0,n=t.length;r<n;++r)o=a,a=c,c=r<n-1&&Au(t[r+1],e),a&&(s=t[r],o&&(s.cp1x=_f(s.cp1x,e.left,e.right),s.cp1y=_f(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=_f(s.cp2x,e.left,e.right),s.cp2y=_f(s.cp2y,e.top,e.bottom)))}function p9(t,e,r,n,s){let a,o,c,d;if(e.spanGaps&&(t=t.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")h9(t,s);else{let f=n?t[t.length-1]:t[0];for(a=0,o=t.length;a<o;++a)c=t[a],d=u9(f,c,t[Math.min(a+1,o-(n?0:1))%o],e.tension),c.cp1x=d.previous.x,c.cp1y=d.previous.y,c.cp2x=d.next.x,c.cp2y=d.next.y,f=c}e.capBezierPoints&&m9(t,r)}function Ux(){return typeof window<"u"&&typeof document<"u"}function zx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Eh(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const o0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function g9(t,e){return o0(t).getPropertyValue(e)}const x9=["top","right","bottom","left"];function bo(t,e,r){const n={};r=r?"-"+r:"";for(let s=0;s<4;s++){const a=x9[s];n[a]=parseFloat(t[e+"-"+a+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const y9=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function v9(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:s,offsetY:a}=n;let o=!1,c,d;if(y9(s,a,t.target))c=s,d=a;else{const f=e.getBoundingClientRect();c=n.clientX-f.left,d=n.clientY-f.top,o=!0}return{x:c,y:d,box:o}}function ao(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,s=o0(r),a=s.boxSizing==="border-box",o=bo(s,"padding"),c=bo(s,"border","width"),{x:d,y:f,box:h}=v9(t,r),p=o.left+(h&&c.left),g=o.top+(h&&c.top);let{width:x,height:w}=e;return a&&(x-=o.width+c.width,w-=o.height+c.height),{x:Math.round((d-p)/x*r.width/n),y:Math.round((f-g)/w*r.height/n)}}function b9(t,e,r){let n,s;if(e===void 0||r===void 0){const a=t&&zx(t);if(!a)e=t.clientWidth,r=t.clientHeight;else{const o=a.getBoundingClientRect(),c=o0(a),d=bo(c,"border","width"),f=bo(c,"padding");e=o.width-f.width-d.width,r=o.height-f.height-d.height,n=Eh(c.maxWidth,a,"clientWidth"),s=Eh(c.maxHeight,a,"clientHeight")}}return{width:e,height:r,maxWidth:n||Ch,maxHeight:s||Ch}}const Nf=t=>Math.round(t*10)/10;function w9(t,e,r,n){const s=o0(t),a=bo(s,"margin"),o=Eh(s.maxWidth,t,"clientWidth")||Ch,c=Eh(s.maxHeight,t,"clientHeight")||Ch,d=b9(t,e,r);let{width:f,height:h}=d;if(s.boxSizing==="content-box"){const g=bo(s,"border","width"),x=bo(s,"padding");f-=x.width+g.width,h-=x.height+g.height}return f=Math.max(0,f-a.width),h=Math.max(0,n?f/n:h-a.height),f=Nf(Math.min(f,o,d.maxWidth)),h=Nf(Math.min(h,c,d.maxHeight)),f&&!h&&(h=Nf(f/2)),(e!==void 0||r!==void 0)&&n&&d.height&&h>d.height&&(h=d.height,f=Nf(Math.floor(h*n))),{width:f,height:h}}function Lb(t,e,r){const n=e||1,s=Math.floor(t.height*n),a=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==s||o.width!==a?(t.currentDevicePixelRatio=n,o.height=s,o.width=a,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const S9=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Ux()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Ib(t,e){const r=g9(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function io(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function _9(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function N9(t,e,r,n){const s={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},o=io(t,s,r),c=io(s,a,r),d=io(a,e,r),f=io(o,c,r),h=io(c,d,r);return io(f,h,r)}const C9=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},j9=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Pl(t,e,r){return t?C9(e,r):j9()}function dC(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function fC(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function hC(t){return t==="angle"?{between:Ax,compare:jI,normalize:ui}:{between:vi,compare:(e,r)=>e-r,normalize:e=>e}}function Bb({start:t,end:e,count:r,loop:n,style:s}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:s}}function T9(t,e,r){const{property:n,start:s,end:a}=r,{between:o,normalize:c}=hC(n),d=e.length;let{start:f,end:h,loop:p}=t,g,x;if(p){for(f+=d,h+=d,g=0,x=d;g<x&&o(c(e[f%d][n]),s,a);++g)f--,h--;f%=d,h%=d}return h<f&&(h+=d),{start:f,end:h,loop:p,style:t.style}}function E9(t,e,r){if(!r)return[t];const{property:n,start:s,end:a}=r,o=e.length,{compare:c,between:d,normalize:f}=hC(n),{start:h,end:p,loop:g,style:x}=T9(t,e,r),w=[];let b=!1,v=null,N,E,j;const D=()=>d(s,j,N)&&c(s,j)!==0,T=()=>c(a,N)===0||d(a,j,N),M=()=>b||D(),C=()=>!b||T();for(let P=h,I=h;P<=p;++P)E=e[P%o],!E.skip&&(N=f(E[n]),N!==j&&(b=d(N,s,a),v===null&&M()&&(v=c(N,s)===0?P:I),v!==null&&C()&&(w.push(Bb({start:v,end:P,loop:g,count:o,style:x})),v=null),I=P,j=N));return v!==null&&w.push(Bb({start:v,end:p,loop:g,count:o,style:x})),w}function k9(t,e){const r=[],n=t.segments;for(let s=0;s<n.length;s++){const a=E9(n[s],t.points,e);a.length&&r.push(...a)}return r}function A9(t,e,r,n){let s=0,a=e-1;if(r&&!n)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,r&&(a+=s);a>s&&t[a%e].skip;)a--;return a%=e,{start:s,end:a}}function P9(t,e,r,n){const s=t.length,a=[];let o=e,c=t[e],d;for(d=e+1;d<=r;++d){const f=t[d%s];f.skip||f.stop?c.skip||(n=!1,a.push({start:e%s,end:(d-1)%s,loop:n}),e=o=f.stop?d:null):(o=d,c.skip&&(e=d)),c=f}return o!==null&&a.push({start:e%s,end:o%s,loop:n}),a}function D9(t,e){const r=t.points,n=t.options.spanGaps,s=r.length;if(!s)return[];const a=!!t._loop,{start:o,end:c}=A9(r,s,a,n);if(n===!0)return Ub(t,[{start:o,end:c,loop:a}],r,e);const d=c<o?c+s:c,f=!!t._fullLoop&&o===0&&c===s-1;return Ub(t,P9(r,o,d,f),r,e)}function Ub(t,e,r,n){return!n||!n.setContext||!r?e:R9(t,e,r,n)}function R9(t,e,r,n){const s=t._chart.getContext(),a=zb(t.options),{_datasetIndex:o,options:{spanGaps:c}}=t,d=r.length,f=[];let h=a,p=e[0].start,g=p;function x(w,b,v,N){const E=c?-1:1;if(w!==b){for(w+=d;r[w%d].skip;)w-=E;for(;r[b%d].skip;)b+=E;w%d!==b%d&&(f.push({start:w%d,end:b%d,loop:v,style:N}),h=N,p=b%d)}}for(const w of e){p=c?p:w.start;let b=r[p%d],v;for(g=p+1;g<=w.end;g++){const N=r[g%d];v=zb(n.setContext(Mo(s,{type:"segment",p0:b,p1:N,p0DataIndex:(g-1)%d,p1DataIndex:g%d,datasetIndex:o}))),F9(v,h)&&x(p,g-1,w.loop,h),b=N,h=v}p<g-1&&x(p,g-1,w.loop,h)}return f}function zb(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function F9(t,e){if(!e)return!1;const r=[],n=function(s,a){return Rx(a)?(r.includes(a)||r.push(a),r.indexOf(a)):a};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Cf(t,e,r){return t.options.clip?t[r]:e[r]}function O9(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Cf(r,e,"left"),right:Cf(r,e,"right"),top:Cf(n,e,"top"),bottom:Cf(n,e,"bottom")}:e}function M9(t,e){const r=e._clip;if(r.disabled)return!1;const n=O9(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class L9{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,s){const a=r.listeners[s],o=r.duration;a.forEach(c=>c({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=eC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const a=n.items;let o=a.length-1,c=!1,d;for(;o>=0;--o)d=a[o],d._active?(d._total>n.duration&&(n.duration=d._total),d.tick(e),c=!0):(a[o]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,n,e,"progress")),a.length||(n.running=!1,this._notify(s,n,e,"complete"),n.initial=!1),r+=a.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ta=new L9;const Vb="transparent",I9={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=Pb(t||Vb),s=n.valid&&Pb(e||Vb);return s&&s.valid?s.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class B9{constructor(e,r,n,s){const a=r[n];s=Sf([e.to,s,a,e.from]);const o=Sf([e.from,a,s]);this._active=!0,this._fn=e.fn||I9[e.type||typeof o],this._easing=lu[e.easing]||lu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const s=this._target[this._prop],a=n-this._start,o=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Sf([e.to,r,s,e.from]),this._from=Sf([e.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,s=this._prop,a=this._from,o=this._loop,c=this._to;let d;if(this._active=a!==c&&(o||r<n),!this._active){this._target[s]=c,this._notify(!0);return}if(r<0){this._target[s]=a;return}d=r/n%2,d=o&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[s]=this._fn(a,c,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][r]()}}class mC{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Ht(e))return;const r=Object.keys(Er.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!Ht(a))return;const o={};for(const c of r)o[c]=a[c];(qr(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!n.has(c))&&n.set(c,o)})})}_animateOptions(e,r){const n=r.options,s=z9(e,n);if(!s)return[];const a=this._createAnimations(s,n);return n.$shared&&U9(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,r){const n=this._properties,s=[],a=e.$animations||(e.$animations={}),o=Object.keys(r),c=Date.now();let d;for(d=o.length-1;d>=0;--d){const f=o[d];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(e,r));continue}const h=r[f];let p=a[f];const g=n.get(f);if(p)if(g&&p.active()){p.update(g,h,c);continue}else p.cancel();if(!g||!g.duration){e[f]=h;continue}a[f]=p=new B9(g,e,f,h),s.push(p)}return s}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Ta.add(this._chart,n),!0}}function U9(t,e){const r=[],n=Object.keys(e);for(let s=0;s<n.length;s++){const a=t[n[s]];a&&a.active()&&r.push(a.wait())}return Promise.all(r)}function z9(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function Hb(t,e){const r=t&&t.options||{},n=r.reverse,s=r.min===void 0?e:0,a=r.max===void 0?e:0;return{start:n?a:s,end:n?s:a}}function V9(t,e,r){if(r===!1)return!1;const n=Hb(t,r),s=Hb(e,r);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function H9(t){let e,r,n,s;return Ht(t)?(e=t.top,r=t.right,n=t.bottom,s=t.left):e=r=n=s=t,{top:e,right:r,bottom:n,left:s,disabled:t===!1}}function pC(t,e){const r=[],n=t._getSortedDatasetMetas(e);let s,a;for(s=0,a=n.length;s<a;++s)r.push(n[s].index);return r}function Wb(t,e,r,n={}){const s=t.keys,a=n.mode==="single";let o,c,d,f;if(e===null)return;let h=!1;for(o=0,c=s.length;o<c;++o){if(d=+s[o],d===r){if(h=!0,n.all)continue;break}f=t.values[d],Es(f)&&(a||e===0||Rl(e)===Rl(f))&&(e+=f)}return!h&&!n.all?0:e}function W9(t,e){const{iScale:r,vScale:n}=e,s=r.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",o=Object.keys(t),c=new Array(o.length);let d,f,h;for(d=0,f=o.length;d<f;++d)h=o[d],c[d]={[s]:h,[a]:t[h]};return c}function mp(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function $9(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function Y9(t){const{min:e,max:r,minDefined:n,maxDefined:s}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function K9(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function $b(t,e,r,n){for(const s of e.getMatchingVisibleMetas(n).reverse()){const a=t[s.index];if(r&&a>0||!r&&a<0)return s.index}return null}function Yb(t,e){const{chart:r,_cachedMeta:n}=t,s=r._stacks||(r._stacks={}),{iScale:a,vScale:o,index:c}=n,d=a.axis,f=o.axis,h=$9(a,o,n),p=e.length;let g;for(let x=0;x<p;++x){const w=e[x],{[d]:b,[f]:v}=w,N=w._stacks||(w._stacks={});g=N[f]=K9(s,h,b),g[c]=v,g._top=$b(g,o,!0,n.type),g._bottom=$b(g,o,!1,n.type);const E=g._visualValues||(g._visualValues={});E[c]=v}}function pp(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function G9(t,e){return Mo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function q9(t,e,r){return Mo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Fc(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const s of e){const a=s._stacks;if(!a||a[n]===void 0||a[n][r]===void 0)return;delete a[n][r],a[n]._visualValues!==void 0&&a[n]._visualValues[r]!==void 0&&delete a[n]._visualValues[r]}}}const gp=t=>t==="reset"||t==="none",Kb=(t,e)=>e?t:Object.assign({},t),X9=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:pC(r,!0),values:null};class Yf{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=mp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Fc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),s=(p,g,x,w)=>p==="x"?g:p==="r"?w:x,a=r.xAxisID=Lt(n.xAxisID,pp(e,"x")),o=r.yAxisID=Lt(n.yAxisID,pp(e,"y")),c=r.rAxisID=Lt(n.rAxisID,pp(e,"r")),d=r.indexAxis,f=r.iAxisID=s(d,a,o,c),h=r.vAxisID=s(d,o,a,c);r.xScale=this.getScaleForId(a),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(f),r.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Eb(this._data,this),e._stacked&&Fc(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Ht(r)){const s=this._cachedMeta;this._data=W9(r,s)}else if(n!==r){if(n){Eb(n,this);const s=this._cachedMeta;Fc(s),s._parsed=[]}r&&Object.isExtensible(r)&&AI(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const a=r._stacked;r._stacked=mp(r.vScale,r),r.stack!==n.stack&&(s=!0,Fc(r),r.stack=n.stack),this._resyncElements(e),(s||a!==r._stacked)&&(Yb(this,r._parsed),r._stacked=mp(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:s}=this,{iScale:a,_stacked:o}=n,c=a.axis;let d=e===0&&r===s.length?!0:n._sorted,f=e>0&&n._parsed[e-1],h,p,g;if(this._parsing===!1)n._parsed=s,n._sorted=!0,g=s;else{qr(s[e])?g=this.parseArrayData(n,s,e,r):Ht(s[e])?g=this.parseObjectData(n,s,e,r):g=this.parsePrimitiveData(n,s,e,r);const x=()=>p[c]===null||f&&p[c]<f[c];for(h=0;h<r;++h)n._parsed[h+e]=p=g[h],d&&(x()&&(d=!1),f=p);n._sorted=d}o&&Yb(this,g)}parsePrimitiveData(e,r,n,s){const{iScale:a,vScale:o}=e,c=a.axis,d=o.axis,f=a.getLabels(),h=a===o,p=new Array(s);let g,x,w;for(g=0,x=s;g<x;++g)w=g+n,p[g]={[c]:h||a.parse(f[w],w),[d]:o.parse(r[w],w)};return p}parseArrayData(e,r,n,s){const{xScale:a,yScale:o}=e,c=new Array(s);let d,f,h,p;for(d=0,f=s;d<f;++d)h=d+n,p=r[h],c[d]={x:a.parse(p[0],h),y:o.parse(p[1],h)};return c}parseObjectData(e,r,n,s){const{xScale:a,yScale:o}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,f=new Array(s);let h,p,g,x;for(h=0,p=s;h<p;++h)g=h+n,x=r[g],f[h]={x:a.parse(_h(x,c),g),y:o.parse(_h(x,d),g)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const s=this.chart,a=this._cachedMeta,o=r[e.axis],c={keys:pC(s,!0),values:r._stacks[e.axis]._visualValues};return Wb(c,o,a.index,{mode:n})}updateRangeFromParsed(e,r,n,s){const a=n[r.axis];let o=a===null?NaN:a;const c=s&&n._stacks[r.axis];s&&c&&(s.values=c,o=Wb(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const n=this._cachedMeta,s=n._parsed,a=n._sorted&&e===n.iScale,o=s.length,c=this._getOtherScale(e),d=X9(r,n,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:p}=Y9(c);let g,x;function w(){x=s[g];const b=x[c.axis];return!Es(x[e.axis])||h>b||p<b}for(g=0;g<o&&!(!w()&&(this.updateRangeFromParsed(f,e,x,d),a));++g);if(a){for(g=o-1;g>=0;--g)if(!w()){this.updateRangeFromParsed(f,e,x,d);break}}return f}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let s,a,o;for(s=0,a=r.length;s<a;++s)o=r[s][e.axis],Es(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,s=r.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=H9(Lt(this.options.clip,V9(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,s=n.data||[],a=r.chartArea,o=[],c=this._drawStart||0,d=this._drawCount||s.length-c,f=this.options.drawActiveElementsOnTop;let h;for(n.dataset&&n.dataset.draw(e,a,c,d),h=c;h<c+d;++h){const p=s[h];p.hidden||(p.active&&f?o.push(p):p.draw(e,a))}for(h=0;h<o.length;++h)o[h].draw(e,a)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];a=o.$context||(o.$context=q9(this.getContext(),e,o)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=G9(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!r,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const s=r==="active",a=this._cachedDataOpts,o=e+"-"+r,c=a[o],d=this.enableOptionSharing&&Nh(n);if(c)return Kb(c,d);const f=this.chart.config,h=f.datasetElementScopeKeys(this._type,e),p=s?[`${e}Hover`,"hover",e,""]:[e,""],g=f.getOptionScopes(this.getDataset(),h),x=Object.keys(Er.elements[e]),w=()=>this.getContext(n,s,r),b=f.resolveNamedOptions(g,x,w,p);return b.$shared&&(b.$shared=d,a[o]=Object.freeze(Kb(b,d))),b}_resolveAnimations(e,r,n){const s=this.chart,a=this._cachedDataOpts,o=`animation-${r}`,c=a[o];if(c)return c;let d;if(s.options.animation!==!1){const h=this.chart.config,p=h.datasetAnimationScopeKeys(this._type,r),g=h.getOptionScopes(this.getDataset(),p);d=h.createResolver(g,this.getContext(e,n,r))}const f=new mC(s,d&&d.animations);return d&&d._cacheable&&(a[o]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||gp(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),s=this._sharedOptions,a=this.getSharedOptions(n),o=this.includeOptions(r,a)||a!==s;return this.updateSharedOptions(a,r,n),{sharedOptions:a,includeOptions:o}}updateElement(e,r,n,s){gp(s)?Object.assign(e,n):this._resolveAnimations(r,s).update(e,n)}updateSharedOptions(e,r,n){e&&!gp(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,s){e.active=s;const a=this.getStyle(r,s);this._resolveAnimations(r,n,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[c,d,f]of this._syncList)this[c](d,f);this._syncList=[];const s=n.length,a=r.length,o=Math.min(a,s);o&&this.parse(0,o),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,r,n=!0){const s=this._cachedMeta,a=s.data,o=e+r;let c;const d=f=>{for(f.length+=r,c=f.length-1;c>=o;c--)f[c]=f[c-r]};for(d(a),c=e;c<o;++c)a[c]=new this.dataElementType;this._parsing&&d(s._parsed),this.parse(e,r),n&&this.updateElements(a,e,r,"reset")}updateElements(e,r,n,s){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,r);n._stacked&&Fc(n,s)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,s]=e;this[r](n,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}bt(Yf,"defaults",{}),bt(Yf,"datasetElementType",null),bt(Yf,"dataElementType",null);function no(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Vx{constructor(e){bt(this,"options");this.options=e||{}}static override(e){Object.assign(Vx.prototype,e)}init(){}formats(){return no()}parse(){return no()}format(){return no()}add(){return no()}diff(){return no()}startOf(){return no()}endOf(){return no()}}var J9={_date:Vx};function Q9(t,e,r,n){const{controller:s,data:a,_sorted:o}=t,c=s._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&a.length){const f=c._reversePixels?EI:mg;if(n){if(s._sharedOptions){const h=a[0],p=typeof h.getRange=="function"&&h.getRange(e);if(p){const g=f(a,e,r-p),x=f(a,e,r+p);return{lo:g.lo,hi:x.hi}}}}else{const h=f(a,e,r);if(d){const{vScale:p}=s._cachedMeta,{_parsed:g}=t,x=g.slice(0,h.lo+1).reverse().findIndex(b=>!vr(b[p.axis]));h.lo-=Math.max(0,x);const w=g.slice(h.hi).findIndex(b=>!vr(b[p.axis]));h.hi+=Math.max(0,w)}return h}}return{lo:0,hi:a.length-1}}function l0(t,e,r,n,s){const a=t.getSortedVisibleDatasetMetas(),o=r[e];for(let c=0,d=a.length;c<d;++c){const{index:f,data:h}=a[c],{lo:p,hi:g}=Q9(a[c],e,o,s);for(let x=p;x<=g;++x){const w=h[x];w.skip||n(w,f,x)}}}function Z9(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,s){const a=e?Math.abs(n.x-s.x):0,o=r?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function xp(t,e,r,n,s){const a=[];return!s&&!t.isPointInArea(e)||l0(t,r,e,function(c,d,f){!s&&!Au(c,t.chartArea,0)||c.inRange(e.x,e.y,n)&&a.push({element:c,datasetIndex:d,index:f})},!0),a}function eB(t,e,r,n){let s=[];function a(o,c,d){const{startAngle:f,endAngle:h}=o.getProps(["startAngle","endAngle"],n),{angle:p}=QN(o,{x:e.x,y:e.y});Ax(p,f,h)&&s.push({element:o,datasetIndex:c,index:d})}return l0(t,r,e,a),s}function tB(t,e,r,n,s,a){let o=[];const c=Z9(r);let d=Number.POSITIVE_INFINITY;function f(h,p,g){const x=h.inRange(e.x,e.y,s);if(n&&!x)return;const w=h.getCenterPoint(s);if(!(!!a||t.isPointInArea(w))&&!x)return;const v=c(e,w);v<d?(o=[{element:h,datasetIndex:p,index:g}],d=v):v===d&&o.push({element:h,datasetIndex:p,index:g})}return l0(t,r,e,f),o}function yp(t,e,r,n,s,a){return!a&&!t.isPointInArea(e)?[]:r==="r"&&!n?eB(t,e,r,s):tB(t,e,r,n,s,a)}function Gb(t,e,r,n,s){const a=[],o=r==="x"?"inXRange":"inYRange";let c=!1;return l0(t,r,e,(d,f,h)=>{d[o]&&d[o](e[r],s)&&(a.push({element:d,datasetIndex:f,index:h}),c=c||d.inRange(e.x,e.y,s))}),n&&!c?[]:a}var rB={modes:{index(t,e,r,n){const s=ao(e,t),a=r.axis||"x",o=r.includeInvisible||!1,c=r.intersect?xp(t,s,a,n,o):yp(t,s,a,!1,n,o),d=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const h=c[0].index,p=f.data[h];p&&!p.skip&&d.push({element:p,datasetIndex:f.index,index:h})}),d):[]},dataset(t,e,r,n){const s=ao(e,t),a=r.axis||"xy",o=r.includeInvisible||!1;let c=r.intersect?xp(t,s,a,n,o):yp(t,s,a,!1,n,o);if(c.length>0){const d=c[0].datasetIndex,f=t.getDatasetMeta(d).data;c=[];for(let h=0;h<f.length;++h)c.push({element:f[h],datasetIndex:d,index:h})}return c},point(t,e,r,n){const s=ao(e,t),a=r.axis||"xy",o=r.includeInvisible||!1;return xp(t,s,a,n,o)},nearest(t,e,r,n){const s=ao(e,t),a=r.axis||"xy",o=r.includeInvisible||!1;return yp(t,s,a,r.intersect,n,o)},x(t,e,r,n){const s=ao(e,t);return Gb(t,s,"x",r.intersect,n)},y(t,e,r,n){const s=ao(e,t);return Gb(t,s,"y",r.intersect,n)}}};const gC=["left","top","right","bottom"];function Oc(t,e){return t.filter(r=>r.pos===e)}function qb(t,e){return t.filter(r=>gC.indexOf(r.pos)===-1&&r.box.axis===e)}function Mc(t,e){return t.sort((r,n)=>{const s=e?n:r,a=e?r:n;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function nB(t){const e=[];let r,n,s,a,o,c;for(r=0,n=(t||[]).length;r<n;++r)s=t[r],{position:a,options:{stack:o,stackWeight:c=1}}=s,e.push({index:r,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&a+o,stackWeight:c});return e}function sB(t){const e={};for(const r of t){const{stack:n,pos:s,stackWeight:a}=r;if(!n||!gC.includes(s))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return e}function aB(t,e){const r=sB(t),{vBoxMaxWidth:n,hBoxMaxHeight:s}=e;let a,o,c;for(a=0,o=t.length;a<o;++a){c=t[a];const{fullSize:d}=c.box,f=r[c.stack],h=f&&c.stackWeight/f.weight;c.horizontal?(c.width=h?h*n:d&&e.availableWidth,c.height=s):(c.width=n,c.height=h?h*s:d&&e.availableHeight)}return r}function iB(t){const e=nB(t),r=Mc(e.filter(f=>f.box.fullSize),!0),n=Mc(Oc(e,"left"),!0),s=Mc(Oc(e,"right")),a=Mc(Oc(e,"top"),!0),o=Mc(Oc(e,"bottom")),c=qb(e,"x"),d=qb(e,"y");return{fullSize:r,leftAndTop:n.concat(a),rightAndBottom:s.concat(d).concat(o).concat(c),chartArea:Oc(e,"chartArea"),vertical:n.concat(s).concat(d),horizontal:a.concat(o).concat(c)}}function Xb(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function xC(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function oB(t,e,r,n){const{pos:s,box:a}=r,o=t.maxPadding;if(!Ht(s)){r.size&&(t[s]-=r.size);const p=n[r.stack]||{size:0,count:1};p.size=Math.max(p.size,r.horizontal?a.height:a.width),r.size=p.size/p.count,t[s]+=r.size}a.getPadding&&xC(o,a.getPadding());const c=Math.max(0,e.outerWidth-Xb(o,t,"left","right")),d=Math.max(0,e.outerHeight-Xb(o,t,"top","bottom")),f=c!==t.w,h=d!==t.h;return t.w=c,t.h=d,r.horizontal?{same:f,other:h}:{same:h,other:f}}function lB(t){const e=t.maxPadding;function r(n){const s=Math.max(e[n]-t[n],0);return t[n]+=s,s}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function cB(t,e){const r=e.maxPadding;function n(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{a[o]=Math.max(e[o],r[o])}),a}return n(t?["left","right"]:["top","bottom"])}function $c(t,e,r,n){const s=[];let a,o,c,d,f,h;for(a=0,o=t.length,f=0;a<o;++a){c=t[a],d=c.box,d.update(c.width||e.w,c.height||e.h,cB(c.horizontal,e));const{same:p,other:g}=oB(e,r,c,n);f|=p&&s.length,h=h||g,d.fullSize||s.push(c)}return f&&$c(s,e,r,n)||h}function jf(t,e,r,n,s){t.top=r,t.left=e,t.right=e+n,t.bottom=r+s,t.width=n,t.height=s}function Jb(t,e,r,n){const s=r.padding;let{x:a,y:o}=e;for(const c of t){const d=c.box,f=n[c.stack]||{placed:0,weight:1},h=c.stackWeight/f.weight||1;if(c.horizontal){const p=e.w*h,g=f.size||d.height;Nh(f.start)&&(o=f.start),d.fullSize?jf(d,s.left,o,r.outerWidth-s.right-s.left,g):jf(d,e.left+f.placed,o,p,g),f.start=o,f.placed+=p,o=d.bottom}else{const p=e.h*h,g=f.size||d.width;Nh(f.start)&&(a=f.start),d.fullSize?jf(d,a,s.top,g,r.outerHeight-s.bottom-s.top):jf(d,a,e.top+f.placed,g,p),f.start=a,f.placed+=p,a=d.right}}e.x=a,e.y=o}var js={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const s=ks(t.options.layout.padding),a=Math.max(e-s.width,0),o=Math.max(r-s.height,0),c=iB(t.boxes),d=c.vertical,f=c.horizontal;Qt(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const h=d.reduce((b,v)=>v.box.options&&v.box.options.display===!1?b:b+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:r,padding:s,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/h,hBoxMaxHeight:o/2}),g=Object.assign({},s);xC(g,ks(n));const x=Object.assign({maxPadding:g,w:a,h:o,x:s.left,y:s.top},s),w=aB(d.concat(f),p);$c(c.fullSize,x,p,w),$c(d,x,p,w),$c(f,x,p,w)&&$c(d,x,p,w),lB(x),Jb(c.leftAndTop,x,p,w),x.x+=x.w,x.y+=x.h,Jb(c.rightAndBottom,x,p,w),t.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Qt(c.chartArea,b=>{const v=b.box;Object.assign(v,t.chartArea),v.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class yC{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,s){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,s?Math.floor(r/s):n)}}isAttached(e){return!0}updateConfig(e){}}class uB extends yC{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Kf="$chartjs",dB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Qb=t=>t===null||t==="";function fB(t,e){const r=t.style,n=t.getAttribute("height"),s=t.getAttribute("width");if(t[Kf]={initial:{height:n,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Qb(s)){const a=Ib(t,"width");a!==void 0&&(t.width=a)}if(Qb(n))if(t.style.height==="")t.height=t.width/(e||2);else{const a=Ib(t,"height");a!==void 0&&(t.height=a)}return t}const vC=S9?{passive:!0}:!1;function hB(t,e,r){t&&t.addEventListener(e,r,vC)}function mB(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,vC)}function pB(t,e){const r=dB[t.type]||t.type,{x:n,y:s}=ao(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:s!==void 0?s:null}}function kh(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function gB(t,e,r){const n=t.canvas,s=new MutationObserver(a=>{let o=!1;for(const c of a)o=o||kh(c.addedNodes,n),o=o&&!kh(c.removedNodes,n);o&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function xB(t,e,r){const n=t.canvas,s=new MutationObserver(a=>{let o=!1;for(const c of a)o=o||kh(c.removedNodes,n),o=o&&!kh(c.addedNodes,n);o&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const Du=new Map;let Zb=0;function bC(){const t=window.devicePixelRatio;t!==Zb&&(Zb=t,Du.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function yB(t,e){Du.size||window.addEventListener("resize",bC),Du.set(t,e)}function vB(t){Du.delete(t),Du.size||window.removeEventListener("resize",bC)}function bB(t,e,r){const n=t.canvas,s=n&&zx(n);if(!s)return;const a=tC((c,d)=>{const f=s.clientWidth;r(c,d),f<s.clientWidth&&r()},window),o=new ResizeObserver(c=>{const d=c[0],f=d.contentRect.width,h=d.contentRect.height;f===0&&h===0||a(f,h)});return o.observe(s),yB(t,a),o}function vp(t,e,r){r&&r.disconnect(),e==="resize"&&vB(t)}function wB(t,e,r){const n=t.canvas,s=tC(a=>{t.ctx!==null&&r(pB(a,t))},t);return hB(n,e,s),s}class SB extends yC{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(fB(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Kf])return!1;const n=r[Kf].initial;["height","width"].forEach(a=>{const o=n[a];vr(o)?r.removeAttribute(a):r.setAttribute(a,o)});const s=n.style||{};return Object.keys(s).forEach(a=>{r.style[a]=s[a]}),r.width=r.width,delete r[Kf],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const s=e.$proxies||(e.$proxies={}),o={attach:gB,detach:xB,resize:bB}[r]||wB;s[r]=o(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),s=n[r];if(!s)return;({attach:vp,detach:vp,resize:vp}[r]||mB)(e,r,s),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,s){return w9(e,r,n,s)}isAttached(e){const r=e&&zx(e);return!!(r&&r.isConnected)}}function _B(t){return!Ux()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?uB:SB}var Mf;let za=(Mf=class{constructor(){bt(this,"x");bt(this,"y");bt(this,"active",!1);bt(this,"options");bt(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return jh(this.x)&&jh(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const s={};return e.forEach(a=>{s[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),s}},bt(Mf,"defaults",{}),bt(Mf,"defaultRoutes"),Mf);function NB(t,e){const r=t.options.ticks,n=CB(t),s=Math.min(r.maxTicksLimit||n,n),a=r.major.enabled?TB(e):[],o=a.length,c=a[0],d=a[o-1],f=[];if(o>s)return EB(e,f,a,o/s),f;const h=jB(a,e,s);if(o>0){let p,g;const x=o>1?Math.round((d-c)/(o-1)):null;for(Tf(e,f,h,vr(x)?0:c-x,c),p=0,g=o-1;p<g;p++)Tf(e,f,h,a[p],a[p+1]);return Tf(e,f,h,d,vr(x)?e.length:d+x),f}return Tf(e,f,h),f}function CB(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),s=t._maxLength/r;return Math.floor(Math.min(n,s))}function jB(t,e,r){const n=kB(t),s=e.length/r;if(!n)return Math.max(s,1);const a=wI(n);for(let o=0,c=a.length-1;o<c;o++){const d=a[o];if(d>s)return d}return Math.max(s,1)}function TB(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function EB(t,e,r,n){let s=0,a=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===a&&(e.push(t[o]),s++,a=r[s*n])}function Tf(t,e,r,n,s){const a=Lt(n,0),o=Math.min(Lt(s,t.length),t.length);let c=0,d,f,h;for(r=Math.ceil(r),s&&(d=s-n,r=d/Math.floor(d/r)),h=a;h<0;)c++,h=Math.round(a+c*r);for(f=Math.max(a,0);f<o;f++)f===h&&(e.push(t[f]),c++,h=Math.round(a+c*r))}function kB(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const AB=t=>t==="left"?"right":t==="right"?"left":t,ew=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,tw=(t,e)=>Math.min(e||t,t);function rw(t,e){const r=[],n=t.length/e,s=t.length;let a=0;for(;a<s;a+=n)r.push(t[Math.floor(a)]);return r}function PB(t,e,r){const n=t.ticks.length,s=Math.min(e,n-1),a=t._startPixel,o=t._endPixel,c=1e-6;let d=t.getPixelForTick(s),f;if(!(r&&(n===1?f=Math.max(d-a,o-d):e===0?f=(t.getPixelForTick(1)-d)/2:f=(d-t.getPixelForTick(s-1))/2,d+=s<e?f:-f,d<a-c||d>o+c)))return d}function DB(t,e){Qt(t,r=>{const n=r.gc,s=n.length/2;let a;if(s>e){for(a=0;a<s;++a)delete r.data[n[a]];n.splice(0,s)}})}function Lc(t){return t.drawTicks?t.tickLength:0}function nw(t,e){if(!t.display)return 0;const r=Sn(t.font,e),n=ks(t.padding);return(qr(t.text)?t.text.length:1)*r.lineHeight+n.height}function RB(t,e){return Mo(t,{scale:e,type:"scale"})}function FB(t,e,r){return Mo(t,{tick:r,index:e,type:"tick"})}function OB(t,e,r){let n=Dx(t);return(r&&e!=="right"||!r&&e==="right")&&(n=AB(n)),n}function MB(t,e,r,n){const{top:s,left:a,bottom:o,right:c,chart:d}=t,{chartArea:f,scales:h}=d;let p=0,g,x,w;const b=o-s,v=c-a;if(t.isHorizontal()){if(x=vn(n,a,c),Ht(r)){const N=Object.keys(r)[0],E=r[N];w=h[N].getPixelForValue(E)+b-e}else r==="center"?w=(f.bottom+f.top)/2+b-e:w=ew(t,r,e);g=c-a}else{if(Ht(r)){const N=Object.keys(r)[0],E=r[N];x=h[N].getPixelForValue(E)-v+e}else r==="center"?x=(f.left+f.right)/2-v+e:x=ew(t,r,e);w=vn(n,o,s),p=r==="left"?-cn:cn}return{titleX:x,titleY:w,maxWidth:g,rotation:p}}class Kl extends za{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:s}=this;return e=sa(e,Number.POSITIVE_INFINITY),r=sa(r,Number.NEGATIVE_INFINITY),n=sa(n,Number.POSITIVE_INFINITY),s=sa(s,Number.NEGATIVE_INFINITY),{min:sa(e,n),max:sa(r,s),minDefined:Es(e),maxDefined:Es(r)}}getMinMax(e){let{min:r,max:n,minDefined:s,maxDefined:a}=this.getUserBounds(),o;if(s&&a)return{min:r,max:n};const c=this.getMatchingVisibleMetas();for(let d=0,f=c.length;d<f;++d)o=c[d].controller.getMinMax(this,e),s||(r=Math.min(r,o.min)),a||(n=Math.max(n,o.max));return r=a&&r>n?n:r,n=s&&r>n?r:n,{min:sa(r,sa(n,r)),max:sa(n,sa(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){lr(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:s,grace:a,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ZI(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?rw(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=NB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){lr(this.options.afterUpdate,[this])}beforeSetDimensions(){lr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){lr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),lr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){lr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,s,a;for(n=0,s=e.length;n<s;n++)a=e[n],a.label=lr(r.callback,[a.value,n,e],this)}afterTickToLabelConversion(){lr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){lr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=tw(this.ticks.length,e.ticks.maxTicksLimit),s=r.minRotation||0,a=r.maxRotation;let o=s,c,d,f;if(!this._isVisible()||!r.display||s>=a||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),p=h.widest.width,g=h.highest.height,x=$n(this.chart.width-p,0,this.maxWidth);c=e.offset?this.maxWidth/n:x/(n-1),p+6>c&&(c=x/(n-(e.offset?.5:1)),d=this.maxHeight-Lc(e.grid)-r.padding-nw(e.title,this.chart.options.font),f=Math.sqrt(p*p+g*g),o=CI(Math.min(Math.asin($n((h.highest.height+6)/c,-1,1)),Math.asin($n(d/f,-1,1))-Math.asin($n(g/f,-1,1)))),o=Math.max(s,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){lr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){lr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:s,grid:a}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const d=nw(s,r.options.font);if(c?(e.width=this.maxWidth,e.height=Lc(a)+d):(e.height=this.maxHeight,e.width=Lc(a)+d),n.display&&this.ticks.length){const{first:f,last:h,widest:p,highest:g}=this._getLabelSizes(),x=n.padding*2,w=ho(this.labelRotation),b=Math.cos(w),v=Math.sin(w);if(c){const N=n.mirror?0:v*p.width+b*g.height;e.height=Math.min(this.maxHeight,e.height+N+x)}else{const N=n.mirror?0:b*p.width+v*g.height;e.width=Math.min(this.maxWidth,e.width+N+x)}this._calculatePadding(f,h,v,b)}}this._handleMargins(),c?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,s){const{ticks:{align:a,padding:o},position:c}=this.options,d=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,x=0;d?f?(g=s*e.width,x=n*r.height):(g=n*e.height,x=s*r.width):a==="start"?x=r.width:a==="end"?g=e.width:a!=="inner"&&(g=e.width/2,x=r.width/2),this.paddingLeft=Math.max((g-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((x-p+o)*this.width/(this.width-p),0)}else{let h=r.height/2,p=e.height/2;a==="start"?(h=0,p=e.height):a==="end"&&(h=r.height,p=0),this.paddingTop=h+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){lr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)vr(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=rw(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:s,_longestTextCache:a}=this,o=[],c=[],d=Math.floor(r/tw(r,n));let f=0,h=0,p,g,x,w,b,v,N,E,j,D,T;for(p=0;p<r;p+=d){if(w=e[p].label,b=this._resolveTickFontOptions(p),s.font=v=b.string,N=a[v]=a[v]||{data:{},gc:[]},E=b.lineHeight,j=D=0,!vr(w)&&!qr(w))j=Rb(s,N.data,N.gc,j,w),D=E;else if(qr(w))for(g=0,x=w.length;g<x;++g)T=w[g],!vr(T)&&!qr(T)&&(j=Rb(s,N.data,N.gc,j,T),D+=E);o.push(j),c.push(D),f=Math.max(j,f),h=Math.max(D,h)}DB(a,r);const M=o.indexOf(f),C=c.indexOf(h),P=I=>({width:o[I]||0,height:c[I]||0});return{first:P(0),last:P(r-1),widest:P(M),highest:P(C),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return TI(this._alignToPixels?ro(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=FB(this.getContext(),e,n))}return this.$context||(this.$context=RB(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=ho(this.labelRotation),n=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),a=this._getLabelSizes(),o=e.autoSkipPadding||0,c=a?a.widest.width+o:0,d=a?a.highest.height+o:0;return this.isHorizontal()?d*n>c*s?c/n:d/s:d*s<c*n?d/n:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,s=this.options,{grid:a,position:o,border:c}=s,d=a.offset,f=this.isHorizontal(),p=this.ticks.length+(d?1:0),g=Lc(a),x=[],w=c.setContext(this.getContext()),b=w.display?w.width:0,v=b/2,N=function(K){return ro(n,K,b)};let E,j,D,T,M,C,P,I,G,J,H,ie;if(o==="top")E=N(this.bottom),C=this.bottom-g,I=E-v,J=N(e.top)+v,ie=e.bottom;else if(o==="bottom")E=N(this.top),J=e.top,ie=N(e.bottom)-v,C=E+v,I=this.top+g;else if(o==="left")E=N(this.right),M=this.right-g,P=E-v,G=N(e.left)+v,H=e.right;else if(o==="right")E=N(this.left),G=e.left,H=N(e.right)-v,M=E+v,P=this.left+g;else if(r==="x"){if(o==="center")E=N((e.top+e.bottom)/2+.5);else if(Ht(o)){const K=Object.keys(o)[0],W=o[K];E=N(this.chart.scales[K].getPixelForValue(W))}J=e.top,ie=e.bottom,C=E+v,I=C+g}else if(r==="y"){if(o==="center")E=N((e.left+e.right)/2);else if(Ht(o)){const K=Object.keys(o)[0],W=o[K];E=N(this.chart.scales[K].getPixelForValue(W))}M=E-v,P=M-g,G=e.left,H=e.right}const Z=Lt(s.ticks.maxTicksLimit,p),O=Math.max(1,Math.ceil(p/Z));for(j=0;j<p;j+=O){const K=this.getContext(j),W=a.setContext(K),Y=c.setContext(K),oe=W.lineWidth,se=W.color,X=Y.dash||[],F=Y.dashOffset,U=W.tickWidth,z=W.tickColor,k=W.tickBorderDash||[],ce=W.tickBorderDashOffset;D=PB(this,j,d),D!==void 0&&(T=ro(n,D,oe),f?M=P=G=H=T:C=I=J=ie=T,x.push({tx1:M,ty1:C,tx2:P,ty2:I,x1:G,y1:J,x2:H,y2:ie,width:oe,color:se,borderDash:X,borderDashOffset:F,tickWidth:U,tickColor:z,tickBorderDash:k,tickBorderDashOffset:ce}))}return this._ticksLength=p,this._borderValue=E,x}_computeLabelItems(e){const r=this.axis,n=this.options,{position:s,ticks:a}=n,o=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:f,padding:h,mirror:p}=a,g=Lc(n.grid),x=g+h,w=p?-h:x,b=-ho(this.labelRotation),v=[];let N,E,j,D,T,M,C,P,I,G,J,H,ie="middle";if(s==="top")M=this.bottom-w,C=this._getXAxisLabelAlignment();else if(s==="bottom")M=this.top+w,C=this._getXAxisLabelAlignment();else if(s==="left"){const O=this._getYAxisLabelAlignment(g);C=O.textAlign,T=O.x}else if(s==="right"){const O=this._getYAxisLabelAlignment(g);C=O.textAlign,T=O.x}else if(r==="x"){if(s==="center")M=(e.top+e.bottom)/2+x;else if(Ht(s)){const O=Object.keys(s)[0],K=s[O];M=this.chart.scales[O].getPixelForValue(K)+x}C=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")T=(e.left+e.right)/2-x;else if(Ht(s)){const O=Object.keys(s)[0],K=s[O];T=this.chart.scales[O].getPixelForValue(K)}C=this._getYAxisLabelAlignment(g).textAlign}r==="y"&&(d==="start"?ie="top":d==="end"&&(ie="bottom"));const Z=this._getLabelSizes();for(N=0,E=c.length;N<E;++N){j=c[N],D=j.label;const O=a.setContext(this.getContext(N));P=this.getPixelForTick(N)+a.labelOffset,I=this._resolveTickFontOptions(N),G=I.lineHeight,J=qr(D)?D.length:1;const K=J/2,W=O.color,Y=O.textStrokeColor,oe=O.textStrokeWidth;let se=C;o?(T=P,C==="inner"&&(N===E-1?se=this.options.reverse?"left":"right":N===0?se=this.options.reverse?"right":"left":se="center"),s==="top"?f==="near"||b!==0?H=-J*G+G/2:f==="center"?H=-Z.highest.height/2-K*G+G:H=-Z.highest.height+G/2:f==="near"||b!==0?H=G/2:f==="center"?H=Z.highest.height/2-K*G:H=Z.highest.height-J*G,p&&(H*=-1),b!==0&&!O.showLabelBackdrop&&(T+=G/2*Math.sin(b))):(M=P,H=(1-J)*G/2);let X;if(O.showLabelBackdrop){const F=ks(O.backdropPadding),U=Z.heights[N],z=Z.widths[N];let k=H-F.top,ce=0-F.left;switch(ie){case"middle":k-=U/2;break;case"bottom":k-=U;break}switch(C){case"center":ce-=z/2;break;case"right":ce-=z;break;case"inner":N===E-1?ce-=z:N>0&&(ce-=z/2);break}X={left:ce,top:k,width:z+F.width,height:U+F.height,color:O.backdropColor}}v.push({label:D,font:I,textOffset:H,options:{rotation:b,color:W,strokeColor:Y,strokeWidth:oe,textAlign:se,textBaseline:ie,translation:[T,M],backdrop:X}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-ho(this.labelRotation))return e==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:s,padding:a}}=this.options,o=this._getLabelSizes(),c=e+a,d=o.widest.width;let f,h;return r==="left"?s?(h=this.right+a,n==="near"?f="left":n==="center"?(f="center",h+=d/2):(f="right",h+=d)):(h=this.right-c,n==="near"?f="right":n==="center"?(f="center",h-=d/2):(f="left",h=this.left)):r==="right"?s?(h=this.left+a,n==="near"?f="right":n==="center"?(f="center",h-=d/2):(f="left",h-=d)):(h=this.left+c,n==="near"?f="left":n==="center"?(f="center",h+=d/2):(f="right",h=this.right)):f="right",{textAlign:f,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:s,width:a,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,s,a,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,o;const c=(d,f,h)=>{!h.width||!h.color||(n.save(),n.lineWidth=h.width,n.strokeStyle=h.color,n.setLineDash(h.borderDash||[]),n.lineDashOffset=h.borderDashOffset,n.beginPath(),n.moveTo(d.x,d.y),n.lineTo(f.x,f.y),n.stroke(),n.restore())};if(r.display)for(a=0,o=s.length;a<o;++a){const d=s[a];r.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),r.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:s}}=this,a=n.setContext(this.getContext()),o=n.display?a.width:0;if(!o)return;const c=s.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,h,p,g;this.isHorizontal()?(f=ro(e,this.left,o)-o/2,h=ro(e,this.right,c)+c/2,p=g=d):(p=ro(e,this.top,o)-o/2,g=ro(e,this.bottom,c)+c/2,f=h=d),r.save(),r.lineWidth=a.width,r.strokeStyle=a.color,r.beginPath(),r.moveTo(f,p),r.lineTo(h,g),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&Fx(n,s);const a=this.getLabelItems(e);for(const o of a){const c=o.options,d=o.font,f=o.label,h=o.textOffset;Pu(n,f,0,h,d,c)}s&&Ox(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:s}}=this;if(!n.display)return;const a=Sn(n.font),o=ks(n.padding),c=n.align;let d=a.lineHeight/2;r==="bottom"||r==="center"||Ht(r)?(d+=o.bottom,qr(n.text)&&(d+=a.lineHeight*(n.text.length-1))):d+=o.top;const{titleX:f,titleY:h,maxWidth:p,rotation:g}=MB(this,d,r,c);Pu(e,n.text,0,0,a,{color:n.color,maxWidth:p,rotation:g,textAlign:OB(c,r,s),textBaseline:"middle",translation:[f,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Lt(e.grid&&e.grid.z,-1),s=Lt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Kl.prototype.draw?[{z:r,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let a,o;for(a=0,o=r.length;a<o;++a){const c=r[a];c[n]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Sn(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ef{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;BB(r)&&(n=this.register(r));const s=this.items,a=e.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,LB(e,o,n),this.override&&Er.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,s=this.scope;n in r&&delete r[n],s&&n in Er[s]&&(delete Er[s][n],this.override&&delete Eo[n])}}function LB(t,e,r){const n=ku(Object.create(null),[r?Er.get(r):{},Er.get(e),t.defaults]);Er.set(e,n),t.defaultRoutes&&IB(e,t.defaultRoutes),t.descriptors&&Er.describe(e,t.descriptors)}function IB(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),s=n.pop(),a=[t].concat(n).join("."),o=e[r].split("."),c=o.pop(),d=o.join(".");Er.route(a,s,d,c)})}function BB(t){return"id"in t&&"defaults"in t}class UB{constructor(){this.controllers=new Ef(Yf,"datasets",!0),this.elements=new Ef(za,"elements"),this.plugins=new Ef(Object,"plugins"),this.scales=new Ef(Kl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(s=>{const a=n||this._getRegistryForType(s);n||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):Qt(s,o=>{const c=n||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,r,n){const s=kx(e);lr(n["before"+s],[],n),r[e](n),lr(n["after"+s],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const s=r.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return s}}var ca=new UB;class zB{constructor(){this._init=[]}notify(e,r,n,s){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(a,e,r,n);return r==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,r,n,s){s=s||{};for(const a of e){const o=a.plugin,c=o[n],d=[r,s,a.options];if(lr(c,d,o)===!1&&s.cancelable)return!1}return!0}invalidate(){vr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,s=Lt(n.options&&n.options.plugins,{}),a=VB(n);return s===!1&&!r?[]:WB(e,a,s,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,s=(a,o)=>a.filter(c=>!o.some(d=>c.plugin.id===d.plugin.id));this._notify(s(r,n),e,"stop"),this._notify(s(n,r),e,"start")}}function VB(t){const e={},r=[],n=Object.keys(ca.plugins.items);for(let a=0;a<n.length;a++)r.push(ca.getPlugin(n[a]));const s=t.plugins||[];for(let a=0;a<s.length;a++){const o=s[a];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function HB(t,e){return!e&&t===!1?null:t===!0?{}:t}function WB(t,{plugins:e,localIds:r},n,s){const a=[],o=t.getContext();for(const c of e){const d=c.id,f=HB(n[d],s);f!==null&&a.push({plugin:c,options:$B(t.config,{plugin:c,local:r[d]},f,o)})}return a}function $B(t,{plugin:e,local:r},n,s){const a=t.pluginScopeKeys(e),o=t.getOptionScopes(n,a);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xg(t,e){const r=Er.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function YB(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function KB(t,e){return t===e?"_index_":"_value_"}function sw(t){if(t==="x"||t==="y"||t==="r")return t}function GB(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function yg(t,...e){if(sw(t))return t;for(const r of e){const n=r.axis||GB(r.position)||t.length>1&&sw(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function aw(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function qB(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return aw(t,"x",r[0])||aw(t,"y",r[0])}return{}}function XB(t,e){const r=Eo[t.type]||{scales:{}},n=e.scales||{},s=xg(t.type,e),a=Object.create(null);return Object.keys(n).forEach(o=>{const c=n[o];if(!Ht(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const d=yg(o,c,qB(o,t),Er.scales[c.type]),f=KB(d,s),h=r.scales||{};a[o]=iu(Object.create(null),[{axis:d},c,h[d],h[f]])}),t.data.datasets.forEach(o=>{const c=o.type||t.type,d=o.indexAxis||xg(c,e),h=(Eo[c]||{}).scales||{};Object.keys(h).forEach(p=>{const g=YB(p,d),x=o[g+"AxisID"]||g;a[x]=a[x]||Object.create(null),iu(a[x],[{axis:g},n[x],h[p]])})}),Object.keys(a).forEach(o=>{const c=a[o];iu(c,[Er.scales[c.type],Er.scale])}),a}function wC(t){const e=t.options||(t.options={});e.plugins=Lt(e.plugins,{}),e.scales=XB(t,e)}function SC(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function JB(t){return t=t||{},t.data=SC(t.data),wC(t),t}const iw=new Map,_C=new Set;function kf(t,e){let r=iw.get(t);return r||(r=e(),iw.set(t,r),_C.add(r)),r}const Ic=(t,e,r)=>{const n=_h(e,r);n!==void 0&&t.add(n)};class QB{constructor(e){this._config=JB(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=SC(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),wC(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return kf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return kf(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return kf(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return kf(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let s=n.get(e);return(!s||r)&&(s=new Map,n.set(e,s)),s}getOptionScopes(e,r,n){const{options:s,type:a}=this,o=this._cachedScopes(e,n),c=o.get(r);if(c)return c;const d=new Set;r.forEach(h=>{e&&(d.add(e),h.forEach(p=>Ic(d,e,p))),h.forEach(p=>Ic(d,s,p)),h.forEach(p=>Ic(d,Eo[a]||{},p)),h.forEach(p=>Ic(d,Er,p)),h.forEach(p=>Ic(d,pg,p))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),_C.has(r)&&o.set(r,f),f}chartOptionScopes(){const{options:e,type:r}=this;return[e,Eo[r]||{},Er.datasets[r]||{},{type:r},Er,pg]}resolveNamedOptions(e,r,n,s=[""]){const a={$shared:!0},{resolver:o,subPrefixes:c}=ow(this._resolverCache,e,s);let d=o;if(eU(o,r)){a.$shared=!1,n=Ei(n)?n():n;const f=this.createResolver(e,n,c);d=Fl(o,n,f)}for(const f of r)a[f]=d[f];return a}createResolver(e,r,n=[""],s){const{resolver:a}=ow(this._resolverCache,e,n);return Ht(r)?Fl(a,r,void 0,s):a}}function ow(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const s=r.join();let a=n.get(s);return a||(a={resolver:Lx(e,r),subPrefixes:r.filter(c=>!c.toLowerCase().includes("hover"))},n.set(s,a)),a}const ZB=t=>Ht(t)&&Object.getOwnPropertyNames(t).some(e=>Ei(t[e]));function eU(t,e){const{isScriptable:r,isIndexable:n}=iC(t);for(const s of e){const a=r(s),o=n(s),c=(o||a)&&t[s];if(a&&(Ei(c)||ZB(c))||o&&qr(c))return!0}return!1}var tU="4.4.9";const rU=["top","bottom","left","right","chartArea"];function lw(t,e){return t==="top"||t==="bottom"||rU.indexOf(t)===-1&&e==="x"}function cw(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function uw(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),lr(r&&r.onComplete,[t],e)}function nU(t){const e=t.chart,r=e.options.animation;lr(r&&r.onProgress,[t],e)}function NC(t){return Ux()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Gf={},dw=t=>{const e=NC(t);return Object.values(Gf).filter(r=>r.canvas===e).pop()};function sU(t,e,r){const n=Object.keys(t);for(const s of n){const a=+s;if(a>=e){const o=t[s];delete t[s],(r>0||a>e)&&(t[a+r]=o)}}}function aU(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class hi{static register(...e){ca.add(...e),fw()}static unregister(...e){ca.remove(...e),fw()}constructor(e,r){const n=this.config=new QB(r),s=NC(e),a=dw(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||_B(s)),this.platform.updateConfig(n);const c=this.platform.acquireContext(s,o.aspectRatio),d=c&&c.canvas,f=d&&d.height,h=d&&d.width;if(this.id=fI(),this.ctx=c,this.canvas=d,this.width=h,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=DI(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],Gf[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Ta.listen(this,"complete",uw),Ta.listen(this,"progress",nU),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:s,_aspectRatio:a}=this;return vr(e)?r&&a?a:s?n/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ca}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Lb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Fb(this.canvas,this.ctx),this}stop(){return Ta.stop(this),this}resize(e,r){Ta.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,s=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,r,a),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Lb(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),lr(n.onResize,[this,o],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Qt(r,(n,s)=>{n.id=s})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,s=Object.keys(n).reduce((o,c)=>(o[c]=!1,o),{});let a=[];r&&(a=a.concat(Object.keys(r).map(o=>{const c=r[o],d=yg(o,c),f=d==="r",h=d==="x";return{options:c,dposition:f?"chartArea":h?"bottom":"left",dtype:f?"radialLinear":h?"category":"linear"}}))),Qt(a,o=>{const c=o.options,d=c.id,f=yg(d,c),h=Lt(c.type,o.dtype);(c.position===void 0||lw(c.position,f)!==lw(o.dposition))&&(c.position=o.dposition),s[d]=!0;let p=null;if(d in n&&n[d].type===h)p=n[d];else{const g=ca.getScale(h);p=new g({id:d,type:h,ctx:this.ctx,chart:this}),n[p.id]=p}p.init(c,e)}),Qt(s,(o,c)=>{o||delete n[c]}),Qt(n,o=>{js.configure(this,o,o.options),js.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((s,a)=>s.index-a.index),n>r){for(let s=r;s<n;++s)this._destroyDatasetMeta(s);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(cw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,s)=>{r.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=r.length;n<s;n++){const a=r[n];let o=this.getDatasetMeta(n);const c=a.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=c,o.indexAxis=a.indexAxis||xg(c,this.options),o.order=a.order||0,o.index=n,o.label=""+a.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const d=ca.getController(c),{datasetElementType:f,dataElementType:h}=Er.datasets[c];Object.assign(d,{dataElementType:ca.getElement(h),datasetElementType:f&&ca.getElement(f)}),o.controller=new d(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Qt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,h=this.data.datasets.length;f<h;f++){const{controller:p}=this.getDatasetMeta(f),g=!s&&a.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),s||Qt(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(cw("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Qt(this.scales,e=>{js.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Nb(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:a}of r){const o=n==="_removeElements"?-a:a;sU(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=a=>new Set(e.filter(o=>o[0]===a).map((o,c)=>c+","+o.splice(1).join(","))),s=n(0);for(let a=1;a<r;a++)if(!Nb(s,n(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;js.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Qt(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Ei(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),s={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ta.has(this)?this.attached&&!Ta.running(this)&&Ta.start(this):(this.draw(),uw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let s,a;for(s=0,a=r.length;s<a;++s){const o=r[s];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},s=M9(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(s&&Fx(r,s),e.controller.draw(),s&&Ox(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Au(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,s){const a=rB.modes[r];return typeof a=="function"?a(this,e,n,s):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let s=n.filter(a=>a&&a._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=Mo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const s=n?"show":"hide",a=this.getDatasetMeta(e),o=a.controller._resolveAnimations(void 0,s);Nh(r)?(a.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(a,{visible:n}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Ta.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Fb(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Gf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(a,o)=>{r.addEventListener(this,a,o),e[a]=o},s=(a,o,c)=>{a.offsetX=o,a.offsetY=c,this._eventHandler(a)};Qt(this.options.events,a=>n(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(d,f)=>{r.addEventListener(this,d,f),e[d]=f},s=(d,f)=>{e[d]&&(r.removeEventListener(this,d,f),delete e[d])},a=(d,f)=>{this.canvas&&this.resize(d,f)};let o;const c=()=>{s("attach",c),this.attached=!0,this.resize(),n("resize",a),n("detach",o)};o=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),n("attach",c)},r.isAttached(this.canvas)?c():o()}unbindEvents(){Qt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Qt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const s=n?"set":"remove";let a,o,c,d;for(r==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,d=e.length;c<d;++c){o=e[c];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:a,index:o})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[o],index:o}});!wh(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const s=this.options.hover,a=(d,f)=>d.filter(h=>!f.some(p=>h.datasetIndex===p.datasetIndex&&h.index===p.index)),o=a(r,e),c=n?e:a(e,r);o.length&&this.updateHoverStyle(o,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const a=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(a||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:s=[],options:a}=this,o=r,c=this._getActiveElements(e,s,n,o),d=yI(e),f=aU(e,this._lastEvent,n,d);n&&(this._lastEvent=null,lr(a.onHover,[e,c,this],this),d&&lr(a.onClick,[e,c,this],this));const h=!wh(c,s);return(h||r)&&(this._active=c,this._updateHoverStyles(c,s,r)),this._lastEvent=f,h}_getActiveElements(e,r,n,s){if(e.type==="mouseout")return[];if(!n)return r;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}}bt(hi,"defaults",Er),bt(hi,"instances",Gf),bt(hi,"overrides",Eo),bt(hi,"registry",ca),bt(hi,"version",tU),bt(hi,"getChart",dw);function fw(){return Qt(hi.instances,t=>t._plugins.invalidate())}function iU(t,e,r){const{startAngle:n,pixelMargin:s,x:a,y:o,outerRadius:c,innerRadius:d}=e;let f=s/c;t.beginPath(),t.arc(a,o,c,n-f,r+f),d>s?(f=s/d,t.arc(a,o,d,r+f,n-f,!0)):t.arc(a,o,s,r+cn,n-cn),t.closePath(),t.clip()}function oU(t){return Mx(t,["outerStart","outerEnd","innerStart","innerEnd"])}function lU(t,e,r,n){const s=oU(t.options.borderRadius),a=(r-e)/2,o=Math.min(a,n*e/2),c=d=>{const f=(r-Math.min(a,d))*n/2;return $n(d,0,Math.min(a,f))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:$n(s.innerStart,0,o),innerEnd:$n(s.innerEnd,0,o)}}function ml(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function Ah(t,e,r,n,s,a){const{x:o,y:c,startAngle:d,pixelMargin:f,innerRadius:h}=e,p=Math.max(e.outerRadius+n+r-f,0),g=h>0?h+n+r+f:0;let x=0;const w=s-d;if(n){const O=h>0?h-n:0,K=p>0?p-n:0,W=(O+K)/2,Y=W!==0?w*W/(W+n):w;x=(w-Y)/2}const b=Math.max(.001,w*p-r/Or)/p,v=(w-b)/2,N=d+v+x,E=s-v-x,{outerStart:j,outerEnd:D,innerStart:T,innerEnd:M}=lU(e,g,p,E-N),C=p-j,P=p-D,I=N+j/C,G=E-D/P,J=g+T,H=g+M,ie=N+T/J,Z=E-M/H;if(t.beginPath(),a){const O=(I+G)/2;if(t.arc(o,c,p,I,O),t.arc(o,c,p,O,G),D>0){const oe=ml(P,G,o,c);t.arc(oe.x,oe.y,D,G,E+cn)}const K=ml(H,E,o,c);if(t.lineTo(K.x,K.y),M>0){const oe=ml(H,Z,o,c);t.arc(oe.x,oe.y,M,E+cn,Z+Math.PI)}const W=(E-M/g+(N+T/g))/2;if(t.arc(o,c,g,E-M/g,W,!0),t.arc(o,c,g,W,N+T/g,!0),T>0){const oe=ml(J,ie,o,c);t.arc(oe.x,oe.y,T,ie+Math.PI,N-cn)}const Y=ml(C,N,o,c);if(t.lineTo(Y.x,Y.y),j>0){const oe=ml(C,I,o,c);t.arc(oe.x,oe.y,j,N-cn,I)}}else{t.moveTo(o,c);const O=Math.cos(I)*p+o,K=Math.sin(I)*p+c;t.lineTo(O,K);const W=Math.cos(G)*p+o,Y=Math.sin(G)*p+c;t.lineTo(W,Y)}t.closePath()}function cU(t,e,r,n,s){const{fullCircles:a,startAngle:o,circumference:c}=e;let d=e.endAngle;if(a){Ah(t,e,r,n,d,s);for(let f=0;f<a;++f)t.fill();isNaN(c)||(d=o+(c%dn||dn))}return Ah(t,e,r,n,d,s),t.fill(),d}function uU(t,e,r,n,s){const{fullCircles:a,startAngle:o,circumference:c,options:d}=e,{borderWidth:f,borderJoinStyle:h,borderDash:p,borderDashOffset:g}=d,x=d.borderAlign==="inner";if(!f)return;t.setLineDash(p||[]),t.lineDashOffset=g,x?(t.lineWidth=f*2,t.lineJoin=h||"round"):(t.lineWidth=f,t.lineJoin=h||"bevel");let w=e.endAngle;if(a){Ah(t,e,r,n,w,s);for(let b=0;b<a;++b)t.stroke();isNaN(c)||(w=o+(c%dn||dn))}x&&iU(t,e,w),a||(Ah(t,e,r,n,w,s),t.stroke())}class Yc extends za{constructor(r){super();bt(this,"circumference");bt(this,"endAngle");bt(this,"fullCircles");bt(this,"innerRadius");bt(this,"outerRadius");bt(this,"pixelMargin");bt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,s){const a=this.getProps(["x","y"],s),{angle:o,distance:c}=QN(a,{x:r,y:n}),{startAngle:d,endAngle:f,innerRadius:h,outerRadius:p,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),x=(this.options.spacing+this.options.borderWidth)/2,w=Lt(g,f-d),b=Ax(o,d,f)&&d!==f,v=w>=dn||b,N=vi(c,h+x,p+x);return v&&N}getCenterPoint(r){const{x:n,y:s,startAngle:a,endAngle:o,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:f,spacing:h}=this.options,p=(a+o)/2,g=(c+d+h+f)/2;return{x:n+Math.cos(p)*g,y:s+Math.sin(p)*g}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:s}=this,a=(n.offset||0)/4,o=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>dn?Math.floor(s/dn):0,s===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const d=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(d)*a,Math.sin(d)*a);const f=1-Math.sin(Math.min(Or,s||0)),h=a*f;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,cU(r,this,h,o,c),uU(r,this,h,o,c),r.restore()}}bt(Yc,"id","arc"),bt(Yc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),bt(Yc,"defaultRoutes",{backgroundColor:"backgroundColor"}),bt(Yc,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function CC(t,e,r=e){t.lineCap=Lt(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Lt(r.borderDash,e.borderDash)),t.lineDashOffset=Lt(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Lt(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Lt(r.borderWidth,e.borderWidth),t.strokeStyle=Lt(r.borderColor,e.borderColor)}function dU(t,e,r){t.lineTo(r.x,r.y)}function fU(t){return t.stepped?WI:t.tension||t.cubicInterpolationMode==="monotone"?$I:dU}function jC(t,e,r={}){const n=t.length,{start:s=0,end:a=n-1}=r,{start:o,end:c}=e,d=Math.max(s,o),f=Math.min(a,c),h=s<o&&a<o||s>c&&a>c;return{count:n,start:d,loop:e.loop,ilen:f<d&&!h?n+f-d:f-d}}function hU(t,e,r,n){const{points:s,options:a}=e,{count:o,start:c,loop:d,ilen:f}=jC(s,r,n),h=fU(a);let{move:p=!0,reverse:g}=n||{},x,w,b;for(x=0;x<=f;++x)w=s[(c+(g?f-x:x))%o],!w.skip&&(p?(t.moveTo(w.x,w.y),p=!1):h(t,b,w,g,a.stepped),b=w);return d&&(w=s[(c+(g?f:0))%o],h(t,b,w,g,a.stepped)),!!d}function mU(t,e,r,n){const s=e.points,{count:a,start:o,ilen:c}=jC(s,r,n),{move:d=!0,reverse:f}=n||{};let h=0,p=0,g,x,w,b,v,N;const E=D=>(o+(f?c-D:D))%a,j=()=>{b!==v&&(t.lineTo(h,v),t.lineTo(h,b),t.lineTo(h,N))};for(d&&(x=s[E(0)],t.moveTo(x.x,x.y)),g=0;g<=c;++g){if(x=s[E(g)],x.skip)continue;const D=x.x,T=x.y,M=D|0;M===w?(T<b?b=T:T>v&&(v=T),h=(p*h+D)/++p):(j(),t.lineTo(D,T),w=M,p=0,b=v=T),N=T}j()}function vg(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?mU:hU}function pU(t){return t.stepped?_9:t.tension||t.cubicInterpolationMode==="monotone"?N9:io}function gU(t,e,r,n){let s=e._path;s||(s=e._path=new Path2D,e.path(s,r,n)&&s.closePath()),CC(t,e.options),t.stroke(s)}function xU(t,e,r,n){const{segments:s,options:a}=e,o=vg(e);for(const c of s)CC(t,a,c.style),t.beginPath(),o(t,e,c,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const yU=typeof Path2D=="function";function vU(t,e,r,n){yU&&!e.options.segment?gU(t,e,r,n):xU(t,e,r,n)}class Kc extends za{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;p9(this._points,n,e,s,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=D9(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,s=e[r],a=this.points,o=k9(this,{property:r,start:s,end:s});if(!o.length)return;const c=[],d=pU(n);let f,h;for(f=0,h=o.length;f<h;++f){const{start:p,end:g}=o[f],x=a[p],w=a[g];if(x===w){c.push(x);continue}const b=Math.abs((s-x[r])/(w[r]-x[r])),v=d(x,w,b,n.stepped);v[r]=e[r],c.push(v)}return c.length===1?c[0]:c}pathSegment(e,r,n){return vg(this)(e,this,r,n)}path(e,r,n){const s=this.segments,a=vg(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const c of s)o&=a(e,this,c,{start:r,end:r+n-1});return!!o}draw(e,r,n,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),vU(e,this,n,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}bt(Kc,"id","line"),bt(Kc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),bt(Kc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),bt(Kc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function hw(t,e,r,n){const s=t.options,{[r]:a}=t.getProps([r],n);return Math.abs(e-a)<s.radius+s.hitRadius}class qf extends za{constructor(r){super();bt(this,"parsed");bt(this,"skip");bt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,s){const a=this.options,{x:o,y:c}=this.getProps(["x","y"],s);return Math.pow(r-o,2)+Math.pow(n-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(r,n){return hw(this,r,"x",n)}inYRange(r,n){return hw(this,r,"y",n)}getCenterPoint(r){const{x:n,y:s}=this.getProps(["x","y"],r);return{x:n,y:s}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const s=n&&r.borderWidth||0;return(n+s)*2}draw(r,n){const s=this.options;this.skip||s.radius<.1||!Au(this,n,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,gg(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}bt(qf,"id","point"),bt(qf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),bt(qf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function TC(t,e){const{x:r,y:n,base:s,width:a,height:o}=t.getProps(["x","y","base","width","height"],e);let c,d,f,h,p;return t.horizontal?(p=o/2,c=Math.min(r,s),d=Math.max(r,s),f=n-p,h=n+p):(p=a/2,c=r-p,d=r+p,f=Math.min(n,s),h=Math.max(n,s)),{left:c,top:f,right:d,bottom:h}}function bi(t,e,r,n){return t?0:$n(e,r,n)}function bU(t,e,r){const n=t.options.borderWidth,s=t.borderSkipped,a=aC(n);return{t:bi(s.top,a.top,0,r),r:bi(s.right,a.right,0,e),b:bi(s.bottom,a.bottom,0,r),l:bi(s.left,a.left,0,e)}}function wU(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,a=Al(s),o=Math.min(e,r),c=t.borderSkipped,d=n||Ht(s);return{topLeft:bi(!d||c.top||c.left,a.topLeft,0,o),topRight:bi(!d||c.top||c.right,a.topRight,0,o),bottomLeft:bi(!d||c.bottom||c.left,a.bottomLeft,0,o),bottomRight:bi(!d||c.bottom||c.right,a.bottomRight,0,o)}}function SU(t){const e=TC(t),r=e.right-e.left,n=e.bottom-e.top,s=bU(t,r/2,n/2),a=wU(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:a},inner:{x:e.left+s.l,y:e.top+s.t,w:r-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function bp(t,e,r,n){const s=e===null,a=r===null,c=t&&!(s&&a)&&TC(t,n);return c&&(s||vi(e,c.left,c.right))&&(a||vi(r,c.top,c.bottom))}function _U(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function NU(t,e){t.rect(e.x,e.y,e.w,e.h)}function wp(t,e,r={}){const n=t.x!==r.x?-e:0,s=t.y!==r.y?-e:0,a=(t.x+t.w!==r.x+r.w?e:0)-n,o=(t.y+t.h!==r.y+r.h?e:0)-s;return{x:t.x+n,y:t.y+s,w:t.w+a,h:t.h+o,radius:t.radius}}class Xf extends za{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:s}}=this,{inner:a,outer:o}=SU(this),c=_U(o.radius)?Th:NU;e.save(),(o.w!==a.w||o.h!==a.h)&&(e.beginPath(),c(e,wp(o,r,a)),e.clip(),c(e,wp(a,-r,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),c(e,wp(a,r)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,r,n){return bp(this,e,r,n)}inXRange(e,r){return bp(this,e,null,r)}inYRange(e,r){return bp(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(r+s)/2:r,y:a?n:(n+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}bt(Xf,"id","bar"),bt(Xf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),bt(Xf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const mw=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},CU=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class pw extends za{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=lr(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,s)=>e.sort(n,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,s=Sn(n.font),a=s.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=mw(n,a);let f,h;r.font=s.string,this.isHorizontal()?(f=this.maxWidth,h=this._fitRows(o,a,c,d)+10):(h=this.maxHeight,f=this._fitCols(o,s,c,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,s){const{ctx:a,maxWidth:o,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],h=s+c;let p=e;a.textAlign="left",a.textBaseline="middle";let g=-1,x=-h;return this.legendItems.forEach((w,b)=>{const v=n+r/2+a.measureText(w.text).width;(b===0||f[f.length-1]+v+2*c>o)&&(p+=h,f[f.length-(b>0?0:1)]=0,x+=h,g++),d[b]={left:0,top:x,row:g,width:v,height:s},f[f.length-1]+=v+c}),p}_fitCols(e,r,n,s){const{ctx:a,maxHeight:o,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],h=o-e;let p=c,g=0,x=0,w=0,b=0;return this.legendItems.forEach((v,N)=>{const{itemWidth:E,itemHeight:j}=jU(n,r,a,v,s);N>0&&x+j+2*c>h&&(p+=g+c,f.push({width:g,height:x}),w+=g+c,b++,g=x=0),d[N]={left:w,top:x,col:b,width:E,height:j},g=Math.max(g,E),x+=j+c}),p+=g,f.push({width:g,height:x}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:s},rtl:a}}=this,o=Pl(a,this.left,this.width);if(this.isHorizontal()){let c=0,d=vn(n,this.left+s,this.right-this.lineWidths[c]);for(const f of r)c!==f.row&&(c=f.row,d=vn(n,this.left+s,this.right-this.lineWidths[c])),f.top+=this.top+e+s,f.left=o.leftForLtr(o.x(d),f.width),d+=f.width+s}else{let c=0,d=vn(n,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const f of r)f.col!==c&&(c=f.col,d=vn(n,this.top+e+s,this.bottom-this.columnSizes[c].height)),f.top=d,f.left+=this.left+s,f.left=o.leftForLtr(o.x(f.left),f.width),d+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Fx(e,this),this._draw(),Ox(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:s}=this,{align:a,labels:o}=e,c=Er.color,d=Pl(e.rtl,this.left,this.width),f=Sn(o.font),{padding:h}=o,p=f.size,g=p/2;let x;this.drawTitle(),s.textAlign=d.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:w,boxHeight:b,itemHeight:v}=mw(o,p),N=function(M,C,P){if(isNaN(w)||w<=0||isNaN(b)||b<0)return;s.save();const I=Lt(P.lineWidth,1);if(s.fillStyle=Lt(P.fillStyle,c),s.lineCap=Lt(P.lineCap,"butt"),s.lineDashOffset=Lt(P.lineDashOffset,0),s.lineJoin=Lt(P.lineJoin,"miter"),s.lineWidth=I,s.strokeStyle=Lt(P.strokeStyle,c),s.setLineDash(Lt(P.lineDash,[])),o.usePointStyle){const G={radius:b*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:I},J=d.xPlus(M,w/2),H=C+g;sC(s,G,J,H,o.pointStyleWidth&&w)}else{const G=C+Math.max((p-b)/2,0),J=d.leftForLtr(M,w),H=Al(P.borderRadius);s.beginPath(),Object.values(H).some(ie=>ie!==0)?Th(s,{x:J,y:G,w,h:b,radius:H}):s.rect(J,G,w,b),s.fill(),I!==0&&s.stroke()}s.restore()},E=function(M,C,P){Pu(s,P.text,M,C+v/2,f,{strikethrough:P.hidden,textAlign:d.textAlign(P.textAlign)})},j=this.isHorizontal(),D=this._computeTitleHeight();j?x={x:vn(a,this.left+h,this.right-n[0]),y:this.top+h+D,line:0}:x={x:this.left+h,y:vn(a,this.top+D+h,this.bottom-r[0].height),line:0},dC(this.ctx,e.textDirection);const T=v+h;this.legendItems.forEach((M,C)=>{s.strokeStyle=M.fontColor,s.fillStyle=M.fontColor;const P=s.measureText(M.text).width,I=d.textAlign(M.textAlign||(M.textAlign=o.textAlign)),G=w+g+P;let J=x.x,H=x.y;d.setWidth(this.width),j?C>0&&J+G+h>this.right&&(H=x.y+=T,x.line++,J=x.x=vn(a,this.left+h,this.right-n[x.line])):C>0&&H+T>this.bottom&&(J=x.x=J+r[x.line].width+h,x.line++,H=x.y=vn(a,this.top+D+h,this.bottom-r[x.line].height));const ie=d.x(J);if(N(ie,H,M),J=RI(I,J+w+g,j?J+G:this.right,e.rtl),E(d.x(J),H,M),j)x.x+=G+h;else if(typeof M.text!="string"){const Z=f.lineHeight;x.y+=EC(M,Z)+h}else x.y+=T}),fC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=Sn(r.font),s=ks(r.padding);if(!r.display)return;const a=Pl(e.rtl,this.left,this.width),o=this.ctx,c=r.position,d=n.size/2,f=s.top+d;let h,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),h=this.top+f,p=vn(e.align,p,this.right-g);else{const w=this.columnSizes.reduce((b,v)=>Math.max(b,v.height),0);h=f+vn(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const x=vn(c,p,p+g);o.textAlign=a.textAlign(Dx(c)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,Pu(o,r.text,x,h,n)}_computeTitleHeight(){const e=this.options.title,r=Sn(e.font),n=ks(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,s,a;if(vi(e,this.left,this.right)&&vi(r,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(s=a[n],vi(e,s.left,s.left+s.width)&&vi(r,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!kU(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=CU(s,n);s&&!a&&lr(r.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!a&&lr(r.onHover,[e,n,this],this)}else n&&lr(r.onClick,[e,n,this],this)}}function jU(t,e,r,n,s){const a=TU(n,t,e,r),o=EU(s,n,e.lineHeight);return{itemWidth:a,itemHeight:o}}function TU(t,e,r,n){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((a,o)=>a.length>o.length?a:o)),e+r.size/2+n.measureText(s).width}function EU(t,e,r){let n=t;return typeof e.text!="string"&&(n=EC(e,r)),n}function EC(t,e){const r=t.text?t.text.length:0;return e*r}function kU(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var AU={id:"legend",_element:pw,start(t,e,r){const n=t.legend=new pw({ctx:t.ctx,options:r,chart:t});js.configure(t,n,r),js.addBox(t,n)},stop(t){js.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;js.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,s=r.chart;s.isDatasetVisible(n)?(s.hide(n),e.hidden=!0):(s.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:s,color:a,useBorderRadius:o,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(r?0:void 0),h=ks(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:f.borderColor,pointStyle:n||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:o&&(c||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class kC extends za{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const s=qr(n.text)?n.text.length:1;this._padding=ks(n.padding);const a=s*Sn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:s,right:a,options:o}=this,c=o.align;let d=0,f,h,p;return this.isHorizontal()?(h=vn(c,n,a),p=r+e,f=a-n):(o.position==="left"?(h=n+e,p=vn(c,s,r),d=Or*-.5):(h=a-e,p=vn(c,r,s),d=Or*.5),f=s-r),{titleX:h,titleY:p,maxWidth:f,rotation:d}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=Sn(r.font),a=n.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:d,rotation:f}=this._drawArgs(a);Pu(e,r.text,0,0,n,{color:r.color,maxWidth:d,rotation:f,textAlign:Dx(r.align),textBaseline:"middle",translation:[o,c]})}}function PU(t,e){const r=new kC({ctx:t.ctx,options:e,chart:t});js.configure(t,r,e),js.addBox(t,r),t.titleBlock=r}var DU={id:"title",_element:kC,start(t,e,r){PU(t,r)},stop(t){const e=t.titleBlock;js.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;js.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gc={average(t){if(!t.length)return!1;let e,r,n=new Set,s=0,a=0;for(e=0,r=t.length;e<r;++e){const c=t[e].element;if(c&&c.hasValue()){const d=c.tooltipPosition();n.add(d.x),s+=d.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((c,d)=>c+d)/n.size,y:s/a}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,s=Number.POSITIVE_INFINITY,a,o,c;for(a=0,o=t.length;a<o;++a){const d=t[a].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),h=hg(e,f);h<s&&(s=h,c=d)}}if(c){const d=c.tooltipPosition();r=d.x,n=d.y}return{x:r,y:n}}};function oa(t,e){return e&&(qr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ea(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function RU(t,e){const{element:r,datasetIndex:n,index:s}=e,a=t.getDatasetMeta(n).controller,{label:o,value:c}=a.getLabelAndValue(s);return{chart:t,label:o,parsed:a.getParsed(s),raw:t.data.datasets[n].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:n,element:r}}function gw(t,e){const r=t.chart.ctx,{body:n,footer:s,title:a}=t,{boxWidth:o,boxHeight:c}=e,d=Sn(e.bodyFont),f=Sn(e.titleFont),h=Sn(e.footerFont),p=a.length,g=s.length,x=n.length,w=ks(e.padding);let b=w.height,v=0,N=n.reduce((D,T)=>D+T.before.length+T.lines.length+T.after.length,0);if(N+=t.beforeBody.length+t.afterBody.length,p&&(b+=p*f.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),N){const D=e.displayColors?Math.max(c,d.lineHeight):d.lineHeight;b+=x*D+(N-x)*d.lineHeight+(N-1)*e.bodySpacing}g&&(b+=e.footerMarginTop+g*h.lineHeight+(g-1)*e.footerSpacing);let E=0;const j=function(D){v=Math.max(v,r.measureText(D).width+E)};return r.save(),r.font=f.string,Qt(t.title,j),r.font=d.string,Qt(t.beforeBody.concat(t.afterBody),j),E=e.displayColors?o+2+e.boxPadding:0,Qt(n,D=>{Qt(D.before,j),Qt(D.lines,j),Qt(D.after,j)}),E=0,r.font=h.string,Qt(t.footer,j),r.restore(),v+=w.width,{width:v,height:b}}function FU(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function OU(t,e,r,n){const{x:s,width:a}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&s+a+o>e.width||t==="right"&&s-a-o<0)return!0}function MU(t,e,r,n){const{x:s,width:a}=r,{width:o,chartArea:{left:c,right:d}}=t;let f="center";return n==="center"?f=s<=(c+d)/2?"left":"right":s<=a/2?f="left":s>=o-a/2&&(f="right"),OU(f,t,e,r)&&(f="center"),f}function xw(t,e,r){const n=r.yAlign||e.yAlign||FU(t,r);return{xAlign:r.xAlign||e.xAlign||MU(t,e,r,n),yAlign:n}}function LU(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function IU(t,e,r){let{y:n,height:s}=t;return e==="top"?n+=r:e==="bottom"?n-=s+r:n-=s/2,n}function yw(t,e,r,n){const{caretSize:s,caretPadding:a,cornerRadius:o}=t,{xAlign:c,yAlign:d}=r,f=s+a,{topLeft:h,topRight:p,bottomLeft:g,bottomRight:x}=Al(o);let w=LU(e,c);const b=IU(e,d,f);return d==="center"?c==="left"?w+=f:c==="right"&&(w-=f):c==="left"?w-=Math.max(h,g)+s:c==="right"&&(w+=Math.max(p,x)+s),{x:$n(w,0,n.width-e.width),y:$n(b,0,n.height-e.height)}}function Af(t,e,r){const n=ks(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function vw(t){return oa([],Ea(t))}function BU(t,e,r){return Mo(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function bw(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const AC={beforeTitle:ja,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:ja,beforeBody:ja,beforeLabel:ja,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return vr(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:ja,afterBody:ja,beforeFooter:ja,footer:ja,afterFooter:ja};function Hn(t,e,r,n){const s=t[e].call(r,n);return typeof s>"u"?AC[e].call(r,n):s}class bg extends za{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&r.options.animation&&n.animations,a=new mC(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=BU(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,s=Hn(n,"beforeTitle",this,e),a=Hn(n,"title",this,e),o=Hn(n,"afterTitle",this,e);let c=[];return c=oa(c,Ea(s)),c=oa(c,Ea(a)),c=oa(c,Ea(o)),c}getBeforeBody(e,r){return vw(Hn(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,s=[];return Qt(e,a=>{const o={before:[],lines:[],after:[]},c=bw(n,a);oa(o.before,Ea(Hn(c,"beforeLabel",this,a))),oa(o.lines,Hn(c,"label",this,a)),oa(o.after,Ea(Hn(c,"afterLabel",this,a))),s.push(o)}),s}getAfterBody(e,r){return vw(Hn(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,s=Hn(n,"beforeFooter",this,e),a=Hn(n,"footer",this,e),o=Hn(n,"afterFooter",this,e);let c=[];return c=oa(c,Ea(s)),c=oa(c,Ea(a)),c=oa(c,Ea(o)),c}_createItems(e){const r=this._active,n=this.chart.data,s=[],a=[],o=[];let c=[],d,f;for(d=0,f=r.length;d<f;++d)c.push(RU(this.chart,r[d]));return e.filter&&(c=c.filter((h,p,g)=>e.filter(h,p,g,n))),e.itemSort&&(c=c.sort((h,p)=>e.itemSort(h,p,n))),Qt(c,h=>{const p=bw(e.callbacks,h);s.push(Hn(p,"labelColor",this,h)),a.push(Hn(p,"labelPointStyle",this,h)),o.push(Hn(p,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=c,c}update(e,r){const n=this.options.setContext(this.getContext()),s=this._active;let a,o=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=Gc[n.position].call(this,s,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const d=this._size=gw(this,n),f=Object.assign({},c,d),h=xw(this.chart,n,f),p=yw(n,f,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,a={opacity:1,x:p.x,y:p.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,s){const a=this.getCaretPosition(e,n,s);r.lineTo(a.x1,a.y1),r.lineTo(a.x2,a.y2),r.lineTo(a.x3,a.y3)}getCaretPosition(e,r,n){const{xAlign:s,yAlign:a}=this,{caretSize:o,cornerRadius:c}=n,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:p}=Al(c),{x:g,y:x}=e,{width:w,height:b}=r;let v,N,E,j,D,T;return a==="center"?(D=x+b/2,s==="left"?(v=g,N=v-o,j=D+o,T=D-o):(v=g+w,N=v+o,j=D-o,T=D+o),E=v):(s==="left"?N=g+Math.max(d,h)+o:s==="right"?N=g+w-Math.max(f,p)-o:N=this.caretX,a==="top"?(j=x,D=j-o,v=N-o,E=N+o):(j=x+b,D=j+o,v=N+o,E=N-o),T=j),{x1:v,x2:N,x3:E,y1:j,y2:D,y3:T}}drawTitle(e,r,n){const s=this.title,a=s.length;let o,c,d;if(a){const f=Pl(n.rtl,this.x,this.width);for(e.x=Af(this,n.titleAlign,n),r.textAlign=f.textAlign(n.titleAlign),r.textBaseline="middle",o=Sn(n.titleFont),c=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,d=0;d<a;++d)r.fillText(s[d],f.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,d+1===a&&(e.y+=n.titleMarginBottom-c)}}_drawColorBox(e,r,n,s,a){const o=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:d,boxWidth:f}=a,h=Sn(a.bodyFont),p=Af(this,"left",a),g=s.x(p),x=d<h.lineHeight?(h.lineHeight-d)/2:0,w=r.y+x;if(a.usePointStyle){const b={radius:Math.min(f,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},v=s.leftForLtr(g,f)+f/2,N=w+d/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,gg(e,b,v,N),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,gg(e,b,v,N)}else{e.lineWidth=Ht(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const b=s.leftForLtr(g,f),v=s.leftForLtr(s.xPlus(g,1),f-2),N=Al(o.borderRadius);Object.values(N).some(E=>E!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Th(e,{x:b,y:w,w:f,h:d,radius:N}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Th(e,{x:v,y:w+1,w:f-2,h:d-2,radius:N}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(b,w,f,d),e.strokeRect(b,w,f,d),e.fillStyle=o.backgroundColor,e.fillRect(v,w+1,f-2,d-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:s}=this,{bodySpacing:a,bodyAlign:o,displayColors:c,boxHeight:d,boxWidth:f,boxPadding:h}=n,p=Sn(n.bodyFont);let g=p.lineHeight,x=0;const w=Pl(n.rtl,this.x,this.width),b=function(P){r.fillText(P,w.x(e.x+x),e.y+g/2),e.y+=g+a},v=w.textAlign(o);let N,E,j,D,T,M,C;for(r.textAlign=o,r.textBaseline="middle",r.font=p.string,e.x=Af(this,v,n),r.fillStyle=n.bodyColor,Qt(this.beforeBody,b),x=c&&v!=="right"?o==="center"?f/2+h:f+2+h:0,D=0,M=s.length;D<M;++D){for(N=s[D],E=this.labelTextColors[D],r.fillStyle=E,Qt(N.before,b),j=N.lines,c&&j.length&&(this._drawColorBox(r,e,D,w,n),g=Math.max(p.lineHeight,d)),T=0,C=j.length;T<C;++T)b(j[T]),g=p.lineHeight;Qt(N.after,b)}x=0,g=p.lineHeight,Qt(this.afterBody,b),e.y-=a}drawFooter(e,r,n){const s=this.footer,a=s.length;let o,c;if(a){const d=Pl(n.rtl,this.x,this.width);for(e.x=Af(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=d.textAlign(n.footerAlign),r.textBaseline="middle",o=Sn(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,c=0;c<a;++c)r.fillText(s[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,s){const{xAlign:a,yAlign:o}=this,{x:c,y:d}=e,{width:f,height:h}=n,{topLeft:p,topRight:g,bottomLeft:x,bottomRight:w}=Al(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(c+p,d),o==="top"&&this.drawCaret(e,r,n,s),r.lineTo(c+f-g,d),r.quadraticCurveTo(c+f,d,c+f,d+g),o==="center"&&a==="right"&&this.drawCaret(e,r,n,s),r.lineTo(c+f,d+h-w),r.quadraticCurveTo(c+f,d+h,c+f-w,d+h),o==="bottom"&&this.drawCaret(e,r,n,s),r.lineTo(c+x,d+h),r.quadraticCurveTo(c,d+h,c,d+h-x),o==="center"&&a==="left"&&this.drawCaret(e,r,n,s),r.lineTo(c,d+p),r.quadraticCurveTo(c,d,c+p,d),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,s=n&&n.x,a=n&&n.y;if(s||a){const o=Gc[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=gw(this,e),d=Object.assign({},o,this._size),f=xw(r,e,d),h=yw(e,d,f,r);(s._to!==h.x||a._to!==h.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=ks(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,s,r),dC(e,r.textDirection),a.y+=o.top,this.drawTitle(a,e,r),this.drawBody(a,e,r),this.drawFooter(a,e,r),fC(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,s=e.map(({datasetIndex:c,index:d})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[d],index:d}}),a=!wh(n,s),o=this._positionChanged(s,r);(a||o)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],o=this._getActiveElements(e,a,r,n),c=this._positionChanged(o,e),d=r||!wh(o,a)||c;return d&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),d}_getActiveElements(e,r,n,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:n,caretY:s,options:a}=this,o=Gc[a.position].call(this,e,r);return o!==!1&&(n!==o.x||s!==o.y)}}bt(bg,"positioners",Gc);var UU={id:"tooltip",_element:bg,positioners:Gc,afterInit(t,e,r){r&&(t.tooltip=new bg({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:AC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const zU=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function VU(t,e,r,n){const s=t.indexOf(e);if(s===-1)return zU(t,e,r,n);const a=t.lastIndexOf(e);return s!==a?r:s}const HU=(t,e)=>t===null?null:$n(Math.round(t),0,e);function ww(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class wg extends Kl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:s,label:a}of r)n[s]===a&&n.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(vr(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:VU(n,e,Lt(r,e),this._addedLabels),HU(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,s=[];let a=this.getLabels();a=e===0&&r===a.length-1?a:a.slice(e,r+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)s.push({value:o});return s}getLabelForValue(e){return ww.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}bt(wg,"id","category"),bt(wg,"defaults",{ticks:{callback:ww}});function WU(t,e){const r=[],{bounds:s,step:a,min:o,max:c,precision:d,count:f,maxTicks:h,maxDigits:p,includeBounds:g}=t,x=a||1,w=h-1,{min:b,max:v}=e,N=!vr(o),E=!vr(c),j=!vr(f),D=(v-b)/(p+1);let T=jb((v-b)/w/x)*x,M,C,P,I;if(T<1e-14&&!N&&!E)return[{value:b},{value:v}];I=Math.ceil(v/T)-Math.floor(b/T),I>w&&(T=jb(I*T/w/x)*x),vr(d)||(M=Math.pow(10,d),T=Math.ceil(T*M)/M),s==="ticks"?(C=Math.floor(b/T)*T,P=Math.ceil(v/T)*T):(C=b,P=v),N&&E&&a&&_I((c-o)/a,T/1e3)?(I=Math.round(Math.min((c-o)/T,h)),T=(c-o)/I,C=o,P=c):j?(C=N?o:C,P=E?c:P,I=f-1,T=(P-C)/I):(I=(P-C)/T,ou(I,Math.round(I),T/1e3)?I=Math.round(I):I=Math.ceil(I));const G=Math.max(Tb(T),Tb(C));M=Math.pow(10,vr(d)?G:d),C=Math.round(C*M)/M,P=Math.round(P*M)/M;let J=0;for(N&&(g&&C!==o?(r.push({value:o}),C<o&&J++,ou(Math.round((C+J*T)*M)/M,o,Sw(o,D,t))&&J++):C<o&&J++);J<I;++J){const H=Math.round((C+J*T)*M)/M;if(E&&H>c)break;r.push({value:H})}return E&&g&&P!==c?r.length&&ou(r[r.length-1].value,c,Sw(c,D,t))?r[r.length-1].value=c:r.push({value:c}):(!E||P===c)&&r.push({value:P}),r}function Sw(t,e,{horizontal:r,minRotation:n}){const s=ho(n),a=(r?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/a,o)}class $U extends Kl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return vr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this;const o=d=>s=r?s:d,c=d=>a=n?a:d;if(e){const d=Rl(s),f=Rl(a);d<0&&f<0?c(0):d>0&&f>0&&o(0)}if(s===a){let d=a===0?1:Math.abs(a*.05);c(a+d),e||o(s-d)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},a=this._range||this,o=WU(s,a);return e.bounds==="ticks"&&NI(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const s=(n-r)/Math.max(e.length-1,1)/2;r-=s,n+=s}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return rC(e,this.chart.options.locale,this.options.ticks.format)}}class Sg extends $U{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Es(e)?e:0,this.max=Es(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=ho(this.options.ticks.minRotation),s=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}bt(Sg,"id","linear"),bt(Sg,"defaults",{ticks:{callback:nC.formatters.numeric}});const c0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Wn=Object.keys(c0);function _w(t,e){return t-e}function Nw(t,e){if(vr(e))return null;const r=t._adapter,{parser:n,round:s,isoWeekday:a}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Es(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(s&&(o=s==="week"&&(jh(a)||a===!0)?r.startOf(o,"isoWeek",a):r.startOf(o,s)),+o)}function Cw(t,e,r,n){const s=Wn.length;for(let a=Wn.indexOf(t);a<s-1;++a){const o=c0[Wn[a]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(c*o.size))<=n)return Wn[a]}return Wn[s-1]}function YU(t,e,r,n,s){for(let a=Wn.length-1;a>=Wn.indexOf(r);a--){const o=Wn[a];if(c0[o].common&&t._adapter.diff(s,n,o)>=e-1)return o}return Wn[r?Wn.indexOf(r):0]}function KU(t){for(let e=Wn.indexOf(t)+1,r=Wn.length;e<r;++e)if(c0[Wn[e]].common)return Wn[e]}function jw(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:s}=Px(r,e),a=r[n]>=e?r[n]:r[s];t[a]=!0}}function GU(t,e,r,n){const s=t._adapter,a=+s.startOf(e[0].value,n),o=e[e.length-1].value;let c,d;for(c=a;c<=o;c=+s.add(c,1,n))d=r[c],d>=0&&(e[d].major=!0);return e}function Tw(t,e,r){const n=[],s={},a=e.length;let o,c;for(o=0;o<a;++o)c=e[o],s[c]=o,n.push({value:c,major:!1});return a===0||!r?n:GU(t,n,s,r)}class Ph extends Kl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),s=this._adapter=new J9._date(e.adapters.date);s.init(r),iu(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:Nw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:s,max:a,minDefined:o,maxDefined:c}=this.getUserBounds();function d(f){!o&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!o||!c)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),s=Es(s)&&!isNaN(s)?s:+r.startOf(Date.now(),n),a=Es(a)&&!isNaN(a)?a:+r.endOf(Date.now(),n)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,o=this.max,c=kI(s,a,o);return this._unit=r.unit||(n.autoSkip?Cw(r.minUnit,this.min,this.max,this._getLabelCapacity(a)):YU(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:KU(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),Tw(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?r=1-s:r=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?n=a:n=(a-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=$n(r,0,o),n=$n(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,s=this.options,a=s.time,o=a.unit||Cw(a.minUnit,r,n,this._getLabelCapacity(r)),c=Lt(s.ticks.stepSize,1),d=o==="week"?a.isoWeekday:!1,f=jh(d)||d===!0,h={};let p=r,g,x;if(f&&(p=+e.startOf(p,"isoWeek",d)),p=+e.startOf(p,f?"day":o),e.diff(n,r,o)>1e5*c)throw new Error(r+" and "+n+" are too far apart with stepSize of "+c+" "+o);const w=s.ticks.source==="data"&&this.getDataTimestamps();for(g=p,x=0;g<n;g=+e.add(g,c,o),x++)jw(h,g,w);return(g===n||s.bounds==="ticks"||x===1)&&jw(h,g,w),Object.keys(h).sort(_w).map(b=>+b)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const s=this.options.time.displayFormats,a=this._unit,o=r||s[a];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,s){const a=this.options,o=a.ticks.callback;if(o)return lr(o,[e,r,n],this);const c=a.time.displayFormats,d=this._unit,f=this._majorUnit,h=d&&c[d],p=f&&c[f],g=n[r],x=f&&p&&g&&g.major;return this._adapter.format(e,s||(x?p:h))}generateTickLabels(e){let r,n,s;for(r=0,n=e.length;r<n;++r)s=e[r],s.label=this._tickFormatFunction(s.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,s=ho(this.isHorizontal()?r.maxRotation:r.minRotation),a=Math.cos(s),o=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:n*a+c*o,h:n*o+c*a}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,s=n[r.unit]||n.millisecond,a=this._tickFormatFunction(e,0,Tw(this,[e],this._majorUnit),s),o=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,n=s.length;r<n;++r)e=e.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const s=this.getLabels();for(r=0,n=s.length;r<n;++r)e.push(Nw(this,s[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return PI(e.sort(_w))}}bt(Ph,"id","time"),bt(Ph,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Pf(t,e,r){let n=0,s=t.length-1,a,o,c,d;r?(e>=t[n].pos&&e<=t[s].pos&&({lo:n,hi:s}=mg(t,"pos",e)),{pos:a,time:c}=t[n],{pos:o,time:d}=t[s]):(e>=t[n].time&&e<=t[s].time&&({lo:n,hi:s}=mg(t,"time",e)),{time:a,pos:c}=t[n],{time:o,pos:d}=t[s]);const f=o-a;return f?c+(d-c)*(e-a)/f:c}class Ew extends Ph{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Pf(r,this.min),this._tableRange=Pf(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,s=[],a=[];let o,c,d,f,h;for(o=0,c=e.length;o<c;++o)f=e[o],f>=r&&f<=n&&s.push(f);if(s.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,c=s.length;o<c;++o)h=s[o+1],d=s[o-1],f=s[o],Math.round((h+d)/2)!==f&&a.push({time:f,pos:o/(c-1)});return a}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((s,a)=>s-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Pf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Pf(this._table,n*this._tableRange+this._minPos,!0)}}bt(Ew,"id","timeseries"),bt(Ew,"defaults",Ph.defaults);hi.register(wg,Sg,qf,Kc,Xf,Yc,DU,UU,AU);const qU=()=>{const[t,e]=A.useState(!0),[r,n]=A.useState(null),[s,a]=A.useState([]),[o,c]=A.useState([]),[d,f]=A.useState([]),[h,p]=A.useState({}),[g,x]=A.useState("USD"),[w,b]=A.useState("monthly"),[v,N]=A.useState(new Date().getFullYear()),[E,j]=A.useState(new Date().getMonth()+1),[D,T]=A.useState(Math.ceil((new Date().getMonth()+1)/3)),[M,C]=A.useState("overview"),[P,I]=A.useState("date"),[G,J]=A.useState("desc");A.useMemo(()=>{const Se=new Date().getFullYear();return Array.from({length:5},(Be,Je)=>Se-Je)},[]),A.useMemo(()=>[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],[]),A.useMemo(()=>[{value:1,label:"Q1 (Jan-Mar)"},{value:2,label:"Q2 (Apr-Jun)"},{value:3,label:"Q3 (Jul-Sep)"},{value:4,label:"Q4 (Oct-Dec)"}],[]);const H=[{value:"monthly",label:"Month wise (Last 12 months)"},{value:"quarterly",label:"3 Months (Quarterly)"},{value:"half-yearly",label:"Half Yearly (6 months)"},{value:"yearly",label:"Yearly (Last 3 years)"}],ie=[{value:"1month",label:"1 Month"},{value:"3month",label:"3 Months"},{value:"6month",label:"6 Months"},{value:"1year",label:"1 Year"}];A.useEffect(()=>{const Se=xo();x(Se.currency),p(Se.exchangeRates);const Be=()=>{const Je=xo();x(Je.currency),p(Je.exchangeRates)};return window.addEventListener("storage",Be),()=>{window.removeEventListener("storage",Be)}},[]),A.useEffect(()=>{Z()},[]),A.useEffect(()=>{s.length>0&&O()},[s,w,v,E,D,g]);const Z=async()=>{try{e(!0),n(null);let Se=[];try{const it=localStorage.getItem("token"),vt=await It.get(`https://crm-backend-o36v.onrender.com/api/sales?full=true&nocache=${new Date().getTime()}`,{headers:{Authorization:`Bearer ${it}`,"Content-Type":"application/json"}});console.log("AdminReportsPage - Full sales response:",vt),vt.data&&vt.data.success&&vt.data.data&&Array.isArray(vt.data.data)?(Se=vt.data.data,console.log("AdminReportsPage - Sales count from direct axios call:",Se.length)):vt.data&&Array.isArray(vt.data)?(Se=vt.data,console.log("AdminReportsPage - Sales count from direct array response:",Se.length)):(console.warn("AdminReportsPage - Unexpected sales response format:",vt.data),Se=[])}catch(it){console.error("AdminReportsPage - Error fetching sales with direct axios:",it);try{const vt=await Kr.getAllForced();vt.data&&vt.data.success&&(Se=vt.data.data,console.log("AdminReportsPage - Sales count from fallback API:",Se.length))}catch(vt){console.error("AdminReportsPage - Fallback sales fetch also failed:",vt),Se=[]}}const Be=await Nn.getAll(),Je=Be.data.success?Be.data.data:[],Re=await nh.getRates();let Ue={};Re.data.success?(Ue=Re.data.data,gl({exchangeRates:Ue})):Ue=xo().exchangeRates;const ct=Se.map(it=>({...it,id:it._id,date:new Date(it.date||it.createdAt),customerName:it.customerName||it.leadId&&(it.leadId.name||it.leadId.NAME)||"Unknown",course:it.course||it.product||"Unknown",totalCost:parseFloat(it.totalCost||it.amount||0),tokenAmount:parseFloat(it.tokenAmount||it.token||0),pendingAmount:parseFloat(it.status==="Completed"?0:it.pendingAmount||(it.totalCost||it.amount||0)-(it.tokenAmount||it.token||0)),currency:it.currency||"USD"}));a(ct),c(Je),p(Ue),O(ct),n(null)}catch(Se){console.error("Error fetching report data:",Se),n("Failed to load report data. Please try again.")}finally{e(!1)}},O=(Se=s)=>{const Be=Se||[];let Je=[];switch(w){case"monthly":Je=Be.filter(Re=>{const Ue=new Date(Re.date);return Ue.getMonth()+1===E&&Ue.getFullYear()===v});break;case"quarterly":Je=Be.filter(Re=>{const Ue=new Date(Re.date),ct=Ue.getMonth()+1;return Math.ceil(ct/3)===D&&Ue.getFullYear()===v});break;case"yearly":Je=Be.filter(Re=>new Date(Re.date).getFullYear()===v);break;default:Je=Be}Je=K(Je,P,G),f(Je)},K=(Se,Be,Je)=>[...Se].sort((Re,Ue)=>{let ct,it;switch(Be){case"date":ct=new Date(Re.date).getTime(),it=new Date(Ue.date).getTime();break;case"totalCost":case"tokenAmount":case"pendingAmount":ct=p2(Re[Be],"USD"),it=p2(Ue[Be],"USD");break;default:ct=Re[Be]||"",it=Ue[Be]||""}return typeof ct=="string"&&typeof it=="string"?Je==="asc"?ct.localeCompare(it):it.localeCompare(ct):Je==="asc"?ct-it:it-ct}),[W,Y]=A.useState(null),[oe,se]=A.useState(null),[X,F]=A.useState(null),[U,z]=A.useState(null),[k,ce]=A.useState("monthly"),[ee,he]=A.useState("1month"),[ye,ke]=A.useState("1month"),[Ke,He]=A.useState(null);A.useEffect(()=>{Ze(),rt()},[]),A.useEffect(()=>{Ve()},[k]),A.useEffect(()=>{de()},[ee]),A.useEffect(()=>{je()},[ye,Ke]);const rt=async()=>{try{const Se=await nh.getRates();Se.data&&Se.data.rates&&p(Se.data.rates)}catch(Se){console.error("Error loading exchange rates:",Se),p({USD:1,EUR:.85,GBP:.73,INR:83.12,CAD:1.36,AUD:1.52,JPY:149.5,CNY:7.24})}},Ve=async()=>{try{e(!0);const Se=await Kr.getCourseAnalysis(k);Se.data&&Se.data.success&&Y(Se.data.data)}catch(Se){console.error("Error loading course analysis:",Se),Oe.error("Failed to load course analysis")}finally{e(!1)}},de=async()=>{try{e(!0);const Se=await Kr.getRevenueAnalysis(ee);Se.data&&Se.data.success&&se(Se.data.data)}catch(Se){console.error("Error loading revenue analysis:",Se),Oe.error("Failed to load revenue analysis")}finally{e(!1)}},Ee=async()=>{try{const Se=await Kr.getTopCourses("all",10);Se.data&&Se.data.success&&F(Se.data.data)}catch(Se){console.error("Error loading top courses:",Se),Oe.error("Failed to load top courses")}},je=async()=>{try{e(!0);const Se=await Kr.getStatusAnalysis(ye,Ke);Se.data&&Se.data.success&&z(Se.data.data)}catch(Se){console.error("Error loading status analysis:",Se),Oe.error("Failed to load status analysis")}finally{e(!1)}},Ze=async()=>{await Promise.all([Ve(),de(),Ee(),je()])},nt=()=>{if(!W||!W.courseAnalysis)return i.jsx("div",{className:"text-center py-4",children:"No course analysis data available"});const Se=Object.keys(W.courseAnalysis),Be=new Set;Se.forEach(Re=>{Object.keys(W.courseAnalysis[Re]).forEach(Ue=>{Be.add(Ue)})});const Je=Array.from(Be).sort().reverse();return i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),Je.map(Re=>i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:Re},Re)),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Sales"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Se.map(Re=>{const Ue=W.courseAnalysis[Re],ct=Object.values(Ue).reduce((it,vt)=>it+vt.totalSales,0);return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Re}),Je.map(it=>{var rr;const vt=Ue[it];return i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:vt?i.jsxs("div",{children:[i.jsxs("div",{className:"font-semibold",children:[vt.totalSales," sales"]}),i.jsxs("div",{className:"text-xs text-gray-400",children:["$",((rr=vt.totalRevenue)==null?void 0:rr.toFixed(2))||"0.00"]})]}):i.jsx("span",{className:"text-gray-300",children:"-"})},it)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-blue-600",children:ct})]},Re)})})]})})},ft=()=>{if(!oe)return i.jsx("div",{className:"text-center py-4",children:"No revenue analysis data available"});const{summary:Se,currencyBreakdown:Be,dailyBreakdown:Je}=oe;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(x2,{className:"text-blue-600 text-2xl mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Sales"}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:Se.totalSales})]})]})}),i.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(y2,{className:"text-green-600 text-2xl mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total Revenue (USD)"}),i.jsx("p",{className:"text-2xl font-bold text-green-900",children:Hs(Se.totalRevenueUSD)})]})]})}),i.jsx("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-200",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(US,{className:"text-yellow-600 text-2xl mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Tokens Received (USD)"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:Hs(Se.totalTokensUSD)})]})]})}),i.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Gp,{className:"text-red-600 text-2xl mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-red-600",children:"Pending Amount (USD)"}),i.jsx("p",{className:"text-2xl font-bold text-red-900",children:Hs(Se.pendingAmountUSD)})]})]})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue by Currency"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Currency"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Sales"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Revenue (Original)"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Revenue (USD)"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Tokens (USD)"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(Be).map(([Re,Ue])=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-2 font-medium",children:Re}),i.jsx("td",{className:"px-4 py-2",children:Ue.totalSales}),i.jsx("td",{className:"px-4 py-2",children:Hs(Ue.totalRevenue)}),i.jsx("td",{className:"px-4 py-2",children:Hs(Ue.revenueUSD)}),i.jsx("td",{className:"px-4 py-2",children:Hs(Ue.tokensUSD)})]},Re))})]})})]}),Je&&Je.length>0&&i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Daily Sales Trend"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Sales"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Revenue"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Tokens"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:Je.slice(-10).map(Re=>{var Ue,ct;return i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-2 font-medium",children:Re.date}),i.jsx("td",{className:"px-4 py-2",children:Re.sales}),i.jsxs("td",{className:"px-4 py-2",children:["$",((Ue=Re.revenue)==null?void 0:Ue.toFixed(2))||"0.00"]}),i.jsxs("td",{className:"px-4 py-2",children:["$",((ct=Re.tokens)==null?void 0:ct.toFixed(2))||"0.00"]})]},Re.date)})})]})})]})]})},st=()=>!X||!X.topCourses?i.jsx("div",{className:"text-center py-4",children:"No top courses data available"}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Sales"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Revenue"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Average Price"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completion Rate"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:X.topCourses.map((Se,Be)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",Be+1]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:Se.course}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Se.totalSales}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",Se.totalRevenue]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",Se.averagePrice]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:i.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${Se.completionRate}%`}})}),i.jsxs("span",{children:[Se.completionRate,"%"]})]})})]},Se.course))})]})}),Ct=()=>{if(!U)return i.jsx("div",{className:"text-center py-4",children:"No status analysis data available"});const{statusSummary:Se,detailedSales:Be,selectedStatus:Je}=U;return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Se.map((Re,Ue)=>i.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-all duration-200 ${Ke===Re.status?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>He(Ke===Re.status?null:Re.status),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:Re.status}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Re.totalSales}),i.jsx("p",{className:"text-xs text-gray-500",children:"sales"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-green-600",children:Hs(Re.totalRevenueUSD)}),i.jsx("p",{className:"text-xs text-gray-500",children:"revenue"})]})]}),i.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsxs("span",{children:["Avg: ",Hs(Re.averageOrderValueUSD)]}),i.jsxs("span",{children:["Pending: ",Hs(Re.pendingAmountUSD)]})]})})]},Re.status))}),Je&&Be&&Be.length>0&&i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4",children:['Detailed Sales for "',Je,'" Status (',Be.length," sales)"]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Course"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Country"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Sales Person"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Cost"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Token"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Pending"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:Be.map(Re=>{var Ue,ct,it;return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-2 text-sm",children:new Date(Re.date).toLocaleDateString()}),i.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:Re.customerName}),i.jsx("td",{className:"px-4 py-2 text-sm",children:Re.course}),i.jsx("td",{className:"px-4 py-2 text-sm",children:Re.country}),i.jsx("td",{className:"px-4 py-2 text-sm",children:Re.salesPerson}),i.jsxs("td",{className:"px-4 py-2 text-sm",children:["$",((Ue=Re.totalCost)==null?void 0:Ue.toFixed(2))||"0.00"]}),i.jsxs("td",{className:"px-4 py-2 text-sm",children:["$",((ct=Re.tokenAmount)==null?void 0:ct.toFixed(2))||"0.00"]}),i.jsxs("td",{className:"px-4 py-2 text-sm",children:["$",((it=Re.pendingAmount)==null?void 0:it.toFixed(2))||"0.00"]})]},Re._id)})})]})})]}),i.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-700",children:[i.jsx("strong",{children:" Tip:"})," Click on any status card above to view detailed sales data for that status. The cards show total sales count, revenue, and pending amounts for each status."]})})]})};return i.jsx(cr,{children:i.jsxs("div",{className:"container mx-auto p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Sales Reports & Analytics"}),i.jsxs("button",{onClick:Ze,disabled:t,className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md transition duration-300 flex items-center",children:[t?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):i.jsx(zS,{className:"mr-2"}),"Refresh Reports"]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[i.jsx(K5,{className:"mr-2 text-blue-600"}),"Course Sales Analysis"]}),i.jsx("select",{value:k,onChange:Se=>ce(Se.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:H.map(Se=>i.jsx("option",{value:Se.value,children:Se.label},Se.value))})]}),nt()]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[i.jsx(y2,{className:"mr-2 text-green-600"}),"Revenue Analysis"]}),i.jsx("select",{value:ee,onChange:Se=>he(Se.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:ie.map(Se=>i.jsx("option",{value:Se.value,children:Se.label},Se.value))})]}),ft()]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[i.jsx(x2,{className:"mr-2 text-purple-600"}),"Top Performing Courses (All Time)"]}),st()]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[i.jsx(H5,{className:"mr-2 text-pink-600"}),"Status Analysis"]}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("select",{value:ye,onChange:Se=>ke(Se.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"1month",children:"1 Month"}),i.jsx("option",{value:"3month",children:"3 Months"}),i.jsx("option",{value:"6month",children:"6 Months"}),i.jsx("option",{value:"1year",children:"1 Year"}),i.jsx("option",{value:"all",children:"All Time"})]}),Ke&&i.jsx("button",{onClick:()=>He(null),className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-2 rounded-md text-sm",children:"Clear Selection"})]})]}),Ct()]})]})})},Yr=({children:t,allowedRoles:e})=>{const{user:r,loading:n}=Yt();return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?e.includes(r.role)?t:i.jsx(Ip,{to:"/",replace:!0}):i.jsx(Ip,{to:"/login",replace:!0})},kw="/assets/ForgotPassword-CiiIXMXF.jpg",PC=A.createContext({});function XU(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const Hx=typeof window<"u",JU=Hx?A.useLayoutEffect:A.useEffect,Wx=A.createContext(null),DC=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function QU(t=!0){const e=A.useContext(Wx);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,a=A.useId();A.useEffect(()=>{if(t)return s(a)},[t]);const o=A.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,o]:[!0]}function $x(t,e){t.indexOf(e)===-1&&t.push(e)}function Yx(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const La=(t,e,r)=>r>e?e:r<t?t:r;let Kx=()=>{};const Ia={},RC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),FC=t=>/^0[^.\s]+$/u.test(t);function Gx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ts=t=>t,ZU=(t,e)=>r=>e(t(r)),td=(...t)=>t.reduce(ZU),Ru=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class qx{constructor(){this.subscriptions=[]}add(e){return $x(this.subscriptions,e),()=>Yx(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ua=t=>t*1e3,da=t=>t/1e3;function OC(t,e){return e?t*(1e3/e):0}const MC=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,ez=1e-7,tz=12;function rz(t,e,r,n,s){let a,o,c=0;do o=e+(r-e)/2,a=MC(o,n,s)-t,a>0?r=o:e=o;while(Math.abs(a)>ez&&++c<tz);return o}function rd(t,e,r,n){if(t===e&&r===n)return Ts;const s=a=>rz(a,0,1,t,r);return a=>a===0||a===1?a:MC(s(a),e,n)}const LC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,IC=t=>e=>1-t(1-e),BC=rd(.33,1.53,.69,.99),Xx=IC(BC),UC=LC(Xx),zC=t=>(t*=2)<1?.5*Xx(t):.5*(2-Math.pow(2,-10*(t-1))),Jx=t=>1-Math.sin(Math.acos(t)),VC=IC(Jx),HC=LC(Jx),nz=rd(.42,0,1,1),sz=rd(0,0,.58,1),WC=rd(.42,0,.58,1),az=t=>Array.isArray(t)&&typeof t[0]!="number",$C=t=>Array.isArray(t)&&typeof t[0]=="number",iz={linear:Ts,easeIn:nz,easeInOut:WC,easeOut:sz,circIn:Jx,circInOut:HC,circOut:VC,backIn:Xx,backInOut:UC,backOut:BC,anticipate:zC},oz=t=>typeof t=="string",Aw=t=>{if($C(t)){Kx(t.length===4);const[e,r,n,s]=t;return rd(e,r,n,s)}else if(oz(t))return iz[t];return t},Df=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Pw={value:null};function lz(t,e){let r=new Set,n=new Set,s=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function f(p){o.has(p)&&(h.schedule(p),t()),d++,p(c)}const h={schedule:(p,g=!1,x=!1)=>{const b=x&&s?r:n;return g&&o.add(p),b.has(p)||b.add(p),p},cancel:p=>{n.delete(p),o.delete(p)},process:p=>{if(c=p,s){a=!0;return}s=!0,[r,n]=[n,r],r.forEach(f),e&&Pw.value&&Pw.value.frameloop[e].push(d),d=0,r.clear(),s=!1,a&&(a=!1,h.process(p))}};return h}const cz=40;function YC(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=Df.reduce((j,D)=>(j[D]=lz(a,e?D:void 0),j),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:h,update:p,preRender:g,render:x,postRender:w}=o,b=()=>{const j=Ia.useManualTiming?s.timestamp:performance.now();r=!1,Ia.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(j-s.timestamp,cz),1)),s.timestamp=j,s.isProcessing=!0,c.process(s),d.process(s),f.process(s),h.process(s),p.process(s),g.process(s),x.process(s),w.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(b))},v=()=>{r=!0,n=!0,s.isProcessing||t(b)};return{schedule:Df.reduce((j,D)=>{const T=o[D];return j[D]=(M,C=!1,P=!1)=>(r||v(),T.schedule(M,C,P)),j},{}),cancel:j=>{for(let D=0;D<Df.length;D++)o[Df[D]].cancel(j)},state:s,steps:o}}const{schedule:wr,cancel:ki,state:sn,steps:Sp}=YC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ts,!0);let Jf;function uz(){Jf=void 0}const Yn={now:()=>(Jf===void 0&&Yn.set(sn.isProcessing||Ia.useManualTiming?sn.timestamp:performance.now()),Jf),set:t=>{Jf=t,queueMicrotask(uz)}},KC=t=>e=>typeof e=="string"&&e.startsWith(t),Qx=KC("--"),dz=KC("var(--"),Zx=t=>dz(t)?fz.test(t.split("/*")[0].trim()):!1,fz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Gl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fu={...Gl,transform:t=>La(0,1,t)},Rf={...Gl,default:1},uu=t=>Math.round(t*1e5)/1e5,e1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hz(t){return t==null}const mz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,t1=(t,e)=>r=>!!(typeof r=="string"&&mz.test(r)&&r.startsWith(t)||e&&!hz(r)&&Object.prototype.hasOwnProperty.call(r,e)),GC=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,a,o,c]=n.match(e1);return{[t]:parseFloat(s),[e]:parseFloat(a),[r]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},pz=t=>La(0,255,t),_p={...Gl,transform:t=>Math.round(pz(t))},mo={test:t1("rgb","red"),parse:GC("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+_p.transform(t)+", "+_p.transform(e)+", "+_p.transform(r)+", "+uu(Fu.transform(n))+")"};function gz(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const _g={test:t1("#"),parse:gz,transform:mo.transform},nd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),di=nd("deg"),fa=nd("%"),St=nd("px"),xz=nd("vh"),yz=nd("vw"),Dw={...fa,parse:t=>fa.parse(t)/100,transform:t=>fa.transform(t*100)},vl={test:t1("hsl","hue"),parse:GC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+fa.transform(uu(e))+", "+fa.transform(uu(r))+", "+uu(Fu.transform(n))+")"},bn={test:t=>mo.test(t)||_g.test(t)||vl.test(t),parse:t=>mo.test(t)?mo.parse(t):vl.test(t)?vl.parse(t):_g.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?mo.transform(t):vl.transform(t)},vz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bz(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(e1))==null?void 0:e.length)||0)+(((r=t.match(vz))==null?void 0:r.length)||0)>0}const qC="number",XC="color",wz="var",Sz="var(",Rw="${}",_z=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ou(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(_z,d=>(bn.test(d)?(n.color.push(a),s.push(XC),r.push(bn.parse(d))):d.startsWith(Sz)?(n.var.push(a),s.push(wz),r.push(d)):(n.number.push(a),s.push(qC),r.push(parseFloat(d))),++a,Rw)).split(Rw);return{values:r,split:c,indexes:n,types:s}}function JC(t){return Ou(t).values}function QC(t){const{split:e,types:r}=Ou(t),n=e.length;return s=>{let a="";for(let o=0;o<n;o++)if(a+=e[o],s[o]!==void 0){const c=r[o];c===qC?a+=uu(s[o]):c===XC?a+=bn.transform(s[o]):a+=s[o]}return a}}const Nz=t=>typeof t=="number"?0:t;function Cz(t){const e=JC(t);return QC(t)(e.map(Nz))}const Ai={test:bz,parse:JC,createTransformer:QC,getAnimatableNone:Cz};function Np(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function jz({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,a=0,o=0;if(!e)s=a=o=r;else{const c=r<.5?r*(1+e):r+e-r*e,d=2*r-c;s=Np(d,c,t+1/3),a=Np(d,c,t),o=Np(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function Dh(t,e){return r=>r>0?e:t}const br=(t,e,r)=>t+(e-t)*r,Cp=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},Tz=[_g,mo,vl],Ez=t=>Tz.find(e=>e.test(t));function Fw(t){const e=Ez(t);if(!e)return!1;let r=e.parse(t);return e===vl&&(r=jz(r)),r}const Ow=(t,e)=>{const r=Fw(t),n=Fw(e);if(!r||!n)return Dh(t,e);const s={...r};return a=>(s.red=Cp(r.red,n.red,a),s.green=Cp(r.green,n.green,a),s.blue=Cp(r.blue,n.blue,a),s.alpha=br(r.alpha,n.alpha,a),mo.transform(s))},Ng=new Set(["none","hidden"]);function kz(t,e){return Ng.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Az(t,e){return r=>br(t,e,r)}function r1(t){return typeof t=="number"?Az:typeof t=="string"?Zx(t)?Dh:bn.test(t)?Ow:Rz:Array.isArray(t)?ZC:typeof t=="object"?bn.test(t)?Ow:Pz:Dh}function ZC(t,e){const r=[...t],n=r.length,s=t.map((a,o)=>r1(a)(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=s[o](a);return r}}function Pz(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=r1(t[s])(t[s],e[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function Dz(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][n[a]],c=t.values[o]??0;r[s]=c,n[a]++}return r}const Rz=(t,e)=>{const r=Ai.createTransformer(e),n=Ou(t),s=Ou(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Ng.has(t)&&!s.values.length||Ng.has(e)&&!n.values.length?kz(t,e):td(ZC(Dz(n,s),s.values),r):Dh(t,e)};function e3(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?br(t,e,r):r1(t)(t,e)}const Fz=t=>{const e=({timestamp:r})=>t(r);return{start:()=>wr.update(e,!0),stop:()=>ki(e),now:()=>sn.isProcessing?sn.timestamp:Yn.now()}},t3=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let a=0;a<s;a++)n+=t(a/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},Rh=2e4;function n1(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Rh;)e+=r,n=t.next(e);return e>=Rh?1/0:e}function Oz(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(n1(n),Rh);return{type:"keyframes",ease:a=>n.next(s*a).value/e,duration:da(s)}}const Mz=5;function r3(t,e,r){const n=Math.max(e-Mz,0);return OC(r-t(n),e-n)}const _r={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mw=.001;function Lz({duration:t=_r.duration,bounce:e=_r.bounce,velocity:r=_r.velocity,mass:n=_r.mass}){let s,a,o=1-e;o=La(_r.minDamping,_r.maxDamping,o),t=La(_r.minDuration,_r.maxDuration,da(t)),o<1?(s=f=>{const h=f*o,p=h*t,g=h-r,x=Cg(f,o),w=Math.exp(-p);return Mw-g/x*w},a=f=>{const p=f*o*t,g=p*r+r,x=Math.pow(o,2)*Math.pow(f,2)*t,w=Math.exp(-p),b=Cg(Math.pow(f,2),o);return(-s(f)+Mw>0?-1:1)*((g-x)*w)/b}):(s=f=>{const h=Math.exp(-f*t),p=(f-r)*t+1;return-.001+h*p},a=f=>{const h=Math.exp(-f*t),p=(r-f)*(t*t);return h*p});const c=5/t,d=Bz(s,a,c);if(t=ua(t),isNaN(d))return{stiffness:_r.stiffness,damping:_r.damping,duration:t};{const f=Math.pow(d,2)*n;return{stiffness:f,damping:o*2*Math.sqrt(n*f),duration:t}}}const Iz=12;function Bz(t,e,r){let n=r;for(let s=1;s<Iz;s++)n=n-t(n)/e(n);return n}function Cg(t,e){return t*Math.sqrt(1-e*e)}const Uz=["duration","bounce"],zz=["stiffness","damping","mass"];function Lw(t,e){return e.some(r=>t[r]!==void 0)}function Vz(t){let e={velocity:_r.velocity,stiffness:_r.stiffness,damping:_r.damping,mass:_r.mass,isResolvedFromDuration:!1,...t};if(!Lw(t,zz)&&Lw(t,Uz))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*La(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:_r.mass,stiffness:s,damping:a}}else{const r=Lz(t);e={...e,...r,mass:_r.mass},e.isResolvedFromDuration=!0}return e}function Fh(t=_r.visualDuration,e=_r.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:f,mass:h,duration:p,velocity:g,isResolvedFromDuration:x}=Vz({...r,velocity:-da(r.velocity||0)}),w=g||0,b=f/(2*Math.sqrt(d*h)),v=o-a,N=da(Math.sqrt(d/h)),E=Math.abs(v)<5;n||(n=E?_r.restSpeed.granular:_r.restSpeed.default),s||(s=E?_r.restDelta.granular:_r.restDelta.default);let j;if(b<1){const T=Cg(N,b);j=M=>{const C=Math.exp(-b*N*M);return o-C*((w+b*N*v)/T*Math.sin(T*M)+v*Math.cos(T*M))}}else if(b===1)j=T=>o-Math.exp(-N*T)*(v+(w+N*v)*T);else{const T=N*Math.sqrt(b*b-1);j=M=>{const C=Math.exp(-b*N*M),P=Math.min(T*M,300);return o-C*((w+b*N*v)*Math.sinh(P)+T*v*Math.cosh(P))/T}}const D={calculatedDuration:x&&p||null,next:T=>{const M=j(T);if(x)c.done=T>=p;else{let C=T===0?w:0;b<1&&(C=T===0?ua(w):r3(j,T,M));const P=Math.abs(C)<=n,I=Math.abs(o-M)<=s;c.done=P&&I}return c.value=c.done?o:M,c},toString:()=>{const T=Math.min(n1(D),Rh),M=t3(C=>D.next(T*C).value,T,30);return T+"ms "+M},toTransition:()=>{}};return D}Fh.applyToOptions=t=>{const e=Oz(t,100,Fh);return t.ease=e.ease,t.duration=ua(e.duration),t.type="keyframes",t};function jg({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:d,restDelta:f=.5,restSpeed:h}){const p=t[0],g={done:!1,value:p},x=P=>c!==void 0&&P<c||d!==void 0&&P>d,w=P=>c===void 0?d:d===void 0||Math.abs(c-P)<Math.abs(d-P)?c:d;let b=r*e;const v=p+b,N=o===void 0?v:o(v);N!==v&&(b=N-p);const E=P=>-b*Math.exp(-P/n),j=P=>N+E(P),D=P=>{const I=E(P),G=j(P);g.done=Math.abs(I)<=f,g.value=g.done?N:G};let T,M;const C=P=>{x(g.value)&&(T=P,M=Fh({keyframes:[g.value,w(g.value)],velocity:r3(j,P,g.value),damping:s,stiffness:a,restDelta:f,restSpeed:h}))};return C(0),{calculatedDuration:null,next:P=>{let I=!1;return!M&&T===void 0&&(I=!0,D(P),C(P)),T!==void 0&&P>=T?M.next(P-T):(!I&&D(P),g)}}}function Hz(t,e,r){const n=[],s=r||Ia.mix||e3,a=t.length-1;for(let o=0;o<a;o++){let c=s(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||Ts:e;c=td(d,c)}n.push(c)}return n}function Wz(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const a=t.length;if(Kx(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=Hz(e,n,s),d=c.length,f=h=>{if(o&&h<t[0])return e[0];let p=0;if(d>1)for(;p<t.length-2&&!(h<t[p+1]);p++);const g=Ru(t[p],t[p+1],h);return c[p](g)};return r?h=>f(La(t[0],t[a-1],h)):f}function $z(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Ru(0,e,n);t.push(br(r,1,s))}}function Yz(t){const e=[0];return $z(e,t.length-1),e}function Kz(t,e){return t.map(r=>r*e)}function Gz(t,e){return t.map(()=>e||WC).splice(0,t.length-1)}function du({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=az(n)?n.map(Aw):Aw(n),a={done:!1,value:e[0]},o=Kz(r&&r.length===e.length?r:Yz(e),t),c=Wz(o,e,{ease:Array.isArray(s)?s:Gz(e,s)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const qz=t=>t!==null;function s1(t,{repeat:e,repeatType:r="loop"},n,s=1){const a=t.filter(qz),c=s<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!c||n===void 0?a[c]:n}const Xz={decay:jg,inertia:jg,tween:du,keyframes:du,spring:Fh};function n3(t){typeof t.type=="string"&&(t.type=Xz[t.type])}class a1{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Jz=t=>t/100;class s3 extends a1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;if(r&&r.updatedAt!==Yn.now()&&this.tick(Yn.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;n3(e);const{type:r=du,repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=e;let{keyframes:c}=e;const d=r||du;d!==du&&typeof c[0]!="number"&&(this.mixKeyframes=td(Jz,e3(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=n1(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=f}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:h,repeat:p,repeatType:g,repeatDelay:x,type:w,onUpdate:b,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const N=this.currentTime-f*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,D=n;if(p){const P=Math.min(this.currentTime,s)/c;let I=Math.floor(P),G=P%1;!G&&P>=1&&(G=1),G===1&&I--,I=Math.min(I,p+1),!!(I%2)&&(g==="reverse"?(G=1-G,x&&(G-=x/c)):g==="mirror"&&(D=o)),j=La(0,1,G)*c}const T=E?{done:!1,value:h[0]}:D.next(j);a&&(T.value=a(T.value));let{done:M}=T;!E&&d!==null&&(M=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&w!==jg&&(T.value=s1(h,this.options,v,this.speed)),b&&b(T.value),C&&this.finish(),T}then(e,r){return this.finished.then(e,r)}get duration(){return da(this.calculatedDuration)}get time(){return da(this.currentTime)}set time(e){e=ua(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Yn.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=da(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Fz,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),r&&r();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function Qz(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const po=t=>t*180/Math.PI,Tg=t=>{const e=po(Math.atan2(t[1],t[0]));return Eg(e)},Zz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Tg,rotateZ:Tg,skewX:t=>po(Math.atan(t[1])),skewY:t=>po(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Eg=t=>(t=t%360,t<0&&(t+=360),t),Iw=Tg,Bw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Uw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),eV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Bw,scaleY:Uw,scale:t=>(Bw(t)+Uw(t))/2,rotateX:t=>Eg(po(Math.atan2(t[6],t[5]))),rotateY:t=>Eg(po(Math.atan2(-t[2],t[0]))),rotateZ:Iw,rotate:Iw,skewX:t=>po(Math.atan(t[4])),skewY:t=>po(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function zw(t){return t.includes("scale")?1:0}function kg(t,e){if(!t||t==="none")return zw(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=eV,s=r;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Zz,s=c}if(!s)return zw(e);const a=n[e],o=s[1].split(",").map(rV);return typeof a=="function"?a(o):o[a]}const tV=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return kg(r,e)};function rV(t){return parseFloat(t.trim())}const ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xl=new Set(ql),Vw=t=>t===Gl||t===St,nV=new Set(["x","y","z"]),sV=ql.filter(t=>!nV.has(t));function aV(t){const e=[];return sV.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Ml={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>kg(e,"x"),y:(t,{transform:e})=>kg(e,"y")};Ml.translateX=Ml.x;Ml.translateY=Ml.y;const wo=new Set;let Ag=!1,Pg=!1,Dg=!1;function a3(){if(Pg){const t=Array.from(wo).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=aV(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,o])=>{var c;(c=n.getValue(a))==null||c.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Pg=!1,Ag=!1,wo.forEach(t=>t.complete(Dg)),wo.clear()}function i3(){wo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Pg=!0)})}function iV(){Dg=!0,i3(),a3(),Dg=!1}class i1{constructor(e,r,n,s,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(wo.add(this),Ag||(Ag=!0,wr.read(i3),wr.resolveKeyframes(a3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const c=n.readValue(r,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),s&&a===void 0&&s.set(e[0])}Qz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),wo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,wo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const oV=t=>t.startsWith("--");function lV(t,e,r){oV(e)?t.style.setProperty(e,r):t.style[e]=r}const cV=Gx(()=>window.ScrollTimeline!==void 0),uV={};function dV(t,e){const r=Gx(t);return()=>uV[e]??r()}const o3=dV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qc=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,Hw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qc([0,.65,.55,1]),circOut:qc([.55,0,1,.45]),backIn:qc([.31,.01,.66,-.59]),backOut:qc([.33,1.53,.69,.99])};function l3(t,e){if(t)return typeof t=="function"?o3()?t3(t,e):"ease-out":$C(t)?qc(t):Array.isArray(t)?t.map(r=>l3(r,e)||Hw.easeOut):Hw[t]}function fV(t,e,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:d}={},f=void 0){const h={[e]:r};d&&(h.offset=d);const p=l3(c,s);Array.isArray(p)&&(h.easing=p);const g={delay:n,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(h,g)}function c3(t){return typeof t=="function"&&"applyToOptions"in t}function hV({type:t,...e}){return c3(t)&&o3()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mV extends a1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,Kx(typeof e.type!="string");const f=hV(e);this.animation=fV(r,n,s,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const h=s1(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(h):lV(r,n,h),this.animation.cancel()}d==null||d(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return da(Number(e))}get time(){return da(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ua(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&cV()?(this.animation.timeline=e,Ts):r(this)}}const u3={anticipate:zC,backInOut:UC,circInOut:HC};function pV(t){return t in u3}function gV(t){typeof t.ease=="string"&&pV(t.ease)&&(t.ease=u3[t.ease])}const Ww=10;class xV extends mV{constructor(e){gV(e),n3(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:a,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const c=new s3({...o,autoplay:!1}),d=ua(this.finishedTime??this.time);r.setWithVelocity(c.sample(d-Ww).value,c.sample(d).value,Ww),c.stop()}}const $w=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ai.test(t)||t==="0")&&!t.startsWith("url("));function yV(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function vV(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=$w(s,e),c=$w(a,e);return!o||!c?!1:yV(t)||(r==="spring"||c3(r))&&n}const bV=new Set(["opacity","clipPath","filter","transform"]),wV=Gx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function SV(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:a,type:o}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return wV()&&r&&bV.has(r)&&(r!=="transform"||!d)&&!c&&!n&&s!=="mirror"&&a!==0&&o!=="inertia"}const _V=40;class NV extends a1{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:d,motionValue:f,element:h,...p}){var w;super(),this.stop=()=>{var b,v;this._animation?(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)):(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Yn.now();const g={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:o,name:d,motionValue:f,element:h,...p},x=(h==null?void 0:h.KeyframeResolver)||i1;this.keyframeResolver=new x(c,(b,v,N)=>this.onKeyframesResolved(b,v,g,!N),d,f,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:d,isHandoff:f,onUpdate:h}=n;this.resolvedAt=Yn.now(),vV(e,a,o,c)||((Ia.instantAnimations||!d)&&(h==null||h(s1(e,n,r))),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>_V?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},x=!f&&SV(g)?new xV({...g,element:g.motionValue.owner.current}):new s3(g);x.finished.then(()=>this.notifyFinished()).catch(Ts),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||iV(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const CV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jV(t){const e=CV.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function d3(t,e,r=1){const[n,s]=jV(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return RC(o)?parseFloat(o):o}return Zx(s)?d3(s,e,r+1):s}function o1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const f3=new Set(["width","height","top","left","right","bottom",...ql]),TV={test:t=>t==="auto",parse:t=>t},h3=t=>e=>e.test(t),m3=[Gl,St,fa,di,yz,xz,TV],Yw=t=>m3.find(h3(t));function EV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||FC(t):!0}const kV=new Set(["brightness","contrast","saturate","opacity"]);function AV(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(e1)||[];if(!n)return t;const s=r.replace(n,"");let a=kV.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+s+")"}const PV=/\b([a-z-]*)\(.*?\)/gu,Rg={...Ai,getAnimatableNone:t=>{const e=t.match(PV);return e?e.map(AV).join(" "):t}},Kw={...Gl,transform:Math.round},DV={rotate:di,rotateX:di,rotateY:di,rotateZ:di,scale:Rf,scaleX:Rf,scaleY:Rf,scaleZ:Rf,skew:di,skewX:di,skewY:di,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:Fu,originX:Dw,originY:Dw,originZ:St},l1={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...DV,zIndex:Kw,fillOpacity:Fu,strokeOpacity:Fu,numOctaves:Kw},RV={...l1,color:bn,backgroundColor:bn,outlineColor:bn,fill:bn,stroke:bn,borderColor:bn,borderTopColor:bn,borderRightColor:bn,borderBottomColor:bn,borderLeftColor:bn,filter:Rg,WebkitFilter:Rg},p3=t=>RV[t];function g3(t,e){let r=p3(t);return r!==Rg&&(r=Ai),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const FV=new Set(["auto","none","0"]);function OV(t,e,r){let n=0,s;for(;n<t.length&&!s;){const a=t[n];typeof a=="string"&&!FV.has(a)&&Ou(a).values.length&&(s=t[n]),n++}if(s&&r)for(const a of e)t[a]=g3(r,s)}class MV extends i1{constructor(e,r,n,s,a){super(e,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),Zx(f))){const h=d3(f,r.current);h!==void 0&&(e[d]=h),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!f3.has(n)||e.length!==2)return;const[s,a]=e,o=Yw(s),c=Yw(a);if(o!==c)if(Vw(o)&&Vw(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||EV(e[s]))&&n.push(s);n.length&&OV(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ml[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=Ml[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function LV(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=(r==null?void 0:r[t])??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const{schedule:c1}=YC(queueMicrotask,!1),Ws={x:!1,y:!1};function x3(){return Ws.x||Ws.y}function IV(t){return t==="x"||t==="y"?Ws[t]?null:(Ws[t]=!0,()=>{Ws[t]=!1}):Ws.x||Ws.y?null:(Ws.x=Ws.y=!0,()=>{Ws.x=Ws.y=!1})}function y3(t,e){const r=LV(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function Gw(t){return!(t.pointerType==="touch"||x3())}function BV(t,e,r={}){const[n,s,a]=y3(t,r),o=c=>{if(!Gw(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const h=p=>{Gw(p)&&(f(p),d.removeEventListener("pointerleave",h))};d.addEventListener("pointerleave",h,s)};return n.forEach(c=>{c.addEventListener("pointerenter",o,s)}),a}const v3=(t,e)=>e?t===e?!0:v3(t,e.parentElement):!1,u1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,UV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zV(t){return UV.has(t.tagName)||t.tabIndex!==-1}const Xc=new WeakSet;function qw(t){return e=>{e.key==="Enter"&&t(e)}}function jp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const VV=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=qw(()=>{if(Xc.has(r))return;jp(r,"down");const s=qw(()=>{jp(r,"up")}),a=()=>jp(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function Xw(t){return u1(t)&&!x3()}function HV(t,e,r={}){const[n,s,a]=y3(t,r),o=c=>{const d=c.currentTarget;if(!Xw(c)||Xc.has(d))return;Xc.add(d);const f=e(d,c),h=(x,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),!(!Xw(x)||!Xc.has(d))&&(Xc.delete(d),typeof f=="function"&&f(x,{success:w}))},p=x=>{h(x,d===window||d===document||r.useGlobalTarget||v3(d,x.target))},g=x=>{h(x,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",g,s)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",o,s),c instanceof HTMLElement&&(c.addEventListener("focus",f=>VV(f,s)),!zV(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}const Jw=30,WV=t=>!isNaN(parseFloat(t));class $V{constructor(e,r={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{var o,c;const a=Yn.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current)),s&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=WV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new qx);const n=this.events[e].add(r);return e==="change"?()=>{n(),wr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Jw)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Jw);return OC(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mu(t,e){return new $V(t,e)}const YV=[...m3,bn,Ai],KV=t=>YV.find(h3(t)),b3=(t,e)=>e&&typeof t=="number"?e.transform(t):t,w3=A.createContext({strict:!1}),Qw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ll={};for(const t in Qw)Ll[t]={isEnabled:e=>Qw[t].some(r=>!!e[r])};function GV(t){for(const e in t)Ll[e]={...Ll[e],...t[e]}}const qV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||qV.has(t)}let S3=t=>!Oh(t);function XV(t){t&&(S3=e=>e.startsWith("on")?!Oh(e):t(e))}try{XV(require("@emotion/is-prop-valid").default)}catch{}function JV(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(S3(s)||r===!0&&Oh(s)||!e&&!Oh(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function QV(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const u0=A.createContext({});function d0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Lu(t){return typeof t=="string"||Array.isArray(t)}const d1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],f1=["initial",...d1];function f0(t){return d0(t.animate)||f1.some(e=>Lu(t[e]))}function _3(t){return!!(f0(t)||t.variants)}function ZV(t,e){if(f0(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Lu(r)?r:void 0,animate:Lu(n)?n:void 0}}return t.inherit!==!1?e:{}}function eH(t){const{initial:e,animate:r}=ZV(t,A.useContext(u0));return A.useMemo(()=>({initial:e,animate:r}),[Zw(e),Zw(r)])}function Zw(t){return Array.isArray(t)?t.join(" "):t}const tH=Symbol.for("motionComponentSymbol");function bl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rH(t,e,r){return A.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):bl(r)&&(r.current=n))},[e])}const h1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nH="framerAppearId",N3="data-"+h1(nH),C3=A.createContext({});function sH(t,e,r,n,s){var b,v;const{visualElement:a}=A.useContext(u0),o=A.useContext(w3),c=A.useContext(Wx),d=A.useContext(DC).reducedMotion,f=A.useRef(null);n=n||o.renderer,!f.current&&n&&(f.current=n(t,{visualState:e,parent:a,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=A.useContext(C3);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&aH(f.current,r,s,p);const g=A.useRef(!1);A.useInsertionEffect(()=>{h&&g.current&&h.update(r,c)});const x=r[N3],w=A.useRef(!!x&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,x))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,x)));return JU(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),c1.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),A.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,x)}),w.current=!1))}),h}function aH(t,e,r,n){const{layoutId:s,layout:a,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:h}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:j3(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||c&&bl(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:d,layoutRoot:f})}function j3(t){if(t)return t.options.allowProjection!==!1?t.projection:j3(t.parent)}function iH({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){t&&GV(t);function a(c,d){let f;const h={...A.useContext(DC),...c,layoutId:oH(c)},{isStatic:p}=h,g=eH(c),x=n(c,p);if(!p&&Hx){lH();const w=cH(h);f=w.MeasureLayout,g.visualElement=sH(s,x,h,e,w.ProjectionNode)}return i.jsxs(u0.Provider,{value:g,children:[f&&g.visualElement?i.jsx(f,{visualElement:g.visualElement,...h}):null,r(s,c,rH(x,g.visualElement,d),x,p,g.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=A.forwardRef(a);return o[tH]=s,o}function oH({layoutId:t}){const e=A.useContext(PC).id;return e&&t!==void 0?e+"-"+t:t}function lH(t,e){A.useContext(w3).strict}function cH(t){const{drag:e,layout:r}=Ll;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Iu={};function uH(t){for(const e in t)Iu[e]=t[e],Qx(e)&&(Iu[e].isCSSVariable=!0)}function T3(t,{layout:e,layoutId:r}){return Xl.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Iu[t]||t==="opacity")}const _n=t=>!!(t&&t.getVelocity),dH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fH=ql.length;function hH(t,e,r){let n="",s=!0;for(let a=0;a<fH;a++){const o=ql[a],c=t[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||r){const f=b3(c,l1[o]);if(!d){s=!1;const h=dH[o]||o;n+=`${h}(${f}) `}r&&(e[o]=f)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function m1(t,e,r){const{style:n,vars:s,transformOrigin:a}=t;let o=!1,c=!1;for(const d in e){const f=e[d];if(Xl.has(d)){o=!0;continue}else if(Qx(d)){s[d]=f;continue}else{const h=b3(f,l1[d]);d.startsWith("origin")?(c=!0,a[d]=h):n[d]=h}}if(e.transform||(o||r?n.transform=hH(e,t.transform,r):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:h=0}=a;n.transformOrigin=`${d} ${f} ${h}`}}const p1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function E3(t,e,r){for(const n in e)!_n(e[n])&&!T3(n,r)&&(t[n]=e[n])}function mH({transformTemplate:t},e){return A.useMemo(()=>{const r=p1();return m1(r,e,t),Object.assign({},r.vars,r.style)},[e])}function pH(t,e){const r=t.style||{},n={};return E3(n,r,t),Object.assign(n,mH(t,e)),n}function gH(t,e){const r={},n=pH(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const xH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function g1(t){return typeof t!="string"||t.includes("-")?!1:!!(xH.indexOf(t)>-1||/[A-Z]/u.test(t))}const yH={offset:"stroke-dashoffset",array:"stroke-dasharray"},vH={offset:"strokeDashoffset",array:"strokeDasharray"};function bH(t,e,r=1,n=0,s=!0){t.pathLength=1;const a=s?yH:vH;t[a.offset]=St.transform(-n);const o=St.transform(e),c=St.transform(r);t[a.array]=`${o} ${c}`}function k3(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:a=1,pathOffset:o=0,...c},d,f){if(m1(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p}=t;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox="fill-box",delete h.transformBox),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),s!==void 0&&bH(h,s,a,o,!1)}const A3=()=>({...p1(),attrs:{}}),P3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wH(t,e,r,n){const s=A.useMemo(()=>{const a=A3();return k3(a,e,P3(n),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};E3(a,t.style,t),s.style={...a,...s.style}}return s}function SH(t=!1){return(r,n,s,{latestValues:a},o)=>{const d=(g1(r)?wH:gH)(n,a,o,r),f=JV(n,typeof r=="string",t),h=r!==A.Fragment?{...f,...d,ref:s}:{},{children:p}=n,g=A.useMemo(()=>_n(p)?p.get():p,[p]);return A.createElement(r,{...h,children:g})}}function e4(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function x1(t,e,r,n){if(typeof e=="function"){const[s,a]=e4(n);e=e(r!==void 0?r:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=e4(n);e=e(r!==void 0?r:t.custom,s,a)}return e}function Qf(t){return _n(t)?t.get():t}function _H({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:NH(r,n,s,t),renderState:e()}}const D3=t=>(e,r)=>{const n=A.useContext(u0),s=A.useContext(Wx),a=()=>_H(t,e,n,s);return r?a():XU(a)};function NH(t,e,r,n){const s={},a=n(t,{});for(const g in a)s[g]=Qf(a[g]);let{initial:o,animate:c}=t;const d=f0(t),f=_3(t);e&&f&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const p=h?c:o;if(p&&typeof p!="boolean"&&!d0(p)){const g=Array.isArray(p)?p:[p];for(let x=0;x<g.length;x++){const w=x1(t,g[x]);if(w){const{transitionEnd:b,transition:v,...N}=w;for(const E in N){let j=N[E];if(Array.isArray(j)){const D=h?j.length-1:0;j=j[D]}j!==null&&(s[E]=j)}for(const E in b)s[E]=b[E]}}}return s}function y1(t,e,r){var a;const{style:n}=t,s={};for(const o in n)(_n(n[o])||e.style&&_n(e.style[o])||T3(o,t)||((a=r==null?void 0:r.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const CH={useVisualState:D3({scrapeMotionValuesFromProps:y1,createRenderState:p1})};function R3(t,e,r){const n=y1(t,e,r);for(const s in t)if(_n(t[s])||_n(e[s])){const a=ql.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=t[s]}return n}const jH={useVisualState:D3({scrapeMotionValuesFromProps:R3,createRenderState:A3})};function TH(t,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...g1(n)?jH:CH,preloadedFeatures:t,useRender:SH(s),createVisualElement:e,Component:n};return iH(o)}}function Bu(t,e,r){const n=t.getProps();return x1(n,e,r!==void 0?r:n.custom,t)}const Fg=t=>Array.isArray(t);function EH(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Mu(r))}function kH(t){return Fg(t)?t[t.length-1]||0:t}function AH(t,e){const r=Bu(t,e);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const o in a){const c=kH(a[o]);EH(t,o,c)}}function PH(t){return!!(_n(t)&&t.add)}function Og(t,e){const r=t.getValue("willChange");if(PH(r))return r.add(e);if(!r&&Ia.WillChange){const n=new Ia.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function F3(t){return t.props[N3]}const DH=t=>t!==null;function RH(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(DH),a=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[a]}const FH={type:"spring",stiffness:500,damping:25,restSpeed:10},OH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),MH={type:"keyframes",duration:.8},LH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IH=(t,{keyframes:e})=>e.length>2?MH:Xl.has(t)?t.startsWith("scale")?OH(e[1]):FH:LH;function BH({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:c,from:d,elapsed:f,...h}){return!!Object.keys(h).length}const v1=(t,e,r,n={},s,a)=>o=>{const c=o1(n,t)||{},d=c.delay||n.delay||0;let{elapsed:f=0}=n;f=f-ua(d);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:s};BH(c)||Object.assign(h,IH(t,h)),h.duration&&(h.duration=ua(h.duration)),h.repeatDelay&&(h.repeatDelay=ua(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),(Ia.instantAnimations||Ia.skipAnimations)&&(p=!0,h.duration=0,h.delay=0),h.allowFlatten=!c.type&&!c.ease,p&&!a&&e.get()!==void 0){const g=RH(h.keyframes,c);if(g!==void 0){wr.update(()=>{h.onUpdate(g),h.onComplete()});return}}return new NV(h)};function UH({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function O3(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(a=n);const d=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const h in c){const p=t.getValue(h,t.latestValues[h]??null),g=c[h];if(g===void 0||f&&UH(f,h))continue;const x={delay:r,...o1(a||{},h)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===w&&!x.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const N=F3(t);if(N){const E=window.MotionHandoffAnimation(N,h,wr);E!==null&&(x.startTime=E,b=!0)}}Og(t,h),p.start(v1(h,p,g,t.shouldReduceMotion&&f3.has(h)?{type:!1}:x,t,b));const v=p.animation;v&&d.push(v)}return o&&Promise.all(d).then(()=>{wr.update(()=>{o&&AH(t,o)})}),d}function Mg(t,e,r={}){var d;const n=Bu(t,e,r.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(O3(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=s;return zH(t,e,h+f,p,g,r)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,h]=c==="beforeChildren"?[a,o]:[o,a];return f().then(()=>h())}else return Promise.all([a(),o(r.delay)])}function zH(t,e,r=0,n=0,s=1,a){const o=[],c=(t.variantChildren.size-1)*n,d=s===1?(f=0)=>f*n:(f=0)=>c-f*n;return Array.from(t.variantChildren).sort(VH).forEach((f,h)=>{f.notify("AnimationStart",e),o.push(Mg(f,e,{...a,delay:r+d(h)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(o)}function VH(t,e){return t.sortNodePosition(e)}function HH(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(a=>Mg(t,a,r));n=Promise.all(s)}else if(typeof e=="string")n=Mg(t,e,r);else{const s=typeof e=="function"?Bu(t,e,r.custom):e;n=Promise.all(O3(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function M3(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const WH=f1.length;function L3(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?L3(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<WH;r++){const n=f1[r],s=t.props[n];(Lu(s)||s===!1)&&(e[n]=s)}return e}const $H=[...d1].reverse(),YH=d1.length;function KH(t){return e=>Promise.all(e.map(({animation:r,options:n})=>HH(t,r,n)))}function GH(t){let e=KH(t),r=t4(),n=!0;const s=d=>(f,h)=>{var g;const p=Bu(t,h,d==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:x,transitionEnd:w,...b}=p;f={...f,...b,...w}}return f};function a(d){e=d(t)}function o(d){const{props:f}=t,h=L3(t.parent)||{},p=[],g=new Set;let x={},w=1/0;for(let v=0;v<YH;v++){const N=$H[v],E=r[N],j=f[N]!==void 0?f[N]:h[N],D=Lu(j),T=N===d?E.isActive:null;T===!1&&(w=v);let M=j===h[N]&&j!==f[N]&&D;if(M&&n&&t.manuallyAnimateOnMount&&(M=!1),E.protectedKeys={...x},!E.isActive&&T===null||!j&&!E.prevProp||d0(j)||typeof j=="boolean")continue;const C=qH(E.prevProp,j);let P=C||N===d&&E.isActive&&!M&&D||v>w&&D,I=!1;const G=Array.isArray(j)?j:[j];let J=G.reduce(s(N),{});T===!1&&(J={});const{prevResolvedValues:H={}}=E,ie={...H,...J},Z=W=>{P=!0,g.has(W)&&(I=!0,g.delete(W)),E.needsAnimating[W]=!0;const Y=t.getValue(W);Y&&(Y.liveStyle=!1)};for(const W in ie){const Y=J[W],oe=H[W];if(x.hasOwnProperty(W))continue;let se=!1;Fg(Y)&&Fg(oe)?se=!M3(Y,oe):se=Y!==oe,se?Y!=null?Z(W):g.add(W):Y!==void 0&&g.has(W)?Z(W):E.protectedKeys[W]=!0}E.prevProp=j,E.prevResolvedValues=J,E.isActive&&(x={...x,...J}),n&&t.blockInitialAnimation&&(P=!1),P&&(!(M&&C)||I)&&p.push(...G.map(W=>({animation:W,options:{type:N}})))}if(g.size){const v={};if(typeof f.initial!="boolean"){const N=Bu(t,Array.isArray(f.initial)?f.initial[0]:f.initial);N&&N.transition&&(v.transition=N.transition)}g.forEach(N=>{const E=t.getBaseTarget(N),j=t.getValue(N);j&&(j.liveStyle=!0),v[N]=E??null}),p.push({animation:v})}let b=!!p.length;return n&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(p):Promise.resolve()}function c(d,f){var p;if(r[d].isActive===f)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(g=>{var x;return(x=g.animationState)==null?void 0:x.setActive(d,f)}),r[d].isActive=f;const h=o(d);for(const g in r)r[g].protectedKeys={};return h}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>r,reset:()=>{r=t4(),n=!0}}}function qH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!M3(e,t):!1}function so(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function t4(){return{animate:so(!0),whileInView:so(),whileHover:so(),whileTap:so(),whileDrag:so(),whileFocus:so(),exit:so()}}class Mi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class XH extends Mi{constructor(e){super(e),e.animationState||(e.animationState=GH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();d0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let JH=0;class QH extends Mi{constructor(){super(...arguments),this.id=JH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ZH={animation:{Feature:XH},exit:{Feature:QH}};function Uu(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function sd(t){return{point:{x:t.pageX,y:t.pageY}}}const eW=t=>e=>u1(e)&&t(e,sd(e));function fu(t,e,r,n){return Uu(t,e,eW(r),n)}function I3({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function tW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rW(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const B3=1e-4,nW=1-B3,sW=1+B3,U3=.01,aW=0-U3,iW=0+U3;function Fn(t){return t.max-t.min}function oW(t,e,r){return Math.abs(t-e)<=r}function r4(t,e,r,n=.5){t.origin=n,t.originPoint=br(e.min,e.max,t.origin),t.scale=Fn(r)/Fn(e),t.translate=br(r.min,r.max,t.origin)-t.originPoint,(t.scale>=nW&&t.scale<=sW||isNaN(t.scale))&&(t.scale=1),(t.translate>=aW&&t.translate<=iW||isNaN(t.translate))&&(t.translate=0)}function hu(t,e,r,n){r4(t.x,e.x,r.x,n?n.originX:void 0),r4(t.y,e.y,r.y,n?n.originY:void 0)}function n4(t,e,r){t.min=r.min+e.min,t.max=t.min+Fn(e)}function lW(t,e,r){n4(t.x,e.x,r.x),n4(t.y,e.y,r.y)}function s4(t,e,r){t.min=e.min-r.min,t.max=t.min+Fn(e)}function mu(t,e,r){s4(t.x,e.x,r.x),s4(t.y,e.y,r.y)}const a4=()=>({translate:0,scale:1,origin:0,originPoint:0}),wl=()=>({x:a4(),y:a4()}),i4=()=>({min:0,max:0}),Tr=()=>({x:i4(),y:i4()});function _s(t){return[t("x"),t("y")]}function Tp(t){return t===void 0||t===1}function Lg({scale:t,scaleX:e,scaleY:r}){return!Tp(t)||!Tp(e)||!Tp(r)}function oo(t){return Lg(t)||z3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function z3(t){return o4(t.x)||o4(t.y)}function o4(t){return t&&t!=="0%"}function Mh(t,e,r){const n=t-r,s=e*n;return r+s}function l4(t,e,r,n,s){return s!==void 0&&(t=Mh(t,s,n)),Mh(t,r,n)+e}function Ig(t,e=0,r=1,n,s){t.min=l4(t.min,e,r,n,s),t.max=l4(t.max,e,r,n,s)}function V3(t,{x:e,y:r}){Ig(t.x,e.translate,e.scale,e.originPoint),Ig(t.y,r.translate,r.scale,r.originPoint)}const c4=.999999999999,u4=1.0000000000001;function cW(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let a,o;for(let c=0;c<s;c++){a=r[c],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&_l(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,V3(t,o)),n&&oo(a.latestValues)&&_l(t,a.latestValues))}e.x<u4&&e.x>c4&&(e.x=1),e.y<u4&&e.y>c4&&(e.y=1)}function Sl(t,e){t.min=t.min+e,t.max=t.max+e}function d4(t,e,r,n,s=.5){const a=br(t.min,t.max,s);Ig(t,e,r,a,n)}function _l(t,e){d4(t.x,e.x,e.scaleX,e.scale,e.originX),d4(t.y,e.y,e.scaleY,e.scale,e.originY)}function H3(t,e){return I3(rW(t.getBoundingClientRect(),e))}function uW(t,e,r){const n=H3(t,r),{scroll:s}=e;return s&&(Sl(n.x,s.offset.x),Sl(n.y,s.offset.y)),n}const W3=({current:t})=>t?t.ownerDocument.defaultView:null,f4=(t,e)=>Math.abs(t-e);function dW(t,e){const r=f4(t.x,e.x),n=f4(t.y,e.y);return Math.sqrt(r**2+n**2)}class $3{constructor(e,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=kp(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=dW(p.offset,{x:0,y:0})>=3;if(!g&&!x)return;const{point:w}=p,{timestamp:b}=sn;this.history.push({...w,timestamp:b});const{onStart:v,onMove:N}=this.handlers;g||(v&&v(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Ep(g,this.transformPagePoint),wr.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=kp(p.type==="pointercancel"?this.lastMoveEventInfo:Ep(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,v),w&&w(p,v)},!u1(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=sd(e),c=Ep(o,this.transformPagePoint),{point:d}=c,{timestamp:f}=sn;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=r;h&&h(e,kp(c,this.history)),this.removeListeners=td(fu(this.contextWindow,"pointermove",this.handlePointerMove),fu(this.contextWindow,"pointerup",this.handlePointerUp),fu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ki(this.updatePoint)}}function Ep(t,e){return e?{point:e(t.point)}:t}function h4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kp({point:t},e){return{point:t,delta:h4(t,Y3(e)),offset:h4(t,fW(e)),velocity:hW(e,.1)}}function fW(t){return t[0]}function Y3(t){return t[t.length-1]}function hW(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=Y3(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>ua(e)));)r--;if(!n)return{x:0,y:0};const a=da(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mW(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?br(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?br(r,t,n.max):Math.min(t,r)),t}function m4(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function pW(t,{top:e,left:r,bottom:n,right:s}){return{x:m4(t.x,r,s),y:m4(t.y,e,n)}}function p4(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function gW(t,e){return{x:p4(t.x,e.x),y:p4(t.y,e.y)}}function xW(t,e){let r=.5;const n=Fn(t),s=Fn(e);return s>n?r=Ru(e.min,e.max-n,t.min):n>s&&(r=Ru(t.min,t.max-s,e.min)),La(0,1,r)}function yW(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Bg=.35;function vW(t=Bg){return t===!1?t=0:t===!0&&(t=Bg),{x:g4(t,"left","right"),y:g4(t,"top","bottom")}}function g4(t,e,r){return{min:x4(t,e),max:x4(t,r)}}function x4(t,e){return typeof t=="number"?t:t[e]||0}const bW=new WeakMap;class wW{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(sd(h).point)},a=(h,p)=>{const{drag:g,dragPropagation:x,onDragStart:w}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=IV(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_s(v=>{let N=this.getAxisMotionValue(v).get()||0;if(fa.test(N)){const{projection:E}=this.visualElement;if(E&&E.layout){const j=E.layout.layoutBox[v];j&&(N=Fn(j)*(parseFloat(N)/100))}}this.originPoint[v]=N}),w&&wr.postRender(()=>w(h,p)),Og(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(h,p)=>{const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:w,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:v}=p;if(x&&this.currentDirection===null){this.currentDirection=SW(v),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,v),this.updateAxis("y",p.point,v),this.visualElement.render(),b&&b(h,p)},c=(h,p)=>this.stop(h,p),d=()=>_s(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new $3(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:W3(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&wr.postRender(()=>a(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!Ff(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=mW(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&bl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=pW(n.layoutBox,e):this.constraints=!1,this.elastic=vW(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&_s(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=yW(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!bl(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=uW(n,s.root,this.visualElement.getTransformPagePoint());let o=gW(s.layout.layoutBox,a);if(r){const c=r(tW(o));this.hasMutatedConstraints=!!c,c&&(o=I3(c))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=_s(h=>{if(!Ff(h,r,this.currentDirection))return;let p=d&&d[h]||{};o&&(p={min:0,max:0});const g=s?200:1e6,x=s?40:1e7,w={type:"inertia",velocity:n?e[h]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(h,w)});return Promise.all(f).then(c)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Og(this.visualElement,e),n.start(v1(e,n,0,r,this.visualElement,!1))}stopAnimation(){_s(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_s(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){_s(r=>{const{drag:n}=this.getProps();if(!Ff(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:c}=s.layout.layoutBox[r];a.set(e[r]-br(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!bl(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};_s(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();s[o]=xW({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),_s(o=>{if(!Ff(o,e,null))return;const c=this.getAxisMotionValue(o),{min:d,max:f}=this.constraints[o];c.set(br(d,f,s[o]))})}addListeners(){if(!this.visualElement.current)return;bW.set(this.visualElement,this);const e=this.visualElement.current,r=fu(e,"pointerdown",d=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();bl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),wr.read(n);const o=Uu(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(_s(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=d[h].translate,p.set(p.get()+d[h].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=Bg,dragMomentum:c=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function Ff(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function SW(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class _W extends Mi{constructor(e){super(e),this.removeGroupControls=Ts,this.removeListeners=Ts,this.controls=new wW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ts}unmount(){this.removeGroupControls(),this.removeListeners()}}const y4=t=>(e,r)=>{t&&wr.postRender(()=>t(e,r))};class NW extends Mi{constructor(){super(...arguments),this.removePointerDownListener=Ts}onPointerDown(e){this.session=new $3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:W3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:y4(e),onStart:y4(r),onMove:n,onEnd:(a,o)=>{delete this.session,s&&wr.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=fu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function v4(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(St.test(t))t=parseFloat(t);else return t;const r=v4(t,e.target.x),n=v4(t,e.target.y);return`${r}% ${n}%`}},CW={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=Ai.parse(t);if(s.length>5)return n;const a=Ai.createTransformer(t),o=typeof s[0]!="number"?1:0,c=r.x.scale*e.x,d=r.y.scale*e.y;s[0+o]/=c,s[1+o]/=d;const f=br(c,d,.5);return typeof s[2+o]=="number"&&(s[2+o]/=f),typeof s[3+o]=="number"&&(s[3+o]/=f),a(s)}};class jW extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=e;uH(TW),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Zf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,s||e.layoutDependency!==r||r===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||wr.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),c1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function K3(t){const[e,r]=QU(),n=A.useContext(PC);return i.jsx(jW,{...t,layoutGroup:n,switchLayoutGroup:A.useContext(C3),isPresent:e,safeToRemove:r})}const TW={borderRadius:{...Bc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bc,borderTopRightRadius:Bc,borderBottomLeftRadius:Bc,borderBottomRightRadius:Bc,boxShadow:CW};function EW(t,e,r){const n=_n(t)?t:Mu(t);return n.start(v1("",n,e,r)),n.animation}function kW(t){return t instanceof SVGElement&&t.tagName!=="svg"}const AW=(t,e)=>t.depth-e.depth;class PW{constructor(){this.children=[],this.isDirty=!1}add(e){$x(this.children,e),this.isDirty=!0}remove(e){Yx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(AW),this.isDirty=!1,this.children.forEach(e)}}function DW(t,e){const r=Yn.now(),n=({timestamp:s})=>{const a=s-r;a>=e&&(ki(n),t(a-e))};return wr.setup(n,!0),()=>ki(n)}const G3=["TopLeft","TopRight","BottomLeft","BottomRight"],RW=G3.length,b4=t=>typeof t=="string"?parseFloat(t):t,w4=t=>typeof t=="number"||St.test(t);function FW(t,e,r,n,s,a){s?(t.opacity=br(0,r.opacity??1,OW(n)),t.opacityExit=br(e.opacity??1,0,MW(n))):a&&(t.opacity=br(e.opacity??1,r.opacity??1,n));for(let o=0;o<RW;o++){const c=`border${G3[o]}Radius`;let d=S4(e,c),f=S4(r,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||w4(d)===w4(f)?(t[c]=Math.max(br(b4(d),b4(f),n),0),(fa.test(f)||fa.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||r.rotate)&&(t.rotate=br(e.rotate||0,r.rotate||0,n))}function S4(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const OW=q3(0,.5,VC),MW=q3(.5,.95,Ts);function q3(t,e,r){return n=>n<t?0:n>e?1:r(Ru(t,e,n))}function _4(t,e){t.min=e.min,t.max=e.max}function ws(t,e){_4(t.x,e.x),_4(t.y,e.y)}function N4(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function C4(t,e,r,n,s){return t-=e,t=Mh(t,1/r,n),s!==void 0&&(t=Mh(t,1/s,n)),t}function LW(t,e=0,r=1,n=.5,s,a=t,o=t){if(fa.test(e)&&(e=parseFloat(e),e=br(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=br(a.min,a.max,n);t===a&&(c-=e),t.min=C4(t.min,e,r,c,s),t.max=C4(t.max,e,r,c,s)}function j4(t,e,[r,n,s],a,o){LW(t,e[r],e[n],e[s],e.scale,a,o)}const IW=["x","scaleX","originX"],BW=["y","scaleY","originY"];function T4(t,e,r,n){j4(t.x,e,IW,r?r.x:void 0,n?n.x:void 0),j4(t.y,e,BW,r?r.y:void 0,n?n.y:void 0)}function E4(t){return t.translate===0&&t.scale===1}function X3(t){return E4(t.x)&&E4(t.y)}function k4(t,e){return t.min===e.min&&t.max===e.max}function UW(t,e){return k4(t.x,e.x)&&k4(t.y,e.y)}function A4(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function J3(t,e){return A4(t.x,e.x)&&A4(t.y,e.y)}function P4(t){return Fn(t.x)/Fn(t.y)}function D4(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class zW{constructor(){this.members=[]}add(e){$x(this.members,e),e.scheduleRender()}remove(e){if(Yx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VW(t,e,r){let n="";const s=t.x.translate/e.x,a=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((s||a||o)&&(n=`translate3d(${s}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:f,rotate:h,rotateX:p,rotateY:g,skewX:x,skewY:w}=r;f&&(n=`perspective(${f}px) ${n}`),h&&(n+=`rotate(${h}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),x&&(n+=`skewX(${x}deg) `),w&&(n+=`skewY(${w}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(n+=`scale(${c}, ${d})`),n||"none"}const Ap=["","X","Y","Z"],HW={visibility:"hidden"},R4=1e3;let WW=0;function Pp(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Q3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=F3(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",wr,!(s||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Q3(n)}function Z3({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},c=e==null?void 0:e()){this.id=WW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KW),this.nodes.forEach(QW),this.nodes.forEach(ZW),this.nodes.forEach(GW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new PW)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qx),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kW(o),this.instance=o;const{layoutId:d,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||d)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=DW(g,250),Zf.hasAnimatedSinceResize&&(Zf.hasAnimatedSinceResize=!1,this.nodes.forEach(O4))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||s$,{onLayoutAnimationStart:v,onLayoutAnimationComplete:N}=h.getProps(),E=!this.targetLayout||!J3(this.targetLayout,w),j=!g&&x;if(this.options.layoutRoot||this.resumeFrom||j||g&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,j);const D={...o1(b,"layout"),onPlay:v,onComplete:N};(h.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else g||O4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(e$),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Q3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F4);return}this.isUpdating||this.nodes.forEach(XW),this.isUpdating=!1,this.nodes.forEach(JW),this.nodes.forEach($W),this.nodes.forEach(YW),this.clearAllSnapshots();const c=Yn.now();sn.delta=La(0,1e3/60,c-sn.timestamp),sn.timestamp=c,sn.isProcessing=!0,Sp.update.process(sn),Sp.preRender.process(sn),Sp.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,c1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qW),this.sharedNodes.forEach(t$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fn(this.snapshot.measuredBox.x)&&!Fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!X3(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;o&&(c||oo(this.latestValues)||h)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),a$(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:o}=this.options;if(!o)return Tr();const c=o.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(i$))){const{scroll:h}=this.root;h&&(Sl(c.x,h.offset.x),Sl(c.y,h.offset.y))}return c}removeElementScroll(o){var d;const c=Tr();if(ws(c,o),(d=this.scroll)!=null&&d.wasRoot)return c;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&ws(c,o),Sl(c.x,p.offset.x),Sl(c.y,p.offset.y))}return c}applyTransform(o,c=!1){const d=Tr();ws(d,o);for(let f=0;f<this.path.length;f++){const h=this.path[f];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&_l(d,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),oo(h.latestValues)&&_l(d,h.latestValues)}return oo(this.latestValues)&&_l(d,this.latestValues),d}removeTransform(o){const c=Tr();ws(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!oo(f.latestValues))continue;Lg(f.latestValues)&&f.updateSnapshot();const h=Tr(),p=f.measurePageBox();ws(h,p),T4(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return oo(this.latestValues)&&T4(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tr(),this.relativeTargetOrigin=Tr(),mu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),ws(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tr(),this.targetWithTransforms=Tr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ws(this.target,this.layout.layoutBox),V3(this.target,this.targetDelta)):ws(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tr(),this.relativeTargetOrigin=Tr(),mu(this.relativeTargetOrigin,this.target,x.target),ws(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Lg(this.parent.latestValues)||z3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;ws(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;cW(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Tr());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(N4(this.prevProjectionDelta.x,this.projectionDelta.x),N4(this.prevProjectionDelta.y,this.projectionDelta.y)),hu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!D4(this.projectionDelta.x,this.prevProjectionDelta.x)||!D4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wl(),this.projectionDelta=wl(),this.projectionDeltaWithTransform=wl()}setAnimationOrigin(o,c=!1){const d=this.snapshot,f=d?d.latestValues:{},h={...this.latestValues},p=wl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Tr(),x=d?d.source:void 0,w=this.layout?this.layout.source:void 0,b=x!==w,v=this.getStack(),N=!v||v.members.length<=1,E=!!(b&&!N&&this.options.crossfade===!0&&!this.path.some(n$));this.animationProgress=0;let j;this.mixTargetDelta=D=>{const T=D/1e3;M4(p.x,o.x,T),M4(p.y,o.y,T),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mu(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),r$(this.relativeTarget,this.relativeTargetOrigin,g,T),j&&UW(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Tr()),ws(j,this.relativeTarget)),b&&(this.animationValues=h,FW(h,f,this.latestValues,T,E,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wr.update(()=>{Zf.hasAnimatedSinceResize=!0,this.currentAnimation=EW(0,R4,{...o,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(R4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:h}=o;if(!(!c||!d||!f)){if(this!==o&&this.layout&&f&&ej(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Tr();const p=Fn(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+p;const g=Fn(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}ws(c,d),_l(c,h),hu(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zW),this.sharedNodes.get(o).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&Pp("z",o,f,this.animationValues);for(let h=0;h<Ap.length;h++)Pp(`rotate${Ap[h]}`,o,f,this.animationValues),Pp(`skew${Ap[h]}`,o,f,this.animationValues);o.render();for(const h in f)o.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return HW;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Qf(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Qf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!oo(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=VW(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?c.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in Iu){if(h[x]===void 0)continue;const{correct:w,applyTo:b,isCSSVariable:v}=Iu[x],N=c.transform==="none"?h[x]:w(h[x],f);if(b){const E=b.length;for(let j=0;j<E;j++)c[b[j]]=N}else v?this.options.visualElement.renderState.vars[x]=N:c[x]=N}return this.options.layoutId&&(c.pointerEvents=f===this?Qf(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(F4),this.root.sharedNodes.clear()}}}function $W(t){t.updateLayout()}function YW(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?_s(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],x=Fn(g);g.min=n[p].min,g.max=g.min+x}):ej(a,e.layoutBox,n)&&_s(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],x=Fn(n[p]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+x)});const c=wl();hu(c,n,e.layoutBox);const d=wl();o?hu(d,t.applyTransform(s,!0),e.measuredBox):hu(d,n,e.layoutBox);const f=!X3(c);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:x}=p;if(g&&x){const w=Tr();mu(w,e.layoutBox,g.layoutBox);const b=Tr();mu(b,n,x.layoutBox),J3(w,b)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=w,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function KW(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function GW(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qW(t){t.clearSnapshot()}function F4(t){t.clearMeasurements()}function XW(t){t.isLayoutDirty=!1}function JW(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function O4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function QW(t){t.resolveTargetDelta()}function ZW(t){t.calcProjection()}function e$(t){t.resetSkewAndRotation()}function t$(t){t.removeLeadSnapshot()}function M4(t,e,r){t.translate=br(e.translate,0,r),t.scale=br(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function L4(t,e,r,n){t.min=br(e.min,r.min,n),t.max=br(e.max,r.max,n)}function r$(t,e,r,n){L4(t.x,e.x,r.x,n),L4(t.y,e.y,r.y,n)}function n$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const s$={duration:.45,ease:[.4,0,.1,1]},I4=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),B4=I4("applewebkit/")&&!I4("chrome/")?Math.round:Ts;function U4(t){t.min=B4(t.min),t.max=B4(t.max)}function a$(t){U4(t.x),U4(t.y)}function ej(t,e,r){return t==="position"||t==="preserve-aspect"&&!oW(P4(e),P4(r),.2)}function i$(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const o$=Z3({attachResizeListener:(t,e)=>Uu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dp={current:void 0},tj=Z3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dp.current){const t=new o$({});t.mount(window),t.setOptions({layoutScroll:!0}),Dp.current=t}return Dp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),l$={pan:{Feature:NW},drag:{Feature:_W,ProjectionNode:tj,MeasureLayout:K3}};function z4(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&wr.postRender(()=>a(e,sd(e)))}class c$ extends Mi{mount(){const{current:e}=this.node;e&&(this.unmount=BV(e,(r,n)=>(z4(this.node,n,"Start"),s=>z4(this.node,s,"End"))))}unmount(){}}class u$ extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=td(Uu(this.node.current,"focus",()=>this.onFocus()),Uu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function V4(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&wr.postRender(()=>a(e,sd(e)))}class d$ extends Mi{mount(){const{current:e}=this.node;e&&(this.unmount=HV(e,(r,n)=>(V4(this.node,n,"Start"),(s,{success:a})=>V4(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ug=new WeakMap,Rp=new WeakMap,f$=t=>{const e=Ug.get(t.target);e&&e(t)},h$=t=>{t.forEach(f$)};function m$({root:t,...e}){const r=t||document;Rp.has(r)||Rp.set(r,{});const n=Rp.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(h$,{root:t,...e})),n[s]}function p$(t,e,r){const n=m$(e);return Ug.set(t,r),n.observe(t),()=>{Ug.delete(t),n.unobserve(t)}}const g$={some:0,all:1};class x$ extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:g$[s]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=f?h:p;g&&g(d)};return p$(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(y$(e,r))&&this.startObserver()}unmount(){}}function y$({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const v$={inView:{Feature:x$},tap:{Feature:d$},focus:{Feature:u$},hover:{Feature:c$}},b$={layout:{ProjectionNode:tj,MeasureLayout:K3}},zg={current:null},rj={current:!1};function w$(){if(rj.current=!0,!!Hx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zg.current=t.matches;t.addListener(e),e()}else zg.current=!1}const S$=new WeakMap;function _$(t,e,r){for(const n in e){const s=e[n],a=r[n];if(_n(s))t.addValue(n,s);else if(_n(a))t.addValue(n,Mu(s,{owner:t}));else if(a!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,Mu(o!==void 0?o:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const H4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class N${scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Yn.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,wr.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=f0(r),this.isVariantNode=_3(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in p){const x=p[g];d[g]!==void 0&&_n(x)&&x.set(d[g],!1)}}mount(e){this.current=e,S$.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),rj.current||w$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),this.projection=void 0,ki(this.notifyUpdate),ki(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Xl.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&wr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ll){const r=Ll[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<H4.length;n++){const s=H4[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=e[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=_$(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Mu(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(RC(n)||FC(n))?n=parseFloat(n):!KV(n)&&Ai.test(r)&&(n=g3(e,r)),this.setBaseTarget(e,_n(n)?n.get():n)),_n(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var a;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=x1(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!_n(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new qx),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class nj extends N${constructor(){super(...arguments),this.KeyframeResolver=MV}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_n(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function sj(t,{style:e,vars:r},n,s){Object.assign(t.style,e,s&&s.getProjectionStyles(n));for(const a in r)t.style.setProperty(a,r[a])}function C$(t){return window.getComputedStyle(t)}class j$ extends nj{constructor(){super(...arguments),this.type="html",this.renderInstance=sj}readValueFromInstance(e,r){if(Xl.has(r))return tV(e,r);{const n=C$(e),s=(Qx(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return H3(e,r)}build(e,r,n){m1(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return y1(e,r,n)}}const aj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function T$(t,e,r,n){sj(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(aj.has(s)?s:h1(s),e.attrs[s])}class E$ extends nj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Xl.has(r)){const n=p3(r);return n&&n.default||0}return r=aj.has(r)?r:h1(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return R3(e,r,n)}build(e,r,n){k3(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,s){T$(e,r,n,s)}mount(e){this.isSVGTag=P3(e.tagName),super.mount(e)}}const k$=(t,e)=>g1(t)?new E$(e):new j$(e,{allowProjection:t!==A.Fragment}),A$=TH({...ZH,...v$,...l$,...b$},k$),fr=QV(A$);function P$(t){return jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"}}]})(t)}function D$(t){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"}}]})(t)}const R$=()=>{const t=Ba(),[e,r]=A.useState(!1),[n,s]=A.useState(!0),[a,o]=A.useState(!1),[c,d]=A.useState(!1),[f,h]=A.useState({email:"",otp:"",newPassword:"",confirmPassword:""}),[p,g]=A.useState(!1),x=dt.useRef([]),w=(H,ie)=>{[...x.current.map(Z=>(Z==null?void 0:Z.value)||"")],H.target.value,H.target.value.length>0&&ie<x.current.length-1&&x.current[ie+1].focus()},b=(H,ie)=>{H.key==="Backspace"&&H.target.value===""&&ie>0&&x.current[ie-1].focus()},v=H=>{H.preventDefault();const Z=H.clipboardData.getData("text").split("");x.current.forEach((O,K)=>{K<Z.length&&O&&(O.value=Z[K])}),x.current[Z.length-1]&&x.current[Z.length-1].focus()},[N,E]=A.useState(!1),[j,D]=A.useState(!1),T=H=>{h({...f,[H.target.name]:H.target.value})},M=async H=>{var ie,Z,O,K;H.preventDefault();try{if(d(!0),!f.email.trim()){r("Email is required"),Oe.error("Email is required"),d(!1);return}const Y=(await mr.sendOTP(f.email)).data;Y.success?(r(!1),E(!0),s(!1),d(!1),o("OTP sent successfully"),Oe.success("OTP sent successfully to your email!")):(console.log("result",Y),Oe.error(Y.message||"Failed to send OTP"),r(Y.message||"Failed to send OTP"),d(!1))}catch(W){d(!1),console.error(W),W.message==="Network Error"?(Oe.error("Network error. Please check your internet connection or contact support."),r("Network error. Please check your internet connection or contact support.")):(Oe.error(((Z=(ie=W.response)==null?void 0:ie.data)==null?void 0:Z.message)||"Failed to send OTP. Please try again later."),r(((K=(O=W.response)==null?void 0:O.data)==null?void 0:K.message)||"Failed to send OTP. Please try again later."))}},C=async H=>{var O,K,W,Y;H.preventDefault();const Z=x.current.map(oe=>(oe==null?void 0:oe.value)||"").join("");if(Z.length!==6){Oe.error("Please enter the complete 6-digit OTP"),r("Please enter the complete 6-digit OTP");return}try{d(!0),console.log("payload.email",f.email),console.log("otp",Z);const se=(await mr.verifyOTP({otp:Z,email:f.email})).data;se.success?(r(!1),D(!0),E(!1),d(!1),o("OTP verified successfully. Enter your new password"),Oe.success("OTP verified successfully!")):(o(!1),Oe.error(se.message||"Invalid OTP"),r(se.message||"Invalid OTP"),d(!1))}catch(oe){d(!1),console.error(oe),oe.message==="Network Error"?(Oe.error("Network error. Please check your internet connection or contact support."),r("Network error. Please check your internet connection or contact support.")):(Oe.error(((K=(O=oe.response)==null?void 0:O.data)==null?void 0:K.message)||"Failed to verify OTP. Please try again later."),r(((Y=(W=oe.response)==null?void 0:W.data)==null?void 0:Y.message)||"Failed to verify OTP. Please try again later."))}},P=async H=>{var ie,Z,O,K;if(o(!1),H.preventDefault(),f.newPassword!==f.confirmPassword){Oe.error("Passwords do not match"),r("Passwords do not match");return}if(f.newPassword.length<8){Oe.error("Password must be at least 8 characters long"),r("Password must be at least 8 characters long");return}try{d(!0),console.log("newPassword sending to backend is ",f.newPassword);const Y=(await mr.resetPassword({email:f.email,newPassword:f.newPassword})).data;Y.success?(r(!1),d(!1),Oe.success("Password changed successfully!"),setTimeout(()=>{t("/login")},2e3)):(Oe.error(Y.message||"Failed to reset password"),r(Y.message||"Failed to reset password"),d(!1))}catch(W){d(!1),console.error(W),W.message==="Network Error"?(Oe.error("Network error. Please check your internet connection or contact support."),r("Network error. Please check your internet connection or contact support.")):(Oe.error(((Z=(ie=W.response)==null?void 0:ie.data)==null?void 0:Z.message)||"Failed to reset password. Please try again later."),r(((K=(O=W.response)==null?void 0:O.data)==null?void 0:K.message)||"Failed to reset password. Please try again later."))}},I={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}},exit:{opacity:0,transition:{duration:.5}}},G={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-20,transition:{duration:.3}}},J={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.5}}};return i.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center relative",style:{backgroundImage:`url(${kw})`},children:[i.jsx(O8,{position:"top-right",autoClose:3e3}),i.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),i.jsx(fr.div,{className:"absolute inset-0 flex justify-center items-center p-4",initial:"hidden",animate:"visible",exit:"exit",variants:I,children:i.jsxs("div",{className:"grid grid-cols-1 md:flex max-w-5xl w-full",children:[i.jsxs(fr.div,{className:"bg-[#152B54] w-full md:w-[40%] p-6 hidden md:flex flex-col justify-center items-center",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:[i.jsx("div",{className:"relative",children:i.jsx("img",{src:kw,alt:"Traincape Technology",className:"w-[130px] h-[130px] mb-8"})}),i.jsxs(fr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:1},className:"text-white text-center",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Password Recovery"}),i.jsx("p",{className:"mb-6",children:"Recover your account access quickly and securely"}),i.jsx("div",{className:"w-16 h-1 bg-white mx-auto"})]})]}),i.jsxs(fr.div,{className:"bg-white bg-opacity-95 p-8 md:p-12 shadow-xl w-full md:w-[60%] rounded-lg",variants:G,initial:"hidden",animate:"visible",exit:"exit",children:[i.jsx(fr.h1,{className:"text-3xl font-semibold text-center text-[#152B54] mb-6",variants:J,children:"Forgot Password"}),e&&i.jsx(fr.div,{className:"mb-4 p-3 bg-red-100 text-red-800 rounded-md",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:e}),a&&i.jsx(fr.div,{className:"mb-4 p-3 bg-green-100 text-green-800 rounded-md",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),i.jsxs("form",{children:[n&&i.jsxs(fr.div,{variants:G,children:[i.jsxs(fr.div,{className:"mb-6",variants:J,children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),i.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:f.email,onChange:T,placeholder:"Enter your email address",className:"w-full px-4 py-3 mt-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] transition-all duration-200"})]}),i.jsx(fr.button,{type:"button",onClick:M,disabled:c,variants:J,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-[#152B54] text-white rounded-lg hover:bg-sky-950 transition duration-200 flex justify-center items-center",children:c?i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin mr-2 h-5 w-5 border-t-2 border-b-2 border-white rounded-full"}),i.jsx("span",{children:"Sending..."})]}):"Send Reset OTP"}),i.jsx(fr.div,{className:"mt-4 text-center",variants:J,children:i.jsx("button",{type:"button",onClick:()=>t("/login"),className:"text-[#152B54] hover:underline",children:"Back to Login"})})]}),N&&i.jsxs(fr.div,{className:"mt-4",variants:G,initial:"hidden",animate:"visible",exit:"exit",children:[i.jsx(fr.h2,{className:"text-xl font-semibold text-center text-[#152B54] mb-4",variants:J,children:"Enter Verification Code"}),i.jsx(fr.p,{className:"text-center text-gray-600 mb-6",variants:J,children:"We've sent a 6-digit code to your email"}),i.jsx(fr.div,{onPaste:v,className:"flex justify-between mb-6",variants:J,children:Array(6).fill(0).map((H,ie)=>i.jsx(fr.input,{type:"text",maxLength:"1",required:!0,onChange:Z=>w(Z,ie),onKeyDown:Z=>b(Z,ie),ref:Z=>x.current[ie]=Z,whileFocus:{scale:1.1},className:"w-12 h-12 text-3xl text-center border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] focus:border-[#152B54] transition-all duration-200"},ie))}),i.jsx(fr.button,{type:"button",onClick:C,disabled:c,variants:J,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 mt-2 bg-[#152B54] text-white rounded-lg hover:bg-sky-950 transition duration-200 flex justify-center items-center",children:c?i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin mr-2 h-5 w-5 border-t-2 border-b-2 border-white rounded-full"}),i.jsx("span",{children:"Verifying..."})]}):"Verify OTP"}),i.jsx(fr.div,{className:"mt-4 text-center",variants:J,children:i.jsx("button",{type:"button",onClick:M,className:"text-[#152B54] hover:underline",children:"Didn't receive code? Resend"})})]}),j&&i.jsxs(fr.div,{className:"mt-4",variants:G,initial:"hidden",animate:"visible",exit:"exit",children:[i.jsx(fr.h2,{className:"text-xl font-semibold text-center text-[#152B54] mb-4",variants:J,children:"Create New Password"}),i.jsx(fr.p,{className:"text-center text-gray-600 mb-6",variants:J,children:"Your new password must be at least 8 characters"}),i.jsxs(fr.div,{className:"mb-5 relative",variants:J,children:[i.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:p?"text":"password",id:"newPassword",name:"newPassword",value:f.newPassword,onChange:T,required:!0,placeholder:"Enter new password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] transition-all duration-200"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700",onClick:()=>g(!p),children:p?i.jsx(D$,{size:18}):i.jsx(P$,{size:18})})]})]}),i.jsxs(fr.div,{className:"mb-6",variants:J,children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),i.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:f.confirmPassword,onChange:T,required:!0,placeholder:"Confirm new password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] transition-all duration-200"})]}),i.jsx(fr.button,{type:"button",onClick:P,disabled:c,variants:J,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-[#152B54] text-white rounded-lg hover:bg-sky-950 transition duration-200 flex justify-center items-center",children:c?i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin mr-2 h-5 w-5 border-t-2 border-b-2 border-white rounded-full"}),i.jsx("span",{children:"Resetting Password..."})]}):"Reset Password"})]})]})]})]})})]})},F$=()=>{const[t,e]=A.useState([]),[r,n]=A.useState([]),[s,a]=A.useState(!0),[o,c]=A.useState(null),[d,f]=A.useState([]),[h,p]=A.useState(null),[g,x]=A.useState({}),[w,b]=A.useState(!1),{user:v}=Yt(),[N,E]=A.useState(new Date().getMonth()+1),[j,D]=A.useState(new Date().getFullYear()),[T,M]=A.useState(!1),[C,P]=A.useState(!0),I=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],G=new Date().getFullYear(),J=Array.from({length:6},(U,z)=>G-z);A.useEffect(()=>{ie(),W();const U=setInterval(()=>{console.log("Auto-refreshing sales data..."),ie(!0)},12e4);return()=>{clearInterval(U)}},[]),A.useEffect(()=>{t.length>0&&H()},[t,N,j,T,C]);const H=()=>{if(C){n(t);return}if(T){const U=new Date().getMonth()+1,z=new Date().getFullYear(),k=t.filter(ce=>{if(!ce.date&&!ce.createdAt)return console.log("Sale has no date:",ce),!1;const ee=new Date(ce.date||ce.createdAt),he=ee.getMonth()+1,ye=ee.getFullYear();return he===U&&ye===z});console.log(`Filtered to current month: ${U}/${z}. Found ${k.length} sales.`),n(k)}else{const U=t.filter(z=>{if(!z.date&&!z.createdAt)return console.log("Sale has no date:",z),!1;const k=new Date(z.date||z.createdAt),ce=k.getMonth()+1,ee=k.getFullYear();return console.log(`Sale date: ${k.toISOString()}, Month: ${ce}, Year: ${ee}, Filter: ${N}/${j}`),ce===N&&ee===j});console.log(`Filtered to ${N}/${j}. Found ${U.length} sales.`),n(U)}},ie=async(U=!1)=>{var z;try{U?b(!0):a(!0),c(null),console.log("Fetching lead sales for user:",v==null?void 0:v.fullName,v==null?void 0:v.role,v==null?void 0:v._id);try{const k=await Kr.getAllForced();if(k.data&&k.data.success){const ce=k.data.data.filter(ee=>ee.leadPerson===v._id||ee.leadPerson&&ee.leadPerson._id===v._id);console.log(`Lead sales data loaded: ${ce.length} sales`),e(ce),U?H():n(ce),ce.length===0?(console.log("No sales found. This could be because:"),console.log("1. No sales have been assigned to this lead person"),console.log("2. Sales were created without selecting this lead person")):console.log("Sample sales data:",ce[0]),U&&Oe.info("Sales data refreshed automatically")}else console.error("Failed to load lead sales data:",k.data),c("Failed to load sales data: "+(((z=k.data)==null?void 0:z.message)||"Unknown error"))}catch(k){console.error("API service call failed:",k),c("Failed to load sales data. Please try again.")}}catch(k){console.error("Error loading sales data:",k),k.response&&(console.error("Error details:",k.response.data),console.error("Error status:",k.response.status)),c("Failed to load sales data. Please try again.")}finally{a(!1),b(!1)}},Z=U=>{E(parseInt(U.target.value)),M(!1),P(!1)},O=U=>{D(parseInt(U.target.value)),M(!1),P(!1)},K=()=>{const U=new Date;E(U.getMonth()+1),D(U.getFullYear()),M(!0),P(!1)},W=async()=>{try{const U=await mr.getUsers("Sales Person");f(U.data.data||[])}catch(U){console.error("Error loading users:",U)}},Y=U=>{p(U._id),x({DATE:U.date||new Date().toISOString(),NAME:U.customerName||"",COUNTRY:U.country||"",COURSE:U.course||"",CODE:U.countryCode||"+1",NUMBER:U.contactNumber||"","E-MAIL":U.email||"","PSUDO ID":U.pseudoId||"","SALE PERSON":U.salesPerson&&(U.salesPerson._id||U.salesPerson)||"","LEAD PERSON":U.leadPerson&&(U.leadPerson._id||U.leadPerson)||v.id||"",SOURSE:U.source||"","CLIENT REMARK":U.clientRemark||"",FEEDBACK:U.feedback||"",TOTAL_COST:U.totalCost||0,TOTAL_COST_CURRENCY:U.totalCostCurrency||"USD",TOKEN_AMOUNT:U.tokenAmount||0,TOKEN_AMOUNT_CURRENCY:U.tokenAmountCurrency||"USD"}),console.log("Edit data populated:",U)},oe=U=>{const{name:z,value:k}=U.target;x(ce=>({...ce,[z]:k}))},se=async()=>{var U;try{console.log("Saving with data:",g);const z={date:g.DATE,customerName:g.NAME,country:g.COUNTRY,course:g.COURSE,countryCode:g.CODE,contactNumber:g.NUMBER,email:g["E-MAIL"],pseudoId:g["PSUDO ID"],salesPerson:g["SALE PERSON"],leadPerson:g["LEAD PERSON"],source:g.SOURSE,clientRemark:g["CLIENT REMARK"],feedback:g.FEEDBACK,totalCost:parseFloat(g.TOTAL_COST)||0,totalCostCurrency:g.TOTAL_COST_CURRENCY,tokenAmount:parseFloat(g.TOKEN_AMOUNT)||0,tokenAmountCurrency:g.TOKEN_AMOUNT_CURRENCY},k=await Kr.update(h,z);k.data&&k.data.success?(console.log("Sale updated successfully:",k.data),console.log("Updated sale data from server:",k.data.data),Oe.success("Sale updated successfully"),e(ee=>ee.map(he=>he._id===h?(console.log("Updating sale in local state:",k.data.data),k.data.data):he)),C||(P(!0),Oe.info("Showing all sales to display your changes. Use filters to narrow down if needed."))):(console.error("Failed to update sale:",k.data),c("Failed to update sale: "+(((U=k.data)==null?void 0:U.message)||"Unknown error"))),p(null),(!k.data||!k.data.success)&&ie()}catch(z){console.error("Error updating sale:",z),c("Failed to update sale. Please try again."),p(null),ie()}},X=()=>{p(null)},F=()=>{const U=`Lead-Sales-Sheet-${new Date().toISOString().split("T")[0]}.xlsx`,z=r.map(ee=>{var he,ye,ke,Ke;return{DATE:new Date(ee.date).toLocaleDateString(),NAME:ee.customerName,COUNTRY:ee.country,COURSE:ee.course,CODE:ee.countryCode||"",NUMBER:ee.contactNumber,"E-MAIL":ee.email||"","PSUDO ID":ee.pseudoId||"","SALE PERSON":((he=ee.salesPerson)==null?void 0:he.fullName)||"","LEAD PERSON":((ye=ee.leadPerson)==null?void 0:ye.fullName)||"",SOURSE:ee.source||"","CLIENT REMARK":ee.clientRemark||"",FEEDBACK:ee.feedback||"","TOTAL COST":`${((ke=ee.totalCost)==null?void 0:ke.toFixed(2))||"0.00"} ${ee.totalCostCurrency||"USD"}`,"TOKEN AMOUNT":`${((Ke=ee.tokenAmount)==null?void 0:Ke.toFixed(2))||"0.00"} ${ee.tokenAmountCurrency||"USD"}`}}),k=up.json_to_sheet(z),ce=up.book_new();up.book_append_sheet(ce,k,"Lead Sales"),P7(ce,U)};return i.jsx(cr,{children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Lead Sales Sheet"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"This page shows sales where you are the Lead Person. Sales created by Sales Persons who select you as the Lead Person will appear here."})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>ie(!1),disabled:w,className:`px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center ${w?"opacity-70 cursor-not-allowed":""}`,children:w?i.jsxs(i.Fragment,{children:[i.jsx(v2,{className:"mr-2 animate-spin"})," Refreshing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(v2,{className:"mr-2"})," Refresh"]})}),i.jsxs("button",{onClick:F,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 flex items-center",children:[i.jsx(zS,{className:"mr-2"})," Export"]})]})]}),i.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[i.jsx(Jg,{className:"mr-2 text-blue-500"})," Filter Sales by Date"]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-600 mb-1",children:"Month"}),i.jsx("select",{id:"month",value:N,onChange:Z,className:"border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:T,children:I.map(U=>i.jsx("option",{value:U.value,children:U.label},U.value))})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-600 mb-1",children:"Year"}),i.jsx("select",{id:"year",value:j,onChange:O,className:"border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:T,children:J.map(U=>i.jsx("option",{value:U,children:U},U))})]}),i.jsxs("div",{className:"flex items-center ml-4",children:[i.jsx("input",{id:"currentMonth",type:"checkbox",checked:T,onChange:()=>{M(!T),T||P(!1)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"currentMonth",className:"ml-2 block text-sm text-gray-700",children:"Show Current Month Only"})]}),i.jsxs("div",{className:"flex items-center ml-4",children:[i.jsx("input",{id:"showAllSales",type:"checkbox",checked:C,onChange:()=>{P(!C),C||M(!1)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"showAllSales",className:"ml-2 block text-sm text-gray-700 font-semibold text-blue-600",children:"Show All Sales (No Date Filter)"})]}),i.jsxs("button",{onClick:K,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-md ml-auto transition duration-300 flex items-center",children:[i.jsx(BS,{className:"mr-2"})," Reset to Current Month"]})]}),i.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[C?i.jsxs("p",{children:["Showing all sales regardless of date: ",t.length," total records"]}):T?i.jsxs("p",{children:["Showing sales for current month: ",I[new Date().getMonth()].label," ",new Date().getFullYear()]}):i.jsxs("p",{children:["Showing sales for: ",I[N-1].label," ",j]}),i.jsxs("p",{children:["Total: ",r.length," records"]})]})]}),o&&i.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:i.jsx("p",{children:o})}),s?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-100",children:[i.jsx("th",{className:"border px-4 py-2",children:"DATE"}),i.jsx("th",{className:"border px-4 py-2",children:"NAME"}),i.jsx("th",{className:"border px-4 py-2",children:"COURSE"}),i.jsx("th",{className:"border px-4 py-2",children:"NUMBER"}),i.jsx("th",{className:"border px-4 py-2",children:"EMAIL"}),i.jsx("th",{className:"border px-4 py-2",children:"COUNTRY"}),i.jsx("th",{className:"border px-4 py-2",children:"SALES PERSON"}),i.jsx("th",{className:"border px-4 py-2",children:"TOTAL COST"}),i.jsx("th",{className:"border px-4 py-2",children:"TOKEN AMOUNT"}),i.jsx("th",{className:"border px-4 py-2",children:"LEAD PERSON"}),i.jsx("th",{className:"border px-4 py-2",children:"ACTIONS"})]})}),i.jsx("tbody",{children:r.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"11",className:"border px-4 py-2 text-center",children:i.jsxs("div",{className:"py-6",children:[i.jsx("p",{className:"text-gray-600 mb-2",children:"No sales data found for you as a Lead Person."}),i.jsxs("p",{className:"text-sm text-gray-500",children:["When Sales Persons create sales and select you as the Lead Person, they will appear here.",i.jsx("br",{}),"Ask Sales Persons to make sure they select your name in the Lead Person dropdown when creating sales."]})]})})}):r.map(U=>{var z,k,ce;return i.jsx("tr",{className:"hover:bg-gray-50",children:h===U._id?i.jsxs(i.Fragment,{children:[i.jsx("td",{className:"border px-4 py-2",children:i.jsx("input",{type:"date",name:"DATE",value:g.DATE?new Date(g.DATE).toISOString().split("T")[0]:"",onChange:oe,className:"w-full p-1 border"})}),i.jsx("td",{className:"border px-4 py-2",children:i.jsx("input",{type:"text",name:"NAME",value:g.NAME,onChange:oe,className:"w-full p-1 border"})}),i.jsx("td",{className:"border px-4 py-2",children:i.jsx("input",{type:"text",name:"COURSE",value:g.COURSE,onChange:oe,className:"w-full p-1 border"})}),i.jsx("td",{className:"border px-4 py-2",children:i.jsx("input",{type:"text",name:"NUMBER",value:g.NUMBER,onChange:oe,className:"w-full p-1 border"})}),i.jsx("td",{className:"border px-4 py-2",children:i.jsx("input",{type:"text",name:"E-MAIL",value:g["E-MAIL"],onChange:oe,className:"w-full p-1 border"})}),i.jsx("td",{className:"border px-4 py-2",children:i.jsx("input",{type:"text",name:"COUNTRY",value:g.COUNTRY,onChange:oe,className:"w-full p-1 border"})}),i.jsx("td",{className:"border px-4 py-2",children:i.jsxs("select",{name:"SALE PERSON",value:g["SALE PERSON"],onChange:oe,className:"w-full p-1 border",children:[i.jsx("option",{value:"",children:"Select"}),d.map(ee=>i.jsx("option",{value:ee._id,children:ee.fullName},ee._id))]})}),i.jsx("td",{className:"border px-4 py-2",children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("input",{type:"number",name:"TOTAL_COST",value:g.TOTAL_COST,onChange:oe,className:"w-2/3 p-1 border"}),i.jsxs("select",{name:"TOTAL_COST_CURRENCY",value:g.TOTAL_COST_CURRENCY,onChange:oe,className:"w-1/3 p-1 border text-xs",children:[i.jsx("option",{value:"USD",children:"USD"}),i.jsx("option",{value:"EUR",children:"EUR"}),i.jsx("option",{value:"GBP",children:"GBP"}),i.jsx("option",{value:"CAD",children:"CAD"}),i.jsx("option",{value:"AUD",children:"AUD"}),i.jsx("option",{value:"INR",children:"INR"}),i.jsx("option",{value:"JPY",children:"JPY"}),i.jsx("option",{value:"CNY",children:"CNY"})]})]})}),i.jsx("td",{className:"border px-4 py-2",children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("input",{type:"number",name:"TOKEN_AMOUNT",value:g.TOKEN_AMOUNT,onChange:oe,className:"w-2/3 p-1 border"}),i.jsxs("select",{name:"TOKEN_AMOUNT_CURRENCY",value:g.TOKEN_AMOUNT_CURRENCY,onChange:oe,className:"w-1/3 p-1 border text-xs",children:[i.jsx("option",{value:"USD",children:"USD"}),i.jsx("option",{value:"EUR",children:"EUR"}),i.jsx("option",{value:"GBP",children:"GBP"}),i.jsx("option",{value:"CAD",children:"CAD"}),i.jsx("option",{value:"AUD",children:"AUD"}),i.jsx("option",{value:"INR",children:"INR"}),i.jsx("option",{value:"JPY",children:"JPY"}),i.jsx("option",{value:"CNY",children:"CNY"})]})]})}),i.jsx("td",{className:"border px-4 py-2",children:(z=U.leadPerson)==null?void 0:z.fullName}),i.jsx("td",{className:"border px-4 py-2",children:i.jsxs("div",{className:"flex justify-center space-x-1",children:[i.jsx("button",{onClick:se,className:"p-1 bg-green-500 text-white rounded text-sm hover:bg-green-600",children:i.jsx(VS,{})}),i.jsx("button",{onClick:X,className:"p-1 bg-red-500 text-white rounded text-sm hover:bg-red-600",children:i.jsx(e6,{})})]})})]}):i.jsxs(i.Fragment,{children:[i.jsx("td",{className:"border px-4 py-2",children:new Date(U.date).toLocaleDateString()}),i.jsx("td",{className:"border px-4 py-2",children:U.customerName}),i.jsx("td",{className:"border px-4 py-2",children:U.course}),i.jsx("td",{className:"border px-4 py-2",children:U.countryCode&&U.contactNumber?`${U.countryCode} ${U.contactNumber}`:U.contactNumber||"N/A"}),i.jsx("td",{className:"border px-4 py-2",children:U.email||"N/A"}),i.jsx("td",{className:"border px-4 py-2",children:U.country||"N/A"}),i.jsx("td",{className:"border px-4 py-2",children:((k=U.salesPerson)==null?void 0:k.fullName)||(typeof U.salesPerson=="string"?U.salesPerson:"N/A")}),i.jsxs("td",{className:"border px-4 py-2",children:[U.totalCost!==void 0?U.totalCost.toFixed(2):"0.00"," ",U.totalCostCurrency||"USD"]}),i.jsxs("td",{className:"border px-4 py-2",children:[U.tokenAmount!==void 0?U.tokenAmount.toFixed(2):"0.00"," ",U.tokenAmountCurrency||"USD"]}),i.jsx("td",{className:"border px-4 py-2",children:((ce=U.leadPerson)==null?void 0:ce.fullName)||(typeof U.leadPerson=="string"?U.leadPerson:"N/A")}),i.jsx("td",{className:"border px-4 py-2 flex justify-center",children:i.jsx("button",{onClick:()=>Y(U),className:"px-2 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600",children:i.jsx(Wu,{})})})]})},U._id)})})]})})]})})},O$=()=>{const[t,e]=A.useState([]),[r,n]=A.useState(!0),[s,a]=A.useState(null),[o,c]=A.useState([]),[d,f]=A.useState(!1),[h,p]=A.useState(null),[g,x]=A.useState({DATE:new Date().toISOString().split("T")[0],NAME:"",COUNTRY:"",COURSE:"",CODE:"",NUMBER:"","E-MAIL":"","PSUDO ID":"","SALE PERSON":"","LEAD PERSON":"",SOURSE:"","CLIENT REMARK":"",FEEDBACK:"","TOTAL COST":0,"TOTAL COST CURRENCY":"USD","TOKEN AMOUNT":0,"TOKEN AMOUNT CURRENCY":"USD"}),{user:w,loadUser:b}=Yt();console.log("User object in LeadSalesUpdatePage initial load:",w),console.log("User ID formats:",w?{id:w.id,_id:w._id,userId:w.userId}:"No user data"),A.useEffect(()=>{w?(console.log("User data available:",w),console.log("User ID variations:",{id:w.id,_id:w._id,userId:w.userId})):(console.log("No user data found, attempting to reload user data"),b())},[]),A.useEffect(()=>{console.log("User information on load:",w),w&&(v(),N())},[w]),A.useEffect(()=>{if(w){const C=w.id||w._id||w.userId;console.log("Setting lead person ID to:",C),C&&x(P=>({...P,"LEAD PERSON":C}))}},[w]);const v=async()=>{try{n(!0),a(null);const C=await Kr.getLeadSheet();e(C.data.data)}catch(C){console.error("Error loading sales data:",C),a("Failed to load sales data. Please try again."),yr.error("Failed to load sales data")}finally{n(!1)}},N=async()=>{try{const C=await mr.getUsers("Sales Person");c(C.data.data||[])}catch(C){console.error("Error loading users:",C),yr.error("Failed to load sales persons")}},E=C=>{const{name:P,value:I}=C.target;x(G=>({...G,[P]:I}))},j=async C=>{var P,I,G,J;C.preventDefault(),n(!0),a(null);try{if(!w)throw console.error("No user object available"),new Error("User information not available. Please log in again.");console.log("Full user object:",w);const H=w.id||w._id||w.userId;if(!H)throw console.error("No user ID found in any format:",w),new Error("User ID not available. Please log in again.");console.log("Using user ID:",H);const ie={date:g.DATE,customerName:g.NAME,country:g.COUNTRY,course:g.COURSE,countryCode:g.CODE,contactNumber:g.NUMBER,email:g["E-MAIL"],pseudoId:g["PSUDO ID"],salesPerson:g["SALE PERSON"],totalCost:parseFloat(g["TOTAL COST"]),totalCostCurrency:g["TOTAL COST CURRENCY"],tokenAmount:parseFloat(g["TOKEN AMOUNT"]),tokenAmountCurrency:g["TOKEN AMOUNT CURRENCY"],leadPerson:H,source:g.SOURSE,clientRemark:g["CLIENT REMARK"],feedback:g.FEEDBACK,isLeadPersonSale:!0};console.log("Sending sale data:",ie);let Z;h?(Z=await Jm.update(h,ie),yr.success("Sale updated successfully")):(Z=await Jm.create(ie),yr.success("Sale created successfully")),Z.data.success&&(x({DATE:new Date().toISOString().split("T")[0],NAME:"",COUNTRY:"",COURSE:"",CODE:"",NUMBER:"","E-MAIL":"","PSUDO ID":"","SALE PERSON":"","LEAD PERSON":H,SOURSE:"","CLIENT REMARK":"",FEEDBACK:"","TOTAL COST":0,"TOTAL COST CURRENCY":"USD","TOKEN AMOUNT":0,"TOKEN AMOUNT CURRENCY":"USD"}),f(!1),p(null),v())}catch(H){console.error("Error with sale:",H),a(((I=(P=H.response)==null?void 0:P.data)==null?void 0:I.message)||"Failed to process sale. Please try again."),yr.error(((J=(G=H.response)==null?void 0:G.data)==null?void 0:J.message)||"Failed to process sale")}finally{n(!1)}},D=async C=>{if(window.confirm("Are you sure you want to delete this sale?"))try{n(!0),await Jm.delete(C),yr.success("Sale deleted successfully"),v()}catch(P){console.error("Error deleting sale:",P),yr.error("Failed to delete sale")}finally{n(!1)}},T=C=>{var P,I;p(C._id),x({DATE:new Date(C.date).toISOString().split("T")[0],NAME:C.customerName||"",COUNTRY:C.country||"",COURSE:C.course||"",CODE:C.countryCode||"",NUMBER:C.contactNumber||"","E-MAIL":C.email||"","PSUDO ID":C.pseudoId||"","SALE PERSON":((P=C.salesPerson)==null?void 0:P._id)||C.salesPerson||"","LEAD PERSON":((I=C.leadPerson)==null?void 0:I._id)||C.leadPerson||"",SOURSE:C.source||"","CLIENT REMARK":C.clientRemark||"",FEEDBACK:C.feedback||"","TOTAL COST":C.totalCost||0,"TOTAL COST CURRENCY":C.totalCostCurrency||"USD","TOKEN AMOUNT":C.tokenAmount||0,"TOKEN AMOUNT CURRENCY":C.tokenAmountCurrency||"USD"}),f(!0),window.scrollTo({top:0,behavior:"smooth"})},M=()=>{p(null),x({DATE:new Date().toISOString().split("T")[0],NAME:"",COUNTRY:"",COURSE:"",CODE:"",NUMBER:"","E-MAIL":"","PSUDO ID":"","SALE PERSON":"","LEAD PERSON":(w==null?void 0:w.id)||(w==null?void 0:w._id)||(w==null?void 0:w.userId)||"",SOURSE:"","CLIENT REMARK":"",FEEDBACK:"","TOTAL COST":0,"TOTAL COST CURRENCY":"USD","TOKEN AMOUNT":0,"TOKEN AMOUNT CURRENCY":"USD"}),f(!1)};return i.jsx(cr,{children:i.jsxs("div",{className:"container mx-auto p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Lead Sales Management"}),i.jsx("button",{onClick:()=>{p(null),f(!d)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:d?"Cancel":i.jsxs(i.Fragment,{children:[i.jsx(Qg,{className:"mr-2"})," Add New Sale"]})})]}),s&&i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:s}),d&&i.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:h?"Edit Sale":"Add New Sale"}),i.jsxs("form",{onSubmit:j,children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),i.jsx("input",{type:"date",name:"DATE",value:g.DATE,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name"}),i.jsx("input",{type:"text",name:"NAME",value:g.NAME,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),i.jsx("input",{type:"text",name:"COUNTRY",value:g.COUNTRY,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),i.jsx("input",{type:"text",name:"COURSE",value:g.COURSE,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country Code"}),i.jsx("input",{type:"text",name:"CODE",value:g.CODE,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),i.jsx("input",{type:"text",name:"NUMBER",value:g.NUMBER,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{type:"email",name:"E-MAIL",value:g["E-MAIL"],onChange:E,className:"w-full p-2 border border-gray-300 rounded-md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pseudo ID"}),i.jsx("input",{type:"text",name:"PSUDO ID",value:g["PSUDO ID"],onChange:E,className:"w-full p-2 border border-gray-300 rounded-md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sales Person"}),i.jsxs("select",{name:"SALE PERSON",value:g["SALE PERSON"],onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",children:[i.jsx("option",{value:"",children:"Select Sales Person"}),o.map(C=>i.jsx("option",{value:C._id,children:C.fullName},C._id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),i.jsx("input",{type:"text",name:"SOURSE",value:g.SOURSE,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Cost"}),i.jsxs("div",{className:"flex",children:[i.jsx("input",{type:"number",name:"TOTAL COST",value:g["TOTAL COST"],onChange:E,className:"w-2/3 p-2 border border-gray-300 rounded-l-md",required:!0}),i.jsxs("select",{name:"TOTAL COST CURRENCY",value:g["TOTAL COST CURRENCY"],onChange:E,className:"w-1/3 p-2 border border-gray-300 rounded-r-md",children:[i.jsx("option",{value:"USD",children:"USD"}),i.jsx("option",{value:"EUR",children:"EUR"}),i.jsx("option",{value:"GBP",children:"GBP"}),i.jsx("option",{value:"INR",children:"INR"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Token Amount"}),i.jsxs("div",{className:"flex",children:[i.jsx("input",{type:"number",name:"TOKEN AMOUNT",value:g["TOKEN AMOUNT"],onChange:E,className:"w-2/3 p-2 border border-gray-300 rounded-l-md",required:!0}),i.jsxs("select",{name:"TOKEN AMOUNT CURRENCY",value:g["TOKEN AMOUNT CURRENCY"],onChange:E,className:"w-1/3 p-2 border border-gray-300 rounded-r-md",children:[i.jsx("option",{value:"USD",children:"USD"}),i.jsx("option",{value:"EUR",children:"EUR"}),i.jsx("option",{value:"GBP",children:"GBP"}),i.jsx("option",{value:"INR",children:"INR"})]})]})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Remark"}),i.jsx("textarea",{name:"CLIENT REMARK",value:g["CLIENT REMARK"],onChange:E,rows:"2",className:"w-full p-2 border border-gray-300 rounded-md"})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feedback"}),i.jsx("textarea",{name:"FEEDBACK",value:g.FEEDBACK,onChange:E,rows:"2",className:"w-full p-2 border border-gray-300 rounded-md"})]}),i.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[i.jsx("button",{type:"button",onClick:M,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:r?"Processing...":h?"Update Sale":"Add Sale"})]})]})]}),i.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[i.jsx("h2",{className:"text-xl font-semibold p-4 bg-gray-50",children:"Sales List"}),r&&!d?i.jsx("div",{className:"flex justify-center items-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):t.length===0?i.jsx("div",{className:"p-6 text-center text-gray-500",children:"No sales found. Add your first sale above."}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Person"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Token"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(C=>{var P;return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(C.date).toLocaleDateString()}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[i.jsx("div",{children:C.customerName}),i.jsx("div",{className:"text-xs text-gray-500",children:C.country})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.course}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((P=C.salesPerson)==null?void 0:P.fullName)||"N/A"}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[C.totalCost," ",C.totalCostCurrency]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[C.tokenAmount," ",C.tokenAmountCurrency]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${C.saleType==="Lead Person Sale"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:C.saleType||(C.isLeadPersonSale?"Lead Person Sale":"Sales Person Sale")})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>T(C),className:"text-indigo-600 hover:text-indigo-900",children:i.jsx(Wu,{className:"h-5 w-5"})}),(!C.saleType||C.saleType==="Lead Person Sale"||C.isLeadPersonSale)&&i.jsx("button",{onClick:()=>D(C._id),className:"text-red-600 hover:text-red-900",children:i.jsx(Zg,{className:"h-5 w-5"})})]})})]},C._id)})})]})})]})]})})},M$=()=>{const{user:t}=Yt(),[e,r]=A.useState("getting-started"),n={"getting-started":{title:"Getting Started with TrainCape CRM",icon:"",content:[{heading:"Welcome to TrainCape CRM",description:"This tutorial will help you understand the basics of the CRM system and how to get started.",steps:["Log in using your provided credentials","Navigate the dashboard to understand available features","Update your profile information","Explore the main navigation menu for your role-specific features"],image:"dashboard.png",tip:"Your role determines which features you can access. The system has four roles: Admin, Manager, Lead Person, and Sales Person."},{heading:"Understanding Your Dashboard",description:"Your dashboard provides quick access to important information based on your role.",steps:["View recent activities and updates","Access quick shortcuts to common tasks","Check pending tasks and notifications","Use the quick stats cards to monitor performance"],tip:"Customize your experience by updating your profile settings."},{heading:"Setting Up Your Profile",description:"Personalize your account and add a profile picture.",steps:["Navigate to your profile by clicking your name in the top navigation","Upload a profile picture by clicking the camera icon","Use the crop tool to adjust and position your image","Click Apply Crop to confirm your selection","Save your profile changes"],tip:"The new image cropping tool allows you to perfectly position your profile picture before uploading."}]},"lead-management":{title:"Lead Management",icon:"",content:[{heading:"Creating New Leads",description:"Learn how to add new potential customers to the system.",steps:["Navigate to the Leads section from the main menu","Click the 'Add New Lead' button in the top right corner","Fill in all required fields (marked with *)","For optional fields like email, include information when available","Click 'Save Lead' to create the new entry"],tip:"Always include as much information as possible, but email is now optional to accommodate clients who prefer phone contact."},{heading:"Managing Existing Leads",description:"How to update, filter, and organize your lead database.",steps:["Use the search bar to quickly find leads by name, email, or phone","Click on any lead to view detailed information","Use the edit button to update lead information","Add feedback notes to track communication history"],tip:"Regular updates to lead information ensures everyone has the most current data."},{heading:"Month-wise Lead Filtering",description:"The new filtering system allows you to view leads by specific months and years for better organization.",steps:["Navigate to the Leads page to see the filtering controls","Use the Month dropdown to select any month (January through December)","Use the Year dropdown to select the desired year","Click 'Show Current Month' to quickly view leads from the current month","Click 'March 2025 (Imported Leads)' to view previously imported lead data","The system shows a count of leads for each selected time period","Lead assignments are preserved when filtering - assigned leads stay with their sales persons"],tip:"When importing new leads each month, they will be automatically organized by their creation date. This makes it easy to track monthly lead generation and assign new leads to sales persons without affecting previous assignments."},{heading:"Assigning Leads to Sales Persons",description:"Proper lead assignment ensures timely follow-up.",steps:["From the lead details page, click 'Edit'","Use the 'SALE PERSON' dropdown to select the appropriate sales person","Save the changes to notify the sales person of the new assignment"],tip:"Consider workload balance when assigning leads to ensure timely follow-up."},{heading:"Importing Leads from CSV",description:"Bulk import leads from CSV files with automatic Lead Person and Sales Person assignment.",steps:["Navigate to the Admin Import page (Admin/Manager access required)","Select the 'Import Leads' tab","Prepare your CSV file with columns: Name, Email, Phone, Country, Course, Date","Optional columns: Lead Person, Sales Person (for automatic assignment)","For dates, use either YYYY-MM-DD (e.g., 2025-04-15) or DD-MM-YYYY (e.g., 15-04-2025) format","Upload your CSV file and click 'Import Leads'","Review the import summary for successful and failed records"],tip:"Include 'Lead Person' and 'Sales Person' columns in your CSV to automatically assign leads during import. The system will match names and assign leads to the correct people, regardless of who performs the import."}]},"sales-tracking":{title:"Sales Tracking & Management",icon:"",content:[{heading:"Converting Leads to Sales",description:"Learn the process of turning qualified leads into sales records.",steps:["Navigate to your assigned leads list","Update the lead status to 'Qualified' when appropriate","Click 'Convert to Sale' to begin the sales process","Fill in the required sales information including course details and pricing","Select the appropriate currency for the transaction"],tip:"The system now supports multiple currencies for both Total Cost and Token Amount fields."},{heading:"Creating Reference Sales",description:"Reference sales allow you to track customers who came through referrals rather than the standard lead process.",steps:["From the Sales page, toggle the 'Reference Sale' switch","Select a Lead Person who referred this customer (optional)","Fill in all customer information as this will not be pulled from an existing lead","Complete all required sales information","Submit the form to create the reference sale"],tip:"Reference sales customers will be available in all customer selection dropdowns throughout the system, including exam scheduling."},{heading:"Lead Person Sales Management",description:"Lead persons can now track their own sales separately from the main sales pipeline.",steps:["As a Lead Person, navigate to the Lead Sales Update page","Click 'Add New Sale' to create a new lead person sale","Fill in all required customer and sales information","Select a Sales Person to associate with this sale","Submit the sale to save it to the lead person sales database"],tip:"Lead Person sales are stored in a separate database and are only visible to Lead Persons, Managers, and Admins - not to regular Sales Persons."},{heading:"Managing Your Sales",description:"Sales Persons can now fully edit and update their own sales records.",steps:["Navigate to the Sales Tracking page to see all your assigned sales","Click the edit icon on any sale you created","Update any field as needed - you now have full editing privileges for your own sales","Save your changes to update the record"],tip:"While you can edit all aspects of your own sales, you'll still need an Admin or Manager to delete records if necessary."},{heading:"Using the Sales Sheet",description:"The Lead Sales Sheet provides a comprehensive view of all sales data.",steps:["Access the Lead Sales Sheet from the navigation menu","Use filters to narrow down sales by date range, sales person, or other criteria","Click on column headers to sort the data","Export data to Excel for reporting purposes","Use inline editing for quick updates"],tip:"The sales sheet now includes email information and improved contact details for better customer tracking."},{heading:"Managing Payments & Tracking",description:"Track payments and outstanding balances effectively.",steps:["Record token (initial) payments when received","Update payment status as transactions are completed","Monitor pending payments through the Sales Tracking page","Set follow-up tasks for payment collection"],tip:"Keep the payment currency consistent with the original sale for accurate accounting."}]},"task-management":{title:"Task & Exam Management",icon:"",content:[{heading:"Scheduling Exams",description:"Use the Task Management system to schedule and track exams for your customers.",steps:["Navigate to the Task Management page","Click 'Schedule New Exam' button","Enter the exam title and description","Select a customer from the dropdown (includes both leads and reference customers)","Set the exam date and time","Save to create the scheduled exam"],tip:"The customer dropdown now includes both regular leads and reference sales customers, giving you a complete list of all possible candidates."},{heading:"Managing Scheduled Exams",description:"Track and update exam status as they progress.",steps:["View all scheduled exams on the Task Management page","Use color-coding to quickly identify exam status (pending, completed, overdue)","Click 'Mark Complete' when an exam has been conducted","Edit or reschedule exams as needed using the edit icon","Delete exams that are no longer needed"],tip:"Keep the exam list up to date to ensure nothing falls through the cracks."},{heading:"Exam Follow-up Process",description:"Proper follow-up after exams increases conversion rates.",steps:["After marking an exam as completed, update the related lead or sale with results","Schedule any necessary follow-up tasks","Document exam outcomes in the lead feedback or sales notes","Update the lead status based on exam performance"],tip:"Regular communication after exams builds trust and increases the likelihood of enrollment."},{heading:"Exam Reminder Notifications & Sound Alerts",description:"The system includes automatic exam reminder notifications with sound alerts to ensure you never miss an exam.",steps:["When you schedule an exam, the system automatically sets up reminder notifications","10 minutes before the exam time, you'll receive multiple notifications:"," Browser notification (if permissions are granted)"," Toast notification with exam details"," Sound alert with triple beep pattern"," Modal popup with exam information and direct link","Click the ' Test Sound' button on the Task Management page to test the notification sound","Make sure to interact with the page (click anywhere) first to enable sound in your browser"],tip:"Browser sound policies require user interaction before playing audio. The first time you visit the page, click anywhere to enable sound notifications. The sound will play three beeps: 800Hz, 1000Hz, then 800Hz again for maximum attention."}]},"admin-features":{title:"Admin & Management Tools",icon:"",content:[{heading:"User Management",description:"Admin users can manage system access and roles.",steps:["Navigate to Admin > Manage Users","Create new user accounts with appropriate role assignments","Edit existing user information or reset passwords","Deactivate accounts when necessary"],tip:"Review user activity logs periodically to ensure proper system usage."},{heading:"Data Import & Export",description:"Efficiently move data in and out of the CRM.",steps:["Go to Admin > Import Data","Use the template provided for data formatting","Upload your CSV file with lead or sales information","Review and confirm the data mapping","Process the import and check for any errors"],tip:"Always make a backup export before performing large imports or system changes."},{heading:"Permission Management",description:"Configure role-based permissions for different user types.",steps:["Access the Admin Dashboard","Review current permission settings for each role","Adjust permissions as needed for your organization's workflows","Test permission changes with test accounts before rolling out"],tip:"The system now allows Sales Persons to fully edit their own sales while maintaining appropriate restrictions on other users' data."},{heading:"System Configuration",description:"Customize the CRM to fit your organization's needs.",steps:["Access the Admin Dashboard","Configure notification preferences","Set up automated processes for lead assignment","Customize sales stages and lead statuses"],tip:"Document any configuration changes for future reference."}]},"best-practices":{title:"CRM Best Practices",icon:"",content:[{heading:"Data Quality Management",description:"Maintaining high-quality data is essential for CRM success.",steps:["Regularly update lead and customer information","Remove duplicate records when identified","Use consistent naming conventions","Verify contact information periodically"],tip:"Schedule regular data cleaning sessions to maintain database quality."},{heading:"Managing Reference Customers",description:"Reference customers require special attention for ongoing relationship management.",steps:["Properly tag all reference customers when creating sales","Document the source of the reference in notes","Thank referrers for their recommendations","Provide special attention to reference customers to encourage additional referrals","Track conversion rates from references versus other lead sources"],tip:"Reference customers often have higher conversion rates and retention, so track them separately in your analytics."},{heading:"Effective Follow-up Strategies",description:"Consistent follow-up improves conversion rates.",steps:["Document all customer interactions in the CRM","Set follow-up tasks with clear deadlines","Use templates for common follow-up communications","Analyze response patterns to optimize timing"],tip:"The 'CLIENT REMARK' and 'FEEDBACK' fields are ideal for tracking communication history."},{heading:"Reporting & Analytics",description:"Leverage data insights for better decision-making.",steps:["Use the built-in reporting tools to track performance","Export data for detailed analysis when needed","Track conversion rates from lead to sale","Monitor sales team performance metrics","Compare performance between regular leads and reference customers"],tip:"Regular reporting helps identify trends and opportunities for improvement."}]}},s=()=>{const a=n[e];return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("span",{className:"text-3xl mr-3",children:a.icon}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:a.title})]}),i.jsx("div",{className:"space-y-8",children:a.content.map((o,c)=>i.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-0",children:[i.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:o.heading}),i.jsx("p",{className:"text-gray-700 mb-4",children:o.description}),o.steps&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Steps:"}),i.jsx("ol",{className:"list-decimal list-inside space-y-1 text-gray-700",children:o.steps.map((d,f)=>i.jsx("li",{className:"ml-2",children:d},f))})]}),o.image&&i.jsxs("div",{className:"my-4 border border-gray-200 rounded-md p-2 bg-gray-50 text-center",children:[i.jsxs("div",{className:"bg-gray-200 h-40 flex items-center justify-center text-gray-500",children:["[Image: ",o.image,"]"]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Screenshot reference"})]}),o.tip&&i.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mt-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),i.jsx("p",{className:"ml-3 text-sm text-blue-700",children:o.tip})]})})]},c))})]})};return i.jsx(cr,{children:i.jsx("div",{className:"bg-gray-50 min-h-screen py-8",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"CRM Tutorials"}),i.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Learn how to use TrainCape CRM effectively with these step-by-step tutorials. Select a category below to get started."})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsxs("div",{className:"md:w-1/4",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[i.jsx("h3",{className:"font-bold text-lg mb-4 text-gray-800",children:"Tutorial Topics"}),i.jsx("nav",{children:i.jsx("ul",{className:"space-y-2",children:Object.keys(n).map(a=>i.jsx("li",{children:i.jsxs("button",{onClick:()=>r(a),className:`w-full text-left px-3 py-2 rounded-md transition-colors ${e===a?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[i.jsx("span",{className:"mr-2",children:n[a].icon}),n[a].title]})},a))})}),i.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4",children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Your Role"}),i.jsx("p",{className:"text-sm text-gray-600",children:t?i.jsxs(i.Fragment,{children:["You are logged in as: ",i.jsx("span",{className:"font-medium",children:t.role}),i.jsx("br",{}),"Tutorials are tailored to features available to your role."]}):i.jsx(i.Fragment,{children:"You are not logged in. Some advanced features may require authentication."})})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white p-5 rounded-lg shadow-md mt-4",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Need Help?"}),i.jsx("p",{className:"text-sm mb-3",children:"Can't find what you're looking for? Contact our support team for assistance."}),i.jsx(wt,{to:"/support",className:"inline-block bg-white text-purple-700 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-100 transition",children:"Contact Support"})]})]}),i.jsxs("div",{className:"md:w-3/4",children:[s(),i.jsxs("div",{className:"mt-6 flex justify-between",children:[i.jsxs("button",{onClick:()=>{const a=Object.keys(n),o=a.indexOf(e);o>0&&r(a[o-1])},disabled:Object.keys(n).indexOf(e)===0,className:`px-4 py-2 flex items-center rounded-md ${Object.keys(n).indexOf(e)===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-50 text-blue-700 hover:bg-blue-100"}`,children:[i.jsx("svg",{className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Topic"]}),i.jsxs("button",{onClick:()=>{const a=Object.keys(n),o=a.indexOf(e);o<a.length-1&&r(a[o+1])},disabled:Object.keys(n).indexOf(e)===Object.keys(n).length-1,className:`px-4 py-2 flex items-center rounded-md ${Object.keys(n).indexOf(e)===Object.keys(n).length-1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-50 text-blue-700 hover:bg-blue-100"}`,children:["Next Topic",i.jsx("svg",{className:"h-5 w-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}),i.jsxs("div",{className:"mt-12",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Additional Resources"}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border-t-4 border-blue-500",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Video Tutorials"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Watch step-by-step demonstrations of key CRM features."}),i.jsxs("a",{href:"#",className:"text-blue-600 hover:text-blue-800 font-medium inline-flex items-center",children:["Watch now",i.jsx("svg",{className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),i.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border-t-4 border-green-500",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"FAQ Database"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Find answers to commonly asked questions about the CRM."}),i.jsxs("a",{href:"#",className:"text-green-600 hover:text-green-800 font-medium inline-flex items-center",children:["View FAQs",i.jsx("svg",{className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),i.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border-t-4 border-purple-500",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Feature Updates"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Stay informed about the latest CRM features and enhancements."}),i.jsxs("a",{href:"#",className:"text-purple-600 hover:text-purple-800 font-medium inline-flex items-center",children:["Read changelog",i.jsx("svg",{className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})]})]})})})},ij=6048e5,L$=864e5,W4=Symbol.for("constructDateFrom");function Pi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&W4 in t?t[W4](e):t instanceof Date?new t.constructor(e):new Date(e)}function Xs(t,e){return Pi(e||t,t)}let I$={};function h0(){return I$}function zu(t,e){var c,d,f,h;const r=h0(),n=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,s=Xs(t,e==null?void 0:e.in),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Lh(t,e){return zu(t,{...e,weekStartsOn:1})}function oj(t,e){const r=Xs(t,e==null?void 0:e.in),n=r.getFullYear(),s=Pi(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=Lh(s),o=Pi(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const c=Lh(o);return r.getTime()>=a.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function $4(t){const e=Xs(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function B$(t,...e){const r=Pi.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Y4(t,e){const r=Xs(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function U$(t,e,r){const[n,s]=B$(r==null?void 0:r.in,t,e),a=Y4(n),o=Y4(s),c=+a-$4(a),d=+o-$4(o);return Math.round((c-d)/L$)}function z$(t,e){const r=oj(t,e),n=Pi(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Lh(n)}function V$(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function H$(t){return!(!V$(t)&&typeof t!="number"||isNaN(+Xs(t)))}function W$(t,e){const r=Xs(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const $$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Y$=(t,e,r)=>{let n;const s=$$[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Fp(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const K$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},G$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},q$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},X$={date:Fp({formats:K$,defaultWidth:"full"}),time:Fp({formats:G$,defaultWidth:"full"}),dateTime:Fp({formats:q$,defaultWidth:"full"})},J$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Q$=(t,e,r,n)=>J$[t];function Uc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=r!=null&&r.width?String(r.width):o;s=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[c]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}const Z$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aY=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},iY={ordinalNumber:aY,era:Uc({values:Z$,defaultWidth:"wide"}),quarter:Uc({values:eY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Uc({values:tY,defaultWidth:"wide"}),day:Uc({values:rY,defaultWidth:"wide"}),dayPeriod:Uc({values:nY,defaultWidth:"wide",formattingValues:sY,defaultFormattingWidth:"wide"})};function zc(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const o=a[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?lY(c,p=>p.test(o)):oY(c,p=>p.test(o));let f;f=t.valueCallback?t.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const h=e.slice(o.length);return{value:f,rest:h}}}function oY(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function lY(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function cY(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const c=e.slice(s.length);return{value:o,rest:c}}}const uY=/^(\d+)(th|st|nd|rd)?/i,dY=/\d+/i,fY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hY={any:[/^b/i,/^(a|c)/i]},mY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pY={any:[/1/i,/2/i,/3/i,/4/i]},gY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SY={ordinalNumber:cY({matchPattern:uY,parsePattern:dY,valueCallback:t=>parseInt(t,10)}),era:zc({matchPatterns:fY,defaultMatchWidth:"wide",parsePatterns:hY,defaultParseWidth:"any"}),quarter:zc({matchPatterns:mY,defaultMatchWidth:"wide",parsePatterns:pY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:zc({matchPatterns:gY,defaultMatchWidth:"wide",parsePatterns:xY,defaultParseWidth:"any"}),day:zc({matchPatterns:yY,defaultMatchWidth:"wide",parsePatterns:vY,defaultParseWidth:"any"}),dayPeriod:zc({matchPatterns:bY,defaultMatchWidth:"any",parsePatterns:wY,defaultParseWidth:"any"})},_Y={code:"en-US",formatDistance:Y$,formatLong:X$,formatRelative:Q$,localize:iY,match:SY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function NY(t,e){const r=Xs(t,e==null?void 0:e.in);return U$(r,W$(r))+1}function CY(t,e){const r=Xs(t,e==null?void 0:e.in),n=+Lh(r)-+z$(r);return Math.round(n/ij)+1}function lj(t,e){var h,p,g,x;const r=Xs(t,e==null?void 0:e.in),n=r.getFullYear(),s=h0(),a=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(g=s.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=Pi((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const c=zu(o,e),d=Pi((e==null?void 0:e.in)||t,0);d.setFullYear(n,0,a),d.setHours(0,0,0,0);const f=zu(d,e);return+r>=+c?n+1:+r>=+f?n:n-1}function jY(t,e){var c,d,f,h;const r=h0(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=lj(t,e),a=Pi((e==null?void 0:e.in)||t,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),zu(a,e)}function TY(t,e){const r=Xs(t,e==null?void 0:e.in),n=+zu(r,e)-+jY(r,e);return Math.round(n/ij)+1}function Xt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const li={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Xt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Xt(r+1,2)},d(t,e){return Xt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Xt(t.getHours()%12||12,e.length)},H(t,e){return Xt(t.getHours(),e.length)},m(t,e){return Xt(t.getMinutes(),e.length)},s(t,e){return Xt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Xt(s,e.length)}},pl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},K4={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return li.y(t,e)},Y:function(t,e,r,n){const s=lj(t,n),a=s>0?s:1-s;if(e==="YY"){const o=a%100;return Xt(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):Xt(a,e.length)},R:function(t,e){const r=oj(t);return Xt(r,e.length)},u:function(t,e){const r=t.getFullYear();return Xt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Xt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Xt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return li.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Xt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=TY(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Xt(s,e.length)},I:function(t,e,r){const n=CY(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Xt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):li.d(t,e)},D:function(t,e,r){const n=NY(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Xt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Xt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Xt(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Xt(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=pl.noon:n===0?s=pl.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=pl.evening:n>=12?s=pl.afternoon:n>=4?s=pl.morning:s=pl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return li.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):li.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Xt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Xt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):li.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):li.s(t,e)},S:function(t,e){return li.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return q4(n);case"XXXX":case"XX":return lo(n);case"XXXXX":case"XXX":default:return lo(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return q4(n);case"xxxx":case"xx":return lo(n);case"xxxxx":case"xxx":default:return lo(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+G4(n,":");case"OOOO":default:return"GMT"+lo(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+G4(n,":");case"zzzz":default:return"GMT"+lo(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Xt(n,e.length)},T:function(t,e,r){return Xt(+t,e.length)}};function G4(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+e+Xt(a,2)}function q4(t,e){return t%60===0?(t>0?"-":"+")+Xt(Math.abs(t)/60,2):lo(t,e)}function lo(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Xt(Math.trunc(n/60),2),a=Xt(n%60,2);return r+s+e+a}const X4=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},cj=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},EY=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return X4(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",X4(n,e)).replace("{{time}}",cj(s,e))},kY={p:cj,P:EY},AY=/^D+$/,PY=/^Y+$/,DY=["D","DD","YY","YYYY"];function RY(t){return AY.test(t)}function FY(t){return PY.test(t)}function OY(t,e,r){const n=MY(t,e,r);if(console.warn(n),DY.includes(t))throw new RangeError(n)}function MY(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const LY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,IY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BY=/^'([^]*?)'?$/,UY=/''/g,zY=/[a-zA-Z]/;function Op(t,e,r){var h,p,g,x;const n=h0(),s=n.locale??_Y,a=n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=n.weekStartsOn??((x=(g=n.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??0,c=Xs(t,r==null?void 0:r.in);if(!H$(c))throw new RangeError("Invalid time value");let d=e.match(IY).map(w=>{const b=w[0];if(b==="p"||b==="P"){const v=kY[b];return v(w,s.formatLong)}return w}).join("").match(LY).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:VY(w)};if(K4[b])return{isToken:!0,value:w};if(b.match(zY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(d=s.localize.preprocessor(c,d));const f={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return d.map(w=>{if(!w.isToken)return w.value;const b=w.value;(FY(b)||RY(b))&&OY(b,e,String(t));const v=K4[b[0]];return v(c,b,s.localize,f)}).join("")}function VY(t){const e=t.match(BY);return e?e[1].replace(UY,"'"):t}class HY{constructor(){this.socket=null,this.isConnected=!1,this.userId=null,this.audioContext=null,this.notificationSound=null,this.initializeAudio()}initializeAudio(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.createNotificationSound()}catch(e){console.warn("Audio context not supported:",e)}}createNotificationSound(){if(!this.audioContext)return;const e=(r=800,n=200)=>{const s=this.audioContext.createOscillator(),a=this.audioContext.createGain();s.connect(a),a.connect(this.audioContext.destination),s.frequency.value=r,s.type="sine",a.gain.setValueAtTime(.3,this.audioContext.currentTime),a.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+n/1e3),s.start(this.audioContext.currentTime),s.stop(this.audioContext.currentTime+n/1e3)};this.notificationSound=e}playNotificationSound(){try{this.audioContext&&this.notificationSound?(this.audioContext.state==="suspended"&&this.audioContext.resume(),this.notificationSound(800,300),setTimeout(()=>this.notificationSound(1e3,300),400),setTimeout(()=>this.notificationSound(800,300),800)):console.log("\x07")}catch(e){console.error("Error playing notification sound:",e)}}connect(e){if(this.isConnected&&this.userId===e)return;this.userId=e;const r="https://crm-backend-o36v.onrender.com";console.log("Connecting to notification server:",r),this.socket=Cl(r,{transports:["websocket","polling"],timeout:2e4,forceNew:!0}),this.socket.on("connect",()=>{console.log(" Connected to notification server"),this.isConnected=!0,this.socket.emit("join-user-room",e),lt.success(" Notifications enabled")}),this.socket.on("disconnect",()=>{console.log(" Disconnected from notification server"),this.isConnected=!1}),this.socket.on("connect_error",n=>{console.error("Connection error:",n),lt.error("Failed to connect to notification server")}),this.socket.on("exam-reminder",n=>{this.handleExamReminder(n)}),this.socket.on("notification",n=>{this.handleGeneralNotification(n)})}handleExamReminder(e){console.log(" Exam reminder received:",e),e.sound&&this.playNotificationSound(),this.showBrowserNotification(e);const r=`
       ${e.title}
      
      ${e.message}
      
      Course: ${e.examDetails.course}
      Time: ${e.examDetails.time}
    `;lt(r,{duration:3e4,position:"top-center",style:{background:"#fee2e2",border:"2px solid #dc2626",borderRadius:"8px",padding:"16px",maxWidth:"400px",fontSize:"14px",lineHeight:"1.4"},icon:""}),this.showExamModal(e)}handleGeneralNotification(e){console.log(" General notification received:",e),lt(e.message,{icon:e.icon||"",duration:5e3,position:"top-right"})}showBrowserNotification(e){if("Notification"in window&&Notification.permission==="granted"){const r=new Notification(e.title,{body:e.message,icon:"/favicon.ico",badge:"/favicon.ico",tag:"exam-reminder",requireInteraction:!0,silent:!1});r.onclick=()=>{window.focus(),r.close(),e.examDetails.examLink&&e.examDetails.examLink!=="#"&&window.open(e.examDetails.examLink,"_blank")},setTimeout(()=>{r.close()},1e4)}}showExamModal(e){const r=e.examDetails,n=` EXAM ALERT 

Your ${r.course} exam starts in 10 minutes!

Time: ${r.time}
Location: ${r.location}`;setTimeout(()=>{window.confirm(n+`

Click OK to start exam or Cancel to dismiss.`)&&r.examLink&&r.examLink!=="#"&&window.open(r.examLink,"_blank")},1e3)}async requestNotificationPermission(){return"Notification"in window?await Notification.requestPermission()==="granted"?(lt.success(" Browser notifications enabled"),!0):(lt.error(" Browser notifications denied"),!1):!1}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.userId=null,console.log("Disconnected from notification server"))}getStatus(){return{isConnected:this.isConnected,userId:this.userId}}}const So=new HY,Of=()=>localStorage.getItem("token"),WY=()=>{const{user:t}=Yt(),[e,r]=A.useState(localStorage.getItem("token")),[n,s]=A.useState([]),[a,o]=A.useState([]),[c,d]=A.useState(!0),[f,h]=A.useState(!1),[p,g]=A.useState(!1),[x,w]=A.useState(null),[b,v]=A.useState(!1),[N,E]=A.useState("");A.useEffect(()=>{const O=Of();r(O),O||Oe.error("No authentication token found. Please try logging out and back in.")},[]);const[j,D]=A.useState({title:"",description:"",taskType:"Exam",customer:"",examDate:"",examTime:"",manualCustomerName:"",manualCustomerEmail:"",manualCustomerPhone:"",manualCustomerCourse:""}),T=async()=>{try{if(d(!0),!Of()){Oe.error("Authentication token missing. Please log in again."),d(!1);return}const K=await Pc.getAll();if(K.data&&K.data.data){console.log("Tasks loaded:",K.data.data);const W=K.data.data.map(Y=>{if(!Y.customer||typeof Y.customer=="string"){console.log("Task has unpopulated customer:",Y);const oe=a.find(se=>se._id===Y.customer);oe&&(Y.customer=oe)}return Y});s(W)}else s([]),console.log("No tasks found in response")}catch(O){console.error("Error fetching tasks:",O),O.response&&O.response.status===401?Oe.error("Authentication failed. Please log in again."):Oe.error("Failed to fetch tasks: "+(O.message||"Unknown error")),s([])}finally{d(!1)}},M=async()=>{var O,K,W;h(!0);try{if(!Of()){Oe.error("Authentication token missing. Please log in again."),h(!1);return}const oe=await Nn.getAll();let se=[];if((O=oe.data)!=null&&O.data&&Array.isArray(oe.data.data)?se=oe.data.data:(K=oe.data)!=null&&K.leads&&Array.isArray(oe.data.leads)?se=oe.data.leads:Array.isArray(oe.data)&&(se=oe.data),se.length>0){o(se);const X=se.filter(U=>!U.isReferenceSale).length,F=se.filter(U=>U.isReferenceSale).length;X===0&&F===0&&Oe.info("No customer data available")}}catch(Y){Y.response?Y.response.status===401?Oe.error("Authentication failed. Your session may have expired."):Oe.error("Could not fetch customer data: "+(((W=Y.response.data)==null?void 0:W.message)||"Server error")):Y.request?Oe.error("No response from server. Check your connection."):Oe.error("Error: "+Y.message)}finally{h(!1)}};A.useEffect(()=>{e&&(T(),M())},[e]);const C=O=>{const{name:K,value:W}=O.target;D(Y=>({...Y,[K]:W}))},P=async O=>{var K,W;O.preventDefault();try{if(b){if(!j.manualCustomerName){Oe.error("Please enter customer name");return}if(!j.manualCustomerPhone){Oe.error("Please enter customer phone number");return}if(!j.manualCustomerCourse){Oe.error("Please enter course/exam name");return}}else if(!j.customer){Oe.error("Please select a customer");return}const Y=new Date(`${j.examDate}T${j.examTime}`);let oe={title:j.title,description:j.description,taskType:j.taskType,examDate:Y,examDateTime:Y,assignedTo:t._id,salesPerson:t._id,course:b?j.manualCustomerCourse:j.customer?"Selected Customer Course":"General Course"};b?oe.manualCustomer={name:j.manualCustomerName,email:j.manualCustomerEmail,contactNumber:j.manualCustomerPhone,course:j.manualCustomerCourse}:oe.customer=j.customer;let se;x?se=await Pc.update(x._id,oe):se=await Pc.create(oe),se.data.success?(Oe.success(x?"Task updated successfully":"Task created successfully"),Z(),T()):Oe.error(se.data.message||"Error saving task")}catch(Y){Y.response?Y.response.status===401?Oe.error("Authentication failed. Please log out and log back in."):Oe.error(((W=(K=Y.response)==null?void 0:K.data)==null?void 0:W.message)||"Failed to save task"):Oe.error("Network error - could not connect to server")}},I=O=>{var X;console.log("Editing task:",O);const K=Op(new Date(O.examDate),"yyyy-MM-dd"),W=Op(new Date(O.examDate),"HH:mm"),Y=((X=O.customer)==null?void 0:X.isManualEntry)||!O.customer&&O.manualCustomer;let oe="";!Y&&O.customer&&(typeof O.customer=="string"?oe=O.customer:O.customer._id&&O.customer._id!=="manual"&&(oe=O.customer._id)),v(Y);const se=Y?O.manualCustomer||O.customer:null;D({title:O.title,description:O.description,taskType:O.taskType||"Exam",customer:oe,examDate:K,examTime:W,manualCustomerName:(se==null?void 0:se.name)||"",manualCustomerEmail:(se==null?void 0:se.email)||"",manualCustomerPhone:(se==null?void 0:se.contactNumber)||"",manualCustomerCourse:(se==null?void 0:se.course)||""}),w(O),g(!0),!Y&&!oe&&Oe.warning("Customer data may be incomplete. Please select a customer again.")},G=async O=>{var K;if(window.confirm("Are you sure you want to delete this task?"))try{const W=await Pc.delete(O);W.data&&W.data.success?(Oe.success("Task deleted successfully"),T()):Oe.error(((K=W.data)==null?void 0:K.message)||"Failed to delete task")}catch(W){W.response&&W.response.status===401?Oe.error("Authentication failed. Please log in again."):Oe.error("Failed to delete task")}},J=async(O,K)=>{var W;try{const Y=await Pc.markCompleted(O,K);Y.data&&Y.data.success?(Oe.success("Task status updated"),T()):Oe.error(((W=Y.data)==null?void 0:W.message)||"Failed to update task status")}catch(Y){Y.response&&Y.response.status===401?Oe.error("Authentication failed. Please log in again."):Oe.error("Failed to update task status")}},H=O=>{const K=new Date(O);return Op(K,"MMM dd, yyyy 'at' h:mm a")},ie=O=>{if(!O)return"No Name";if(console.log("Getting name for lead:",O),typeof O=="string")return`Customer (ID: ${O.substring(0,6)}...)`;if(!Object.keys(O).length)return"Unknown Customer";let K="";const W=["name","NAME","customerName","fullName"];for(const oe of W)if(O[oe]&&typeof O[oe]=="string"&&O[oe].trim()!==""){K=O[oe];break}if(!K){const oe=Object.keys(O).filter(se=>se.toLowerCase().includes("name")&&O[se]&&typeof O[se]=="string"&&O[se].trim()!=="");oe.length>0&&(K=O[oe[0]])}if((!K||K==="Unnamed Customer")&&(O.course||O.COURSE?K=`Student for ${O.course||O.COURSE}`:O._id?K=`Customer ${O._id.substring(0,6)}...`:K="Unnamed Customer"),O.isReferenceSale)return`${K} [Reference]`;const Y=O.course||O.COURSE;return Y&&!K.includes(Y)?`${K} (${Y})`:K},Z=()=>{D({title:"",description:"",taskType:"Exam",customer:"",examDate:"",examTime:"",manualCustomerName:"",manualCustomerEmail:"",manualCustomerPhone:"",manualCustomerCourse:""}),w(null),v(!1),E("")};return i.jsx(cr,{children:i.jsx("div",{className:"bg-gray-50 min-h-screen py-4 md:py-8",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-3",children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Task Management"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{console.log(" Testing notification sound..."),So.playNotificationSound(),Oe.success(" Test sound played! (You need to interact with the page first for sound to work)")},className:"w-full sm:w-auto px-3 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 text-sm sm:text-base flex items-center gap-2",title:"Test the exam reminder sound",children:" Test Sound"}),i.jsx("button",{onClick:()=>{Z(),g(!0)},className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm sm:text-base",children:"Schedule New Exam"})]})]}),!Of()&&i.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 border border-red-200 rounded-md text-sm",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Authentication Error"}),i.jsx("p",{className:"text-sm",children:"No authentication token found. Please log out and log back in to refresh your session."}),i.jsx("button",{onClick:()=>window.location.href="/login",className:"mt-2 px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Go to Login"})]})]})}),c?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading tasks..."})]}):n.length===0?i.jsxs("div",{className:"bg-white p-4 sm:p-8 rounded-md shadow text-center",children:[i.jsx("p",{className:"text-gray-600",children:"No tasks scheduled yet."}),i.jsx("p",{className:"mt-2 text-sm text-gray-500",children:'Click "Schedule New Exam" to create your first task.'})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:n.map(O=>i.jsxs("div",{className:`bg-white rounded-lg shadow p-4 border-l-4 ${O.completed?"border-green-500":new Date(O.examDate)<new Date?"border-red-500":"border-blue-500"}`,children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("h3",{className:"font-bold text-base sm:text-lg mb-2",children:O.title}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>I(O),className:"p-1 text-blue-600 hover:text-blue-800",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),i.jsx("button",{onClick:()=>G(O._id),className:"p-1 text-red-600 hover:text-red-800",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:O.description}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:ie(O.customer)})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:H(O.examDate)})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-4 pt-3 border-t border-gray-100 gap-2",children:[i.jsx("span",{className:`text-xs px-2 py-1 rounded mb-2 sm:mb-0 ${O.completed?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:O.completed?"Completed":"Pending"}),i.jsx("button",{onClick:()=>J(O._id,!O.completed),className:`text-xs w-full sm:w-auto px-3 py-1 rounded-full ${O.completed?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:O.completed?"Mark Incomplete":"Mark Complete"})]})]},O._id))}),p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md my-8",children:[i.jsx("div",{className:"p-4 sm:p-5 border-b border-gray-200",children:i.jsx("h3",{className:"font-bold text-base sm:text-lg",children:x?"Edit Task":"Schedule New Exam"})}),i.jsxs("form",{onSubmit:P,className:"p-4 sm:p-5",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-700 text-xs sm:text-sm font-medium mb-2",children:"Title"}),i.jsx("input",{type:"text",name:"title",value:j.title,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Exam Title",required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-700 text-xs sm:text-sm font-medium mb-2",children:"Description"}),i.jsx("textarea",{name:"description",value:j.description,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Exam details",rows:"3"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("label",{className:"block text-gray-700 text-xs sm:text-sm font-medium",children:"Customer"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-xs text-gray-600 mr-2",children:"Manual Entry"}),i.jsx("button",{type:"button",onClick:()=>v(!b),className:`relative inline-flex h-5 w-10 items-center rounded-full transition-colors focus:outline-none ${b?"bg-blue-600":"bg-gray-200"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${b?"translate-x-5":"translate-x-1"}`})})]})]}),b?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{children:i.jsx("input",{type:"text",name:"manualCustomerName",value:j.manualCustomerName,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Customer Name *",required:!0})}),i.jsx("div",{children:i.jsx("input",{type:"email",name:"manualCustomerEmail",value:j.manualCustomerEmail,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Email Address"})}),i.jsx("div",{children:i.jsx("input",{type:"tel",name:"manualCustomerPhone",value:j.manualCustomerPhone,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Phone Number *",required:!0})}),i.jsx("div",{children:i.jsx("input",{type:"text",name:"manualCustomerCourse",value:j.manualCustomerCourse,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Course/Exam Name *",required:!0})})]}):i.jsxs("div",{children:[i.jsx("div",{className:"mb-2",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search leads by name, email, or course...",value:N,onChange:O=>E(O.target.value),className:"w-full px-3 py-2 pl-9 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"}),i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),i.jsxs("select",{name:"customer",value:j.customer,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0,children:[i.jsx("option",{value:"",children:"Select Customer"}),(()=>{const O=a.filter(Y=>{if(!N)return!0;const oe=N.toLowerCase(),se=(Y.name||Y.NAME||"").toLowerCase(),X=(Y.email||Y.EMAIL||Y["E-MAIL"]||"").toLowerCase(),F=(Y.course||Y.COURSE||"").toLowerCase(),U=(Y.contactNumber||Y.phone||Y.MOBILE||Y.NUMBER||"").toLowerCase();return se.includes(oe)||X.includes(oe)||F.includes(oe)||U.includes(oe)}),K=O.filter(Y=>!Y.isReferenceSale),W=O.filter(Y=>Y.isReferenceSale);return i.jsxs(i.Fragment,{children:[K.length>0&&i.jsx("optgroup",{label:`Leads (${K.length})`,children:K.map(Y=>i.jsxs("option",{value:Y._id,children:[Y.name||Y.NAME||"Unknown"," - ",Y.course||Y.COURSE||"No course",Y.status?` (${Y.status})`:""]},Y._id))}),W.length>0&&i.jsx("optgroup",{label:`Reference Customers (${W.length})`,children:W.map(Y=>i.jsxs("option",{value:Y._id,children:[Y.name||"Unknown"," - ",Y.course||"No course",Y.status?` (${Y.status})`:""," [Reference]"]},Y._id))}),O.length===0&&i.jsx("option",{disabled:!0,value:"",children:"No leads match your search"})]})})()]}),f?i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Loading customers..."}):i.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[a.filter(O=>!O.isReferenceSale).length," leads +",a.filter(O=>O.isReferenceSale).length," reference customers available",N&&i.jsx("button",{type:"button",onClick:()=>E(""),className:"ml-2 text-blue-600 hover:text-blue-800",children:"Clear search"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-xs sm:text-sm font-medium mb-2",children:"Exam Date"}),i.jsx("input",{type:"date",name:"examDate",value:j.examDate,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-xs sm:text-sm font-medium mb-2",children:"Exam Time"}),i.jsx("input",{type:"time",name:"examTime",value:j.examTime,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end sm:space-x-3 mt-6 space-y-2 sm:space-y-0",children:[i.jsx("button",{type:"button",onClick:()=>g(!1),className:"w-full sm:w-auto px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 text-sm order-2 sm:order-1",children:"Cancel"}),i.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm order-1 sm:order-2",children:x?"Update Task":"Create Task"})]})]})]})})]})})})},$Y=()=>{const{user:t}=Yt(),[e,r]=A.useState([]),[n,s]=A.useState({totalRepeatCustomers:0,totalLeads:0,averageCoursesPerCustomer:0}),[a,o]=A.useState(!0),[c,d]=A.useState(null),[f,h]=A.useState(null);A.useEffect(()=>{p()},[]);const p=async()=>{try{o(!0);const w=await Nn.getRepeatCustomers();w.data.success?(r(w.data.data),s(w.data.stats),d(null)):d("Failed to load repeat customer data")}catch(w){console.error("Error fetching repeat customers:",w),d("Failed to load repeat customer data. Please try again.")}finally{o(!1)}},g=w=>new Date(w).toLocaleDateString(),x=w=>{h(f===w?null:w)};return i.jsx(cr,{children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Repeat Customers"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Repeat Customers"}),i.jsx("p",{className:"text-3xl font-bold text-blue-600",children:n.totalRepeatCustomers})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Courses Purchased"}),i.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.totalLeads})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg. Courses per Customer"}),i.jsx("p",{className:"text-3xl font-bold text-purple-600",children:n.averageCoursesPerCustomer})]})]}),c&&i.jsx("div",{className:"mb-4 p-4 bg-red-50 text-red-700 border border-red-200 rounded-md",children:c}),a?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i.jsx(i.Fragment,{children:e.length===0?i.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:i.jsx("p",{className:"text-gray-500",children:"No repeat customers found."})}):i.jsx("div",{className:"space-y-4",children:e.map((w,b)=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center cursor-pointer hover:bg-gray-100",onClick:()=>x(b),children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium",children:w.customerInfo.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:[w.customerInfo.email&&i.jsx("span",{className:"mr-3",children:w.customerInfo.email}),w.customerInfo.phone&&i.jsxs("span",{children:[w.customerInfo.countryCode," ",w.customerInfo.phone]})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800 mr-3",children:[w.leads.length," courses"]}),i.jsx("svg",{className:`h-5 w-5 text-gray-500 transform ${f===b?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),f===b&&i.jsxs("div",{className:"p-4",children:[i.jsx("h4",{className:"text-md font-medium mb-2",children:"Course History"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Person"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.leads.map((v,N)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.course}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g(v.createdAt)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.salesPerson})]},N))})]})})]})]},b))})})]})})};function YY({children:t,className:e=""}){return i.jsx("div",{className:`bg-white border border-gray-200 rounded-xl shadow-sm ${e}`,children:t})}function KY({children:t,className:e=""}){return i.jsx("div",{className:`p-4 ${e}`,children:t})}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),J4=t=>{const e=qY(t);return e.charAt(0).toUpperCase()+e.slice(1)},uj=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),XY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...c},d)=>A.createElement("svg",{ref:d,...JY,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:uj("lucide",s),...!a&&!XY(c)&&{"aria-hidden":"true"},...c},[...o.map(([f,h])=>A.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=(t,e)=>{const r=A.forwardRef(({className:n,...s},a)=>A.createElement(QY,{ref:a,iconNode:e,className:uj(`lucide-${GY(J4(t))}`,`lucide-${t}`,n),...s}));return r.displayName=J4(t),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],eK=dj("ban",ZY);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rK=dj("circle-check-big",tK),nK=[{name:"United States",code:"US",status:"allowed"},{name:"United Kingdom",code:"UK",status:"allowed"},{name:"France",code:"FR",status:"allowed"},{name:"Italy",code:"IT",status:"allowed"},{name:"Spain",code:"ES",status:"allowed"},{name:"Portugal",code:"PT",status:"allowed"},{name:"Greece",code:"GR",status:"allowed"},{name:"Brazil",code:"BR",status:"allowed"},{name:"Argentina",code:"AR",status:"allowed"},{name:"Chile",code:"CL",status:"allowed"},{name:"Mexico",code:"MX",status:"allowed"},{name:"Colombia",code:"CO",status:"allowed"},{name:"Peru",code:"PE",status:"allowed"},{name:"Venezuela",code:"VE",status:"allowed"},{name:"Ecuador",code:"EC",status:"allowed"},{name:"Bolivia",code:"BO",status:"allowed"},{name:"Paraguay",code:"PY",status:"allowed"},{name:"Uruguay",code:"UY",status:"allowed"},{name:"Saudi Arabia",code:"SA",status:"allowed"},{name:"United Arab Emirates",code:"AE",status:"allowed"},{name:"Qatar",code:"QA",status:"allowed"},{name:"Kuwait",code:"KW",status:"allowed"},{name:"Bahrain",code:"BH",status:"allowed"},{name:"Oman",code:"OM",status:"allowed"},{name:"Jordan",code:"JO",status:"allowed"},{name:"Canada",code:"CA",status:"allowed"},{name:"Ukraine",code:"UA",status:"allowed"},{name:"Switzerland",code:"CH",status:"allowed"},{name:"Singapore",code:"SG",status:"allowed"},{name:"Romania",code:"RO",status:"allowed"},{name:"Netherlands",code:"NL",status:"allowed"},{name:"New Zealand",code:"NZ",status:"allowed"},{name:"Pakistan",code:"PK",status:"blocked"},{name:"Sri Lanka",code:"LK",status:"blocked"},{name:"Nepal",code:"NP",status:"blocked"},{name:"China",code:"CN",status:"blocked"},{name:"Hong Kong",code:"HK",status:"blocked"},{name:"Russia",code:"RU",status:"blocked"},{name:"Philippines",code:"PH",status:"blocked"},{name:"Japan",code:"JP",status:"blocked"},{name:"Vietnam",code:"VN",status:"blocked"},{name:"Bangladesh",code:"BD",status:"blocked"},{name:"Afghanistan",code:"AF",status:"blocked"},{name:"Tajikistan",code:"TJ",status:"blocked"},{name:"Kazakhstan",code:"KZ",status:"blocked"},{name:"Kyrgyzstan",code:"KG",status:"blocked"},{name:"Turkmenistan",code:"TM",status:"blocked"},{name:"Papua New Guinea",code:"PG",status:"blocked"},{name:"Myanmar",code:"MM",status:"blocked"},{name:"Indonesia",code:"ID",status:"blocked"},{name:"Iran",code:"IR",status:"blocked"},{name:"Iraq",code:"IQ",status:"blocked"},{name:"Israel",code:"IL",status:"blocked"},{name:"Lebanon",code:"LB",status:"blocked"},{name:"Palestine",code:"PS",status:"blocked"},{name:"Syria",code:"SY",status:"blocked"},{name:"Turkey",code:"TR",status:"blocked"},{name:"Yemen",code:"YE",status:"blocked"},{name:"Zimbabwe",code:"ZW",status:"blocked"}],sK=()=>{const[t,e]=A.useState("all"),r=nK.filter(n=>t==="all"?!0:n.status===t);return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Lead Geo-Permission Matrix "}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{className:`px-4 py-2 rounded-xl ${t==="all"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>e("all"),children:"All"}),i.jsx("button",{className:`px-4 py-2 rounded-xl ${t==="allowed"?"bg-green-600 text-white":"bg-gray-200"}`,onClick:()=>e("allowed"),children:"Allowed "}),i.jsx("button",{className:`px-4 py-2 rounded-xl ${t==="blocked"?"bg-red-600 text-white":"bg-gray-200"}`,onClick:()=>e("blocked"),children:"Blocked "})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(n=>i.jsx(YY,{className:"rounded-2xl shadow-md",children:i.jsxs(KY,{className:"p-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold",children:n.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Code: ",n.code]})]}),n.status==="allowed"?i.jsx(rK,{className:"text-green-500 w-6 h-6"}):i.jsx(eK,{className:"text-red-500 w-6 h-6"})]})},n.code))})]})},aK=()=>{const t=[{id:1,name:"Parichay Singh",position:"CEO & Founder",email:"sales@traincapetech.info",phone:"+91 6280281505",linkedin:"https://www.linkedin.com/in/parichay-singh-rana?lipi=urn%3Ali%3Apage%3Ad_flagship3_profile_view_base_contact_details%3B%2BLVd4W1EQj2KhxGQFwlQuQ%3D%3D",image:"https://i.pravatar.cc/300?img=11",icon:i.jsx(t6,{className:"text-3xl text-blue-700"})},{id:2,name:"Shivam Singh",position:"Operations Manager",email:"shivam@traincapetech.in",phone:"+91 9354364160",image:"https://i.pravatar.cc/300?img=13",icon:i.jsx(Qc,{className:"text-3xl text-green-600"})},{id:3,name:"Saurav Kumar",position:"Technical Lead",email:"saurav@traincapetech.in",phone:"+62 852-8223-3601",image:"https://i.pravatar.cc/300?img=12",icon:i.jsx(W5,{className:"text-3xl text-purple-600"})}];return i.jsxs(cr,{children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 py-10",children:i.jsxs("div",{className:"container mx-auto px-4 text-center text-white",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Management Contacts"}),i.jsx("p",{className:"text-lg max-w-2xl mx-auto",children:"Meet our leadership team at TrainCape Technology. Reach out to us directly for any questions or inquiries."})]})}),i.jsxs("div",{className:"container mx-auto px-4 py-12",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map(e=>i.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden transform transition-transform hover:-translate-y-1 hover:shadow-xl",children:[i.jsx("div",{className:"bg-gray-100 p-6 flex justify-center",children:e.image?i.jsx("img",{src:e.image,alt:e.name,className:"h-32 w-32 rounded-full object-cover border-4 border-white shadow-md"}):i.jsx("div",{className:"h-32 w-32 rounded-full bg-blue-100 flex items-center justify-center",children:e.icon||i.jsx(Qc,{className:"text-4xl text-blue-600"})})}),i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800",children:e.name}),i.jsx("p",{className:"text-blue-600 font-medium mb-4",children:e.position}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(yu,{className:"text-blue-600 mr-3"}),i.jsx("a",{href:`mailto:${e.email}`,className:"text-gray-700 hover:text-blue-600 transition",children:e.email})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Q5,{className:"text-blue-600 mr-3"}),i.jsx("a",{href:`tel:${e.phone}`,className:"text-gray-700 hover:text-blue-600 transition",children:e.phone})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(z5,{className:"text-blue-600 mr-3"}),i.jsx("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 hover:text-blue-600 transition",children:"LinkedIn Profile"})]})]})]})]},e.id))}),i.jsxs("div",{className:"mt-16 bg-white rounded-lg shadow-lg p-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"General Contact Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-3",children:"Main Office"}),i.jsx("p",{className:"text-gray-600 mb-1",children:"123 Tech Boulevard"}),i.jsx("p",{className:"text-gray-600 mb-1",children:"Suite 456"}),i.jsx("p",{className:"text-gray-600 mb-1",children:"San Francisco, CA 94105"}),i.jsx("p",{className:"text-gray-600",children:"United States"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-3",children:"Contact Details"}),i.jsxs("p",{className:"text-gray-600 mb-1",children:[i.jsx("span",{className:"font-medium",children:"General Inquiries:"})," info@traincapetech.com"]}),i.jsxs("p",{className:"text-gray-600 mb-1",children:[i.jsx("span",{className:"font-medium",children:"Customer Support:"})," support@traincapetech.com"]}),i.jsxs("p",{className:"text-gray-600 mb-1",children:[i.jsx("span",{className:"font-medium",children:"Phone:"})," +1 (123) 456-7800"]}),i.jsxs("p",{className:"text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Working Hours:"})," Monday-Friday, 9AM-6PM PST"]})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-3",children:"Send Us a Message"}),i.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4",children:i.jsx("p",{className:"text-blue-700",children:"For any questions or inquiries, please feel free to reach out to our team through the contact information provided above. We strive to respond to all messages within 24 business hours."})})]})]})]})]})},Mp={generateContent:(t,e={})=>(console.log("Calling geminiAPI.generateContent() with prompt:",t),pt.post("/api/gemini/generate",{prompt:t,options:e})),generateContentWithImage:(t,e)=>(console.log("Calling geminiAPI.generateContentWithImage()"),pt.post("/api/gemini/generate-with-image",{prompt:t,imageData:e})),chatWithGemini:t=>(console.log("Calling geminiAPI.chatWithGemini() with messages:",t.length),pt.post("/api/gemini/chat",{messages:t}))},fj=({isFloating:t=!1})=>{const[e,r]=A.useState(""),[n,s]=A.useState(""),[a,o]=A.useState(!1),[c,d]=A.useState([]),[f,h]=A.useState(!1),p=A.useRef(null),[g,x]=A.useState(null),[w,b]=A.useState(null),v=async T=>{var M,C;if(T.preventDefault(),!e.trim()){lt.error("Please enter a prompt");return}o(!0),s("");try{let P;if(f){const I=[...c,{role:"user",parts:e}];d(I),P=await Mp.chatWithGemini(I),d([...I,{role:"model",parts:P.data.data}])}else g?P=await Mp.generateContentWithImage(e,g):P=await Mp.generateContent(e);s(P.data.data)}catch(P){console.error("Error generating content:",P),lt.error(((C=(M=P.response)==null?void 0:M.data)==null?void 0:C.error)||"Failed to generate content")}finally{o(!1)}},N=T=>{const M=T.target.files[0];if(!M)return;if(M.size>10*1024*1024){lt.error("Image size should be less than 10MB");return}const C=new FileReader;C.onload=()=>{b(C.result);const P=C.result.split(",")[1];x(P)},C.readAsDataURL(M)},E=()=>{x(null),b(null),p.current&&(p.current.value="")},j=()=>{h(!f),d([]),s("")},D=()=>{d([]),s("")};return i.jsxs("div",{className:`${t?"":"p-4 bg-white rounded-lg shadow-md"}`,children:[!t&&i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gemini AI Assistant"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("button",{onClick:j,className:`mr-2 px-4 py-2 rounded ${f?"bg-blue-600 text-white":"bg-gray-200"} ${t?"text-sm px-2 py-1":""}`,children:"Chat Mode"}),i.jsx("button",{onClick:j,className:`px-4 py-2 rounded ${f?"bg-gray-200":"bg-blue-600 text-white"} ${t?"text-sm px-2 py-1":""}`,disabled:g&&!f,children:"Single Prompt Mode"})]}),f&&i.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg max-h-96 overflow-y-auto",children:[c.length===0?i.jsx("p",{className:"text-gray-500",children:"Start a conversation with Gemini..."}):c.map((T,M)=>i.jsxs("div",{className:`mb-3 p-3 rounded-lg ${T.role==="user"?"bg-blue-100 ml-12":"bg-gray-200 mr-12"}`,children:[i.jsx("p",{className:"text-sm font-semibold mb-1",children:T.role==="user"?"You":"Gemini"}),i.jsx("p",{children:T.parts})]},M)),c.length>0&&i.jsx("button",{onClick:D,className:"text-sm text-red-600 hover:underline",children:"Clear Chat History"})]}),!f&&!g&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"image-upload",className:"block text-sm font-medium text-gray-700 mb-2",children:"Add an image (optional)"}),i.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:N,ref:p,className:`block w-full text-sm text-gray-500
                      file:mr-4 file:py-2 file:px-4
                      file:rounded-full file:border-0
                      file:text-sm file:font-semibold
                      file:bg-blue-50 file:text-blue-700
                      hover:file:bg-blue-100`})]}),w&&i.jsxs("div",{className:"mb-4 relative",children:[i.jsx("img",{src:w,alt:"Preview",className:"w-full max-h-64 object-contain rounded-lg"}),i.jsx("button",{onClick:E,className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1","aria-label":"Remove image",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),i.jsxs("form",{onSubmit:v,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"prompt",className:"block text-sm font-medium text-gray-700 mb-2",children:f?"Your Message":"Prompt"}),i.jsx("textarea",{id:"prompt",rows:"4",value:e,onChange:T=>r(T.target.value),placeholder:f?"Type your message here...":"Enter your prompt for Gemini...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsx("button",{type:"submit",disabled:a,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-blue-300",children:a?"Processing...":f?"Send Message":g?"Analyze Image & Text":"Generate Content"})]}),!f&&n&&i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Gemini Response:"}),i.jsx("div",{className:"p-4 bg-gray-50 rounded-lg whitespace-pre-wrap",children:n})]})]})},iK=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"AI Assistant"}),i.jsx("p",{className:"text-gray-600",children:"Get help with customer inquiries, generate content, analyze images, and more using Google's Gemini AI."})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[i.jsx("div",{children:i.jsx(fj,{})}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"How Gemini AI Can Help You"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Customer Support"}),i.jsx("p",{className:"text-gray-600",children:"Draft personalized responses to customer inquiries, create follow-up emails, and generate helpful content."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Content Creation"}),i.jsx("p",{className:"text-gray-600",children:"Generate product descriptions, marketing copy, social media posts, and other content for your business."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Data Analysis"}),i.jsx("p",{className:"text-gray-600",children:"Ask questions about your business data and get AI-powered insights and recommendations."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Image Analysis"}),i.jsx("p",{className:"text-gray-600",children:"Upload images for analysis, description, or to extract information contained in visuals."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Conversation Mode"}),i.jsx("p",{className:"text-gray-600",children:"Have a multi-turn conversation with the AI to refine ideas or explore complex topics in depth."})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Pro Tips"}),i.jsxs("ul",{className:"list-disc list-inside text-blue-700 space-y-2 mt-2",children:[i.jsx("li",{children:"Be specific in your prompts for better results"}),i.jsx("li",{children:"For image analysis, use clear, high-quality images"}),i.jsx("li",{children:"In chat mode, you can reference previous messages"}),i.jsx("li",{children:"Try different ways of asking to get varied responses"}),i.jsx("li",{children:"Save useful responses for future reference"})]})]})]})]})]}),oK=()=>{const{user:t}=Yt(),[e,r]=A.useState([]),[n,s]=A.useState(!0),[a,o]=A.useState(null),[c,d]=A.useState(!1),[f,h]=A.useState(null),[p,g]=A.useState({fullName:"",email:"",password:"",role:"Sales Person"}),[x,w]=A.useState({totalUsers:0,totalSales:0,totalLeads:0,userCounts:{salesPerson:0,leadPerson:0,manager:0,admin:0}}),b=(t==null?void 0:t.role)==="Admin";A.useEffect(()=>{N(),v()},[]);const v=async()=>{try{let C=0,P=0;try{C=await MS(),console.log("Manager Dashboard - Got direct sales count:",C)}catch(I){console.error("Manager Dashboard - Error getting direct sales count:",I)}try{const I=localStorage.getItem("token"),G=await It.get("https://crm-backend-o36v.onrender.com/api/leads",{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});G.data&&G.data.data&&Array.isArray(G.data.data)&&(P=G.data.data.length)}catch(I){console.error("Error fetching leads count:",I)}console.log("Final counts - Sales:",C,"Leads:",P),w(I=>({...I,totalSales:C,totalLeads:P,totalUsers:e.length,userCounts:{salesPerson:e.filter(G=>G.role==="Sales Person").length,leadPerson:e.filter(G=>G.role==="Lead Person").length,manager:e.filter(G=>G.role==="Manager").length,admin:e.filter(G=>G.role==="Admin").length}}))}catch(C){console.error("Error fetching dashboard stats:",C)}},N=async()=>{try{s(!0);const C=await mr.getUsers();C.data.success?(r(C.data.data),w(P=>({...P,totalUsers:C.data.data.length,userCounts:{salesPerson:C.data.data.filter(I=>I.role==="Sales Person").length,leadPerson:C.data.data.filter(I=>I.role==="Lead Person").length,manager:C.data.data.filter(I=>I.role==="Manager").length,admin:C.data.data.filter(I=>I.role==="Admin").length}}))):o("Failed to load users")}catch(C){console.error("Error fetching users:",C),o("Failed to load users. Please try again.")}finally{s(!1)}},E=C=>{g({...p,[C.target.name]:C.target.value})},j=async C=>{var P,I;if(C.preventDefault(),!b&&(p.role==="Admin"||f&&f.role==="Admin")){yr.error("Only Admins can manage Admin accounts");return}s(!0);try{let G;if(f){const J={...p};J.password||delete J.password,G=await mr.updateUser(f._id,J),yr.success("User updated successfully")}else G=await mr.createUser(p),yr.success("User created successfully");d(!1),M(),N()}catch(G){console.error("Error with user:",G),yr.error(((I=(P=G.response)==null?void 0:P.data)==null?void 0:I.message)||"Failed to process user")}finally{s(!1)}},D=async C=>{const P=e.find(I=>I._id===C);if(!b&&P.role==="Admin"){yr.error("Only Admins can delete Admin accounts");return}if(window.confirm("Are you sure you want to delete this user?"))try{s(!0),await mr.deleteUser(C),yr.success("User deleted successfully"),N()}catch(I){console.error("Error deleting user:",I),yr.error("Failed to delete user")}finally{s(!1)}},T=C=>{if(!b&&C.role==="Admin"){yr.error("Only Admins can edit Admin accounts");return}h(C),g({fullName:C.fullName,email:C.email,password:"",role:C.role}),d(!0)},M=()=>{g({fullName:"",email:"",password:"",role:"Sales Person"}),h(null)};return i.jsxs(cr,{children:[i.jsxs("div",{className:"container mx-auto p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Manager Dashboard"}),i.jsxs("button",{onClick:()=>{M(),d(!0)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[i.jsx(Qg,{className:"mr-2"})," Add New User"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Users"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:x.totalUsers})]}),i.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:i.jsx(r6,{className:"h-5 w-5 text-blue-600"})})]})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Sales"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:x.totalSales})]}),i.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:i.jsx(q5,{className:"h-5 w-5 text-green-600"})})]}),i.jsx("div",{className:"mt-2",children:i.jsx(wt,{to:"/sales-tracking",className:"text-sm text-blue-600 hover:underline",children:"View all sales"})})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Leads"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:x.totalLeads})]}),i.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:i.jsx(Y5,{className:"h-5 w-5 text-yellow-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Team Breakdown"}),i.jsxs("p",{className:"text-sm mt-1",children:["Sales: ",x.userCounts.salesPerson]}),i.jsxs("p",{className:"text-sm",children:["Leads: ",x.userCounts.leadPerson]})]}),i.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:i.jsx(US,{className:"h-5 w-5 text-purple-600"})})]})})]}),i.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Management"}),!b&&i.jsxs("div",{className:"bg-yellow-50 border border-yellow-400 text-yellow-700 px-4 py-3 rounded relative mb-4",children:[i.jsx("strong",{children:"Note:"})," As a Manager, you cannot modify Admin accounts."]}),n&&!c?i.jsx("div",{className:"flex justify-center items-center h-32",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a?i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:a}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-500",children:"No users found"})}):e.map(C=>i.jsxs("tr",{className:`hover:bg-gray-50 ${!b&&C.role==="Admin"?"bg-gray-50":""}`,children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.fullName}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.email}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                            ${C.role==="Admin"?"bg-purple-100 text-purple-800":C.role==="Manager"?"bg-blue-100 text-blue-800":C.role==="Lead Person"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:C.role})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsx("div",{className:"flex space-x-3",children:!b&&C.role==="Admin"?i.jsx("span",{className:"text-gray-400",title:"Admin users can only be managed by other Admins",children:i.jsx(G5,{className:"h-5 w-5"})}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>T(C),className:"text-indigo-600 hover:text-indigo-900",title:"Edit user",children:i.jsx(Wu,{className:"h-5 w-5"})}),i.jsx("button",{onClick:()=>D(C._id),className:"text-red-600 hover:text-red-900",title:"Delete user",children:i.jsx(Zg,{className:"h-5 w-5"})})]})})})]},C._id))})]})})]})]}),c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:f?"Edit User":"Add New User"}),i.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:i.jsx(vu,{className:"h-5 w-5"})})]}),i.jsxs("form",{onSubmit:j,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",name:"fullName",value:p.fullName,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{type:"email",name:"email",value:p.email,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f?"Password (leave empty to keep current)":"Password"}),i.jsx("input",{type:"password",name:"password",value:p.password,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",required:!f})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),i.jsxs("select",{name:"role",value:p.role,onChange:E,className:"w-full p-2 border border-gray-300 rounded-md",disabled:!b&&p.role==="Admin",children:[i.jsx("option",{value:"Sales Person",children:"Sales Person"}),i.jsx("option",{value:"Lead Person",children:"Lead Person"}),i.jsx("option",{value:"Manager",children:"Manager"}),b&&i.jsx("option",{value:"Admin",children:"Admin"})]}),!b&&i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Only Admins can create or modify Admin accounts"})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:n||!b&&p.role==="Admin",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:n?"Processing...":f?"Update User":"Add User"})]})]})]})})]})},lK=()=>{const{user:t}=Yt(),[e,r]=A.useState([]),[n,s]=A.useState(!1),[a,o]=A.useState(null);A.useEffect(()=>{const x=()=>{const b=So.getStatus();o(b)};x();const w=setInterval(x,2e3);return()=>clearInterval(w)},[]);const c=async()=>{try{s(!0);const w=await(await fetch("/api/test-exam/upcoming-exams")).json();w.success?r(w.data):lt.error("Failed to fetch upcoming exams")}catch(x){console.error("Error fetching upcoming exams:",x),lt.error("Error fetching upcoming exams")}finally{s(!1)}},d=async(x=11)=>{try{s(!0);const b=await(await fetch("/api/test-exam/create-exam",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({course:`React Development ${Date.now()}`,minutesFromNow:x,userEmail:t.email})})).json();b.success?(lt.success(b.message),c()):lt.error(b.message)}catch(w){console.error("Error creating test exam:",w),lt.error("Error creating test exam")}finally{s(!1)}},f=async()=>{try{s(!0);const w=await(await fetch("/api/test-exam/trigger-notifications",{method:"POST"})).json();w.success?lt.success("Notification check triggered!"):lt.error(w.message)}catch(x){console.error("Error triggering notifications:",x),lt.error("Error triggering notifications")}finally{s(!1)}},h=async()=>{try{s(!0);const w=await(await fetch("/api/test-exam/cleanup-test-exams",{method:"DELETE"})).json();w.success?(lt.success(w.message),c()):lt.error(w.message)}catch(x){console.error("Error cleaning up test exams:",x),lt.error("Error cleaning up test exams")}finally{s(!1)}},p=()=>{So.playNotificationSound(),lt.success(" Audio test played!")},g=async()=>{await So.requestNotificationPermission()?lt.success(" Notification permission granted!"):lt.error(" Notification permission denied")};return A.useEffect(()=>{c()},[]),i.jsx(cr,{children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:" Exam Notification Testing"}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Connection Status"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:`w-3 h-3 rounded-full ${a!=null&&a.isConnected?"bg-green-500":"bg-red-500"}`}),i.jsx("span",{className:"font-medium",children:"WebSocket:"}),i.jsx("span",{className:a!=null&&a.isConnected?"text-green-600":"text-red-600",children:a!=null&&a.isConnected?"Connected":"Disconnected"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"font-medium",children:"User ID:"}),i.jsx("span",{className:"text-gray-600",children:(a==null?void 0:a.userId)||"Not set"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Test Controls"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx("button",{onClick:()=>d(11),disabled:n,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Create Test Exam (11 min)"}),i.jsx("button",{onClick:()=>d(2),disabled:n,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Quick Test (2 min)"}),i.jsx("button",{onClick:f,disabled:n,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Trigger Notifications"}),i.jsx("button",{onClick:p,disabled:n,className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Test Audio"}),i.jsx("button",{onClick:g,disabled:n,className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Request Permission"}),i.jsx("button",{onClick:h,disabled:n,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Cleanup Test Exams"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:" Upcoming Exams"}),i.jsx("button",{onClick:c,disabled:n,className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm disabled:opacity-50",children:" Refresh"})]}),n?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):e.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx("p",{children:"No upcoming exams found"}),i.jsx("p",{className:"text-sm mt-2",children:"Create a test exam to see notifications in action!"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam Time"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minutes Until"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reminder Sent"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(x=>{var w;return i.jsxs("tr",{className:x.minutesUntilExam<=10?"bg-red-50":"",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.course}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(x.examDateTime).toLocaleString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((w=x.assignedTo)==null?void 0:w.name)||"Unassigned"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${x.minutesUntilExam<=10?"bg-red-100 text-red-800":x.minutesUntilExam<=30?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[x.minutesUntilExam," min"]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${x.reminderSent?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.reminderSent?" Sent":" Pending"})})]},x.id)})})]})})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mt-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:" How to Test"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-700",children:[i.jsx("li",{children:'Click "Request Permission" to enable browser notifications'}),i.jsx("li",{children:'Create a test exam using "Create Test Exam (11 min)" - this will trigger a notification in 1 minute'}),i.jsx("li",{children:'For immediate testing, use "Quick Test (2 min)" and then "Trigger Notifications"'}),i.jsx("li",{children:"Watch for:"}),i.jsxs("ul",{className:"list-disc list-inside ml-6 mt-1 space-y-1",children:[i.jsx("li",{children:" Audio beep sounds"}),i.jsx("li",{children:" Toast notifications in the app"}),i.jsx("li",{children:" Browser notifications (if permission granted)"}),i.jsx("li",{children:" Email notifications (check your email)"})]}),i.jsx("li",{children:'Use "Cleanup Test Exams" to remove test data when done'})]})]})]})})})},hj=A.createContext(),b1=()=>{const t=A.useContext(hj);if(!t)throw new Error("useChat must be used within a ChatProvider");return t},cK=({children:t})=>{const{user:e,token:r}=Yt(),[n,s]=A.useState(null),[a,o]=A.useState(!1),[c,d]=A.useState([]),[f,h]=A.useState([]),[p,g]=A.useState(null),[x,w]=A.useState({}),[b,v]=A.useState({}),[N,E]=A.useState({}),[j,D]=A.useState(!1),T=A.useRef(null),M=A.useRef({});A.useEffect(()=>{if(e&&r){const K="https://crm-backend-o36v.onrender.com";console.log(" Connecting to chat server:",K),console.log(" User:",e.fullName,"Role:",e.role),console.log(" Token present:",!!r);const W=Cl(K,{transports:["websocket","polling"],timeout:2e4,forceNew:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5,maxReconnectionAttempts:5,auth:{token:r},query:{userId:e._id,userRole:e.role}});return W.on("connect",()=>{console.log(" Connected to chat server"),o(!0),W.emit("join-user-room",e._id),console.log(" Joined user room:",e._id),I("ONLINE"),H(),G()}),W.on("connect_error",Y=>{console.error(" Socket connection error:",Y),o(!1),yr.error("Failed to connect to chat server. Please refresh the page.")}),W.on("disconnect",Y=>{console.log(" Disconnected from chat server:",Y),o(!1),Y==="io server disconnect"&&W.connect()}),W.on("reconnect",Y=>{console.log(" Reconnected to chat server, attempt:",Y),o(!0),W.emit("join-user-room",e._id),I("ONLINE"),yr.success("Reconnected to chat server")}),W.on("newMessage",Y=>{w(oe=>({...oe,[Y.chatId]:[...oe[Y.chatId]||[],Y]})),(!p||p.chatId!==Y.chatId)&&v(oe=>({...oe,[Y.senderId._id]:(oe[Y.senderId._id]||0)+1})),h(oe=>oe.map(se=>se.chatId===Y.chatId?{...se,lastMessage:Y.content,lastMessageTime:Y.timestamp}:se))}),W.on("messageNotification",Y=>{j||yr.info(`New message from ${Y.senderName}: ${Y.content.substring(0,50)}...`)}),W.on("userStatusUpdate",Y=>{d(oe=>oe.map(se=>se._id===Y.userId?{...se,chatStatus:Y.status,lastSeen:Y.lastSeen}:se)),h(oe=>oe.map(se=>se.otherUser._id===Y.userId?{...se,otherUser:{...se.otherUser,chatStatus:Y.status,lastSeen:Y.lastSeen}}:se))}),W.on("userTyping",Y=>{const{senderId:oe,isTyping:se}=Y;E(X=>({...X,[oe]:se})),se&&(M.current[oe]&&clearTimeout(M.current[oe]),M.current[oe]=setTimeout(()=>{E(X=>({...X,[oe]:!1}))},3e3))}),W.on("messageDelivered",Y=>{console.log("Message delivered:",Y)}),W.on("messageError",Y=>{yr.error(`Failed to send message: ${Y.error}`)}),s(W),T.current=W,()=>{W.close(),s(null),T.current=null,o(!1)}}},[e,r]);const C=(K,W,Y="text")=>{if(n&&e){const oe={senderId:e._id,recipientId:K,content:W,messageType:Y};n.emit("sendMessage",oe);const se=[e._id,K].sort().join("_"),X={_id:Date.now().toString(),chatId:se,senderId:e,recipientId:{_id:K},content:W,messageType:Y,timestamp:new Date,isRead:!1,isOptimistic:!0};w(F=>({...F,[se]:[...F[se]||[],X]}))}},P=(K,W)=>{n&&e&&n.emit("typing",{senderId:e._id,recipientId:K,isTyping:W})},I=K=>{n&&e&&n.emit("updateStatus",{userId:e._id,status:K})},G=async()=>{try{const W=await fetch("https://crm-backend-o36v.onrender.com/api/chat/rooms",{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(W.ok){const Y=await W.json();h(Y.data);const oe={};Y.data.forEach(se=>{se.unreadCount>0&&(oe[se.otherUser._id]=se.unreadCount)}),v(oe)}}catch(K){console.error("Error fetching chat rooms:",K)}},J=async K=>{try{const Y=await fetch(`https://crm-backend-o36v.onrender.com/api/chat/messages/${K}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(Y.ok){const oe=await Y.json(),se=[e._id,K].sort().join("_");w(X=>({...X,[se]:oe.data})),v(X=>({...X,[K]:0}))}}catch(W){console.error("Error fetching messages:",W)}},H=async()=>{try{const W=await fetch("https://crm-backend-o36v.onrender.com/api/chat/users",{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(W.ok){const Y=await W.json();d(Y.data)}}catch(K){console.error("Error fetching users:",K)}},O={socket:n,isConnected:a,onlineUsers:c,chatRooms:f,activeChat:p,messages:x,unreadCounts:b,typingUsers:N,isChatOpen:j,sendMessage:C,sendTypingIndicator:P,updateUserStatus:I,fetchChatRooms:G,fetchMessages:J,fetchAllUsers:H,startChat:async K=>{g({chatId:[e._id,K._id].sort().join("_"),otherUser:K}),await J(K._id),D(!0)},closeChat:()=>{g(null),D(!1)},setIsChatOpen:D};return i.jsx(hj.Provider,{value:O,children:t})},uK=()=>{var d;const{user:t}=Yt(),{setIsChatOpen:e,onlineUsers:r,unreadCounts:n}=b1(),[s,a]=A.useState([]);A.useEffect(()=>{const f=r.filter(h=>h.role!=="Customer");a(f)},[r]);const o=Object.values(n).reduce((f,h)=>f+h,0),c=()=>{e(!0)};return i.jsx(cr,{children:i.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Welcome, ",t==null?void 0:t.fullName,"!"]}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Your customer portal - Chat with our team and get support"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Customer ID"}),i.jsx("div",{className:"font-mono text-sm",children:(d=t==null?void 0:t._id)==null?void 0:d.slice(-8)})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[i.jsx(Jc,{className:"mr-2 text-blue-600"}),"Chat with Support Team"]}),o>0&&i.jsxs("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-sm",children:[o," new messages"]})]}),i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"mb-4",children:i.jsx(Jc,{className:"mx-auto text-6xl text-blue-200"})}),i.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Need Help? Start a Conversation"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Our support team is here to help you. Click below to start chatting."}),i.jsx("button",{onClick:c,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Open Chat"})]}),s.length>0&&i.jsxs("div",{className:"mt-6 border-t pt-4",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Support Team Online (",s.length,")"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.slice(0,5).map(f=>i.jsxs("div",{className:"flex items-center bg-green-50 px-3 py-1 rounded-full",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),i.jsx("span",{className:"text-sm text-green-700",children:f.fullName}),i.jsxs("span",{className:"text-xs text-green-600 ml-1",children:["(",f.role,")"]})]},f._id)),s.length>5&&i.jsx("div",{className:"flex items-center bg-gray-50 px-3 py-1 rounded-full",children:i.jsxs("span",{className:"text-sm text-gray-600",children:["+",s.length-5," more"]})})]})]})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Qc,{className:"mr-2 text-blue-600"}),"Account Information"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Qc,{className:"text-gray-400 mr-3"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Full Name"}),i.jsx("div",{className:"font-medium",children:t==null?void 0:t.fullName})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(yu,{className:"text-gray-400 mr-3"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Email"}),i.jsx("div",{className:"font-medium",children:t==null?void 0:t.email})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(BS,{className:"text-gray-400 mr-3"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Member Since"}),i.jsx("div",{className:"font-medium",children:t!=null&&t.createdAt?new Date(t.createdAt).toLocaleDateString():"N/A"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:c,className:"w-full bg-blue-50 hover:bg-blue-100 text-blue-700 px-4 py-3 rounded-lg text-left transition-colors",children:[i.jsx(Jc,{className:"inline mr-2"}),"Start New Chat"]}),i.jsxs("button",{onClick:()=>window.location.href="/profile",className:"w-full bg-gray-50 hover:bg-gray-100 text-gray-700 px-4 py-3 rounded-lg text-left transition-colors",children:[i.jsx(Qc,{className:"inline mr-2"}),"Edit Profile"]})]})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Need Help?"}),i.jsx("p",{className:"text-blue-700 text-sm mb-3",children:"Our support team is available to help you with any questions or issues."}),i.jsxs("div",{className:"text-sm text-blue-600",children:[i.jsx("div",{children:" Email: support@traincapetech.in"}),i.jsx("div",{children:" Hours: 9 AM - 6 PM (Mon-Fri)"}),i.jsx("div",{children:" Live Chat: Available now"})]})]})]})]})]})})})};function dK(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}},{tag:"polyline",attr:{points:"12 5 19 12 12 19"}}]})(t)}function fK(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(t)}function hK(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}},{tag:"polyline",attr:{points:"22,6 12,13 2,6"}}]})(t)}function mK(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(t)}function Q4(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(t)}function pK(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(t)}function gK(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(t)}function xK(t){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(t)}const yK=()=>{var G,J,H,ie,Z,O,K;const{user:t,token:e}=Yt(),[r,n]=A.useState([]),[s,a]=A.useState(!0),[o,c]=A.useState(!1),[d,f]=A.useState(!1),[h,p]=A.useState(null),[g,x]=A.useState({}),[w,b]=A.useState({search:"",status:"",source:"",priority:"",page:1,limit:10}),[v,N]=A.useState({}),E=async()=>{try{a(!0);const W=new URLSearchParams;Object.keys(w).forEach(oe=>{w[oe]&&W.append(oe,w[oe])});const Y=await It.get(`/api/prospects?${W}`,{headers:{Authorization:`Bearer ${e}`}});Y.data.success&&(n(Y.data.data),N(Y.data.pagination))}catch(W){console.error("Error fetching prospects:",W),lt.error("Failed to fetch prospects")}finally{a(!1)}},j=async()=>{try{const W=await It.get("/api/prospects/stats",{headers:{Authorization:`Bearer ${e}`}});W.data.success&&x(W.data.data)}catch(W){console.error("Error fetching stats:",W)}};A.useEffect(()=>{E(),j()},[w]);const D=W=>{b(Y=>({...Y,search:W.target.value,page:1}))},T=(W,Y)=>{b(oe=>({...oe,[W]:Y,page:1}))},M=async W=>{var Y,oe;if(window.confirm("Are you sure you want to delete this prospect?"))try{(await It.delete(`/api/prospects/${W}`,{headers:{Authorization:`Bearer ${e}`}})).data.success&&(lt.success("Prospect deleted successfully"),E(),j())}catch(se){console.error("Error deleting prospect:",se),lt.error(((oe=(Y=se.response)==null?void 0:Y.data)==null?void 0:oe.message)||"Failed to delete prospect")}},C=async W=>{var Y,oe;if(window.confirm("Convert this prospect to a lead?"))try{(await It.post(`/api/prospects/${W}/convert`,{},{headers:{Authorization:`Bearer ${e}`}})).data.success&&(lt.success("Prospect converted to lead successfully"),E(),j())}catch(se){console.error("Error converting prospect:",se),lt.error(((oe=(Y=se.response)==null?void 0:Y.data)==null?void 0:oe.message)||"Failed to convert prospect")}},P=({status:W})=>{const Y={New:"bg-blue-100 text-blue-800",Contacted:"bg-yellow-100 text-yellow-800",Interested:"bg-green-100 text-green-800","Not Interested":"bg-red-100 text-red-800","Follow Up":"bg-purple-100 text-purple-800",Qualified:"bg-indigo-100 text-indigo-800","Converted to Lead":"bg-emerald-100 text-emerald-800",Lost:"bg-gray-100 text-gray-800"};return i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y[W]||"bg-gray-100 text-gray-800"}`,children:W})},I=({priority:W})=>{const Y={High:"bg-red-100 text-red-800",Medium:"bg-yellow-100 text-yellow-800",Low:"bg-green-100 text-green-800"};return i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y[W]||"bg-gray-100 text-gray-800"}`,children:W})};return i.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Prospects"}),i.jsx("p",{className:"text-gray-600",children:"Manage your potential customers"})]}),i.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[i.jsx(Q4,{})," Add Prospect"]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((G=g.overview)==null?void 0:G.total)||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-500",children:((J=g.overview)==null?void 0:J.new)||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"New"})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:((H=g.overview)==null?void 0:H.contacted)||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Contacted"})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[i.jsx("div",{className:"text-2xl font-bold text-green-500",children:((ie=g.overview)==null?void 0:ie.interested)||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Interested"})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[i.jsx("div",{className:"text-2xl font-bold text-indigo-500",children:((Z=g.overview)==null?void 0:Z.qualified)||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Qualified"})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[i.jsx("div",{className:"text-2xl font-bold text-emerald-500",children:((O=g.overview)==null?void 0:O.converted)||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Converted"})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[i.jsx("div",{className:"text-2xl font-bold text-red-500",children:((K=g.overview)==null?void 0:K.lost)||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Lost"})]})]}),i.jsx("div",{className:"bg-white p-4 rounded-lg shadow border mb-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(pK,{className:"absolute left-3 top-3 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search prospects...",value:w.search,onChange:D,className:"pl-10 pr-4 py-2 border rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("select",{value:w.status,onChange:W=>T("status",W.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"New",children:"New"}),i.jsx("option",{value:"Contacted",children:"Contacted"}),i.jsx("option",{value:"Interested",children:"Interested"}),i.jsx("option",{value:"Not Interested",children:"Not Interested"}),i.jsx("option",{value:"Follow Up",children:"Follow Up"}),i.jsx("option",{value:"Qualified",children:"Qualified"}),i.jsx("option",{value:"Converted to Lead",children:"Converted to Lead"}),i.jsx("option",{value:"Lost",children:"Lost"})]}),i.jsxs("select",{value:w.source,onChange:W=>T("source",W.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"All Sources"}),i.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),i.jsx("option",{value:"Website",children:"Website"}),i.jsx("option",{value:"Referral",children:"Referral"}),i.jsx("option",{value:"Cold Call",children:"Cold Call"}),i.jsx("option",{value:"Email Campaign",children:"Email Campaign"}),i.jsx("option",{value:"Social Media",children:"Social Media"}),i.jsx("option",{value:"Event",children:"Event"}),i.jsx("option",{value:"Other",children:"Other"})]}),i.jsxs("select",{value:w.priority,onChange:W=>T("priority",W.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"All Priorities"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"Low",children:"Low"})]})]})})]}),i.jsx("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:s?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading prospects..."})]}):r.length===0?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(xK,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No prospects"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new prospect."}),i.jsx("div",{className:"mt-6",children:i.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 mx-auto",children:[i.jsx(Q4,{})," Add Prospect"]})})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(W=>{var Y;return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.name||"No Name"}),i.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[W.email&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(hK,{className:"w-3 h-3"}),W.email]}),W.phone&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(mK,{className:"w-3 h-3"}),W.phone]})]})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm text-gray-900",children:W.company||"-"}),i.jsx("div",{className:"text-sm text-gray-500",children:W.designation||"-"})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:W.source})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx(P,{status:W.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx(I,{priority:W.priority})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:((Y=W.assignedTo)==null?void 0:Y.fullName)||"Unassigned"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(W.createdAt).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>{p(W),f(!0)},className:"text-blue-600 hover:text-blue-900",title:"Edit",children:i.jsx(fK,{})}),W.status!=="Converted to Lead"&&i.jsx("button",{onClick:()=>C(W._id),className:"text-green-600 hover:text-green-900",title:"Convert to Lead",children:i.jsx(dK,{})}),["Admin","Manager"].includes(t==null?void 0:t.role)&&i.jsx("button",{onClick:()=>M(W._id),className:"text-red-600 hover:text-red-900",title:"Delete",children:i.jsx(gK,{})})]})})]},W._id)})})]})}),v.pages>1&&i.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[i.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[i.jsx("button",{onClick:()=>T("page",Math.max(1,w.page-1)),disabled:w.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),i.jsx("button",{onClick:()=>T("page",Math.min(v.pages,w.page+1)),disabled:w.page===v.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),i.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",i.jsx("span",{className:"font-medium",children:(w.page-1)*w.limit+1})," to"," ",i.jsx("span",{className:"font-medium",children:Math.min(w.page*w.limit,v.total)})," ","of ",i.jsx("span",{className:"font-medium",children:v.total})," results"]})}),i.jsx("div",{children:i.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:v.pages},(W,Y)=>Y+1).map(W=>i.jsx("button",{onClick:()=>T("page",W),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${W===w.page?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:W},W))})})]})]})]})}),(o||d)&&i.jsx(vK,{isOpen:o||d,onClose:()=>{c(!1),f(!1),p(null)},prospect:h,onSuccess:()=>{E(),j(),c(!1),f(!1),p(null)}})]})},vK=({isOpen:t,onClose:e,prospect:r,onSuccess:n})=>{const{user:s,token:a}=Yt(),[o,c]=A.useState(!1),[d,f]=A.useState([]),[h,p]=A.useState({name:"",email:"",phone:"",company:"",designation:"",source:"Other",sourceDetails:"",industry:"",companySize:"Unknown",budget:"",budgetCurrency:"USD",serviceInterest:"",requirements:"",timeline:"Not specified",status:"New",priority:"Medium",assignedTo:"",lastContactDate:"",nextFollowUpDate:"",contactMethod:"",notes:"",tags:"",linkedinProfile:"",websiteUrl:""});A.useEffect(()=>{var w,b;r&&p({name:r.name||"",email:r.email||"",phone:r.phone||"",company:r.company||"",designation:r.designation||"",source:r.source||"Other",sourceDetails:r.sourceDetails||"",industry:r.industry||"",companySize:r.companySize||"Unknown",budget:r.budget||"",budgetCurrency:r.budgetCurrency||"USD",serviceInterest:r.serviceInterest||"",requirements:r.requirements||"",timeline:r.timeline||"Not specified",status:r.status||"New",priority:r.priority||"Medium",assignedTo:((w=r.assignedTo)==null?void 0:w._id)||"",lastContactDate:r.lastContactDate?r.lastContactDate.split("T")[0]:"",nextFollowUpDate:r.nextFollowUpDate?r.nextFollowUpDate.split("T")[0]:"",contactMethod:r.contactMethod||"",notes:r.notes||"",tags:((b=r.tags)==null?void 0:b.join(", "))||"",linkedinProfile:r.linkedinProfile||"",websiteUrl:r.websiteUrl||""})},[r]),A.useEffect(()=>{(async()=>{try{const b=await It.get("/api/auth/users",{headers:{Authorization:`Bearer ${a}`}});b.data.success&&f(b.data.data.filter(v=>["Sales Person","Manager","Admin"].includes(v.role)))}catch(b){console.error("Error fetching users:",b)}})()},[a]);const g=async w=>{var b,v;w.preventDefault(),c(!0);try{const N={...h,budget:h.budget?parseFloat(h.budget):void 0,tags:h.tags?h.tags.split(",").map(T=>T.trim()).filter(Boolean):[],lastContactDate:h.lastContactDate||void 0,nextFollowUpDate:h.nextFollowUpDate||void 0};Object.keys(N).forEach(T=>{N[T]===""&&delete N[T]});const E=r?`/api/prospects/${r._id}`:"/api/prospects";(await It[r?"put":"post"](E,N,{headers:{Authorization:`Bearer ${a}`}})).data.success&&(lt.success(r?"Prospect updated successfully":"Prospect created successfully"),n())}catch(N){console.error("Error saving prospect:",N),lt.error(((v=(b=N.response)==null?void 0:b.data)==null?void 0:v.message)||"Failed to save prospect")}finally{c(!1)}},x=w=>{p(b=>({...b,[w.target.name]:w.target.value}))};return t?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r?"Edit Prospect":"Add New Prospect"}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:""})]}),i.jsxs("form",{onSubmit:g,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),i.jsx("input",{type:"text",name:"name",value:h.name,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Contact person name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{type:"email",name:"email",value:h.email,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsx("input",{type:"tel",name:"phone",value:h.phone,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+1 (555) 123-4567"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),i.jsx("input",{type:"text",name:"company",value:h.company,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Company name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation"}),i.jsx("input",{type:"text",name:"designation",value:h.designation,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Job title"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),i.jsx("input",{type:"text",name:"industry",value:h.industry,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Technology, Healthcare, etc."})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Source & Business Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),i.jsxs("select",{name:"source",value:h.source,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),i.jsx("option",{value:"Website",children:"Website"}),i.jsx("option",{value:"Referral",children:"Referral"}),i.jsx("option",{value:"Cold Call",children:"Cold Call"}),i.jsx("option",{value:"Email Campaign",children:"Email Campaign"}),i.jsx("option",{value:"Social Media",children:"Social Media"}),i.jsx("option",{value:"Event",children:"Event"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source Details"}),i.jsx("input",{type:"text",name:"sourceDetails",value:h.sourceDetails,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional source information"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Size"}),i.jsxs("select",{name:"companySize",value:h.companySize,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"1-10",children:"1-10"}),i.jsx("option",{value:"11-50",children:"11-50"}),i.jsx("option",{value:"51-200",children:"51-200"}),i.jsx("option",{value:"201-500",children:"201-500"}),i.jsx("option",{value:"501-1000",children:"501-1000"}),i.jsx("option",{value:"1000+",children:"1000+"}),i.jsx("option",{value:"Unknown",children:"Unknown"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),i.jsxs("div",{className:"flex",children:[i.jsxs("select",{name:"budgetCurrency",value:h.budgetCurrency,onChange:x,className:"px-3 py-2 border border-gray-300 rounded-l-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"USD",children:"USD"}),i.jsx("option",{value:"EUR",children:"EUR"}),i.jsx("option",{value:"GBP",children:"GBP"}),i.jsx("option",{value:"INR",children:"INR"})]}),i.jsx("input",{type:"number",name:"budget",value:h.budget,onChange:x,className:"flex-1 px-3 py-2 border border-l-0 border-gray-300 rounded-r-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Interest & Requirements"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Interest"}),i.jsx("input",{type:"text",name:"serviceInterest",value:h.serviceInterest,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"What services are they interested in?"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeline"}),i.jsxs("select",{name:"timeline",value:h.timeline,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"Immediate",children:"Immediate"}),i.jsx("option",{value:"Within 1 month",children:"Within 1 month"}),i.jsx("option",{value:"1-3 months",children:"1-3 months"}),i.jsx("option",{value:"3-6 months",children:"3-6 months"}),i.jsx("option",{value:"6+ months",children:"6+ months"}),i.jsx("option",{value:"Not specified",children:"Not specified"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requirements"}),i.jsx("textarea",{name:"requirements",value:h.requirements,onChange:x,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Detailed requirements and needs"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Status & Assignment"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsxs("select",{name:"status",value:h.status,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"New",children:"New"}),i.jsx("option",{value:"Contacted",children:"Contacted"}),i.jsx("option",{value:"Interested",children:"Interested"}),i.jsx("option",{value:"Not Interested",children:"Not Interested"}),i.jsx("option",{value:"Follow Up",children:"Follow Up"}),i.jsx("option",{value:"Qualified",children:"Qualified"}),i.jsx("option",{value:"Lost",children:"Lost"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),i.jsxs("select",{name:"priority",value:h.priority,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"Low",children:"Low"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned To"}),i.jsxs("select",{name:"assignedTo",value:h.assignedTo,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"Unassigned"}),d.map(w=>i.jsxs("option",{value:w._id,children:[w.fullName," (",w.role,")"]},w._id))]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Follow-up Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Contact Date"}),i.jsx("input",{type:"date",name:"lastContactDate",value:h.lastContactDate,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Follow-up Date"}),i.jsx("input",{type:"date",name:"nextFollowUpDate",value:h.nextFollowUpDate,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Method"}),i.jsxs("select",{name:"contactMethod",value:h.contactMethod,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"Select method"}),i.jsx("option",{value:"Email",children:"Email"}),i.jsx("option",{value:"Phone",children:"Phone"}),i.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),i.jsx("option",{value:"WhatsApp",children:"WhatsApp"}),i.jsx("option",{value:"Meeting",children:"Meeting"}),i.jsx("option",{value:"Other",children:"Other"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn Profile"}),i.jsx("input",{type:"url",name:"linkedinProfile",value:h.linkedinProfile,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://linkedin.com/in/username"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website URL"}),i.jsx("input",{type:"url",name:"websiteUrl",value:h.websiteUrl,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://company.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),i.jsx("input",{type:"text",name:"tags",value:h.tags,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"tag1, tag2, tag3"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Separate tags with commas"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),i.jsx("textarea",{name:"notes",value:h.notes,onChange:x,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes and observations"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[i.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),i.jsxs("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[o&&i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r?"Update Prospect":"Create Prospect"]})]})]})]})})}):null},bK=()=>i.jsxs(qE,{children:[i.jsx(Kt,{path:"/",element:i.jsx(C2,{})}),i.jsx(Kt,{path:"/login",element:i.jsx(tA,{})}),i.jsx(Kt,{path:"/signup",element:i.jsx(rA,{})}),i.jsx(Kt,{path:"/customer-signup",element:i.jsx(nA,{})}),i.jsx(Kt,{path:"/debug",element:i.jsx(X8,{})}),i.jsx(Kt,{path:"/forgot-password",element:i.jsx(R$,{})}),i.jsx(Kt,{path:"/tutorials",element:i.jsx(M$,{})}),i.jsx(Kt,{path:"/management-contacts",element:i.jsx(aK,{})}),i.jsx(Kt,{path:"/countries",element:i.jsx(sK,{})}),i.jsx(Kt,{path:"/customer",element:i.jsx(Yr,{allowedRoles:["Customer"],children:i.jsx(uK,{})})}),i.jsx(Kt,{path:"/ai-assistant",element:i.jsx(iK,{})}),i.jsx(Kt,{path:"/test-notifications",element:i.jsx(Yr,{allowedRoles:["Sales Person","Lead Person","Manager","Admin"],children:i.jsx(lK,{})})}),i.jsx(Kt,{path:"/manager",element:i.jsx(Yr,{allowedRoles:["Manager","Admin"],children:i.jsx(oK,{})})}),i.jsx(Kt,{path:"/leads",element:i.jsx(Yr,{allowedRoles:["Lead Person","Manager","Admin"],children:i.jsx(ZA,{})})}),i.jsx(Kt,{path:"/sales",element:i.jsx(Yr,{allowedRoles:["Sales Person","Manager","Admin"],children:i.jsx(e8,{})})}),i.jsx(Kt,{path:"/sales-tracking",element:i.jsx(Yr,{allowedRoles:["Sales Person","Manager","Admin"],children:i.jsx(B8,{})})}),i.jsx(Kt,{path:"/create-sale",element:i.jsx(Yr,{allowedRoles:["Sales Person","Manager","Admin"],children:i.jsx(U8,{})})}),i.jsx(Kt,{path:"/tasks",element:i.jsx(Yr,{allowedRoles:["Sales Person","Lead Person","Manager","Admin"],children:i.jsx(WY,{})})}),i.jsx(Kt,{path:"/profile",element:i.jsx(Yr,{allowedRoles:["Sales Person","Lead Person","Manager","Admin","Customer"],children:i.jsx(q8,{})})}),i.jsx(Kt,{path:"/admin",element:i.jsx(Yr,{allowedRoles:["Admin","Lead Person"],children:i.jsx(J8,{})})}),i.jsx(Kt,{path:"/admin/users",element:i.jsx(Yr,{allowedRoles:["Admin"],children:i.jsx(Q8,{})})}),i.jsx(Kt,{path:"/admin/leads",element:i.jsx(Yr,{allowedRoles:["Admin"],children:i.jsx(Z8,{})})}),i.jsx(Kt,{path:"/admin/import",element:i.jsx(Yr,{allowedRoles:["Admin"],children:i.jsx(eP,{})})}),i.jsx(Kt,{path:"/admin/reports",element:i.jsx(Yr,{allowedRoles:["Admin"],children:i.jsx(qU,{})})}),i.jsx(Kt,{path:"/repeat-customers",element:i.jsx(Yr,{allowedRoles:["Admin","Manager"],children:i.jsx($Y,{})})}),i.jsx(Kt,{path:"/lead-sales-sheet",element:i.jsx(Yr,{allowedRoles:["Lead Person","Manager","Admin"],children:i.jsx(F$,{})})}),i.jsx(Kt,{path:"/update-sales",element:i.jsx(Yr,{allowedRoles:["Lead Person","Manager","Admin"],children:i.jsx(O$,{})})}),i.jsx(Kt,{path:"/prospects",element:i.jsx(Yr,{allowedRoles:["Sales Person","Manager","Admin"],children:i.jsx(yK,{})})}),i.jsx(Kt,{path:"*",element:i.jsx(C2,{})})]}),wK=()=>{const[t,e]=A.useState(!1),r=Ba(),n=()=>{e(!t)},s=()=>{r("/ai-assistant")};return i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:n,className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-lg z-50 flex items-center justify-center transition-all duration-300 transform hover:scale-105","aria-label":"AI Assistant",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:[i.jsx("path",{d:"M18.53 9.29a1 1 0 00-1.06 0L12 12.34 6.53 9.29a1 1 0 00-1.06 0 1 1 0 00-.47.82v5.78a1 1 0 00.47.82 1 1 0 00.53.15 1 1 0 00.53-.15L12 13.66l5.47 3.05a1 1 0 00.53.15 1 1 0 00.53-.15 1 1 0 00.47-.82v-5.78a1 1 0 00-.47-.82z"}),i.jsx("path",{d:"M18.53 5.11a1 1 0 00-1.06 0L12 8.16 6.53 5.11a1 1 0 00-1.06 0 1 1 0 00-.47.82v1.55a1 1 0 00.47.82 1 1 0 00.53.15 1 1 0 00.53-.15L12 5.26l5.47 3.04a1 1 0 00.53.15 1 1 0 00.53-.15 1 1 0 00.47-.82V5.93a1 1 0 00-.47-.82z"})]})}),t&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Gemini AI Assistant"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:s,className:"p-2 text-gray-600 hover:text-gray-900",title:"Open in full page",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),i.jsx("button",{onClick:n,className:"p-2 text-gray-600 hover:text-gray-900",title:"Close",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i.jsx(fj,{isFloating:!0})})]})})]})},SK=()=>{const{user:t}=Yt(),{isConnected:e,onlineUsers:r,chatRooms:n,activeChat:s,messages:a,unreadCounts:o,typingUsers:c,isChatOpen:d,sendMessage:f,sendTypingIndicator:h,fetchChatRooms:p,fetchAllUsers:g,startChat:x,closeChat:w,setIsChatOpen:b}=b1(),[v,N]=A.useState(""),[E,j]=A.useState(!1),[D,T]=A.useState(""),M=A.useRef(null),C=A.useRef(null);A.useEffect(()=>{P()},[a,s]),A.useEffect(()=>{e&&(p(),g())},[e]);const P=()=>{var K;(K=M.current)==null||K.scrollIntoView({behavior:"smooth"})},I=K=>{K.preventDefault(),v.trim()&&s&&(f(s.otherUser._id,v.trim()),N(""))},G=K=>{N(K.target.value),s&&(h(s.otherUser._id,!0),C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{h(s.otherUser._id,!1)},1e3))},J=K=>new Date(K).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),H=K=>{const W=new Date,Y=new Date(K),oe=Math.floor((W-Y)/(1e3*60));return oe<1?"Just now":oe<60?`${oe}m ago`:oe<1440?`${Math.floor(oe/60)}h ago`:Y.toLocaleDateString()},ie=K=>{switch(K){case"ONLINE":return"#10b981";case"AWAY":return"#f59e0b";case"OFFLINE":return"#6b7280";default:return"#6b7280"}},Z=r.filter(K=>K.fullName.toLowerCase().includes(D.toLowerCase())||K.email.toLowerCase().includes(D.toLowerCase())),O=s?a[s.chatId]||[]:[];return d?i.jsxs("div",{className:"chat-window",children:[i.jsxs("div",{className:"chat-header",children:[i.jsxs("div",{className:"chat-header-left",children:[i.jsxs("h3",{children:[i.jsx("i",{className:"fas fa-comments"}),"Chat"]}),i.jsxs("div",{className:"connection-status",children:[i.jsx("span",{className:`status-indicator ${e?"connected":"disconnected"}`}),e?"Connected":"Connecting...",!e&&i.jsx("button",{className:"retry-connection",onClick:()=>window.location.reload(),title:"Retry connection",children:""})]})]}),i.jsxs("div",{className:"chat-header-actions",children:[i.jsx("button",{className:"btn-icon",onClick:()=>j(!E),title:"Start new chat",children:i.jsx("i",{className:"fas fa-plus"})}),i.jsx("button",{className:"btn-icon",onClick:()=>b(!1),title:"Minimize chat",children:i.jsx("i",{className:"fas fa-minus"})})]})]}),i.jsxs("div",{className:"chat-body",children:[E&&i.jsxs("div",{className:"user-list-sidebar",children:[i.jsxs("div",{className:"user-list-header",children:[i.jsx("h4",{children:"Start New Chat"}),i.jsx("button",{className:"btn-close",onClick:()=>j(!1),children:i.jsx("i",{className:"fas fa-times"})})]}),i.jsx("div",{className:"user-search",children:i.jsx("input",{type:"text",placeholder:"Search users...",value:D,onChange:K=>T(K.target.value),className:"search-input"})}),i.jsx("div",{className:"user-list",children:Z.map(K=>i.jsxs("div",{className:"user-item",onClick:()=>{x(K),j(!1)},children:[i.jsxs("div",{className:"user-avatar",children:[K.profilePicture?i.jsx("img",{src:K.profilePicture,alt:K.fullName}):i.jsx("div",{className:"avatar-placeholder",children:K.fullName.charAt(0).toUpperCase()}),i.jsx("span",{className:"status-dot",style:{backgroundColor:ie(K.chatStatus)}})]}),i.jsxs("div",{className:"user-info",children:[i.jsx("div",{className:"user-name",children:K.fullName}),i.jsx("div",{className:"user-role",children:K.role}),i.jsx("div",{className:"user-status",children:K.chatStatus==="ONLINE"?"Online":H(K.lastSeen)})]})]},K._id))})]}),i.jsxs("div",{className:"chat-rooms-list",children:[i.jsx("h4",{children:"Recent Chats"}),n.length===0?i.jsxs("div",{className:"no-chats",children:[i.jsx("p",{children:"No recent chats"}),i.jsx("button",{className:"btn-primary",onClick:()=>j(!0),children:"Start a conversation"})]}):n.map(K=>i.jsxs("div",{className:`chat-room-item ${(s==null?void 0:s.chatId)===K.chatId?"active":""}`,onClick:()=>x(K.otherUser),children:[i.jsxs("div",{className:"user-avatar",children:[K.otherUser.profilePicture?i.jsx("img",{src:K.otherUser.profilePicture,alt:K.otherUser.fullName}):i.jsx("div",{className:"avatar-placeholder",children:K.otherUser.fullName.charAt(0).toUpperCase()}),i.jsx("span",{className:"status-dot",style:{backgroundColor:ie(K.otherUser.chatStatus)}})]}),i.jsxs("div",{className:"room-info",children:[i.jsxs("div",{className:"room-header",children:[i.jsx("span",{className:"room-name",children:K.otherUser.fullName}),i.jsx("span",{className:"room-time",children:J(K.lastMessageTime)})]}),i.jsx("div",{className:"room-last-message",children:K.lastMessage||"No messages yet"})]}),o[K.otherUser._id]>0&&i.jsx("span",{className:"unread-count",children:o[K.otherUser._id]})]},K.chatId))]}),s&&i.jsxs("div",{className:"active-chat",children:[i.jsxs("div",{className:"chat-header-active",children:[i.jsxs("div",{className:"chat-user-info",children:[i.jsxs("div",{className:"user-avatar",children:[s.otherUser.profilePicture?i.jsx("img",{src:s.otherUser.profilePicture,alt:s.otherUser.fullName}):i.jsx("div",{className:"avatar-placeholder",children:s.otherUser.fullName.charAt(0).toUpperCase()}),i.jsx("span",{className:"status-dot",style:{backgroundColor:ie(s.otherUser.chatStatus)}})]}),i.jsxs("div",{children:[i.jsx("div",{className:"chat-user-name",children:s.otherUser.fullName}),i.jsx("div",{className:"chat-user-status",children:s.otherUser.chatStatus==="ONLINE"?"Online":`Last seen ${H(s.otherUser.lastSeen)}`})]})]}),i.jsx("button",{className:"btn-close",onClick:w,title:"Close chat",children:i.jsx("i",{className:"fas fa-times"})})]}),i.jsxs("div",{className:"messages-container",children:[O.map((K,W)=>i.jsxs("div",{className:`message ${K.senderId._id===t._id?"sent":"received"}`,children:[i.jsx("div",{className:"message-content",children:K.content}),i.jsxs("div",{className:"message-time",children:[J(K.timestamp),K.senderId._id===t._id&&i.jsx("span",{className:"message-status",children:K.isRead?i.jsx("i",{className:"fas fa-check-double read"}):i.jsx("i",{className:"fas fa-check"})})]})]},K._id)),c[s.otherUser._id]&&i.jsxs("div",{className:"typing-indicator",children:[i.jsxs("div",{className:"typing-dots",children:[i.jsx("span",{}),i.jsx("span",{}),i.jsx("span",{})]}),i.jsxs("span",{className:"typing-text",children:[s.otherUser.fullName," is typing..."]})]}),i.jsx("div",{ref:M})]}),i.jsx("form",{className:"message-input-form",onSubmit:I,children:i.jsxs("div",{className:"message-input-container",children:[i.jsx("input",{type:"text",value:v,onChange:G,placeholder:"Type a message...",className:"message-input",disabled:!e}),i.jsx("button",{type:"submit",className:"send-button",disabled:!v.trim()||!e,children:i.jsx("i",{className:"fas fa-paper-plane"})})]})})]})]})]}):i.jsxs("div",{className:"chat-toggle-button",onClick:()=>b(!0),children:[i.jsx("i",{className:"fas fa-comments"}),Object.values(o).reduce((K,W)=>K+W,0)>0&&i.jsx("span",{className:"unread-badge",children:Object.values(o).reduce((K,W)=>K+W,0)})]})},_K=()=>{const{user:t,token:e}=Yt(),{socket:r,isConnected:n}=b1(),[s,a]=A.useState(!1);if(!s)return i.jsx("button",{onClick:()=>a(!0),style:{position:"fixed",top:"10px",right:"10px",background:"#f59e0b",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",fontSize:"12px",cursor:"pointer",zIndex:9999},children:" Debug Chat"});const o=async()=>{try{const h=await fetch("https://crm-backend-o36v.onrender.com/api/chat/users",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(h.ok){const p=await h.json();alert(` API Connection OK! Found ${p.data.length} users`)}else alert(` API Error: ${h.status} ${h.statusText}`)}catch(f){alert(` Connection Error: ${f.message}`)}},c=()=>{r?(r.emit("test-connection",{message:"Hello from debug"}),alert(" Socket test message sent")):alert(" No socket connection available")},d=async()=>{"Notification"in window?await Notification.requestPermission()==="granted"?(new Notification("Chat Notifications Enabled!",{body:"You will now receive chat notifications.",icon:"/favicon.ico"}),alert(" Notifications enabled!")):alert(" Notifications denied"):alert(" Notifications not supported")};return i.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",background:"white",border:"2px solid #ccc",borderRadius:"8px",padding:"15px",zIndex:9999,minWidth:"300px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[i.jsx("h3",{style:{margin:"0 0 10px 0",color:"#333"},children:" Chat Debug"}),i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsx("strong",{children:"User:"})," ",(t==null?void 0:t.fullName)||"Not logged in"]}),i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsx("strong",{children:"Token:"})," ",e?" Present":" Missing",e&&i.jsxs("div",{style:{fontSize:"10px",color:"#666",marginTop:"2px"},children:[e.substring(0,20),"..."]})]}),i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsx("strong",{children:"Socket:"})," ",r?" Created":" Not created"]}),i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsx("strong",{children:"Connected:"})," ",n?" Yes":" No"]}),i.jsxs("div",{style:{marginBottom:"12px"},children:[i.jsx("strong",{children:"Server URL:"})," ","https://crm-backend-o36v.onrender.com"]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[i.jsx("button",{onClick:o,style:{padding:"8px 12px",background:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Test API Connection"}),i.jsx("button",{onClick:c,style:{padding:"8px 12px",background:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Test Socket Connection"}),i.jsx("button",{onClick:d,style:{padding:"8px 12px",background:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Request Permission"}),i.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"8px 12px",background:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}),i.jsx("div",{style:{marginTop:"12px",fontSize:"11px",color:"#6b7280"},children:" Check browser console for detailed logs"})]})},NK=()=>{const{user:t}=Yt();return A.useEffect(()=>{if(t&&t._id)return console.log(" Initializing notifications for user:",t.fullName),So.connect(t._id),So.requestNotificationPermission(),()=>{So.disconnect()}},[t]),null},CK=()=>i.jsx(rk,{children:i.jsx(L5,{children:i.jsx(cK,{children:i.jsxs("div",{className:"min-h-screen bg-white text-black dark:bg-gray-900 dark:text-white transition-colors duration-300",children:[i.jsx(NK,{}),i.jsx(bK,{}),i.jsx(wK,{}),i.jsx(SK,{}),i.jsx(_K,{}),i.jsx(QA,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})}),jK=nE.createRoot(document.getElementById("root"));jK.render(i.jsx(A.StrictMode,{children:i.jsx(sE,{children:i.jsx(CK,{})})}));
